/* Cinematic Theme Switcher */
.theme-switcher-root { position: relative; display: inline-block; }
.ts-button { 
  --ts-width: 72px;
  --ts-height: 40px;
  --ts-thumb-size: 28px;
  /* approximate shift accounting for padding (6px) */
  --ts-shift: calc((var(--ts-width) - var(--ts-thumb-size)) / 2 - 6px);
  position: relative; display: flex; align-items: center; justify-content: center; 
  height: var(--ts-height); width: var(--ts-width); border-radius: 9999px; padding: 6px; 
  transition: transform var(--transition-fast); outline: none; border: 2px solid transparent; 
}
.ts-button--light { border-color: rgba(203,213,225,0.6); }
.ts-button--dark { border-color: rgba(51,65,85,0.6); }

.ts-track { position: absolute; inset: 0; border-radius: inherit; }
.ts-track--light { background: radial-gradient(ellipse at top left, #ffffff 0%, #f1f5f9 40%, #cbd5e1 100%); box-shadow: inset 5px 5px 12px rgba(148,163,184,0.5), inset -5px -5px 12px rgba(255,255,255,1), inset 8px 8px 16px rgba(100,116,139,0.3), inset -8px -8px 16px rgba(255,255,255,0.9), inset 0 2px 4px rgba(148,163,184,0.4), inset 0 -2px 4px rgba(255,255,255,1), inset 0 0 20px rgba(203,213,225,0.3), 0 2px 4px rgba(0,0,0,0.1), 0 8px 16px rgba(0,0,0,0.08); }
.ts-track--dark { background: radial-gradient(ellipse at top left, #1e293b 0%, #0f172a 40%, #020617 100%); box-shadow: inset 5px 5px 12px rgba(0,0,0,0.9), inset -5px -5px 12px rgba(71,85,105,0.4), inset 8px 8px 16px rgba(0,0,0,0.7), inset -8px -8px 16px rgba(100,116,139,0.2), inset 0 2px 4px rgba(0,0,0,1), inset 0 -2px 4px rgba(71,85,105,0.4), inset 0 0 20px rgba(0,0,0,0.6), 0 2px 4px rgba(0,0,0,0.4), 0 8px 16px rgba(0,0,0,0.4); }

.ts-overlay { position: absolute; inset: 0; border-radius: inherit; pointer-events: none; }
.ts-overlay--gloss { background: radial-gradient(ellipse at top, rgba(255,255,255,0.7) 0%, transparent 50%), linear-gradient(to bottom, rgba(255,255,255,0.7) 0%, transparent 30%, transparent 70%, rgba(148,163,184,0.15) 100%); mix-blend-mode: overlay; }
.ts-button--dark .ts-overlay--gloss { background: radial-gradient(ellipse at top, rgba(71,85,105,0.15) 0%, transparent 50%), linear-gradient(to bottom, rgba(71,85,105,0.2) 0%, transparent 30%, transparent 70%, rgba(0,0,0,0.3) 100%); }
.ts-overlay--rim { box-shadow: inset 0 2px 6px rgba(100,116,139,0.4), inset 0 -1px 3px rgba(255,255,255,0.8); }
.ts-button--dark .ts-overlay--rim { box-shadow: inset 0 2px 6px rgba(0,0,0,0.9), inset 0 -1px 3px rgba(71,85,105,0.3); }

.ts-icons { position: absolute; inset: 0; display: flex; align-items: center; justify-content: space-between; padding: 0 10px; }
.ts-sun--bright { color: #d97706; }
.ts-sun--dim { color: #fde68a; }
.ts-moon--bright { color: #fde68a; }
.ts-moon--dim { color: #334155; }

.ts-thumb { position: relative; z-index: 10; height: var(--ts-thumb-size); width: var(--ts-thumb-size); border-radius: 9999px; overflow: hidden; transition: transform 300ms cubic-bezier(.2,.8,.2,1), box-shadow var(--transition-fast); border: 2px solid rgba(255,255,255,0.9); background: linear-gradient(145deg, #ffffff 0%, #fefefe 50%, #f8fafc 100%); box-shadow: inset 2px 2px 4px rgba(255,255,255,1), 0 8px 32px rgba(0,0,0,0.18), 0 4px 12px rgba(0,0,0,0.12), 0 2px 4px rgba(0,0,0,0.08); display: flex; align-items: center; justify-content: center; }
.ts-thumb--right { transform: translateX(var(--ts-shift)); }
.ts-thumb--left { transform: translateX(calc(-1 * var(--ts-shift))); }
.ts-button--dark .ts-thumb { border-color: rgba(148,163,184,0.3); background: linear-gradient(145deg, #64748b 0%, #475569 50%, #334155 100%); box-shadow: inset 2px 2px 4px rgba(100,116,139,0.4), inset -2px -2px 4px rgba(0,0,0,0.8), 0 8px 32px rgba(0,0,0,0.6), 0 4px 12px rgba(0,0,0,0.5), 0 2px 4px rgba(0,0,0,0.4); }

.ts-thumb-gloss { position: absolute; inset: 0; border-radius: inherit; background: linear-gradient(to bottom, rgba(255,255,255,0.4) 0%, transparent 40%, rgba(0,0,0,0.1) 100%); mix-blend-mode: overlay; pointer-events: none; }
.ts-thumb-icon { position: absolute; inset: 0; z-index: 10; display: flex; align-items: center; justify-content: center; line-height: 0; }
.ts-thumb-icon > svg { display: block; }
.ts-icon--sun { color: #d97706; }
.ts-icon--moon { color: #fde68a; }

/* Particles */
.ts-particle { position: absolute; left: 50%; top: 50%; width: 10px; height: 10px; border-radius: 9999px; transform: translate(-50%, -50%); opacity: 0; animation: ts-burst 0.6s ease-out; }
.ts-particle--light { background: radial-gradient(circle, rgba(251,191,36,0.7) 0%, rgba(251,191,36,0) 70%); }
.ts-particle--dark { background: radial-gradient(circle, rgba(147,197,253,0.5) 0%, rgba(147,197,253,0) 70%); }
.ts-particle--delay { animation-delay: .1s; }
.ts-particle--delay2 { animation-delay: .2s; }
@keyframes ts-burst { 0% { transform: translate(-50%, -50%) scale(0); opacity: 0; } 20% { opacity: 1; } 100% { transform: translate(-50%, -50%) scale(6); opacity: 0; } }

/* Focus/hover */
.ts-button:focus-visible { box-shadow: 0 0 0 3px rgba(59,130,246,0.35); }
.ts-button:active { transform: scale(0.98); }
