function _mergeNamespaces(Ve,$e){for(var Be=0;Be<$e.length;Be++){const Ue=$e[Be];if(typeof Ue!="string"&&!Array.isArray(Ue)){for(const ze in Ue)if(ze!=="default"&&!(ze in Ve)){const qe=Object.getOwnPropertyDescriptor(Ue,ze);qe&&Object.defineProperty(Ve,ze,qe.get?qe:{enumerable:!0,get:()=>Ue[ze]})}}}return Object.freeze(Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"}))}(function(){const $e=document.createElement("link").relList;if($e&&$e.supports&&$e.supports("modulepreload"))return;for(const ze of document.querySelectorAll('link[rel="modulepreload"]'))Ue(ze);new MutationObserver(ze=>{for(const qe of ze)if(qe.type==="childList")for(const He of qe.addedNodes)He.tagName==="LINK"&&He.rel==="modulepreload"&&Ue(He)}).observe(document,{childList:!0,subtree:!0});function Be(ze){const qe={};return ze.integrity&&(qe.integrity=ze.integrity),ze.referrerPolicy&&(qe.referrerPolicy=ze.referrerPolicy),ze.crossOrigin==="use-credentials"?qe.credentials="include":ze.crossOrigin==="anonymous"?qe.credentials="omit":qe.credentials="same-origin",qe}function Ue(ze){if(ze.ep)return;ze.ep=!0;const qe=Be(ze);fetch(ze.href,qe)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Ve){return Ve&&Ve.__esModule&&Object.prototype.hasOwnProperty.call(Ve,"default")?Ve.default:Ve}function getAugmentedNamespace(Ve){if(Object.prototype.hasOwnProperty.call(Ve,"__esModule"))return Ve;var $e=Ve.default;if(typeof $e=="function"){var Be=function Ue(){var ze=!1;try{ze=this instanceof Ue}catch{}return ze?Reflect.construct($e,arguments,this.constructor):$e.apply(this,arguments)};Be.prototype=$e.prototype}else Be={};return Object.defineProperty(Be,"__esModule",{value:!0}),Object.keys(Ve).forEach(function(Ue){var ze=Object.getOwnPropertyDescriptor(Ve,Ue);Object.defineProperty(Be,Ue,ze.get?ze:{enumerable:!0,get:function(){return Ve[Ue]}})}),Be}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var Ve=Symbol.for("react.transitional.element"),$e=Symbol.for("react.fragment");function Be(Ue,ze,qe){var He=null;if(qe!==void 0&&(He=""+qe),ze.key!==void 0&&(He=""+ze.key),"key"in ze){qe={};for(var We in ze)We!=="key"&&(qe[We]=ze[We])}else qe=ze;return ze=qe.ref,{$$typeof:Ve,type:Ue,key:He,ref:ze!==void 0?ze:null,props:qe}}return reactJsxRuntime_production.Fragment=$e,reactJsxRuntime_production.jsx=Be,reactJsxRuntime_production.jsxs=Be,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var Ve=Symbol.for("react.transitional.element"),$e=Symbol.for("react.portal"),Be=Symbol.for("react.fragment"),Ue=Symbol.for("react.strict_mode"),ze=Symbol.for("react.profiler"),qe=Symbol.for("react.consumer"),He=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Ye=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Je=Symbol.for("react.activity"),er=Symbol.iterator;function Ze(Pr){return Pr===null||typeof Pr!="object"?null:(Pr=er&&Pr[er]||Pr["@@iterator"],typeof Pr=="function"?Pr:null)}var rr={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nr=Object.assign,ar={};function sr(Pr,Tr,Vr){this.props=Pr,this.context=Tr,this.refs=ar,this.updater=Vr||rr}sr.prototype.isReactComponent={},sr.prototype.setState=function(Pr,Tr){if(typeof Pr!="object"&&typeof Pr!="function"&&Pr!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Pr,Tr,"setState")},sr.prototype.forceUpdate=function(Pr){this.updater.enqueueForceUpdate(this,Pr,"forceUpdate")};function lr(){}lr.prototype=sr.prototype;function or(Pr,Tr,Vr){this.props=Pr,this.context=Tr,this.refs=ar,this.updater=Vr||rr}var cr=or.prototype=new lr;cr.constructor=or,nr(cr,sr.prototype),cr.isPureReactComponent=!0;var hr=Array.isArray;function yr(){}var mr={H:null,A:null,T:null,S:null},vr=Object.prototype.hasOwnProperty;function _r(Pr,Tr,Vr){var Ur=Vr.ref;return{$$typeof:Ve,type:Pr,key:Tr,ref:Ur!==void 0?Ur:null,props:Vr}}function Cr(Pr,Tr){return _r(Pr.type,Tr,Pr.props)}function br(Pr){return typeof Pr=="object"&&Pr!==null&&Pr.$$typeof===Ve}function fr(Pr){var Tr={"=":"=0",":":"=2"};return"$"+Pr.replace(/[=:]/g,function(Vr){return Tr[Vr]})}var Sr=/\/+/g;function Dr(Pr,Tr){return typeof Pr=="object"&&Pr!==null&&Pr.key!=null?fr(""+Pr.key):Tr.toString(36)}function Or(Pr){switch(Pr.status){case"fulfilled":return Pr.value;case"rejected":throw Pr.reason;default:switch(typeof Pr.status=="string"?Pr.then(yr,yr):(Pr.status="pending",Pr.then(function(Tr){Pr.status==="pending"&&(Pr.status="fulfilled",Pr.value=Tr)},function(Tr){Pr.status==="pending"&&(Pr.status="rejected",Pr.reason=Tr)})),Pr.status){case"fulfilled":return Pr.value;case"rejected":throw Pr.reason}}throw Pr}function Er(Pr,Tr,Vr,Ur,Yr){var Qr=typeof Pr;(Qr==="undefined"||Qr==="boolean")&&(Pr=null);var mn=!1;if(Pr===null)mn=!0;else switch(Qr){case"bigint":case"string":case"number":mn=!0;break;case"object":switch(Pr.$$typeof){case Ve:case $e:mn=!0;break;case Xe:return mn=Pr._init,Er(mn(Pr._payload),Tr,Vr,Ur,Yr)}}if(mn)return Yr=Yr(Pr),mn=Ur===""?"."+Dr(Pr,0):Ur,hr(Yr)?(Vr="",mn!=null&&(Vr=mn.replace(Sr,"$&/")+"/"),Er(Yr,Tr,Vr,"",function(bn){return bn})):Yr!=null&&(br(Yr)&&(Yr=Cr(Yr,Vr+(Yr.key==null||Pr&&Pr.key===Yr.key?"":(""+Yr.key).replace(Sr,"$&/")+"/")+mn)),Tr.push(Yr)),1;mn=0;var An=Ur===""?".":Ur+":";if(hr(Pr))for(var Zr=0;Zr<Pr.length;Zr++)Ur=Pr[Zr],Qr=An+Dr(Ur,Zr),mn+=Er(Ur,Tr,Vr,Qr,Yr);else if(Zr=Ze(Pr),typeof Zr=="function")for(Pr=Zr.call(Pr),Zr=0;!(Ur=Pr.next()).done;)Ur=Ur.value,Qr=An+Dr(Ur,Zr++),mn+=Er(Ur,Tr,Vr,Qr,Yr);else if(Qr==="object"){if(typeof Pr.then=="function")return Er(Or(Pr),Tr,Vr,Ur,Yr);throw Tr=String(Pr),Error("Objects are not valid as a React child (found: "+(Tr==="[object Object]"?"object with keys {"+Object.keys(Pr).join(", ")+"}":Tr)+"). If you meant to render a collection of children, use an array instead.")}return mn}function Nr(Pr,Tr,Vr){if(Pr==null)return Pr;var Ur=[],Yr=0;return Er(Pr,Ur,"","",function(Qr){return Tr.call(Vr,Qr,Yr++)}),Ur}function wr(Pr){if(Pr._status===-1){var Tr=Pr._result;Tr=Tr(),Tr.then(function(Vr){(Pr._status===0||Pr._status===-1)&&(Pr._status=1,Pr._result=Vr)},function(Vr){(Pr._status===0||Pr._status===-1)&&(Pr._status=2,Pr._result=Vr)}),Pr._status===-1&&(Pr._status=0,Pr._result=Tr)}if(Pr._status===1)return Pr._result.default;throw Pr._result}var Ar=typeof reportError=="function"?reportError:function(Pr){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Tr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Pr=="object"&&Pr!==null&&typeof Pr.message=="string"?String(Pr.message):String(Pr),error:Pr});if(!window.dispatchEvent(Tr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Pr);return}console.error(Pr)},Lr={map:Nr,forEach:function(Pr,Tr,Vr){Nr(Pr,function(){Tr.apply(this,arguments)},Vr)},count:function(Pr){var Tr=0;return Nr(Pr,function(){Tr++}),Tr},toArray:function(Pr){return Nr(Pr,function(Tr){return Tr})||[]},only:function(Pr){if(!br(Pr))throw Error("React.Children.only expected to receive a single React element child.");return Pr}};return react_production.Activity=Je,react_production.Children=Lr,react_production.Component=sr,react_production.Fragment=Be,react_production.Profiler=ze,react_production.PureComponent=or,react_production.StrictMode=Ue,react_production.Suspense=Ge,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mr,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Pr){return mr.H.useMemoCache(Pr)}},react_production.cache=function(Pr){return function(){return Pr.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(Pr,Tr,Vr){if(Pr==null)throw Error("The argument must be a React element, but you passed "+Pr+".");var Ur=nr({},Pr.props),Yr=Pr.key;if(Tr!=null)for(Qr in Tr.key!==void 0&&(Yr=""+Tr.key),Tr)!vr.call(Tr,Qr)||Qr==="key"||Qr==="__self"||Qr==="__source"||Qr==="ref"&&Tr.ref===void 0||(Ur[Qr]=Tr[Qr]);var Qr=arguments.length-2;if(Qr===1)Ur.children=Vr;else if(1<Qr){for(var mn=Array(Qr),An=0;An<Qr;An++)mn[An]=arguments[An+2];Ur.children=mn}return _r(Pr.type,Yr,Ur)},react_production.createContext=function(Pr){return Pr={$$typeof:He,_currentValue:Pr,_currentValue2:Pr,_threadCount:0,Provider:null,Consumer:null},Pr.Provider=Pr,Pr.Consumer={$$typeof:qe,_context:Pr},Pr},react_production.createElement=function(Pr,Tr,Vr){var Ur,Yr={},Qr=null;if(Tr!=null)for(Ur in Tr.key!==void 0&&(Qr=""+Tr.key),Tr)vr.call(Tr,Ur)&&Ur!=="key"&&Ur!=="__self"&&Ur!=="__source"&&(Yr[Ur]=Tr[Ur]);var mn=arguments.length-2;if(mn===1)Yr.children=Vr;else if(1<mn){for(var An=Array(mn),Zr=0;Zr<mn;Zr++)An[Zr]=arguments[Zr+2];Yr.children=An}if(Pr&&Pr.defaultProps)for(Ur in mn=Pr.defaultProps,mn)Yr[Ur]===void 0&&(Yr[Ur]=mn[Ur]);return _r(Pr,Qr,Yr)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Pr){return{$$typeof:We,render:Pr}},react_production.isValidElement=br,react_production.lazy=function(Pr){return{$$typeof:Xe,_payload:{_status:-1,_result:Pr},_init:wr}},react_production.memo=function(Pr,Tr){return{$$typeof:Ye,type:Pr,compare:Tr===void 0?null:Tr}},react_production.startTransition=function(Pr){var Tr=mr.T,Vr={};mr.T=Vr;try{var Ur=Pr(),Yr=mr.S;Yr!==null&&Yr(Vr,Ur),typeof Ur=="object"&&Ur!==null&&typeof Ur.then=="function"&&Ur.then(yr,Ar)}catch(Qr){Ar(Qr)}finally{Tr!==null&&Vr.types!==null&&(Tr.types=Vr.types),mr.T=Tr}},react_production.unstable_useCacheRefresh=function(){return mr.H.useCacheRefresh()},react_production.use=function(Pr){return mr.H.use(Pr)},react_production.useActionState=function(Pr,Tr,Vr){return mr.H.useActionState(Pr,Tr,Vr)},react_production.useCallback=function(Pr,Tr){return mr.H.useCallback(Pr,Tr)},react_production.useContext=function(Pr){return mr.H.useContext(Pr)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Pr,Tr){return mr.H.useDeferredValue(Pr,Tr)},react_production.useEffect=function(Pr,Tr){return mr.H.useEffect(Pr,Tr)},react_production.useEffectEvent=function(Pr){return mr.H.useEffectEvent(Pr)},react_production.useId=function(){return mr.H.useId()},react_production.useImperativeHandle=function(Pr,Tr,Vr){return mr.H.useImperativeHandle(Pr,Tr,Vr)},react_production.useInsertionEffect=function(Pr,Tr){return mr.H.useInsertionEffect(Pr,Tr)},react_production.useLayoutEffect=function(Pr,Tr){return mr.H.useLayoutEffect(Pr,Tr)},react_production.useMemo=function(Pr,Tr){return mr.H.useMemo(Pr,Tr)},react_production.useOptimistic=function(Pr,Tr){return mr.H.useOptimistic(Pr,Tr)},react_production.useReducer=function(Pr,Tr,Vr){return mr.H.useReducer(Pr,Tr,Vr)},react_production.useRef=function(Pr){return mr.H.useRef(Pr)},react_production.useState=function(Pr){return mr.H.useState(Pr)},react_production.useSyncExternalStore=function(Pr,Tr,Vr){return mr.H.useSyncExternalStore(Pr,Tr,Vr)},react_production.useTransition=function(){return mr.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(Ve){function $e(Er,Nr){var wr=Er.length;Er.push(Nr);e:for(;0<wr;){var Ar=wr-1>>>1,Lr=Er[Ar];if(0<ze(Lr,Nr))Er[Ar]=Nr,Er[wr]=Lr,wr=Ar;else break e}}function Be(Er){return Er.length===0?null:Er[0]}function Ue(Er){if(Er.length===0)return null;var Nr=Er[0],wr=Er.pop();if(wr!==Nr){Er[0]=wr;e:for(var Ar=0,Lr=Er.length,Pr=Lr>>>1;Ar<Pr;){var Tr=2*(Ar+1)-1,Vr=Er[Tr],Ur=Tr+1,Yr=Er[Ur];if(0>ze(Vr,wr))Ur<Lr&&0>ze(Yr,Vr)?(Er[Ar]=Yr,Er[Ur]=wr,Ar=Ur):(Er[Ar]=Vr,Er[Tr]=wr,Ar=Tr);else if(Ur<Lr&&0>ze(Yr,wr))Er[Ar]=Yr,Er[Ur]=wr,Ar=Ur;else break e}}return Nr}function ze(Er,Nr){var wr=Er.sortIndex-Nr.sortIndex;return wr!==0?wr:Er.id-Nr.id}if(Ve.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var qe=performance;Ve.unstable_now=function(){return qe.now()}}else{var He=Date,We=He.now();Ve.unstable_now=function(){return He.now()-We}}var Ge=[],Ye=[],Xe=1,Je=null,er=3,Ze=!1,rr=!1,nr=!1,ar=!1,sr=typeof setTimeout=="function"?setTimeout:null,lr=typeof clearTimeout=="function"?clearTimeout:null,or=typeof setImmediate<"u"?setImmediate:null;function cr(Er){for(var Nr=Be(Ye);Nr!==null;){if(Nr.callback===null)Ue(Ye);else if(Nr.startTime<=Er)Ue(Ye),Nr.sortIndex=Nr.expirationTime,$e(Ge,Nr);else break;Nr=Be(Ye)}}function hr(Er){if(nr=!1,cr(Er),!rr)if(Be(Ge)!==null)rr=!0,yr||(yr=!0,fr());else{var Nr=Be(Ye);Nr!==null&&Or(hr,Nr.startTime-Er)}}var yr=!1,mr=-1,vr=5,_r=-1;function Cr(){return ar?!0:!(Ve.unstable_now()-_r<vr)}function br(){if(ar=!1,yr){var Er=Ve.unstable_now();_r=Er;var Nr=!0;try{e:{rr=!1,nr&&(nr=!1,lr(mr),mr=-1),Ze=!0;var wr=er;try{t:{for(cr(Er),Je=Be(Ge);Je!==null&&!(Je.expirationTime>Er&&Cr());){var Ar=Je.callback;if(typeof Ar=="function"){Je.callback=null,er=Je.priorityLevel;var Lr=Ar(Je.expirationTime<=Er);if(Er=Ve.unstable_now(),typeof Lr=="function"){Je.callback=Lr,cr(Er),Nr=!0;break t}Je===Be(Ge)&&Ue(Ge),cr(Er)}else Ue(Ge);Je=Be(Ge)}if(Je!==null)Nr=!0;else{var Pr=Be(Ye);Pr!==null&&Or(hr,Pr.startTime-Er),Nr=!1}}break e}finally{Je=null,er=wr,Ze=!1}Nr=void 0}}finally{Nr?fr():yr=!1}}}var fr;if(typeof or=="function")fr=function(){or(br)};else if(typeof MessageChannel<"u"){var Sr=new MessageChannel,Dr=Sr.port2;Sr.port1.onmessage=br,fr=function(){Dr.postMessage(null)}}else fr=function(){sr(br,0)};function Or(Er,Nr){mr=sr(function(){Er(Ve.unstable_now())},Nr)}Ve.unstable_IdlePriority=5,Ve.unstable_ImmediatePriority=1,Ve.unstable_LowPriority=4,Ve.unstable_NormalPriority=3,Ve.unstable_Profiling=null,Ve.unstable_UserBlockingPriority=2,Ve.unstable_cancelCallback=function(Er){Er.callback=null},Ve.unstable_forceFrameRate=function(Er){0>Er||125<Er?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):vr=0<Er?Math.floor(1e3/Er):5},Ve.unstable_getCurrentPriorityLevel=function(){return er},Ve.unstable_next=function(Er){switch(er){case 1:case 2:case 3:var Nr=3;break;default:Nr=er}var wr=er;er=Nr;try{return Er()}finally{er=wr}},Ve.unstable_requestPaint=function(){ar=!0},Ve.unstable_runWithPriority=function(Er,Nr){switch(Er){case 1:case 2:case 3:case 4:case 5:break;default:Er=3}var wr=er;er=Er;try{return Nr()}finally{er=wr}},Ve.unstable_scheduleCallback=function(Er,Nr,wr){var Ar=Ve.unstable_now();switch(typeof wr=="object"&&wr!==null?(wr=wr.delay,wr=typeof wr=="number"&&0<wr?Ar+wr:Ar):wr=Ar,Er){case 1:var Lr=-1;break;case 2:Lr=250;break;case 5:Lr=1073741823;break;case 4:Lr=1e4;break;default:Lr=5e3}return Lr=wr+Lr,Er={id:Xe++,callback:Nr,priorityLevel:Er,startTime:wr,expirationTime:Lr,sortIndex:-1},wr>Ar?(Er.sortIndex=wr,$e(Ye,Er),Be(Ge)===null&&Er===Be(Ye)&&(nr?(lr(mr),mr=-1):nr=!0,Or(hr,wr-Ar))):(Er.sortIndex=Lr,$e(Ge,Er),rr||Ze||(rr=!0,yr||(yr=!0,fr()))),Er},Ve.unstable_shouldYield=Cr,Ve.unstable_wrapCallback=function(Er){var Nr=er;return function(){var wr=er;er=Nr;try{return Er.apply(this,arguments)}finally{er=wr}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var Ve=requireReact();function $e(Ge){var Ye="https://react.dev/errors/"+Ge;if(1<arguments.length){Ye+="?args[]="+encodeURIComponent(arguments[1]);for(var Xe=2;Xe<arguments.length;Xe++)Ye+="&args[]="+encodeURIComponent(arguments[Xe])}return"Minified React error #"+Ge+"; visit "+Ye+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Be(){}var Ue={d:{f:Be,r:function(){throw Error($e(522))},D:Be,C:Be,L:Be,m:Be,X:Be,S:Be,M:Be},p:0,findDOMNode:null},ze=Symbol.for("react.portal");function qe(Ge,Ye,Xe){var Je=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ze,key:Je==null?null:""+Je,children:Ge,containerInfo:Ye,implementation:Xe}}var He=Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function We(Ge,Ye){if(Ge==="font")return"";if(typeof Ye=="string")return Ye==="use-credentials"?Ye:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue,reactDom_production.createPortal=function(Ge,Ye){var Xe=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ye||Ye.nodeType!==1&&Ye.nodeType!==9&&Ye.nodeType!==11)throw Error($e(299));return qe(Ge,Ye,null,Xe)},reactDom_production.flushSync=function(Ge){var Ye=He.T,Xe=Ue.p;try{if(He.T=null,Ue.p=2,Ge)return Ge()}finally{He.T=Ye,Ue.p=Xe,Ue.d.f()}},reactDom_production.preconnect=function(Ge,Ye){typeof Ge=="string"&&(Ye?(Ye=Ye.crossOrigin,Ye=typeof Ye=="string"?Ye==="use-credentials"?Ye:"":void 0):Ye=null,Ue.d.C(Ge,Ye))},reactDom_production.prefetchDNS=function(Ge){typeof Ge=="string"&&Ue.d.D(Ge)},reactDom_production.preinit=function(Ge,Ye){if(typeof Ge=="string"&&Ye&&typeof Ye.as=="string"){var Xe=Ye.as,Je=We(Xe,Ye.crossOrigin),er=typeof Ye.integrity=="string"?Ye.integrity:void 0,Ze=typeof Ye.fetchPriority=="string"?Ye.fetchPriority:void 0;Xe==="style"?Ue.d.S(Ge,typeof Ye.precedence=="string"?Ye.precedence:void 0,{crossOrigin:Je,integrity:er,fetchPriority:Ze}):Xe==="script"&&Ue.d.X(Ge,{crossOrigin:Je,integrity:er,fetchPriority:Ze,nonce:typeof Ye.nonce=="string"?Ye.nonce:void 0})}},reactDom_production.preinitModule=function(Ge,Ye){if(typeof Ge=="string")if(typeof Ye=="object"&&Ye!==null){if(Ye.as==null||Ye.as==="script"){var Xe=We(Ye.as,Ye.crossOrigin);Ue.d.M(Ge,{crossOrigin:Xe,integrity:typeof Ye.integrity=="string"?Ye.integrity:void 0,nonce:typeof Ye.nonce=="string"?Ye.nonce:void 0})}}else Ye==null&&Ue.d.M(Ge)},reactDom_production.preload=function(Ge,Ye){if(typeof Ge=="string"&&typeof Ye=="object"&&Ye!==null&&typeof Ye.as=="string"){var Xe=Ye.as,Je=We(Xe,Ye.crossOrigin);Ue.d.L(Ge,Xe,{crossOrigin:Je,integrity:typeof Ye.integrity=="string"?Ye.integrity:void 0,nonce:typeof Ye.nonce=="string"?Ye.nonce:void 0,type:typeof Ye.type=="string"?Ye.type:void 0,fetchPriority:typeof Ye.fetchPriority=="string"?Ye.fetchPriority:void 0,referrerPolicy:typeof Ye.referrerPolicy=="string"?Ye.referrerPolicy:void 0,imageSrcSet:typeof Ye.imageSrcSet=="string"?Ye.imageSrcSet:void 0,imageSizes:typeof Ye.imageSizes=="string"?Ye.imageSizes:void 0,media:typeof Ye.media=="string"?Ye.media:void 0})}},reactDom_production.preloadModule=function(Ge,Ye){if(typeof Ge=="string")if(Ye){var Xe=We(Ye.as,Ye.crossOrigin);Ue.d.m(Ge,{as:typeof Ye.as=="string"&&Ye.as!=="script"?Ye.as:void 0,crossOrigin:Xe,integrity:typeof Ye.integrity=="string"?Ye.integrity:void 0})}else Ue.d.m(Ge)},reactDom_production.requestFormReset=function(Ge){Ue.d.r(Ge)},reactDom_production.unstable_batchedUpdates=function(Ge,Ye){return Ge(Ye)},reactDom_production.useFormState=function(Ge,Ye,Xe){return He.H.useFormState(Ge,Ye,Xe)},reactDom_production.useFormStatus=function(){return He.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Ve(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ve)}catch($e){console.error($e)}}return Ve(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var Ve=requireScheduler(),$e=requireReact(),Be=requireReactDom();function Ue(Ke){var Qe="https://react.dev/errors/"+Ke;if(1<arguments.length){Qe+="?args[]="+encodeURIComponent(arguments[1]);for(var tr=2;tr<arguments.length;tr++)Qe+="&args[]="+encodeURIComponent(arguments[tr])}return"Minified React error #"+Ke+"; visit "+Qe+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ze(Ke){return!(!Ke||Ke.nodeType!==1&&Ke.nodeType!==9&&Ke.nodeType!==11)}function qe(Ke){var Qe=Ke,tr=Ke;if(Ke.alternate)for(;Qe.return;)Qe=Qe.return;else{Ke=Qe;do Qe=Ke,(Qe.flags&4098)!==0&&(tr=Qe.return),Ke=Qe.return;while(Ke)}return Qe.tag===3?tr:null}function He(Ke){if(Ke.tag===13){var Qe=Ke.memoizedState;if(Qe===null&&(Ke=Ke.alternate,Ke!==null&&(Qe=Ke.memoizedState)),Qe!==null)return Qe.dehydrated}return null}function We(Ke){if(Ke.tag===31){var Qe=Ke.memoizedState;if(Qe===null&&(Ke=Ke.alternate,Ke!==null&&(Qe=Ke.memoizedState)),Qe!==null)return Qe.dehydrated}return null}function Ge(Ke){if(qe(Ke)!==Ke)throw Error(Ue(188))}function Ye(Ke){var Qe=Ke.alternate;if(!Qe){if(Qe=qe(Ke),Qe===null)throw Error(Ue(188));return Qe!==Ke?null:Ke}for(var tr=Ke,ir=Qe;;){var pr=tr.return;if(pr===null)break;var xr=pr.alternate;if(xr===null){if(ir=pr.return,ir!==null){tr=ir;continue}break}if(pr.child===xr.child){for(xr=pr.child;xr;){if(xr===tr)return Ge(pr),Ke;if(xr===ir)return Ge(pr),Qe;xr=xr.sibling}throw Error(Ue(188))}if(tr.return!==ir.return)tr=pr,ir=xr;else{for(var $r=!1,Wr=pr.child;Wr;){if(Wr===tr){$r=!0,tr=pr,ir=xr;break}if(Wr===ir){$r=!0,ir=pr,tr=xr;break}Wr=Wr.sibling}if(!$r){for(Wr=xr.child;Wr;){if(Wr===tr){$r=!0,tr=xr,ir=pr;break}if(Wr===ir){$r=!0,ir=xr,tr=pr;break}Wr=Wr.sibling}if(!$r)throw Error(Ue(189))}}if(tr.alternate!==ir)throw Error(Ue(190))}if(tr.tag!==3)throw Error(Ue(188));return tr.stateNode.current===tr?Ke:Qe}function Xe(Ke){var Qe=Ke.tag;if(Qe===5||Qe===26||Qe===27||Qe===6)return Ke;for(Ke=Ke.child;Ke!==null;){if(Qe=Xe(Ke),Qe!==null)return Qe;Ke=Ke.sibling}return null}var Je=Object.assign,er=Symbol.for("react.element"),Ze=Symbol.for("react.transitional.element"),rr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),ar=Symbol.for("react.strict_mode"),sr=Symbol.for("react.profiler"),lr=Symbol.for("react.consumer"),or=Symbol.for("react.context"),cr=Symbol.for("react.forward_ref"),hr=Symbol.for("react.suspense"),yr=Symbol.for("react.suspense_list"),mr=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),_r=Symbol.for("react.activity"),Cr=Symbol.for("react.memo_cache_sentinel"),br=Symbol.iterator;function fr(Ke){return Ke===null||typeof Ke!="object"?null:(Ke=br&&Ke[br]||Ke["@@iterator"],typeof Ke=="function"?Ke:null)}var Sr=Symbol.for("react.client.reference");function Dr(Ke){if(Ke==null)return null;if(typeof Ke=="function")return Ke.$$typeof===Sr?null:Ke.displayName||Ke.name||null;if(typeof Ke=="string")return Ke;switch(Ke){case nr:return"Fragment";case sr:return"Profiler";case ar:return"StrictMode";case hr:return"Suspense";case yr:return"SuspenseList";case _r:return"Activity"}if(typeof Ke=="object")switch(Ke.$$typeof){case rr:return"Portal";case or:return Ke.displayName||"Context";case lr:return(Ke._context.displayName||"Context")+".Consumer";case cr:var Qe=Ke.render;return Ke=Ke.displayName,Ke||(Ke=Qe.displayName||Qe.name||"",Ke=Ke!==""?"ForwardRef("+Ke+")":"ForwardRef"),Ke;case mr:return Qe=Ke.displayName||null,Qe!==null?Qe:Dr(Ke.type)||"Memo";case vr:Qe=Ke._payload,Ke=Ke._init;try{return Dr(Ke(Qe))}catch{}}return null}var Or=Array.isArray,Er=$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Nr=Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wr={pending:!1,data:null,method:null,action:null},Ar=[],Lr=-1;function Pr(Ke){return{current:Ke}}function Tr(Ke){0>Lr||(Ke.current=Ar[Lr],Ar[Lr]=null,Lr--)}function Vr(Ke,Qe){Lr++,Ar[Lr]=Ke.current,Ke.current=Qe}var Ur=Pr(null),Yr=Pr(null),Qr=Pr(null),mn=Pr(null);function An(Ke,Qe){switch(Vr(Qr,Qe),Vr(Yr,Ke),Vr(Ur,null),Qe.nodeType){case 9:case 11:Ke=(Ke=Qe.documentElement)&&(Ke=Ke.namespaceURI)?Km(Ke):0;break;default:if(Ke=Qe.tagName,Qe=Qe.namespaceURI)Qe=Km(Qe),Ke=Ym(Qe,Ke);else switch(Ke){case"svg":Ke=1;break;case"math":Ke=2;break;default:Ke=0}}Tr(Ur),Vr(Ur,Ke)}function Zr(){Tr(Ur),Tr(Yr),Tr(Qr)}function bn(Ke){Ke.memoizedState!==null&&Vr(mn,Ke);var Qe=Ur.current,tr=Ym(Qe,Ke.type);Qe!==tr&&(Vr(Yr,Ke),Vr(Ur,tr))}function jn(Ke){Yr.current===Ke&&(Tr(Ur),Tr(Yr)),mn.current===Ke&&(Tr(mn),th._currentValue=wr)}var gn,In;function Sn(Ke){if(gn===void 0)try{throw Error()}catch(tr){var Qe=tr.stack.trim().match(/\n( *(at )?)/);gn=Qe&&Qe[1]||"",In=-1<tr.stack.indexOf(`
    at`)?" (<anonymous>)":-1<tr.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gn+Ke+In}var Gr=!1;function Un(Ke,Qe){if(!Ke||Gr)return"";Gr=!0;var tr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var ir={DetermineComponentFrameRoot:function(){try{if(Qe){var Zn=function(){throw Error()};if(Object.defineProperty(Zn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Zn,[])}catch(qn){var Bn=qn}Reflect.construct(Ke,[],Zn)}else{try{Zn.call()}catch(qn){Bn=qn}Ke.call(Zn.prototype)}}else{try{throw Error()}catch(qn){Bn=qn}(Zn=Ke())&&typeof Zn.catch=="function"&&Zn.catch(function(){})}}catch(qn){if(qn&&Bn&&typeof qn.stack=="string")return[qn.stack,Bn.stack]}return[null,null]}};ir.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var pr=Object.getOwnPropertyDescriptor(ir.DetermineComponentFrameRoot,"name");pr&&pr.configurable&&Object.defineProperty(ir.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var xr=ir.DetermineComponentFrameRoot(),$r=xr[0],Wr=xr[1];if($r&&Wr){var vn=$r.split(`
`),$n=Wr.split(`
`);for(pr=ir=0;ir<vn.length&&!vn[ir].includes("DetermineComponentFrameRoot");)ir++;for(;pr<$n.length&&!$n[pr].includes("DetermineComponentFrameRoot");)pr++;if(ir===vn.length||pr===$n.length)for(ir=vn.length-1,pr=$n.length-1;1<=ir&&0<=pr&&vn[ir]!==$n[pr];)pr--;for(;1<=ir&&0<=pr;ir--,pr--)if(vn[ir]!==$n[pr]){if(ir!==1||pr!==1)do if(ir--,pr--,0>pr||vn[ir]!==$n[pr]){var Kn=`
`+vn[ir].replace(" at new "," at ");return Ke.displayName&&Kn.includes("<anonymous>")&&(Kn=Kn.replace("<anonymous>",Ke.displayName)),Kn}while(1<=ir&&0<=pr);break}}}finally{Gr=!1,Error.prepareStackTrace=tr}return(tr=Ke?Ke.displayName||Ke.name:"")?Sn(tr):""}function di(Ke,Qe){switch(Ke.tag){case 26:case 27:case 5:return Sn(Ke.type);case 16:return Sn("Lazy");case 13:return Ke.child!==Qe&&Qe!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return Un(Ke.type,!1);case 11:return Un(Ke.type.render,!1);case 1:return Un(Ke.type,!0);case 31:return Sn("Activity");default:return""}}function ii(Ke){try{var Qe="",tr=null;do Qe+=di(Ke,tr),tr=Ke,Ke=Ke.return;while(Ke);return Qe}catch(ir){return`
Error generating stack: `+ir.message+`
`+ir.stack}}var Vn=Object.prototype.hasOwnProperty,zn=Ve.unstable_scheduleCallback,Qn=Ve.unstable_cancelCallback,Yn=Ve.unstable_shouldYield,vi=Ve.unstable_requestPaint,xn=Ve.unstable_now,ei=Ve.unstable_getCurrentPriorityLevel,ni=Ve.unstable_ImmediatePriority,ui=Ve.unstable_UserBlockingPriority,oi=Ve.unstable_NormalPriority,fi=Ve.unstable_LowPriority,yi=Ve.unstable_IdlePriority,mi=Ve.log,as=Ve.unstable_setDisableYieldValue,Ui=null,Ci=null;function Di(Ke){if(typeof mi=="function"&&as(Ke),Ci&&typeof Ci.setStrictMode=="function")try{Ci.setStrictMode(Ui,Ke)}catch{}}var Wi=Math.clz32?Math.clz32:Ni,Ai=Math.log,ps=Math.LN2;function Ni(Ke){return Ke>>>=0,Ke===0?32:31-(Ai(Ke)/ps|0)|0}var $i=256,os=262144,ji=4194304;function Ti(Ke){var Qe=Ke&42;if(Qe!==0)return Qe;switch(Ke&-Ke){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return Ke&261888;case 262144:case 524288:case 1048576:case 2097152:return Ke&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return Ke&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return Ke}}function Qi(Ke,Qe,tr){var ir=Ke.pendingLanes;if(ir===0)return 0;var pr=0,xr=Ke.suspendedLanes,$r=Ke.pingedLanes;Ke=Ke.warmLanes;var Wr=ir&134217727;return Wr!==0?(ir=Wr&~xr,ir!==0?pr=Ti(ir):($r&=Wr,$r!==0?pr=Ti($r):tr||(tr=Wr&~Ke,tr!==0&&(pr=Ti(tr))))):(Wr=ir&~xr,Wr!==0?pr=Ti(Wr):$r!==0?pr=Ti($r):tr||(tr=ir&~Ke,tr!==0&&(pr=Ti(tr)))),pr===0?0:Qe!==0&&Qe!==pr&&(Qe&xr)===0&&(xr=pr&-pr,tr=Qe&-Qe,xr>=tr||xr===32&&(tr&4194048)!==0)?Qe:pr}function ga(Ke,Qe){return(Ke.pendingLanes&~(Ke.suspendedLanes&~Ke.pingedLanes)&Qe)===0}function ta(Ke,Qe){switch(Ke){case 1:case 2:case 4:case 8:case 64:return Qe+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Qe+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var Ke=ji;return ji<<=1,(ji&62914560)===0&&(ji=4194304),Ke}function ks(Ke){for(var Qe=[],tr=0;31>tr;tr++)Qe.push(Ke);return Qe}function Ii(Ke,Qe){Ke.pendingLanes|=Qe,Qe!==268435456&&(Ke.suspendedLanes=0,Ke.pingedLanes=0,Ke.warmLanes=0)}function To(Ke,Qe,tr,ir,pr,xr){var $r=Ke.pendingLanes;Ke.pendingLanes=tr,Ke.suspendedLanes=0,Ke.pingedLanes=0,Ke.warmLanes=0,Ke.expiredLanes&=tr,Ke.entangledLanes&=tr,Ke.errorRecoveryDisabledLanes&=tr,Ke.shellSuspendCounter=0;var Wr=Ke.entanglements,vn=Ke.expirationTimes,$n=Ke.hiddenUpdates;for(tr=$r&~tr;0<tr;){var Kn=31-Wi(tr),Zn=1<<Kn;Wr[Kn]=0,vn[Kn]=-1;var Bn=$n[Kn];if(Bn!==null)for($n[Kn]=null,Kn=0;Kn<Bn.length;Kn++){var qn=Bn[Kn];qn!==null&&(qn.lane&=-536870913)}tr&=~Zn}ir!==0&&Ca(Ke,ir,0),xr!==0&&pr===0&&Ke.tag!==0&&(Ke.suspendedLanes|=xr&~($r&~Qe))}function Ca(Ke,Qe,tr){Ke.pendingLanes|=Qe,Ke.suspendedLanes&=~Qe;var ir=31-Wi(Qe);Ke.entangledLanes|=Qe,Ke.entanglements[ir]=Ke.entanglements[ir]|1073741824|tr&261930}function Zi(Ke,Qe){var tr=Ke.entangledLanes|=Qe;for(Ke=Ke.entanglements;tr;){var ir=31-Wi(tr),pr=1<<ir;pr&Qe|Ke[ir]&Qe&&(Ke[ir]|=Qe),tr&=~pr}}function Cn(Ke,Qe){var tr=Qe&-Qe;return tr=(tr&42)!==0?1:hi(tr),(tr&(Ke.suspendedLanes|Qe))!==0?0:tr}function hi(Ke){switch(Ke){case 2:Ke=1;break;case 8:Ke=4;break;case 32:Ke=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Ke=128;break;case 268435456:Ke=134217728;break;default:Ke=0}return Ke}function li(Ke){return Ke&=-Ke,2<Ke?8<Ke?(Ke&134217727)!==0?32:268435456:8:2}function si(){var Ke=Nr.p;return Ke!==0?Ke:(Ke=window.event,Ke===void 0?32:yg(Ke.type))}function zi(Ke,Qe){var tr=Nr.p;try{return Nr.p=Ke,Qe()}finally{Nr.p=tr}}var Yi=Math.random().toString(36).slice(2),Mi="__reactFiber$"+Yi,Gi="__reactProps$"+Yi,ls="__reactContainer$"+Yi,ra="__reactEvents$"+Yi,ca="__reactListeners$"+Yi,Ya="__reactHandles$"+Yi,Ra="__reactResources$"+Yi,Ps="__reactMarker$"+Yi;function nl(Ke){delete Ke[Mi],delete Ke[Gi],delete Ke[ra],delete Ke[ca],delete Ke[Ya]}function oo(Ke){var Qe=Ke[Mi];if(Qe)return Qe;for(var tr=Ke.parentNode;tr;){if(Qe=tr[ls]||tr[Mi]){if(tr=Qe.alternate,Qe.child!==null||tr!==null&&tr.child!==null)for(Ke=rg(Ke);Ke!==null;){if(tr=Ke[Mi])return tr;Ke=rg(Ke)}return Qe}Ke=tr,tr=Ke.parentNode}return null}function $a(Ke){if(Ke=Ke[Mi]||Ke[ls]){var Qe=Ke.tag;if(Qe===5||Qe===6||Qe===13||Qe===31||Qe===26||Qe===27||Qe===3)return Ke}return null}function lo(Ke){var Qe=Ke.tag;if(Qe===5||Qe===26||Qe===27||Qe===6)return Ke.stateNode;throw Error(Ue(33))}function _o(Ke){var Qe=Ke[Ra];return Qe||(Qe=Ke[Ra]={hoistableStyles:new Map,hoistableScripts:new Map}),Qe}function Xs(Ke){Ke[Ps]=!0}var rc=new Set,Xa={};function Eo(Ke,Qe){jo(Ke,Qe),jo(Ke+"Capture",Qe)}function jo(Ke,Qe){for(Xa[Ke]=Qe,Ke=0;Ke<Qe.length;Ke++)rc.add(Qe[Ke])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},ic={};function Rc(Ke){return Vn.call(ic,Ke)?!0:Vn.call(nc,Ke)?!1:Ml.test(Ke)?ic[Ke]=!0:(nc[Ke]=!0,!1)}function co(Ke,Qe,tr){if(Rc(Qe))if(tr===null)Ke.removeAttribute(Qe);else{switch(typeof tr){case"undefined":case"function":case"symbol":Ke.removeAttribute(Qe);return;case"boolean":var ir=Qe.toLowerCase().slice(0,5);if(ir!=="data-"&&ir!=="aria-"){Ke.removeAttribute(Qe);return}}Ke.setAttribute(Qe,""+tr)}}function Ia(Ke,Qe,tr){if(tr===null)Ke.removeAttribute(Qe);else{switch(typeof tr){case"undefined":case"function":case"symbol":case"boolean":Ke.removeAttribute(Qe);return}Ke.setAttribute(Qe,""+tr)}}function na(Ke,Qe,tr,ir){if(ir===null)Ke.removeAttribute(tr);else{switch(typeof ir){case"undefined":case"function":case"symbol":case"boolean":Ke.removeAttribute(tr);return}Ke.setAttributeNS(Qe,tr,""+ir)}}function ss(Ke){switch(typeof Ke){case"bigint":case"boolean":case"number":case"string":case"undefined":return Ke;case"object":return Ke;default:return""}}function il(Ke){var Qe=Ke.type;return(Ke=Ke.nodeName)&&Ke.toLowerCase()==="input"&&(Qe==="checkbox"||Qe==="radio")}function wo(Ke,Qe,tr){var ir=Object.getOwnPropertyDescriptor(Ke.constructor.prototype,Qe);if(!Ke.hasOwnProperty(Qe)&&typeof ir<"u"&&typeof ir.get=="function"&&typeof ir.set=="function"){var pr=ir.get,xr=ir.set;return Object.defineProperty(Ke,Qe,{configurable:!0,get:function(){return pr.call(this)},set:function($r){tr=""+$r,xr.call(this,$r)}}),Object.defineProperty(Ke,Qe,{enumerable:ir.enumerable}),{getValue:function(){return tr},setValue:function($r){tr=""+$r},stopTracking:function(){Ke._valueTracker=null,delete Ke[Qe]}}}}function ms(Ke){if(!Ke._valueTracker){var Qe=il(Ke)?"checked":"value";Ke._valueTracker=wo(Ke,Qe,""+Ke[Qe])}}function vl(Ke){if(!Ke)return!1;var Qe=Ke._valueTracker;if(!Qe)return!0;var tr=Qe.getValue(),ir="";return Ke&&(ir=il(Ke)?Ke.checked?"true":"false":Ke.value),Ke=ir,Ke!==tr?(Qe.setValue(Ke),!0):!1}function ua(Ke){if(Ke=Ke||(typeof document<"u"?document:void 0),typeof Ke>"u")return null;try{return Ke.activeElement||Ke.body}catch{return Ke.body}}var Ws=/[\n"\\]/g;function ia(Ke){return Ke.replace(Ws,function(Qe){return"\\"+Qe.charCodeAt(0).toString(16)+" "})}function Ol(Ke,Qe,tr,ir,pr,xr,$r,Wr){Ke.name="",$r!=null&&typeof $r!="function"&&typeof $r!="symbol"&&typeof $r!="boolean"?Ke.type=$r:Ke.removeAttribute("type"),Qe!=null?$r==="number"?(Qe===0&&Ke.value===""||Ke.value!=Qe)&&(Ke.value=""+ss(Qe)):Ke.value!==""+ss(Qe)&&(Ke.value=""+ss(Qe)):$r!=="submit"&&$r!=="reset"||Ke.removeAttribute("value"),Qe!=null?Ac(Ke,$r,ss(Qe)):tr!=null?Ac(Ke,$r,ss(tr)):ir!=null&&Ke.removeAttribute("value"),pr==null&&xr!=null&&(Ke.defaultChecked=!!xr),pr!=null&&(Ke.checked=pr&&typeof pr!="function"&&typeof pr!="symbol"),Wr!=null&&typeof Wr!="function"&&typeof Wr!="symbol"&&typeof Wr!="boolean"?Ke.name=""+ss(Wr):Ke.removeAttribute("name")}function Qc(Ke,Qe,tr,ir,pr,xr,$r,Wr){if(xr!=null&&typeof xr!="function"&&typeof xr!="symbol"&&typeof xr!="boolean"&&(Ke.type=xr),Qe!=null||tr!=null){if(!(xr!=="submit"&&xr!=="reset"||Qe!=null)){ms(Ke);return}tr=tr!=null?""+ss(tr):"",Qe=Qe!=null?""+ss(Qe):tr,Wr||Qe===Ke.value||(Ke.value=Qe),Ke.defaultValue=Qe}ir=ir??pr,ir=typeof ir!="function"&&typeof ir!="symbol"&&!!ir,Ke.checked=Wr?Ke.checked:!!ir,Ke.defaultChecked=!!ir,$r!=null&&typeof $r!="function"&&typeof $r!="symbol"&&typeof $r!="boolean"&&(Ke.name=$r),ms(Ke)}function Ac(Ke,Qe,tr){Qe==="number"&&ua(Ke.ownerDocument)===Ke||Ke.defaultValue===""+tr||(Ke.defaultValue=""+tr)}function Fa(Ke,Qe,tr,ir){if(Ke=Ke.options,Qe){Qe={};for(var pr=0;pr<tr.length;pr++)Qe["$"+tr[pr]]=!0;for(tr=0;tr<Ke.length;tr++)pr=Qe.hasOwnProperty("$"+Ke[tr].value),Ke[tr].selected!==pr&&(Ke[tr].selected=pr),pr&&ir&&(Ke[tr].defaultSelected=!0)}else{for(tr=""+ss(tr),Qe=null,pr=0;pr<Ke.length;pr++){if(Ke[pr].value===tr){Ke[pr].selected=!0,ir&&(Ke[pr].defaultSelected=!0);return}Qe!==null||Ke[pr].disabled||(Qe=Ke[pr])}Qe!==null&&(Qe.selected=!0)}}function Tc(Ke,Qe,tr){if(Qe!=null&&(Qe=""+ss(Qe),Qe!==Ke.value&&(Ke.value=Qe),tr==null)){Ke.defaultValue!==Qe&&(Ke.defaultValue=Qe);return}Ke.defaultValue=tr!=null?""+ss(tr):""}function sl(Ke,Qe,tr,ir){if(Qe==null){if(ir!=null){if(tr!=null)throw Error(Ue(92));if(Or(ir)){if(1<ir.length)throw Error(Ue(93));ir=ir[0]}tr=ir}tr==null&&(tr=""),Qe=tr}tr=ss(Qe),Ke.defaultValue=tr,ir=Ke.textContent,ir===tr&&ir!==""&&ir!==null&&(Ke.value=ir),ms(Ke)}function Aa(Ke,Qe){if(Qe){var tr=Ke.firstChild;if(tr&&tr===Ke.lastChild&&tr.nodeType===3){tr.nodeValue=Qe;return}}Ke.textContent=Qe}var yl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jc(Ke,Qe,tr){var ir=Qe.indexOf("--")===0;tr==null||typeof tr=="boolean"||tr===""?ir?Ke.setProperty(Qe,""):Qe==="float"?Ke.cssFloat="":Ke[Qe]="":ir?Ke.setProperty(Qe,tr):typeof tr!="number"||tr===0||yl.has(Qe)?Qe==="float"?Ke.cssFloat=tr:Ke[Qe]=(""+tr).trim():Ke[Qe]=tr+"px"}function Pc(Ke,Qe,tr){if(Qe!=null&&typeof Qe!="object")throw Error(Ue(62));if(Ke=Ke.style,tr!=null){for(var ir in tr)!tr.hasOwnProperty(ir)||Qe!=null&&Qe.hasOwnProperty(ir)||(ir.indexOf("--")===0?Ke.setProperty(ir,""):ir==="float"?Ke.cssFloat="":Ke[ir]="");for(var pr in Qe)ir=Qe[pr],Qe.hasOwnProperty(pr)&&tr[pr]!==ir&&jc(Ke,pr,ir)}else for(var xr in Qe)Qe.hasOwnProperty(xr)&&jc(Ke,xr,Qe[xr])}function sc(Ke){if(Ke.indexOf("-")===-1)return!1;switch(Ke){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),al=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(Ke){return al.test(""+Ke)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Ke}function Po(){}var ol=null;function Ja(Ke){return Ke=Ke.target||Ke.srcElement||window,Ke.correspondingUseElement&&(Ke=Ke.correspondingUseElement),Ke.nodeType===3?Ke.parentNode:Ke}var xl=null,Oi=null;function Ll(Ke){var Qe=$a(Ke);if(Qe&&(Ke=Qe.stateNode)){var tr=Ke[Gi]||null;e:switch(Ke=Qe.stateNode,Qe.type){case"input":if(Ol(Ke,tr.value,tr.defaultValue,tr.defaultValue,tr.checked,tr.defaultChecked,tr.type,tr.name),Qe=tr.name,tr.type==="radio"&&Qe!=null){for(tr=Ke;tr.parentNode;)tr=tr.parentNode;for(tr=tr.querySelectorAll('input[name="'+ia(""+Qe)+'"][type="radio"]'),Qe=0;Qe<tr.length;Qe++){var ir=tr[Qe];if(ir!==Ke&&ir.form===Ke.form){var pr=ir[Gi]||null;if(!pr)throw Error(Ue(90));Ol(ir,pr.value,pr.defaultValue,pr.defaultValue,pr.checked,pr.defaultChecked,pr.type,pr.name)}}for(Qe=0;Qe<tr.length;Qe++)ir=tr[Qe],ir.form===Ke.form&&vl(ir)}break e;case"textarea":Tc(Ke,tr.value,tr.defaultValue);break e;case"select":Qe=tr.value,Qe!=null&&Fa(Ke,!!tr.multiple,Qe,!1)}}}var oc=!1;function bl(Ke,Qe,tr){if(oc)return Ke(Qe,tr);oc=!0;try{var ir=Ke(Qe);return ir}finally{if(oc=!1,(xl!==null||Oi!==null)&&(Ch(),xl&&(Qe=xl,Ke=Oi,Oi=xl=null,Ll(Qe),Ke)))for(Qe=0;Qe<Ke.length;Qe++)Ll(Ke[Qe])}}function Ta(Ke,Qe){var tr=Ke.stateNode;if(tr===null)return null;var ir=tr[Gi]||null;if(ir===null)return null;tr=ir[Qe];e:switch(Qe){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ir=!ir.disabled)||(Ke=Ke.type,ir=!(Ke==="button"||Ke==="input"||Ke==="select"||Ke==="textarea")),Ke=!ir;break e;default:Ke=!1}if(Ke)return null;if(tr&&typeof tr!="function")throw Error(Ue(231,Qe,typeof tr));return tr}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=!1;if(va)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){$l=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{$l=!1}var uo=null,Fl=null,Co=null;function Cc(){if(Co)return Co;var Ke,Qe=Fl,tr=Qe.length,ir,pr="value"in uo?uo.value:uo.textContent,xr=pr.length;for(Ke=0;Ke<tr&&Qe[Ke]===pr[Ke];Ke++);var $r=tr-Ke;for(ir=1;ir<=$r&&Qe[tr-ir]===pr[xr-ir];ir++);return Co=pr.slice(Ke,1<ir?1-ir:void 0)}function ho(Ke){var Qe=Ke.keyCode;return"charCode"in Ke?(Ke=Ke.charCode,Ke===0&&Qe===13&&(Ke=13)):Ke=Qe,Ke===10&&(Ke=13),32<=Ke||Ke===13?Ke:0}function ll(){return!0}function fo(){return!1}function da(Ke){function Qe(tr,ir,pr,xr,$r){this._reactName=tr,this._targetInst=pr,this.type=ir,this.nativeEvent=xr,this.target=$r,this.currentTarget=null;for(var Wr in Ke)Ke.hasOwnProperty(Wr)&&(tr=Ke[Wr],this[Wr]=tr?tr(xr):xr[Wr]);return this.isDefaultPrevented=(xr.defaultPrevented!=null?xr.defaultPrevented:xr.returnValue===!1)?ll:fo,this.isPropagationStopped=fo,this}return Je(Qe.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tr=this.nativeEvent;tr&&(tr.preventDefault?tr.preventDefault():typeof tr.returnValue!="unknown"&&(tr.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var tr=this.nativeEvent;tr&&(tr.stopPropagation?tr.stopPropagation():typeof tr.cancelBubble!="unknown"&&(tr.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),Qe}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Ke){return Ke.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=da(Lo),$o=Je({},Lo,{view:0,detail:0}),_l=da($o),Fo,Vo,So,Vl=Je({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fi,button:0,buttons:0,relatedTarget:function(Ke){return Ke.relatedTarget===void 0?Ke.fromElement===Ke.srcElement?Ke.toElement:Ke.fromElement:Ke.relatedTarget},movementX:function(Ke){return"movementX"in Ke?Ke.movementX:(Ke!==So&&(So&&Ke.type==="mousemove"?(Fo=Ke.screenX-So.screenX,Vo=Ke.screenY-So.screenY):Vo=Fo=0,So=Ke),Fo)},movementY:function(Ke){return"movementY"in Ke?Ke.movementY:Vo}}),cc=da(Vl),po=Je({},Vl,{dataTransfer:0}),Bo=da(po),Ic=Je({},$o,{relatedTarget:0}),Io=da(Ic),uc=Je({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),Rr=da(uc),Br=Je({},Lo,{clipboardData:function(Ke){return"clipboardData"in Ke?Ke.clipboardData:window.clipboardData}}),fn=da(Br),yn=Je({},Lo,{data:0}),Tn=da(yn),Gn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Si(Ke){var Qe=this.nativeEvent;return Qe.getModifierState?Qe.getModifierState(Ke):(Ke=_i[Ke])?!!Qe[Ke]:!1}function Fi(){return Si}var ki=Je({},$o,{key:function(Ke){if(Ke.key){var Qe=Gn[Ke.key]||Ke.key;if(Qe!=="Unidentified")return Qe}return Ke.type==="keypress"?(Ke=ho(Ke),Ke===13?"Enter":String.fromCharCode(Ke)):Ke.type==="keydown"||Ke.type==="keyup"?ri[Ke.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fi,charCode:function(Ke){return Ke.type==="keypress"?ho(Ke):0},keyCode:function(Ke){return Ke.type==="keydown"||Ke.type==="keyup"?Ke.keyCode:0},which:function(Ke){return Ke.type==="keypress"?ho(Ke):Ke.type==="keydown"||Ke.type==="keyup"?Ke.keyCode:0}}),cs=da(ki),Fs=Je({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ds=da(Fs),dr=Je({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fi}),Ir=da(dr),Fr=Je({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xr=da(Fr),kn=Je({},Vl,{deltaX:function(Ke){return"deltaX"in Ke?Ke.deltaX:"wheelDeltaX"in Ke?-Ke.wheelDeltaX:0},deltaY:function(Ke){return"deltaY"in Ke?Ke.deltaY:"wheelDeltaY"in Ke?-Ke.wheelDeltaY:"wheelDelta"in Ke?-Ke.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=da(kn),ci=Je({},Lo,{newState:0,oldState:0}),Ki=da(ci),Vs=[9,13,27,32],rs=va&&"CompositionEvent"in window,As=null;va&&"documentMode"in document&&(As=document.documentMode);var Da=va&&"TextEvent"in window&&!As,Va=va&&(!rs||As&&8<As&&11>=As),Ms=" ",Ba=!1;function No(Ke,Qe){switch(Ke){case"keyup":return Vs.indexOf(Qe.keyCode)!==-1;case"keydown":return Qe.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function El(Ke){return Ke=Ke.detail,typeof Ke=="object"&&"data"in Ke?Ke.data:null}var wl=!1;function mo(Ke,Qe){switch(Ke){case"compositionend":return El(Qe);case"keypress":return Qe.which!==32?null:(Ba=!0,Ms);case"textInput":return Ke=Qe.data,Ke===Ms&&Ba?null:Ke;default:return null}}function Bl(Ke,Qe){if(wl)return Ke==="compositionend"||!rs&&No(Ke,Qe)?(Ke=Cc(),Co=Fl=uo=null,wl=!1,Ke):null;switch(Ke){case"paste":return null;case"keypress":if(!(Qe.ctrlKey||Qe.altKey||Qe.metaKey)||Qe.ctrlKey&&Qe.altKey){if(Qe.char&&1<Qe.char.length)return Qe.char;if(Qe.which)return String.fromCharCode(Qe.which)}return null;case"compositionend":return Va&&Qe.locale!=="ko"?null:Qe.data;default:return null}}var Jc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Au(Ke){var Qe=Ke&&Ke.nodeName&&Ke.nodeName.toLowerCase();return Qe==="input"?!!Jc[Ke.type]:Qe==="textarea"}function ko(Ke,Qe,tr,ir){xl?Oi?Oi.push(ir):Oi=[ir]:xl=ir,Qe=Lh(Qe,"onChange"),0<Qe.length&&(tr=new Na("onChange","change",null,tr,ir),Ke.push({event:tr,listeners:Qe}))}var cl=null,Ul=null;function Tu(Ke){Um(Ke,0)}function ul(Ke){var Qe=lo(Ke);if(vl(Qe))return Ke}function dc(Ke,Qe){if(Ke==="change")return Qe}var Ro=!1;if(va){var go;if(va){var Sl="oninput"in document;if(!Sl){var Rl=document.createElement("div");Rl.setAttribute("oninput","return;"),Sl=typeof Rl.oninput=="function"}go=Sl}else go=!1;Ro=go&&(!document.documentMode||9<document.documentMode)}function zl(){cl&&(cl.detachEvent("onpropertychange",Zc),Ul=cl=null)}function Zc(Ke){if(Ke.propertyName==="value"&&ul(Ul)){var Qe=[];ko(Qe,Ul,Ke,Ja(Ke)),bl(Tu,Qe)}}function eu(Ke,Qe,tr){Ke==="focusin"?(zl(),cl=Qe,Ul=tr,cl.attachEvent("onpropertychange",Zc)):Ke==="focusout"&&zl()}function ha(Ke){if(Ke==="selectionchange"||Ke==="keyup"||Ke==="keydown")return ul(Ul)}function zu(Ke,Qe){if(Ke==="click")return ul(Qe)}function Al(Ke,Qe){if(Ke==="input"||Ke==="change")return ul(Qe)}function Tl(Ke,Qe){return Ke===Qe&&(Ke!==0||1/Ke===1/Qe)||Ke!==Ke&&Qe!==Qe}var Ua=typeof Object.is=="function"?Object.is:Tl;function ql(Ke,Qe){if(Ua(Ke,Qe))return!0;if(typeof Ke!="object"||Ke===null||typeof Qe!="object"||Qe===null)return!1;var tr=Object.keys(Ke),ir=Object.keys(Qe);if(tr.length!==ir.length)return!1;for(ir=0;ir<tr.length;ir++){var pr=tr[ir];if(!Vn.call(Qe,pr)||!Ua(Ke[pr],Qe[pr]))return!1}return!0}function tu(Ke){for(;Ke&&Ke.firstChild;)Ke=Ke.firstChild;return Ke}function ru(Ke,Qe){var tr=tu(Ke);Ke=0;for(var ir;tr;){if(tr.nodeType===3){if(ir=Ke+tr.textContent.length,Ke<=Qe&&ir>=Qe)return{node:tr,offset:Qe-Ke};Ke=ir}e:{for(;tr;){if(tr.nextSibling){tr=tr.nextSibling;break e}tr=tr.parentNode}tr=void 0}tr=tu(tr)}}function Hl(Ke,Qe){return Ke&&Qe?Ke===Qe?!0:Ke&&Ke.nodeType===3?!1:Qe&&Qe.nodeType===3?Hl(Ke,Qe.parentNode):"contains"in Ke?Ke.contains(Qe):Ke.compareDocumentPosition?!!(Ke.compareDocumentPosition(Qe)&16):!1:!1}function Wl(Ke){Ke=Ke!=null&&Ke.ownerDocument!=null&&Ke.ownerDocument.defaultView!=null?Ke.ownerDocument.defaultView:window;for(var Qe=ua(Ke.document);Qe instanceof Ke.HTMLIFrameElement;){try{var tr=typeof Qe.contentWindow.location.href=="string"}catch{tr=!1}if(tr)Ke=Qe.contentWindow;else break;Qe=ua(Ke.document)}return Qe}function jl(Ke){var Qe=Ke&&Ke.nodeName&&Ke.nodeName.toLowerCase();return Qe&&(Qe==="input"&&(Ke.type==="text"||Ke.type==="search"||Ke.type==="tel"||Ke.type==="url"||Ke.type==="password")||Qe==="textarea"||Ke.contentEditable==="true")}var Nc=va&&"documentMode"in document&&11>=document.documentMode,Do=null,Gl=null,Za=null,Uo=!1;function ws(Ke,Qe,tr){var ir=tr.window===tr?tr.document:tr.nodeType===9?tr:tr.ownerDocument;Uo||Do==null||Do!==ua(ir)||(ir=Do,"selectionStart"in ir&&jl(ir)?ir={start:ir.selectionStart,end:ir.selectionEnd}:(ir=(ir.ownerDocument&&ir.ownerDocument.defaultView||window).getSelection(),ir={anchorNode:ir.anchorNode,anchorOffset:ir.anchorOffset,focusNode:ir.focusNode,focusOffset:ir.focusOffset}),Za&&ql(Za,ir)||(Za=ir,ir=Lh(Gl,"onSelect"),0<ir.length&&(Qe=new Na("onSelect","select",null,Qe,tr),Ke.push({event:Qe,listeners:ir}),Qe.target=Do)))}function ys(Ke,Qe){var tr={};return tr[Ke.toLowerCase()]=Qe.toLowerCase(),tr["Webkit"+Ke]="webkit"+Qe,tr["Moz"+Ke]="moz"+Qe,tr}var Bs={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},fa={},Pl={};va&&(Pl=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function dl(Ke){if(fa[Ke])return fa[Ke];if(!Bs[Ke])return Ke;var Qe=Bs[Ke],tr;for(tr in Qe)if(Qe.hasOwnProperty(tr)&&tr in Pl)return fa[Ke]=Qe[tr];return Ke}var kc=dl("animationend"),ju=dl("animationiteration"),Sd=dl("animationstart"),ah=dl("transitionrun"),oh=dl("transitionstart"),lh=dl("transitioncancel"),Rd=dl("transitionend"),Ad=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function zo(Ke,Qe){Ad.set(Ke,Qe),Eo(Qe,[Ke])}var Pu=typeof reportError=="function"?reportError:function(Ke){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Qe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ke=="object"&&Ke!==null&&typeof Ke.message=="string"?String(Ke.message):String(Ke),error:Ke});if(!window.dispatchEvent(Qe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ke);return}console.error(Ke)},Mo=[],Mc=0,qu=0;function Cu(){for(var Ke=Mc,Qe=qu=Mc=0;Qe<Ke;){var tr=Mo[Qe];Mo[Qe++]=null;var ir=Mo[Qe];Mo[Qe++]=null;var pr=Mo[Qe];Mo[Qe++]=null;var xr=Mo[Qe];if(Mo[Qe++]=null,ir!==null&&pr!==null){var $r=ir.pending;$r===null?pr.next=pr:(pr.next=$r.next,$r.next=pr),ir.pending=pr}xr!==0&&Nu(tr,pr,xr)}}function Iu(Ke,Qe,tr,ir){Mo[Mc++]=Ke,Mo[Mc++]=Qe,Mo[Mc++]=tr,Mo[Mc++]=ir,qu|=ir,Ke.lanes|=ir,Ke=Ke.alternate,Ke!==null&&(Ke.lanes|=ir)}function Hu(Ke,Qe,tr,ir){return Iu(Ke,Qe,tr,ir),eo(Ke)}function Kl(Ke,Qe){return Iu(Ke,null,null,Qe),eo(Ke)}function Nu(Ke,Qe,tr){Ke.lanes|=tr;var ir=Ke.alternate;ir!==null&&(ir.lanes|=tr);for(var pr=!1,xr=Ke.return;xr!==null;)xr.childLanes|=tr,ir=xr.alternate,ir!==null&&(ir.childLanes|=tr),xr.tag===22&&(Ke=xr.stateNode,Ke===null||Ke._visibility&1||(pr=!0)),Ke=xr,xr=xr.return;return Ke.tag===3?(xr=Ke.stateNode,pr&&Qe!==null&&(pr=31-Wi(tr),Ke=xr.hiddenUpdates,ir=Ke[pr],ir===null?Ke[pr]=[Qe]:ir.push(Qe),Qe.lane=tr|536870912),xr):null}function eo(Ke){if(50<Kd)throw Kd=0,Df=null,Error(Ue(185));for(var Qe=Ke.return;Qe!==null;)Ke=Qe,Qe=Ke.return;return Ke.tag===3?Ke.stateNode:null}var za={};function Wu(Ke,Qe,tr,ir){this.tag=Ke,this.key=tr,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Qe,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ir,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ro(Ke,Qe,tr,ir){return new Wu(Ke,Qe,tr,ir)}function Gu(Ke){return Ke=Ke.prototype,!(!Ke||!Ke.isReactComponent)}function qo(Ke,Qe){var tr=Ke.alternate;return tr===null?(tr=ro(Ke.tag,Qe,Ke.key,Ke.mode),tr.elementType=Ke.elementType,tr.type=Ke.type,tr.stateNode=Ke.stateNode,tr.alternate=Ke,Ke.alternate=tr):(tr.pendingProps=Qe,tr.type=Ke.type,tr.flags=0,tr.subtreeFlags=0,tr.deletions=null),tr.flags=Ke.flags&65011712,tr.childLanes=Ke.childLanes,tr.lanes=Ke.lanes,tr.child=Ke.child,tr.memoizedProps=Ke.memoizedProps,tr.memoizedState=Ke.memoizedState,tr.updateQueue=Ke.updateQueue,Qe=Ke.dependencies,tr.dependencies=Qe===null?null:{lanes:Qe.lanes,firstContext:Qe.firstContext},tr.sibling=Ke.sibling,tr.index=Ke.index,tr.ref=Ke.ref,tr.refCleanup=Ke.refCleanup,tr}function ku(Ke,Qe){Ke.flags&=65011714;var tr=Ke.alternate;return tr===null?(Ke.childLanes=0,Ke.lanes=Qe,Ke.child=null,Ke.subtreeFlags=0,Ke.memoizedProps=null,Ke.memoizedState=null,Ke.updateQueue=null,Ke.dependencies=null,Ke.stateNode=null):(Ke.childLanes=tr.childLanes,Ke.lanes=tr.lanes,Ke.child=tr.child,Ke.subtreeFlags=0,Ke.deletions=null,Ke.memoizedProps=tr.memoizedProps,Ke.memoizedState=tr.memoizedState,Ke.updateQueue=tr.updateQueue,Ke.type=tr.type,Qe=tr.dependencies,Ke.dependencies=Qe===null?null:{lanes:Qe.lanes,firstContext:Qe.firstContext}),Ke}function nu(Ke,Qe,tr,ir,pr,xr){var $r=0;if(ir=Ke,typeof Ke=="function")Gu(Ke)&&($r=1);else if(typeof Ke=="string")$r=Ev(Ke,tr,Ur.current)?26:Ke==="html"||Ke==="head"||Ke==="body"?27:5;else e:switch(Ke){case _r:return Ke=ro(31,tr,Qe,pr),Ke.elementType=_r,Ke.lanes=xr,Ke;case nr:return hc(tr.children,pr,xr,Qe);case ar:$r=8,pr|=24;break;case sr:return Ke=ro(12,tr,Qe,pr|2),Ke.elementType=sr,Ke.lanes=xr,Ke;case hr:return Ke=ro(13,tr,Qe,pr),Ke.elementType=hr,Ke.lanes=xr,Ke;case yr:return Ke=ro(19,tr,Qe,pr),Ke.elementType=yr,Ke.lanes=xr,Ke;default:if(typeof Ke=="object"&&Ke!==null)switch(Ke.$$typeof){case or:$r=10;break e;case lr:$r=9;break e;case cr:$r=11;break e;case mr:$r=14;break e;case vr:$r=16,ir=null;break e}$r=29,tr=Error(Ue(130,Ke===null?"null":typeof Ke,"")),ir=null}return Qe=ro($r,tr,Qe,pr),Qe.elementType=Ke,Qe.type=ir,Qe.lanes=xr,Qe}function hc(Ke,Qe,tr,ir){return Ke=ro(7,Ke,ir,Qe),Ke.lanes=tr,Ke}function Du(Ke,Qe,tr){return Ke=ro(6,Ke,null,Qe),Ke.lanes=tr,Ke}function Ku(Ke){var Qe=ro(18,null,null,0);return Qe.stateNode=Ke,Qe}function iu(Ke,Qe,tr){return Qe=ro(4,Ke.children!==null?Ke.children:[],Ke.key,Qe),Qe.lanes=tr,Qe.stateNode={containerInfo:Ke.containerInfo,pendingChildren:null,implementation:Ke.implementation},Qe}var Yu=new WeakMap;function Ho(Ke,Qe){if(typeof Ke=="object"&&Ke!==null){var tr=Yu.get(Ke);return tr!==void 0?tr:(Qe={value:Ke,source:Qe,stack:ii(Qe)},Yu.set(Ke,Qe),Qe)}return{value:Ke,source:Qe,stack:ii(Qe)}}var su=[],Oc=0,Xu=null,Mu=0,Wo=[],Go=0,fc=null,Ko=1,Yo="";function Oo(Ke,Qe){su[Oc++]=Mu,su[Oc++]=Xu,Xu=Ke,Mu=Qe}function ch(Ke,Qe,tr){Wo[Go++]=Ko,Wo[Go++]=Yo,Wo[Go++]=fc,fc=Ke;var ir=Ko;Ke=Yo;var pr=32-Wi(ir)-1;ir&=~(1<<pr),tr+=1;var xr=32-Wi(Qe)+pr;if(30<xr){var $r=pr-pr%5;xr=(ir&(1<<$r)-1).toString(32),ir>>=$r,pr-=$r,Ko=1<<32-Wi(Qe)+pr|tr<<pr|ir,Yo=xr+Ke}else Ko=1<<xr|tr<<pr|ir,Yo=Ke}function Td(Ke){Ke.return!==null&&(Oo(Ke,1),ch(Ke,1,0))}function Qu(Ke){for(;Ke===Xu;)Xu=su[--Oc],su[Oc]=null,Mu=su[--Oc],su[Oc]=null;for(;Ke===fc;)fc=Wo[--Go],Wo[Go]=null,Yo=Wo[--Go],Wo[Go]=null,Ko=Wo[--Go],Wo[Go]=null}function uh(Ke,Qe){Wo[Go++]=Ko,Wo[Go++]=Yo,Wo[Go++]=fc,Ko=Qe.id,Yo=Qe.overflow,fc=Ke}var qa=null,Gs=null,ds=!1,vo=null,sa=!1,hl=Error(Ue(519));function pc(Ke){var Qe=Error(Ue(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(Ho(Qe,Ke)),hl}function jd(Ke){var Qe=Ke.stateNode,tr=Ke.type,ir=Ke.memoizedProps;switch(Qe[Mi]=Ke,Qe[Gi]=ir,tr){case"dialog":fs("cancel",Qe),fs("close",Qe);break;case"iframe":case"object":case"embed":fs("load",Qe);break;case"video":case"audio":for(tr=0;tr<Xd.length;tr++)fs(Xd[tr],Qe);break;case"source":fs("error",Qe);break;case"img":case"image":case"link":fs("error",Qe),fs("load",Qe);break;case"details":fs("toggle",Qe);break;case"input":fs("invalid",Qe),Qc(Qe,ir.value,ir.defaultValue,ir.checked,ir.defaultChecked,ir.type,ir.name,!0);break;case"select":fs("invalid",Qe);break;case"textarea":fs("invalid",Qe),sl(Qe,ir.value,ir.defaultValue,ir.children)}tr=ir.children,typeof tr!="string"&&typeof tr!="number"&&typeof tr!="bigint"||Qe.textContent===""+tr||ir.suppressHydrationWarning===!0||Wm(Qe.textContent,tr)?(ir.popover!=null&&(fs("beforetoggle",Qe),fs("toggle",Qe)),ir.onScroll!=null&&fs("scroll",Qe),ir.onScrollEnd!=null&&fs("scrollend",Qe),ir.onClick!=null&&(Qe.onclick=Po),Qe=!0):Qe=!1,Qe||pc(Ke,!0)}function Yl(Ke){for(qa=Ke.return;qa;)switch(qa.tag){case 5:case 31:case 13:sa=!1;return;case 27:case 3:sa=!0;return;default:qa=qa.return}}function Ha(Ke){if(Ke!==qa)return!1;if(!ds)return Yl(Ke),ds=!0,!1;var Qe=Ke.tag,tr;if((tr=Qe!==3&&Qe!==27)&&((tr=Qe===5)&&(tr=Ke.type,tr=!(tr!=="form"&&tr!=="button")||Yf(Ke.type,Ke.memoizedProps)),tr=!tr),tr&&Gs&&pc(Ke),Yl(Ke),Qe===13){if(Ke=Ke.memoizedState,Ke=Ke!==null?Ke.dehydrated:null,!Ke)throw Error(Ue(317));Gs=tg(Ke)}else if(Qe===31){if(Ke=Ke.memoizedState,Ke=Ke!==null?Ke.dehydrated:null,!Ke)throw Error(Ue(317));Gs=tg(Ke)}else Qe===27?(Qe=Gs,bu(Ke.type)?(Ke=ep,ep=null,Gs=Ke):Gs=Qe):Gs=qa?kl(Ke.stateNode.nextSibling):null;return!0}function Lc(){Gs=qa=null,ds=!1}function Pd(){var Ke=vo;return Ke!==null&&(tl===null?tl=Ke:tl.push.apply(tl,Ke),vo=null),Ke}function au(Ke){vo===null?vo=[Ke]:vo.push(Ke)}var Ju=Pr(null),mc=null,Cl=null;function gc(Ke,Qe,tr){Vr(Ju,Qe._currentValue),Qe._currentValue=tr}function Xo(Ke){Ke._currentValue=Ju.current,Tr(Ju)}function ou(Ke,Qe,tr){for(;Ke!==null;){var ir=Ke.alternate;if((Ke.childLanes&Qe)!==Qe?(Ke.childLanes|=Qe,ir!==null&&(ir.childLanes|=Qe)):ir!==null&&(ir.childLanes&Qe)!==Qe&&(ir.childLanes|=Qe),Ke===tr)break;Ke=Ke.return}}function $c(Ke,Qe,tr,ir){var pr=Ke.child;for(pr!==null&&(pr.return=Ke);pr!==null;){var xr=pr.dependencies;if(xr!==null){var $r=pr.child;xr=xr.firstContext;e:for(;xr!==null;){var Wr=xr;xr=pr;for(var vn=0;vn<Qe.length;vn++)if(Wr.context===Qe[vn]){xr.lanes|=tr,Wr=xr.alternate,Wr!==null&&(Wr.lanes|=tr),ou(xr.return,tr,Ke),ir||($r=null);break e}xr=Wr.next}}else if(pr.tag===18){if($r=pr.return,$r===null)throw Error(Ue(341));$r.lanes|=tr,xr=$r.alternate,xr!==null&&(xr.lanes|=tr),ou($r,tr,Ke),$r=null}else $r=pr.child;if($r!==null)$r.return=pr;else for($r=pr;$r!==null;){if($r===Ke){$r=null;break}if(pr=$r.sibling,pr!==null){pr.return=$r.return,$r=pr;break}$r=$r.return}pr=$r}}function vc(Ke,Qe,tr,ir){Ke=null;for(var pr=Qe,xr=!1;pr!==null;){if(!xr){if((pr.flags&524288)!==0)xr=!0;else if((pr.flags&262144)!==0)break}if(pr.tag===10){var $r=pr.alternate;if($r===null)throw Error(Ue(387));if($r=$r.memoizedProps,$r!==null){var Wr=pr.type;Ua(pr.pendingProps.value,$r.value)||(Ke!==null?Ke.push(Wr):Ke=[Wr])}}else if(pr===mn.current){if($r=pr.alternate,$r===null)throw Error(Ue(387));$r.memoizedState.memoizedState!==pr.memoizedState.memoizedState&&(Ke!==null?Ke.push(th):Ke=[th])}pr=pr.return}Ke!==null&&$c(Qe,Ke,tr,ir),Qe.flags|=262144}function Zu(Ke){for(Ke=Ke.firstContext;Ke!==null;){if(!Ua(Ke.context._currentValue,Ke.memoizedValue))return!0;Ke=Ke.next}return!1}function yc(Ke){mc=Ke,Cl=null,Ke=Ke.dependencies,Ke!==null&&(Ke.firstContext=null)}function Wa(Ke){return dh(mc,Ke)}function ed(Ke,Qe){return mc===null&&yc(Ke),dh(Ke,Qe)}function dh(Ke,Qe){var tr=Qe._currentValue;if(Qe={context:Qe,memoizedValue:tr,next:null},Cl===null){if(Ke===null)throw Error(Ue(308));Cl=Qe,Ke.dependencies={lanes:0,firstContext:Qe},Ke.flags|=524288}else Cl=Cl.next=Qe;return tr}var Jh=typeof AbortController<"u"?AbortController:function(){var Ke=[],Qe=this.signal={aborted:!1,addEventListener:function(tr,ir){Ke.push(ir)}};this.abort=function(){Qe.aborted=!0,Ke.forEach(function(tr){return tr()})}},Zh=Ve.unstable_scheduleCallback,ef=Ve.unstable_NormalPriority,pa={$$typeof:or,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lu(){return{controller:new Jh,data:new Map,refCount:0}}function Ou(Ke){Ke.refCount--,Ke.refCount===0&&Zh(ef,function(){Ke.controller.abort()})}var Lu=null,rd=0,ur=0,gr=null;function jr(Ke,Qe){if(Lu===null){var tr=Lu=[];rd=0,ur=Vf(),gr={status:"pending",value:void 0,then:function(ir){tr.push(ir)}}}return rd++,Qe.then(Mr,Mr),Qe}function Mr(){if(--rd===0&&Lu!==null){gr!==null&&(gr.status="fulfilled");var Ke=Lu;Lu=null,ur=0,gr=null;for(var Qe=0;Qe<Ke.length;Qe++)(0,Ke[Qe])()}}function zr(Ke,Qe){var tr=[],ir={status:"pending",value:null,reason:null,then:function(pr){tr.push(pr)}};return Ke.then(function(){ir.status="fulfilled",ir.value=Qe;for(var pr=0;pr<tr.length;pr++)(0,tr[pr])(Qe)},function(pr){for(ir.status="rejected",ir.reason=pr,pr=0;pr<tr.length;pr++)(0,tr[pr])(void 0)}),ir}var qr=Er.S;Er.S=function(Ke,Qe){gm=xn(),typeof Qe=="object"&&Qe!==null&&typeof Qe.then=="function"&&jr(Ke,Qe),qr!==null&&qr(Ke,Qe)};var Hr=Pr(null);function Kr(){var Ke=Hr.current;return Ke!==null?Ke:Ys.pooledCache}function Jr(Ke,Qe){Qe===null?Vr(Hr,Hr.current):Vr(Hr,Qe.pool)}function pn(){var Ke=Kr();return Ke===null?null:{parent:pa._currentValue,pool:Ke}}var En=Error(Ue(460)),On=Error(Ue(474)),dn=Error(Ue(542)),Rn={then:function(){}};function Dn(Ke){return Ke=Ke.status,Ke==="fulfilled"||Ke==="rejected"}function Wn(Ke,Qe,tr){switch(tr=Ke[tr],tr===void 0?Ke.push(Qe):tr!==Qe&&(Qe.then(Po,Po),Qe=tr),Qe.status){case"fulfilled":return Qe.value;case"rejected":throw Ke=Qe.reason,ai(Ke),Ke;default:if(typeof Qe.status=="string")Qe.then(Po,Po);else{if(Ke=Ys,Ke!==null&&100<Ke.shellSuspendCounter)throw Error(Ue(482));Ke=Qe,Ke.status="pending",Ke.then(function(ir){if(Qe.status==="pending"){var pr=Qe;pr.status="fulfilled",pr.value=ir}},function(ir){if(Qe.status==="pending"){var pr=Qe;pr.status="rejected",pr.reason=ir}})}switch(Qe.status){case"fulfilled":return Qe.value;case"rejected":throw Ke=Qe.reason,ai(Ke),Ke}throw Hn=Qe,En}}function Mn(Ke){try{var Qe=Ke._init;return Qe(Ke._payload)}catch(tr){throw tr!==null&&typeof tr=="object"&&typeof tr.then=="function"?(Hn=tr,En):tr}}var Hn=null;function Xn(){if(Hn===null)throw Error(Ue(459));var Ke=Hn;return Hn=null,Ke}function ai(Ke){if(Ke===En||Ke===dn)throw Error(Ue(483))}var ti=null,Ri=0;function xi(Ke){var Qe=Ri;return Ri+=1,ti===null&&(ti=[]),Wn(ti,Ke,Qe)}function Xi(Ke,Qe){Qe=Qe.props.ref,Ke.ref=Qe!==void 0?Qe:null}function Ei(Ke,Qe){throw Qe.$$typeof===er?Error(Ue(525)):(Ke=Object.prototype.toString.call(Qe),Error(Ue(31,Ke==="[object Object]"?"object with keys {"+Object.keys(Qe).join(", ")+"}":Ke)))}function us(Ke){function Qe(Nn,wn){if(Ke){var Ln=Nn.deletions;Ln===null?(Nn.deletions=[wn],Nn.flags|=16):Ln.push(wn)}}function tr(Nn,wn){if(!Ke)return null;for(;wn!==null;)Qe(Nn,wn),wn=wn.sibling;return null}function ir(Nn){for(var wn=new Map;Nn!==null;)Nn.key!==null?wn.set(Nn.key,Nn):wn.set(Nn.index,Nn),Nn=Nn.sibling;return wn}function pr(Nn,wn){return Nn=qo(Nn,wn),Nn.index=0,Nn.sibling=null,Nn}function xr(Nn,wn,Ln){return Nn.index=Ln,Ke?(Ln=Nn.alternate,Ln!==null?(Ln=Ln.index,Ln<wn?(Nn.flags|=67108866,wn):Ln):(Nn.flags|=67108866,wn)):(Nn.flags|=1048576,wn)}function $r(Nn){return Ke&&Nn.alternate===null&&(Nn.flags|=67108866),Nn}function Wr(Nn,wn,Ln,Jn){return wn===null||wn.tag!==6?(wn=Du(Ln,Nn.mode,Jn),wn.return=Nn,wn):(wn=pr(wn,Ln),wn.return=Nn,wn)}function vn(Nn,wn,Ln,Jn){var Bi=Ln.type;return Bi===nr?Kn(Nn,wn,Ln.props.children,Jn,Ln.key):wn!==null&&(wn.elementType===Bi||typeof Bi=="object"&&Bi!==null&&Bi.$$typeof===vr&&Mn(Bi)===wn.type)?(wn=pr(wn,Ln.props),Xi(wn,Ln),wn.return=Nn,wn):(wn=nu(Ln.type,Ln.key,Ln.props,null,Nn.mode,Jn),Xi(wn,Ln),wn.return=Nn,wn)}function $n(Nn,wn,Ln,Jn){return wn===null||wn.tag!==4||wn.stateNode.containerInfo!==Ln.containerInfo||wn.stateNode.implementation!==Ln.implementation?(wn=iu(Ln,Nn.mode,Jn),wn.return=Nn,wn):(wn=pr(wn,Ln.children||[]),wn.return=Nn,wn)}function Kn(Nn,wn,Ln,Jn,Bi){return wn===null||wn.tag!==7?(wn=hc(Ln,Nn.mode,Jn,Bi),wn.return=Nn,wn):(wn=pr(wn,Ln),wn.return=Nn,wn)}function Zn(Nn,wn,Ln){if(typeof wn=="string"&&wn!==""||typeof wn=="number"||typeof wn=="bigint")return wn=Du(""+wn,Nn.mode,Ln),wn.return=Nn,wn;if(typeof wn=="object"&&wn!==null){switch(wn.$$typeof){case Ze:return Ln=nu(wn.type,wn.key,wn.props,null,Nn.mode,Ln),Xi(Ln,wn),Ln.return=Nn,Ln;case rr:return wn=iu(wn,Nn.mode,Ln),wn.return=Nn,wn;case vr:return wn=Mn(wn),Zn(Nn,wn,Ln)}if(Or(wn)||fr(wn))return wn=hc(wn,Nn.mode,Ln,null),wn.return=Nn,wn;if(typeof wn.then=="function")return Zn(Nn,xi(wn),Ln);if(wn.$$typeof===or)return Zn(Nn,ed(Nn,wn),Ln);Ei(Nn,wn)}return null}function Bn(Nn,wn,Ln,Jn){var Bi=wn!==null?wn.key:null;if(typeof Ln=="string"&&Ln!==""||typeof Ln=="number"||typeof Ln=="bigint")return Bi!==null?null:Wr(Nn,wn,""+Ln,Jn);if(typeof Ln=="object"&&Ln!==null){switch(Ln.$$typeof){case Ze:return Ln.key===Bi?vn(Nn,wn,Ln,Jn):null;case rr:return Ln.key===Bi?$n(Nn,wn,Ln,Jn):null;case vr:return Ln=Mn(Ln),Bn(Nn,wn,Ln,Jn)}if(Or(Ln)||fr(Ln))return Bi!==null?null:Kn(Nn,wn,Ln,Jn,null);if(typeof Ln.then=="function")return Bn(Nn,wn,xi(Ln),Jn);if(Ln.$$typeof===or)return Bn(Nn,wn,ed(Nn,Ln),Jn);Ei(Nn,Ln)}return null}function qn(Nn,wn,Ln,Jn,Bi){if(typeof Jn=="string"&&Jn!==""||typeof Jn=="number"||typeof Jn=="bigint")return Nn=Nn.get(Ln)||null,Wr(wn,Nn,""+Jn,Bi);if(typeof Jn=="object"&&Jn!==null){switch(Jn.$$typeof){case Ze:return Nn=Nn.get(Jn.key===null?Ln:Jn.key)||null,vn(wn,Nn,Jn,Bi);case rr:return Nn=Nn.get(Jn.key===null?Ln:Jn.key)||null,$n(wn,Nn,Jn,Bi);case vr:return Jn=Mn(Jn),qn(Nn,wn,Ln,Jn,Bi)}if(Or(Jn)||fr(Jn))return Nn=Nn.get(Ln)||null,Kn(wn,Nn,Jn,Bi,null);if(typeof Jn.then=="function")return qn(Nn,wn,Ln,xi(Jn),Bi);if(Jn.$$typeof===or)return qn(Nn,wn,Ln,ed(wn,Jn),Bi);Ei(wn,Jn)}return null}function wi(Nn,wn,Ln,Jn){for(var Bi=null,Ts=null,Pi=wn,ts=wn=0,vs=null;Pi!==null&&ts<Ln.length;ts++){Pi.index>ts?(vs=Pi,Pi=null):vs=Pi.sibling;var js=Bn(Nn,Pi,Ln[ts],Jn);if(js===null){Pi===null&&(Pi=vs);break}Ke&&Pi&&js.alternate===null&&Qe(Nn,Pi),wn=xr(js,wn,ts),Ts===null?Bi=js:Ts.sibling=js,Ts=js,Pi=vs}if(ts===Ln.length)return tr(Nn,Pi),ds&&Oo(Nn,ts),Bi;if(Pi===null){for(;ts<Ln.length;ts++)Pi=Zn(Nn,Ln[ts],Jn),Pi!==null&&(wn=xr(Pi,wn,ts),Ts===null?Bi=Pi:Ts.sibling=Pi,Ts=Pi);return ds&&Oo(Nn,ts),Bi}for(Pi=ir(Pi);ts<Ln.length;ts++)vs=qn(Pi,Nn,ts,Ln[ts],Jn),vs!==null&&(Ke&&vs.alternate!==null&&Pi.delete(vs.key===null?ts:vs.key),wn=xr(vs,wn,ts),Ts===null?Bi=vs:Ts.sibling=vs,Ts=vs);return Ke&&Pi.forEach(function(Ru){return Qe(Nn,Ru)}),ds&&Oo(Nn,ts),Bi}function Hi(Nn,wn,Ln,Jn){if(Ln==null)throw Error(Ue(151));for(var Bi=null,Ts=null,Pi=wn,ts=wn=0,vs=null,js=Ln.next();Pi!==null&&!js.done;ts++,js=Ln.next()){Pi.index>ts?(vs=Pi,Pi=null):vs=Pi.sibling;var Ru=Bn(Nn,Pi,js.value,Jn);if(Ru===null){Pi===null&&(Pi=vs);break}Ke&&Pi&&Ru.alternate===null&&Qe(Nn,Pi),wn=xr(Ru,wn,ts),Ts===null?Bi=Ru:Ts.sibling=Ru,Ts=Ru,Pi=vs}if(js.done)return tr(Nn,Pi),ds&&Oo(Nn,ts),Bi;if(Pi===null){for(;!js.done;ts++,js=Ln.next())js=Zn(Nn,js.value,Jn),js!==null&&(wn=xr(js,wn,ts),Ts===null?Bi=js:Ts.sibling=js,Ts=js);return ds&&Oo(Nn,ts),Bi}for(Pi=ir(Pi);!js.done;ts++,js=Ln.next())js=qn(Pi,Nn,ts,js.value,Jn),js!==null&&(Ke&&js.alternate!==null&&Pi.delete(js.key===null?ts:js.key),wn=xr(js,wn,ts),Ts===null?Bi=js:Ts.sibling=js,Ts=js);return Ke&&Pi.forEach(function(kv){return Qe(Nn,kv)}),ds&&Oo(Nn,ts),Bi}function Hs(Nn,wn,Ln,Jn){if(typeof Ln=="object"&&Ln!==null&&Ln.type===nr&&Ln.key===null&&(Ln=Ln.props.children),typeof Ln=="object"&&Ln!==null){switch(Ln.$$typeof){case Ze:e:{for(var Bi=Ln.key;wn!==null;){if(wn.key===Bi){if(Bi=Ln.type,Bi===nr){if(wn.tag===7){tr(Nn,wn.sibling),Jn=pr(wn,Ln.props.children),Jn.return=Nn,Nn=Jn;break e}}else if(wn.elementType===Bi||typeof Bi=="object"&&Bi!==null&&Bi.$$typeof===vr&&Mn(Bi)===wn.type){tr(Nn,wn.sibling),Jn=pr(wn,Ln.props),Xi(Jn,Ln),Jn.return=Nn,Nn=Jn;break e}tr(Nn,wn);break}else Qe(Nn,wn);wn=wn.sibling}Ln.type===nr?(Jn=hc(Ln.props.children,Nn.mode,Jn,Ln.key),Jn.return=Nn,Nn=Jn):(Jn=nu(Ln.type,Ln.key,Ln.props,null,Nn.mode,Jn),Xi(Jn,Ln),Jn.return=Nn,Nn=Jn)}return $r(Nn);case rr:e:{for(Bi=Ln.key;wn!==null;){if(wn.key===Bi)if(wn.tag===4&&wn.stateNode.containerInfo===Ln.containerInfo&&wn.stateNode.implementation===Ln.implementation){tr(Nn,wn.sibling),Jn=pr(wn,Ln.children||[]),Jn.return=Nn,Nn=Jn;break e}else{tr(Nn,wn);break}else Qe(Nn,wn);wn=wn.sibling}Jn=iu(Ln,Nn.mode,Jn),Jn.return=Nn,Nn=Jn}return $r(Nn);case vr:return Ln=Mn(Ln),Hs(Nn,wn,Ln,Jn)}if(Or(Ln))return wi(Nn,wn,Ln,Jn);if(fr(Ln)){if(Bi=fr(Ln),typeof Bi!="function")throw Error(Ue(150));return Ln=Bi.call(Ln),Hi(Nn,wn,Ln,Jn)}if(typeof Ln.then=="function")return Hs(Nn,wn,xi(Ln),Jn);if(Ln.$$typeof===or)return Hs(Nn,wn,ed(Nn,Ln),Jn);Ei(Nn,Ln)}return typeof Ln=="string"&&Ln!==""||typeof Ln=="number"||typeof Ln=="bigint"?(Ln=""+Ln,wn!==null&&wn.tag===6?(tr(Nn,wn.sibling),Jn=pr(wn,Ln),Jn.return=Nn,Nn=Jn):(tr(Nn,wn),Jn=Du(Ln,Nn.mode,Jn),Jn.return=Nn,Nn=Jn),$r(Nn)):tr(Nn,wn)}return function(Nn,wn,Ln,Jn){try{Ri=0;var Bi=Hs(Nn,wn,Ln,Jn);return ti=null,Bi}catch(Pi){if(Pi===En||Pi===dn)throw Pi;var Ts=ro(29,Pi,null,Nn.mode);return Ts.lanes=Jn,Ts.return=Nn,Ts}finally{}}}var Ks=us(!0),Ji=us(!1),bi=!1;function gi(Ke){Ke.updateQueue={baseState:Ke.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qs(Ke,Qe){Ke=Ke.updateQueue,Qe.updateQueue===Ke&&(Qe.updateQueue={baseState:Ke.baseState,firstBaseUpdate:Ke.firstBaseUpdate,lastBaseUpdate:Ke.lastBaseUpdate,shared:Ke.shared,callbacks:null})}function qi(Ke){return{lane:Ke,tag:0,payload:null,callback:null,next:null}}function es(Ke,Qe,tr){var ir=Ke.updateQueue;if(ir===null)return null;if(ir=ir.shared,(Ns&2)!==0){var pr=ir.pending;return pr===null?Qe.next=Qe:(Qe.next=pr.next,pr.next=Qe),ir.pending=Qe,Qe=eo(Ke),Nu(Ke,null,tr),Qe}return Iu(Ke,ir,Qe,tr),eo(Ke)}function Cs(Ke,Qe,tr){if(Qe=Qe.updateQueue,Qe!==null&&(Qe=Qe.shared,(tr&4194048)!==0)){var ir=Qe.lanes;ir&=Ke.pendingLanes,tr|=ir,Qe.lanes=tr,Zi(Ke,tr)}}function ja(Ke,Qe){var tr=Ke.updateQueue,ir=Ke.alternate;if(ir!==null&&(ir=ir.updateQueue,tr===ir)){var pr=null,xr=null;if(tr=tr.firstBaseUpdate,tr!==null){do{var $r={lane:tr.lane,tag:tr.tag,payload:tr.payload,callback:null,next:null};xr===null?pr=xr=$r:xr=xr.next=$r,tr=tr.next}while(tr!==null);xr===null?pr=xr=Qe:xr=xr.next=Qe}else pr=xr=Qe;tr={baseState:ir.baseState,firstBaseUpdate:pr,lastBaseUpdate:xr,shared:ir.shared,callbacks:ir.callbacks},Ke.updateQueue=tr;return}Ke=tr.lastBaseUpdate,Ke===null?tr.firstBaseUpdate=Qe:Ke.next=Qe,tr.lastBaseUpdate=Qe}var Ga=!1;function Us(){if(Ga){var Ke=gr;if(Ke!==null)throw Ke}}function ya(Ke,Qe,tr,ir){Ga=!1;var pr=Ke.updateQueue;bi=!1;var xr=pr.firstBaseUpdate,$r=pr.lastBaseUpdate,Wr=pr.shared.pending;if(Wr!==null){pr.shared.pending=null;var vn=Wr,$n=vn.next;vn.next=null,$r===null?xr=$n:$r.next=$n,$r=vn;var Kn=Ke.alternate;Kn!==null&&(Kn=Kn.updateQueue,Wr=Kn.lastBaseUpdate,Wr!==$r&&(Wr===null?Kn.firstBaseUpdate=$n:Wr.next=$n,Kn.lastBaseUpdate=vn))}if(xr!==null){var Zn=pr.baseState;$r=0,Kn=$n=vn=null,Wr=xr;do{var Bn=Wr.lane&-536870913,qn=Bn!==Wr.lane;if(qn?(gs&Bn)===Bn:(ir&Bn)===Bn){Bn!==0&&Bn===ur&&(Ga=!0),Kn!==null&&(Kn=Kn.next={lane:0,tag:Wr.tag,payload:Wr.payload,callback:null,next:null});e:{var wi=Ke,Hi=Wr;Bn=Qe;var Hs=tr;switch(Hi.tag){case 1:if(wi=Hi.payload,typeof wi=="function"){Zn=wi.call(Hs,Zn,Bn);break e}Zn=wi;break e;case 3:wi.flags=wi.flags&-65537|128;case 0:if(wi=Hi.payload,Bn=typeof wi=="function"?wi.call(Hs,Zn,Bn):wi,Bn==null)break e;Zn=Je({},Zn,Bn);break e;case 2:bi=!0}}Bn=Wr.callback,Bn!==null&&(Ke.flags|=64,qn&&(Ke.flags|=8192),qn=pr.callbacks,qn===null?pr.callbacks=[Bn]:qn.push(Bn))}else qn={lane:Bn,tag:Wr.tag,payload:Wr.payload,callback:Wr.callback,next:null},Kn===null?($n=Kn=qn,vn=Zn):Kn=Kn.next=qn,$r|=Bn;if(Wr=Wr.next,Wr===null){if(Wr=pr.shared.pending,Wr===null)break;qn=Wr,Wr=qn.next,qn.next=null,pr.lastBaseUpdate=qn,pr.shared.pending=null}}while(!0);Kn===null&&(vn=Zn),pr.baseState=vn,pr.firstBaseUpdate=$n,pr.lastBaseUpdate=Kn,xr===null&&(pr.shared.lanes=0),mu|=$r,Ke.lanes=$r,Ke.memoizedState=Zn}}function no(Ke,Qe){if(typeof Ke!="function")throw Error(Ue(191,Ke));Ke.call(Qe)}function xa(Ke,Qe){var tr=Ke.callbacks;if(tr!==null)for(Ke.callbacks=null,Ke=0;Ke<tr.length;Ke++)no(tr[Ke],Qe)}var ns=Pr(null),bs=Pr(0);function Js(Ke,Qe){Ke=Kc,Vr(bs,Ke),Vr(ns,Qe),Kc=Ke|Qe.baseLanes}function Ss(){Vr(bs,Kc),Vr(ns,ns.current)}function Pa(){Kc=bs.current,Tr(ns),Tr(bs)}var Zs=Pr(null),_s=null;function ma(Ke){var Qe=Ke.alternate;Vr(xs,xs.current&1),Vr(Zs,Ke),_s===null&&(Qe===null||ns.current!==null||Qe.memoizedState!==null)&&(_s=Ke)}function Is(Ke){Vr(xs,xs.current),Vr(Zs,Ke),_s===null&&(_s=Ke)}function ba(Ke){Ke.tag===22?(Vr(xs,xs.current),Vr(Zs,Ke),_s===null&&(_s=Ke)):Ea()}function Ea(){Vr(xs,xs.current),Vr(Zs,Zs.current)}function Os(Ke){Tr(Zs),_s===Ke&&(_s=null),Tr(xs)}var xs=Pr(0);function io(Ke){for(var Qe=Ke;Qe!==null;){if(Qe.tag===13){var tr=Qe.memoizedState;if(tr!==null&&(tr=tr.dehydrated,tr===null||Jf(tr)||Zf(tr)))return Qe}else if(Qe.tag===19&&(Qe.memoizedProps.revealOrder==="forwards"||Qe.memoizedProps.revealOrder==="backwards"||Qe.memoizedProps.revealOrder==="unstable_legacy-backwards"||Qe.memoizedProps.revealOrder==="together")){if((Qe.flags&128)!==0)return Qe}else if(Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===Ke)break;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===Ke)return null;Qe=Qe.return}Qe.sibling.return=Qe.return,Qe=Qe.sibling}return null}var aa=0,Li=null,Vi=null,Es=null,Ao=!1,Qo=!1,yo=!1,wa=0,xc=0,bc=null,nd=0;function zs(){throw Error(Ue(321))}function Cd(Ke,Qe){if(Qe===null)return!1;for(var tr=0;tr<Qe.length&&tr<Ke.length;tr++)if(!Ua(Ke[tr],Qe[tr]))return!1;return!0}function Id(Ke,Qe,tr,ir,pr,xr){return aa=xr,Li=Qe,Qe.memoizedState=null,Qe.updateQueue=null,Qe.lanes=0,Er.H=Ke===null||Ke.memoizedState===null?Tp:cf,yo=!1,xr=tr(ir,pr),yo=!1,Qo&&(xr=Xl(Qe,tr,ir,pr)),id(Ke),xr}function id(Ke){Er.H=Fd;var Qe=Vi!==null&&Vi.next!==null;if(aa=0,Es=Vi=Li=null,Ao=!1,xc=0,bc=null,Qe)throw Error(Ue(300));Ke===null||Oa||(Ke=Ke.dependencies,Ke!==null&&Zu(Ke)&&(Oa=!0))}function Xl(Ke,Qe,tr,ir){Li=Ke;var pr=0;do{if(Qo&&(bc=null),xc=0,Qo=!1,25<=pr)throw Error(Ue(301));if(pr+=1,Es=Vi=null,Ke.updateQueue!=null){var xr=Ke.updateQueue;xr.lastEffect=null,xr.events=null,xr.stores=null,xr.memoCache!=null&&(xr.memoCache.index=0)}Er.H=jp,xr=Qe(tr,ir)}while(Qo);return xr}function tf(){var Ke=Er.H,Qe=Ke.useState()[0];return Qe=typeof Qe.then=="function"?_c(Qe):Qe,Ke=Ke.useState()[0],(Vi!==null?Vi.memoizedState:null)!==Ke&&(Li.flags|=1024),Qe}function Nd(){var Ke=wa!==0;return wa=0,Ke}function kd(Ke,Qe,tr){Qe.updateQueue=Ke.updateQueue,Qe.flags&=-2053,Ke.lanes&=~tr}function sd(Ke){if(Ao){for(Ke=Ke.memoizedState;Ke!==null;){var Qe=Ke.queue;Qe!==null&&(Qe.pending=null),Ke=Ke.next}Ao=!1}aa=0,Es=Vi=Li=null,Qo=!1,xc=wa=0,bc=null}function Ma(){var Ke={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Es===null?Li.memoizedState=Es=Ke:Es=Es.next=Ke,Es}function oa(){if(Vi===null){var Ke=Li.alternate;Ke=Ke!==null?Ke.memoizedState:null}else Ke=Vi.next;var Qe=Es===null?Li.memoizedState:Es.next;if(Qe!==null)Es=Qe,Vi=Ke;else{if(Ke===null)throw Li.alternate===null?Error(Ue(467)):Error(Ue(310));Vi=Ke,Ke={memoizedState:Vi.memoizedState,baseState:Vi.baseState,baseQueue:Vi.baseQueue,queue:Vi.queue,next:null},Es===null?Li.memoizedState=Es=Ke:Es=Es.next=Ke}return Es}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _c(Ke){var Qe=xc;return xc+=1,bc===null&&(bc=[]),Ke=Wn(bc,Ke,Qe),Qe=Li,(Es===null?Qe.memoizedState:Es.next)===null&&(Qe=Qe.alternate,Er.H=Qe===null||Qe.memoizedState===null?Tp:cf),Ke}function cu(Ke){if(Ke!==null&&typeof Ke=="object"){if(typeof Ke.then=="function")return _c(Ke);if(Ke.$$typeof===or)return Wa(Ke)}throw Error(Ue(438,String(Ke)))}function Fc(Ke){var Qe=null,tr=Li.updateQueue;if(tr!==null&&(Qe=tr.memoCache),Qe==null){var ir=Li.alternate;ir!==null&&(ir=ir.updateQueue,ir!==null&&(ir=ir.memoCache,ir!=null&&(Qe={data:ir.data.map(function(pr){return pr.slice()}),index:0})))}if(Qe==null&&(Qe={data:[],index:0}),tr===null&&(tr=$u(),Li.updateQueue=tr),tr.memoCache=Qe,tr=Qe.data[Qe.index],tr===void 0)for(tr=Qe.data[Qe.index]=Array(Ke),ir=0;ir<Ke;ir++)tr[ir]=Cr;return Qe.index++,tr}function Il(Ke,Qe){return typeof Qe=="function"?Qe(Ke):Qe}function ad(Ke){var Qe=oa();return uu(Qe,Vi,Ke)}function uu(Ke,Qe,tr){var ir=Ke.queue;if(ir===null)throw Error(Ue(311));ir.lastRenderedReducer=tr;var pr=Ke.baseQueue,xr=ir.pending;if(xr!==null){if(pr!==null){var $r=pr.next;pr.next=xr.next,xr.next=$r}Qe.baseQueue=pr=xr,ir.pending=null}if(xr=Ke.baseState,pr===null)Ke.memoizedState=xr;else{Qe=pr.next;var Wr=$r=null,vn=null,$n=Qe,Kn=!1;do{var Zn=$n.lane&-536870913;if(Zn!==$n.lane?(gs&Zn)===Zn:(aa&Zn)===Zn){var Bn=$n.revertLane;if(Bn===0)vn!==null&&(vn=vn.next={lane:0,revertLane:0,gesture:null,action:$n.action,hasEagerState:$n.hasEagerState,eagerState:$n.eagerState,next:null}),Zn===ur&&(Kn=!0);else if((aa&Bn)===Bn){$n=$n.next,Bn===ur&&(Kn=!0);continue}else Zn={lane:0,revertLane:$n.revertLane,gesture:null,action:$n.action,hasEagerState:$n.hasEagerState,eagerState:$n.eagerState,next:null},vn===null?(Wr=vn=Zn,$r=xr):vn=vn.next=Zn,Li.lanes|=Bn,mu|=Bn;Zn=$n.action,yo&&tr(xr,Zn),xr=$n.hasEagerState?$n.eagerState:tr(xr,Zn)}else Bn={lane:Zn,revertLane:$n.revertLane,gesture:$n.gesture,action:$n.action,hasEagerState:$n.hasEagerState,eagerState:$n.eagerState,next:null},vn===null?(Wr=vn=Bn,$r=xr):vn=vn.next=Bn,Li.lanes|=Zn,mu|=Zn;$n=$n.next}while($n!==null&&$n!==Qe);if(vn===null?$r=xr:vn.next=Wr,!Ua(xr,Ke.memoizedState)&&(Oa=!0,Kn&&(tr=gr,tr!==null)))throw tr;Ke.memoizedState=xr,Ke.baseState=$r,Ke.baseQueue=vn,ir.lastRenderedState=xr}return pr===null&&(ir.lanes=0),[Ke.memoizedState,ir.dispatch]}function od(Ke){var Qe=oa(),tr=Qe.queue;if(tr===null)throw Error(Ue(311));tr.lastRenderedReducer=Ke;var ir=tr.dispatch,pr=tr.pending,xr=Qe.memoizedState;if(pr!==null){tr.pending=null;var $r=pr=pr.next;do xr=Ke(xr,$r.action),$r=$r.next;while($r!==pr);Ua(xr,Qe.memoizedState)||(Oa=!0),Qe.memoizedState=xr,Qe.baseQueue===null&&(Qe.baseState=xr),tr.lastRenderedState=xr}return[xr,ir]}function ld(Ke,Qe,tr){var ir=Li,pr=oa(),xr=ds;if(xr){if(tr===void 0)throw Error(Ue(407));tr=tr()}else tr=Qe();var $r=!Ua((Vi||pr).memoizedState,tr);if($r&&(pr.memoizedState=tr,Oa=!0),pr=pr.queue,rf(Md.bind(null,ir,pr,Ke),[Ke]),pr.getSnapshot!==Qe||$r||Es!==null&&Es.memoizedState.tag&1){if(ir.flags|=2048,Bc(9,{destroy:void 0},Dd.bind(null,ir,pr,tr,Qe),null),Ys===null)throw Error(Ue(349));xr||(aa&127)!==0||Ql(ir,Qe,tr)}return tr}function Ql(Ke,Qe,tr){Ke.flags|=16384,Ke={getSnapshot:Qe,value:tr},Qe=Li.updateQueue,Qe===null?(Qe=$u(),Li.updateQueue=Qe,Qe.stores=[Ke]):(tr=Qe.stores,tr===null?Qe.stores=[Ke]:tr.push(Ke))}function Dd(Ke,Qe,tr,ir){Qe.value=tr,Qe.getSnapshot=ir,hh(Qe)&&Od(Ke)}function Md(Ke,Qe,tr){return tr(function(){hh(Qe)&&Od(Ke)})}function hh(Ke){var Qe=Ke.getSnapshot;Ke=Ke.value;try{var tr=Qe();return!Ua(Ke,tr)}catch{return!0}}function Od(Ke){var Qe=Kl(Ke,2);Qe!==null&&rl(Qe,Ke,2)}function Ec(Ke){var Qe=Ma();if(typeof Ke=="function"){var tr=Ke;if(Ke=tr(),yo){Di(!0);try{tr()}finally{Di(!1)}}}return Qe.memoizedState=Qe.baseState=Ke,Qe.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:Ke},Qe}function fh(Ke,Qe,tr,ir){return Ke.baseState=tr,uu(Ke,Vi,typeof ir=="function"?ir:Il)}function ph(Ke,Qe,tr,ir,pr){if(yh(Ke))throw Error(Ue(485));if(Ke=Qe.action,Ke!==null){var xr={payload:pr,action:Ke,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($r){xr.listeners.push($r)}};Er.T!==null?tr(!0):xr.isTransition=!1,ir(xr),tr=Qe.pending,tr===null?(xr.next=Qe.pending=xr,mh(Qe,xr)):(xr.next=tr.next,Qe.pending=tr.next=xr)}}function mh(Ke,Qe){var tr=Qe.action,ir=Qe.payload,pr=Ke.state;if(Qe.isTransition){var xr=Er.T,$r={};Er.T=$r;try{var Wr=tr(pr,ir),vn=Er.S;vn!==null&&vn($r,Wr),Ld(Ke,Qe,Wr)}catch($n){Vc(Ke,Qe,$n)}finally{xr!==null&&$r.types!==null&&(xr.types=$r.types),Er.T=xr}}else try{xr=tr(pr,ir),Ld(Ke,Qe,xr)}catch($n){Vc(Ke,Qe,$n)}}function Ld(Ke,Qe,tr){tr!==null&&typeof tr=="object"&&typeof tr.then=="function"?tr.then(function(ir){gh(Ke,Qe,ir)},function(ir){return Vc(Ke,Qe,ir)}):gh(Ke,Qe,tr)}function gh(Ke,Qe,tr){Qe.status="fulfilled",Qe.value=tr,cd(Qe),Ke.state=tr,Qe=Ke.pending,Qe!==null&&(tr=Qe.next,tr===Qe?Ke.pending=null:(tr=tr.next,Qe.next=tr,mh(Ke,tr)))}function Vc(Ke,Qe,tr){var ir=Ke.pending;if(Ke.pending=null,ir!==null){ir=ir.next;do Qe.status="rejected",Qe.reason=tr,cd(Qe),Qe=Qe.next;while(Qe!==ir)}Ke.action=null}function cd(Ke){Ke=Ke.listeners;for(var Qe=0;Qe<Ke.length;Qe++)(0,Ke[Qe])()}function Fu(Ke,Qe){return Qe}function Nl(Ke,Qe){if(ds){var tr=Ys.formState;if(tr!==null){e:{var ir=Li;if(ds){if(Gs){t:{for(var pr=Gs,xr=sa;pr.nodeType!==8;){if(!xr){pr=null;break t}if(pr=kl(pr.nextSibling),pr===null){pr=null;break t}}xr=pr.data,pr=xr==="F!"||xr==="F"?pr:null}if(pr){Gs=kl(pr.nextSibling),ir=pr.data==="F!";break e}}pc(ir)}ir=!1}ir&&(Qe=tr[0])}}return tr=Ma(),tr.memoizedState=tr.baseState=Qe,ir={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:Qe},tr.queue=ir,tr=Sp.bind(null,Li,ir),ir.dispatch=tr,ir=Ec(!1),xr=lf.bind(null,Li,!1,ir.queue),ir=Ma(),pr={state:Qe,dispatch:null,action:Ke,pending:null},ir.queue=pr,tr=ph.bind(null,Li,pr,xr,tr),pr.dispatch=tr,ir.memoizedState=Ke,[Qe,tr,!1]}function Jl(Ke){var Qe=oa();return Zl(Qe,Vi,Ke)}function Zl(Ke,Qe,tr){if(Qe=uu(Ke,Qe,Fu)[0],Ke=ad(Il)[0],typeof Qe=="object"&&Qe!==null&&typeof Qe.then=="function")try{var ir=_c(Qe)}catch($r){throw $r===En?dn:$r}else ir=Qe;Qe=oa();var pr=Qe.queue,xr=pr.dispatch;return tr!==Qe.memoizedState&&(Li.flags|=2048,Bc(9,{destroy:void 0},ud.bind(null,pr,tr),null)),[ir,xr,Ke]}function ud(Ke,Qe){Ke.action=Qe}function dd(Ke){var Qe=oa(),tr=Vi;if(tr!==null)return Zl(Qe,tr,Ke);oa(),Qe=Qe.memoizedState,tr=oa();var ir=tr.queue.dispatch;return tr.memoizedState=Ke,[Qe,ir,!1]}function Bc(Ke,Qe,tr,ir){return Ke={tag:Ke,create:tr,deps:ir,inst:Qe,next:null},Qe=Li.updateQueue,Qe===null&&(Qe=$u(),Li.updateQueue=Qe),tr=Qe.lastEffect,tr===null?Qe.lastEffect=Ke.next=Ke:(ir=tr.next,tr.next=Ke,Ke.next=ir,Qe.lastEffect=Ke),Ke}function vh(){return oa().memoizedState}function du(Ke,Qe,tr,ir){var pr=Ma();Li.flags|=Ke,pr.memoizedState=Bc(1|Qe,{destroy:void 0},tr,ir===void 0?null:ir)}function hu(Ke,Qe,tr,ir){var pr=oa();ir=ir===void 0?null:ir;var xr=pr.memoizedState.inst;Vi!==null&&ir!==null&&Cd(ir,Vi.memoizedState.deps)?pr.memoizedState=Bc(Qe,xr,tr,ir):(Li.flags|=Ke,pr.memoizedState=Bc(1|Qe,xr,tr,ir))}function up(Ke,Qe){du(8390656,8,Ke,Qe)}function rf(Ke,Qe){hu(2048,8,Ke,Qe)}function Tg(Ke){Li.flags|=4;var Qe=Li.updateQueue;if(Qe===null)Qe=$u(),Li.updateQueue=Qe,Qe.events=[Ke];else{var tr=Qe.events;tr===null?Qe.events=[Ke]:tr.push(Ke)}}function dp(Ke){var Qe=oa().memoizedState;return Tg({ref:Qe,nextImpl:Ke}),function(){if((Ns&2)!==0)throw Error(Ue(440));return Qe.impl.apply(void 0,arguments)}}function hp(Ke,Qe){return hu(4,2,Ke,Qe)}function fp(Ke,Qe){return hu(4,4,Ke,Qe)}function pp(Ke,Qe){if(typeof Qe=="function"){Ke=Ke();var tr=Qe(Ke);return function(){typeof tr=="function"?tr():Qe(null)}}if(Qe!=null)return Ke=Ke(),Qe.current=Ke,function(){Qe.current=null}}function mp(Ke,Qe,tr){tr=tr!=null?tr.concat([Ke]):null,hu(4,4,pp.bind(null,Qe,Ke),tr)}function nf(){}function gp(Ke,Qe){var tr=oa();Qe=Qe===void 0?null:Qe;var ir=tr.memoizedState;return Qe!==null&&Cd(Qe,ir[1])?ir[0]:(tr.memoizedState=[Ke,Qe],Ke)}function vp(Ke,Qe){var tr=oa();Qe=Qe===void 0?null:Qe;var ir=tr.memoizedState;if(Qe!==null&&Cd(Qe,ir[1]))return ir[0];if(ir=Ke(),yo){Di(!0);try{Ke()}finally{Di(!1)}}return tr.memoizedState=[ir,Qe],ir}function sf(Ke,Qe,tr){return tr===void 0||(aa&1073741824)!==0&&(gs&261930)===0?Ke.memoizedState=Qe:(Ke.memoizedState=tr,Ke=ym(),Li.lanes|=Ke,mu|=Ke,tr)}function yp(Ke,Qe,tr,ir){return Ua(tr,Qe)?tr:ns.current!==null?(Ke=sf(Ke,tr,ir),Ua(Ke,Qe)||(Oa=!0),Ke):(aa&42)===0||(aa&1073741824)!==0&&(gs&261930)===0?(Oa=!0,Ke.memoizedState=tr):(Ke=ym(),Li.lanes|=Ke,mu|=Ke,Qe)}function xp(Ke,Qe,tr,ir,pr){var xr=Nr.p;Nr.p=xr!==0&&8>xr?xr:8;var $r=Er.T,Wr={};Er.T=Wr,lf(Ke,!1,Qe,tr);try{var vn=pr(),$n=Er.S;if($n!==null&&$n(Wr,vn),vn!==null&&typeof vn=="object"&&typeof vn.then=="function"){var Kn=zr(vn,ir);$d(Ke,Qe,Kn,gl(Ke))}else $d(Ke,Qe,ir,gl(Ke))}catch(Zn){$d(Ke,Qe,{then:function(){},status:"rejected",reason:Zn},gl())}finally{Nr.p=xr,$r!==null&&Wr.types!==null&&($r.types=Wr.types),Er.T=$r}}function jg(){}function af(Ke,Qe,tr,ir){if(Ke.tag!==5)throw Error(Ue(476));var pr=bp(Ke).queue;xp(Ke,pr,Qe,wr,tr===null?jg:function(){return _p(Ke),tr(ir)})}function bp(Ke){var Qe=Ke.memoizedState;if(Qe!==null)return Qe;Qe={memoizedState:wr,baseState:wr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:wr},next:null};var tr={};return Qe.next={memoizedState:tr,baseState:tr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:tr},next:null},Ke.memoizedState=Qe,Ke=Ke.alternate,Ke!==null&&(Ke.memoizedState=Qe),Qe}function _p(Ke){var Qe=bp(Ke);Qe.next===null&&(Qe=Ke.alternate.memoizedState),$d(Ke,Qe.next.queue,{},gl())}function of(){return Wa(th)}function Ep(){return oa().memoizedState}function wp(){return oa().memoizedState}function Pg(Ke){for(var Qe=Ke.return;Qe!==null;){switch(Qe.tag){case 24:case 3:var tr=gl();Ke=qi(tr);var ir=es(Qe,Ke,tr);ir!==null&&(rl(ir,Qe,tr),Cs(ir,Qe,tr)),Qe={cache:lu()},Ke.payload=Qe;return}Qe=Qe.return}}function Cg(Ke,Qe,tr){var ir=gl();tr={lane:ir,revertLane:0,gesture:null,action:tr,hasEagerState:!1,eagerState:null,next:null},yh(Ke)?Rp(Qe,tr):(tr=Hu(Ke,Qe,tr,ir),tr!==null&&(rl(tr,Ke,ir),Ap(tr,Qe,ir)))}function Sp(Ke,Qe,tr){var ir=gl();$d(Ke,Qe,tr,ir)}function $d(Ke,Qe,tr,ir){var pr={lane:ir,revertLane:0,gesture:null,action:tr,hasEagerState:!1,eagerState:null,next:null};if(yh(Ke))Rp(Qe,pr);else{var xr=Ke.alternate;if(Ke.lanes===0&&(xr===null||xr.lanes===0)&&(xr=Qe.lastRenderedReducer,xr!==null))try{var $r=Qe.lastRenderedState,Wr=xr($r,tr);if(pr.hasEagerState=!0,pr.eagerState=Wr,Ua(Wr,$r))return Iu(Ke,Qe,pr,0),Ys===null&&Cu(),!1}catch{}finally{}if(tr=Hu(Ke,Qe,pr,ir),tr!==null)return rl(tr,Ke,ir),Ap(tr,Qe,ir),!0}return!1}function lf(Ke,Qe,tr,ir){if(ir={lane:2,revertLane:Vf(),gesture:null,action:ir,hasEagerState:!1,eagerState:null,next:null},yh(Ke)){if(Qe)throw Error(Ue(479))}else Qe=Hu(Ke,tr,ir,2),Qe!==null&&rl(Qe,Ke,2)}function yh(Ke){var Qe=Ke.alternate;return Ke===Li||Qe!==null&&Qe===Li}function Rp(Ke,Qe){Qo=Ao=!0;var tr=Ke.pending;tr===null?Qe.next=Qe:(Qe.next=tr.next,tr.next=Qe),Ke.pending=Qe}function Ap(Ke,Qe,tr){if((tr&4194048)!==0){var ir=Qe.lanes;ir&=Ke.pendingLanes,tr|=ir,Qe.lanes=tr,Zi(Ke,tr)}}var Fd={readContext:Wa,use:cu,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useLayoutEffect:zs,useInsertionEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useSyncExternalStore:zs,useId:zs,useHostTransitionStatus:zs,useFormState:zs,useActionState:zs,useOptimistic:zs,useMemoCache:zs,useCacheRefresh:zs};Fd.useEffectEvent=zs;var Tp={readContext:Wa,use:cu,useCallback:function(Ke,Qe){return Ma().memoizedState=[Ke,Qe===void 0?null:Qe],Ke},useContext:Wa,useEffect:up,useImperativeHandle:function(Ke,Qe,tr){tr=tr!=null?tr.concat([Ke]):null,du(4194308,4,pp.bind(null,Qe,Ke),tr)},useLayoutEffect:function(Ke,Qe){return du(4194308,4,Ke,Qe)},useInsertionEffect:function(Ke,Qe){du(4,2,Ke,Qe)},useMemo:function(Ke,Qe){var tr=Ma();Qe=Qe===void 0?null:Qe;var ir=Ke();if(yo){Di(!0);try{Ke()}finally{Di(!1)}}return tr.memoizedState=[ir,Qe],ir},useReducer:function(Ke,Qe,tr){var ir=Ma();if(tr!==void 0){var pr=tr(Qe);if(yo){Di(!0);try{tr(Qe)}finally{Di(!1)}}}else pr=Qe;return ir.memoizedState=ir.baseState=pr,Ke={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ke,lastRenderedState:pr},ir.queue=Ke,Ke=Ke.dispatch=Cg.bind(null,Li,Ke),[ir.memoizedState,Ke]},useRef:function(Ke){var Qe=Ma();return Ke={current:Ke},Qe.memoizedState=Ke},useState:function(Ke){Ke=Ec(Ke);var Qe=Ke.queue,tr=Sp.bind(null,Li,Qe);return Qe.dispatch=tr,[Ke.memoizedState,tr]},useDebugValue:nf,useDeferredValue:function(Ke,Qe){var tr=Ma();return sf(tr,Ke,Qe)},useTransition:function(){var Ke=Ec(!1);return Ke=xp.bind(null,Li,Ke.queue,!0,!1),Ma().memoizedState=Ke,[!1,Ke]},useSyncExternalStore:function(Ke,Qe,tr){var ir=Li,pr=Ma();if(ds){if(tr===void 0)throw Error(Ue(407));tr=tr()}else{if(tr=Qe(),Ys===null)throw Error(Ue(349));(gs&127)!==0||Ql(ir,Qe,tr)}pr.memoizedState=tr;var xr={value:tr,getSnapshot:Qe};return pr.queue=xr,up(Md.bind(null,ir,xr,Ke),[Ke]),ir.flags|=2048,Bc(9,{destroy:void 0},Dd.bind(null,ir,xr,tr,Qe),null),tr},useId:function(){var Ke=Ma(),Qe=Ys.identifierPrefix;if(ds){var tr=Yo,ir=Ko;tr=(ir&~(1<<32-Wi(ir)-1)).toString(32)+tr,Qe="_"+Qe+"R_"+tr,tr=wa++,0<tr&&(Qe+="H"+tr.toString(32)),Qe+="_"}else tr=nd++,Qe="_"+Qe+"r_"+tr.toString(32)+"_";return Ke.memoizedState=Qe},useHostTransitionStatus:of,useFormState:Nl,useActionState:Nl,useOptimistic:function(Ke){var Qe=Ma();Qe.memoizedState=Qe.baseState=Ke;var tr={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Qe.queue=tr,Qe=lf.bind(null,Li,!0,tr),tr.dispatch=Qe,[Ke,Qe]},useMemoCache:Fc,useCacheRefresh:function(){return Ma().memoizedState=Pg.bind(null,Li)},useEffectEvent:function(Ke){var Qe=Ma(),tr={impl:Ke};return Qe.memoizedState=tr,function(){if((Ns&2)!==0)throw Error(Ue(440));return tr.impl.apply(void 0,arguments)}}},cf={readContext:Wa,use:cu,useCallback:gp,useContext:Wa,useEffect:rf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:vp,useReducer:ad,useRef:vh,useState:function(){return ad(Il)},useDebugValue:nf,useDeferredValue:function(Ke,Qe){var tr=oa();return yp(tr,Vi.memoizedState,Ke,Qe)},useTransition:function(){var Ke=ad(Il)[0],Qe=oa().memoizedState;return[typeof Ke=="boolean"?Ke:_c(Ke),Qe]},useSyncExternalStore:ld,useId:Ep,useHostTransitionStatus:of,useFormState:Jl,useActionState:Jl,useOptimistic:function(Ke,Qe){var tr=oa();return fh(tr,Vi,Ke,Qe)},useMemoCache:Fc,useCacheRefresh:wp};cf.useEffectEvent=dp;var jp={readContext:Wa,use:cu,useCallback:gp,useContext:Wa,useEffect:rf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:vp,useReducer:od,useRef:vh,useState:function(){return od(Il)},useDebugValue:nf,useDeferredValue:function(Ke,Qe){var tr=oa();return Vi===null?sf(tr,Ke,Qe):yp(tr,Vi.memoizedState,Ke,Qe)},useTransition:function(){var Ke=od(Il)[0],Qe=oa().memoizedState;return[typeof Ke=="boolean"?Ke:_c(Ke),Qe]},useSyncExternalStore:ld,useId:Ep,useHostTransitionStatus:of,useFormState:dd,useActionState:dd,useOptimistic:function(Ke,Qe){var tr=oa();return Vi!==null?fh(tr,Vi,Ke,Qe):(tr.baseState=Ke,[Ke,tr.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:wp};jp.useEffectEvent=dp;function uf(Ke,Qe,tr,ir){Qe=Ke.memoizedState,tr=tr(ir,Qe),tr=tr==null?Qe:Je({},Qe,tr),Ke.memoizedState=tr,Ke.lanes===0&&(Ke.updateQueue.baseState=tr)}var df={enqueueSetState:function(Ke,Qe,tr){Ke=Ke._reactInternals;var ir=gl(),pr=qi(ir);pr.payload=Qe,tr!=null&&(pr.callback=tr),Qe=es(Ke,pr,ir),Qe!==null&&(rl(Qe,Ke,ir),Cs(Qe,Ke,ir))},enqueueReplaceState:function(Ke,Qe,tr){Ke=Ke._reactInternals;var ir=gl(),pr=qi(ir);pr.tag=1,pr.payload=Qe,tr!=null&&(pr.callback=tr),Qe=es(Ke,pr,ir),Qe!==null&&(rl(Qe,Ke,ir),Cs(Qe,Ke,ir))},enqueueForceUpdate:function(Ke,Qe){Ke=Ke._reactInternals;var tr=gl(),ir=qi(tr);ir.tag=2,Qe!=null&&(ir.callback=Qe),Qe=es(Ke,ir,tr),Qe!==null&&(rl(Qe,Ke,tr),Cs(Qe,Ke,tr))}};function Pp(Ke,Qe,tr,ir,pr,xr,$r){return Ke=Ke.stateNode,typeof Ke.shouldComponentUpdate=="function"?Ke.shouldComponentUpdate(ir,xr,$r):Qe.prototype&&Qe.prototype.isPureReactComponent?!ql(tr,ir)||!ql(pr,xr):!0}function Cp(Ke,Qe,tr,ir){Ke=Qe.state,typeof Qe.componentWillReceiveProps=="function"&&Qe.componentWillReceiveProps(tr,ir),typeof Qe.UNSAFE_componentWillReceiveProps=="function"&&Qe.UNSAFE_componentWillReceiveProps(tr,ir),Qe.state!==Ke&&df.enqueueReplaceState(Qe,Qe.state,null)}function Vu(Ke,Qe){var tr=Qe;if("ref"in Qe){tr={};for(var ir in Qe)ir!=="ref"&&(tr[ir]=Qe[ir])}if(Ke=Ke.defaultProps){tr===Qe&&(tr=Je({},tr));for(var pr in Ke)tr[pr]===void 0&&(tr[pr]=Ke[pr])}return tr}function Ip(Ke){Pu(Ke)}function Np(Ke){console.error(Ke)}function kp(Ke){Pu(Ke)}function xh(Ke,Qe){try{var tr=Ke.onUncaughtError;tr(Qe.value,{componentStack:Qe.stack})}catch(ir){setTimeout(function(){throw ir})}}function Dp(Ke,Qe,tr){try{var ir=Ke.onCaughtError;ir(tr.value,{componentStack:tr.stack,errorBoundary:Qe.tag===1?Qe.stateNode:null})}catch(pr){setTimeout(function(){throw pr})}}function hf(Ke,Qe,tr){return tr=qi(tr),tr.tag=3,tr.payload={element:null},tr.callback=function(){xh(Ke,Qe)},tr}function Mp(Ke){return Ke=qi(Ke),Ke.tag=3,Ke}function Op(Ke,Qe,tr,ir){var pr=tr.type.getDerivedStateFromError;if(typeof pr=="function"){var xr=ir.value;Ke.payload=function(){return pr(xr)},Ke.callback=function(){Dp(Qe,tr,ir)}}var $r=tr.stateNode;$r!==null&&typeof $r.componentDidCatch=="function"&&(Ke.callback=function(){Dp(Qe,tr,ir),typeof pr!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var Wr=ir.stack;this.componentDidCatch(ir.value,{componentStack:Wr!==null?Wr:""})})}function Ig(Ke,Qe,tr,ir,pr){if(tr.flags|=32768,ir!==null&&typeof ir=="object"&&typeof ir.then=="function"){if(Qe=tr.alternate,Qe!==null&&vc(Qe,tr,pr,!0),tr=Zs.current,tr!==null){switch(tr.tag){case 31:case 13:return _s===null?Ih():tr.alternate===null&&Sa===0&&(Sa=3),tr.flags&=-257,tr.flags|=65536,tr.lanes=pr,ir===Rn?tr.flags|=16384:(Qe=tr.updateQueue,Qe===null?tr.updateQueue=new Set([ir]):Qe.add(ir),Lf(Ke,ir,pr)),!1;case 22:return tr.flags|=65536,ir===Rn?tr.flags|=16384:(Qe=tr.updateQueue,Qe===null?(Qe={transitions:null,markerInstances:null,retryQueue:new Set([ir])},tr.updateQueue=Qe):(tr=Qe.retryQueue,tr===null?Qe.retryQueue=new Set([ir]):tr.add(ir)),Lf(Ke,ir,pr)),!1}throw Error(Ue(435,tr.tag))}return Lf(Ke,ir,pr),Ih(),!1}if(ds)return Qe=Zs.current,Qe!==null?((Qe.flags&65536)===0&&(Qe.flags|=256),Qe.flags|=65536,Qe.lanes=pr,ir!==hl&&(Ke=Error(Ue(422),{cause:ir}),au(Ho(Ke,tr)))):(ir!==hl&&(Qe=Error(Ue(423),{cause:ir}),au(Ho(Qe,tr))),Ke=Ke.current.alternate,Ke.flags|=65536,pr&=-pr,Ke.lanes|=pr,ir=Ho(ir,tr),pr=hf(Ke.stateNode,ir,pr),ja(Ke,pr),Sa!==4&&(Sa=2)),!1;var xr=Error(Ue(520),{cause:ir});if(xr=Ho(xr,tr),Gd===null?Gd=[xr]:Gd.push(xr),Sa!==4&&(Sa=2),Qe===null)return!0;ir=Ho(ir,tr),tr=Qe;do{switch(tr.tag){case 3:return tr.flags|=65536,Ke=pr&-pr,tr.lanes|=Ke,Ke=hf(tr.stateNode,ir,Ke),ja(tr,Ke),!1;case 1:if(Qe=tr.type,xr=tr.stateNode,(tr.flags&128)===0&&(typeof Qe.getDerivedStateFromError=="function"||xr!==null&&typeof xr.componentDidCatch=="function"&&(gu===null||!gu.has(xr))))return tr.flags|=65536,pr&=-pr,tr.lanes|=pr,pr=Mp(pr),Op(pr,Ke,tr,ir),ja(tr,pr),!1}tr=tr.return}while(tr!==null);return!1}var ff=Error(Ue(461)),Oa=!1;function xo(Ke,Qe,tr,ir){Qe.child=Ke===null?Ji(Qe,null,tr,ir):Ks(Qe,Ke.child,tr,ir)}function Lp(Ke,Qe,tr,ir,pr){tr=tr.render;var xr=Qe.ref;if("ref"in ir){var $r={};for(var Wr in ir)Wr!=="ref"&&($r[Wr]=ir[Wr])}else $r=ir;return yc(Qe),ir=Id(Ke,Qe,tr,$r,xr,pr),Wr=Nd(),Ke!==null&&!Oa?(kd(Ke,Qe,pr),Uc(Ke,Qe,pr)):(ds&&Wr&&Td(Qe),Qe.flags|=1,xo(Ke,Qe,ir,pr),Qe.child)}function $p(Ke,Qe,tr,ir,pr){if(Ke===null){var xr=tr.type;return typeof xr=="function"&&!Gu(xr)&&xr.defaultProps===void 0&&tr.compare===null?(Qe.tag=15,Qe.type=xr,Fp(Ke,Qe,xr,ir,pr)):(Ke=nu(tr.type,null,ir,Qe,Qe.mode,pr),Ke.ref=Qe.ref,Ke.return=Qe,Qe.child=Ke)}if(xr=Ke.child,!_f(Ke,pr)){var $r=xr.memoizedProps;if(tr=tr.compare,tr=tr!==null?tr:ql,tr($r,ir)&&Ke.ref===Qe.ref)return Uc(Ke,Qe,pr)}return Qe.flags|=1,Ke=qo(xr,ir),Ke.ref=Qe.ref,Ke.return=Qe,Qe.child=Ke}function Fp(Ke,Qe,tr,ir,pr){if(Ke!==null){var xr=Ke.memoizedProps;if(ql(xr,ir)&&Ke.ref===Qe.ref)if(Oa=!1,Qe.pendingProps=ir=xr,_f(Ke,pr))(Ke.flags&131072)!==0&&(Oa=!0);else return Qe.lanes=Ke.lanes,Uc(Ke,Qe,pr)}return pf(Ke,Qe,tr,ir,pr)}function Vp(Ke,Qe,tr,ir){var pr=ir.children,xr=Ke!==null?Ke.memoizedState:null;if(Ke===null&&Qe.stateNode===null&&(Qe.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),ir.mode==="hidden"){if((Qe.flags&128)!==0){if(xr=xr!==null?xr.baseLanes|tr:tr,Ke!==null){for(ir=Qe.child=Ke.child,pr=0;ir!==null;)pr=pr|ir.lanes|ir.childLanes,ir=ir.sibling;ir=pr&~xr}else ir=0,Qe.child=null;return Bp(Ke,Qe,xr,tr,ir)}if((tr&536870912)!==0)Qe.memoizedState={baseLanes:0,cachePool:null},Ke!==null&&Jr(Qe,xr!==null?xr.cachePool:null),xr!==null?Js(Qe,xr):Ss(),ba(Qe);else return ir=Qe.lanes=536870912,Bp(Ke,Qe,xr!==null?xr.baseLanes|tr:tr,tr,ir)}else xr!==null?(Jr(Qe,xr.cachePool),Js(Qe,xr),Ea(),Qe.memoizedState=null):(Ke!==null&&Jr(Qe,null),Ss(),Ea());return xo(Ke,Qe,pr,tr),Qe.child}function Vd(Ke,Qe){return Ke!==null&&Ke.tag===22||Qe.stateNode!==null||(Qe.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),Qe.sibling}function Bp(Ke,Qe,tr,ir,pr){var xr=Kr();return xr=xr===null?null:{parent:pa._currentValue,pool:xr},Qe.memoizedState={baseLanes:tr,cachePool:xr},Ke!==null&&Jr(Qe,null),Ss(),ba(Qe),Ke!==null&&vc(Ke,Qe,ir,!0),Qe.childLanes=pr,null}function bh(Ke,Qe){return Qe=Eh({mode:Qe.mode,children:Qe.children},Ke.mode),Qe.ref=Ke.ref,Ke.child=Qe,Qe.return=Ke,Qe}function Up(Ke,Qe,tr){return Ks(Qe,Ke.child,null,tr),Ke=bh(Qe,Qe.pendingProps),Ke.flags|=2,Os(Qe),Qe.memoizedState=null,Ke}function Ng(Ke,Qe,tr){var ir=Qe.pendingProps,pr=(Qe.flags&128)!==0;if(Qe.flags&=-129,Ke===null){if(ds){if(ir.mode==="hidden")return Ke=bh(Qe,ir),Qe.lanes=536870912,Vd(null,Ke);if(Is(Qe),(Ke=Gs)?(Ke=eg(Ke,sa),Ke=Ke!==null&&Ke.data==="&"?Ke:null,Ke!==null&&(Qe.memoizedState={dehydrated:Ke,treeContext:fc!==null?{id:Ko,overflow:Yo}:null,retryLane:536870912,hydrationErrors:null},tr=Ku(Ke),tr.return=Qe,Qe.child=tr,qa=Qe,Gs=null)):Ke=null,Ke===null)throw pc(Qe);return Qe.lanes=536870912,null}return bh(Qe,ir)}var xr=Ke.memoizedState;if(xr!==null){var $r=xr.dehydrated;if(Is(Qe),pr)if(Qe.flags&256)Qe.flags&=-257,Qe=Up(Ke,Qe,tr);else if(Qe.memoizedState!==null)Qe.child=Ke.child,Qe.flags|=128,Qe=null;else throw Error(Ue(558));else if(Oa||vc(Ke,Qe,tr,!1),pr=(tr&Ke.childLanes)!==0,Oa||pr){if(ir=Ys,ir!==null&&($r=Cn(ir,tr),$r!==0&&$r!==xr.retryLane))throw xr.retryLane=$r,Kl(Ke,$r),rl(ir,Ke,$r),ff;Ih(),Qe=Up(Ke,Qe,tr)}else Ke=xr.treeContext,Gs=kl($r.nextSibling),qa=Qe,ds=!0,vo=null,sa=!1,Ke!==null&&uh(Qe,Ke),Qe=bh(Qe,ir),Qe.flags|=4096;return Qe}return Ke=qo(Ke.child,{mode:ir.mode,children:ir.children}),Ke.ref=Qe.ref,Qe.child=Ke,Ke.return=Qe,Ke}function _h(Ke,Qe){var tr=Qe.ref;if(tr===null)Ke!==null&&Ke.ref!==null&&(Qe.flags|=4194816);else{if(typeof tr!="function"&&typeof tr!="object")throw Error(Ue(284));(Ke===null||Ke.ref!==tr)&&(Qe.flags|=4194816)}}function pf(Ke,Qe,tr,ir,pr){return yc(Qe),tr=Id(Ke,Qe,tr,ir,void 0,pr),ir=Nd(),Ke!==null&&!Oa?(kd(Ke,Qe,pr),Uc(Ke,Qe,pr)):(ds&&ir&&Td(Qe),Qe.flags|=1,xo(Ke,Qe,tr,pr),Qe.child)}function zp(Ke,Qe,tr,ir,pr,xr){return yc(Qe),Qe.updateQueue=null,tr=Xl(Qe,ir,tr,pr),id(Ke),ir=Nd(),Ke!==null&&!Oa?(kd(Ke,Qe,xr),Uc(Ke,Qe,xr)):(ds&&ir&&Td(Qe),Qe.flags|=1,xo(Ke,Qe,tr,xr),Qe.child)}function qp(Ke,Qe,tr,ir,pr){if(yc(Qe),Qe.stateNode===null){var xr=za,$r=tr.contextType;typeof $r=="object"&&$r!==null&&(xr=Wa($r)),xr=new tr(ir,xr),Qe.memoizedState=xr.state!==null&&xr.state!==void 0?xr.state:null,xr.updater=df,Qe.stateNode=xr,xr._reactInternals=Qe,xr=Qe.stateNode,xr.props=ir,xr.state=Qe.memoizedState,xr.refs={},gi(Qe),$r=tr.contextType,xr.context=typeof $r=="object"&&$r!==null?Wa($r):za,xr.state=Qe.memoizedState,$r=tr.getDerivedStateFromProps,typeof $r=="function"&&(uf(Qe,tr,$r,ir),xr.state=Qe.memoizedState),typeof tr.getDerivedStateFromProps=="function"||typeof xr.getSnapshotBeforeUpdate=="function"||typeof xr.UNSAFE_componentWillMount!="function"&&typeof xr.componentWillMount!="function"||($r=xr.state,typeof xr.componentWillMount=="function"&&xr.componentWillMount(),typeof xr.UNSAFE_componentWillMount=="function"&&xr.UNSAFE_componentWillMount(),$r!==xr.state&&df.enqueueReplaceState(xr,xr.state,null),ya(Qe,ir,xr,pr),Us(),xr.state=Qe.memoizedState),typeof xr.componentDidMount=="function"&&(Qe.flags|=4194308),ir=!0}else if(Ke===null){xr=Qe.stateNode;var Wr=Qe.memoizedProps,vn=Vu(tr,Wr);xr.props=vn;var $n=xr.context,Kn=tr.contextType;$r=za,typeof Kn=="object"&&Kn!==null&&($r=Wa(Kn));var Zn=tr.getDerivedStateFromProps;Kn=typeof Zn=="function"||typeof xr.getSnapshotBeforeUpdate=="function",Wr=Qe.pendingProps!==Wr,Kn||typeof xr.UNSAFE_componentWillReceiveProps!="function"&&typeof xr.componentWillReceiveProps!="function"||(Wr||$n!==$r)&&Cp(Qe,xr,ir,$r),bi=!1;var Bn=Qe.memoizedState;xr.state=Bn,ya(Qe,ir,xr,pr),Us(),$n=Qe.memoizedState,Wr||Bn!==$n||bi?(typeof Zn=="function"&&(uf(Qe,tr,Zn,ir),$n=Qe.memoizedState),(vn=bi||Pp(Qe,tr,vn,ir,Bn,$n,$r))?(Kn||typeof xr.UNSAFE_componentWillMount!="function"&&typeof xr.componentWillMount!="function"||(typeof xr.componentWillMount=="function"&&xr.componentWillMount(),typeof xr.UNSAFE_componentWillMount=="function"&&xr.UNSAFE_componentWillMount()),typeof xr.componentDidMount=="function"&&(Qe.flags|=4194308)):(typeof xr.componentDidMount=="function"&&(Qe.flags|=4194308),Qe.memoizedProps=ir,Qe.memoizedState=$n),xr.props=ir,xr.state=$n,xr.context=$r,ir=vn):(typeof xr.componentDidMount=="function"&&(Qe.flags|=4194308),ir=!1)}else{xr=Qe.stateNode,Qs(Ke,Qe),$r=Qe.memoizedProps,Kn=Vu(tr,$r),xr.props=Kn,Zn=Qe.pendingProps,Bn=xr.context,$n=tr.contextType,vn=za,typeof $n=="object"&&$n!==null&&(vn=Wa($n)),Wr=tr.getDerivedStateFromProps,($n=typeof Wr=="function"||typeof xr.getSnapshotBeforeUpdate=="function")||typeof xr.UNSAFE_componentWillReceiveProps!="function"&&typeof xr.componentWillReceiveProps!="function"||($r!==Zn||Bn!==vn)&&Cp(Qe,xr,ir,vn),bi=!1,Bn=Qe.memoizedState,xr.state=Bn,ya(Qe,ir,xr,pr),Us();var qn=Qe.memoizedState;$r!==Zn||Bn!==qn||bi||Ke!==null&&Ke.dependencies!==null&&Zu(Ke.dependencies)?(typeof Wr=="function"&&(uf(Qe,tr,Wr,ir),qn=Qe.memoizedState),(Kn=bi||Pp(Qe,tr,Kn,ir,Bn,qn,vn)||Ke!==null&&Ke.dependencies!==null&&Zu(Ke.dependencies))?($n||typeof xr.UNSAFE_componentWillUpdate!="function"&&typeof xr.componentWillUpdate!="function"||(typeof xr.componentWillUpdate=="function"&&xr.componentWillUpdate(ir,qn,vn),typeof xr.UNSAFE_componentWillUpdate=="function"&&xr.UNSAFE_componentWillUpdate(ir,qn,vn)),typeof xr.componentDidUpdate=="function"&&(Qe.flags|=4),typeof xr.getSnapshotBeforeUpdate=="function"&&(Qe.flags|=1024)):(typeof xr.componentDidUpdate!="function"||$r===Ke.memoizedProps&&Bn===Ke.memoizedState||(Qe.flags|=4),typeof xr.getSnapshotBeforeUpdate!="function"||$r===Ke.memoizedProps&&Bn===Ke.memoizedState||(Qe.flags|=1024),Qe.memoizedProps=ir,Qe.memoizedState=qn),xr.props=ir,xr.state=qn,xr.context=vn,ir=Kn):(typeof xr.componentDidUpdate!="function"||$r===Ke.memoizedProps&&Bn===Ke.memoizedState||(Qe.flags|=4),typeof xr.getSnapshotBeforeUpdate!="function"||$r===Ke.memoizedProps&&Bn===Ke.memoizedState||(Qe.flags|=1024),ir=!1)}return xr=ir,_h(Ke,Qe),ir=(Qe.flags&128)!==0,xr||ir?(xr=Qe.stateNode,tr=ir&&typeof tr.getDerivedStateFromError!="function"?null:xr.render(),Qe.flags|=1,Ke!==null&&ir?(Qe.child=Ks(Qe,Ke.child,null,pr),Qe.child=Ks(Qe,null,tr,pr)):xo(Ke,Qe,tr,pr),Qe.memoizedState=xr.state,Ke=Qe.child):Ke=Uc(Ke,Qe,pr),Ke}function Hp(Ke,Qe,tr,ir){return Lc(),Qe.flags|=256,xo(Ke,Qe,tr,ir),Qe.child}var mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(Ke){return{baseLanes:Ke,cachePool:pn()}}function vf(Ke,Qe,tr){return Ke=Ke!==null?Ke.childLanes&~tr:0,Qe&&(Ke|=ml),Ke}function Wp(Ke,Qe,tr){var ir=Qe.pendingProps,pr=!1,xr=(Qe.flags&128)!==0,$r;if(($r=xr)||($r=Ke!==null&&Ke.memoizedState===null?!1:(xs.current&2)!==0),$r&&(pr=!0,Qe.flags&=-129),$r=(Qe.flags&32)!==0,Qe.flags&=-33,Ke===null){if(ds){if(pr?ma(Qe):Ea(),(Ke=Gs)?(Ke=eg(Ke,sa),Ke=Ke!==null&&Ke.data!=="&"?Ke:null,Ke!==null&&(Qe.memoizedState={dehydrated:Ke,treeContext:fc!==null?{id:Ko,overflow:Yo}:null,retryLane:536870912,hydrationErrors:null},tr=Ku(Ke),tr.return=Qe,Qe.child=tr,qa=Qe,Gs=null)):Ke=null,Ke===null)throw pc(Qe);return Zf(Ke)?Qe.lanes=32:Qe.lanes=536870912,null}var Wr=ir.children;return ir=ir.fallback,pr?(Ea(),pr=Qe.mode,Wr=Eh({mode:"hidden",children:Wr},pr),ir=hc(ir,pr,tr,null),Wr.return=Qe,ir.return=Qe,Wr.sibling=ir,Qe.child=Wr,ir=Qe.child,ir.memoizedState=gf(tr),ir.childLanes=vf(Ke,$r,tr),Qe.memoizedState=mf,Vd(null,ir)):(ma(Qe),yf(Qe,Wr))}var vn=Ke.memoizedState;if(vn!==null&&(Wr=vn.dehydrated,Wr!==null)){if(xr)Qe.flags&256?(ma(Qe),Qe.flags&=-257,Qe=xf(Ke,Qe,tr)):Qe.memoizedState!==null?(Ea(),Qe.child=Ke.child,Qe.flags|=128,Qe=null):(Ea(),Wr=ir.fallback,pr=Qe.mode,ir=Eh({mode:"visible",children:ir.children},pr),Wr=hc(Wr,pr,tr,null),Wr.flags|=2,ir.return=Qe,Wr.return=Qe,ir.sibling=Wr,Qe.child=ir,Ks(Qe,Ke.child,null,tr),ir=Qe.child,ir.memoizedState=gf(tr),ir.childLanes=vf(Ke,$r,tr),Qe.memoizedState=mf,Qe=Vd(null,ir));else if(ma(Qe),Zf(Wr)){if($r=Wr.nextSibling&&Wr.nextSibling.dataset,$r)var $n=$r.dgst;$r=$n,ir=Error(Ue(419)),ir.stack="",ir.digest=$r,au({value:ir,source:null,stack:null}),Qe=xf(Ke,Qe,tr)}else if(Oa||vc(Ke,Qe,tr,!1),$r=(tr&Ke.childLanes)!==0,Oa||$r){if($r=Ys,$r!==null&&(ir=Cn($r,tr),ir!==0&&ir!==vn.retryLane))throw vn.retryLane=ir,Kl(Ke,ir),rl($r,Ke,ir),ff;Jf(Wr)||Ih(),Qe=xf(Ke,Qe,tr)}else Jf(Wr)?(Qe.flags|=192,Qe.child=Ke.child,Qe=null):(Ke=vn.treeContext,Gs=kl(Wr.nextSibling),qa=Qe,ds=!0,vo=null,sa=!1,Ke!==null&&uh(Qe,Ke),Qe=yf(Qe,ir.children),Qe.flags|=4096);return Qe}return pr?(Ea(),Wr=ir.fallback,pr=Qe.mode,vn=Ke.child,$n=vn.sibling,ir=qo(vn,{mode:"hidden",children:ir.children}),ir.subtreeFlags=vn.subtreeFlags&65011712,$n!==null?Wr=qo($n,Wr):(Wr=hc(Wr,pr,tr,null),Wr.flags|=2),Wr.return=Qe,ir.return=Qe,ir.sibling=Wr,Qe.child=ir,Vd(null,ir),ir=Qe.child,Wr=Ke.child.memoizedState,Wr===null?Wr=gf(tr):(pr=Wr.cachePool,pr!==null?(vn=pa._currentValue,pr=pr.parent!==vn?{parent:vn,pool:vn}:pr):pr=pn(),Wr={baseLanes:Wr.baseLanes|tr,cachePool:pr}),ir.memoizedState=Wr,ir.childLanes=vf(Ke,$r,tr),Qe.memoizedState=mf,Vd(Ke.child,ir)):(ma(Qe),tr=Ke.child,Ke=tr.sibling,tr=qo(tr,{mode:"visible",children:ir.children}),tr.return=Qe,tr.sibling=null,Ke!==null&&($r=Qe.deletions,$r===null?(Qe.deletions=[Ke],Qe.flags|=16):$r.push(Ke)),Qe.child=tr,Qe.memoizedState=null,tr)}function yf(Ke,Qe){return Qe=Eh({mode:"visible",children:Qe},Ke.mode),Qe.return=Ke,Ke.child=Qe}function Eh(Ke,Qe){return Ke=ro(22,Ke,null,Qe),Ke.lanes=0,Ke}function xf(Ke,Qe,tr){return Ks(Qe,Ke.child,null,tr),Ke=yf(Qe,Qe.pendingProps.children),Ke.flags|=2,Qe.memoizedState=null,Ke}function Gp(Ke,Qe,tr){Ke.lanes|=Qe;var ir=Ke.alternate;ir!==null&&(ir.lanes|=Qe),ou(Ke.return,Qe,tr)}function bf(Ke,Qe,tr,ir,pr,xr){var $r=Ke.memoizedState;$r===null?Ke.memoizedState={isBackwards:Qe,rendering:null,renderingStartTime:0,last:ir,tail:tr,tailMode:pr,treeForkCount:xr}:($r.isBackwards=Qe,$r.rendering=null,$r.renderingStartTime=0,$r.last=ir,$r.tail=tr,$r.tailMode=pr,$r.treeForkCount=xr)}function Kp(Ke,Qe,tr){var ir=Qe.pendingProps,pr=ir.revealOrder,xr=ir.tail;ir=ir.children;var $r=xs.current,Wr=($r&2)!==0;if(Wr?($r=$r&1|2,Qe.flags|=128):$r&=1,Vr(xs,$r),xo(Ke,Qe,ir,tr),ir=ds?Mu:0,!Wr&&Ke!==null&&(Ke.flags&128)!==0)e:for(Ke=Qe.child;Ke!==null;){if(Ke.tag===13)Ke.memoizedState!==null&&Gp(Ke,tr,Qe);else if(Ke.tag===19)Gp(Ke,tr,Qe);else if(Ke.child!==null){Ke.child.return=Ke,Ke=Ke.child;continue}if(Ke===Qe)break e;for(;Ke.sibling===null;){if(Ke.return===null||Ke.return===Qe)break e;Ke=Ke.return}Ke.sibling.return=Ke.return,Ke=Ke.sibling}switch(pr){case"forwards":for(tr=Qe.child,pr=null;tr!==null;)Ke=tr.alternate,Ke!==null&&io(Ke)===null&&(pr=tr),tr=tr.sibling;tr=pr,tr===null?(pr=Qe.child,Qe.child=null):(pr=tr.sibling,tr.sibling=null),bf(Qe,!1,pr,tr,xr,ir);break;case"backwards":case"unstable_legacy-backwards":for(tr=null,pr=Qe.child,Qe.child=null;pr!==null;){if(Ke=pr.alternate,Ke!==null&&io(Ke)===null){Qe.child=pr;break}Ke=pr.sibling,pr.sibling=tr,tr=pr,pr=Ke}bf(Qe,!0,tr,null,xr,ir);break;case"together":bf(Qe,!1,null,null,void 0,ir);break;default:Qe.memoizedState=null}return Qe.child}function Uc(Ke,Qe,tr){if(Ke!==null&&(Qe.dependencies=Ke.dependencies),mu|=Qe.lanes,(tr&Qe.childLanes)===0)if(Ke!==null){if(vc(Ke,Qe,tr,!1),(tr&Qe.childLanes)===0)return null}else return null;if(Ke!==null&&Qe.child!==Ke.child)throw Error(Ue(153));if(Qe.child!==null){for(Ke=Qe.child,tr=qo(Ke,Ke.pendingProps),Qe.child=tr,tr.return=Qe;Ke.sibling!==null;)Ke=Ke.sibling,tr=tr.sibling=qo(Ke,Ke.pendingProps),tr.return=Qe;tr.sibling=null}return Qe.child}function _f(Ke,Qe){return(Ke.lanes&Qe)!==0?!0:(Ke=Ke.dependencies,!!(Ke!==null&&Zu(Ke)))}function kg(Ke,Qe,tr){switch(Qe.tag){case 3:An(Qe,Qe.stateNode.containerInfo),gc(Qe,pa,Ke.memoizedState.cache),Lc();break;case 27:case 5:bn(Qe);break;case 4:An(Qe,Qe.stateNode.containerInfo);break;case 10:gc(Qe,Qe.type,Qe.memoizedProps.value);break;case 31:if(Qe.memoizedState!==null)return Qe.flags|=128,Is(Qe),null;break;case 13:var ir=Qe.memoizedState;if(ir!==null)return ir.dehydrated!==null?(ma(Qe),Qe.flags|=128,null):(tr&Qe.child.childLanes)!==0?Wp(Ke,Qe,tr):(ma(Qe),Ke=Uc(Ke,Qe,tr),Ke!==null?Ke.sibling:null);ma(Qe);break;case 19:var pr=(Ke.flags&128)!==0;if(ir=(tr&Qe.childLanes)!==0,ir||(vc(Ke,Qe,tr,!1),ir=(tr&Qe.childLanes)!==0),pr){if(ir)return Kp(Ke,Qe,tr);Qe.flags|=128}if(pr=Qe.memoizedState,pr!==null&&(pr.rendering=null,pr.tail=null,pr.lastEffect=null),Vr(xs,xs.current),ir)break;return null;case 22:return Qe.lanes=0,Vp(Ke,Qe,tr,Qe.pendingProps);case 24:gc(Qe,pa,Ke.memoizedState.cache)}return Uc(Ke,Qe,tr)}function Yp(Ke,Qe,tr){if(Ke!==null)if(Ke.memoizedProps!==Qe.pendingProps)Oa=!0;else{if(!_f(Ke,tr)&&(Qe.flags&128)===0)return Oa=!1,kg(Ke,Qe,tr);Oa=(Ke.flags&131072)!==0}else Oa=!1,ds&&(Qe.flags&1048576)!==0&&ch(Qe,Mu,Qe.index);switch(Qe.lanes=0,Qe.tag){case 16:e:{var ir=Qe.pendingProps;if(Ke=Mn(Qe.elementType),Qe.type=Ke,typeof Ke=="function")Gu(Ke)?(ir=Vu(Ke,ir),Qe.tag=1,Qe=qp(null,Qe,Ke,ir,tr)):(Qe.tag=0,Qe=pf(null,Qe,Ke,ir,tr));else{if(Ke!=null){var pr=Ke.$$typeof;if(pr===cr){Qe.tag=11,Qe=Lp(null,Qe,Ke,ir,tr);break e}else if(pr===mr){Qe.tag=14,Qe=$p(null,Qe,Ke,ir,tr);break e}}throw Qe=Dr(Ke)||Ke,Error(Ue(306,Qe,""))}}return Qe;case 0:return pf(Ke,Qe,Qe.type,Qe.pendingProps,tr);case 1:return ir=Qe.type,pr=Vu(ir,Qe.pendingProps),qp(Ke,Qe,ir,pr,tr);case 3:e:{if(An(Qe,Qe.stateNode.containerInfo),Ke===null)throw Error(Ue(387));ir=Qe.pendingProps;var xr=Qe.memoizedState;pr=xr.element,Qs(Ke,Qe),ya(Qe,ir,null,tr);var $r=Qe.memoizedState;if(ir=$r.cache,gc(Qe,pa,ir),ir!==xr.cache&&$c(Qe,[pa],tr,!0),Us(),ir=$r.element,xr.isDehydrated)if(xr={element:ir,isDehydrated:!1,cache:$r.cache},Qe.updateQueue.baseState=xr,Qe.memoizedState=xr,Qe.flags&256){Qe=Hp(Ke,Qe,ir,tr);break e}else if(ir!==pr){pr=Ho(Error(Ue(424)),Qe),au(pr),Qe=Hp(Ke,Qe,ir,tr);break e}else{switch(Ke=Qe.stateNode.containerInfo,Ke.nodeType){case 9:Ke=Ke.body;break;default:Ke=Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke}for(Gs=kl(Ke.firstChild),qa=Qe,ds=!0,vo=null,sa=!0,tr=Ji(Qe,null,ir,tr),Qe.child=tr;tr;)tr.flags=tr.flags&-3|4096,tr=tr.sibling}else{if(Lc(),ir===pr){Qe=Uc(Ke,Qe,tr);break e}xo(Ke,Qe,ir,tr)}Qe=Qe.child}return Qe;case 26:return _h(Ke,Qe),Ke===null?(tr=ag(Qe.type,null,Qe.pendingProps,null))?Qe.memoizedState=tr:ds||(tr=Qe.type,Ke=Qe.pendingProps,ir=$h(Qr.current).createElement(tr),ir[Mi]=Qe,ir[Gi]=Ke,bo(ir,tr,Ke),Xs(ir),Qe.stateNode=ir):Qe.memoizedState=ag(Qe.type,Ke.memoizedProps,Qe.pendingProps,Ke.memoizedState),null;case 27:return bn(Qe),Ke===null&&ds&&(ir=Qe.stateNode=ng(Qe.type,Qe.pendingProps,Qr.current),qa=Qe,sa=!0,pr=Gs,bu(Qe.type)?(ep=pr,Gs=kl(ir.firstChild)):Gs=pr),xo(Ke,Qe,Qe.pendingProps.children,tr),_h(Ke,Qe),Ke===null&&(Qe.flags|=4194304),Qe.child;case 5:return Ke===null&&ds&&((pr=ir=Gs)&&(ir=cv(ir,Qe.type,Qe.pendingProps,sa),ir!==null?(Qe.stateNode=ir,qa=Qe,Gs=kl(ir.firstChild),sa=!1,pr=!0):pr=!1),pr||pc(Qe)),bn(Qe),pr=Qe.type,xr=Qe.pendingProps,$r=Ke!==null?Ke.memoizedProps:null,ir=xr.children,Yf(pr,xr)?ir=null:$r!==null&&Yf(pr,$r)&&(Qe.flags|=32),Qe.memoizedState!==null&&(pr=Id(Ke,Qe,tf,null,null,tr),th._currentValue=pr),_h(Ke,Qe),xo(Ke,Qe,ir,tr),Qe.child;case 6:return Ke===null&&ds&&((Ke=tr=Gs)&&(tr=uv(tr,Qe.pendingProps,sa),tr!==null?(Qe.stateNode=tr,qa=Qe,Gs=null,Ke=!0):Ke=!1),Ke||pc(Qe)),null;case 13:return Wp(Ke,Qe,tr);case 4:return An(Qe,Qe.stateNode.containerInfo),ir=Qe.pendingProps,Ke===null?Qe.child=Ks(Qe,null,ir,tr):xo(Ke,Qe,ir,tr),Qe.child;case 11:return Lp(Ke,Qe,Qe.type,Qe.pendingProps,tr);case 7:return xo(Ke,Qe,Qe.pendingProps,tr),Qe.child;case 8:return xo(Ke,Qe,Qe.pendingProps.children,tr),Qe.child;case 12:return xo(Ke,Qe,Qe.pendingProps.children,tr),Qe.child;case 10:return ir=Qe.pendingProps,gc(Qe,Qe.type,ir.value),xo(Ke,Qe,ir.children,tr),Qe.child;case 9:return pr=Qe.type._context,ir=Qe.pendingProps.children,yc(Qe),pr=Wa(pr),ir=ir(pr),Qe.flags|=1,xo(Ke,Qe,ir,tr),Qe.child;case 14:return $p(Ke,Qe,Qe.type,Qe.pendingProps,tr);case 15:return Fp(Ke,Qe,Qe.type,Qe.pendingProps,tr);case 19:return Kp(Ke,Qe,tr);case 31:return Ng(Ke,Qe,tr);case 22:return Vp(Ke,Qe,tr,Qe.pendingProps);case 24:return yc(Qe),ir=Wa(pa),Ke===null?(pr=Kr(),pr===null&&(pr=Ys,xr=lu(),pr.pooledCache=xr,xr.refCount++,xr!==null&&(pr.pooledCacheLanes|=tr),pr=xr),Qe.memoizedState={parent:ir,cache:pr},gi(Qe),gc(Qe,pa,pr)):((Ke.lanes&tr)!==0&&(Qs(Ke,Qe),ya(Qe,null,null,tr),Us()),pr=Ke.memoizedState,xr=Qe.memoizedState,pr.parent!==ir?(pr={parent:ir,cache:ir},Qe.memoizedState=pr,Qe.lanes===0&&(Qe.memoizedState=Qe.updateQueue.baseState=pr),gc(Qe,pa,ir)):(ir=xr.cache,gc(Qe,pa,ir),ir!==pr.cache&&$c(Qe,[pa],tr,!0))),xo(Ke,Qe,Qe.pendingProps.children,tr),Qe.child;case 29:throw Qe.pendingProps}throw Error(Ue(156,Qe.tag))}function zc(Ke){Ke.flags|=4}function Ef(Ke,Qe,tr,ir,pr){if((Qe=(Ke.mode&32)!==0)&&(Qe=!1),Qe){if(Ke.flags|=16777216,(pr&335544128)===pr)if(Ke.stateNode.complete)Ke.flags|=8192;else if(Em())Ke.flags|=8192;else throw Hn=Rn,On}else Ke.flags&=-16777217}function Xp(Ke,Qe){if(Qe.type!=="stylesheet"||(Qe.state.loading&4)!==0)Ke.flags&=-16777217;else if(Ke.flags|=16777216,!dg(Qe))if(Em())Ke.flags|=8192;else throw Hn=Rn,On}function wh(Ke,Qe){Qe!==null&&(Ke.flags|=4),Ke.flags&16384&&(Qe=Ke.tag!==22?ao():536870912,Ke.lanes|=Qe,md|=Qe)}function Bd(Ke,Qe){if(!ds)switch(Ke.tailMode){case"hidden":Qe=Ke.tail;for(var tr=null;Qe!==null;)Qe.alternate!==null&&(tr=Qe),Qe=Qe.sibling;tr===null?Ke.tail=null:tr.sibling=null;break;case"collapsed":tr=Ke.tail;for(var ir=null;tr!==null;)tr.alternate!==null&&(ir=tr),tr=tr.sibling;ir===null?Qe||Ke.tail===null?Ke.tail=null:Ke.tail.sibling=null:ir.sibling=null}}function ea(Ke){var Qe=Ke.alternate!==null&&Ke.alternate.child===Ke.child,tr=0,ir=0;if(Qe)for(var pr=Ke.child;pr!==null;)tr|=pr.lanes|pr.childLanes,ir|=pr.subtreeFlags&65011712,ir|=pr.flags&65011712,pr.return=Ke,pr=pr.sibling;else for(pr=Ke.child;pr!==null;)tr|=pr.lanes|pr.childLanes,ir|=pr.subtreeFlags,ir|=pr.flags,pr.return=Ke,pr=pr.sibling;return Ke.subtreeFlags|=ir,Ke.childLanes=tr,Qe}function Dg(Ke,Qe,tr){var ir=Qe.pendingProps;switch(Qu(Qe),Qe.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ea(Qe),null;case 1:return ea(Qe),null;case 3:return tr=Qe.stateNode,ir=null,Ke!==null&&(ir=Ke.memoizedState.cache),Qe.memoizedState.cache!==ir&&(Qe.flags|=2048),Xo(pa),Zr(),tr.pendingContext&&(tr.context=tr.pendingContext,tr.pendingContext=null),(Ke===null||Ke.child===null)&&(Ha(Qe)?zc(Qe):Ke===null||Ke.memoizedState.isDehydrated&&(Qe.flags&256)===0||(Qe.flags|=1024,Pd())),ea(Qe),null;case 26:var pr=Qe.type,xr=Qe.memoizedState;return Ke===null?(zc(Qe),xr!==null?(ea(Qe),Xp(Qe,xr)):(ea(Qe),Ef(Qe,pr,null,ir,tr))):xr?xr!==Ke.memoizedState?(zc(Qe),ea(Qe),Xp(Qe,xr)):(ea(Qe),Qe.flags&=-16777217):(Ke=Ke.memoizedProps,Ke!==ir&&zc(Qe),ea(Qe),Ef(Qe,pr,Ke,ir,tr)),null;case 27:if(jn(Qe),tr=Qr.current,pr=Qe.type,Ke!==null&&Qe.stateNode!=null)Ke.memoizedProps!==ir&&zc(Qe);else{if(!ir){if(Qe.stateNode===null)throw Error(Ue(166));return ea(Qe),null}Ke=Ur.current,Ha(Qe)?jd(Qe):(Ke=ng(pr,ir,tr),Qe.stateNode=Ke,zc(Qe))}return ea(Qe),null;case 5:if(jn(Qe),pr=Qe.type,Ke!==null&&Qe.stateNode!=null)Ke.memoizedProps!==ir&&zc(Qe);else{if(!ir){if(Qe.stateNode===null)throw Error(Ue(166));return ea(Qe),null}if(xr=Ur.current,Ha(Qe))jd(Qe);else{var $r=$h(Qr.current);switch(xr){case 1:xr=$r.createElementNS("http://www.w3.org/2000/svg",pr);break;case 2:xr=$r.createElementNS("http://www.w3.org/1998/Math/MathML",pr);break;default:switch(pr){case"svg":xr=$r.createElementNS("http://www.w3.org/2000/svg",pr);break;case"math":xr=$r.createElementNS("http://www.w3.org/1998/Math/MathML",pr);break;case"script":xr=$r.createElement("div"),xr.innerHTML="<script><\/script>",xr=xr.removeChild(xr.firstChild);break;case"select":xr=typeof ir.is=="string"?$r.createElement("select",{is:ir.is}):$r.createElement("select"),ir.multiple?xr.multiple=!0:ir.size&&(xr.size=ir.size);break;default:xr=typeof ir.is=="string"?$r.createElement(pr,{is:ir.is}):$r.createElement(pr)}}xr[Mi]=Qe,xr[Gi]=ir;e:for($r=Qe.child;$r!==null;){if($r.tag===5||$r.tag===6)xr.appendChild($r.stateNode);else if($r.tag!==4&&$r.tag!==27&&$r.child!==null){$r.child.return=$r,$r=$r.child;continue}if($r===Qe)break e;for(;$r.sibling===null;){if($r.return===null||$r.return===Qe)break e;$r=$r.return}$r.sibling.return=$r.return,$r=$r.sibling}Qe.stateNode=xr;e:switch(bo(xr,pr,ir),pr){case"button":case"input":case"select":case"textarea":ir=!!ir.autoFocus;break e;case"img":ir=!0;break e;default:ir=!1}ir&&zc(Qe)}}return ea(Qe),Ef(Qe,Qe.type,Ke===null?null:Ke.memoizedProps,Qe.pendingProps,tr),null;case 6:if(Ke&&Qe.stateNode!=null)Ke.memoizedProps!==ir&&zc(Qe);else{if(typeof ir!="string"&&Qe.stateNode===null)throw Error(Ue(166));if(Ke=Qr.current,Ha(Qe)){if(Ke=Qe.stateNode,tr=Qe.memoizedProps,ir=null,pr=qa,pr!==null)switch(pr.tag){case 27:case 5:ir=pr.memoizedProps}Ke[Mi]=Qe,Ke=!!(Ke.nodeValue===tr||ir!==null&&ir.suppressHydrationWarning===!0||Wm(Ke.nodeValue,tr)),Ke||pc(Qe,!0)}else Ke=$h(Ke).createTextNode(ir),Ke[Mi]=Qe,Qe.stateNode=Ke}return ea(Qe),null;case 31:if(tr=Qe.memoizedState,Ke===null||Ke.memoizedState!==null){if(ir=Ha(Qe),tr!==null){if(Ke===null){if(!ir)throw Error(Ue(318));if(Ke=Qe.memoizedState,Ke=Ke!==null?Ke.dehydrated:null,!Ke)throw Error(Ue(557));Ke[Mi]=Qe}else Lc(),(Qe.flags&128)===0&&(Qe.memoizedState=null),Qe.flags|=4;ea(Qe),Ke=!1}else tr=Pd(),Ke!==null&&Ke.memoizedState!==null&&(Ke.memoizedState.hydrationErrors=tr),Ke=!0;if(!Ke)return Qe.flags&256?(Os(Qe),Qe):(Os(Qe),null);if((Qe.flags&128)!==0)throw Error(Ue(558))}return ea(Qe),null;case 13:if(ir=Qe.memoizedState,Ke===null||Ke.memoizedState!==null&&Ke.memoizedState.dehydrated!==null){if(pr=Ha(Qe),ir!==null&&ir.dehydrated!==null){if(Ke===null){if(!pr)throw Error(Ue(318));if(pr=Qe.memoizedState,pr=pr!==null?pr.dehydrated:null,!pr)throw Error(Ue(317));pr[Mi]=Qe}else Lc(),(Qe.flags&128)===0&&(Qe.memoizedState=null),Qe.flags|=4;ea(Qe),pr=!1}else pr=Pd(),Ke!==null&&Ke.memoizedState!==null&&(Ke.memoizedState.hydrationErrors=pr),pr=!0;if(!pr)return Qe.flags&256?(Os(Qe),Qe):(Os(Qe),null)}return Os(Qe),(Qe.flags&128)!==0?(Qe.lanes=tr,Qe):(tr=ir!==null,Ke=Ke!==null&&Ke.memoizedState!==null,tr&&(ir=Qe.child,pr=null,ir.alternate!==null&&ir.alternate.memoizedState!==null&&ir.alternate.memoizedState.cachePool!==null&&(pr=ir.alternate.memoizedState.cachePool.pool),xr=null,ir.memoizedState!==null&&ir.memoizedState.cachePool!==null&&(xr=ir.memoizedState.cachePool.pool),xr!==pr&&(ir.flags|=2048)),tr!==Ke&&tr&&(Qe.child.flags|=8192),wh(Qe,Qe.updateQueue),ea(Qe),null);case 4:return Zr(),Ke===null&&qf(Qe.stateNode.containerInfo),ea(Qe),null;case 10:return Xo(Qe.type),ea(Qe),null;case 19:if(Tr(xs),ir=Qe.memoizedState,ir===null)return ea(Qe),null;if(pr=(Qe.flags&128)!==0,xr=ir.rendering,xr===null)if(pr)Bd(ir,!1);else{if(Sa!==0||Ke!==null&&(Ke.flags&128)!==0)for(Ke=Qe.child;Ke!==null;){if(xr=io(Ke),xr!==null){for(Qe.flags|=128,Bd(ir,!1),Ke=xr.updateQueue,Qe.updateQueue=Ke,wh(Qe,Ke),Qe.subtreeFlags=0,Ke=tr,tr=Qe.child;tr!==null;)ku(tr,Ke),tr=tr.sibling;return Vr(xs,xs.current&1|2),ds&&Oo(Qe,ir.treeForkCount),Qe.child}Ke=Ke.sibling}ir.tail!==null&&xn()>jh&&(Qe.flags|=128,pr=!0,Bd(ir,!1),Qe.lanes=4194304)}else{if(!pr)if(Ke=io(xr),Ke!==null){if(Qe.flags|=128,pr=!0,Ke=Ke.updateQueue,Qe.updateQueue=Ke,wh(Qe,Ke),Bd(ir,!0),ir.tail===null&&ir.tailMode==="hidden"&&!xr.alternate&&!ds)return ea(Qe),null}else 2*xn()-ir.renderingStartTime>jh&&tr!==536870912&&(Qe.flags|=128,pr=!0,Bd(ir,!1),Qe.lanes=4194304);ir.isBackwards?(xr.sibling=Qe.child,Qe.child=xr):(Ke=ir.last,Ke!==null?Ke.sibling=xr:Qe.child=xr,ir.last=xr)}return ir.tail!==null?(Ke=ir.tail,ir.rendering=Ke,ir.tail=Ke.sibling,ir.renderingStartTime=xn(),Ke.sibling=null,tr=xs.current,Vr(xs,pr?tr&1|2:tr&1),ds&&Oo(Qe,ir.treeForkCount),Ke):(ea(Qe),null);case 22:case 23:return Os(Qe),Pa(),ir=Qe.memoizedState!==null,Ke!==null?Ke.memoizedState!==null!==ir&&(Qe.flags|=8192):ir&&(Qe.flags|=8192),ir?(tr&536870912)!==0&&(Qe.flags&128)===0&&(ea(Qe),Qe.subtreeFlags&6&&(Qe.flags|=8192)):ea(Qe),tr=Qe.updateQueue,tr!==null&&wh(Qe,tr.retryQueue),tr=null,Ke!==null&&Ke.memoizedState!==null&&Ke.memoizedState.cachePool!==null&&(tr=Ke.memoizedState.cachePool.pool),ir=null,Qe.memoizedState!==null&&Qe.memoizedState.cachePool!==null&&(ir=Qe.memoizedState.cachePool.pool),ir!==tr&&(Qe.flags|=2048),Ke!==null&&Tr(Hr),null;case 24:return tr=null,Ke!==null&&(tr=Ke.memoizedState.cache),Qe.memoizedState.cache!==tr&&(Qe.flags|=2048),Xo(pa),ea(Qe),null;case 25:return null;case 30:return null}throw Error(Ue(156,Qe.tag))}function Mg(Ke,Qe){switch(Qu(Qe),Qe.tag){case 1:return Ke=Qe.flags,Ke&65536?(Qe.flags=Ke&-65537|128,Qe):null;case 3:return Xo(pa),Zr(),Ke=Qe.flags,(Ke&65536)!==0&&(Ke&128)===0?(Qe.flags=Ke&-65537|128,Qe):null;case 26:case 27:case 5:return jn(Qe),null;case 31:if(Qe.memoizedState!==null){if(Os(Qe),Qe.alternate===null)throw Error(Ue(340));Lc()}return Ke=Qe.flags,Ke&65536?(Qe.flags=Ke&-65537|128,Qe):null;case 13:if(Os(Qe),Ke=Qe.memoizedState,Ke!==null&&Ke.dehydrated!==null){if(Qe.alternate===null)throw Error(Ue(340));Lc()}return Ke=Qe.flags,Ke&65536?(Qe.flags=Ke&-65537|128,Qe):null;case 19:return Tr(xs),null;case 4:return Zr(),null;case 10:return Xo(Qe.type),null;case 22:case 23:return Os(Qe),Pa(),Ke!==null&&Tr(Hr),Ke=Qe.flags,Ke&65536?(Qe.flags=Ke&-65537|128,Qe):null;case 24:return Xo(pa),null;case 25:return null;default:return null}}function Qp(Ke,Qe){switch(Qu(Qe),Qe.tag){case 3:Xo(pa),Zr();break;case 26:case 27:case 5:jn(Qe);break;case 4:Zr();break;case 31:Qe.memoizedState!==null&&Os(Qe);break;case 13:Os(Qe);break;case 19:Tr(xs);break;case 10:Xo(Qe.type);break;case 22:case 23:Os(Qe),Pa(),Ke!==null&&Tr(Hr);break;case 24:Xo(pa)}}function Ud(Ke,Qe){try{var tr=Qe.updateQueue,ir=tr!==null?tr.lastEffect:null;if(ir!==null){var pr=ir.next;tr=pr;do{if((tr.tag&Ke)===Ke){ir=void 0;var xr=tr.create,$r=tr.inst;ir=xr(),$r.destroy=ir}tr=tr.next}while(tr!==pr)}}catch(Wr){$s(Qe,Qe.return,Wr)}}function fu(Ke,Qe,tr){try{var ir=Qe.updateQueue,pr=ir!==null?ir.lastEffect:null;if(pr!==null){var xr=pr.next;ir=xr;do{if((ir.tag&Ke)===Ke){var $r=ir.inst,Wr=$r.destroy;if(Wr!==void 0){$r.destroy=void 0,pr=Qe;var vn=tr,$n=Wr;try{$n()}catch(Kn){$s(pr,vn,Kn)}}}ir=ir.next}while(ir!==xr)}}catch(Kn){$s(Qe,Qe.return,Kn)}}function Jp(Ke){var Qe=Ke.updateQueue;if(Qe!==null){var tr=Ke.stateNode;try{xa(Qe,tr)}catch(ir){$s(Ke,Ke.return,ir)}}}function Zp(Ke,Qe,tr){tr.props=Vu(Ke.type,Ke.memoizedProps),tr.state=Ke.memoizedState;try{tr.componentWillUnmount()}catch(ir){$s(Ke,Qe,ir)}}function zd(Ke,Qe){try{var tr=Ke.ref;if(tr!==null){switch(Ke.tag){case 26:case 27:case 5:var ir=Ke.stateNode;break;case 30:ir=Ke.stateNode;break;default:ir=Ke.stateNode}typeof tr=="function"?Ke.refCleanup=tr(ir):tr.current=ir}}catch(pr){$s(Ke,Qe,pr)}}function wc(Ke,Qe){var tr=Ke.ref,ir=Ke.refCleanup;if(tr!==null)if(typeof ir=="function")try{ir()}catch(pr){$s(Ke,Qe,pr)}finally{Ke.refCleanup=null,Ke=Ke.alternate,Ke!=null&&(Ke.refCleanup=null)}else if(typeof tr=="function")try{tr(null)}catch(pr){$s(Ke,Qe,pr)}else tr.current=null}function em(Ke){var Qe=Ke.type,tr=Ke.memoizedProps,ir=Ke.stateNode;try{e:switch(Qe){case"button":case"input":case"select":case"textarea":tr.autoFocus&&ir.focus();break e;case"img":tr.src?ir.src=tr.src:tr.srcSet&&(ir.srcset=tr.srcSet)}}catch(pr){$s(Ke,Ke.return,pr)}}function wf(Ke,Qe,tr){try{var ir=Ke.stateNode;nv(ir,Ke.type,tr,Qe),ir[Gi]=Qe}catch(pr){$s(Ke,Ke.return,pr)}}function tm(Ke){return Ke.tag===5||Ke.tag===3||Ke.tag===26||Ke.tag===27&&bu(Ke.type)||Ke.tag===4}function Sf(Ke){e:for(;;){for(;Ke.sibling===null;){if(Ke.return===null||tm(Ke.return))return null;Ke=Ke.return}for(Ke.sibling.return=Ke.return,Ke=Ke.sibling;Ke.tag!==5&&Ke.tag!==6&&Ke.tag!==18;){if(Ke.tag===27&&bu(Ke.type)||Ke.flags&2||Ke.child===null||Ke.tag===4)continue e;Ke.child.return=Ke,Ke=Ke.child}if(!(Ke.flags&2))return Ke.stateNode}}function Rf(Ke,Qe,tr){var ir=Ke.tag;if(ir===5||ir===6)Ke=Ke.stateNode,Qe?(tr.nodeType===9?tr.body:tr.nodeName==="HTML"?tr.ownerDocument.body:tr).insertBefore(Ke,Qe):(Qe=tr.nodeType===9?tr.body:tr.nodeName==="HTML"?tr.ownerDocument.body:tr,Qe.appendChild(Ke),tr=tr._reactRootContainer,tr!=null||Qe.onclick!==null||(Qe.onclick=Po));else if(ir!==4&&(ir===27&&bu(Ke.type)&&(tr=Ke.stateNode,Qe=null),Ke=Ke.child,Ke!==null))for(Rf(Ke,Qe,tr),Ke=Ke.sibling;Ke!==null;)Rf(Ke,Qe,tr),Ke=Ke.sibling}function Sh(Ke,Qe,tr){var ir=Ke.tag;if(ir===5||ir===6)Ke=Ke.stateNode,Qe?tr.insertBefore(Ke,Qe):tr.appendChild(Ke);else if(ir!==4&&(ir===27&&bu(Ke.type)&&(tr=Ke.stateNode),Ke=Ke.child,Ke!==null))for(Sh(Ke,Qe,tr),Ke=Ke.sibling;Ke!==null;)Sh(Ke,Qe,tr),Ke=Ke.sibling}function rm(Ke){var Qe=Ke.stateNode,tr=Ke.memoizedProps;try{for(var ir=Ke.type,pr=Qe.attributes;pr.length;)Qe.removeAttributeNode(pr[0]);bo(Qe,ir,tr),Qe[Mi]=Ke,Qe[Gi]=tr}catch(xr){$s(Ke,Ke.return,xr)}}var qc=!1,La=!1,Af=!1,nm=typeof WeakSet=="function"?WeakSet:Set,so=null;function Og(Ke,Qe){if(Ke=Ke.containerInfo,Gf=Hh,Ke=Wl(Ke),jl(Ke)){if("selectionStart"in Ke)var tr={start:Ke.selectionStart,end:Ke.selectionEnd};else e:{tr=(tr=Ke.ownerDocument)&&tr.defaultView||window;var ir=tr.getSelection&&tr.getSelection();if(ir&&ir.rangeCount!==0){tr=ir.anchorNode;var pr=ir.anchorOffset,xr=ir.focusNode;ir=ir.focusOffset;try{tr.nodeType,xr.nodeType}catch{tr=null;break e}var $r=0,Wr=-1,vn=-1,$n=0,Kn=0,Zn=Ke,Bn=null;t:for(;;){for(var qn;Zn!==tr||pr!==0&&Zn.nodeType!==3||(Wr=$r+pr),Zn!==xr||ir!==0&&Zn.nodeType!==3||(vn=$r+ir),Zn.nodeType===3&&($r+=Zn.nodeValue.length),(qn=Zn.firstChild)!==null;)Bn=Zn,Zn=qn;for(;;){if(Zn===Ke)break t;if(Bn===tr&&++$n===pr&&(Wr=$r),Bn===xr&&++Kn===ir&&(vn=$r),(qn=Zn.nextSibling)!==null)break;Zn=Bn,Bn=Zn.parentNode}Zn=qn}tr=Wr===-1||vn===-1?null:{start:Wr,end:vn}}else tr=null}tr=tr||{start:0,end:0}}else tr=null;for(Kf={focusedElem:Ke,selectionRange:tr},Hh=!1,so=Qe;so!==null;)if(Qe=so,Ke=Qe.child,(Qe.subtreeFlags&1028)!==0&&Ke!==null)Ke.return=Qe,so=Ke;else for(;so!==null;){switch(Qe=so,xr=Qe.alternate,Ke=Qe.flags,Qe.tag){case 0:if((Ke&4)!==0&&(Ke=Qe.updateQueue,Ke=Ke!==null?Ke.events:null,Ke!==null))for(tr=0;tr<Ke.length;tr++)pr=Ke[tr],pr.ref.impl=pr.nextImpl;break;case 11:case 15:break;case 1:if((Ke&1024)!==0&&xr!==null){Ke=void 0,tr=Qe,pr=xr.memoizedProps,xr=xr.memoizedState,ir=tr.stateNode;try{var wi=Vu(tr.type,pr);Ke=ir.getSnapshotBeforeUpdate(wi,xr),ir.__reactInternalSnapshotBeforeUpdate=Ke}catch(Hi){$s(tr,tr.return,Hi)}}break;case 3:if((Ke&1024)!==0){if(Ke=Qe.stateNode.containerInfo,tr=Ke.nodeType,tr===9)Qf(Ke);else if(tr===1)switch(Ke.nodeName){case"HEAD":case"HTML":case"BODY":Qf(Ke);break;default:Ke.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((Ke&1024)!==0)throw Error(Ue(163))}if(Ke=Qe.sibling,Ke!==null){Ke.return=Qe.return,so=Ke;break}so=Qe.return}}function im(Ke,Qe,tr){var ir=tr.flags;switch(tr.tag){case 0:case 11:case 15:Wc(Ke,tr),ir&4&&Ud(5,tr);break;case 1:if(Wc(Ke,tr),ir&4)if(Ke=tr.stateNode,Qe===null)try{Ke.componentDidMount()}catch($r){$s(tr,tr.return,$r)}else{var pr=Vu(tr.type,Qe.memoizedProps);Qe=Qe.memoizedState;try{Ke.componentDidUpdate(pr,Qe,Ke.__reactInternalSnapshotBeforeUpdate)}catch($r){$s(tr,tr.return,$r)}}ir&64&&Jp(tr),ir&512&&zd(tr,tr.return);break;case 3:if(Wc(Ke,tr),ir&64&&(Ke=tr.updateQueue,Ke!==null)){if(Qe=null,tr.child!==null)switch(tr.child.tag){case 27:case 5:Qe=tr.child.stateNode;break;case 1:Qe=tr.child.stateNode}try{xa(Ke,Qe)}catch($r){$s(tr,tr.return,$r)}}break;case 27:Qe===null&&ir&4&&rm(tr);case 26:case 5:Wc(Ke,tr),Qe===null&&ir&4&&em(tr),ir&512&&zd(tr,tr.return);break;case 12:Wc(Ke,tr);break;case 31:Wc(Ke,tr),ir&4&&om(Ke,tr);break;case 13:Wc(Ke,tr),ir&4&&lm(Ke,tr),ir&64&&(Ke=tr.memoizedState,Ke!==null&&(Ke=Ke.dehydrated,Ke!==null&&(tr=Hg.bind(null,tr),dv(Ke,tr))));break;case 22:if(ir=tr.memoizedState!==null||qc,!ir){Qe=Qe!==null&&Qe.memoizedState!==null||La,pr=qc;var xr=La;qc=ir,(La=Qe)&&!xr?Gc(Ke,tr,(tr.subtreeFlags&8772)!==0):Wc(Ke,tr),qc=pr,La=xr}break;case 30:break;default:Wc(Ke,tr)}}function sm(Ke){var Qe=Ke.alternate;Qe!==null&&(Ke.alternate=null,sm(Qe)),Ke.child=null,Ke.deletions=null,Ke.sibling=null,Ke.tag===5&&(Qe=Ke.stateNode,Qe!==null&&nl(Qe)),Ke.stateNode=null,Ke.return=null,Ke.dependencies=null,Ke.memoizedProps=null,Ke.memoizedState=null,Ke.pendingProps=null,Ke.stateNode=null,Ke.updateQueue=null}var la=null,Jo=!1;function Hc(Ke,Qe,tr){for(tr=tr.child;tr!==null;)am(Ke,Qe,tr),tr=tr.sibling}function am(Ke,Qe,tr){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(Ui,tr)}catch{}switch(tr.tag){case 26:La||wc(tr,Qe),Hc(Ke,Qe,tr),tr.memoizedState?tr.memoizedState.count--:tr.stateNode&&(tr=tr.stateNode,tr.parentNode.removeChild(tr));break;case 27:La||wc(tr,Qe);var ir=la,pr=Jo;bu(tr.type)&&(la=tr.stateNode,Jo=!1),Hc(Ke,Qe,tr),Jd(tr.stateNode),la=ir,Jo=pr;break;case 5:La||wc(tr,Qe);case 6:if(ir=la,pr=Jo,la=null,Hc(Ke,Qe,tr),la=ir,Jo=pr,la!==null)if(Jo)try{(la.nodeType===9?la.body:la.nodeName==="HTML"?la.ownerDocument.body:la).removeChild(tr.stateNode)}catch(xr){$s(tr,Qe,xr)}else try{la.removeChild(tr.stateNode)}catch(xr){$s(tr,Qe,xr)}break;case 18:la!==null&&(Jo?(Ke=la,Jm(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke,tr.stateNode),wd(Ke)):Jm(la,tr.stateNode));break;case 4:ir=la,pr=Jo,la=tr.stateNode.containerInfo,Jo=!0,Hc(Ke,Qe,tr),la=ir,Jo=pr;break;case 0:case 11:case 14:case 15:fu(2,tr,Qe),La||fu(4,tr,Qe),Hc(Ke,Qe,tr);break;case 1:La||(wc(tr,Qe),ir=tr.stateNode,typeof ir.componentWillUnmount=="function"&&Zp(tr,Qe,ir)),Hc(Ke,Qe,tr);break;case 21:Hc(Ke,Qe,tr);break;case 22:La=(ir=La)||tr.memoizedState!==null,Hc(Ke,Qe,tr),La=ir;break;default:Hc(Ke,Qe,tr)}}function om(Ke,Qe){if(Qe.memoizedState===null&&(Ke=Qe.alternate,Ke!==null&&(Ke=Ke.memoizedState,Ke!==null))){Ke=Ke.dehydrated;try{wd(Ke)}catch(tr){$s(Qe,Qe.return,tr)}}}function lm(Ke,Qe){if(Qe.memoizedState===null&&(Ke=Qe.alternate,Ke!==null&&(Ke=Ke.memoizedState,Ke!==null&&(Ke=Ke.dehydrated,Ke!==null))))try{wd(Ke)}catch(tr){$s(Qe,Qe.return,tr)}}function Lg(Ke){switch(Ke.tag){case 31:case 13:case 19:var Qe=Ke.stateNode;return Qe===null&&(Qe=Ke.stateNode=new nm),Qe;case 22:return Ke=Ke.stateNode,Qe=Ke._retryCache,Qe===null&&(Qe=Ke._retryCache=new nm),Qe;default:throw Error(Ue(435,Ke.tag))}}function Rh(Ke,Qe){var tr=Lg(Ke);Qe.forEach(function(ir){if(!tr.has(ir)){tr.add(ir);var pr=Wg.bind(null,Ke,ir);ir.then(pr,pr)}})}function Zo(Ke,Qe){var tr=Qe.deletions;if(tr!==null)for(var ir=0;ir<tr.length;ir++){var pr=tr[ir],xr=Ke,$r=Qe,Wr=$r;e:for(;Wr!==null;){switch(Wr.tag){case 27:if(bu(Wr.type)){la=Wr.stateNode,Jo=!1;break e}break;case 5:la=Wr.stateNode,Jo=!1;break e;case 3:case 4:la=Wr.stateNode.containerInfo,Jo=!0;break e}Wr=Wr.return}if(la===null)throw Error(Ue(160));am(xr,$r,pr),la=null,Jo=!1,xr=pr.alternate,xr!==null&&(xr.return=null),pr.return=null}if(Qe.subtreeFlags&13886)for(Qe=Qe.child;Qe!==null;)cm(Qe,Ke),Qe=Qe.sibling}var ec=null;function cm(Ke,Qe){var tr=Ke.alternate,ir=Ke.flags;switch(Ke.tag){case 0:case 11:case 14:case 15:Zo(Qe,Ke),el(Ke),ir&4&&(fu(3,Ke,Ke.return),Ud(3,Ke),fu(5,Ke,Ke.return));break;case 1:Zo(Qe,Ke),el(Ke),ir&512&&(La||tr===null||wc(tr,tr.return)),ir&64&&qc&&(Ke=Ke.updateQueue,Ke!==null&&(ir=Ke.callbacks,ir!==null&&(tr=Ke.shared.hiddenCallbacks,Ke.shared.hiddenCallbacks=tr===null?ir:tr.concat(ir))));break;case 26:var pr=ec;if(Zo(Qe,Ke),el(Ke),ir&512&&(La||tr===null||wc(tr,tr.return)),ir&4){var xr=tr!==null?tr.memoizedState:null;if(ir=Ke.memoizedState,tr===null)if(ir===null)if(Ke.stateNode===null){e:{ir=Ke.type,tr=Ke.memoizedProps,pr=pr.ownerDocument||pr;t:switch(ir){case"title":xr=pr.getElementsByTagName("title")[0],(!xr||xr[Ps]||xr[Mi]||xr.namespaceURI==="http://www.w3.org/2000/svg"||xr.hasAttribute("itemprop"))&&(xr=pr.createElement(ir),pr.head.insertBefore(xr,pr.querySelector("head > title"))),bo(xr,ir,tr),xr[Mi]=Ke,Xs(xr),ir=xr;break e;case"link":var $r=cg("link","href",pr).get(ir+(tr.href||""));if($r){for(var Wr=0;Wr<$r.length;Wr++)if(xr=$r[Wr],xr.getAttribute("href")===(tr.href==null||tr.href===""?null:tr.href)&&xr.getAttribute("rel")===(tr.rel==null?null:tr.rel)&&xr.getAttribute("title")===(tr.title==null?null:tr.title)&&xr.getAttribute("crossorigin")===(tr.crossOrigin==null?null:tr.crossOrigin)){$r.splice(Wr,1);break t}}xr=pr.createElement(ir),bo(xr,ir,tr),pr.head.appendChild(xr);break;case"meta":if($r=cg("meta","content",pr).get(ir+(tr.content||""))){for(Wr=0;Wr<$r.length;Wr++)if(xr=$r[Wr],xr.getAttribute("content")===(tr.content==null?null:""+tr.content)&&xr.getAttribute("name")===(tr.name==null?null:tr.name)&&xr.getAttribute("property")===(tr.property==null?null:tr.property)&&xr.getAttribute("http-equiv")===(tr.httpEquiv==null?null:tr.httpEquiv)&&xr.getAttribute("charset")===(tr.charSet==null?null:tr.charSet)){$r.splice(Wr,1);break t}}xr=pr.createElement(ir),bo(xr,ir,tr),pr.head.appendChild(xr);break;default:throw Error(Ue(468,ir))}xr[Mi]=Ke,Xs(xr),ir=xr}Ke.stateNode=ir}else ug(pr,Ke.type,Ke.stateNode);else Ke.stateNode=lg(pr,ir,Ke.memoizedProps);else xr!==ir?(xr===null?tr.stateNode!==null&&(tr=tr.stateNode,tr.parentNode.removeChild(tr)):xr.count--,ir===null?ug(pr,Ke.type,Ke.stateNode):lg(pr,ir,Ke.memoizedProps)):ir===null&&Ke.stateNode!==null&&wf(Ke,Ke.memoizedProps,tr.memoizedProps)}break;case 27:Zo(Qe,Ke),el(Ke),ir&512&&(La||tr===null||wc(tr,tr.return)),tr!==null&&ir&4&&wf(Ke,Ke.memoizedProps,tr.memoizedProps);break;case 5:if(Zo(Qe,Ke),el(Ke),ir&512&&(La||tr===null||wc(tr,tr.return)),Ke.flags&32){pr=Ke.stateNode;try{Aa(pr,"")}catch(wi){$s(Ke,Ke.return,wi)}}ir&4&&Ke.stateNode!=null&&(pr=Ke.memoizedProps,wf(Ke,pr,tr!==null?tr.memoizedProps:pr)),ir&1024&&(Af=!0);break;case 6:if(Zo(Qe,Ke),el(Ke),ir&4){if(Ke.stateNode===null)throw Error(Ue(162));ir=Ke.memoizedProps,tr=Ke.stateNode;try{tr.nodeValue=ir}catch(wi){$s(Ke,Ke.return,wi)}}break;case 3:if(Bh=null,pr=ec,ec=Fh(Qe.containerInfo),Zo(Qe,Ke),ec=pr,el(Ke),ir&4&&tr!==null&&tr.memoizedState.isDehydrated)try{wd(Qe.containerInfo)}catch(wi){$s(Ke,Ke.return,wi)}Af&&(Af=!1,um(Ke));break;case 4:ir=ec,ec=Fh(Ke.stateNode.containerInfo),Zo(Qe,Ke),el(Ke),ec=ir;break;case 12:Zo(Qe,Ke),el(Ke);break;case 31:Zo(Qe,Ke),el(Ke),ir&4&&(ir=Ke.updateQueue,ir!==null&&(Ke.updateQueue=null,Rh(Ke,ir)));break;case 13:Zo(Qe,Ke),el(Ke),Ke.child.flags&8192&&Ke.memoizedState!==null!=(tr!==null&&tr.memoizedState!==null)&&(Th=xn()),ir&4&&(ir=Ke.updateQueue,ir!==null&&(Ke.updateQueue=null,Rh(Ke,ir)));break;case 22:pr=Ke.memoizedState!==null;var vn=tr!==null&&tr.memoizedState!==null,$n=qc,Kn=La;if(qc=$n||pr,La=Kn||vn,Zo(Qe,Ke),La=Kn,qc=$n,el(Ke),ir&8192)e:for(Qe=Ke.stateNode,Qe._visibility=pr?Qe._visibility&-2:Qe._visibility|1,pr&&(tr===null||vn||qc||La||Bu(Ke)),tr=null,Qe=Ke;;){if(Qe.tag===5||Qe.tag===26){if(tr===null){vn=tr=Qe;try{if(xr=vn.stateNode,pr)$r=xr.style,typeof $r.setProperty=="function"?$r.setProperty("display","none","important"):$r.display="none";else{Wr=vn.stateNode;var Zn=vn.memoizedProps.style,Bn=Zn!=null&&Zn.hasOwnProperty("display")?Zn.display:null;Wr.style.display=Bn==null||typeof Bn=="boolean"?"":(""+Bn).trim()}}catch(wi){$s(vn,vn.return,wi)}}}else if(Qe.tag===6){if(tr===null){vn=Qe;try{vn.stateNode.nodeValue=pr?"":vn.memoizedProps}catch(wi){$s(vn,vn.return,wi)}}}else if(Qe.tag===18){if(tr===null){vn=Qe;try{var qn=vn.stateNode;pr?Zm(qn,!0):Zm(vn.stateNode,!1)}catch(wi){$s(vn,vn.return,wi)}}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===Ke)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===Ke)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===Ke)break e;tr===Qe&&(tr=null),Qe=Qe.return}tr===Qe&&(tr=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}ir&4&&(ir=Ke.updateQueue,ir!==null&&(tr=ir.retryQueue,tr!==null&&(ir.retryQueue=null,Rh(Ke,tr))));break;case 19:Zo(Qe,Ke),el(Ke),ir&4&&(ir=Ke.updateQueue,ir!==null&&(Ke.updateQueue=null,Rh(Ke,ir)));break;case 30:break;case 21:break;default:Zo(Qe,Ke),el(Ke)}}function el(Ke){var Qe=Ke.flags;if(Qe&2){try{for(var tr,ir=Ke.return;ir!==null;){if(tm(ir)){tr=ir;break}ir=ir.return}if(tr==null)throw Error(Ue(160));switch(tr.tag){case 27:var pr=tr.stateNode,xr=Sf(Ke);Sh(Ke,xr,pr);break;case 5:var $r=tr.stateNode;tr.flags&32&&(Aa($r,""),tr.flags&=-33);var Wr=Sf(Ke);Sh(Ke,Wr,$r);break;case 3:case 4:var vn=tr.stateNode.containerInfo,$n=Sf(Ke);Rf(Ke,$n,vn);break;default:throw Error(Ue(161))}}catch(Kn){$s(Ke,Ke.return,Kn)}Ke.flags&=-3}Qe&4096&&(Ke.flags&=-4097)}function um(Ke){if(Ke.subtreeFlags&1024)for(Ke=Ke.child;Ke!==null;){var Qe=Ke;um(Qe),Qe.tag===5&&Qe.flags&1024&&Qe.stateNode.reset(),Ke=Ke.sibling}}function Wc(Ke,Qe){if(Qe.subtreeFlags&8772)for(Qe=Qe.child;Qe!==null;)im(Ke,Qe.alternate,Qe),Qe=Qe.sibling}function Bu(Ke){for(Ke=Ke.child;Ke!==null;){var Qe=Ke;switch(Qe.tag){case 0:case 11:case 14:case 15:fu(4,Qe,Qe.return),Bu(Qe);break;case 1:wc(Qe,Qe.return);var tr=Qe.stateNode;typeof tr.componentWillUnmount=="function"&&Zp(Qe,Qe.return,tr),Bu(Qe);break;case 27:Jd(Qe.stateNode);case 26:case 5:wc(Qe,Qe.return),Bu(Qe);break;case 22:Qe.memoizedState===null&&Bu(Qe);break;case 30:Bu(Qe);break;default:Bu(Qe)}Ke=Ke.sibling}}function Gc(Ke,Qe,tr){for(tr=tr&&(Qe.subtreeFlags&8772)!==0,Qe=Qe.child;Qe!==null;){var ir=Qe.alternate,pr=Ke,xr=Qe,$r=xr.flags;switch(xr.tag){case 0:case 11:case 15:Gc(pr,xr,tr),Ud(4,xr);break;case 1:if(Gc(pr,xr,tr),ir=xr,pr=ir.stateNode,typeof pr.componentDidMount=="function")try{pr.componentDidMount()}catch($n){$s(ir,ir.return,$n)}if(ir=xr,pr=ir.updateQueue,pr!==null){var Wr=ir.stateNode;try{var vn=pr.shared.hiddenCallbacks;if(vn!==null)for(pr.shared.hiddenCallbacks=null,pr=0;pr<vn.length;pr++)no(vn[pr],Wr)}catch($n){$s(ir,ir.return,$n)}}tr&&$r&64&&Jp(xr),zd(xr,xr.return);break;case 27:rm(xr);case 26:case 5:Gc(pr,xr,tr),tr&&ir===null&&$r&4&&em(xr),zd(xr,xr.return);break;case 12:Gc(pr,xr,tr);break;case 31:Gc(pr,xr,tr),tr&&$r&4&&om(pr,xr);break;case 13:Gc(pr,xr,tr),tr&&$r&4&&lm(pr,xr);break;case 22:xr.memoizedState===null&&Gc(pr,xr,tr),zd(xr,xr.return);break;case 30:break;default:Gc(pr,xr,tr)}Qe=Qe.sibling}}function Tf(Ke,Qe){var tr=null;Ke!==null&&Ke.memoizedState!==null&&Ke.memoizedState.cachePool!==null&&(tr=Ke.memoizedState.cachePool.pool),Ke=null,Qe.memoizedState!==null&&Qe.memoizedState.cachePool!==null&&(Ke=Qe.memoizedState.cachePool.pool),Ke!==tr&&(Ke!=null&&Ke.refCount++,tr!=null&&Ou(tr))}function jf(Ke,Qe){Ke=null,Qe.alternate!==null&&(Ke=Qe.alternate.memoizedState.cache),Qe=Qe.memoizedState.cache,Qe!==Ke&&(Qe.refCount++,Ke!=null&&Ou(Ke))}function tc(Ke,Qe,tr,ir){if(Qe.subtreeFlags&10256)for(Qe=Qe.child;Qe!==null;)dm(Ke,Qe,tr,ir),Qe=Qe.sibling}function dm(Ke,Qe,tr,ir){var pr=Qe.flags;switch(Qe.tag){case 0:case 11:case 15:tc(Ke,Qe,tr,ir),pr&2048&&Ud(9,Qe);break;case 1:tc(Ke,Qe,tr,ir);break;case 3:tc(Ke,Qe,tr,ir),pr&2048&&(Ke=null,Qe.alternate!==null&&(Ke=Qe.alternate.memoizedState.cache),Qe=Qe.memoizedState.cache,Qe!==Ke&&(Qe.refCount++,Ke!=null&&Ou(Ke)));break;case 12:if(pr&2048){tc(Ke,Qe,tr,ir),Ke=Qe.stateNode;try{var xr=Qe.memoizedProps,$r=xr.id,Wr=xr.onPostCommit;typeof Wr=="function"&&Wr($r,Qe.alternate===null?"mount":"update",Ke.passiveEffectDuration,-0)}catch(vn){$s(Qe,Qe.return,vn)}}else tc(Ke,Qe,tr,ir);break;case 31:tc(Ke,Qe,tr,ir);break;case 13:tc(Ke,Qe,tr,ir);break;case 23:break;case 22:xr=Qe.stateNode,$r=Qe.alternate,Qe.memoizedState!==null?xr._visibility&2?tc(Ke,Qe,tr,ir):qd(Ke,Qe):xr._visibility&2?tc(Ke,Qe,tr,ir):(xr._visibility|=2,hd(Ke,Qe,tr,ir,(Qe.subtreeFlags&10256)!==0||!1)),pr&2048&&Tf($r,Qe);break;case 24:tc(Ke,Qe,tr,ir),pr&2048&&jf(Qe.alternate,Qe);break;default:tc(Ke,Qe,tr,ir)}}function hd(Ke,Qe,tr,ir,pr){for(pr=pr&&((Qe.subtreeFlags&10256)!==0||!1),Qe=Qe.child;Qe!==null;){var xr=Ke,$r=Qe,Wr=tr,vn=ir,$n=$r.flags;switch($r.tag){case 0:case 11:case 15:hd(xr,$r,Wr,vn,pr),Ud(8,$r);break;case 23:break;case 22:var Kn=$r.stateNode;$r.memoizedState!==null?Kn._visibility&2?hd(xr,$r,Wr,vn,pr):qd(xr,$r):(Kn._visibility|=2,hd(xr,$r,Wr,vn,pr)),pr&&$n&2048&&Tf($r.alternate,$r);break;case 24:hd(xr,$r,Wr,vn,pr),pr&&$n&2048&&jf($r.alternate,$r);break;default:hd(xr,$r,Wr,vn,pr)}Qe=Qe.sibling}}function qd(Ke,Qe){if(Qe.subtreeFlags&10256)for(Qe=Qe.child;Qe!==null;){var tr=Ke,ir=Qe,pr=ir.flags;switch(ir.tag){case 22:qd(tr,ir),pr&2048&&Tf(ir.alternate,ir);break;case 24:qd(tr,ir),pr&2048&&jf(ir.alternate,ir);break;default:qd(tr,ir)}Qe=Qe.sibling}}var Hd=8192;function fd(Ke,Qe,tr){if(Ke.subtreeFlags&Hd)for(Ke=Ke.child;Ke!==null;)hm(Ke,Qe,tr),Ke=Ke.sibling}function hm(Ke,Qe,tr){switch(Ke.tag){case 26:fd(Ke,Qe,tr),Ke.flags&Hd&&Ke.memoizedState!==null&&wv(tr,ec,Ke.memoizedState,Ke.memoizedProps);break;case 5:fd(Ke,Qe,tr);break;case 3:case 4:var ir=ec;ec=Fh(Ke.stateNode.containerInfo),fd(Ke,Qe,tr),ec=ir;break;case 22:Ke.memoizedState===null&&(ir=Ke.alternate,ir!==null&&ir.memoizedState!==null?(ir=Hd,Hd=16777216,fd(Ke,Qe,tr),Hd=ir):fd(Ke,Qe,tr));break;default:fd(Ke,Qe,tr)}}function fm(Ke){var Qe=Ke.alternate;if(Qe!==null&&(Ke=Qe.child,Ke!==null)){Qe.child=null;do Qe=Ke.sibling,Ke.sibling=null,Ke=Qe;while(Ke!==null)}}function Wd(Ke){var Qe=Ke.deletions;if((Ke.flags&16)!==0){if(Qe!==null)for(var tr=0;tr<Qe.length;tr++){var ir=Qe[tr];so=ir,mm(ir,Ke)}fm(Ke)}if(Ke.subtreeFlags&10256)for(Ke=Ke.child;Ke!==null;)pm(Ke),Ke=Ke.sibling}function pm(Ke){switch(Ke.tag){case 0:case 11:case 15:Wd(Ke),Ke.flags&2048&&fu(9,Ke,Ke.return);break;case 3:Wd(Ke);break;case 12:Wd(Ke);break;case 22:var Qe=Ke.stateNode;Ke.memoizedState!==null&&Qe._visibility&2&&(Ke.return===null||Ke.return.tag!==13)?(Qe._visibility&=-3,Ah(Ke)):Wd(Ke);break;default:Wd(Ke)}}function Ah(Ke){var Qe=Ke.deletions;if((Ke.flags&16)!==0){if(Qe!==null)for(var tr=0;tr<Qe.length;tr++){var ir=Qe[tr];so=ir,mm(ir,Ke)}fm(Ke)}for(Ke=Ke.child;Ke!==null;){switch(Qe=Ke,Qe.tag){case 0:case 11:case 15:fu(8,Qe,Qe.return),Ah(Qe);break;case 22:tr=Qe.stateNode,tr._visibility&2&&(tr._visibility&=-3,Ah(Qe));break;default:Ah(Qe)}Ke=Ke.sibling}}function mm(Ke,Qe){for(;so!==null;){var tr=so;switch(tr.tag){case 0:case 11:case 15:fu(8,tr,Qe);break;case 23:case 22:if(tr.memoizedState!==null&&tr.memoizedState.cachePool!==null){var ir=tr.memoizedState.cachePool.pool;ir!=null&&ir.refCount++}break;case 24:Ou(tr.memoizedState.cache)}if(ir=tr.child,ir!==null)ir.return=tr,so=ir;else e:for(tr=Ke;so!==null;){ir=so;var pr=ir.sibling,xr=ir.return;if(sm(ir),ir===tr){so=null;break e}if(pr!==null){pr.return=xr,so=pr;break e}so=xr}}}var $g={getCacheForType:function(Ke){var Qe=Wa(pa),tr=Qe.data.get(Ke);return tr===void 0&&(tr=Ke(),Qe.data.set(Ke,tr)),tr},cacheSignal:function(){return Wa(pa).controller.signal}},Fg=typeof WeakMap=="function"?WeakMap:Map,Ns=0,Ys=null,hs=null,gs=0,Ls=0,pl=null,pu=!1,pd=!1,Pf=!1,Kc=0,Sa=0,mu=0,Uu=0,Cf=0,ml=0,md=0,Gd=null,tl=null,If=!1,Th=0,gm=0,jh=1/0,Ph=null,gu=null,Ka=0,vu=null,gd=null,Yc=0,Nf=0,kf=null,vm=null,Kd=0,Df=null;function gl(){return(Ns&2)!==0&&gs!==0?gs&-gs:Er.T!==null?Vf():si()}function ym(){if(ml===0)if((gs&536870912)===0||ds){var Ke=os;os<<=1,(os&3932160)===0&&(os=262144),ml=Ke}else ml=536870912;return Ke=Zs.current,Ke!==null&&(Ke.flags|=32),ml}function rl(Ke,Qe,tr){(Ke===Ys&&(Ls===2||Ls===9)||Ke.cancelPendingCommit!==null)&&(vd(Ke,0),yu(Ke,gs,ml,!1)),Ii(Ke,tr),((Ns&2)===0||Ke!==Ys)&&(Ke===Ys&&((Ns&2)===0&&(Uu|=tr),Sa===4&&yu(Ke,gs,ml,!1)),Sc(Ke))}function xm(Ke,Qe,tr){if((Ns&6)!==0)throw Error(Ue(327));var ir=!tr&&(Qe&127)===0&&(Qe&Ke.expiredLanes)===0||ga(Ke,Qe),pr=ir?Ug(Ke,Qe):Of(Ke,Qe,!0),xr=ir;do{if(pr===0){pd&&!ir&&yu(Ke,Qe,0,!1);break}else{if(tr=Ke.current.alternate,xr&&!Vg(tr)){pr=Of(Ke,Qe,!1),xr=!1;continue}if(pr===2){if(xr=Qe,Ke.errorRecoveryDisabledLanes&xr)var $r=0;else $r=Ke.pendingLanes&-536870913,$r=$r!==0?$r:$r&536870912?536870912:0;if($r!==0){Qe=$r;e:{var Wr=Ke;pr=Gd;var vn=Wr.current.memoizedState.isDehydrated;if(vn&&(vd(Wr,$r).flags|=256),$r=Of(Wr,$r,!1),$r!==2){if(Pf&&!vn){Wr.errorRecoveryDisabledLanes|=xr,Uu|=xr,pr=4;break e}xr=tl,tl=pr,xr!==null&&(tl===null?tl=xr:tl.push.apply(tl,xr))}pr=$r}if(xr=!1,pr!==2)continue}}if(pr===1){vd(Ke,0),yu(Ke,Qe,0,!0);break}e:{switch(ir=Ke,xr=pr,xr){case 0:case 1:throw Error(Ue(345));case 4:if((Qe&4194048)!==Qe)break;case 6:yu(ir,Qe,ml,!pu);break e;case 2:tl=null;break;case 3:case 5:break;default:throw Error(Ue(329))}if((Qe&62914560)===Qe&&(pr=Th+300-xn(),10<pr)){if(yu(ir,Qe,ml,!pu),Qi(ir,0,!0)!==0)break e;Yc=Qe,ir.timeoutHandle=Xm(bm.bind(null,ir,tr,tl,Ph,If,Qe,ml,Uu,md,pu,xr,"Throttled",-0,0),pr);break e}bm(ir,tr,tl,Ph,If,Qe,ml,Uu,md,pu,xr,null,-0,0)}}break}while(!0);Sc(Ke)}function bm(Ke,Qe,tr,ir,pr,xr,$r,Wr,vn,$n,Kn,Zn,Bn,qn){if(Ke.timeoutHandle=-1,Zn=Qe.subtreeFlags,Zn&8192||(Zn&16785408)===16785408){Zn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Po},hm(Qe,xr,Zn);var wi=(xr&62914560)===xr?Th-xn():(xr&4194048)===xr?gm-xn():0;if(wi=Sv(Zn,wi),wi!==null){Yc=xr,Ke.cancelPendingCommit=wi(jm.bind(null,Ke,Qe,xr,tr,ir,pr,$r,Wr,vn,Kn,Zn,null,Bn,qn)),yu(Ke,xr,$r,!$n);return}}jm(Ke,Qe,xr,tr,ir,pr,$r,Wr,vn)}function Vg(Ke){for(var Qe=Ke;;){var tr=Qe.tag;if((tr===0||tr===11||tr===15)&&Qe.flags&16384&&(tr=Qe.updateQueue,tr!==null&&(tr=tr.stores,tr!==null)))for(var ir=0;ir<tr.length;ir++){var pr=tr[ir],xr=pr.getSnapshot;pr=pr.value;try{if(!Ua(xr(),pr))return!1}catch{return!1}}if(tr=Qe.child,Qe.subtreeFlags&16384&&tr!==null)tr.return=Qe,Qe=tr;else{if(Qe===Ke)break;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===Ke)return!0;Qe=Qe.return}Qe.sibling.return=Qe.return,Qe=Qe.sibling}}return!0}function yu(Ke,Qe,tr,ir){Qe&=~Cf,Qe&=~Uu,Ke.suspendedLanes|=Qe,Ke.pingedLanes&=~Qe,ir&&(Ke.warmLanes|=Qe),ir=Ke.expirationTimes;for(var pr=Qe;0<pr;){var xr=31-Wi(pr),$r=1<<xr;ir[xr]=-1,pr&=~$r}tr!==0&&Ca(Ke,tr,Qe)}function Ch(){return(Ns&6)===0?(Yd(0),!1):!0}function Mf(){if(hs!==null){if(Ls===0)var Ke=hs.return;else Ke=hs,Cl=mc=null,sd(Ke),ti=null,Ri=0,Ke=hs;for(;Ke!==null;)Qp(Ke.alternate,Ke),Ke=Ke.return;hs=null}}function vd(Ke,Qe){var tr=Ke.timeoutHandle;tr!==-1&&(Ke.timeoutHandle=-1,av(tr)),tr=Ke.cancelPendingCommit,tr!==null&&(Ke.cancelPendingCommit=null,tr()),Yc=0,Mf(),Ys=Ke,hs=tr=qo(Ke.current,null),gs=Qe,Ls=0,pl=null,pu=!1,pd=ga(Ke,Qe),Pf=!1,md=ml=Cf=Uu=mu=Sa=0,tl=Gd=null,If=!1,(Qe&8)!==0&&(Qe|=Qe&32);var ir=Ke.entangledLanes;if(ir!==0)for(Ke=Ke.entanglements,ir&=Qe;0<ir;){var pr=31-Wi(ir),xr=1<<pr;Qe|=Ke[pr],ir&=~xr}return Kc=Qe,Cu(),tr}function _m(Ke,Qe){Li=null,Er.H=Fd,Qe===En||Qe===dn?(Qe=Xn(),Ls=3):Qe===On?(Qe=Xn(),Ls=4):Ls=Qe===ff?8:Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"?6:1,pl=Qe,hs===null&&(Sa=1,xh(Ke,Ho(Qe,Ke.current)))}function Em(){var Ke=Zs.current;return Ke===null?!0:(gs&4194048)===gs?_s===null:(gs&62914560)===gs||(gs&536870912)!==0?Ke===_s:!1}function wm(){var Ke=Er.H;return Er.H=Fd,Ke===null?Fd:Ke}function Sm(){var Ke=Er.A;return Er.A=$g,Ke}function Ih(){Sa=4,pu||(gs&4194048)!==gs&&Zs.current!==null||(pd=!0),(mu&134217727)===0&&(Uu&134217727)===0||Ys===null||yu(Ys,gs,ml,!1)}function Of(Ke,Qe,tr){var ir=Ns;Ns|=2;var pr=wm(),xr=Sm();(Ys!==Ke||gs!==Qe)&&(Ph=null,vd(Ke,Qe)),Qe=!1;var $r=Sa;e:do try{if(Ls!==0&&hs!==null){var Wr=hs,vn=pl;switch(Ls){case 8:Mf(),$r=6;break e;case 3:case 2:case 9:case 6:Zs.current===null&&(Qe=!0);var $n=Ls;if(Ls=0,pl=null,yd(Ke,Wr,vn,$n),tr&&pd){$r=0;break e}break;default:$n=Ls,Ls=0,pl=null,yd(Ke,Wr,vn,$n)}}Bg(),$r=Sa;break}catch(Kn){_m(Ke,Kn)}while(!0);return Qe&&Ke.shellSuspendCounter++,Cl=mc=null,Ns=ir,Er.H=pr,Er.A=xr,hs===null&&(Ys=null,gs=0,Cu()),$r}function Bg(){for(;hs!==null;)Rm(hs)}function Ug(Ke,Qe){var tr=Ns;Ns|=2;var ir=wm(),pr=Sm();Ys!==Ke||gs!==Qe?(Ph=null,jh=xn()+500,vd(Ke,Qe)):pd=ga(Ke,Qe);e:do try{if(Ls!==0&&hs!==null){Qe=hs;var xr=pl;t:switch(Ls){case 1:Ls=0,pl=null,yd(Ke,Qe,xr,1);break;case 2:case 9:if(Dn(xr)){Ls=0,pl=null,Am(Qe);break}Qe=function(){Ls!==2&&Ls!==9||Ys!==Ke||(Ls=7),Sc(Ke)},xr.then(Qe,Qe);break e;case 3:Ls=7;break e;case 4:Ls=5;break e;case 7:Dn(xr)?(Ls=0,pl=null,Am(Qe)):(Ls=0,pl=null,yd(Ke,Qe,xr,7));break;case 5:var $r=null;switch(hs.tag){case 26:$r=hs.memoizedState;case 5:case 27:var Wr=hs;if($r?dg($r):Wr.stateNode.complete){Ls=0,pl=null;var vn=Wr.sibling;if(vn!==null)hs=vn;else{var $n=Wr.return;$n!==null?(hs=$n,Nh($n)):hs=null}break t}}Ls=0,pl=null,yd(Ke,Qe,xr,5);break;case 6:Ls=0,pl=null,yd(Ke,Qe,xr,6);break;case 8:Mf(),Sa=6;break e;default:throw Error(Ue(462))}}zg();break}catch(Kn){_m(Ke,Kn)}while(!0);return Cl=mc=null,Er.H=ir,Er.A=pr,Ns=tr,hs!==null?0:(Ys=null,gs=0,Cu(),Sa)}function zg(){for(;hs!==null&&!Yn();)Rm(hs)}function Rm(Ke){var Qe=Yp(Ke.alternate,Ke,Kc);Ke.memoizedProps=Ke.pendingProps,Qe===null?Nh(Ke):hs=Qe}function Am(Ke){var Qe=Ke,tr=Qe.alternate;switch(Qe.tag){case 15:case 0:Qe=zp(tr,Qe,Qe.pendingProps,Qe.type,void 0,gs);break;case 11:Qe=zp(tr,Qe,Qe.pendingProps,Qe.type.render,Qe.ref,gs);break;case 5:sd(Qe);default:Qp(tr,Qe),Qe=hs=ku(Qe,Kc),Qe=Yp(tr,Qe,Kc)}Ke.memoizedProps=Ke.pendingProps,Qe===null?Nh(Ke):hs=Qe}function yd(Ke,Qe,tr,ir){Cl=mc=null,sd(Qe),ti=null,Ri=0;var pr=Qe.return;try{if(Ig(Ke,pr,Qe,tr,gs)){Sa=1,xh(Ke,Ho(tr,Ke.current)),hs=null;return}}catch(xr){if(pr!==null)throw hs=pr,xr;Sa=1,xh(Ke,Ho(tr,Ke.current)),hs=null;return}Qe.flags&32768?(ds||ir===1?Ke=!0:pd||(gs&536870912)!==0?Ke=!1:(pu=Ke=!0,(ir===2||ir===9||ir===3||ir===6)&&(ir=Zs.current,ir!==null&&ir.tag===13&&(ir.flags|=16384))),Tm(Qe,Ke)):Nh(Qe)}function Nh(Ke){var Qe=Ke;do{if((Qe.flags&32768)!==0){Tm(Qe,pu);return}Ke=Qe.return;var tr=Dg(Qe.alternate,Qe,Kc);if(tr!==null){hs=tr;return}if(Qe=Qe.sibling,Qe!==null){hs=Qe;return}hs=Qe=Ke}while(Qe!==null);Sa===0&&(Sa=5)}function Tm(Ke,Qe){do{var tr=Mg(Ke.alternate,Ke);if(tr!==null){tr.flags&=32767,hs=tr;return}if(tr=Ke.return,tr!==null&&(tr.flags|=32768,tr.subtreeFlags=0,tr.deletions=null),!Qe&&(Ke=Ke.sibling,Ke!==null)){hs=Ke;return}hs=Ke=tr}while(Ke!==null);Sa=6,hs=null}function jm(Ke,Qe,tr,ir,pr,xr,$r,Wr,vn){Ke.cancelPendingCommit=null;do kh();while(Ka!==0);if((Ns&6)!==0)throw Error(Ue(327));if(Qe!==null){if(Qe===Ke.current)throw Error(Ue(177));if(xr=Qe.lanes|Qe.childLanes,xr|=qu,To(Ke,tr,xr,$r,Wr,vn),Ke===Ys&&(hs=Ys=null,gs=0),gd=Qe,vu=Ke,Yc=tr,Nf=xr,kf=pr,vm=ir,(Qe.subtreeFlags&10256)!==0||(Qe.flags&10256)!==0?(Ke.callbackNode=null,Ke.callbackPriority=0,Gg(oi,function(){return km(),null})):(Ke.callbackNode=null,Ke.callbackPriority=0),ir=(Qe.flags&13878)!==0,(Qe.subtreeFlags&13878)!==0||ir){ir=Er.T,Er.T=null,pr=Nr.p,Nr.p=2,$r=Ns,Ns|=4;try{Og(Ke,Qe,tr)}finally{Ns=$r,Nr.p=pr,Er.T=ir}}Ka=1,Pm(),Cm(),Im()}}function Pm(){if(Ka===1){Ka=0;var Ke=vu,Qe=gd,tr=(Qe.flags&13878)!==0;if((Qe.subtreeFlags&13878)!==0||tr){tr=Er.T,Er.T=null;var ir=Nr.p;Nr.p=2;var pr=Ns;Ns|=4;try{cm(Qe,Ke);var xr=Kf,$r=Wl(Ke.containerInfo),Wr=xr.focusedElem,vn=xr.selectionRange;if($r!==Wr&&Wr&&Wr.ownerDocument&&Hl(Wr.ownerDocument.documentElement,Wr)){if(vn!==null&&jl(Wr)){var $n=vn.start,Kn=vn.end;if(Kn===void 0&&(Kn=$n),"selectionStart"in Wr)Wr.selectionStart=$n,Wr.selectionEnd=Math.min(Kn,Wr.value.length);else{var Zn=Wr.ownerDocument||document,Bn=Zn&&Zn.defaultView||window;if(Bn.getSelection){var qn=Bn.getSelection(),wi=Wr.textContent.length,Hi=Math.min(vn.start,wi),Hs=vn.end===void 0?Hi:Math.min(vn.end,wi);!qn.extend&&Hi>Hs&&($r=Hs,Hs=Hi,Hi=$r);var Nn=ru(Wr,Hi),wn=ru(Wr,Hs);if(Nn&&wn&&(qn.rangeCount!==1||qn.anchorNode!==Nn.node||qn.anchorOffset!==Nn.offset||qn.focusNode!==wn.node||qn.focusOffset!==wn.offset)){var Ln=Zn.createRange();Ln.setStart(Nn.node,Nn.offset),qn.removeAllRanges(),Hi>Hs?(qn.addRange(Ln),qn.extend(wn.node,wn.offset)):(Ln.setEnd(wn.node,wn.offset),qn.addRange(Ln))}}}}for(Zn=[],qn=Wr;qn=qn.parentNode;)qn.nodeType===1&&Zn.push({element:qn,left:qn.scrollLeft,top:qn.scrollTop});for(typeof Wr.focus=="function"&&Wr.focus(),Wr=0;Wr<Zn.length;Wr++){var Jn=Zn[Wr];Jn.element.scrollLeft=Jn.left,Jn.element.scrollTop=Jn.top}}Hh=!!Gf,Kf=Gf=null}finally{Ns=pr,Nr.p=ir,Er.T=tr}}Ke.current=Qe,Ka=2}}function Cm(){if(Ka===2){Ka=0;var Ke=vu,Qe=gd,tr=(Qe.flags&8772)!==0;if((Qe.subtreeFlags&8772)!==0||tr){tr=Er.T,Er.T=null;var ir=Nr.p;Nr.p=2;var pr=Ns;Ns|=4;try{im(Ke,Qe.alternate,Qe)}finally{Ns=pr,Nr.p=ir,Er.T=tr}}Ka=3}}function Im(){if(Ka===4||Ka===3){Ka=0,vi();var Ke=vu,Qe=gd,tr=Yc,ir=vm;(Qe.subtreeFlags&10256)!==0||(Qe.flags&10256)!==0?Ka=5:(Ka=0,gd=vu=null,Nm(Ke,Ke.pendingLanes));var pr=Ke.pendingLanes;if(pr===0&&(gu=null),li(tr),Qe=Qe.stateNode,Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(Ui,Qe,void 0,(Qe.current.flags&128)===128)}catch{}if(ir!==null){Qe=Er.T,pr=Nr.p,Nr.p=2,Er.T=null;try{for(var xr=Ke.onRecoverableError,$r=0;$r<ir.length;$r++){var Wr=ir[$r];xr(Wr.value,{componentStack:Wr.stack})}}finally{Er.T=Qe,Nr.p=pr}}(Yc&3)!==0&&kh(),Sc(Ke),pr=Ke.pendingLanes,(tr&261930)!==0&&(pr&42)!==0?Ke===Df?Kd++:(Kd=0,Df=Ke):Kd=0,Yd(0)}}function Nm(Ke,Qe){(Ke.pooledCacheLanes&=Qe)===0&&(Qe=Ke.pooledCache,Qe!=null&&(Ke.pooledCache=null,Ou(Qe)))}function kh(){return Pm(),Cm(),Im(),km()}function km(){if(Ka!==5)return!1;var Ke=vu,Qe=Nf;Nf=0;var tr=li(Yc),ir=Er.T,pr=Nr.p;try{Nr.p=32>tr?32:tr,Er.T=null,tr=kf,kf=null;var xr=vu,$r=Yc;if(Ka=0,gd=vu=null,Yc=0,(Ns&6)!==0)throw Error(Ue(331));var Wr=Ns;if(Ns|=4,pm(xr.current),dm(xr,xr.current,$r,tr),Ns=Wr,Yd(0,!1),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(Ui,xr)}catch{}return!0}finally{Nr.p=pr,Er.T=ir,Nm(Ke,Qe)}}function Dm(Ke,Qe,tr){Qe=Ho(tr,Qe),Qe=hf(Ke.stateNode,Qe,2),Ke=es(Ke,Qe,2),Ke!==null&&(Ii(Ke,2),Sc(Ke))}function $s(Ke,Qe,tr){if(Ke.tag===3)Dm(Ke,Ke,tr);else for(;Qe!==null;){if(Qe.tag===3){Dm(Qe,Ke,tr);break}else if(Qe.tag===1){var ir=Qe.stateNode;if(typeof Qe.type.getDerivedStateFromError=="function"||typeof ir.componentDidCatch=="function"&&(gu===null||!gu.has(ir))){Ke=Ho(tr,Ke),tr=Mp(2),ir=es(Qe,tr,2),ir!==null&&(Op(tr,ir,Qe,Ke),Ii(ir,2),Sc(ir));break}}Qe=Qe.return}}function Lf(Ke,Qe,tr){var ir=Ke.pingCache;if(ir===null){ir=Ke.pingCache=new Fg;var pr=new Set;ir.set(Qe,pr)}else pr=ir.get(Qe),pr===void 0&&(pr=new Set,ir.set(Qe,pr));pr.has(tr)||(Pf=!0,pr.add(tr),Ke=qg.bind(null,Ke,Qe,tr),Qe.then(Ke,Ke))}function qg(Ke,Qe,tr){var ir=Ke.pingCache;ir!==null&&ir.delete(Qe),Ke.pingedLanes|=Ke.suspendedLanes&tr,Ke.warmLanes&=~tr,Ys===Ke&&(gs&tr)===tr&&(Sa===4||Sa===3&&(gs&62914560)===gs&&300>xn()-Th?(Ns&2)===0&&vd(Ke,0):Cf|=tr,md===gs&&(md=0)),Sc(Ke)}function Mm(Ke,Qe){Qe===0&&(Qe=ao()),Ke=Kl(Ke,Qe),Ke!==null&&(Ii(Ke,Qe),Sc(Ke))}function Hg(Ke){var Qe=Ke.memoizedState,tr=0;Qe!==null&&(tr=Qe.retryLane),Mm(Ke,tr)}function Wg(Ke,Qe){var tr=0;switch(Ke.tag){case 31:case 13:var ir=Ke.stateNode,pr=Ke.memoizedState;pr!==null&&(tr=pr.retryLane);break;case 19:ir=Ke.stateNode;break;case 22:ir=Ke.stateNode._retryCache;break;default:throw Error(Ue(314))}ir!==null&&ir.delete(Qe),Mm(Ke,tr)}function Gg(Ke,Qe){return zn(Ke,Qe)}var Dh=null,xd=null,$f=!1,Mh=!1,Ff=!1,xu=0;function Sc(Ke){Ke!==xd&&Ke.next===null&&(xd===null?Dh=xd=Ke:xd=xd.next=Ke),Mh=!0,$f||($f=!0,Yg())}function Yd(Ke,Qe){if(!Ff&&Mh){Ff=!0;do for(var tr=!1,ir=Dh;ir!==null;){if(Ke!==0){var pr=ir.pendingLanes;if(pr===0)var xr=0;else{var $r=ir.suspendedLanes,Wr=ir.pingedLanes;xr=(1<<31-Wi(42|Ke)+1)-1,xr&=pr&~($r&~Wr),xr=xr&201326741?xr&201326741|1:xr?xr|2:0}xr!==0&&(tr=!0,Fm(ir,xr))}else xr=gs,xr=Qi(ir,ir===Ys?xr:0,ir.cancelPendingCommit!==null||ir.timeoutHandle!==-1),(xr&3)===0||ga(ir,xr)||(tr=!0,Fm(ir,xr));ir=ir.next}while(tr);Ff=!1}}function Kg(){Om()}function Om(){Mh=$f=!1;var Ke=0;xu!==0&&sv()&&(Ke=xu);for(var Qe=xn(),tr=null,ir=Dh;ir!==null;){var pr=ir.next,xr=Lm(ir,Qe);xr===0?(ir.next=null,tr===null?Dh=pr:tr.next=pr,pr===null&&(xd=tr)):(tr=ir,(Ke!==0||(xr&3)!==0)&&(Mh=!0)),ir=pr}Ka!==0&&Ka!==5||Yd(Ke),xu!==0&&(xu=0)}function Lm(Ke,Qe){for(var tr=Ke.suspendedLanes,ir=Ke.pingedLanes,pr=Ke.expirationTimes,xr=Ke.pendingLanes&-62914561;0<xr;){var $r=31-Wi(xr),Wr=1<<$r,vn=pr[$r];vn===-1?((Wr&tr)===0||(Wr&ir)!==0)&&(pr[$r]=ta(Wr,Qe)):vn<=Qe&&(Ke.expiredLanes|=Wr),xr&=~Wr}if(Qe=Ys,tr=gs,tr=Qi(Ke,Ke===Qe?tr:0,Ke.cancelPendingCommit!==null||Ke.timeoutHandle!==-1),ir=Ke.callbackNode,tr===0||Ke===Qe&&(Ls===2||Ls===9)||Ke.cancelPendingCommit!==null)return ir!==null&&ir!==null&&Qn(ir),Ke.callbackNode=null,Ke.callbackPriority=0;if((tr&3)===0||ga(Ke,tr)){if(Qe=tr&-tr,Qe===Ke.callbackPriority)return Qe;switch(ir!==null&&Qn(ir),li(tr)){case 2:case 8:tr=ui;break;case 32:tr=oi;break;case 268435456:tr=yi;break;default:tr=oi}return ir=$m.bind(null,Ke),tr=zn(tr,ir),Ke.callbackPriority=Qe,Ke.callbackNode=tr,Qe}return ir!==null&&ir!==null&&Qn(ir),Ke.callbackPriority=2,Ke.callbackNode=null,2}function $m(Ke,Qe){if(Ka!==0&&Ka!==5)return Ke.callbackNode=null,Ke.callbackPriority=0,null;var tr=Ke.callbackNode;if(kh()&&Ke.callbackNode!==tr)return null;var ir=gs;return ir=Qi(Ke,Ke===Ys?ir:0,Ke.cancelPendingCommit!==null||Ke.timeoutHandle!==-1),ir===0?null:(xm(Ke,ir,Qe),Lm(Ke,xn()),Ke.callbackNode!=null&&Ke.callbackNode===tr?$m.bind(null,Ke):null)}function Fm(Ke,Qe){if(kh())return null;xm(Ke,Qe,!0)}function Yg(){ov(function(){(Ns&6)!==0?zn(ni,Kg):Om()})}function Vf(){if(xu===0){var Ke=ur;Ke===0&&(Ke=$i,$i<<=1,($i&261888)===0&&($i=256)),xu=Ke}return xu}function Vm(Ke){return Ke==null||typeof Ke=="symbol"||typeof Ke=="boolean"?null:typeof Ke=="function"?Ke:Qa(""+Ke)}function Bm(Ke,Qe){var tr=Qe.ownerDocument.createElement("input");return tr.name=Qe.name,tr.value=Qe.value,Ke.id&&tr.setAttribute("form",Ke.id),Qe.parentNode.insertBefore(tr,Qe),Ke=new FormData(Ke),tr.parentNode.removeChild(tr),Ke}function Xg(Ke,Qe,tr,ir,pr){if(Qe==="submit"&&tr&&tr.stateNode===pr){var xr=Vm((pr[Gi]||null).action),$r=ir.submitter;$r&&(Qe=(Qe=$r[Gi]||null)?Vm(Qe.formAction):$r.getAttribute("formAction"),Qe!==null&&(xr=Qe,$r=null));var Wr=new Na("action","action",null,ir,pr);Ke.push({event:Wr,listeners:[{instance:null,listener:function(){if(ir.defaultPrevented){if(xu!==0){var vn=$r?Bm(pr,$r):new FormData(pr);af(tr,{pending:!0,data:vn,method:pr.method,action:xr},null,vn)}}else typeof xr=="function"&&(Wr.preventDefault(),vn=$r?Bm(pr,$r):new FormData(pr),af(tr,{pending:!0,data:vn,method:pr.method,action:xr},xr,vn))},currentTarget:pr}]})}}for(var Bf=0;Bf<Dc.length;Bf++){var Uf=Dc[Bf],Qg=Uf.toLowerCase(),Jg=Uf[0].toUpperCase()+Uf.slice(1);zo(Qg,"on"+Jg)}zo(kc,"onAnimationEnd"),zo(ju,"onAnimationIteration"),zo(Sd,"onAnimationStart"),zo("dblclick","onDoubleClick"),zo("focusin","onFocus"),zo("focusout","onBlur"),zo(ah,"onTransitionRun"),zo(oh,"onTransitionStart"),zo(lh,"onTransitionCancel"),zo(Rd,"onTransitionEnd"),jo("onMouseEnter",["mouseout","mouseover"]),jo("onMouseLeave",["mouseout","mouseover"]),jo("onPointerEnter",["pointerout","pointerover"]),jo("onPointerLeave",["pointerout","pointerover"]),Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xd));function Um(Ke,Qe){Qe=(Qe&4)!==0;for(var tr=0;tr<Ke.length;tr++){var ir=Ke[tr],pr=ir.event;ir=ir.listeners;e:{var xr=void 0;if(Qe)for(var $r=ir.length-1;0<=$r;$r--){var Wr=ir[$r],vn=Wr.instance,$n=Wr.currentTarget;if(Wr=Wr.listener,vn!==xr&&pr.isPropagationStopped())break e;xr=Wr,pr.currentTarget=$n;try{xr(pr)}catch(Kn){Pu(Kn)}pr.currentTarget=null,xr=vn}else for($r=0;$r<ir.length;$r++){if(Wr=ir[$r],vn=Wr.instance,$n=Wr.currentTarget,Wr=Wr.listener,vn!==xr&&pr.isPropagationStopped())break e;xr=Wr,pr.currentTarget=$n;try{xr(pr)}catch(Kn){Pu(Kn)}pr.currentTarget=null,xr=vn}}}}function fs(Ke,Qe){var tr=Qe[ra];tr===void 0&&(tr=Qe[ra]=new Set);var ir=Ke+"__bubble";tr.has(ir)||(zm(Qe,Ke,2,!1),tr.add(ir))}function zf(Ke,Qe,tr){var ir=0;Qe&&(ir|=4),zm(tr,Ke,ir,Qe)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function qf(Ke){if(!Ke[Oh]){Ke[Oh]=!0,rc.forEach(function(tr){tr!=="selectionchange"&&(Zg.has(tr)||zf(tr,!1,Ke),zf(tr,!0,Ke))});var Qe=Ke.nodeType===9?Ke:Ke.ownerDocument;Qe===null||Qe[Oh]||(Qe[Oh]=!0,zf("selectionchange",!1,Qe))}}function zm(Ke,Qe,tr,ir){switch(yg(Qe)){case 2:var pr=Tv;break;case 8:pr=jv;break;default:pr=sp}tr=pr.bind(null,Qe,tr,Ke),pr=void 0,!$l||Qe!=="touchstart"&&Qe!=="touchmove"&&Qe!=="wheel"||(pr=!0),ir?pr!==void 0?Ke.addEventListener(Qe,tr,{capture:!0,passive:pr}):Ke.addEventListener(Qe,tr,!0):pr!==void 0?Ke.addEventListener(Qe,tr,{passive:pr}):Ke.addEventListener(Qe,tr,!1)}function Hf(Ke,Qe,tr,ir,pr){var xr=ir;if((Qe&1)===0&&(Qe&2)===0&&ir!==null)e:for(;;){if(ir===null)return;var $r=ir.tag;if($r===3||$r===4){var Wr=ir.stateNode.containerInfo;if(Wr===pr)break;if($r===4)for($r=ir.return;$r!==null;){var vn=$r.tag;if((vn===3||vn===4)&&$r.stateNode.containerInfo===pr)return;$r=$r.return}for(;Wr!==null;){if($r=oo(Wr),$r===null)return;if(vn=$r.tag,vn===5||vn===6||vn===26||vn===27){ir=xr=$r;continue e}Wr=Wr.parentNode}}ir=ir.return}bl(function(){var $n=xr,Kn=Ja(tr),Zn=[];e:{var Bn=Ad.get(Ke);if(Bn!==void 0){var qn=Na,wi=Ke;switch(Ke){case"keypress":if(ho(tr)===0)break e;case"keydown":case"keyup":qn=cs;break;case"focusin":wi="focus",qn=Io;break;case"focusout":wi="blur",qn=Io;break;case"beforeblur":case"afterblur":qn=Io;break;case"click":if(tr.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qn=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qn=Bo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qn=Ir;break;case kc:case ju:case Sd:qn=Rr;break;case Rd:qn=Xr;break;case"scroll":case"scrollend":qn=_l;break;case"wheel":qn=Fn;break;case"copy":case"cut":case"paste":qn=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qn=Ds;break;case"toggle":case"beforetoggle":qn=Ki}var Hi=(Qe&4)!==0,Hs=!Hi&&(Ke==="scroll"||Ke==="scrollend"),Nn=Hi?Bn!==null?Bn+"Capture":null:Bn;Hi=[];for(var wn=$n,Ln;wn!==null;){var Jn=wn;if(Ln=Jn.stateNode,Jn=Jn.tag,Jn!==5&&Jn!==26&&Jn!==27||Ln===null||Nn===null||(Jn=Ta(wn,Nn),Jn!=null&&Hi.push(Qd(wn,Jn,Ln))),Hs)break;wn=wn.return}0<Hi.length&&(Bn=new qn(Bn,wi,null,tr,Kn),Zn.push({event:Bn,listeners:Hi}))}}if((Qe&7)===0){e:{if(Bn=Ke==="mouseover"||Ke==="pointerover",qn=Ke==="mouseout"||Ke==="pointerout",Bn&&tr!==ol&&(wi=tr.relatedTarget||tr.fromElement)&&(oo(wi)||wi[ls]))break e;if((qn||Bn)&&(Bn=Kn.window===Kn?Kn:(Bn=Kn.ownerDocument)?Bn.defaultView||Bn.parentWindow:window,qn?(wi=tr.relatedTarget||tr.toElement,qn=$n,wi=wi?oo(wi):null,wi!==null&&(Hs=qe(wi),Hi=wi.tag,wi!==Hs||Hi!==5&&Hi!==27&&Hi!==6)&&(wi=null)):(qn=null,wi=$n),qn!==wi)){if(Hi=cc,Jn="onMouseLeave",Nn="onMouseEnter",wn="mouse",(Ke==="pointerout"||Ke==="pointerover")&&(Hi=Ds,Jn="onPointerLeave",Nn="onPointerEnter",wn="pointer"),Hs=qn==null?Bn:lo(qn),Ln=wi==null?Bn:lo(wi),Bn=new Hi(Jn,wn+"leave",qn,tr,Kn),Bn.target=Hs,Bn.relatedTarget=Ln,Jn=null,oo(Kn)===$n&&(Hi=new Hi(Nn,wn+"enter",wi,tr,Kn),Hi.target=Ln,Hi.relatedTarget=Hs,Jn=Hi),Hs=Jn,qn&&wi)t:{for(Hi=ev,Nn=qn,wn=wi,Ln=0,Jn=Nn;Jn;Jn=Hi(Jn))Ln++;Jn=0;for(var Bi=wn;Bi;Bi=Hi(Bi))Jn++;for(;0<Ln-Jn;)Nn=Hi(Nn),Ln--;for(;0<Jn-Ln;)wn=Hi(wn),Jn--;for(;Ln--;){if(Nn===wn||wn!==null&&Nn===wn.alternate){Hi=Nn;break t}Nn=Hi(Nn),wn=Hi(wn)}Hi=null}else Hi=null;qn!==null&&qm(Zn,Bn,qn,Hi,!1),wi!==null&&Hs!==null&&qm(Zn,Hs,wi,Hi,!0)}}e:{if(Bn=$n?lo($n):window,qn=Bn.nodeName&&Bn.nodeName.toLowerCase(),qn==="select"||qn==="input"&&Bn.type==="file")var Ts=dc;else if(Au(Bn))if(Ro)Ts=Al;else{Ts=ha;var Pi=eu}else qn=Bn.nodeName,!qn||qn.toLowerCase()!=="input"||Bn.type!=="checkbox"&&Bn.type!=="radio"?$n&&sc($n.elementType)&&(Ts=dc):Ts=zu;if(Ts&&(Ts=Ts(Ke,$n))){ko(Zn,Ts,tr,Kn);break e}Pi&&Pi(Ke,Bn,$n),Ke==="focusout"&&$n&&Bn.type==="number"&&$n.memoizedProps.value!=null&&Ac(Bn,"number",Bn.value)}switch(Pi=$n?lo($n):window,Ke){case"focusin":(Au(Pi)||Pi.contentEditable==="true")&&(Do=Pi,Gl=$n,Za=null);break;case"focusout":Za=Gl=Do=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,ws(Zn,tr,Kn);break;case"selectionchange":if(Nc)break;case"keydown":case"keyup":ws(Zn,tr,Kn)}var ts;if(rs)e:{switch(Ke){case"compositionstart":var vs="onCompositionStart";break e;case"compositionend":vs="onCompositionEnd";break e;case"compositionupdate":vs="onCompositionUpdate";break e}vs=void 0}else wl?No(Ke,tr)&&(vs="onCompositionEnd"):Ke==="keydown"&&tr.keyCode===229&&(vs="onCompositionStart");vs&&(Va&&tr.locale!=="ko"&&(wl||vs!=="onCompositionStart"?vs==="onCompositionEnd"&&wl&&(ts=Cc()):(uo=Kn,Fl="value"in uo?uo.value:uo.textContent,wl=!0)),Pi=Lh($n,vs),0<Pi.length&&(vs=new Tn(vs,Ke,null,tr,Kn),Zn.push({event:vs,listeners:Pi}),ts?vs.data=ts:(ts=El(tr),ts!==null&&(vs.data=ts)))),(ts=Da?mo(Ke,tr):Bl(Ke,tr))&&(vs=Lh($n,"onBeforeInput"),0<vs.length&&(Pi=new Tn("onBeforeInput","beforeinput",null,tr,Kn),Zn.push({event:Pi,listeners:vs}),Pi.data=ts)),Xg(Zn,Ke,$n,tr,Kn)}Um(Zn,Qe)})}function Qd(Ke,Qe,tr){return{instance:Ke,listener:Qe,currentTarget:tr}}function Lh(Ke,Qe){for(var tr=Qe+"Capture",ir=[];Ke!==null;){var pr=Ke,xr=pr.stateNode;if(pr=pr.tag,pr!==5&&pr!==26&&pr!==27||xr===null||(pr=Ta(Ke,tr),pr!=null&&ir.unshift(Qd(Ke,pr,xr)),pr=Ta(Ke,Qe),pr!=null&&ir.push(Qd(Ke,pr,xr))),Ke.tag===3)return ir;Ke=Ke.return}return[]}function ev(Ke){if(Ke===null)return null;do Ke=Ke.return;while(Ke&&Ke.tag!==5&&Ke.tag!==27);return Ke||null}function qm(Ke,Qe,tr,ir,pr){for(var xr=Qe._reactName,$r=[];tr!==null&&tr!==ir;){var Wr=tr,vn=Wr.alternate,$n=Wr.stateNode;if(Wr=Wr.tag,vn!==null&&vn===ir)break;Wr!==5&&Wr!==26&&Wr!==27||$n===null||(vn=$n,pr?($n=Ta(tr,xr),$n!=null&&$r.unshift(Qd(tr,$n,vn))):pr||($n=Ta(tr,xr),$n!=null&&$r.push(Qd(tr,$n,vn)))),tr=tr.return}$r.length!==0&&Ke.push({event:Qe,listeners:$r})}var tv=/\r\n?/g,rv=/\u0000|\uFFFD/g;function Hm(Ke){return(typeof Ke=="string"?Ke:""+Ke).replace(tv,`
`).replace(rv,"")}function Wm(Ke,Qe){return Qe=Hm(Qe),Hm(Ke)===Qe}function qs(Ke,Qe,tr,ir,pr,xr){switch(tr){case"children":typeof ir=="string"?Qe==="body"||Qe==="textarea"&&ir===""||Aa(Ke,ir):(typeof ir=="number"||typeof ir=="bigint")&&Qe!=="body"&&Aa(Ke,""+ir);break;case"className":Ia(Ke,"class",ir);break;case"tabIndex":Ia(Ke,"tabindex",ir);break;case"dir":case"role":case"viewBox":case"width":case"height":Ia(Ke,tr,ir);break;case"style":Pc(Ke,ir,xr);break;case"data":if(Qe!=="object"){Ia(Ke,"data",ir);break}case"src":case"href":if(ir===""&&(Qe!=="a"||tr!=="href")){Ke.removeAttribute(tr);break}if(ir==null||typeof ir=="function"||typeof ir=="symbol"||typeof ir=="boolean"){Ke.removeAttribute(tr);break}ir=Qa(""+ir),Ke.setAttribute(tr,ir);break;case"action":case"formAction":if(typeof ir=="function"){Ke.setAttribute(tr,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof xr=="function"&&(tr==="formAction"?(Qe!=="input"&&qs(Ke,Qe,"name",pr.name,pr,null),qs(Ke,Qe,"formEncType",pr.formEncType,pr,null),qs(Ke,Qe,"formMethod",pr.formMethod,pr,null),qs(Ke,Qe,"formTarget",pr.formTarget,pr,null)):(qs(Ke,Qe,"encType",pr.encType,pr,null),qs(Ke,Qe,"method",pr.method,pr,null),qs(Ke,Qe,"target",pr.target,pr,null)));if(ir==null||typeof ir=="symbol"||typeof ir=="boolean"){Ke.removeAttribute(tr);break}ir=Qa(""+ir),Ke.setAttribute(tr,ir);break;case"onClick":ir!=null&&(Ke.onclick=Po);break;case"onScroll":ir!=null&&fs("scroll",Ke);break;case"onScrollEnd":ir!=null&&fs("scrollend",Ke);break;case"dangerouslySetInnerHTML":if(ir!=null){if(typeof ir!="object"||!("__html"in ir))throw Error(Ue(61));if(tr=ir.__html,tr!=null){if(pr.children!=null)throw Error(Ue(60));Ke.innerHTML=tr}}break;case"multiple":Ke.multiple=ir&&typeof ir!="function"&&typeof ir!="symbol";break;case"muted":Ke.muted=ir&&typeof ir!="function"&&typeof ir!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(ir==null||typeof ir=="function"||typeof ir=="boolean"||typeof ir=="symbol"){Ke.removeAttribute("xlink:href");break}tr=Qa(""+ir),Ke.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",tr);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":ir!=null&&typeof ir!="function"&&typeof ir!="symbol"?Ke.setAttribute(tr,""+ir):Ke.removeAttribute(tr);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":ir&&typeof ir!="function"&&typeof ir!="symbol"?Ke.setAttribute(tr,""):Ke.removeAttribute(tr);break;case"capture":case"download":ir===!0?Ke.setAttribute(tr,""):ir!==!1&&ir!=null&&typeof ir!="function"&&typeof ir!="symbol"?Ke.setAttribute(tr,ir):Ke.removeAttribute(tr);break;case"cols":case"rows":case"size":case"span":ir!=null&&typeof ir!="function"&&typeof ir!="symbol"&&!isNaN(ir)&&1<=ir?Ke.setAttribute(tr,ir):Ke.removeAttribute(tr);break;case"rowSpan":case"start":ir==null||typeof ir=="function"||typeof ir=="symbol"||isNaN(ir)?Ke.removeAttribute(tr):Ke.setAttribute(tr,ir);break;case"popover":fs("beforetoggle",Ke),fs("toggle",Ke),co(Ke,"popover",ir);break;case"xlinkActuate":na(Ke,"http://www.w3.org/1999/xlink","xlink:actuate",ir);break;case"xlinkArcrole":na(Ke,"http://www.w3.org/1999/xlink","xlink:arcrole",ir);break;case"xlinkRole":na(Ke,"http://www.w3.org/1999/xlink","xlink:role",ir);break;case"xlinkShow":na(Ke,"http://www.w3.org/1999/xlink","xlink:show",ir);break;case"xlinkTitle":na(Ke,"http://www.w3.org/1999/xlink","xlink:title",ir);break;case"xlinkType":na(Ke,"http://www.w3.org/1999/xlink","xlink:type",ir);break;case"xmlBase":na(Ke,"http://www.w3.org/XML/1998/namespace","xml:base",ir);break;case"xmlLang":na(Ke,"http://www.w3.org/XML/1998/namespace","xml:lang",ir);break;case"xmlSpace":na(Ke,"http://www.w3.org/XML/1998/namespace","xml:space",ir);break;case"is":co(Ke,"is",ir);break;case"innerText":case"textContent":break;default:(!(2<tr.length)||tr[0]!=="o"&&tr[0]!=="O"||tr[1]!=="n"&&tr[1]!=="N")&&(tr=ac.get(tr)||tr,co(Ke,tr,ir))}}function Wf(Ke,Qe,tr,ir,pr,xr){switch(tr){case"style":Pc(Ke,ir,xr);break;case"dangerouslySetInnerHTML":if(ir!=null){if(typeof ir!="object"||!("__html"in ir))throw Error(Ue(61));if(tr=ir.__html,tr!=null){if(pr.children!=null)throw Error(Ue(60));Ke.innerHTML=tr}}break;case"children":typeof ir=="string"?Aa(Ke,ir):(typeof ir=="number"||typeof ir=="bigint")&&Aa(Ke,""+ir);break;case"onScroll":ir!=null&&fs("scroll",Ke);break;case"onScrollEnd":ir!=null&&fs("scrollend",Ke);break;case"onClick":ir!=null&&(Ke.onclick=Po);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xa.hasOwnProperty(tr))e:{if(tr[0]==="o"&&tr[1]==="n"&&(pr=tr.endsWith("Capture"),Qe=tr.slice(2,pr?tr.length-7:void 0),xr=Ke[Gi]||null,xr=xr!=null?xr[tr]:null,typeof xr=="function"&&Ke.removeEventListener(Qe,xr,pr),typeof ir=="function")){typeof xr!="function"&&xr!==null&&(tr in Ke?Ke[tr]=null:Ke.hasAttribute(tr)&&Ke.removeAttribute(tr)),Ke.addEventListener(Qe,ir,pr);break e}tr in Ke?Ke[tr]=ir:ir===!0?Ke.setAttribute(tr,""):co(Ke,tr,ir)}}}function bo(Ke,Qe,tr){switch(Qe){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fs("error",Ke),fs("load",Ke);var ir=!1,pr=!1,xr;for(xr in tr)if(tr.hasOwnProperty(xr)){var $r=tr[xr];if($r!=null)switch(xr){case"src":ir=!0;break;case"srcSet":pr=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Ue(137,Qe));default:qs(Ke,Qe,xr,$r,tr,null)}}pr&&qs(Ke,Qe,"srcSet",tr.srcSet,tr,null),ir&&qs(Ke,Qe,"src",tr.src,tr,null);return;case"input":fs("invalid",Ke);var Wr=xr=$r=pr=null,vn=null,$n=null;for(ir in tr)if(tr.hasOwnProperty(ir)){var Kn=tr[ir];if(Kn!=null)switch(ir){case"name":pr=Kn;break;case"type":$r=Kn;break;case"checked":vn=Kn;break;case"defaultChecked":$n=Kn;break;case"value":xr=Kn;break;case"defaultValue":Wr=Kn;break;case"children":case"dangerouslySetInnerHTML":if(Kn!=null)throw Error(Ue(137,Qe));break;default:qs(Ke,Qe,ir,Kn,tr,null)}}Qc(Ke,xr,Wr,vn,$n,$r,pr,!1);return;case"select":fs("invalid",Ke),ir=$r=xr=null;for(pr in tr)if(tr.hasOwnProperty(pr)&&(Wr=tr[pr],Wr!=null))switch(pr){case"value":xr=Wr;break;case"defaultValue":$r=Wr;break;case"multiple":ir=Wr;default:qs(Ke,Qe,pr,Wr,tr,null)}Qe=xr,tr=$r,Ke.multiple=!!ir,Qe!=null?Fa(Ke,!!ir,Qe,!1):tr!=null&&Fa(Ke,!!ir,tr,!0);return;case"textarea":fs("invalid",Ke),xr=pr=ir=null;for($r in tr)if(tr.hasOwnProperty($r)&&(Wr=tr[$r],Wr!=null))switch($r){case"value":ir=Wr;break;case"defaultValue":pr=Wr;break;case"children":xr=Wr;break;case"dangerouslySetInnerHTML":if(Wr!=null)throw Error(Ue(91));break;default:qs(Ke,Qe,$r,Wr,tr,null)}sl(Ke,ir,pr,xr);return;case"option":for(vn in tr)if(tr.hasOwnProperty(vn)&&(ir=tr[vn],ir!=null))switch(vn){case"selected":Ke.selected=ir&&typeof ir!="function"&&typeof ir!="symbol";break;default:qs(Ke,Qe,vn,ir,tr,null)}return;case"dialog":fs("beforetoggle",Ke),fs("toggle",Ke),fs("cancel",Ke),fs("close",Ke);break;case"iframe":case"object":fs("load",Ke);break;case"video":case"audio":for(ir=0;ir<Xd.length;ir++)fs(Xd[ir],Ke);break;case"image":fs("error",Ke),fs("load",Ke);break;case"details":fs("toggle",Ke);break;case"embed":case"source":case"link":fs("error",Ke),fs("load",Ke);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($n in tr)if(tr.hasOwnProperty($n)&&(ir=tr[$n],ir!=null))switch($n){case"children":case"dangerouslySetInnerHTML":throw Error(Ue(137,Qe));default:qs(Ke,Qe,$n,ir,tr,null)}return;default:if(sc(Qe)){for(Kn in tr)tr.hasOwnProperty(Kn)&&(ir=tr[Kn],ir!==void 0&&Wf(Ke,Qe,Kn,ir,tr,void 0));return}}for(Wr in tr)tr.hasOwnProperty(Wr)&&(ir=tr[Wr],ir!=null&&qs(Ke,Qe,Wr,ir,tr,null))}function nv(Ke,Qe,tr,ir){switch(Qe){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var pr=null,xr=null,$r=null,Wr=null,vn=null,$n=null,Kn=null;for(qn in tr){var Zn=tr[qn];if(tr.hasOwnProperty(qn)&&Zn!=null)switch(qn){case"checked":break;case"value":break;case"defaultValue":vn=Zn;default:ir.hasOwnProperty(qn)||qs(Ke,Qe,qn,null,ir,Zn)}}for(var Bn in ir){var qn=ir[Bn];if(Zn=tr[Bn],ir.hasOwnProperty(Bn)&&(qn!=null||Zn!=null))switch(Bn){case"type":xr=qn;break;case"name":pr=qn;break;case"checked":$n=qn;break;case"defaultChecked":Kn=qn;break;case"value":$r=qn;break;case"defaultValue":Wr=qn;break;case"children":case"dangerouslySetInnerHTML":if(qn!=null)throw Error(Ue(137,Qe));break;default:qn!==Zn&&qs(Ke,Qe,Bn,qn,ir,Zn)}}Ol(Ke,$r,Wr,vn,$n,Kn,xr,pr);return;case"select":qn=$r=Wr=Bn=null;for(xr in tr)if(vn=tr[xr],tr.hasOwnProperty(xr)&&vn!=null)switch(xr){case"value":break;case"multiple":qn=vn;default:ir.hasOwnProperty(xr)||qs(Ke,Qe,xr,null,ir,vn)}for(pr in ir)if(xr=ir[pr],vn=tr[pr],ir.hasOwnProperty(pr)&&(xr!=null||vn!=null))switch(pr){case"value":Bn=xr;break;case"defaultValue":Wr=xr;break;case"multiple":$r=xr;default:xr!==vn&&qs(Ke,Qe,pr,xr,ir,vn)}Qe=Wr,tr=$r,ir=qn,Bn!=null?Fa(Ke,!!tr,Bn,!1):!!ir!=!!tr&&(Qe!=null?Fa(Ke,!!tr,Qe,!0):Fa(Ke,!!tr,tr?[]:"",!1));return;case"textarea":qn=Bn=null;for(Wr in tr)if(pr=tr[Wr],tr.hasOwnProperty(Wr)&&pr!=null&&!ir.hasOwnProperty(Wr))switch(Wr){case"value":break;case"children":break;default:qs(Ke,Qe,Wr,null,ir,pr)}for($r in ir)if(pr=ir[$r],xr=tr[$r],ir.hasOwnProperty($r)&&(pr!=null||xr!=null))switch($r){case"value":Bn=pr;break;case"defaultValue":qn=pr;break;case"children":break;case"dangerouslySetInnerHTML":if(pr!=null)throw Error(Ue(91));break;default:pr!==xr&&qs(Ke,Qe,$r,pr,ir,xr)}Tc(Ke,Bn,qn);return;case"option":for(var wi in tr)if(Bn=tr[wi],tr.hasOwnProperty(wi)&&Bn!=null&&!ir.hasOwnProperty(wi))switch(wi){case"selected":Ke.selected=!1;break;default:qs(Ke,Qe,wi,null,ir,Bn)}for(vn in ir)if(Bn=ir[vn],qn=tr[vn],ir.hasOwnProperty(vn)&&Bn!==qn&&(Bn!=null||qn!=null))switch(vn){case"selected":Ke.selected=Bn&&typeof Bn!="function"&&typeof Bn!="symbol";break;default:qs(Ke,Qe,vn,Bn,ir,qn)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Hi in tr)Bn=tr[Hi],tr.hasOwnProperty(Hi)&&Bn!=null&&!ir.hasOwnProperty(Hi)&&qs(Ke,Qe,Hi,null,ir,Bn);for($n in ir)if(Bn=ir[$n],qn=tr[$n],ir.hasOwnProperty($n)&&Bn!==qn&&(Bn!=null||qn!=null))switch($n){case"children":case"dangerouslySetInnerHTML":if(Bn!=null)throw Error(Ue(137,Qe));break;default:qs(Ke,Qe,$n,Bn,ir,qn)}return;default:if(sc(Qe)){for(var Hs in tr)Bn=tr[Hs],tr.hasOwnProperty(Hs)&&Bn!==void 0&&!ir.hasOwnProperty(Hs)&&Wf(Ke,Qe,Hs,void 0,ir,Bn);for(Kn in ir)Bn=ir[Kn],qn=tr[Kn],!ir.hasOwnProperty(Kn)||Bn===qn||Bn===void 0&&qn===void 0||Wf(Ke,Qe,Kn,Bn,ir,qn);return}}for(var Nn in tr)Bn=tr[Nn],tr.hasOwnProperty(Nn)&&Bn!=null&&!ir.hasOwnProperty(Nn)&&qs(Ke,Qe,Nn,null,ir,Bn);for(Zn in ir)Bn=ir[Zn],qn=tr[Zn],!ir.hasOwnProperty(Zn)||Bn===qn||Bn==null&&qn==null||qs(Ke,Qe,Zn,Bn,ir,qn)}function Gm(Ke){switch(Ke){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iv(){if(typeof performance.getEntriesByType=="function"){for(var Ke=0,Qe=0,tr=performance.getEntriesByType("resource"),ir=0;ir<tr.length;ir++){var pr=tr[ir],xr=pr.transferSize,$r=pr.initiatorType,Wr=pr.duration;if(xr&&Wr&&Gm($r)){for($r=0,Wr=pr.responseEnd,ir+=1;ir<tr.length;ir++){var vn=tr[ir],$n=vn.startTime;if($n>Wr)break;var Kn=vn.transferSize,Zn=vn.initiatorType;Kn&&Gm(Zn)&&(vn=vn.responseEnd,$r+=Kn*(vn<Wr?1:(Wr-$n)/(vn-$n)))}if(--ir,Qe+=8*(xr+$r)/(pr.duration/1e3),Ke++,10<Ke)break}}if(0<Ke)return Qe/Ke/1e6}return navigator.connection&&(Ke=navigator.connection.downlink,typeof Ke=="number")?Ke:5}var Gf=null,Kf=null;function $h(Ke){return Ke.nodeType===9?Ke:Ke.ownerDocument}function Km(Ke){switch(Ke){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ym(Ke,Qe){if(Ke===0)switch(Qe){case"svg":return 1;case"math":return 2;default:return 0}return Ke===1&&Qe==="foreignObject"?0:Ke}function Yf(Ke,Qe){return Ke==="textarea"||Ke==="noscript"||typeof Qe.children=="string"||typeof Qe.children=="number"||typeof Qe.children=="bigint"||typeof Qe.dangerouslySetInnerHTML=="object"&&Qe.dangerouslySetInnerHTML!==null&&Qe.dangerouslySetInnerHTML.__html!=null}var Xf=null;function sv(){var Ke=window.event;return Ke&&Ke.type==="popstate"?Ke===Xf?!1:(Xf=Ke,!0):(Xf=null,!1)}var Xm=typeof setTimeout=="function"?setTimeout:void 0,av=typeof clearTimeout=="function"?clearTimeout:void 0,Qm=typeof Promise=="function"?Promise:void 0,ov=typeof queueMicrotask=="function"?queueMicrotask:typeof Qm<"u"?function(Ke){return Qm.resolve(null).then(Ke).catch(lv)}:Xm;function lv(Ke){setTimeout(function(){throw Ke})}function bu(Ke){return Ke==="head"}function Jm(Ke,Qe){var tr=Qe,ir=0;do{var pr=tr.nextSibling;if(Ke.removeChild(tr),pr&&pr.nodeType===8)if(tr=pr.data,tr==="/$"||tr==="/&"){if(ir===0){Ke.removeChild(pr),wd(Qe);return}ir--}else if(tr==="$"||tr==="$?"||tr==="$~"||tr==="$!"||tr==="&")ir++;else if(tr==="html")Jd(Ke.ownerDocument.documentElement);else if(tr==="head"){tr=Ke.ownerDocument.head,Jd(tr);for(var xr=tr.firstChild;xr;){var $r=xr.nextSibling,Wr=xr.nodeName;xr[Ps]||Wr==="SCRIPT"||Wr==="STYLE"||Wr==="LINK"&&xr.rel.toLowerCase()==="stylesheet"||tr.removeChild(xr),xr=$r}}else tr==="body"&&Jd(Ke.ownerDocument.body);tr=pr}while(tr);wd(Qe)}function Zm(Ke,Qe){var tr=Ke;Ke=0;do{var ir=tr.nextSibling;if(tr.nodeType===1?Qe?(tr._stashedDisplay=tr.style.display,tr.style.display="none"):(tr.style.display=tr._stashedDisplay||"",tr.getAttribute("style")===""&&tr.removeAttribute("style")):tr.nodeType===3&&(Qe?(tr._stashedText=tr.nodeValue,tr.nodeValue=""):tr.nodeValue=tr._stashedText||""),ir&&ir.nodeType===8)if(tr=ir.data,tr==="/$"){if(Ke===0)break;Ke--}else tr!=="$"&&tr!=="$?"&&tr!=="$~"&&tr!=="$!"||Ke++;tr=ir}while(tr)}function Qf(Ke){var Qe=Ke.firstChild;for(Qe&&Qe.nodeType===10&&(Qe=Qe.nextSibling);Qe;){var tr=Qe;switch(Qe=Qe.nextSibling,tr.nodeName){case"HTML":case"HEAD":case"BODY":Qf(tr),nl(tr);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(tr.rel.toLowerCase()==="stylesheet")continue}Ke.removeChild(tr)}}function cv(Ke,Qe,tr,ir){for(;Ke.nodeType===1;){var pr=tr;if(Ke.nodeName.toLowerCase()!==Qe.toLowerCase()){if(!ir&&(Ke.nodeName!=="INPUT"||Ke.type!=="hidden"))break}else if(ir){if(!Ke[Ps])switch(Qe){case"meta":if(!Ke.hasAttribute("itemprop"))break;return Ke;case"link":if(xr=Ke.getAttribute("rel"),xr==="stylesheet"&&Ke.hasAttribute("data-precedence"))break;if(xr!==pr.rel||Ke.getAttribute("href")!==(pr.href==null||pr.href===""?null:pr.href)||Ke.getAttribute("crossorigin")!==(pr.crossOrigin==null?null:pr.crossOrigin)||Ke.getAttribute("title")!==(pr.title==null?null:pr.title))break;return Ke;case"style":if(Ke.hasAttribute("data-precedence"))break;return Ke;case"script":if(xr=Ke.getAttribute("src"),(xr!==(pr.src==null?null:pr.src)||Ke.getAttribute("type")!==(pr.type==null?null:pr.type)||Ke.getAttribute("crossorigin")!==(pr.crossOrigin==null?null:pr.crossOrigin))&&xr&&Ke.hasAttribute("async")&&!Ke.hasAttribute("itemprop"))break;return Ke;default:return Ke}}else if(Qe==="input"&&Ke.type==="hidden"){var xr=pr.name==null?null:""+pr.name;if(pr.type==="hidden"&&Ke.getAttribute("name")===xr)return Ke}else return Ke;if(Ke=kl(Ke.nextSibling),Ke===null)break}return null}function uv(Ke,Qe,tr){if(Qe==="")return null;for(;Ke.nodeType!==3;)if((Ke.nodeType!==1||Ke.nodeName!=="INPUT"||Ke.type!=="hidden")&&!tr||(Ke=kl(Ke.nextSibling),Ke===null))return null;return Ke}function eg(Ke,Qe){for(;Ke.nodeType!==8;)if((Ke.nodeType!==1||Ke.nodeName!=="INPUT"||Ke.type!=="hidden")&&!Qe||(Ke=kl(Ke.nextSibling),Ke===null))return null;return Ke}function Jf(Ke){return Ke.data==="$?"||Ke.data==="$~"}function Zf(Ke){return Ke.data==="$!"||Ke.data==="$?"&&Ke.ownerDocument.readyState!=="loading"}function dv(Ke,Qe){var tr=Ke.ownerDocument;if(Ke.data==="$~")Ke._reactRetry=Qe;else if(Ke.data!=="$?"||tr.readyState!=="loading")Qe();else{var ir=function(){Qe(),tr.removeEventListener("DOMContentLoaded",ir)};tr.addEventListener("DOMContentLoaded",ir),Ke._reactRetry=ir}}function kl(Ke){for(;Ke!=null;Ke=Ke.nextSibling){var Qe=Ke.nodeType;if(Qe===1||Qe===3)break;if(Qe===8){if(Qe=Ke.data,Qe==="$"||Qe==="$!"||Qe==="$?"||Qe==="$~"||Qe==="&"||Qe==="F!"||Qe==="F")break;if(Qe==="/$"||Qe==="/&")return null}}return Ke}var ep=null;function tg(Ke){Ke=Ke.nextSibling;for(var Qe=0;Ke;){if(Ke.nodeType===8){var tr=Ke.data;if(tr==="/$"||tr==="/&"){if(Qe===0)return kl(Ke.nextSibling);Qe--}else tr!=="$"&&tr!=="$!"&&tr!=="$?"&&tr!=="$~"&&tr!=="&"||Qe++}Ke=Ke.nextSibling}return null}function rg(Ke){Ke=Ke.previousSibling;for(var Qe=0;Ke;){if(Ke.nodeType===8){var tr=Ke.data;if(tr==="$"||tr==="$!"||tr==="$?"||tr==="$~"||tr==="&"){if(Qe===0)return Ke;Qe--}else tr!=="/$"&&tr!=="/&"||Qe++}Ke=Ke.previousSibling}return null}function ng(Ke,Qe,tr){switch(Qe=$h(tr),Ke){case"html":if(Ke=Qe.documentElement,!Ke)throw Error(Ue(452));return Ke;case"head":if(Ke=Qe.head,!Ke)throw Error(Ue(453));return Ke;case"body":if(Ke=Qe.body,!Ke)throw Error(Ue(454));return Ke;default:throw Error(Ue(451))}}function Jd(Ke){for(var Qe=Ke.attributes;Qe.length;)Ke.removeAttributeNode(Qe[0]);nl(Ke)}var Dl=new Map,ig=new Set;function Fh(Ke){return typeof Ke.getRootNode=="function"?Ke.getRootNode():Ke.nodeType===9?Ke:Ke.ownerDocument}var Xc=Nr.d;Nr.d={f:hv,r:fv,D:pv,C:mv,L:gv,m:vv,X:xv,S:yv,M:bv};function hv(){var Ke=Xc.f(),Qe=Ch();return Ke||Qe}function fv(Ke){var Qe=$a(Ke);Qe!==null&&Qe.tag===5&&Qe.type==="form"?_p(Qe):Xc.r(Ke)}var bd=typeof document>"u"?null:document;function sg(Ke,Qe,tr){var ir=bd;if(ir&&typeof Qe=="string"&&Qe){var pr=ia(Qe);pr='link[rel="'+Ke+'"][href="'+pr+'"]',typeof tr=="string"&&(pr+='[crossorigin="'+tr+'"]'),ig.has(pr)||(ig.add(pr),Ke={rel:Ke,crossOrigin:tr,href:Qe},ir.querySelector(pr)===null&&(Qe=ir.createElement("link"),bo(Qe,"link",Ke),Xs(Qe),ir.head.appendChild(Qe)))}}function pv(Ke){Xc.D(Ke),sg("dns-prefetch",Ke,null)}function mv(Ke,Qe){Xc.C(Ke,Qe),sg("preconnect",Ke,Qe)}function gv(Ke,Qe,tr){Xc.L(Ke,Qe,tr);var ir=bd;if(ir&&Ke&&Qe){var pr='link[rel="preload"][as="'+ia(Qe)+'"]';Qe==="image"&&tr&&tr.imageSrcSet?(pr+='[imagesrcset="'+ia(tr.imageSrcSet)+'"]',typeof tr.imageSizes=="string"&&(pr+='[imagesizes="'+ia(tr.imageSizes)+'"]')):pr+='[href="'+ia(Ke)+'"]';var xr=pr;switch(Qe){case"style":xr=_d(Ke);break;case"script":xr=Ed(Ke)}Dl.has(xr)||(Ke=Je({rel:"preload",href:Qe==="image"&&tr&&tr.imageSrcSet?void 0:Ke,as:Qe},tr),Dl.set(xr,Ke),ir.querySelector(pr)!==null||Qe==="style"&&ir.querySelector(Zd(xr))||Qe==="script"&&ir.querySelector(eh(xr))||(Qe=ir.createElement("link"),bo(Qe,"link",Ke),Xs(Qe),ir.head.appendChild(Qe)))}}function vv(Ke,Qe){Xc.m(Ke,Qe);var tr=bd;if(tr&&Ke){var ir=Qe&&typeof Qe.as=="string"?Qe.as:"script",pr='link[rel="modulepreload"][as="'+ia(ir)+'"][href="'+ia(Ke)+'"]',xr=pr;switch(ir){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":xr=Ed(Ke)}if(!Dl.has(xr)&&(Ke=Je({rel:"modulepreload",href:Ke},Qe),Dl.set(xr,Ke),tr.querySelector(pr)===null)){switch(ir){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(tr.querySelector(eh(xr)))return}ir=tr.createElement("link"),bo(ir,"link",Ke),Xs(ir),tr.head.appendChild(ir)}}}function yv(Ke,Qe,tr){Xc.S(Ke,Qe,tr);var ir=bd;if(ir&&Ke){var pr=_o(ir).hoistableStyles,xr=_d(Ke);Qe=Qe||"default";var $r=pr.get(xr);if(!$r){var Wr={loading:0,preload:null};if($r=ir.querySelector(Zd(xr)))Wr.loading=5;else{Ke=Je({rel:"stylesheet",href:Ke,"data-precedence":Qe},tr),(tr=Dl.get(xr))&&tp(Ke,tr);var vn=$r=ir.createElement("link");Xs(vn),bo(vn,"link",Ke),vn._p=new Promise(function($n,Kn){vn.onload=$n,vn.onerror=Kn}),vn.addEventListener("load",function(){Wr.loading|=1}),vn.addEventListener("error",function(){Wr.loading|=2}),Wr.loading|=4,Vh($r,Qe,ir)}$r={type:"stylesheet",instance:$r,count:1,state:Wr},pr.set(xr,$r)}}}function xv(Ke,Qe){Xc.X(Ke,Qe);var tr=bd;if(tr&&Ke){var ir=_o(tr).hoistableScripts,pr=Ed(Ke),xr=ir.get(pr);xr||(xr=tr.querySelector(eh(pr)),xr||(Ke=Je({src:Ke,async:!0},Qe),(Qe=Dl.get(pr))&&rp(Ke,Qe),xr=tr.createElement("script"),Xs(xr),bo(xr,"link",Ke),tr.head.appendChild(xr)),xr={type:"script",instance:xr,count:1,state:null},ir.set(pr,xr))}}function bv(Ke,Qe){Xc.M(Ke,Qe);var tr=bd;if(tr&&Ke){var ir=_o(tr).hoistableScripts,pr=Ed(Ke),xr=ir.get(pr);xr||(xr=tr.querySelector(eh(pr)),xr||(Ke=Je({src:Ke,async:!0,type:"module"},Qe),(Qe=Dl.get(pr))&&rp(Ke,Qe),xr=tr.createElement("script"),Xs(xr),bo(xr,"link",Ke),tr.head.appendChild(xr)),xr={type:"script",instance:xr,count:1,state:null},ir.set(pr,xr))}}function ag(Ke,Qe,tr,ir){var pr=(pr=Qr.current)?Fh(pr):null;if(!pr)throw Error(Ue(446));switch(Ke){case"meta":case"title":return null;case"style":return typeof tr.precedence=="string"&&typeof tr.href=="string"?(Qe=_d(tr.href),tr=_o(pr).hoistableStyles,ir=tr.get(Qe),ir||(ir={type:"style",instance:null,count:0,state:null},tr.set(Qe,ir)),ir):{type:"void",instance:null,count:0,state:null};case"link":if(tr.rel==="stylesheet"&&typeof tr.href=="string"&&typeof tr.precedence=="string"){Ke=_d(tr.href);var xr=_o(pr).hoistableStyles,$r=xr.get(Ke);if($r||(pr=pr.ownerDocument||pr,$r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},xr.set(Ke,$r),(xr=pr.querySelector(Zd(Ke)))&&!xr._p&&($r.instance=xr,$r.state.loading=5),Dl.has(Ke)||(tr={rel:"preload",as:"style",href:tr.href,crossOrigin:tr.crossOrigin,integrity:tr.integrity,media:tr.media,hrefLang:tr.hrefLang,referrerPolicy:tr.referrerPolicy},Dl.set(Ke,tr),xr||_v(pr,Ke,tr,$r.state))),Qe&&ir===null)throw Error(Ue(528,""));return $r}if(Qe&&ir!==null)throw Error(Ue(529,""));return null;case"script":return Qe=tr.async,tr=tr.src,typeof tr=="string"&&Qe&&typeof Qe!="function"&&typeof Qe!="symbol"?(Qe=Ed(tr),tr=_o(pr).hoistableScripts,ir=tr.get(Qe),ir||(ir={type:"script",instance:null,count:0,state:null},tr.set(Qe,ir)),ir):{type:"void",instance:null,count:0,state:null};default:throw Error(Ue(444,Ke))}}function _d(Ke){return'href="'+ia(Ke)+'"'}function Zd(Ke){return'link[rel="stylesheet"]['+Ke+"]"}function og(Ke){return Je({},Ke,{"data-precedence":Ke.precedence,precedence:null})}function _v(Ke,Qe,tr,ir){Ke.querySelector('link[rel="preload"][as="style"]['+Qe+"]")?ir.loading=1:(Qe=Ke.createElement("link"),ir.preload=Qe,Qe.addEventListener("load",function(){return ir.loading|=1}),Qe.addEventListener("error",function(){return ir.loading|=2}),bo(Qe,"link",tr),Xs(Qe),Ke.head.appendChild(Qe))}function Ed(Ke){return'[src="'+ia(Ke)+'"]'}function eh(Ke){return"script[async]"+Ke}function lg(Ke,Qe,tr){if(Qe.count++,Qe.instance===null)switch(Qe.type){case"style":var ir=Ke.querySelector('style[data-href~="'+ia(tr.href)+'"]');if(ir)return Qe.instance=ir,Xs(ir),ir;var pr=Je({},tr,{"data-href":tr.href,"data-precedence":tr.precedence,href:null,precedence:null});return ir=(Ke.ownerDocument||Ke).createElement("style"),Xs(ir),bo(ir,"style",pr),Vh(ir,tr.precedence,Ke),Qe.instance=ir;case"stylesheet":pr=_d(tr.href);var xr=Ke.querySelector(Zd(pr));if(xr)return Qe.state.loading|=4,Qe.instance=xr,Xs(xr),xr;ir=og(tr),(pr=Dl.get(pr))&&tp(ir,pr),xr=(Ke.ownerDocument||Ke).createElement("link"),Xs(xr);var $r=xr;return $r._p=new Promise(function(Wr,vn){$r.onload=Wr,$r.onerror=vn}),bo(xr,"link",ir),Qe.state.loading|=4,Vh(xr,tr.precedence,Ke),Qe.instance=xr;case"script":return xr=Ed(tr.src),(pr=Ke.querySelector(eh(xr)))?(Qe.instance=pr,Xs(pr),pr):(ir=tr,(pr=Dl.get(xr))&&(ir=Je({},tr),rp(ir,pr)),Ke=Ke.ownerDocument||Ke,pr=Ke.createElement("script"),Xs(pr),bo(pr,"link",ir),Ke.head.appendChild(pr),Qe.instance=pr);case"void":return null;default:throw Error(Ue(443,Qe.type))}else Qe.type==="stylesheet"&&(Qe.state.loading&4)===0&&(ir=Qe.instance,Qe.state.loading|=4,Vh(ir,tr.precedence,Ke));return Qe.instance}function Vh(Ke,Qe,tr){for(var ir=tr.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),pr=ir.length?ir[ir.length-1]:null,xr=pr,$r=0;$r<ir.length;$r++){var Wr=ir[$r];if(Wr.dataset.precedence===Qe)xr=Wr;else if(xr!==pr)break}xr?xr.parentNode.insertBefore(Ke,xr.nextSibling):(Qe=tr.nodeType===9?tr.head:tr,Qe.insertBefore(Ke,Qe.firstChild))}function tp(Ke,Qe){Ke.crossOrigin==null&&(Ke.crossOrigin=Qe.crossOrigin),Ke.referrerPolicy==null&&(Ke.referrerPolicy=Qe.referrerPolicy),Ke.title==null&&(Ke.title=Qe.title)}function rp(Ke,Qe){Ke.crossOrigin==null&&(Ke.crossOrigin=Qe.crossOrigin),Ke.referrerPolicy==null&&(Ke.referrerPolicy=Qe.referrerPolicy),Ke.integrity==null&&(Ke.integrity=Qe.integrity)}var Bh=null;function cg(Ke,Qe,tr){if(Bh===null){var ir=new Map,pr=Bh=new Map;pr.set(tr,ir)}else pr=Bh,ir=pr.get(tr),ir||(ir=new Map,pr.set(tr,ir));if(ir.has(Ke))return ir;for(ir.set(Ke,null),tr=tr.getElementsByTagName(Ke),pr=0;pr<tr.length;pr++){var xr=tr[pr];if(!(xr[Ps]||xr[Mi]||Ke==="link"&&xr.getAttribute("rel")==="stylesheet")&&xr.namespaceURI!=="http://www.w3.org/2000/svg"){var $r=xr.getAttribute(Qe)||"";$r=Ke+$r;var Wr=ir.get($r);Wr?Wr.push(xr):ir.set($r,[xr])}}return ir}function ug(Ke,Qe,tr){Ke=Ke.ownerDocument||Ke,Ke.head.insertBefore(tr,Qe==="title"?Ke.querySelector("head > title"):null)}function Ev(Ke,Qe,tr){if(tr===1||Qe.itemProp!=null)return!1;switch(Ke){case"meta":case"title":return!0;case"style":if(typeof Qe.precedence!="string"||typeof Qe.href!="string"||Qe.href==="")break;return!0;case"link":if(typeof Qe.rel!="string"||typeof Qe.href!="string"||Qe.href===""||Qe.onLoad||Qe.onError)break;switch(Qe.rel){case"stylesheet":return Ke=Qe.disabled,typeof Qe.precedence=="string"&&Ke==null;default:return!0}case"script":if(Qe.async&&typeof Qe.async!="function"&&typeof Qe.async!="symbol"&&!Qe.onLoad&&!Qe.onError&&Qe.src&&typeof Qe.src=="string")return!0}return!1}function dg(Ke){return!(Ke.type==="stylesheet"&&(Ke.state.loading&3)===0)}function wv(Ke,Qe,tr,ir){if(tr.type==="stylesheet"&&(typeof ir.media!="string"||matchMedia(ir.media).matches!==!1)&&(tr.state.loading&4)===0){if(tr.instance===null){var pr=_d(ir.href),xr=Qe.querySelector(Zd(pr));if(xr){Qe=xr._p,Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"&&(Ke.count++,Ke=Uh.bind(Ke),Qe.then(Ke,Ke)),tr.state.loading|=4,tr.instance=xr,Xs(xr);return}xr=Qe.ownerDocument||Qe,ir=og(ir),(pr=Dl.get(pr))&&tp(ir,pr),xr=xr.createElement("link"),Xs(xr);var $r=xr;$r._p=new Promise(function(Wr,vn){$r.onload=Wr,$r.onerror=vn}),bo(xr,"link",ir),tr.instance=xr}Ke.stylesheets===null&&(Ke.stylesheets=new Map),Ke.stylesheets.set(tr,Qe),(Qe=tr.state.preload)&&(tr.state.loading&3)===0&&(Ke.count++,tr=Uh.bind(Ke),Qe.addEventListener("load",tr),Qe.addEventListener("error",tr))}}var np=0;function Sv(Ke,Qe){return Ke.stylesheets&&Ke.count===0&&qh(Ke,Ke.stylesheets),0<Ke.count||0<Ke.imgCount?function(tr){var ir=setTimeout(function(){if(Ke.stylesheets&&qh(Ke,Ke.stylesheets),Ke.unsuspend){var xr=Ke.unsuspend;Ke.unsuspend=null,xr()}},6e4+Qe);0<Ke.imgBytes&&np===0&&(np=62500*iv());var pr=setTimeout(function(){if(Ke.waitingForImages=!1,Ke.count===0&&(Ke.stylesheets&&qh(Ke,Ke.stylesheets),Ke.unsuspend)){var xr=Ke.unsuspend;Ke.unsuspend=null,xr()}},(Ke.imgBytes>np?50:800)+Qe);return Ke.unsuspend=tr,function(){Ke.unsuspend=null,clearTimeout(ir),clearTimeout(pr)}}:null}function Uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qh(this,this.stylesheets);else if(this.unsuspend){var Ke=this.unsuspend;this.unsuspend=null,Ke()}}}var zh=null;function qh(Ke,Qe){Ke.stylesheets=null,Ke.unsuspend!==null&&(Ke.count++,zh=new Map,Qe.forEach(Rv,Ke),zh=null,Uh.call(Ke))}function Rv(Ke,Qe){if(!(Qe.state.loading&4)){var tr=zh.get(Ke);if(tr)var ir=tr.get(null);else{tr=new Map,zh.set(Ke,tr);for(var pr=Ke.querySelectorAll("link[data-precedence],style[data-precedence]"),xr=0;xr<pr.length;xr++){var $r=pr[xr];($r.nodeName==="LINK"||$r.getAttribute("media")!=="not all")&&(tr.set($r.dataset.precedence,$r),ir=$r)}ir&&tr.set(null,ir)}pr=Qe.instance,$r=pr.getAttribute("data-precedence"),xr=tr.get($r)||ir,xr===ir&&tr.set(null,pr),tr.set($r,pr),this.count++,ir=Uh.bind(this),pr.addEventListener("load",ir),pr.addEventListener("error",ir),xr?xr.parentNode.insertBefore(pr,xr.nextSibling):(Ke=Ke.nodeType===9?Ke.head:Ke,Ke.insertBefore(pr,Ke.firstChild)),Qe.state.loading|=4}}var th={$$typeof:or,Provider:null,Consumer:null,_currentValue:wr,_currentValue2:wr,_threadCount:0};function Av(Ke,Qe,tr,ir,pr,xr,$r,Wr,vn){this.tag=1,this.containerInfo=Ke,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ks(0),this.hiddenUpdates=ks(null),this.identifierPrefix=ir,this.onUncaughtError=pr,this.onCaughtError=xr,this.onRecoverableError=$r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=vn,this.incompleteTransitions=new Map}function hg(Ke,Qe,tr,ir,pr,xr,$r,Wr,vn,$n,Kn,Zn){return Ke=new Av(Ke,Qe,tr,$r,vn,$n,Kn,Zn,Wr),Qe=1,xr===!0&&(Qe|=24),xr=ro(3,null,null,Qe),Ke.current=xr,xr.stateNode=Ke,Qe=lu(),Qe.refCount++,Ke.pooledCache=Qe,Qe.refCount++,xr.memoizedState={element:ir,isDehydrated:tr,cache:Qe},gi(xr),Ke}function fg(Ke){return Ke?(Ke=za,Ke):za}function pg(Ke,Qe,tr,ir,pr,xr){pr=fg(pr),ir.context===null?ir.context=pr:ir.pendingContext=pr,ir=qi(Qe),ir.payload={element:tr},xr=xr===void 0?null:xr,xr!==null&&(ir.callback=xr),tr=es(Ke,ir,Qe),tr!==null&&(rl(tr,Ke,Qe),Cs(tr,Ke,Qe))}function mg(Ke,Qe){if(Ke=Ke.memoizedState,Ke!==null&&Ke.dehydrated!==null){var tr=Ke.retryLane;Ke.retryLane=tr!==0&&tr<Qe?tr:Qe}}function ip(Ke,Qe){mg(Ke,Qe),(Ke=Ke.alternate)&&mg(Ke,Qe)}function gg(Ke){if(Ke.tag===13||Ke.tag===31){var Qe=Kl(Ke,67108864);Qe!==null&&rl(Qe,Ke,67108864),ip(Ke,67108864)}}function vg(Ke){if(Ke.tag===13||Ke.tag===31){var Qe=gl();Qe=hi(Qe);var tr=Kl(Ke,Qe);tr!==null&&rl(tr,Ke,Qe),ip(Ke,Qe)}}var Hh=!0;function Tv(Ke,Qe,tr,ir){var pr=Er.T;Er.T=null;var xr=Nr.p;try{Nr.p=2,sp(Ke,Qe,tr,ir)}finally{Nr.p=xr,Er.T=pr}}function jv(Ke,Qe,tr,ir){var pr=Er.T;Er.T=null;var xr=Nr.p;try{Nr.p=8,sp(Ke,Qe,tr,ir)}finally{Nr.p=xr,Er.T=pr}}function sp(Ke,Qe,tr,ir){if(Hh){var pr=ap(ir);if(pr===null)Hf(Ke,Qe,ir,Wh,tr),xg(Ke,ir);else if(Cv(pr,Ke,Qe,tr,ir))ir.stopPropagation();else if(xg(Ke,ir),Qe&4&&-1<Pv.indexOf(Ke)){for(;pr!==null;){var xr=$a(pr);if(xr!==null)switch(xr.tag){case 3:if(xr=xr.stateNode,xr.current.memoizedState.isDehydrated){var $r=Ti(xr.pendingLanes);if($r!==0){var Wr=xr;for(Wr.pendingLanes|=2,Wr.entangledLanes|=2;$r;){var vn=1<<31-Wi($r);Wr.entanglements[1]|=vn,$r&=~vn}Sc(xr),(Ns&6)===0&&(jh=xn()+500,Yd(0))}}break;case 31:case 13:Wr=Kl(xr,2),Wr!==null&&rl(Wr,xr,2),Ch(),ip(xr,2)}if(xr=ap(ir),xr===null&&Hf(Ke,Qe,ir,Wh,tr),xr===pr)break;pr=xr}pr!==null&&ir.stopPropagation()}else Hf(Ke,Qe,ir,null,tr)}}function ap(Ke){return Ke=Ja(Ke),op(Ke)}var Wh=null;function op(Ke){if(Wh=null,Ke=oo(Ke),Ke!==null){var Qe=qe(Ke);if(Qe===null)Ke=null;else{var tr=Qe.tag;if(tr===13){if(Ke=He(Qe),Ke!==null)return Ke;Ke=null}else if(tr===31){if(Ke=We(Qe),Ke!==null)return Ke;Ke=null}else if(tr===3){if(Qe.stateNode.current.memoizedState.isDehydrated)return Qe.tag===3?Qe.stateNode.containerInfo:null;Ke=null}else Qe!==Ke&&(Ke=null)}}return Wh=Ke,null}function yg(Ke){switch(Ke){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ei()){case ni:return 2;case ui:return 8;case oi:case fi:return 32;case yi:return 268435456;default:return 32}default:return 32}}var lp=!1,_u=null,Eu=null,wu=null,rh=new Map,nh=new Map,Su=[],Pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xg(Ke,Qe){switch(Ke){case"focusin":case"focusout":_u=null;break;case"dragenter":case"dragleave":Eu=null;break;case"mouseover":case"mouseout":wu=null;break;case"pointerover":case"pointerout":rh.delete(Qe.pointerId);break;case"gotpointercapture":case"lostpointercapture":nh.delete(Qe.pointerId)}}function ih(Ke,Qe,tr,ir,pr,xr){return Ke===null||Ke.nativeEvent!==xr?(Ke={blockedOn:Qe,domEventName:tr,eventSystemFlags:ir,nativeEvent:xr,targetContainers:[pr]},Qe!==null&&(Qe=$a(Qe),Qe!==null&&gg(Qe)),Ke):(Ke.eventSystemFlags|=ir,Qe=Ke.targetContainers,pr!==null&&Qe.indexOf(pr)===-1&&Qe.push(pr),Ke)}function Cv(Ke,Qe,tr,ir,pr){switch(Qe){case"focusin":return _u=ih(_u,Ke,Qe,tr,ir,pr),!0;case"dragenter":return Eu=ih(Eu,Ke,Qe,tr,ir,pr),!0;case"mouseover":return wu=ih(wu,Ke,Qe,tr,ir,pr),!0;case"pointerover":var xr=pr.pointerId;return rh.set(xr,ih(rh.get(xr)||null,Ke,Qe,tr,ir,pr)),!0;case"gotpointercapture":return xr=pr.pointerId,nh.set(xr,ih(nh.get(xr)||null,Ke,Qe,tr,ir,pr)),!0}return!1}function bg(Ke){var Qe=oo(Ke.target);if(Qe!==null){var tr=qe(Qe);if(tr!==null){if(Qe=tr.tag,Qe===13){if(Qe=He(tr),Qe!==null){Ke.blockedOn=Qe,zi(Ke.priority,function(){vg(tr)});return}}else if(Qe===31){if(Qe=We(tr),Qe!==null){Ke.blockedOn=Qe,zi(Ke.priority,function(){vg(tr)});return}}else if(Qe===3&&tr.stateNode.current.memoizedState.isDehydrated){Ke.blockedOn=tr.tag===3?tr.stateNode.containerInfo:null;return}}}Ke.blockedOn=null}function Gh(Ke){if(Ke.blockedOn!==null)return!1;for(var Qe=Ke.targetContainers;0<Qe.length;){var tr=ap(Ke.nativeEvent);if(tr===null){tr=Ke.nativeEvent;var ir=new tr.constructor(tr.type,tr);ol=ir,tr.target.dispatchEvent(ir),ol=null}else return Qe=$a(tr),Qe!==null&&gg(Qe),Ke.blockedOn=tr,!1;Qe.shift()}return!0}function _g(Ke,Qe,tr){Gh(Ke)&&tr.delete(Qe)}function Iv(){lp=!1,_u!==null&&Gh(_u)&&(_u=null),Eu!==null&&Gh(Eu)&&(Eu=null),wu!==null&&Gh(wu)&&(wu=null),rh.forEach(_g),nh.forEach(_g)}function Kh(Ke,Qe){Ke.blockedOn===Qe&&(Ke.blockedOn=null,lp||(lp=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Iv)))}var Yh=null;function Eg(Ke){Yh!==Ke&&(Yh=Ke,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,function(){Yh===Ke&&(Yh=null);for(var Qe=0;Qe<Ke.length;Qe+=3){var tr=Ke[Qe],ir=Ke[Qe+1],pr=Ke[Qe+2];if(typeof ir!="function"){if(op(ir||tr)===null)continue;break}var xr=$a(tr);xr!==null&&(Ke.splice(Qe,3),Qe-=3,af(xr,{pending:!0,data:pr,method:tr.method,action:ir},ir,pr))}}))}function wd(Ke){function Qe(vn){return Kh(vn,Ke)}_u!==null&&Kh(_u,Ke),Eu!==null&&Kh(Eu,Ke),wu!==null&&Kh(wu,Ke),rh.forEach(Qe),nh.forEach(Qe);for(var tr=0;tr<Su.length;tr++){var ir=Su[tr];ir.blockedOn===Ke&&(ir.blockedOn=null)}for(;0<Su.length&&(tr=Su[0],tr.blockedOn===null);)bg(tr),tr.blockedOn===null&&Su.shift();if(tr=(Ke.ownerDocument||Ke).$$reactFormReplay,tr!=null)for(ir=0;ir<tr.length;ir+=3){var pr=tr[ir],xr=tr[ir+1],$r=pr[Gi]||null;if(typeof xr=="function")$r||Eg(tr);else if($r){var Wr=null;if(xr&&xr.hasAttribute("formAction")){if(pr=xr,$r=xr[Gi]||null)Wr=$r.formAction;else if(op(pr)!==null)continue}else Wr=$r.action;typeof Wr=="function"?tr[ir+1]=Wr:(tr.splice(ir,3),ir-=3),Eg(tr)}}}function wg(){function Ke(xr){xr.canIntercept&&xr.info==="react-transition"&&xr.intercept({handler:function(){return new Promise(function($r){return pr=$r})},focusReset:"manual",scroll:"manual"})}function Qe(){pr!==null&&(pr(),pr=null),ir||setTimeout(tr,20)}function tr(){if(!ir&&!navigation.transition){var xr=navigation.currentEntry;xr&&xr.url!=null&&navigation.navigate(xr.url,{state:xr.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var ir=!1,pr=null;return navigation.addEventListener("navigate",Ke),navigation.addEventListener("navigatesuccess",Qe),navigation.addEventListener("navigateerror",Qe),setTimeout(tr,100),function(){ir=!0,navigation.removeEventListener("navigate",Ke),navigation.removeEventListener("navigatesuccess",Qe),navigation.removeEventListener("navigateerror",Qe),pr!==null&&(pr(),pr=null)}}}function cp(Ke){this._internalRoot=Ke}Xh.prototype.render=cp.prototype.render=function(Ke){var Qe=this._internalRoot;if(Qe===null)throw Error(Ue(409));var tr=Qe.current,ir=gl();pg(tr,ir,Ke,Qe,null,null)},Xh.prototype.unmount=cp.prototype.unmount=function(){var Ke=this._internalRoot;if(Ke!==null){this._internalRoot=null;var Qe=Ke.containerInfo;pg(Ke.current,2,null,Ke,null,null),Ch(),Qe[ls]=null}};function Xh(Ke){this._internalRoot=Ke}Xh.prototype.unstable_scheduleHydration=function(Ke){if(Ke){var Qe=si();Ke={blockedOn:null,target:Ke,priority:Qe};for(var tr=0;tr<Su.length&&Qe!==0&&Qe<Su[tr].priority;tr++);Su.splice(tr,0,Ke),tr===0&&bg(Ke)}};var Sg=$e.version;if(Sg!=="19.2.0")throw Error(Ue(527,Sg,"19.2.0"));Nr.findDOMNode=function(Ke){var Qe=Ke._reactInternals;if(Qe===void 0)throw typeof Ke.render=="function"?Error(Ue(188)):(Ke=Object.keys(Ke).join(","),Error(Ue(268,Ke)));return Ke=Ye(Qe),Ke=Ke!==null?Xe(Ke):null,Ke=Ke===null?null:Ke.stateNode,Ke};var Nv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Er,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{Ui=Qh.inject(Nv),Ci=Qh}catch{}}return reactDomClient_production.createRoot=function(Ke,Qe){if(!ze(Ke))throw Error(Ue(299));var tr=!1,ir="",pr=Ip,xr=Np,$r=kp;return Qe!=null&&(Qe.unstable_strictMode===!0&&(tr=!0),Qe.identifierPrefix!==void 0&&(ir=Qe.identifierPrefix),Qe.onUncaughtError!==void 0&&(pr=Qe.onUncaughtError),Qe.onCaughtError!==void 0&&(xr=Qe.onCaughtError),Qe.onRecoverableError!==void 0&&($r=Qe.onRecoverableError)),Qe=hg(Ke,1,!1,null,null,tr,ir,null,pr,xr,$r,wg),Ke[ls]=Qe.current,qf(Ke),new cp(Qe)},reactDomClient_production.hydrateRoot=function(Ke,Qe,tr){if(!ze(Ke))throw Error(Ue(299));var ir=!1,pr="",xr=Ip,$r=Np,Wr=kp,vn=null;return tr!=null&&(tr.unstable_strictMode===!0&&(ir=!0),tr.identifierPrefix!==void 0&&(pr=tr.identifierPrefix),tr.onUncaughtError!==void 0&&(xr=tr.onUncaughtError),tr.onCaughtError!==void 0&&($r=tr.onCaughtError),tr.onRecoverableError!==void 0&&(Wr=tr.onRecoverableError),tr.formState!==void 0&&(vn=tr.formState)),Qe=hg(Ke,1,!0,Qe,tr??null,ir,pr,vn,xr,$r,Wr,wg),Qe.context=fg(null),tr=Qe.current,ir=gl(),ir=hi(ir),pr=qi(ir),pr.callback=null,es(tr,pr,ir),tr=ir,Qe.current.lanes=tr,Ii(Qe,tr),Sc(Qe),Ke[ls]=Qe.current,qf(Ke),new Xh(Qe)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function Ve(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ve)}catch($e){console.error($e)}}return Ve(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createHashHistory(Ve={}){function $e(ze,qe){let{pathname:He="/",search:We="",hash:Ge=""}=parsePath(ze.location.hash.substring(1));return!He.startsWith("/")&&!He.startsWith(".")&&(He="/"+He),createLocation("",{pathname:He,search:We,hash:Ge},qe.state&&qe.state.usr||null,qe.state&&qe.state.key||"default")}function Be(ze,qe){let He=ze.document.querySelector("base"),We="";if(He&&He.getAttribute("href")){let Ge=ze.location.href,Ye=Ge.indexOf("#");We=Ye===-1?Ge:Ge.slice(0,Ye)}return We+"#"+(typeof qe=="string"?qe:createPath(qe))}function Ue(ze,qe){warning(ze.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(qe)})`)}return getUrlBasedHistory($e,Be,Ue,Ve)}function invariant$2(Ve,$e){if(Ve===!1||Ve===null||typeof Ve>"u")throw new Error($e)}function warning(Ve,$e){if(!Ve){typeof console<"u"&&console.warn($e);try{throw new Error($e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(Ve,$e){return{usr:Ve.state,key:Ve.key,idx:$e}}function createLocation(Ve,$e,Be=null,Ue){return{pathname:typeof Ve=="string"?Ve:Ve.pathname,search:"",hash:"",...typeof $e=="string"?parsePath($e):$e,state:Be,key:$e&&$e.key||Ue||createKey()}}function createPath({pathname:Ve="/",search:$e="",hash:Be=""}){return $e&&$e!=="?"&&(Ve+=$e.charAt(0)==="?"?$e:"?"+$e),Be&&Be!=="#"&&(Ve+=Be.charAt(0)==="#"?Be:"#"+Be),Ve}function parsePath(Ve){let $e={};if(Ve){let Be=Ve.indexOf("#");Be>=0&&($e.hash=Ve.substring(Be),Ve=Ve.substring(0,Be));let Ue=Ve.indexOf("?");Ue>=0&&($e.search=Ve.substring(Ue),Ve=Ve.substring(0,Ue)),Ve&&($e.pathname=Ve)}return $e}function getUrlBasedHistory(Ve,$e,Be,Ue={}){let{window:ze=document.defaultView,v5Compat:qe=!1}=Ue,He=ze.history,We="POP",Ge=null,Ye=Xe();Ye==null&&(Ye=0,He.replaceState({...He.state,idx:Ye},""));function Xe(){return(He.state||{idx:null}).idx}function Je(){We="POP";let ar=Xe(),sr=ar==null?null:ar-Ye;Ye=ar,Ge&&Ge({action:We,location:nr.location,delta:sr})}function er(ar,sr){We="PUSH";let lr=createLocation(nr.location,ar,sr);Be&&Be(lr,ar),Ye=Xe()+1;let or=getHistoryState(lr,Ye),cr=nr.createHref(lr);try{He.pushState(or,"",cr)}catch(hr){if(hr instanceof DOMException&&hr.name==="DataCloneError")throw hr;ze.location.assign(cr)}qe&&Ge&&Ge({action:We,location:nr.location,delta:1})}function Ze(ar,sr){We="REPLACE";let lr=createLocation(nr.location,ar,sr);Be&&Be(lr,ar),Ye=Xe();let or=getHistoryState(lr,Ye),cr=nr.createHref(lr);He.replaceState(or,"",cr),qe&&Ge&&Ge({action:We,location:nr.location,delta:0})}function rr(ar){return createBrowserURLImpl(ar)}let nr={get action(){return We},get location(){return Ve(ze,He)},listen(ar){if(Ge)throw new Error("A history only accepts one active listener");return ze.addEventListener(PopStateEventType,Je),Ge=ar,()=>{ze.removeEventListener(PopStateEventType,Je),Ge=null}},createHref(ar){return $e(ze,ar)},createURL:rr,encodeLocation(ar){let sr=rr(ar);return{pathname:sr.pathname,search:sr.search,hash:sr.hash}},push:er,replace:Ze,go(ar){return He.go(ar)}};return nr}function createBrowserURLImpl(Ve,$e=!1){let Be="http://localhost";typeof window<"u"&&(Be=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$2(Be,"No window.location.(origin|href) available to create URL");let Ue=typeof Ve=="string"?Ve:createPath(Ve);return Ue=Ue.replace(/ $/,"%20"),!$e&&Ue.startsWith("//")&&(Ue=Be+Ue),new URL(Ue,Be)}function matchRoutes(Ve,$e,Be="/"){return matchRoutesImpl(Ve,$e,Be,!1)}function matchRoutesImpl(Ve,$e,Be,Ue){let ze=typeof $e=="string"?parsePath($e):$e,qe=stripBasename(ze.pathname||"/",Be);if(qe==null)return null;let He=flattenRoutes(Ve);rankRouteBranches(He);let We=null;for(let Ge=0;We==null&&Ge<He.length;++Ge){let Ye=decodePath(qe);We=matchRouteBranch(He[Ge],Ye,Ue)}return We}function flattenRoutes(Ve,$e=[],Be=[],Ue="",ze=!1){let qe=(He,We,Ge=ze,Ye)=>{let Xe={relativePath:Ye===void 0?He.path||"":Ye,caseSensitive:He.caseSensitive===!0,childrenIndex:We,route:He};if(Xe.relativePath.startsWith("/")){if(!Xe.relativePath.startsWith(Ue)&&Ge)return;invariant$2(Xe.relativePath.startsWith(Ue),`Absolute route path "${Xe.relativePath}" nested under path "${Ue}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Xe.relativePath=Xe.relativePath.slice(Ue.length)}let Je=joinPaths([Ue,Xe.relativePath]),er=Be.concat(Xe);He.children&&He.children.length>0&&(invariant$2(He.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${Je}".`),flattenRoutes(He.children,$e,er,Je,Ge)),!(He.path==null&&!He.index)&&$e.push({path:Je,score:computeScore(Je,He.index),routesMeta:er})};return Ve.forEach((He,We)=>{if(He.path===""||!He.path?.includes("?"))qe(He,We);else for(let Ge of explodeOptionalSegments(He.path))qe(He,We,!0,Ge)}),$e}function explodeOptionalSegments(Ve){let $e=Ve.split("/");if($e.length===0)return[];let[Be,...Ue]=$e,ze=Be.endsWith("?"),qe=Be.replace(/\?$/,"");if(Ue.length===0)return ze?[qe,""]:[qe];let He=explodeOptionalSegments(Ue.join("/")),We=[];return We.push(...He.map(Ge=>Ge===""?qe:[qe,Ge].join("/"))),ze&&We.push(...He),We.map(Ge=>Ve.startsWith("/")&&Ge===""?"/":Ge)}function rankRouteBranches(Ve){Ve.sort(($e,Be)=>$e.score!==Be.score?Be.score-$e.score:compareIndexes($e.routesMeta.map(Ue=>Ue.childrenIndex),Be.routesMeta.map(Ue=>Ue.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Ve=>Ve==="*";function computeScore(Ve,$e){let Be=Ve.split("/"),Ue=Be.length;return Be.some(isSplat)&&(Ue+=splatPenalty),$e&&(Ue+=indexRouteValue),Be.filter(ze=>!isSplat(ze)).reduce((ze,qe)=>ze+(paramRe.test(qe)?dynamicSegmentValue:qe===""?emptySegmentValue:staticSegmentValue),Ue)}function compareIndexes(Ve,$e){return Ve.length===$e.length&&Ve.slice(0,-1).every((Ue,ze)=>Ue===$e[ze])?Ve[Ve.length-1]-$e[$e.length-1]:0}function matchRouteBranch(Ve,$e,Be=!1){let{routesMeta:Ue}=Ve,ze={},qe="/",He=[];for(let We=0;We<Ue.length;++We){let Ge=Ue[We],Ye=We===Ue.length-1,Xe=qe==="/"?$e:$e.slice(qe.length)||"/",Je=matchPath({path:Ge.relativePath,caseSensitive:Ge.caseSensitive,end:Ye},Xe),er=Ge.route;if(!Je&&Ye&&Be&&!Ue[Ue.length-1].route.index&&(Je=matchPath({path:Ge.relativePath,caseSensitive:Ge.caseSensitive,end:!1},Xe)),!Je)return null;Object.assign(ze,Je.params),He.push({params:ze,pathname:joinPaths([qe,Je.pathname]),pathnameBase:normalizePathname(joinPaths([qe,Je.pathnameBase])),route:er}),Je.pathnameBase!=="/"&&(qe=joinPaths([qe,Je.pathnameBase]))}return He}function matchPath(Ve,$e){typeof Ve=="string"&&(Ve={path:Ve,caseSensitive:!1,end:!0});let[Be,Ue]=compilePath(Ve.path,Ve.caseSensitive,Ve.end),ze=$e.match(Be);if(!ze)return null;let qe=ze[0],He=qe.replace(/(.)\/+$/,"$1"),We=ze.slice(1);return{params:Ue.reduce((Ye,{paramName:Xe,isOptional:Je},er)=>{if(Xe==="*"){let rr=We[er]||"";He=qe.slice(0,qe.length-rr.length).replace(/(.)\/+$/,"$1")}const Ze=We[er];return Je&&!Ze?Ye[Xe]=void 0:Ye[Xe]=(Ze||"").replace(/%2F/g,"/"),Ye},{}),pathname:qe,pathnameBase:He,pattern:Ve}}function compilePath(Ve,$e=!1,Be=!0){warning(Ve==="*"||!Ve.endsWith("*")||Ve.endsWith("/*"),`Route path "${Ve}" will be treated as if it were "${Ve.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Ve.replace(/\*$/,"/*")}".`);let Ue=[],ze="^"+Ve.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(He,We,Ge)=>(Ue.push({paramName:We,isOptional:Ge!=null}),Ge?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return Ve.endsWith("*")?(Ue.push({paramName:"*"}),ze+=Ve==="*"||Ve==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):Be?ze+="\\/*$":Ve!==""&&Ve!=="/"&&(ze+="(?:(?=\\/|$))"),[new RegExp(ze,$e?void 0:"i"),Ue]}function decodePath(Ve){try{return Ve.split("/").map($e=>decodeURIComponent($e).replace(/\//g,"%2F")).join("/")}catch($e){return warning(!1,`The URL path "${Ve}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${$e}).`),Ve}}function stripBasename(Ve,$e){if($e==="/")return Ve;if(!Ve.toLowerCase().startsWith($e.toLowerCase()))return null;let Be=$e.endsWith("/")?$e.length-1:$e.length,Ue=Ve.charAt(Be);return Ue&&Ue!=="/"?null:Ve.slice(Be)||"/"}function resolvePath(Ve,$e="/"){let{pathname:Be,search:Ue="",hash:ze=""}=typeof Ve=="string"?parsePath(Ve):Ve;return{pathname:Be?Be.startsWith("/")?Be:resolvePathname(Be,$e):$e,search:normalizeSearch(Ue),hash:normalizeHash(ze)}}function resolvePathname(Ve,$e){let Be=$e.replace(/\/+$/,"").split("/");return Ve.split("/").forEach(ze=>{ze===".."?Be.length>1&&Be.pop():ze!=="."&&Be.push(ze)}),Be.length>1?Be.join("/"):"/"}function getInvalidPathError(Ve,$e,Be,Ue){return`Cannot include a '${Ve}' character in a manually specified \`to.${$e}\` field [${JSON.stringify(Ue)}].  Please separate it out to the \`to.${Be}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(Ve){return Ve.filter(($e,Be)=>Be===0||$e.route.path&&$e.route.path.length>0)}function getResolveToMatches(Ve){let $e=getPathContributingMatches(Ve);return $e.map((Be,Ue)=>Ue===$e.length-1?Be.pathname:Be.pathnameBase)}function resolveTo(Ve,$e,Be,Ue=!1){let ze;typeof Ve=="string"?ze=parsePath(Ve):(ze={...Ve},invariant$2(!ze.pathname||!ze.pathname.includes("?"),getInvalidPathError("?","pathname","search",ze)),invariant$2(!ze.pathname||!ze.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ze)),invariant$2(!ze.search||!ze.search.includes("#"),getInvalidPathError("#","search","hash",ze)));let qe=Ve===""||ze.pathname==="",He=qe?"/":ze.pathname,We;if(He==null)We=Be;else{let Je=$e.length-1;if(!Ue&&He.startsWith("..")){let er=He.split("/");for(;er[0]==="..";)er.shift(),Je-=1;ze.pathname=er.join("/")}We=Je>=0?$e[Je]:"/"}let Ge=resolvePath(ze,We),Ye=He&&He!=="/"&&He.endsWith("/"),Xe=(qe||He===".")&&Be.endsWith("/");return!Ge.pathname.endsWith("/")&&(Ye||Xe)&&(Ge.pathname+="/"),Ge}var joinPaths=Ve=>Ve.join("/").replace(/\/\/+/g,"/"),normalizePathname=Ve=>Ve.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Ve=>!Ve||Ve==="?"?"":Ve.startsWith("?")?Ve:"?"+Ve,normalizeHash=Ve=>!Ve||Ve==="#"?"":Ve.startsWith("#")?Ve:"#"+Ve;function isRouteErrorResponse(Ve){return Ve!=null&&typeof Ve.status=="number"&&typeof Ve.statusText=="string"&&typeof Ve.internal=="boolean"&&"data"in Ve}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(Ve,{relative:$e}={}){invariant$2(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:Be,navigator:Ue}=reactExports.useContext(NavigationContext),{hash:ze,pathname:qe,search:He}=useResolvedPath(Ve,{relative:$e}),We=qe;return Be!=="/"&&(We=qe==="/"?Be:joinPaths([Be,qe])),Ue.createHref({pathname:We,search:He,hash:ze})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$2(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$1(Ve){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Ve)}function useNavigate(){let{isDataRoute:Ve}=reactExports.useContext(RouteContext);return Ve?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$2(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let Ve=reactExports.useContext(DataRouterContext),{basename:$e,navigator:Be}=reactExports.useContext(NavigationContext),{matches:Ue}=reactExports.useContext(RouteContext),{pathname:ze}=useLocation(),qe=JSON.stringify(getResolveToMatches(Ue)),He=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{He.current=!0}),reactExports.useCallback((Ge,Ye={})=>{if(warning(He.current,navigateEffectWarning),!He.current)return;if(typeof Ge=="number"){Be.go(Ge);return}let Xe=resolveTo(Ge,JSON.parse(qe),ze,Ye.relative==="path");Ve==null&&$e!=="/"&&(Xe.pathname=Xe.pathname==="/"?$e:joinPaths([$e,Xe.pathname])),(Ye.replace?Be.replace:Be.push)(Xe,Ye.state,Ye)},[$e,Be,qe,ze,Ve])}reactExports.createContext(null);function useResolvedPath(Ve,{relative:$e}={}){let{matches:Be}=reactExports.useContext(RouteContext),{pathname:Ue}=useLocation(),ze=JSON.stringify(getResolveToMatches(Be));return reactExports.useMemo(()=>resolveTo(Ve,JSON.parse(ze),Ue,$e==="path"),[Ve,ze,Ue,$e])}function useRoutes(Ve,$e){return useRoutesImpl(Ve,$e)}function useRoutesImpl(Ve,$e,Be,Ue,ze){invariant$2(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:qe}=reactExports.useContext(NavigationContext),{matches:He}=reactExports.useContext(RouteContext),We=He[He.length-1],Ge=We?We.params:{},Ye=We?We.pathname:"/",Xe=We?We.pathnameBase:"/",Je=We&&We.route;{let lr=Je&&Je.path||"";warningOnce(Ye,!Je||lr.endsWith("*")||lr.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${Ye}" (under <Route path="${lr}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${lr}"> to <Route path="${lr==="/"?"*":`${lr}/*`}">.`)}let er=useLocation(),Ze;if($e){let lr=typeof $e=="string"?parsePath($e):$e;invariant$2(Xe==="/"||lr.pathname?.startsWith(Xe),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Xe}" but pathname "${lr.pathname}" was given in the \`location\` prop.`),Ze=lr}else Ze=er;let rr=Ze.pathname||"/",nr=rr;if(Xe!=="/"){let lr=Xe.replace(/^\//,"").split("/");nr="/"+rr.replace(/^\//,"").split("/").slice(lr.length).join("/")}let ar=matchRoutes(Ve,{pathname:nr});warning(Je||ar!=null,`No routes matched location "${Ze.pathname}${Ze.search}${Ze.hash}" `),warning(ar==null||ar[ar.length-1].route.element!==void 0||ar[ar.length-1].route.Component!==void 0||ar[ar.length-1].route.lazy!==void 0,`Matched leaf route at location "${Ze.pathname}${Ze.search}${Ze.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let sr=_renderMatches(ar&&ar.map(lr=>Object.assign({},lr,{params:Object.assign({},Ge,lr.params),pathname:joinPaths([Xe,qe.encodeLocation?qe.encodeLocation(lr.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lr.pathname]),pathnameBase:lr.pathnameBase==="/"?Xe:joinPaths([Xe,qe.encodeLocation?qe.encodeLocation(lr.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lr.pathnameBase])})),He,Be,Ue,ze);return $e&&sr?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Ze},navigationType:"POP"}},sr):sr}function DefaultErrorComponent(){let Ve=useRouteError(),$e=isRouteErrorResponse(Ve)?`${Ve.status} ${Ve.statusText}`:Ve instanceof Error?Ve.message:JSON.stringify(Ve),Be=Ve instanceof Error?Ve.stack:null,Ue="rgba(200,200,200, 0.5)",ze={padding:"0.5rem",backgroundColor:Ue},qe={padding:"2px 4px",backgroundColor:Ue},He=null;return console.error("Error handled by React Router default ErrorBoundary:",Ve),He=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:qe},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:qe},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$e),Be?reactExports.createElement("pre",{style:ze},Be):null,He)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(Ve){super(Ve),this.state={location:Ve.location,revalidation:Ve.revalidation,error:Ve.error}}static getDerivedStateFromError(Ve){return{error:Ve}}static getDerivedStateFromProps(Ve,$e){return $e.location!==Ve.location||$e.revalidation!=="idle"&&Ve.revalidation==="idle"?{error:Ve.error,location:Ve.location,revalidation:Ve.revalidation}:{error:Ve.error!==void 0?Ve.error:$e.error,location:$e.location,revalidation:Ve.revalidation||$e.revalidation}}componentDidCatch(Ve,$e){this.props.unstable_onError?this.props.unstable_onError(Ve,$e):console.error("React Router caught the following error during render",Ve)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:Ve,match:$e,children:Be}){let Ue=reactExports.useContext(DataRouterContext);return Ue&&Ue.static&&Ue.staticContext&&($e.route.errorElement||$e.route.ErrorBoundary)&&(Ue.staticContext._deepestRenderedBoundaryId=$e.route.id),reactExports.createElement(RouteContext.Provider,{value:Ve},Be)}function _renderMatches(Ve,$e=[],Be=null,Ue=null,ze=null){if(Ve==null){if(!Be)return null;if(Be.errors)Ve=Be.matches;else if($e.length===0&&!Be.initialized&&Be.matches.length>0)Ve=Be.matches;else return null}let qe=Ve,He=Be?.errors;if(He!=null){let Ye=qe.findIndex(Xe=>Xe.route.id&&He?.[Xe.route.id]!==void 0);invariant$2(Ye>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(He).join(",")}`),qe=qe.slice(0,Math.min(qe.length,Ye+1))}let We=!1,Ge=-1;if(Be)for(let Ye=0;Ye<qe.length;Ye++){let Xe=qe[Ye];if((Xe.route.HydrateFallback||Xe.route.hydrateFallbackElement)&&(Ge=Ye),Xe.route.id){let{loaderData:Je,errors:er}=Be,Ze=Xe.route.loader&&!Je.hasOwnProperty(Xe.route.id)&&(!er||er[Xe.route.id]===void 0);if(Xe.route.lazy||Ze){We=!0,Ge>=0?qe=qe.slice(0,Ge+1):qe=[qe[0]];break}}}return qe.reduceRight((Ye,Xe,Je)=>{let er,Ze=!1,rr=null,nr=null;Be&&(er=He&&Xe.route.id?He[Xe.route.id]:void 0,rr=Xe.route.errorElement||defaultErrorElement,We&&(Ge<0&&Je===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Ze=!0,nr=null):Ge===Je&&(Ze=!0,nr=Xe.route.hydrateFallbackElement||null)));let ar=$e.concat(qe.slice(0,Je+1)),sr=()=>{let lr;return er?lr=rr:Ze?lr=nr:Xe.route.Component?lr=reactExports.createElement(Xe.route.Component,null):Xe.route.element?lr=Xe.route.element:lr=Ye,reactExports.createElement(RenderedRoute,{match:Xe,routeContext:{outlet:Ye,matches:ar,isDataRoute:Be!=null},children:lr})};return Be&&(Xe.route.ErrorBoundary||Xe.route.errorElement||Je===0)?reactExports.createElement(RenderErrorBoundary,{location:Be.location,revalidation:Be.revalidation,component:rr,error:er,children:sr(),routeContext:{outlet:null,matches:ar,isDataRoute:!0},unstable_onError:Ue}):sr()},null)}function getDataRouterConsoleError(Ve){return`${Ve} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(Ve){let $e=reactExports.useContext(DataRouterContext);return invariant$2($e,getDataRouterConsoleError(Ve)),$e}function useDataRouterState(Ve){let $e=reactExports.useContext(DataRouterStateContext);return invariant$2($e,getDataRouterConsoleError(Ve)),$e}function useRouteContext(Ve){let $e=reactExports.useContext(RouteContext);return invariant$2($e,getDataRouterConsoleError(Ve)),$e}function useCurrentRouteId(Ve){let $e=useRouteContext(Ve),Be=$e.matches[$e.matches.length-1];return invariant$2(Be.route.id,`${Ve} can only be used on routes that contain a unique "id"`),Be.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let Ve=reactExports.useContext(RouteErrorContext),$e=useDataRouterState("useRouteError"),Be=useCurrentRouteId("useRouteError");return Ve!==void 0?Ve:$e.errors?.[Be]}function useNavigateStable(){let{router:Ve}=useDataRouterContext("useNavigate"),$e=useCurrentRouteId("useNavigate"),Be=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{Be.current=!0}),reactExports.useCallback(async(ze,qe={})=>{warning(Be.current,navigateEffectWarning),Be.current&&(typeof ze=="number"?Ve.navigate(ze):await Ve.navigate(ze,{fromRouteId:$e,...qe}))},[Ve,$e])}var alreadyWarned={};function warningOnce(Ve,$e,Be){!$e&&!alreadyWarned[Ve]&&(alreadyWarned[Ve]=!0,warning(!1,Be))}reactExports.memo(DataRoutes);function DataRoutes({routes:Ve,future:$e,state:Be,unstable_onError:Ue}){return useRoutesImpl(Ve,void 0,Be,Ue,$e)}function Navigate({to:Ve,replace:$e,state:Be,relative:Ue}){invariant$2(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:ze}=reactExports.useContext(NavigationContext);warning(!ze,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:qe}=reactExports.useContext(RouteContext),{pathname:He}=useLocation(),We=useNavigate(),Ge=resolveTo(Ve,getResolveToMatches(qe),He,Ue==="path"),Ye=JSON.stringify(Ge);return reactExports.useEffect(()=>{We(JSON.parse(Ye),{replace:$e,state:Be,relative:Ue})},[We,Ye,Ue,$e,Be]),null}function Route(Ve){invariant$2(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:Ve="/",children:$e=null,location:Be,navigationType:Ue="POP",navigator:ze,static:qe=!1}){invariant$2(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let He=Ve.replace(/^\/*/,"/"),We=reactExports.useMemo(()=>({basename:He,navigator:ze,static:qe,future:{}}),[He,ze,qe]);typeof Be=="string"&&(Be=parsePath(Be));let{pathname:Ge="/",search:Ye="",hash:Xe="",state:Je=null,key:er="default"}=Be,Ze=reactExports.useMemo(()=>{let rr=stripBasename(Ge,He);return rr==null?null:{location:{pathname:rr,search:Ye,hash:Xe,state:Je,key:er},navigationType:Ue}},[He,Ge,Ye,Xe,Je,er,Ue]);return warning(Ze!=null,`<Router basename="${He}"> is not able to match the URL "${Ge}${Ye}${Xe}" because it does not start with the basename, so the <Router> won't render anything.`),Ze==null?null:reactExports.createElement(NavigationContext.Provider,{value:We},reactExports.createElement(LocationContext.Provider,{children:$e,value:Ze}))}function Routes({children:Ve,location:$e}){return useRoutes(createRoutesFromChildren(Ve),$e)}function createRoutesFromChildren(Ve,$e=[]){let Be=[];return reactExports.Children.forEach(Ve,(Ue,ze)=>{if(!reactExports.isValidElement(Ue))return;let qe=[...$e,ze];if(Ue.type===reactExports.Fragment){Be.push.apply(Be,createRoutesFromChildren(Ue.props.children,qe));return}invariant$2(Ue.type===Route,`[${typeof Ue.type=="string"?Ue.type:Ue.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$2(!Ue.props.index||!Ue.props.children,"An index route cannot have child routes.");let He={id:Ue.props.id||qe.join("-"),caseSensitive:Ue.props.caseSensitive,element:Ue.props.element,Component:Ue.props.Component,index:Ue.props.index,path:Ue.props.path,middleware:Ue.props.middleware,loader:Ue.props.loader,action:Ue.props.action,hydrateFallbackElement:Ue.props.hydrateFallbackElement,HydrateFallback:Ue.props.HydrateFallback,errorElement:Ue.props.errorElement,ErrorBoundary:Ue.props.ErrorBoundary,hasErrorBoundary:Ue.props.hasErrorBoundary===!0||Ue.props.ErrorBoundary!=null||Ue.props.errorElement!=null,shouldRevalidate:Ue.props.shouldRevalidate,handle:Ue.props.handle,lazy:Ue.props.lazy};Ue.props.children&&(He.children=createRoutesFromChildren(Ue.props.children,qe)),Be.push(He)}),Be}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(Ve){return Ve!=null&&typeof Ve.tagName=="string"}function isButtonElement(Ve){return isHtmlElement(Ve)&&Ve.tagName.toLowerCase()==="button"}function isFormElement(Ve){return isHtmlElement(Ve)&&Ve.tagName.toLowerCase()==="form"}function isInputElement(Ve){return isHtmlElement(Ve)&&Ve.tagName.toLowerCase()==="input"}function isModifiedEvent(Ve){return!!(Ve.metaKey||Ve.altKey||Ve.ctrlKey||Ve.shiftKey)}function shouldProcessLinkClick(Ve,$e){return Ve.button===0&&(!$e||$e==="_self")&&!isModifiedEvent(Ve)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(Ve){return Ve!=null&&!supportedFormEncTypes.has(Ve)?(warning(!1,`"${Ve}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):Ve}function getFormSubmissionInfo(Ve,$e){let Be,Ue,ze,qe,He;if(isFormElement(Ve)){let We=Ve.getAttribute("action");Ue=We?stripBasename(We,$e):null,Be=Ve.getAttribute("method")||defaultMethod,ze=getFormEncType(Ve.getAttribute("enctype"))||defaultEncType,qe=new FormData(Ve)}else if(isButtonElement(Ve)||isInputElement(Ve)&&(Ve.type==="submit"||Ve.type==="image")){let We=Ve.form;if(We==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Ge=Ve.getAttribute("formaction")||We.getAttribute("action");if(Ue=Ge?stripBasename(Ge,$e):null,Be=Ve.getAttribute("formmethod")||We.getAttribute("method")||defaultMethod,ze=getFormEncType(Ve.getAttribute("formenctype"))||getFormEncType(We.getAttribute("enctype"))||defaultEncType,qe=new FormData(We,Ve),!isFormDataSubmitterSupported()){let{name:Ye,type:Xe,value:Je}=Ve;if(Xe==="image"){let er=Ye?`${Ye}.`:"";qe.append(`${er}x`,"0"),qe.append(`${er}y`,"0")}else Ye&&qe.append(Ye,Je)}}else{if(isHtmlElement(Ve))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');Be=defaultMethod,Ue=null,ze=defaultEncType,He=Ve}return qe&&ze==="text/plain"&&(He=qe,qe=void 0),{action:Ue,method:Be.toLowerCase(),encType:ze,formData:qe,body:He}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(Ve,$e){if(Ve===!1||Ve===null||typeof Ve>"u")throw new Error($e)}function singleFetchUrl(Ve,$e,Be){let Ue=typeof Ve=="string"?new URL(Ve,typeof window>"u"?"server://singlefetch/":window.location.origin):Ve;return Ue.pathname==="/"?Ue.pathname=`_root.${Be}`:$e&&stripBasename(Ue.pathname,$e)==="/"?Ue.pathname=`${$e.replace(/\/$/,"")}/_root.${Be}`:Ue.pathname=`${Ue.pathname.replace(/\/$/,"")}.${Be}`,Ue}async function loadRouteModule(Ve,$e){if(Ve.id in $e)return $e[Ve.id];try{let Be=await import(Ve.module);return $e[Ve.id]=Be,Be}catch(Be){return console.error(`Error loading route module \`${Ve.module}\`, reloading page...`),console.error(Be),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(Ve){return Ve==null?!1:Ve.href==null?Ve.rel==="preload"&&typeof Ve.imageSrcSet=="string"&&typeof Ve.imageSizes=="string":typeof Ve.rel=="string"&&typeof Ve.href=="string"}async function getKeyedPrefetchLinks(Ve,$e,Be){let Ue=await Promise.all(Ve.map(async ze=>{let qe=$e.routes[ze.route.id];if(qe){let He=await loadRouteModule(qe,Be);return He.links?He.links():[]}return[]}));return dedupeLinkDescriptors(Ue.flat(1).filter(isHtmlLinkDescriptor).filter(ze=>ze.rel==="stylesheet"||ze.rel==="preload").map(ze=>ze.rel==="stylesheet"?{...ze,rel:"prefetch",as:"style"}:{...ze,rel:"prefetch"}))}function getNewMatchesForLinks(Ve,$e,Be,Ue,ze,qe){let He=(Ge,Ye)=>Be[Ye]?Ge.route.id!==Be[Ye].route.id:!0,We=(Ge,Ye)=>Be[Ye].pathname!==Ge.pathname||Be[Ye].route.path?.endsWith("*")&&Be[Ye].params["*"]!==Ge.params["*"];return qe==="assets"?$e.filter((Ge,Ye)=>He(Ge,Ye)||We(Ge,Ye)):qe==="data"?$e.filter((Ge,Ye)=>{let Xe=Ue.routes[Ge.route.id];if(!Xe||!Xe.hasLoader)return!1;if(He(Ge,Ye)||We(Ge,Ye))return!0;if(Ge.route.shouldRevalidate){let Je=Ge.route.shouldRevalidate({currentUrl:new URL(ze.pathname+ze.search+ze.hash,window.origin),currentParams:Be[0]?.params||{},nextUrl:new URL(Ve,window.origin),nextParams:Ge.params,defaultShouldRevalidate:!0});if(typeof Je=="boolean")return Je}return!0}):[]}function getModuleLinkHrefs(Ve,$e,{includeHydrateFallback:Be}={}){return dedupeHrefs(Ve.map(Ue=>{let ze=$e.routes[Ue.route.id];if(!ze)return[];let qe=[ze.module];return ze.clientActionModule&&(qe=qe.concat(ze.clientActionModule)),ze.clientLoaderModule&&(qe=qe.concat(ze.clientLoaderModule)),Be&&ze.hydrateFallbackModule&&(qe=qe.concat(ze.hydrateFallbackModule)),ze.imports&&(qe=qe.concat(ze.imports)),qe}).flat(1))}function dedupeHrefs(Ve){return[...new Set(Ve)]}function sortKeys(Ve){let $e={},Be=Object.keys(Ve).sort();for(let Ue of Be)$e[Ue]=Ve[Ue];return $e}function dedupeLinkDescriptors(Ve,$e){let Be=new Set;return new Set($e),Ve.reduce((Ue,ze)=>{let qe=JSON.stringify(sortKeys(ze));return Be.has(qe)||(Be.add(qe),Ue.push({key:qe,link:ze})),Ue},[])}function useDataRouterContext2(){let Ve=reactExports.useContext(DataRouterContext);return invariant2(Ve,"You must render this element inside a <DataRouterContext.Provider> element"),Ve}function useDataRouterStateContext(){let Ve=reactExports.useContext(DataRouterStateContext);return invariant2(Ve,"You must render this element inside a <DataRouterStateContext.Provider> element"),Ve}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let Ve=reactExports.useContext(FrameworkContext);return invariant2(Ve,"You must render this element inside a <HydratedRouter> element"),Ve}function usePrefetchBehavior(Ve,$e){let Be=reactExports.useContext(FrameworkContext),[Ue,ze]=reactExports.useState(!1),[qe,He]=reactExports.useState(!1),{onFocus:We,onBlur:Ge,onMouseEnter:Ye,onMouseLeave:Xe,onTouchStart:Je}=$e,er=reactExports.useRef(null);reactExports.useEffect(()=>{if(Ve==="render"&&He(!0),Ve==="viewport"){let nr=sr=>{sr.forEach(lr=>{He(lr.isIntersecting)})},ar=new IntersectionObserver(nr,{threshold:.5});return er.current&&ar.observe(er.current),()=>{ar.disconnect()}}},[Ve]),reactExports.useEffect(()=>{if(Ue){let nr=setTimeout(()=>{He(!0)},100);return()=>{clearTimeout(nr)}}},[Ue]);let Ze=()=>{ze(!0)},rr=()=>{ze(!1),He(!1)};return Be?Ve!=="intent"?[qe,er,{}]:[qe,er,{onFocus:composeEventHandlers(We,Ze),onBlur:composeEventHandlers(Ge,rr),onMouseEnter:composeEventHandlers(Ye,Ze),onMouseLeave:composeEventHandlers(Xe,rr),onTouchStart:composeEventHandlers(Je,Ze)}]:[!1,er,{}]}function composeEventHandlers(Ve,$e){return Be=>{Ve&&Ve(Be),Be.defaultPrevented||$e(Be)}}function PrefetchPageLinks({page:Ve,...$e}){let{router:Be}=useDataRouterContext2(),Ue=reactExports.useMemo(()=>matchRoutes(Be.routes,Ve,Be.basename),[Be.routes,Ve,Be.basename]);return Ue?reactExports.createElement(PrefetchPageLinksImpl,{page:Ve,matches:Ue,...$e}):null}function useKeyedPrefetchLinks(Ve){let{manifest:$e,routeModules:Be}=useFrameworkContext(),[Ue,ze]=reactExports.useState([]);return reactExports.useEffect(()=>{let qe=!1;return getKeyedPrefetchLinks(Ve,$e,Be).then(He=>{qe||ze(He)}),()=>{qe=!0}},[Ve,$e,Be]),Ue}function PrefetchPageLinksImpl({page:Ve,matches:$e,...Be}){let Ue=useLocation(),{manifest:ze,routeModules:qe}=useFrameworkContext(),{basename:He}=useDataRouterContext2(),{loaderData:We,matches:Ge}=useDataRouterStateContext(),Ye=reactExports.useMemo(()=>getNewMatchesForLinks(Ve,$e,Ge,ze,Ue,"data"),[Ve,$e,Ge,ze,Ue]),Xe=reactExports.useMemo(()=>getNewMatchesForLinks(Ve,$e,Ge,ze,Ue,"assets"),[Ve,$e,Ge,ze,Ue]),Je=reactExports.useMemo(()=>{if(Ve===Ue.pathname+Ue.search+Ue.hash)return[];let rr=new Set,nr=!1;if($e.forEach(sr=>{let lr=ze.routes[sr.route.id];!lr||!lr.hasLoader||(!Ye.some(or=>or.route.id===sr.route.id)&&sr.route.id in We&&qe[sr.route.id]?.shouldRevalidate||lr.hasClientLoader?nr=!0:rr.add(sr.route.id))}),rr.size===0)return[];let ar=singleFetchUrl(Ve,He,"data");return nr&&rr.size>0&&ar.searchParams.set("_routes",$e.filter(sr=>rr.has(sr.route.id)).map(sr=>sr.route.id).join(",")),[ar.pathname+ar.search]},[He,We,Ue,ze,Ye,$e,Ve,qe]),er=reactExports.useMemo(()=>getModuleLinkHrefs(Xe,ze),[Xe,ze]),Ze=useKeyedPrefetchLinks(Xe);return reactExports.createElement(reactExports.Fragment,null,Je.map(rr=>reactExports.createElement("link",{key:rr,rel:"prefetch",as:"fetch",href:rr,...Be})),er.map(rr=>reactExports.createElement("link",{key:rr,rel:"modulepreload",href:rr,...Be})),Ze.map(({key:rr,link:nr})=>reactExports.createElement("link",{key:rr,nonce:Be.nonce,...nr})))}function mergeRefs(...Ve){return $e=>{Ve.forEach(Be=>{typeof Be=="function"?Be($e):Be!=null&&(Be.current=$e)})}}var isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$2&&(window.__reactRouterVersion="7.9.5")}catch{}function HashRouter({basename:Ve,children:$e,window:Be}){let Ue=reactExports.useRef();Ue.current==null&&(Ue.current=createHashHistory({window:Be,v5Compat:!0}));let ze=Ue.current,[qe,He]=reactExports.useState({action:ze.action,location:ze.location}),We=reactExports.useCallback(Ge=>{reactExports.startTransition(()=>He(Ge))},[He]);return reactExports.useLayoutEffect(()=>ze.listen(We),[ze,We]),reactExports.createElement(Router,{basename:Ve,children:$e,location:qe.location,navigationType:qe.action,navigator:ze})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:$e,discover:Be="render",prefetch:Ue="none",relative:ze,reloadDocument:qe,replace:He,state:We,target:Ge,to:Ye,preventScrollReset:Xe,viewTransition:Je,...er},Ze){let{basename:rr}=reactExports.useContext(NavigationContext),nr=typeof Ye=="string"&&ABSOLUTE_URL_REGEX2.test(Ye),ar,sr=!1;if(typeof Ye=="string"&&nr&&(ar=Ye,isBrowser$2))try{let _r=new URL(window.location.href),Cr=Ye.startsWith("//")?new URL(_r.protocol+Ye):new URL(Ye),br=stripBasename(Cr.pathname,rr);Cr.origin===_r.origin&&br!=null?Ye=br+Cr.search+Cr.hash:sr=!0}catch{warning(!1,`<Link to="${Ye}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let lr=useHref(Ye,{relative:ze}),[or,cr,hr]=usePrefetchBehavior(Ue,er),yr=useLinkClickHandler(Ye,{replace:He,state:We,target:Ge,preventScrollReset:Xe,relative:ze,viewTransition:Je});function mr(_r){$e&&$e(_r),_r.defaultPrevented||yr(_r)}let vr=reactExports.createElement("a",{...er,...hr,href:ar||lr,onClick:sr||qe?$e:mr,ref:mergeRefs(Ze,cr),target:Ge,"data-discover":!nr&&Be==="render"?"true":void 0});return or&&!nr?reactExports.createElement(reactExports.Fragment,null,vr,reactExports.createElement(PrefetchPageLinks,{page:lr})):vr});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":$e="page",caseSensitive:Be=!1,className:Ue="",end:ze=!1,style:qe,to:He,viewTransition:We,children:Ge,...Ye},Xe){let Je=useResolvedPath(He,{relative:Ye.relative}),er=useLocation(),Ze=reactExports.useContext(DataRouterStateContext),{navigator:rr,basename:nr}=reactExports.useContext(NavigationContext),ar=Ze!=null&&useViewTransitionState(Je)&&We===!0,sr=rr.encodeLocation?rr.encodeLocation(Je).pathname:Je.pathname,lr=er.pathname,or=Ze&&Ze.navigation&&Ze.navigation.location?Ze.navigation.location.pathname:null;Be||(lr=lr.toLowerCase(),or=or?or.toLowerCase():null,sr=sr.toLowerCase()),or&&nr&&(or=stripBasename(or,nr)||or);const cr=sr!=="/"&&sr.endsWith("/")?sr.length-1:sr.length;let hr=lr===sr||!ze&&lr.startsWith(sr)&&lr.charAt(cr)==="/",yr=or!=null&&(or===sr||!ze&&or.startsWith(sr)&&or.charAt(sr.length)==="/"),mr={isActive:hr,isPending:yr,isTransitioning:ar},vr=hr?$e:void 0,_r;typeof Ue=="function"?_r=Ue(mr):_r=[Ue,hr?"active":null,yr?"pending":null,ar?"transitioning":null].filter(Boolean).join(" ");let Cr=typeof qe=="function"?qe(mr):qe;return reactExports.createElement(Link,{...Ye,"aria-current":vr,className:_r,ref:Xe,style:Cr,to:He,viewTransition:We},typeof Ge=="function"?Ge(mr):Ge)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:Ve="render",fetcherKey:$e,navigate:Be,reloadDocument:Ue,replace:ze,state:qe,method:He=defaultMethod,action:We,onSubmit:Ge,relative:Ye,preventScrollReset:Xe,viewTransition:Je,...er},Ze)=>{let rr=useSubmit(),nr=useFormAction(We,{relative:Ye}),ar=He.toLowerCase()==="get"?"get":"post",sr=typeof We=="string"&&ABSOLUTE_URL_REGEX2.test(We),lr=or=>{if(Ge&&Ge(or),or.defaultPrevented)return;or.preventDefault();let cr=or.nativeEvent.submitter,hr=cr?.getAttribute("formmethod")||He;rr(cr||or.currentTarget,{fetcherKey:$e,method:hr,navigate:Be,replace:ze,state:qe,relative:Ye,preventScrollReset:Xe,viewTransition:Je})};return reactExports.createElement("form",{ref:Ze,method:ar,action:nr,onSubmit:Ue?Ge:lr,...er,"data-discover":!sr&&Ve==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(Ve){return`${Ve} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(Ve){let $e=reactExports.useContext(DataRouterContext);return invariant$2($e,getDataRouterConsoleError2(Ve)),$e}function useLinkClickHandler(Ve,{target:$e,replace:Be,state:Ue,preventScrollReset:ze,relative:qe,viewTransition:He}={}){let We=useNavigate(),Ge=useLocation(),Ye=useResolvedPath(Ve,{relative:qe});return reactExports.useCallback(Xe=>{if(shouldProcessLinkClick(Xe,$e)){Xe.preventDefault();let Je=Be!==void 0?Be:createPath(Ge)===createPath(Ye);We(Ve,{replace:Je,state:Ue,preventScrollReset:ze,relative:qe,viewTransition:He})}},[Ge,We,Ye,Be,Ue,$e,Ve,ze,qe,He])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:Ve}=useDataRouterContext3("useSubmit"),{basename:$e}=reactExports.useContext(NavigationContext),Be=useRouteId();return reactExports.useCallback(async(Ue,ze={})=>{let{action:qe,method:He,encType:We,formData:Ge,body:Ye}=getFormSubmissionInfo(Ue,$e);if(ze.navigate===!1){let Xe=ze.fetcherKey||getUniqueFetcherId();await Ve.fetch(Xe,Be,ze.action||qe,{preventScrollReset:ze.preventScrollReset,formData:Ge,body:Ye,formMethod:ze.method||He,formEncType:ze.encType||We,flushSync:ze.flushSync})}else await Ve.navigate(ze.action||qe,{preventScrollReset:ze.preventScrollReset,formData:Ge,body:Ye,formMethod:ze.method||He,formEncType:ze.encType||We,replace:ze.replace,state:ze.state,fromRouteId:Be,flushSync:ze.flushSync,viewTransition:ze.viewTransition})},[Ve,$e,Be])}function useFormAction(Ve,{relative:$e}={}){let{basename:Be}=reactExports.useContext(NavigationContext),Ue=reactExports.useContext(RouteContext);invariant$2(Ue,"useFormAction must be used inside a RouteContext");let[ze]=Ue.matches.slice(-1),qe={...useResolvedPath(Ve||".",{relative:$e})},He=useLocation();if(Ve==null){qe.search=He.search;let We=new URLSearchParams(qe.search),Ge=We.getAll("index");if(Ge.some(Xe=>Xe==="")){We.delete("index"),Ge.filter(Je=>Je).forEach(Je=>We.append("index",Je));let Xe=We.toString();qe.search=Xe?`?${Xe}`:""}}return(!Ve||Ve===".")&&ze.route.index&&(qe.search=qe.search?qe.search.replace(/^\?/,"?index&"):"?index"),Be!=="/"&&(qe.pathname=qe.pathname==="/"?Be:joinPaths([Be,qe.pathname])),createPath(qe)}function useViewTransitionState(Ve,{relative:$e}={}){let Be=reactExports.useContext(ViewTransitionContext);invariant$2(Be!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:Ue}=useDataRouterContext3("useViewTransitionState"),ze=useResolvedPath(Ve,{relative:$e});if(!Be.isTransitioning)return!1;let qe=stripBasename(Be.currentLocation.pathname,Ue)||Be.currentLocation.pathname,He=stripBasename(Be.nextLocation.pathname,Ue)||Be.nextLocation.pathname;return matchPath(ze.pathname,He)!=null||matchPath(ze.pathname,qe)!=null}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports),getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(Ve){const $e=[];let Be=0;for(let Ue=0;Ue<Ve.length;Ue++){let ze=Ve.charCodeAt(Ue);ze<128?$e[Be++]=ze:ze<2048?($e[Be++]=ze>>6|192,$e[Be++]=ze&63|128):(ze&64512)===55296&&Ue+1<Ve.length&&(Ve.charCodeAt(Ue+1)&64512)===56320?(ze=65536+((ze&1023)<<10)+(Ve.charCodeAt(++Ue)&1023),$e[Be++]=ze>>18|240,$e[Be++]=ze>>12&63|128,$e[Be++]=ze>>6&63|128,$e[Be++]=ze&63|128):($e[Be++]=ze>>12|224,$e[Be++]=ze>>6&63|128,$e[Be++]=ze&63|128)}return $e},byteArrayToString=function(Ve){const $e=[];let Be=0,Ue=0;for(;Be<Ve.length;){const ze=Ve[Be++];if(ze<128)$e[Ue++]=String.fromCharCode(ze);else if(ze>191&&ze<224){const qe=Ve[Be++];$e[Ue++]=String.fromCharCode((ze&31)<<6|qe&63)}else if(ze>239&&ze<365){const qe=Ve[Be++],He=Ve[Be++],We=Ve[Be++],Ge=((ze&7)<<18|(qe&63)<<12|(He&63)<<6|We&63)-65536;$e[Ue++]=String.fromCharCode(55296+(Ge>>10)),$e[Ue++]=String.fromCharCode(56320+(Ge&1023))}else{const qe=Ve[Be++],He=Ve[Be++];$e[Ue++]=String.fromCharCode((ze&15)<<12|(qe&63)<<6|He&63)}}return $e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(Ve,$e){if(!Array.isArray(Ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Be=$e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ue=[];for(let ze=0;ze<Ve.length;ze+=3){const qe=Ve[ze],He=ze+1<Ve.length,We=He?Ve[ze+1]:0,Ge=ze+2<Ve.length,Ye=Ge?Ve[ze+2]:0,Xe=qe>>2,Je=(qe&3)<<4|We>>4;let er=(We&15)<<2|Ye>>6,Ze=Ye&63;Ge||(Ze=64,He||(er=64)),Ue.push(Be[Xe],Be[Je],Be[er],Be[Ze])}return Ue.join("")},encodeString(Ve,$e){return this.HAS_NATIVE_SUPPORT&&!$e?btoa(Ve):this.encodeByteArray(stringToByteArray$1(Ve),$e)},decodeString(Ve,$e){return this.HAS_NATIVE_SUPPORT&&!$e?atob(Ve):byteArrayToString(this.decodeStringToByteArray(Ve,$e))},decodeStringToByteArray(Ve,$e){this.init_();const Be=$e?this.charToByteMapWebSafe_:this.charToByteMap_,Ue=[];for(let ze=0;ze<Ve.length;){const qe=Be[Ve.charAt(ze++)],We=ze<Ve.length?Be[Ve.charAt(ze)]:0;++ze;const Ye=ze<Ve.length?Be[Ve.charAt(ze)]:64;++ze;const Je=ze<Ve.length?Be[Ve.charAt(ze)]:64;if(++ze,qe==null||We==null||Ye==null||Je==null)throw new DecodeBase64StringError;const er=qe<<2|We>>4;if(Ue.push(er),Ye!==64){const Ze=We<<4&240|Ye>>2;if(Ue.push(Ze),Je!==64){const rr=Ye<<6&192|Je;Ue.push(rr)}}}return Ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ve=0;Ve<this.ENCODED_VALS.length;Ve++)this.byteToCharMap_[Ve]=this.ENCODED_VALS.charAt(Ve),this.charToByteMap_[this.byteToCharMap_[Ve]]=Ve,this.byteToCharMapWebSafe_[Ve]=this.ENCODED_VALS_WEBSAFE.charAt(Ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ve]]=Ve,Ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ve)]=Ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ve)]=Ve)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(Ve){const $e=stringToByteArray$1(Ve);return base64.encodeByteArray($e,!0)},base64urlEncodeWithoutPadding=function(Ve){return base64Encode(Ve).replace(/\./g,"")},base64Decode=function(Ve){try{return base64.decodeString(Ve,!0)}catch($e){console.error("base64Decode failed: ",$e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal$1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal$1().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const Ve=define_process_env_default.__FIREBASE_DEFAULTS__;if(Ve)return JSON.parse(Ve)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let Ve;try{Ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $e=Ve&&base64Decode(Ve[1]);return $e&&JSON.parse($e)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(Ve){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ve}`);return}},getDefaultEmulatorHost=Ve=>getDefaults()?.emulatorHosts?.[Ve],getDefaultEmulatorHostnameAndPort=Ve=>{const $e=getDefaultEmulatorHost(Ve);if(!$e)return;const Be=$e.lastIndexOf(":");if(Be<=0||Be+1===$e.length)throw new Error(`Invalid host ${$e} with no separate hostname and port!`);const Ue=parseInt($e.substring(Be+1),10);return $e[0]==="["?[$e.substring(1,Be-1),Ue]:[$e.substring(0,Be),Ue]},getDefaultAppConfig=()=>getDefaults()?.config,getExperimentalSetting=Ve=>getDefaults()?.[`_${Ve}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Deferred$1=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($e,Be)=>{this.resolve=$e,this.reject=Be})}wrapCallback($e){return(Be,Ue)=>{Be?this.reject(Be):this.resolve(Ue),typeof $e=="function"&&(this.promise.catch(()=>{}),$e.length===1?$e(Be):$e(Be,Ue))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isCloudWorkstation(Ve){try{return(Ve.startsWith("http://")||Ve.startsWith("https://")?new URL(Ve).hostname:Ve).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pingServer(Ve){return(await fetch(Ve,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(Ve,$e){if(Ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Be={alg:"none",type:"JWT"},Ue=$e||"demo-project",ze=Ve.iat||0,qe=Ve.sub||Ve.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const He={iss:`https://securetoken.google.com/${Ue}`,aud:Ue,iat:ze,exp:ze+3600,auth_time:ze,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}},...Ve};return[base64urlEncodeWithoutPadding(JSON.stringify(Be)),base64urlEncodeWithoutPadding(JSON.stringify(He)),""].join(".")}const emulatorStatus={};function getEmulatorSummary(){const Ve={prod:[],emulator:[]};for(const $e of Object.keys(emulatorStatus))emulatorStatus[$e]?Ve.emulator.push($e):Ve.prod.push($e);return Ve}function getOrCreateEl(Ve){let $e=document.getElementById(Ve),Be=!1;return $e||($e=document.createElement("div"),$e.setAttribute("id",Ve),Be=!0),{created:Be,element:$e}}let previouslyDismissed=!1;function updateEmulatorBanner(Ve,$e){if(typeof window>"u"||typeof document>"u"||!isCloudWorkstation(window.location.host)||emulatorStatus[Ve]===$e||emulatorStatus[Ve]||previouslyDismissed)return;emulatorStatus[Ve]=$e;function Be(er){return`__firebase__banner__${er}`}const Ue="__firebase__banner",qe=getEmulatorSummary().prod.length>0;function He(){const er=document.getElementById(Ue);er&&er.remove()}function We(er){er.style.display="flex",er.style.background="#7faaf0",er.style.position="fixed",er.style.bottom="5px",er.style.left="5px",er.style.padding=".5em",er.style.borderRadius="5px",er.style.alignItems="center"}function Ge(er,Ze){er.setAttribute("width","24"),er.setAttribute("id",Ze),er.setAttribute("height","24"),er.setAttribute("viewBox","0 0 24 24"),er.setAttribute("fill","none"),er.style.marginLeft="-6px"}function Ye(){const er=document.createElement("span");return er.style.cursor="pointer",er.style.marginLeft="16px",er.style.fontSize="24px",er.innerHTML=" &times;",er.onclick=()=>{previouslyDismissed=!0,He()},er}function Xe(er,Ze){er.setAttribute("id",Ze),er.innerText="Learn more",er.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",er.setAttribute("target","__blank"),er.style.paddingLeft="5px",er.style.textDecoration="underline"}function Je(){const er=getOrCreateEl(Ue),Ze=Be("text"),rr=document.getElementById(Ze)||document.createElement("span"),nr=Be("learnmore"),ar=document.getElementById(nr)||document.createElement("a"),sr=Be("preprendIcon"),lr=document.getElementById(sr)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(er.created){const or=er.element;We(or),Xe(ar,nr);const cr=Ye();Ge(lr,sr),or.append(lr,rr,ar,cr),document.body.appendChild(or)}qe?(rr.innerText="Preview backend disconnected.",lr.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lr.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,rr.innerText="Preview backend running in this workspace."),rr.setAttribute("id",Ze)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Je):Je()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){const Ve=getDefaults()?.forceEnvironment;if(Ve==="node")return!0;if(Ve==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const Ve=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof Ve=="object"&&Ve.id!==void 0}function isReactNative$1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const Ve=getUA();return Ve.indexOf("MSIE ")>=0||Ve.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((Ve,$e)=>{try{let Be=!0;const Ue="validate-browser-context-for-indexeddb-analytics-module",ze=self.indexedDB.open(Ue);ze.onsuccess=()=>{ze.result.close(),Be||self.indexedDB.deleteDatabase(Ue),Ve(!0)},ze.onupgradeneeded=()=>{Be=!1},ze.onerror=()=>{$e(ze.error?.message||"")}}catch(Be){$e(Be)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor($e,Be,Ue){super(Be),this.code=$e,this.customData=Ue,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor($e,Be,Ue){this.service=$e,this.serviceName=Be,this.errors=Ue}create($e,...Be){const Ue=Be[0]||{},ze=`${this.service}/${$e}`,qe=this.errors[$e],He=qe?replaceTemplate(qe,Ue):"Error",We=`${this.serviceName}: ${He} (${ze}).`;return new FirebaseError(ze,We,Ue)}}function replaceTemplate(Ve,$e){return Ve.replace(PATTERN,(Be,Ue)=>{const ze=$e[Ue];return ze!=null?String(ze):`<${Ue}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(Ve){for(const $e in Ve)if(Object.prototype.hasOwnProperty.call(Ve,$e))return!1;return!0}function deepEqual(Ve,$e){if(Ve===$e)return!0;const Be=Object.keys(Ve),Ue=Object.keys($e);for(const ze of Be){if(!Ue.includes(ze))return!1;const qe=Ve[ze],He=$e[ze];if(isObject$1(qe)&&isObject$1(He)){if(!deepEqual(qe,He))return!1}else if(qe!==He)return!1}for(const ze of Ue)if(!Be.includes(ze))return!1;return!0}function isObject$1(Ve){return Ve!==null&&typeof Ve=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(Ve){const $e=[];for(const[Be,Ue]of Object.entries(Ve))Array.isArray(Ue)?Ue.forEach(ze=>{$e.push(encodeURIComponent(Be)+"="+encodeURIComponent(ze))}):$e.push(encodeURIComponent(Be)+"="+encodeURIComponent(Ue));return $e.length?"&"+$e.join("&"):""}function createSubscribe(Ve,$e){const Be=new ObserverProxy(Ve,$e);return Be.subscribe.bind(Be)}class ObserverProxy{constructor($e,Be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(()=>{$e(this)}).catch(Ue=>{this.error(Ue)})}next($e){this.forEachObserver(Be=>{Be.next($e)})}error($e){this.forEachObserver(Be=>{Be.error($e)}),this.close($e)}complete(){this.forEachObserver($e=>{$e.complete()}),this.close()}subscribe($e,Be,Ue){let ze;if($e===void 0&&Be===void 0&&Ue===void 0)throw new Error("Missing Observer.");implementsAnyMethods($e,["next","error","complete"])?ze=$e:ze={next:$e,error:Be,complete:Ue},ze.next===void 0&&(ze.next=noop$a),ze.error===void 0&&(ze.error=noop$a),ze.complete===void 0&&(ze.complete=noop$a);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ze.error(this.finalError):ze.complete()}catch{}}),this.observers.push(ze),qe}unsubscribeOne($e){this.observers===void 0||this.observers[$e]===void 0||(delete this.observers[$e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver($e){if(!this.finalized)for(let Be=0;Be<this.observers.length;Be++)this.sendOne(Be,$e)}sendOne($e,Be){this.task.then(()=>{if(this.observers!==void 0&&this.observers[$e]!==void 0)try{Be(this.observers[$e])}catch(Ue){typeof console<"u"&&console.error&&console.error(Ue)}})}close($e){this.finalized||(this.finalized=!0,$e!==void 0&&(this.finalError=$e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(Ve,$e){if(typeof Ve!="object"||Ve===null)return!1;for(const Be of $e)if(Be in Ve&&typeof Ve[Be]=="function")return!0;return!1}function noop$a(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=14400*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(Ve,$e=DEFAULT_INTERVAL_MILLIS,Be=DEFAULT_BACKOFF_FACTOR){const Ue=$e*Math.pow(Be,Ve),ze=Math.round(RANDOM_FACTOR*Ue*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,Ue+ze)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(Ve){return Ve&&Ve._delegate?Ve._delegate:Ve}class Component{constructor($e,Be,Ue){this.name=$e,this.instanceFactory=Be,this.type=Ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($e){return this.instantiationMode=$e,this}setMultipleInstances($e){return this.multipleInstances=$e,this}setServiceProps($e){return this.serviceProps=$e,this}setInstanceCreatedCallback($e){return this.onInstanceCreated=$e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Provider$1=class{constructor($e,Be){this.name=$e,this.container=Be,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($e){const Be=this.normalizeInstanceIdentifier($e);if(!this.instancesDeferred.has(Be)){const Ue=new Deferred$1;if(this.instancesDeferred.set(Be,Ue),this.isInitialized(Be)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:Be});ze&&Ue.resolve(ze)}catch{}}return this.instancesDeferred.get(Be).promise}getImmediate($e){const Be=this.normalizeInstanceIdentifier($e?.identifier),Ue=$e?.optional??!1;if(this.isInitialized(Be)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(ze){if(Ue)return null;throw ze}else{if(Ue)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent($e){if($e.name!==this.name)throw Error(`Mismatching Component ${$e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$e,!!this.shouldAutoInitialize()){if(isComponentEager($e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[Be,Ue]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(Be);try{const qe=this.getOrInitializeService({instanceIdentifier:ze});Ue.resolve(qe)}catch{}}}}clearInstance($e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete($e),this.instancesOptions.delete($e),this.instances.delete($e)}async delete(){const $e=Array.from(this.instances.values());await Promise.all([...$e.filter(Be=>"INTERNAL"in Be).map(Be=>Be.INTERNAL.delete()),...$e.filter(Be=>"_delete"in Be).map(Be=>Be._delete())])}isComponentSet(){return this.component!=null}isInitialized($e=DEFAULT_ENTRY_NAME$1){return this.instances.has($e)}getOptions($e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get($e)||{}}initialize($e={}){const{options:Be={}}=$e,Ue=this.normalizeInstanceIdentifier($e.instanceIdentifier);if(this.isInitialized(Ue))throw Error(`${this.name}(${Ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Ue,options:Be});for(const[qe,He]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(qe);Ue===We&&He.resolve(ze)}return ze}onInit($e,Be){const Ue=this.normalizeInstanceIdentifier(Be),ze=this.onInitCallbacks.get(Ue)??new Set;ze.add($e),this.onInitCallbacks.set(Ue,ze);const qe=this.instances.get(Ue);return qe&&$e(qe,Ue),()=>{ze.delete($e)}}invokeOnInitCallbacks($e,Be){const Ue=this.onInitCallbacks.get(Be);if(Ue)for(const ze of Ue)try{ze($e,Be)}catch{}}getOrInitializeService({instanceIdentifier:$e,options:Be={}}){let Ue=this.instances.get($e);if(!Ue&&this.component&&(Ue=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory($e),options:Be}),this.instances.set($e,Ue),this.instancesOptions.set($e,Be),this.invokeOnInitCallbacks(Ue,$e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$e,Ue)}catch{}return Ue||null}normalizeInstanceIdentifier($e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?$e:DEFAULT_ENTRY_NAME$1:$e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function normalizeIdentifierForFactory(Ve){return Ve===DEFAULT_ENTRY_NAME$1?void 0:Ve}function isComponentEager(Ve){return Ve.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor($e){this.name=$e,this.providers=new Map}addComponent($e){const Be=this.getProvider($e.name);if(Be.isComponentSet())throw new Error(`Component ${$e.name} has already been registered with ${this.name}`);Be.setComponent($e)}addOrOverwriteComponent($e){this.getProvider($e.name).isComponentSet()&&this.providers.delete($e.name),this.addComponent($e)}getProvider($e){if(this.providers.has($e))return this.providers.get($e);const Be=new Provider$1($e,this);return this.providers.set($e,Be),Be}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(Ve){Ve[Ve.DEBUG=0]="DEBUG",Ve[Ve.VERBOSE=1]="VERBOSE",Ve[Ve.INFO=2]="INFO",Ve[Ve.WARN=3]="WARN",Ve[Ve.ERROR=4]="ERROR",Ve[Ve.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(Ve,$e,...Be)=>{if($e<Ve.logLevel)return;const Ue=new Date().toISOString(),ze=ConsoleMethod[$e];if(ze)console[ze](`[${Ue}]  ${Ve.name}:`,...Be);else throw new Error(`Attempted to log a message with an invalid logType (value: ${$e})`)};class Logger{constructor($e){this.name=$e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel($e){if(!($e in LogLevel))throw new TypeError(`Invalid value "${$e}" assigned to \`logLevel\``);this._logLevel=$e}setLogLevel($e){this._logLevel=typeof $e=="string"?levelStringToEnum[$e]:$e}get logHandler(){return this._logHandler}set logHandler($e){if(typeof $e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$e}get userLogHandler(){return this._userLogHandler}set userLogHandler($e){this._userLogHandler=$e}debug(...$e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...$e),this._logHandler(this,LogLevel.DEBUG,...$e)}log(...$e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...$e),this._logHandler(this,LogLevel.VERBOSE,...$e)}info(...$e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...$e),this._logHandler(this,LogLevel.INFO,...$e)}warn(...$e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...$e),this._logHandler(this,LogLevel.WARN,...$e)}error(...$e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...$e),this._logHandler(this,LogLevel.ERROR,...$e)}}const instanceOfAny=(Ve,$e)=>$e.some(Be=>Ve instanceof Be);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(Ve){const $e=new Promise((Be,Ue)=>{const ze=()=>{Ve.removeEventListener("success",qe),Ve.removeEventListener("error",He)},qe=()=>{Be(wrap(Ve.result)),ze()},He=()=>{Ue(Ve.error),ze()};Ve.addEventListener("success",qe),Ve.addEventListener("error",He)});return $e.then(Be=>{Be instanceof IDBCursor&&cursorRequestMap.set(Be,Ve)}).catch(()=>{}),reverseTransformCache.set($e,Ve),$e}function cacheDonePromiseForTransaction(Ve){if(transactionDoneMap.has(Ve))return;const $e=new Promise((Be,Ue)=>{const ze=()=>{Ve.removeEventListener("complete",qe),Ve.removeEventListener("error",He),Ve.removeEventListener("abort",He)},qe=()=>{Be(),ze()},He=()=>{Ue(Ve.error||new DOMException("AbortError","AbortError")),ze()};Ve.addEventListener("complete",qe),Ve.addEventListener("error",He),Ve.addEventListener("abort",He)});transactionDoneMap.set(Ve,$e)}let idbProxyTraps={get(Ve,$e,Be){if(Ve instanceof IDBTransaction){if($e==="done")return transactionDoneMap.get(Ve);if($e==="objectStoreNames")return Ve.objectStoreNames||transactionStoreNamesMap.get(Ve);if($e==="store")return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return wrap(Ve[$e])},set(Ve,$e,Be){return Ve[$e]=Be,!0},has(Ve,$e){return Ve instanceof IDBTransaction&&($e==="done"||$e==="store")?!0:$e in Ve}};function replaceTraps(Ve){idbProxyTraps=Ve(idbProxyTraps)}function wrapFunction(Ve){return Ve===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function($e,...Be){const Ue=Ve.call(unwrap(this),$e,...Be);return transactionStoreNamesMap.set(Ue,$e.sort?$e.sort():[$e]),wrap(Ue)}:getCursorAdvanceMethods().includes(Ve)?function(...$e){return Ve.apply(unwrap(this),$e),wrap(cursorRequestMap.get(this))}:function(...$e){return wrap(Ve.apply(unwrap(this),$e))}}function transformCachableValue(Ve){return typeof Ve=="function"?wrapFunction(Ve):(Ve instanceof IDBTransaction&&cacheDonePromiseForTransaction(Ve),instanceOfAny(Ve,getIdbProxyableTypes())?new Proxy(Ve,idbProxyTraps):Ve)}function wrap(Ve){if(Ve instanceof IDBRequest)return promisifyRequest(Ve);if(transformCache.has(Ve))return transformCache.get(Ve);const $e=transformCachableValue(Ve);return $e!==Ve&&(transformCache.set(Ve,$e),reverseTransformCache.set($e,Ve)),$e}const unwrap=Ve=>reverseTransformCache.get(Ve);function openDB(Ve,$e,{blocked:Be,upgrade:Ue,blocking:ze,terminated:qe}={}){const He=indexedDB.open(Ve,$e),We=wrap(He);return Ue&&He.addEventListener("upgradeneeded",Ge=>{Ue(wrap(He.result),Ge.oldVersion,Ge.newVersion,wrap(He.transaction),Ge)}),Be&&He.addEventListener("blocked",Ge=>Be(Ge.oldVersion,Ge.newVersion,Ge)),We.then(Ge=>{qe&&Ge.addEventListener("close",()=>qe()),ze&&Ge.addEventListener("versionchange",Ye=>ze(Ye.oldVersion,Ye.newVersion,Ye))}).catch(()=>{}),We}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(Ve,$e){if(!(Ve instanceof IDBDatabase&&!($e in Ve)&&typeof $e=="string"))return;if(cachedMethods.get($e))return cachedMethods.get($e);const Be=$e.replace(/FromIndex$/,""),Ue=$e!==Be,ze=writeMethods.includes(Be);if(!(Be in(Ue?IDBIndex:IDBObjectStore).prototype)||!(ze||readMethods.includes(Be)))return;const qe=async function(He,...We){const Ge=this.transaction(He,ze?"readwrite":"readonly");let Ye=Ge.store;return Ue&&(Ye=Ye.index(We.shift())),(await Promise.all([Ye[Be](...We),ze&&Ge.done]))[0]};return cachedMethods.set($e,qe),qe}replaceTraps(Ve=>({...Ve,get:($e,Be,Ue)=>getMethod($e,Be)||Ve.get($e,Be,Ue),has:($e,Be)=>!!getMethod($e,Be)||Ve.has($e,Be)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor($e){this.container=$e}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(isVersionServiceProvider(Be)){const Ue=Be.getImmediate();return`${Ue.library}/${Ue.version}`}else return null}).filter(Be=>Be).join(" ")}}function isVersionServiceProvider(Ve){return Ve.getComponent()?.type==="VERSION"}const name$q="@firebase/app",version$1$1="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4$1="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$9="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4$1]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(Ve,$e){try{Ve.container.addComponent($e)}catch(Be){logger$1.debug(`Component ${$e.name} failed to register with FirebaseApp ${Ve.name}`,Be)}}function _registerComponent(Ve){const $e=Ve.name;if(_components.has($e))return logger$1.debug(`There were multiple attempts to register component ${$e}.`),!1;_components.set($e,Ve);for(const Be of _apps.values())_addComponent(Be,Ve);for(const Be of _serverApps.values())_addComponent(Be,Ve);return!0}function _getProvider(Ve,$e){const Be=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),Ve.container.getProvider($e)}function _isFirebaseServerApp(Ve){return Ve==null?!1:Ve.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$2=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor($e,Be,Ue){this._isDeleted=!1,this._options={...$e},this._config={...Be},this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this.checkDestroyed(),this._automaticDataCollectionEnabled=$e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($e){this._isDeleted=$e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$2.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$9;function initializeApp(Ve,$e={}){let Be=Ve;typeof $e!="object"&&($e={name:$e});const Ue={name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0,...$e},ze=Ue.name;if(typeof ze!="string"||!ze)throw ERROR_FACTORY$2.create("bad-app-name",{appName:String(ze)});if(Be||(Be=getDefaultAppConfig()),!Be)throw ERROR_FACTORY$2.create("no-options");const qe=_apps.get(ze);if(qe){if(deepEqual(Be,qe.options)&&deepEqual(Ue,qe.config))return qe;throw ERROR_FACTORY$2.create("duplicate-app",{appName:ze})}const He=new ComponentContainer(ze);for(const Ge of _components.values())He.addComponent(Ge);const We=new FirebaseAppImpl(Be,Ue,He);return _apps.set(ze,We),We}function getApp(Ve=DEFAULT_ENTRY_NAME){const $e=_apps.get(Ve);if(!$e&&Ve===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!$e)throw ERROR_FACTORY$2.create("no-app",{appName:Ve});return $e}function registerVersion(Ve,$e,Be){let Ue=PLATFORM_LOG_STRING[Ve]??Ve;Be&&(Ue+=`-${Be}`);const ze=Ue.match(/\s|\//),qe=$e.match(/\s|\//);if(ze||qe){const He=[`Unable to register library "${Ue}" with version "${$e}":`];ze&&He.push(`library name "${Ue}" contains illegal characters (whitespace or "/")`),ze&&qe&&He.push("and"),qe&&He.push(`version name "${$e}" contains illegal characters (whitespace or "/")`),logger$1.warn(He.join(" "));return}_registerComponent(new Component(`${Ue}-version`,()=>({library:Ue,version:$e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(Ve,$e)=>{switch($e){case 0:try{Ve.createObjectStore(STORE_NAME)}catch(Be){console.warn(Be)}}}}).catch(Ve=>{throw ERROR_FACTORY$2.create("idb-open",{originalErrorMessage:Ve.message})})),dbPromise$1}async function readHeartbeatsFromIndexedDB(Ve){try{const Be=(await getDbPromise$1()).transaction(STORE_NAME),Ue=await Be.objectStore(STORE_NAME).get(computeKey(Ve));return await Be.done,Ue}catch($e){if($e instanceof FirebaseError)logger$1.warn($e.message);else{const Be=ERROR_FACTORY$2.create("idb-get",{originalErrorMessage:$e?.message});logger$1.warn(Be.message)}}}async function writeHeartbeatsToIndexedDB(Ve,$e){try{const Ue=(await getDbPromise$1()).transaction(STORE_NAME,"readwrite");await Ue.objectStore(STORE_NAME).put($e,computeKey(Ve)),await Ue.done}catch(Be){if(Be instanceof FirebaseError)logger$1.warn(Be.message);else{const Ue=ERROR_FACTORY$2.create("idb-set",{originalErrorMessage:Be?.message});logger$1.warn(Ue.message)}}}function computeKey(Ve){return`${Ve.name}!${Ve.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor($e){this.container=$e,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(Be),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}async triggerHeartbeat(){try{const Be=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ue=getUTCDateString();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===Ue||this._heartbeatsCache.heartbeats.some(ze=>ze.date===Ue))return;if(this._heartbeatsCache.heartbeats.push({date:Ue,agent:Be}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const ze=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(ze,1)}return this._storage.overwrite(this._heartbeatsCache)}catch($e){logger$1.warn($e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const $e=getUTCDateString(),{heartbeatsToSend:Be,unsentEntries:Ue}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),ze=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Be}));return this._heartbeatsCache.lastSentHeartbeatDate=$e,Ue.length>0?(this._heartbeatsCache.heartbeats=Ue,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),ze}catch($e){return logger$1.warn($e),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(Ve,$e=MAX_HEADER_BYTES){const Be=[];let Ue=Ve.slice();for(const ze of Ve){const qe=Be.find(He=>He.agent===ze.agent);if(qe){if(qe.dates.push(ze.date),countBytes(Be)>$e){qe.dates.pop();break}}else if(Be.push({agent:ze.agent,dates:[ze.date]}),countBytes(Be)>$e){Be.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:Be,unsentEntries:Ue}}class HeartbeatStorageImpl{constructor($e){this.app=$e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const Be=await readHeartbeatsFromIndexedDB(this.app);return Be?.heartbeats?Be:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite($e){if(await this._canUseIndexedDBPromise){const Ue=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:$e.lastSentHeartbeatDate??Ue.lastSentHeartbeatDate,heartbeats:$e.heartbeats})}else return}async add($e){if(await this._canUseIndexedDBPromise){const Ue=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:$e.lastSentHeartbeatDate??Ue.lastSentHeartbeatDate,heartbeats:[...Ue.heartbeats,...$e.heartbeats]})}else return}}function countBytes(Ve){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Ve})).length}function getEarliestHeartbeatIdx(Ve){if(Ve.length===0)return-1;let $e=0,Be=Ve[0].date;for(let Ue=1;Ue<Ve.length;Ue++)Ve[Ue].date<Be&&(Be=Ve[Ue].date,$e=Ue);return $e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(Ve){_registerComponent(new Component("platform-logger",$e=>new PlatformLoggerServiceImpl($e),"PRIVATE")),_registerComponent(new Component("heartbeat",$e=>new HeartbeatServiceImpl($e),"PRIVATE")),registerVersion(name$q,version$1$1,Ve),registerVersion(name$q,version$1$1,"esm2020"),registerVersion("fire-js","")}registerCoreComponents("");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var Ve;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function $e(mr,vr){function _r(){}_r.prototype=vr.prototype,mr.F=vr.prototype,mr.prototype=new _r,mr.prototype.constructor=mr,mr.D=function(Cr,br,fr){for(var Sr=Array(arguments.length-2),Dr=2;Dr<arguments.length;Dr++)Sr[Dr-2]=arguments[Dr];return vr.prototype[br].apply(Cr,Sr)}}function Be(){this.blockSize=-1}function Ue(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}$e(Ue,Be),Ue.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function ze(mr,vr,_r){_r||(_r=0);const Cr=Array(16);if(typeof vr=="string")for(var br=0;br<16;++br)Cr[br]=vr.charCodeAt(_r++)|vr.charCodeAt(_r++)<<8|vr.charCodeAt(_r++)<<16|vr.charCodeAt(_r++)<<24;else for(br=0;br<16;++br)Cr[br]=vr[_r++]|vr[_r++]<<8|vr[_r++]<<16|vr[_r++]<<24;vr=mr.g[0],_r=mr.g[1],br=mr.g[2];let fr=mr.g[3],Sr;Sr=vr+(fr^_r&(br^fr))+Cr[0]+3614090360&4294967295,vr=_r+(Sr<<7&4294967295|Sr>>>25),Sr=fr+(br^vr&(_r^br))+Cr[1]+3905402710&4294967295,fr=vr+(Sr<<12&4294967295|Sr>>>20),Sr=br+(_r^fr&(vr^_r))+Cr[2]+606105819&4294967295,br=fr+(Sr<<17&4294967295|Sr>>>15),Sr=_r+(vr^br&(fr^vr))+Cr[3]+3250441966&4294967295,_r=br+(Sr<<22&4294967295|Sr>>>10),Sr=vr+(fr^_r&(br^fr))+Cr[4]+4118548399&4294967295,vr=_r+(Sr<<7&4294967295|Sr>>>25),Sr=fr+(br^vr&(_r^br))+Cr[5]+1200080426&4294967295,fr=vr+(Sr<<12&4294967295|Sr>>>20),Sr=br+(_r^fr&(vr^_r))+Cr[6]+2821735955&4294967295,br=fr+(Sr<<17&4294967295|Sr>>>15),Sr=_r+(vr^br&(fr^vr))+Cr[7]+4249261313&4294967295,_r=br+(Sr<<22&4294967295|Sr>>>10),Sr=vr+(fr^_r&(br^fr))+Cr[8]+1770035416&4294967295,vr=_r+(Sr<<7&4294967295|Sr>>>25),Sr=fr+(br^vr&(_r^br))+Cr[9]+2336552879&4294967295,fr=vr+(Sr<<12&4294967295|Sr>>>20),Sr=br+(_r^fr&(vr^_r))+Cr[10]+4294925233&4294967295,br=fr+(Sr<<17&4294967295|Sr>>>15),Sr=_r+(vr^br&(fr^vr))+Cr[11]+2304563134&4294967295,_r=br+(Sr<<22&4294967295|Sr>>>10),Sr=vr+(fr^_r&(br^fr))+Cr[12]+1804603682&4294967295,vr=_r+(Sr<<7&4294967295|Sr>>>25),Sr=fr+(br^vr&(_r^br))+Cr[13]+4254626195&4294967295,fr=vr+(Sr<<12&4294967295|Sr>>>20),Sr=br+(_r^fr&(vr^_r))+Cr[14]+2792965006&4294967295,br=fr+(Sr<<17&4294967295|Sr>>>15),Sr=_r+(vr^br&(fr^vr))+Cr[15]+1236535329&4294967295,_r=br+(Sr<<22&4294967295|Sr>>>10),Sr=vr+(br^fr&(_r^br))+Cr[1]+4129170786&4294967295,vr=_r+(Sr<<5&4294967295|Sr>>>27),Sr=fr+(_r^br&(vr^_r))+Cr[6]+3225465664&4294967295,fr=vr+(Sr<<9&4294967295|Sr>>>23),Sr=br+(vr^_r&(fr^vr))+Cr[11]+643717713&4294967295,br=fr+(Sr<<14&4294967295|Sr>>>18),Sr=_r+(fr^vr&(br^fr))+Cr[0]+3921069994&4294967295,_r=br+(Sr<<20&4294967295|Sr>>>12),Sr=vr+(br^fr&(_r^br))+Cr[5]+3593408605&4294967295,vr=_r+(Sr<<5&4294967295|Sr>>>27),Sr=fr+(_r^br&(vr^_r))+Cr[10]+38016083&4294967295,fr=vr+(Sr<<9&4294967295|Sr>>>23),Sr=br+(vr^_r&(fr^vr))+Cr[15]+3634488961&4294967295,br=fr+(Sr<<14&4294967295|Sr>>>18),Sr=_r+(fr^vr&(br^fr))+Cr[4]+3889429448&4294967295,_r=br+(Sr<<20&4294967295|Sr>>>12),Sr=vr+(br^fr&(_r^br))+Cr[9]+568446438&4294967295,vr=_r+(Sr<<5&4294967295|Sr>>>27),Sr=fr+(_r^br&(vr^_r))+Cr[14]+3275163606&4294967295,fr=vr+(Sr<<9&4294967295|Sr>>>23),Sr=br+(vr^_r&(fr^vr))+Cr[3]+4107603335&4294967295,br=fr+(Sr<<14&4294967295|Sr>>>18),Sr=_r+(fr^vr&(br^fr))+Cr[8]+1163531501&4294967295,_r=br+(Sr<<20&4294967295|Sr>>>12),Sr=vr+(br^fr&(_r^br))+Cr[13]+2850285829&4294967295,vr=_r+(Sr<<5&4294967295|Sr>>>27),Sr=fr+(_r^br&(vr^_r))+Cr[2]+4243563512&4294967295,fr=vr+(Sr<<9&4294967295|Sr>>>23),Sr=br+(vr^_r&(fr^vr))+Cr[7]+1735328473&4294967295,br=fr+(Sr<<14&4294967295|Sr>>>18),Sr=_r+(fr^vr&(br^fr))+Cr[12]+2368359562&4294967295,_r=br+(Sr<<20&4294967295|Sr>>>12),Sr=vr+(_r^br^fr)+Cr[5]+4294588738&4294967295,vr=_r+(Sr<<4&4294967295|Sr>>>28),Sr=fr+(vr^_r^br)+Cr[8]+2272392833&4294967295,fr=vr+(Sr<<11&4294967295|Sr>>>21),Sr=br+(fr^vr^_r)+Cr[11]+1839030562&4294967295,br=fr+(Sr<<16&4294967295|Sr>>>16),Sr=_r+(br^fr^vr)+Cr[14]+4259657740&4294967295,_r=br+(Sr<<23&4294967295|Sr>>>9),Sr=vr+(_r^br^fr)+Cr[1]+2763975236&4294967295,vr=_r+(Sr<<4&4294967295|Sr>>>28),Sr=fr+(vr^_r^br)+Cr[4]+1272893353&4294967295,fr=vr+(Sr<<11&4294967295|Sr>>>21),Sr=br+(fr^vr^_r)+Cr[7]+4139469664&4294967295,br=fr+(Sr<<16&4294967295|Sr>>>16),Sr=_r+(br^fr^vr)+Cr[10]+3200236656&4294967295,_r=br+(Sr<<23&4294967295|Sr>>>9),Sr=vr+(_r^br^fr)+Cr[13]+681279174&4294967295,vr=_r+(Sr<<4&4294967295|Sr>>>28),Sr=fr+(vr^_r^br)+Cr[0]+3936430074&4294967295,fr=vr+(Sr<<11&4294967295|Sr>>>21),Sr=br+(fr^vr^_r)+Cr[3]+3572445317&4294967295,br=fr+(Sr<<16&4294967295|Sr>>>16),Sr=_r+(br^fr^vr)+Cr[6]+76029189&4294967295,_r=br+(Sr<<23&4294967295|Sr>>>9),Sr=vr+(_r^br^fr)+Cr[9]+3654602809&4294967295,vr=_r+(Sr<<4&4294967295|Sr>>>28),Sr=fr+(vr^_r^br)+Cr[12]+3873151461&4294967295,fr=vr+(Sr<<11&4294967295|Sr>>>21),Sr=br+(fr^vr^_r)+Cr[15]+530742520&4294967295,br=fr+(Sr<<16&4294967295|Sr>>>16),Sr=_r+(br^fr^vr)+Cr[2]+3299628645&4294967295,_r=br+(Sr<<23&4294967295|Sr>>>9),Sr=vr+(br^(_r|~fr))+Cr[0]+4096336452&4294967295,vr=_r+(Sr<<6&4294967295|Sr>>>26),Sr=fr+(_r^(vr|~br))+Cr[7]+1126891415&4294967295,fr=vr+(Sr<<10&4294967295|Sr>>>22),Sr=br+(vr^(fr|~_r))+Cr[14]+2878612391&4294967295,br=fr+(Sr<<15&4294967295|Sr>>>17),Sr=_r+(fr^(br|~vr))+Cr[5]+4237533241&4294967295,_r=br+(Sr<<21&4294967295|Sr>>>11),Sr=vr+(br^(_r|~fr))+Cr[12]+1700485571&4294967295,vr=_r+(Sr<<6&4294967295|Sr>>>26),Sr=fr+(_r^(vr|~br))+Cr[3]+2399980690&4294967295,fr=vr+(Sr<<10&4294967295|Sr>>>22),Sr=br+(vr^(fr|~_r))+Cr[10]+4293915773&4294967295,br=fr+(Sr<<15&4294967295|Sr>>>17),Sr=_r+(fr^(br|~vr))+Cr[1]+2240044497&4294967295,_r=br+(Sr<<21&4294967295|Sr>>>11),Sr=vr+(br^(_r|~fr))+Cr[8]+1873313359&4294967295,vr=_r+(Sr<<6&4294967295|Sr>>>26),Sr=fr+(_r^(vr|~br))+Cr[15]+4264355552&4294967295,fr=vr+(Sr<<10&4294967295|Sr>>>22),Sr=br+(vr^(fr|~_r))+Cr[6]+2734768916&4294967295,br=fr+(Sr<<15&4294967295|Sr>>>17),Sr=_r+(fr^(br|~vr))+Cr[13]+1309151649&4294967295,_r=br+(Sr<<21&4294967295|Sr>>>11),Sr=vr+(br^(_r|~fr))+Cr[4]+4149444226&4294967295,vr=_r+(Sr<<6&4294967295|Sr>>>26),Sr=fr+(_r^(vr|~br))+Cr[11]+3174756917&4294967295,fr=vr+(Sr<<10&4294967295|Sr>>>22),Sr=br+(vr^(fr|~_r))+Cr[2]+718787259&4294967295,br=fr+(Sr<<15&4294967295|Sr>>>17),Sr=_r+(fr^(br|~vr))+Cr[9]+3951481745&4294967295,mr.g[0]=mr.g[0]+vr&4294967295,mr.g[1]=mr.g[1]+(br+(Sr<<21&4294967295|Sr>>>11))&4294967295,mr.g[2]=mr.g[2]+br&4294967295,mr.g[3]=mr.g[3]+fr&4294967295}Ue.prototype.v=function(mr,vr){vr===void 0&&(vr=mr.length);const _r=vr-this.blockSize,Cr=this.C;let br=this.h,fr=0;for(;fr<vr;){if(br==0)for(;fr<=_r;)ze(this,mr,fr),fr+=this.blockSize;if(typeof mr=="string"){for(;fr<vr;)if(Cr[br++]=mr.charCodeAt(fr++),br==this.blockSize){ze(this,Cr),br=0;break}}else for(;fr<vr;)if(Cr[br++]=mr[fr++],br==this.blockSize){ze(this,Cr),br=0;break}}this.h=br,this.o+=vr},Ue.prototype.A=function(){var mr=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);mr[0]=128;for(var vr=1;vr<mr.length-8;++vr)mr[vr]=0;vr=this.o*8;for(var _r=mr.length-8;_r<mr.length;++_r)mr[_r]=vr&255,vr/=256;for(this.v(mr),mr=Array(16),vr=0,_r=0;_r<4;++_r)for(let Cr=0;Cr<32;Cr+=8)mr[vr++]=this.g[_r]>>>Cr&255;return mr};function qe(mr,vr){var _r=We;return Object.prototype.hasOwnProperty.call(_r,mr)?_r[mr]:_r[mr]=vr(mr)}function He(mr,vr){this.h=vr;const _r=[];let Cr=!0;for(let br=mr.length-1;br>=0;br--){const fr=mr[br]|0;Cr&&fr==vr||(_r[br]=fr,Cr=!1)}this.g=_r}var We={};function Ge(mr){return-128<=mr&&mr<128?qe(mr,function(vr){return new He([vr|0],vr<0?-1:0)}):new He([mr|0],mr<0?-1:0)}function Ye(mr){if(isNaN(mr)||!isFinite(mr))return Je;if(mr<0)return ar(Ye(-mr));const vr=[];let _r=1;for(let Cr=0;mr>=_r;Cr++)vr[Cr]=mr/_r|0,_r*=4294967296;return new He(vr,0)}function Xe(mr,vr){if(mr.length==0)throw Error("number format error: empty string");if(vr=vr||10,vr<2||36<vr)throw Error("radix out of range: "+vr);if(mr.charAt(0)=="-")return ar(Xe(mr.substring(1),vr));if(mr.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _r=Ye(Math.pow(vr,8));let Cr=Je;for(let fr=0;fr<mr.length;fr+=8){var br=Math.min(8,mr.length-fr);const Sr=parseInt(mr.substring(fr,fr+br),vr);br<8?(br=Ye(Math.pow(vr,br)),Cr=Cr.j(br).add(Ye(Sr))):(Cr=Cr.j(_r),Cr=Cr.add(Ye(Sr)))}return Cr}var Je=Ge(0),er=Ge(1),Ze=Ge(16777216);Ve=He.prototype,Ve.m=function(){if(nr(this))return-ar(this).m();let mr=0,vr=1;for(let _r=0;_r<this.g.length;_r++){const Cr=this.i(_r);mr+=(Cr>=0?Cr:4294967296+Cr)*vr,vr*=4294967296}return mr},Ve.toString=function(mr){if(mr=mr||10,mr<2||36<mr)throw Error("radix out of range: "+mr);if(rr(this))return"0";if(nr(this))return"-"+ar(this).toString(mr);const vr=Ye(Math.pow(mr,6));var _r=this;let Cr="";for(;;){const br=cr(_r,vr).g;_r=sr(_r,br.j(vr));let fr=((_r.g.length>0?_r.g[0]:_r.h)>>>0).toString(mr);if(_r=br,rr(_r))return fr+Cr;for(;fr.length<6;)fr="0"+fr;Cr=fr+Cr}},Ve.i=function(mr){return mr<0?0:mr<this.g.length?this.g[mr]:this.h};function rr(mr){if(mr.h!=0)return!1;for(let vr=0;vr<mr.g.length;vr++)if(mr.g[vr]!=0)return!1;return!0}function nr(mr){return mr.h==-1}Ve.l=function(mr){return mr=sr(this,mr),nr(mr)?-1:rr(mr)?0:1};function ar(mr){const vr=mr.g.length,_r=[];for(let Cr=0;Cr<vr;Cr++)_r[Cr]=~mr.g[Cr];return new He(_r,~mr.h).add(er)}Ve.abs=function(){return nr(this)?ar(this):this},Ve.add=function(mr){const vr=Math.max(this.g.length,mr.g.length),_r=[];let Cr=0;for(let br=0;br<=vr;br++){let fr=Cr+(this.i(br)&65535)+(mr.i(br)&65535),Sr=(fr>>>16)+(this.i(br)>>>16)+(mr.i(br)>>>16);Cr=Sr>>>16,fr&=65535,Sr&=65535,_r[br]=Sr<<16|fr}return new He(_r,_r[_r.length-1]&-2147483648?-1:0)};function sr(mr,vr){return mr.add(ar(vr))}Ve.j=function(mr){if(rr(this)||rr(mr))return Je;if(nr(this))return nr(mr)?ar(this).j(ar(mr)):ar(ar(this).j(mr));if(nr(mr))return ar(this.j(ar(mr)));if(this.l(Ze)<0&&mr.l(Ze)<0)return Ye(this.m()*mr.m());const vr=this.g.length+mr.g.length,_r=[];for(var Cr=0;Cr<2*vr;Cr++)_r[Cr]=0;for(Cr=0;Cr<this.g.length;Cr++)for(let br=0;br<mr.g.length;br++){const fr=this.i(Cr)>>>16,Sr=this.i(Cr)&65535,Dr=mr.i(br)>>>16,Or=mr.i(br)&65535;_r[2*Cr+2*br]+=Sr*Or,lr(_r,2*Cr+2*br),_r[2*Cr+2*br+1]+=fr*Or,lr(_r,2*Cr+2*br+1),_r[2*Cr+2*br+1]+=Sr*Dr,lr(_r,2*Cr+2*br+1),_r[2*Cr+2*br+2]+=fr*Dr,lr(_r,2*Cr+2*br+2)}for(mr=0;mr<vr;mr++)_r[mr]=_r[2*mr+1]<<16|_r[2*mr];for(mr=vr;mr<2*vr;mr++)_r[mr]=0;return new He(_r,0)};function lr(mr,vr){for(;(mr[vr]&65535)!=mr[vr];)mr[vr+1]+=mr[vr]>>>16,mr[vr]&=65535,vr++}function or(mr,vr){this.g=mr,this.h=vr}function cr(mr,vr){if(rr(vr))throw Error("division by zero");if(rr(mr))return new or(Je,Je);if(nr(mr))return vr=cr(ar(mr),vr),new or(ar(vr.g),ar(vr.h));if(nr(vr))return vr=cr(mr,ar(vr)),new or(ar(vr.g),vr.h);if(mr.g.length>30){if(nr(mr)||nr(vr))throw Error("slowDivide_ only works with positive integers.");for(var _r=er,Cr=vr;Cr.l(mr)<=0;)_r=hr(_r),Cr=hr(Cr);var br=yr(_r,1),fr=yr(Cr,1);for(Cr=yr(Cr,2),_r=yr(_r,2);!rr(Cr);){var Sr=fr.add(Cr);Sr.l(mr)<=0&&(br=br.add(_r),fr=Sr),Cr=yr(Cr,1),_r=yr(_r,1)}return vr=sr(mr,br.j(vr)),new or(br,vr)}for(br=Je;mr.l(vr)>=0;){for(_r=Math.max(1,Math.floor(mr.m()/vr.m())),Cr=Math.ceil(Math.log(_r)/Math.LN2),Cr=Cr<=48?1:Math.pow(2,Cr-48),fr=Ye(_r),Sr=fr.j(vr);nr(Sr)||Sr.l(mr)>0;)_r-=Cr,fr=Ye(_r),Sr=fr.j(vr);rr(fr)&&(fr=er),br=br.add(fr),mr=sr(mr,Sr)}return new or(br,mr)}Ve.B=function(mr){return cr(this,mr).h},Ve.and=function(mr){const vr=Math.max(this.g.length,mr.g.length),_r=[];for(let Cr=0;Cr<vr;Cr++)_r[Cr]=this.i(Cr)&mr.i(Cr);return new He(_r,this.h&mr.h)},Ve.or=function(mr){const vr=Math.max(this.g.length,mr.g.length),_r=[];for(let Cr=0;Cr<vr;Cr++)_r[Cr]=this.i(Cr)|mr.i(Cr);return new He(_r,this.h|mr.h)},Ve.xor=function(mr){const vr=Math.max(this.g.length,mr.g.length),_r=[];for(let Cr=0;Cr<vr;Cr++)_r[Cr]=this.i(Cr)^mr.i(Cr);return new He(_r,this.h^mr.h)};function hr(mr){const vr=mr.g.length+1,_r=[];for(let Cr=0;Cr<vr;Cr++)_r[Cr]=mr.i(Cr)<<1|mr.i(Cr-1)>>>31;return new He(_r,mr.h)}function yr(mr,vr){const _r=vr>>5;vr%=32;const Cr=mr.g.length-_r,br=[];for(let fr=0;fr<Cr;fr++)br[fr]=vr>0?mr.i(fr+_r)>>>vr|mr.i(fr+_r+1)<<32-vr:mr.i(fr+_r);return new He(br,mr.h)}Ue.prototype.digest=Ue.prototype.A,Ue.prototype.reset=Ue.prototype.u,Ue.prototype.update=Ue.prototype.v,Md5=Ue,He.prototype.add=He.prototype.add,He.prototype.multiply=He.prototype.j,He.prototype.modulo=He.prototype.B,He.prototype.compare=He.prototype.l,He.prototype.toNumber=He.prototype.m,He.prototype.toString=He.prototype.toString,He.prototype.getBits=He.prototype.i,He.fromNumber=Ye,He.fromString=Xe,Integer=He}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var Ve,$e=Object.defineProperty;function Be(dr){dr=[typeof globalThis=="object"&&globalThis,dr,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var Ir=0;Ir<dr.length;++Ir){var Fr=dr[Ir];if(Fr&&Fr.Math==Math)return Fr}throw Error("Cannot find global object")}var Ue=Be(this);function ze(dr,Ir){if(Ir)e:{var Fr=Ue;dr=dr.split(".");for(var Xr=0;Xr<dr.length-1;Xr++){var kn=dr[Xr];if(!(kn in Fr))break e;Fr=Fr[kn]}dr=dr[dr.length-1],Xr=Fr[dr],Ir=Ir(Xr),Ir!=Xr&&Ir!=null&&$e(Fr,dr,{configurable:!0,writable:!0,value:Ir})}}ze("Symbol.dispose",function(dr){return dr||Symbol("Symbol.dispose")}),ze("Array.prototype.values",function(dr){return dr||function(){return this[Symbol.iterator]()}}),ze("Object.entries",function(dr){return dr||function(Ir){var Fr=[],Xr;for(Xr in Ir)Object.prototype.hasOwnProperty.call(Ir,Xr)&&Fr.push([Xr,Ir[Xr]]);return Fr}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var qe=qe||{},He=this||self;function We(dr){var Ir=typeof dr;return Ir=="object"&&dr!=null||Ir=="function"}function Ge(dr,Ir,Fr){return dr.call.apply(dr.bind,arguments)}function Ye(dr,Ir,Fr){return Ye=Ge,Ye.apply(null,arguments)}function Xe(dr,Ir){var Fr=Array.prototype.slice.call(arguments,1);return function(){var Xr=Fr.slice();return Xr.push.apply(Xr,arguments),dr.apply(this,Xr)}}function Je(dr,Ir){function Fr(){}Fr.prototype=Ir.prototype,dr.Z=Ir.prototype,dr.prototype=new Fr,dr.prototype.constructor=dr,dr.Ob=function(Xr,kn,Fn){for(var ci=Array(arguments.length-2),Ki=2;Ki<arguments.length;Ki++)ci[Ki-2]=arguments[Ki];return Ir.prototype[kn].apply(Xr,ci)}}var er=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?dr=>dr&&AsyncContext.Snapshot.wrap(dr):dr=>dr;function Ze(dr){const Ir=dr.length;if(Ir>0){const Fr=Array(Ir);for(let Xr=0;Xr<Ir;Xr++)Fr[Xr]=dr[Xr];return Fr}return[]}function rr(dr,Ir){for(let Xr=1;Xr<arguments.length;Xr++){const kn=arguments[Xr];var Fr=typeof kn;if(Fr=Fr!="object"?Fr:kn?Array.isArray(kn)?"array":Fr:"null",Fr=="array"||Fr=="object"&&typeof kn.length=="number"){Fr=dr.length||0;const Fn=kn.length||0;dr.length=Fr+Fn;for(let ci=0;ci<Fn;ci++)dr[Fr+ci]=kn[ci]}else dr.push(kn)}}class nr{constructor(Ir,Fr){this.i=Ir,this.j=Fr,this.h=0,this.g=null}get(){let Ir;return this.h>0?(this.h--,Ir=this.g,this.g=Ir.next,Ir.next=null):Ir=this.i(),Ir}}function ar(dr){He.setTimeout(()=>{throw dr},0)}function sr(){var dr=mr;let Ir=null;return dr.g&&(Ir=dr.g,dr.g=dr.g.next,dr.g||(dr.h=null),Ir.next=null),Ir}class lr{constructor(){this.h=this.g=null}add(Ir,Fr){const Xr=or.get();Xr.set(Ir,Fr),this.h?this.h.next=Xr:this.g=Xr,this.h=Xr}}var or=new nr(()=>new cr,dr=>dr.reset());class cr{constructor(){this.next=this.g=this.h=null}set(Ir,Fr){this.h=Ir,this.g=Fr,this.next=null}reset(){this.next=this.g=this.h=null}}let hr,yr=!1,mr=new lr,vr=()=>{const dr=Promise.resolve(void 0);hr=()=>{dr.then(_r)}};function _r(){for(var dr;dr=sr();){try{dr.h.call(dr.g)}catch(Fr){ar(Fr)}var Ir=or;Ir.j(dr),Ir.h<100&&(Ir.h++,dr.next=Ir.g,Ir.g=dr)}yr=!1}function Cr(){this.u=this.u,this.C=this.C}Cr.prototype.u=!1,Cr.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Cr.prototype[Symbol.dispose]=function(){this.dispose()},Cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function br(dr,Ir){this.type=dr,this.g=this.target=Ir,this.defaultPrevented=!1}br.prototype.h=function(){this.defaultPrevented=!0};var fr=(function(){if(!He.addEventListener||!Object.defineProperty)return!1;var dr=!1,Ir=Object.defineProperty({},"passive",{get:function(){dr=!0}});try{const Fr=()=>{};He.addEventListener("test",Fr,Ir),He.removeEventListener("test",Fr,Ir)}catch{}return dr})();function Sr(dr){return/^[\s\xa0]*$/.test(dr)}function Dr(dr,Ir){br.call(this,dr?dr.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,dr&&this.init(dr,Ir)}Je(Dr,br),Dr.prototype.init=function(dr,Ir){const Fr=this.type=dr.type,Xr=dr.changedTouches&&dr.changedTouches.length?dr.changedTouches[0]:null;this.target=dr.target||dr.srcElement,this.g=Ir,Ir=dr.relatedTarget,Ir||(Fr=="mouseover"?Ir=dr.fromElement:Fr=="mouseout"&&(Ir=dr.toElement)),this.relatedTarget=Ir,Xr?(this.clientX=Xr.clientX!==void 0?Xr.clientX:Xr.pageX,this.clientY=Xr.clientY!==void 0?Xr.clientY:Xr.pageY,this.screenX=Xr.screenX||0,this.screenY=Xr.screenY||0):(this.clientX=dr.clientX!==void 0?dr.clientX:dr.pageX,this.clientY=dr.clientY!==void 0?dr.clientY:dr.pageY,this.screenX=dr.screenX||0,this.screenY=dr.screenY||0),this.button=dr.button,this.key=dr.key||"",this.ctrlKey=dr.ctrlKey,this.altKey=dr.altKey,this.shiftKey=dr.shiftKey,this.metaKey=dr.metaKey,this.pointerId=dr.pointerId||0,this.pointerType=dr.pointerType,this.state=dr.state,this.i=dr,dr.defaultPrevented&&Dr.Z.h.call(this)},Dr.prototype.h=function(){Dr.Z.h.call(this);const dr=this.i;dr.preventDefault?dr.preventDefault():dr.returnValue=!1};var Or="closure_listenable_"+(Math.random()*1e6|0),Er=0;function Nr(dr,Ir,Fr,Xr,kn){this.listener=dr,this.proxy=null,this.src=Ir,this.type=Fr,this.capture=!!Xr,this.ha=kn,this.key=++Er,this.da=this.fa=!1}function wr(dr){dr.da=!0,dr.listener=null,dr.proxy=null,dr.src=null,dr.ha=null}function Ar(dr,Ir,Fr){for(const Xr in dr)Ir.call(Fr,dr[Xr],Xr,dr)}function Lr(dr,Ir){for(const Fr in dr)Ir.call(void 0,dr[Fr],Fr,dr)}function Pr(dr){const Ir={};for(const Fr in dr)Ir[Fr]=dr[Fr];return Ir}const Tr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vr(dr,Ir){let Fr,Xr;for(let kn=1;kn<arguments.length;kn++){Xr=arguments[kn];for(Fr in Xr)dr[Fr]=Xr[Fr];for(let Fn=0;Fn<Tr.length;Fn++)Fr=Tr[Fn],Object.prototype.hasOwnProperty.call(Xr,Fr)&&(dr[Fr]=Xr[Fr])}}function Ur(dr){this.src=dr,this.g={},this.h=0}Ur.prototype.add=function(dr,Ir,Fr,Xr,kn){const Fn=dr.toString();dr=this.g[Fn],dr||(dr=this.g[Fn]=[],this.h++);const ci=Qr(dr,Ir,Xr,kn);return ci>-1?(Ir=dr[ci],Fr||(Ir.fa=!1)):(Ir=new Nr(Ir,this.src,Fn,!!Xr,kn),Ir.fa=Fr,dr.push(Ir)),Ir};function Yr(dr,Ir){const Fr=Ir.type;if(Fr in dr.g){var Xr=dr.g[Fr],kn=Array.prototype.indexOf.call(Xr,Ir,void 0),Fn;(Fn=kn>=0)&&Array.prototype.splice.call(Xr,kn,1),Fn&&(wr(Ir),dr.g[Fr].length==0&&(delete dr.g[Fr],dr.h--))}}function Qr(dr,Ir,Fr,Xr){for(let kn=0;kn<dr.length;++kn){const Fn=dr[kn];if(!Fn.da&&Fn.listener==Ir&&Fn.capture==!!Fr&&Fn.ha==Xr)return kn}return-1}var mn="closure_lm_"+(Math.random()*1e6|0),An={};function Zr(dr,Ir,Fr,Xr,kn){if(Array.isArray(Ir)){for(let Fn=0;Fn<Ir.length;Fn++)Zr(dr,Ir[Fn],Fr,Xr,kn);return null}return Fr=ii(Fr),dr&&dr[Or]?dr.J(Ir,Fr,We(Xr)?!!Xr.capture:!1,kn):bn(dr,Ir,Fr,!1,Xr,kn)}function bn(dr,Ir,Fr,Xr,kn,Fn){if(!Ir)throw Error("Invalid event type");const ci=We(kn)?!!kn.capture:!!kn;let Ki=Un(dr);if(Ki||(dr[mn]=Ki=new Ur(dr)),Fr=Ki.add(Ir,Fr,Xr,ci,Fn),Fr.proxy)return Fr;if(Xr=jn(),Fr.proxy=Xr,Xr.src=dr,Xr.listener=Fr,dr.addEventListener)fr||(kn=ci),kn===void 0&&(kn=!1),dr.addEventListener(Ir.toString(),Xr,kn);else if(dr.attachEvent)dr.attachEvent(Sn(Ir.toString()),Xr);else if(dr.addListener&&dr.removeListener)dr.addListener(Xr);else throw Error("addEventListener and attachEvent are unavailable.");return Fr}function jn(){function dr(Fr){return Ir.call(dr.src,dr.listener,Fr)}const Ir=Gr;return dr}function gn(dr,Ir,Fr,Xr,kn){if(Array.isArray(Ir))for(var Fn=0;Fn<Ir.length;Fn++)gn(dr,Ir[Fn],Fr,Xr,kn);else Xr=We(Xr)?!!Xr.capture:!!Xr,Fr=ii(Fr),dr&&dr[Or]?(dr=dr.i,Fn=String(Ir).toString(),Fn in dr.g&&(Ir=dr.g[Fn],Fr=Qr(Ir,Fr,Xr,kn),Fr>-1&&(wr(Ir[Fr]),Array.prototype.splice.call(Ir,Fr,1),Ir.length==0&&(delete dr.g[Fn],dr.h--)))):dr&&(dr=Un(dr))&&(Ir=dr.g[Ir.toString()],dr=-1,Ir&&(dr=Qr(Ir,Fr,Xr,kn)),(Fr=dr>-1?Ir[dr]:null)&&In(Fr))}function In(dr){if(typeof dr!="number"&&dr&&!dr.da){var Ir=dr.src;if(Ir&&Ir[Or])Yr(Ir.i,dr);else{var Fr=dr.type,Xr=dr.proxy;Ir.removeEventListener?Ir.removeEventListener(Fr,Xr,dr.capture):Ir.detachEvent?Ir.detachEvent(Sn(Fr),Xr):Ir.addListener&&Ir.removeListener&&Ir.removeListener(Xr),(Fr=Un(Ir))?(Yr(Fr,dr),Fr.h==0&&(Fr.src=null,Ir[mn]=null)):wr(dr)}}}function Sn(dr){return dr in An?An[dr]:An[dr]="on"+dr}function Gr(dr,Ir){if(dr.da)dr=!0;else{Ir=new Dr(Ir,this);const Fr=dr.listener,Xr=dr.ha||dr.src;dr.fa&&In(dr),dr=Fr.call(Xr,Ir)}return dr}function Un(dr){return dr=dr[mn],dr instanceof Ur?dr:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function ii(dr){return typeof dr=="function"?dr:(dr[di]||(dr[di]=function(Ir){return dr.handleEvent(Ir)}),dr[di])}function Vn(){Cr.call(this),this.i=new Ur(this),this.M=this,this.G=null}Je(Vn,Cr),Vn.prototype[Or]=!0,Vn.prototype.removeEventListener=function(dr,Ir,Fr,Xr){gn(this,dr,Ir,Fr,Xr)};function zn(dr,Ir){var Fr,Xr=dr.G;if(Xr)for(Fr=[];Xr;Xr=Xr.G)Fr.push(Xr);if(dr=dr.M,Xr=Ir.type||Ir,typeof Ir=="string")Ir=new br(Ir,dr);else if(Ir instanceof br)Ir.target=Ir.target||dr;else{var kn=Ir;Ir=new br(Xr,dr),Vr(Ir,kn)}kn=!0;let Fn,ci;if(Fr)for(ci=Fr.length-1;ci>=0;ci--)Fn=Ir.g=Fr[ci],kn=Qn(Fn,Xr,!0,Ir)&&kn;if(Fn=Ir.g=dr,kn=Qn(Fn,Xr,!0,Ir)&&kn,kn=Qn(Fn,Xr,!1,Ir)&&kn,Fr)for(ci=0;ci<Fr.length;ci++)Fn=Ir.g=Fr[ci],kn=Qn(Fn,Xr,!1,Ir)&&kn}Vn.prototype.N=function(){if(Vn.Z.N.call(this),this.i){var dr=this.i;for(const Ir in dr.g){const Fr=dr.g[Ir];for(let Xr=0;Xr<Fr.length;Xr++)wr(Fr[Xr]);delete dr.g[Ir],dr.h--}}this.G=null},Vn.prototype.J=function(dr,Ir,Fr,Xr){return this.i.add(String(dr),Ir,!1,Fr,Xr)},Vn.prototype.K=function(dr,Ir,Fr,Xr){return this.i.add(String(dr),Ir,!0,Fr,Xr)};function Qn(dr,Ir,Fr,Xr){if(Ir=dr.i.g[String(Ir)],!Ir)return!0;Ir=Ir.concat();let kn=!0;for(let Fn=0;Fn<Ir.length;++Fn){const ci=Ir[Fn];if(ci&&!ci.da&&ci.capture==Fr){const Ki=ci.listener,Vs=ci.ha||ci.src;ci.fa&&Yr(dr.i,ci),kn=Ki.call(Vs,Xr)!==!1&&kn}}return kn&&!Xr.defaultPrevented}function Yn(dr,Ir){if(typeof dr!="function")if(dr&&typeof dr.handleEvent=="function")dr=Ye(dr.handleEvent,dr);else throw Error("Invalid listener argument");return Number(Ir)>2147483647?-1:He.setTimeout(dr,Ir||0)}function vi(dr){dr.g=Yn(()=>{dr.g=null,dr.i&&(dr.i=!1,vi(dr))},dr.l);const Ir=dr.h;dr.h=null,dr.m.apply(null,Ir)}class xn extends Cr{constructor(Ir,Fr){super(),this.m=Ir,this.l=Fr,this.h=null,this.i=!1,this.g=null}j(Ir){this.h=arguments,this.g?this.i=!0:vi(this)}N(){super.N(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(dr){Cr.call(this),this.h=dr,this.g={}}Je(ei,Cr);var ni=[];function ui(dr){Ar(dr.g,function(Ir,Fr){this.g.hasOwnProperty(Fr)&&In(Ir)},dr),dr.g={}}ei.prototype.N=function(){ei.Z.N.call(this),ui(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=He.JSON.stringify,fi=He.JSON.parse,yi=class{stringify(dr){return He.JSON.stringify(dr,void 0)}parse(dr){return He.JSON.parse(dr,void 0)}};function mi(){}function as(){}var Ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ci(){br.call(this,"d")}Je(Ci,br);function Di(){br.call(this,"c")}Je(Di,br);var Wi={},Ai=null;function ps(){return Ai=Ai||new Vn}Wi.Ia="serverreachability";function Ni(dr){br.call(this,Wi.Ia,dr)}Je(Ni,br);function $i(dr){const Ir=ps();zn(Ir,new Ni(Ir))}Wi.STAT_EVENT="statevent";function os(dr,Ir){br.call(this,Wi.STAT_EVENT,dr),this.stat=Ir}Je(os,br);function ji(dr){const Ir=ps();zn(Ir,new os(Ir,dr))}Wi.Ja="timingevent";function Ti(dr,Ir){br.call(this,Wi.Ja,dr),this.size=Ir}Je(Ti,br);function Qi(dr,Ir){if(typeof dr!="function")throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){dr()},Ir)}function ga(){this.g=!0}ga.prototype.ua=function(){this.g=!1};function ta(dr,Ir,Fr,Xr,kn,Fn){dr.info(function(){if(dr.g)if(Fn){var ci="",Ki=Fn.split("&");for(let rs=0;rs<Ki.length;rs++){var Vs=Ki[rs].split("=");if(Vs.length>1){const As=Vs[0];Vs=Vs[1];const Da=As.split("_");ci=Da.length>=2&&Da[1]=="type"?ci+(As+"="+Vs+"&"):ci+(As+"=redacted&")}}}else ci=null;else ci=Fn;return"XMLHTTP REQ ("+Xr+") [attempt "+kn+"]: "+Ir+`
`+Fr+`
`+ci})}function ao(dr,Ir,Fr,Xr,kn,Fn,ci){dr.info(function(){return"XMLHTTP RESP ("+Xr+") [ attempt "+kn+"]: "+Ir+`
`+Fr+`
`+Fn+" "+ci})}function ks(dr,Ir,Fr,Xr){dr.info(function(){return"XMLHTTP TEXT ("+Ir+"): "+To(dr,Fr)+(Xr?" "+Xr:"")})}function Ii(dr,Ir){dr.info(function(){return"TIMEOUT: "+Ir})}ga.prototype.info=function(){};function To(dr,Ir){if(!dr.g)return Ir;if(!Ir)return null;try{const Fn=JSON.parse(Ir);if(Fn){for(dr=0;dr<Fn.length;dr++)if(Array.isArray(Fn[dr])){var Fr=Fn[dr];if(!(Fr.length<2)){var Xr=Fr[1];if(Array.isArray(Xr)&&!(Xr.length<1)){var kn=Xr[0];if(kn!="noop"&&kn!="stop"&&kn!="close")for(let ci=1;ci<Xr.length;ci++)Xr[ci]=""}}}}return oi(Fn)}catch{return Ir}}var Ca={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cn;function hi(){}Je(hi,mi),hi.prototype.g=function(){return new XMLHttpRequest},Cn=new hi;function li(dr){return encodeURIComponent(String(dr))}function si(dr){var Ir=1;dr=dr.split(":");const Fr=[];for(;Ir>0&&dr.length;)Fr.push(dr.shift()),Ir--;return dr.length&&Fr.push(dr.join(":")),Fr}function zi(dr,Ir,Fr,Xr){this.j=dr,this.i=Ir,this.l=Fr,this.S=Xr||1,this.V=new ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yi}function Yi(){this.i=null,this.g="",this.h=!1}var Mi={},Gi={};function ls(dr,Ir,Fr){dr.M=1,dr.A=vl(na(Ir)),dr.u=Fr,dr.R=!0,ra(dr,null)}function ra(dr,Ir){dr.F=Date.now(),Ps(dr),dr.B=na(dr.A);var Fr=dr.B,Xr=dr.S;Array.isArray(Xr)||(Xr=[String(Xr)]),sc(Fr.i,"t",Xr),dr.C=0,Fr=dr.j.L,dr.h=new Yi,dr.g=_i(dr.j,Fr?Ir:null,!dr.u),dr.P>0&&(dr.O=new xn(Ye(dr.Y,dr,dr.g),dr.P)),Ir=dr.V,Fr=dr.g,Xr=dr.ba;var kn="readystatechange";Array.isArray(kn)||(kn&&(ni[0]=kn.toString()),kn=ni);for(let Fn=0;Fn<kn.length;Fn++){const ci=Zr(Fr,kn[Fn],Xr||Ir.handleEvent,!1,Ir.h||Ir);if(!ci)break;Ir.g[ci.key]=ci}Ir=dr.J?Pr(dr.J):{},dr.u?(dr.v||(dr.v="POST"),Ir["Content-Type"]="application/x-www-form-urlencoded",dr.g.ea(dr.B,dr.v,dr.u,Ir)):(dr.v="GET",dr.g.ea(dr.B,dr.v,null,Ir)),$i(),ta(dr.i,dr.v,dr.B,dr.l,dr.S,dr.u)}zi.prototype.ba=function(dr){dr=dr.target;const Ir=this.O;Ir&&fo(dr)==3?Ir.j():this.Y(dr)},zi.prototype.Y=function(dr){try{if(dr==this.g)e:{const Ki=fo(this.g),Vs=this.g.ya(),rs=this.g.ca();if(!(Ki<3)&&(Ki!=3||this.g&&(this.h.h||this.g.la()||da(this.g)))){this.K||Ki!=4||Vs==7||(Vs==8||rs<=0?$i(3):$i(2)),oo(this);var Ir=this.g.ca();this.X=Ir;var Fr=ca(this);if(this.o=Ir==200,ao(this.i,this.v,this.B,this.l,this.S,Ki,Ir),this.o){if(this.U&&!this.L){t:{if(this.g){var Xr,kn=this.g;if((Xr=kn.g?kn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sr(Xr)){var Fn=Xr;break t}}Fn=null}if(dr=Fn)ks(this.i,this.l,dr,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_o(this,dr);else{this.o=!1,this.m=3,ji(12),lo(this),$a(this);break e}}if(this.R){dr=!0;let As;for(;!this.K&&this.C<Fr.length;)if(As=Ra(this,Fr),As==Gi){Ki==4&&(this.m=4,ji(14),dr=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(As==Mi){this.m=4,ji(15),ks(this.i,this.l,Fr,"[Invalid Chunk]"),dr=!1;break}else ks(this.i,this.l,As,null),_o(this,As);if(Ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ki!=4||Fr.length!=0||this.h.h||(this.m=1,ji(16),dr=!1),this.o=this.o&&dr,!dr)ks(this.i,this.l,Fr,"[Invalid Chunked Response]"),lo(this),$a(this);else if(Fr.length>0&&!this.W){this.W=!0;var ci=this.j;ci.g==this&&ci.aa&&!ci.P&&(ci.j.info("Great, no buffering proxy detected. Bytes received: "+Fr.length),uc(ci),ci.P=!0,ji(11))}}else ks(this.i,this.l,Fr,null),_o(this,Fr);Ki==4&&lo(this),this.o&&!this.K&&(Ki==4?fn(this.j,this):(this.o=!1,Ps(this)))}else Lo(this.g),Ir==400&&Fr.indexOf("Unknown SID")>0?(this.m=3,ji(12)):(this.m=0,ji(13)),lo(this),$a(this)}}}catch{}finally{}};function ca(dr){if(!Ya(dr))return dr.g.la();const Ir=da(dr.g);if(Ir==="")return"";let Fr="";const Xr=Ir.length,kn=fo(dr.g)==4;if(!dr.h.i){if(typeof TextDecoder>"u")return lo(dr),$a(dr),"";dr.h.i=new He.TextDecoder}for(let Fn=0;Fn<Xr;Fn++)dr.h.h=!0,Fr+=dr.h.i.decode(Ir[Fn],{stream:!(kn&&Fn==Xr-1)});return Ir.length=0,dr.h.g+=Fr,dr.C=0,dr.h.g}function Ya(dr){return dr.g?dr.v=="GET"&&dr.M!=2&&dr.j.Aa:!1}function Ra(dr,Ir){var Fr=dr.C,Xr=Ir.indexOf(`
`,Fr);return Xr==-1?Gi:(Fr=Number(Ir.substring(Fr,Xr)),isNaN(Fr)?Mi:(Xr+=1,Xr+Fr>Ir.length?Gi:(Ir=Ir.slice(Xr,Xr+Fr),dr.C=Xr+Fr,Ir)))}zi.prototype.cancel=function(){this.K=!0,lo(this)};function Ps(dr){dr.T=Date.now()+dr.H,nl(dr,dr.H)}function nl(dr,Ir){if(dr.D!=null)throw Error("WatchDog timer not null");dr.D=Qi(Ye(dr.aa,dr),Ir)}function oo(dr){dr.D&&(He.clearTimeout(dr.D),dr.D=null)}zi.prototype.aa=function(){this.D=null;const dr=Date.now();dr-this.T>=0?(Ii(this.i,this.B),this.M!=2&&($i(),ji(17)),lo(this),this.m=2,$a(this)):nl(this,this.T-dr)};function $a(dr){dr.j.I==0||dr.K||fn(dr.j,dr)}function lo(dr){oo(dr);var Ir=dr.O;Ir&&typeof Ir.dispose=="function"&&Ir.dispose(),dr.O=null,ui(dr.V),dr.g&&(Ir=dr.g,dr.g=null,Ir.abort(),Ir.dispose())}function _o(dr,Ir){try{var Fr=dr.j;if(Fr.I!=0&&(Fr.g==dr||jo(Fr.h,dr))){if(!dr.L&&jo(Fr.h,dr)&&Fr.I==3){try{var Xr=Fr.Ba.g.parse(Ir)}catch{Xr=null}if(Array.isArray(Xr)&&Xr.length==3){var kn=Xr;if(kn[0]==0){e:if(!Fr.v){if(Fr.g)if(Fr.g.F+3e3<dr.F)Br(Fr),Fo(Fr);else break e;Io(Fr),ji(18)}}else Fr.xa=kn[1],0<Fr.xa-Fr.K&&kn[2]<37500&&Fr.F&&Fr.A==0&&!Fr.C&&(Fr.C=Qi(Ye(Fr.Va,Fr),6e3));Eo(Fr.h)<=1&&Fr.ta&&(Fr.ta=void 0)}else Tn(Fr,11)}else if((dr.L||Fr.g==dr)&&Br(Fr),!Sr(Ir))for(kn=Fr.Ba.g.parse(Ir),Ir=0;Ir<kn.length;Ir++){let rs=kn[Ir];const As=rs[0];if(!(As<=Fr.K))if(Fr.K=As,rs=rs[1],Fr.I==2)if(rs[0]=="c"){Fr.M=rs[1],Fr.ba=rs[2];const Da=rs[3];Da!=null&&(Fr.ka=Da,Fr.j.info("VER="+Fr.ka));const Va=rs[4];Va!=null&&(Fr.za=Va,Fr.j.info("SVER="+Fr.za));const Ms=rs[5];Ms!=null&&typeof Ms=="number"&&Ms>0&&(Xr=1.5*Ms,Fr.O=Xr,Fr.j.info("backChannelRequestTimeoutMs_="+Xr)),Xr=Fr;const Ba=dr.g;if(Ba){const No=Ba.g?Ba.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var Fn=Xr.h;Fn.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(Fn.j=Fn.l,Fn.g=new Set,Fn.h&&(Ml(Fn,Fn.h),Fn.h=null))}if(Xr.G){const El=Ba.g?Ba.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(Xr.wa=El,ms(Xr.J,Xr.G,El))}}Fr.I=3,Fr.l&&Fr.l.ra(),Fr.aa&&(Fr.T=Date.now()-dr.F,Fr.j.info("Handshake RTT: "+Fr.T+"ms")),Xr=Fr;var ci=dr;if(Xr.na=ri(Xr,Xr.L?Xr.ba:null,Xr.W),ci.L){nc(Xr.h,ci);var Ki=ci,Vs=Xr.O;Vs&&(Ki.H=Vs),Ki.D&&(oo(Ki),Ps(Ki)),Xr.g=ci}else Ic(Xr);Fr.i.length>0&&So(Fr)}else rs[0]!="stop"&&rs[0]!="close"||Tn(Fr,7);else Fr.I==3&&(rs[0]=="stop"||rs[0]=="close"?rs[0]=="stop"?Tn(Fr,7):_l(Fr):rs[0]!="noop"&&Fr.l&&Fr.l.qa(rs),Fr.A=0)}}$i(4)}catch{}}var Xs=class{constructor(dr,Ir){this.g=dr,this.map=Ir}};function rc(dr){this.l=dr||10,He.PerformanceNavigationTiming?(dr=He.performance.getEntriesByType("navigation"),dr=dr.length>0&&(dr[0].nextHopProtocol=="hq"||dr[0].nextHopProtocol=="h2")):dr=!!(He.chrome&&He.chrome.loadTimes&&He.chrome.loadTimes()&&He.chrome.loadTimes().wasFetchedViaSpdy),this.j=dr?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xa(dr){return dr.h?!0:dr.g?dr.g.size>=dr.j:!1}function Eo(dr){return dr.h?1:dr.g?dr.g.size:0}function jo(dr,Ir){return dr.h?dr.h==Ir:dr.g?dr.g.has(Ir):!1}function Ml(dr,Ir){dr.g?dr.g.add(Ir):dr.h=Ir}function nc(dr,Ir){dr.h&&dr.h==Ir?dr.h=null:dr.g&&dr.g.has(Ir)&&dr.g.delete(Ir)}rc.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const dr of this.g.values())dr.cancel();this.g.clear()}};function ic(dr){if(dr.h!=null)return dr.i.concat(dr.h.G);if(dr.g!=null&&dr.g.size!==0){let Ir=dr.i;for(const Fr of dr.g.values())Ir=Ir.concat(Fr.G);return Ir}return Ze(dr.i)}var Rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(dr,Ir){if(dr){dr=dr.split("&");for(let Fr=0;Fr<dr.length;Fr++){const Xr=dr[Fr].indexOf("=");let kn,Fn=null;Xr>=0?(kn=dr[Fr].substring(0,Xr),Fn=dr[Fr].substring(Xr+1)):kn=dr[Fr],Ir(kn,Fn?decodeURIComponent(Fn.replace(/\+/g," ")):"")}}}function Ia(dr){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let Ir;dr instanceof Ia?(this.l=dr.l,ss(this,dr.j),this.o=dr.o,this.g=dr.g,il(this,dr.u),this.h=dr.h,wo(this,ac(dr.i)),this.m=dr.m):dr&&(Ir=String(dr).match(Rc))?(this.l=!1,ss(this,Ir[1]||"",!0),this.o=ua(Ir[2]||""),this.g=ua(Ir[3]||"",!0),il(this,Ir[4]),this.h=ua(Ir[5]||"",!0),wo(this,Ir[6]||"",!0),this.m=ua(Ir[7]||"")):(this.l=!1,this.i=new sl(null,this.l))}Ia.prototype.toString=function(){const dr=[];var Ir=this.j;Ir&&dr.push(Ws(Ir,Ol,!0),":");var Fr=this.g;return(Fr||Ir=="file")&&(dr.push("//"),(Ir=this.o)&&dr.push(Ws(Ir,Ol,!0),"@"),dr.push(li(Fr).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Fr=this.u,Fr!=null&&dr.push(":",String(Fr))),(Fr=this.h)&&(this.g&&Fr.charAt(0)!="/"&&dr.push("/"),dr.push(Ws(Fr,Fr.charAt(0)=="/"?Ac:Qc,!0))),(Fr=this.i.toString())&&dr.push("?",Fr),(Fr=this.m)&&dr.push("#",Ws(Fr,Tc)),dr.join("")},Ia.prototype.resolve=function(dr){const Ir=na(this);let Fr=!!dr.j;Fr?ss(Ir,dr.j):Fr=!!dr.o,Fr?Ir.o=dr.o:Fr=!!dr.g,Fr?Ir.g=dr.g:Fr=dr.u!=null;var Xr=dr.h;if(Fr)il(Ir,dr.u);else if(Fr=!!dr.h){if(Xr.charAt(0)!="/")if(this.g&&!this.h)Xr="/"+Xr;else{var kn=Ir.h.lastIndexOf("/");kn!=-1&&(Xr=Ir.h.slice(0,kn+1)+Xr)}if(kn=Xr,kn==".."||kn==".")Xr="";else if(kn.indexOf("./")!=-1||kn.indexOf("/.")!=-1){Xr=kn.lastIndexOf("/",0)==0,kn=kn.split("/");const Fn=[];for(let ci=0;ci<kn.length;){const Ki=kn[ci++];Ki=="."?Xr&&ci==kn.length&&Fn.push(""):Ki==".."?((Fn.length>1||Fn.length==1&&Fn[0]!="")&&Fn.pop(),Xr&&ci==kn.length&&Fn.push("")):(Fn.push(Ki),Xr=!0)}Xr=Fn.join("/")}else Xr=kn}return Fr?Ir.h=Xr:Fr=dr.i.toString()!=="",Fr?wo(Ir,ac(dr.i)):Fr=!!dr.m,Fr&&(Ir.m=dr.m),Ir};function na(dr){return new Ia(dr)}function ss(dr,Ir,Fr){dr.j=Fr?ua(Ir,!0):Ir,dr.j&&(dr.j=dr.j.replace(/:$/,""))}function il(dr,Ir){if(Ir){if(Ir=Number(Ir),isNaN(Ir)||Ir<0)throw Error("Bad port number "+Ir);dr.u=Ir}else dr.u=null}function wo(dr,Ir,Fr){Ir instanceof sl?(dr.i=Ir,Qa(dr.i,dr.l)):(Fr||(Ir=Ws(Ir,Fa)),dr.i=new sl(Ir,dr.l))}function ms(dr,Ir,Fr){dr.i.set(Ir,Fr)}function vl(dr){return ms(dr,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),dr}function ua(dr,Ir){return dr?Ir?decodeURI(dr.replace(/%25/g,"%2525")):decodeURIComponent(dr):""}function Ws(dr,Ir,Fr){return typeof dr=="string"?(dr=encodeURI(dr).replace(Ir,ia),Fr&&(dr=dr.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),dr):null}function ia(dr){return dr=dr.charCodeAt(0),"%"+(dr>>4&15).toString(16)+(dr&15).toString(16)}var Ol=/[#\/\?@]/g,Qc=/[#\?:]/g,Ac=/[#\?]/g,Fa=/[#\?@]/g,Tc=/#/g;function sl(dr,Ir){this.h=this.g=null,this.i=dr||null,this.j=!!Ir}function Aa(dr){dr.g||(dr.g=new Map,dr.h=0,dr.i&&co(dr.i,function(Ir,Fr){dr.add(decodeURIComponent(Ir.replace(/\+/g," ")),Fr)}))}Ve=sl.prototype,Ve.add=function(dr,Ir){Aa(this),this.i=null,dr=al(this,dr);let Fr=this.g.get(dr);return Fr||this.g.set(dr,Fr=[]),Fr.push(Ir),this.h+=1,this};function yl(dr,Ir){Aa(dr),Ir=al(dr,Ir),dr.g.has(Ir)&&(dr.i=null,dr.h-=dr.g.get(Ir).length,dr.g.delete(Ir))}function jc(dr,Ir){return Aa(dr),Ir=al(dr,Ir),dr.g.has(Ir)}Ve.forEach=function(dr,Ir){Aa(this),this.g.forEach(function(Fr,Xr){Fr.forEach(function(kn){dr.call(Ir,kn,Xr,this)},this)},this)};function Pc(dr,Ir){Aa(dr);let Fr=[];if(typeof Ir=="string")jc(dr,Ir)&&(Fr=Fr.concat(dr.g.get(al(dr,Ir))));else for(dr=Array.from(dr.g.values()),Ir=0;Ir<dr.length;Ir++)Fr=Fr.concat(dr[Ir]);return Fr}Ve.set=function(dr,Ir){return Aa(this),this.i=null,dr=al(this,dr),jc(this,dr)&&(this.h-=this.g.get(dr).length),this.g.set(dr,[Ir]),this.h+=1,this},Ve.get=function(dr,Ir){return dr?(dr=Pc(this,dr),dr.length>0?String(dr[0]):Ir):Ir};function sc(dr,Ir,Fr){yl(dr,Ir),Fr.length>0&&(dr.i=null,dr.g.set(al(dr,Ir),Ze(Fr)),dr.h+=Fr.length)}Ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const dr=[],Ir=Array.from(this.g.keys());for(let Xr=0;Xr<Ir.length;Xr++){var Fr=Ir[Xr];const kn=li(Fr);Fr=Pc(this,Fr);for(let Fn=0;Fn<Fr.length;Fn++){let ci=kn;Fr[Fn]!==""&&(ci+="="+li(Fr[Fn])),dr.push(ci)}}return this.i=dr.join("&")};function ac(dr){const Ir=new sl;return Ir.i=dr.i,dr.g&&(Ir.g=new Map(dr.g),Ir.h=dr.h),Ir}function al(dr,Ir){return Ir=String(Ir),dr.j&&(Ir=Ir.toLowerCase()),Ir}function Qa(dr,Ir){Ir&&!dr.j&&(Aa(dr),dr.i=null,dr.g.forEach(function(Fr,Xr){const kn=Xr.toLowerCase();Xr!=kn&&(yl(this,Xr),sc(this,kn,Fr))},dr)),dr.j=Ir}function Po(dr,Ir){const Fr=new ga;if(He.Image){const Xr=new Image;Xr.onload=Xe(Ja,Fr,"TestLoadImage: loaded",!0,Ir,Xr),Xr.onerror=Xe(Ja,Fr,"TestLoadImage: error",!1,Ir,Xr),Xr.onabort=Xe(Ja,Fr,"TestLoadImage: abort",!1,Ir,Xr),Xr.ontimeout=Xe(Ja,Fr,"TestLoadImage: timeout",!1,Ir,Xr),He.setTimeout(function(){Xr.ontimeout&&Xr.ontimeout()},1e4),Xr.src=dr}else Ir(!1)}function ol(dr,Ir){const Fr=new ga,Xr=new AbortController,kn=setTimeout(()=>{Xr.abort(),Ja(Fr,"TestPingServer: timeout",!1,Ir)},1e4);fetch(dr,{signal:Xr.signal}).then(Fn=>{clearTimeout(kn),Fn.ok?Ja(Fr,"TestPingServer: ok",!0,Ir):Ja(Fr,"TestPingServer: server error",!1,Ir)}).catch(()=>{clearTimeout(kn),Ja(Fr,"TestPingServer: error",!1,Ir)})}function Ja(dr,Ir,Fr,Xr,kn){try{kn&&(kn.onload=null,kn.onerror=null,kn.onabort=null,kn.ontimeout=null),Xr(Fr)}catch{}}function xl(){this.g=new yi}function Oi(dr){this.i=dr.Sb||null,this.h=dr.ab||!1}Je(Oi,mi),Oi.prototype.g=function(){return new Ll(this.i,this.h)};function Ll(dr,Ir){Vn.call(this),this.H=dr,this.o=Ir,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}Je(Ll,Vn),Ve=Ll.prototype,Ve.open=function(dr,Ir){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=dr,this.D=Ir,this.readyState=1,Ta(this)},Ve.send=function(dr){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const Ir={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};dr&&(Ir.body=dr),(this.H||He).fetch(new Request(this.D,Ir)).then(this.Pa.bind(this),this.ga.bind(this))},Ve.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bl(this)),this.readyState=0},Ve.Pa=function(dr){if(this.g&&(this.l=dr,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=dr.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")dr.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof He.ReadableStream<"u"&&"body"in dr){if(this.j=dr.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oc(this)}else dr.text().then(this.Oa.bind(this),this.ga.bind(this))};function oc(dr){dr.j.read().then(dr.Ma.bind(dr)).catch(dr.ga.bind(dr))}Ve.Ma=function(dr){if(this.g){if(this.o&&dr.value)this.response.push(dr.value);else if(!this.o){var Ir=dr.value?dr.value:new Uint8Array(0);(Ir=this.B.decode(Ir,{stream:!dr.done}))&&(this.response=this.responseText+=Ir)}dr.done?bl(this):Ta(this),this.readyState==3&&oc(this)}},Ve.Oa=function(dr){this.g&&(this.response=this.responseText=dr,bl(this))},Ve.Na=function(dr){this.g&&(this.response=dr,bl(this))},Ve.ga=function(){this.g&&bl(this)};function bl(dr){dr.readyState=4,dr.l=null,dr.j=null,dr.B=null,Ta(dr)}Ve.setRequestHeader=function(dr,Ir){this.A.append(dr,Ir)},Ve.getResponseHeader=function(dr){return this.h&&this.h.get(dr.toLowerCase())||""},Ve.getAllResponseHeaders=function(){if(!this.h)return"";const dr=[],Ir=this.h.entries();for(var Fr=Ir.next();!Fr.done;)Fr=Fr.value,dr.push(Fr[0]+": "+Fr[1]),Fr=Ir.next();return dr.join(`\r
`)};function Ta(dr){dr.onreadystatechange&&dr.onreadystatechange.call(dr)}Object.defineProperty(Ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(dr){this.m=dr?"include":"same-origin"}});function va(dr){let Ir="";return Ar(dr,function(Fr,Xr){Ir+=Xr,Ir+=":",Ir+=Fr,Ir+=`\r
`}),Ir}function $l(dr,Ir,Fr){e:{for(Xr in Fr){var Xr=!1;break e}Xr=!0}Xr||(Fr=va(Fr),typeof dr=="string"?Fr!=null&&li(Fr):ms(dr,Ir,Fr))}function Rs(dr){Vn.call(this),this.headers=new Map,this.L=dr||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}Je(Rs,Vn);var uo=/^https?$/i,Fl=["POST","PUT"];Ve=Rs.prototype,Ve.Fa=function(dr){this.H=dr},Ve.ea=function(dr,Ir,Fr,Xr){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+dr);Ir=Ir?Ir.toUpperCase():"GET",this.D=dr,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cn.g(),this.g.onreadystatechange=er(Ye(this.Ca,this));try{this.B=!0,this.g.open(Ir,String(dr),!0),this.B=!1}catch(Fn){Co(this,Fn);return}if(dr=Fr||"",Fr=new Map(this.headers),Xr)if(Object.getPrototypeOf(Xr)===Object.prototype)for(var kn in Xr)Fr.set(kn,Xr[kn]);else if(typeof Xr.keys=="function"&&typeof Xr.get=="function")for(const Fn of Xr.keys())Fr.set(Fn,Xr.get(Fn));else throw Error("Unknown input type for opt_headers: "+String(Xr));Xr=Array.from(Fr.keys()).find(Fn=>Fn.toLowerCase()=="content-type"),kn=He.FormData&&dr instanceof He.FormData,!(Array.prototype.indexOf.call(Fl,Ir,void 0)>=0)||Xr||kn||Fr.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Fn,ci]of Fr)this.g.setRequestHeader(Fn,ci);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(dr),this.v=!1}catch(Fn){Co(this,Fn)}};function Co(dr,Ir){dr.h=!1,dr.g&&(dr.j=!0,dr.g.abort(),dr.j=!1),dr.l=Ir,dr.o=5,Cc(dr),ll(dr)}function Cc(dr){dr.A||(dr.A=!0,zn(dr,"complete"),zn(dr,"error"))}Ve.abort=function(dr){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=dr||7,zn(this,"complete"),zn(this,"abort"),ll(this))},Ve.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ll(this,!0)),Rs.Z.N.call(this)},Ve.Ca=function(){this.u||(this.B||this.v||this.j?ho(this):this.Xa())},Ve.Xa=function(){ho(this)};function ho(dr){if(dr.h&&typeof qe<"u"){if(dr.v&&fo(dr)==4)setTimeout(dr.Ca.bind(dr),0);else if(zn(dr,"readystatechange"),fo(dr)==4){dr.h=!1;try{const Fn=dr.ca();e:switch(Fn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Ir=!0;break e;default:Ir=!1}var Fr;if(!(Fr=Ir)){var Xr;if(Xr=Fn===0){let ci=String(dr.D).match(Rc)[1]||null;!ci&&He.self&&He.self.location&&(ci=He.self.location.protocol.slice(0,-1)),Xr=!uo.test(ci?ci.toLowerCase():"")}Fr=Xr}if(Fr)zn(dr,"complete"),zn(dr,"success");else{dr.o=6;try{var kn=fo(dr)>2?dr.g.statusText:""}catch{kn=""}dr.l=kn+" ["+dr.ca()+"]",Cc(dr)}}finally{ll(dr)}}}}function ll(dr,Ir){if(dr.g){dr.m&&(clearTimeout(dr.m),dr.m=null);const Fr=dr.g;dr.g=null,Ir||zn(dr,"ready");try{Fr.onreadystatechange=null}catch{}}}Ve.isActive=function(){return!!this.g};function fo(dr){return dr.g?dr.g.readyState:0}Ve.ca=function(){try{return fo(this)>2?this.g.status:-1}catch{return-1}},Ve.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ve.La=function(dr){if(this.g){var Ir=this.g.responseText;return dr&&Ir.indexOf(dr)==0&&(Ir=Ir.substring(dr.length)),fi(Ir)}};function da(dr){try{if(!dr.g)return null;if("response"in dr.g)return dr.g.response;switch(dr.F){case"":case"text":return dr.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in dr.g)return dr.g.mozResponseArrayBuffer}return null}catch{return null}}function Lo(dr){const Ir={};dr=(dr.g&&fo(dr)>=2&&dr.g.getAllResponseHeaders()||"").split(`\r
`);for(let Xr=0;Xr<dr.length;Xr++){if(Sr(dr[Xr]))continue;var Fr=si(dr[Xr]);const kn=Fr[0];if(Fr=Fr[1],typeof Fr!="string")continue;Fr=Fr.trim();const Fn=Ir[kn]||[];Ir[kn]=Fn,Fn.push(Fr)}Lr(Ir,function(Xr){return Xr.join(", ")})}Ve.ya=function(){return this.o},Ve.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(dr,Ir,Fr){return Fr&&Fr.internalChannelParams&&Fr.internalChannelParams[dr]||Ir}function $o(dr){this.za=0,this.i=[],this.j=new ga,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Na("failFast",!1,dr),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Na("baseRetryDelayMs",5e3,dr),this.Za=Na("retryDelaySeedMs",1e4,dr),this.Ta=Na("forwardChannelMaxRetries",2,dr),this.va=Na("forwardChannelRequestTimeoutMs",2e4,dr),this.ma=dr&&dr.xmlHttpFactory||void 0,this.Ua=dr&&dr.Rb||void 0,this.Aa=dr&&dr.useFetchStreams||!1,this.O=void 0,this.L=dr&&dr.supportsCrossDomainXhr||!1,this.M="",this.h=new rc(dr&&dr.concurrentRequestLimit),this.Ba=new xl,this.S=dr&&dr.fastHandshake||!1,this.R=dr&&dr.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=dr&&dr.Pb||!1,dr&&dr.ua&&this.j.ua(),dr&&dr.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&dr&&dr.detectBufferingProxy||!1,this.ia=void 0,dr&&dr.longPollingTimeout&&dr.longPollingTimeout>0&&(this.ia=dr.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}Ve=$o.prototype,Ve.ka=8,Ve.I=1,Ve.connect=function(dr,Ir,Fr,Xr){ji(0),this.W=dr,this.H=Ir||{},Fr&&Xr!==void 0&&(this.H.OSID=Fr,this.H.OAID=Xr),this.F=this.X,this.J=ri(this,null,this.W),So(this)};function _l(dr){if(Vo(dr),dr.I==3){var Ir=dr.V++,Fr=na(dr.J);if(ms(Fr,"SID",dr.M),ms(Fr,"RID",Ir),ms(Fr,"TYPE","terminate"),po(dr,Fr),Ir=new zi(dr,dr.j,Ir),Ir.M=2,Ir.A=vl(na(Fr)),Fr=!1,He.navigator&&He.navigator.sendBeacon)try{Fr=He.navigator.sendBeacon(Ir.A.toString(),"")}catch{}!Fr&&He.Image&&(new Image().src=Ir.A,Fr=!0),Fr||(Ir.g=_i(Ir.j,null),Ir.g.ea(Ir.A)),Ir.F=Date.now(),Ps(Ir)}Gn(dr)}function Fo(dr){dr.g&&(uc(dr),dr.g.cancel(),dr.g=null)}function Vo(dr){Fo(dr),dr.v&&(He.clearTimeout(dr.v),dr.v=null),Br(dr),dr.h.cancel(),dr.m&&(typeof dr.m=="number"&&He.clearTimeout(dr.m),dr.m=null)}function So(dr){if(!Xa(dr.h)&&!dr.m){dr.m=!0;var Ir=dr.Ea;hr||vr(),yr||(hr(),yr=!0),mr.add(Ir,dr),dr.D=0}}function Vl(dr,Ir){return Eo(dr.h)>=dr.h.j-(dr.m?1:0)?!1:dr.m?(dr.i=Ir.G.concat(dr.i),!0):dr.I==1||dr.I==2||dr.D>=(dr.Sa?0:dr.Ta)?!1:(dr.m=Qi(Ye(dr.Ea,dr,Ir),yn(dr,dr.D)),dr.D++,!0)}Ve.Ea=function(dr){if(this.m)if(this.m=null,this.I==1){if(!dr){this.V=Math.floor(Math.random()*1e5),dr=this.V++;const kn=new zi(this,this.j,dr);let Fn=this.o;if(this.U&&(Fn?(Fn=Pr(Fn),Vr(Fn,this.U)):Fn=this.U),this.u!==null||this.R||(kn.J=Fn,Fn=null),this.S)e:{for(var Ir=0,Fr=0;Fr<this.i.length;Fr++){t:{var Xr=this.i[Fr];if("__data__"in Xr.map&&(Xr=Xr.map.__data__,typeof Xr=="string")){Xr=Xr.length;break t}Xr=void 0}if(Xr===void 0)break;if(Ir+=Xr,Ir>4096){Ir=Fr;break e}if(Ir===4096||Fr===this.i.length-1){Ir=Fr+1;break e}}Ir=1e3}else Ir=1e3;Ir=Bo(this,kn,Ir),Fr=na(this.J),ms(Fr,"RID",dr),ms(Fr,"CVER",22),this.G&&ms(Fr,"X-HTTP-Session-Id",this.G),po(this,Fr),Fn&&(this.R?Ir="headers="+li(va(Fn))+"&"+Ir:this.u&&$l(Fr,this.u,Fn)),Ml(this.h,kn),this.Ra&&ms(Fr,"TYPE","init"),this.S?(ms(Fr,"$req",Ir),ms(Fr,"SID","null"),kn.U=!0,ls(kn,Fr,null)):ls(kn,Fr,Ir),this.I=2}}else this.I==3&&(dr?cc(this,dr):this.i.length==0||Xa(this.h)||cc(this))};function cc(dr,Ir){var Fr;Ir?Fr=Ir.l:Fr=dr.V++;const Xr=na(dr.J);ms(Xr,"SID",dr.M),ms(Xr,"RID",Fr),ms(Xr,"AID",dr.K),po(dr,Xr),dr.u&&dr.o&&$l(Xr,dr.u,dr.o),Fr=new zi(dr,dr.j,Fr,dr.D+1),dr.u===null&&(Fr.J=dr.o),Ir&&(dr.i=Ir.G.concat(dr.i)),Ir=Bo(dr,Fr,1e3),Fr.H=Math.round(dr.va*.5)+Math.round(dr.va*.5*Math.random()),Ml(dr.h,Fr),ls(Fr,Xr,Ir)}function po(dr,Ir){dr.H&&Ar(dr.H,function(Fr,Xr){ms(Ir,Xr,Fr)}),dr.l&&Ar({},function(Fr,Xr){ms(Ir,Xr,Fr)})}function Bo(dr,Ir,Fr){Fr=Math.min(dr.i.length,Fr);const Xr=dr.l?Ye(dr.l.Ka,dr.l,dr):null;e:{var kn=dr.i;let Ki=-1;for(;;){const Vs=["count="+Fr];Ki==-1?Fr>0?(Ki=kn[0].g,Vs.push("ofs="+Ki)):Ki=0:Vs.push("ofs="+Ki);let rs=!0;for(let As=0;As<Fr;As++){var Fn=kn[As].g;const Da=kn[As].map;if(Fn-=Ki,Fn<0)Ki=Math.max(0,kn[As].g-100),rs=!1;else try{Fn="req"+Fn+"_"||"";try{var ci=Da instanceof Map?Da:Object.entries(Da);for(const[Va,Ms]of ci){let Ba=Ms;We(Ms)&&(Ba=oi(Ms)),Vs.push(Fn+Va+"="+encodeURIComponent(Ba))}}catch(Va){throw Vs.push(Fn+"type="+encodeURIComponent("_badmap")),Va}}catch{Xr&&Xr(Da)}}if(rs){ci=Vs.join("&");break e}}ci=void 0}return dr=dr.i.splice(0,Fr),Ir.G=dr,ci}function Ic(dr){if(!dr.g&&!dr.v){dr.Y=1;var Ir=dr.Da;hr||vr(),yr||(hr(),yr=!0),mr.add(Ir,dr),dr.A=0}}function Io(dr){return dr.g||dr.v||dr.A>=3?!1:(dr.Y++,dr.v=Qi(Ye(dr.Da,dr),yn(dr,dr.A)),dr.A++,!0)}Ve.Da=function(){if(this.v=null,Rr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var dr=4*this.T;this.j.info("BP detection timer enabled: "+dr),this.B=Qi(Ye(this.Wa,this),dr)}},Ve.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ji(10),Fo(this),Rr(this))};function uc(dr){dr.B!=null&&(He.clearTimeout(dr.B),dr.B=null)}function Rr(dr){dr.g=new zi(dr,dr.j,"rpc",dr.Y),dr.u===null&&(dr.g.J=dr.o),dr.g.P=0;var Ir=na(dr.na);ms(Ir,"RID","rpc"),ms(Ir,"SID",dr.M),ms(Ir,"AID",dr.K),ms(Ir,"CI",dr.F?"0":"1"),!dr.F&&dr.ia&&ms(Ir,"TO",dr.ia),ms(Ir,"TYPE","xmlhttp"),po(dr,Ir),dr.u&&dr.o&&$l(Ir,dr.u,dr.o),dr.O&&(dr.g.H=dr.O);var Fr=dr.g;dr=dr.ba,Fr.M=1,Fr.A=vl(na(Ir)),Fr.u=null,Fr.R=!0,ra(Fr,dr)}Ve.Va=function(){this.C!=null&&(this.C=null,Fo(this),Io(this),ji(19))};function Br(dr){dr.C!=null&&(He.clearTimeout(dr.C),dr.C=null)}function fn(dr,Ir){var Fr=null;if(dr.g==Ir){Br(dr),uc(dr),dr.g=null;var Xr=2}else if(jo(dr.h,Ir))Fr=Ir.G,nc(dr.h,Ir),Xr=1;else return;if(dr.I!=0){if(Ir.o)if(Xr==1){Fr=Ir.u?Ir.u.length:0,Ir=Date.now()-Ir.F;var kn=dr.D;Xr=ps(),zn(Xr,new Ti(Xr,Fr)),So(dr)}else Ic(dr);else if(kn=Ir.m,kn==3||kn==0&&Ir.X>0||!(Xr==1&&Vl(dr,Ir)||Xr==2&&Io(dr)))switch(Fr&&Fr.length>0&&(Ir=dr.h,Ir.i=Ir.i.concat(Fr)),kn){case 1:Tn(dr,5);break;case 4:Tn(dr,10);break;case 3:Tn(dr,6);break;default:Tn(dr,2)}}}function yn(dr,Ir){let Fr=dr.Qa+Math.floor(Math.random()*dr.Za);return dr.isActive()||(Fr*=2),Fr*Ir}function Tn(dr,Ir){if(dr.j.info("Error code "+Ir),Ir==2){var Fr=Ye(dr.bb,dr),Xr=dr.Ua;const kn=!Xr;Xr=new Ia(Xr||"//www.google.com/images/cleardot.gif"),He.location&&He.location.protocol=="http"||ss(Xr,"https"),vl(Xr),kn?Po(Xr.toString(),Fr):ol(Xr.toString(),Fr)}else ji(2);dr.I=0,dr.l&&dr.l.pa(Ir),Gn(dr),Vo(dr)}Ve.bb=function(dr){dr?(this.j.info("Successfully pinged google.com"),ji(2)):(this.j.info("Failed to ping google.com"),ji(1))};function Gn(dr){if(dr.I=0,dr.ja=[],dr.l){const Ir=ic(dr.h);(Ir.length!=0||dr.i.length!=0)&&(rr(dr.ja,Ir),rr(dr.ja,dr.i),dr.h.i.length=0,Ze(dr.i),dr.i.length=0),dr.l.oa()}}function ri(dr,Ir,Fr){var Xr=Fr instanceof Ia?na(Fr):new Ia(Fr);if(Xr.g!="")Ir&&(Xr.g=Ir+"."+Xr.g),il(Xr,Xr.u);else{var kn=He.location;Xr=kn.protocol,Ir=Ir?Ir+"."+kn.hostname:kn.hostname,kn=+kn.port;const Fn=new Ia(null);Xr&&ss(Fn,Xr),Ir&&(Fn.g=Ir),kn&&il(Fn,kn),Fr&&(Fn.h=Fr),Xr=Fn}return Fr=dr.G,Ir=dr.wa,Fr&&Ir&&ms(Xr,Fr,Ir),ms(Xr,"VER",dr.ka),po(dr,Xr),Xr}function _i(dr,Ir,Fr){if(Ir&&!dr.L)throw Error("Can't create secondary domain capable XhrIo object.");return Ir=dr.Aa&&!dr.ma?new Rs(new Oi({ab:Fr})):new Rs(dr.ma),Ir.Fa(dr.L),Ir}Ve.isActive=function(){return!!this.l&&this.l.isActive(this)};function Si(){}Ve=Si.prototype,Ve.ra=function(){},Ve.qa=function(){},Ve.pa=function(){},Ve.oa=function(){},Ve.isActive=function(){return!0},Ve.Ka=function(){};function Fi(){}Fi.prototype.g=function(dr,Ir){return new ki(dr,Ir)};function ki(dr,Ir){Vn.call(this),this.g=new $o(Ir),this.l=dr,this.h=Ir&&Ir.messageUrlParams||null,dr=Ir&&Ir.messageHeaders||null,Ir&&Ir.clientProtocolHeaderRequired&&(dr?dr["X-Client-Protocol"]="webchannel":dr={"X-Client-Protocol":"webchannel"}),this.g.o=dr,dr=Ir&&Ir.initMessageHeaders||null,Ir&&Ir.messageContentType&&(dr?dr["X-WebChannel-Content-Type"]=Ir.messageContentType:dr={"X-WebChannel-Content-Type":Ir.messageContentType}),Ir&&Ir.sa&&(dr?dr["X-WebChannel-Client-Profile"]=Ir.sa:dr={"X-WebChannel-Client-Profile":Ir.sa}),this.g.U=dr,(dr=Ir&&Ir.Qb)&&!Sr(dr)&&(this.g.u=dr),this.A=Ir&&Ir.supportsCrossDomainXhr||!1,this.v=Ir&&Ir.sendRawJson||!1,(Ir=Ir&&Ir.httpSessionIdParam)&&!Sr(Ir)&&(this.g.G=Ir,dr=this.h,dr!==null&&Ir in dr&&(dr=this.h,Ir in dr&&delete dr[Ir])),this.j=new Ds(this)}Je(ki,Vn),ki.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ki.prototype.close=function(){_l(this.g)},ki.prototype.o=function(dr){var Ir=this.g;if(typeof dr=="string"){var Fr={};Fr.__data__=dr,dr=Fr}else this.v&&(Fr={},Fr.__data__=oi(dr),dr=Fr);Ir.i.push(new Xs(Ir.Ya++,dr)),Ir.I==3&&So(Ir)},ki.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,ki.Z.N.call(this)};function cs(dr){Ci.call(this),dr.__headers__&&(this.headers=dr.__headers__,this.statusCode=dr.__status__,delete dr.__headers__,delete dr.__status__);var Ir=dr.__sm__;if(Ir){e:{for(const Fr in Ir){dr=Fr;break e}dr=void 0}(this.i=dr)&&(dr=this.i,Ir=Ir!==null&&dr in Ir?Ir[dr]:void 0),this.data=Ir}else this.data=dr}Je(cs,Ci);function Fs(){Di.call(this),this.status=1}Je(Fs,Di);function Ds(dr){this.g=dr}Je(Ds,Si),Ds.prototype.ra=function(){zn(this.g,"a")},Ds.prototype.qa=function(dr){zn(this.g,new cs(dr))},Ds.prototype.pa=function(dr){zn(this.g,new Fs)},Ds.prototype.oa=function(){zn(this.g,"b")},Fi.prototype.createWebChannel=Fi.prototype.g,ki.prototype.send=ki.prototype.o,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,createWebChannelTransport=function(){return new Fi},getStatEventTarget=function(){return ps()},Event$1=Wi,Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ca.NO_ERROR=0,Ca.TIMEOUT=8,Ca.HTTP_ERROR=6,ErrorCode$1=Ca,Zi.COMPLETE="complete",EventType=Zi,as.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",Vn.prototype.listen=Vn.prototype.J,WebChannel=as,Rs.prototype.listenOnce=Rs.prototype.K,Rs.prototype.getLastError=Rs.prototype.Ha,Rs.prototype.getLastErrorCode=Rs.prototype.ya,Rs.prototype.getStatus=Rs.prototype.ca,Rs.prototype.getResponseJson=Rs.prototype.La,Rs.prototype.getResponseText=Rs.prototype.la,Rs.prototype.send=Rs.prototype.ea,Rs.prototype.setWithCredentials=Rs.prototype.Fa,XhrIo=Rs}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const F$2="@firebase/firestore",M$1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let User$1=class{constructor($e){this.uid=$e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual($e){return $e.uid===this.uid}};User$1.UNAUTHENTICATED=new User$1(null),User$1.GOOGLE_CREDENTIALS=new User$1("google-credentials-uid"),User$1.FIRST_PARTY=new User$1("first-party-uid"),User$1.MOCK_USER=new User$1("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x$3="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$1=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return O$1.logLevel}function __PRIVATE_logDebug(Ve,...$e){if(O$1.logLevel<=LogLevel.DEBUG){const Be=$e.map(__PRIVATE_argToString);O$1.debug(`Firestore (${x$3}): ${Ve}`,...Be)}}function __PRIVATE_logError(Ve,...$e){if(O$1.logLevel<=LogLevel.ERROR){const Be=$e.map(__PRIVATE_argToString);O$1.error(`Firestore (${x$3}): ${Ve}`,...Be)}}function __PRIVATE_logWarn(Ve,...$e){if(O$1.logLevel<=LogLevel.WARN){const Be=$e.map(__PRIVATE_argToString);O$1.warn(`Firestore (${x$3}): ${Ve}`,...Be)}}function __PRIVATE_argToString(Ve){if(typeof Ve=="string")return Ve;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(Be){return JSON.stringify(Be)})(Ve)}catch{return Ve}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(Ve,$e,Be){let Ue="Unexpected state";typeof $e=="string"?Ue=$e:Be=$e,__PRIVATE__fail(Ve,Ue,Be)}function __PRIVATE__fail(Ve,$e,Be){let Ue=`FIRESTORE (${x$3}) INTERNAL ASSERTION FAILED: ${$e} (ID: ${Ve.toString(16)})`;if(Be!==void 0)try{Ue+=" CONTEXT: "+JSON.stringify(Be)}catch{Ue+=" CONTEXT: "+Be}throw __PRIVATE_logError(Ue),new Error(Ue)}function __PRIVATE_hardAssert(Ve,$e,Be,Ue){let ze="Unexpected state";typeof Be=="string"?ze=Be:Ue=Be,Ve||__PRIVATE__fail($e,ze,Ue)}function __PRIVATE_debugCast(Ve,$e){return Ve}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$2={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor($e,Be){super($e,Be),this.code=$e,this.message=Be,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((($e,Be)=>{this.resolve=$e,this.reject=Be}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor($e,Be){this.user=Be,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${$e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start($e,Be){$e.enqueueRetryable((()=>Be(User$1.UNAUTHENTICATED)))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor($e){this.token=$e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start($e,Be){this.changeListener=Be,$e.enqueueRetryable((()=>Be(this.token.user)))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor($e){this.t=$e,this.currentUser=User$1.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start($e,Be){__PRIVATE_hardAssert(this.o===void 0,42304);let Ue=this.i;const ze=Ge=>this.i!==Ue?(Ue=this.i,Be(Ge)):Promise.resolve();let qe=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),qe.resolve(),qe=new __PRIVATE_Deferred,$e.enqueueRetryable((()=>ze(this.currentUser)))};const He=()=>{const Ge=qe;$e.enqueueRetryable((async()=>{await Ge.promise,await ze(this.currentUser)}))},We=Ge=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Ge,this.o&&(this.auth.addAuthTokenListener(this.o),He())};this.t.onInit((Ge=>We(Ge))),setTimeout((()=>{if(!this.auth){const Ge=this.t.getImmediate({optional:!0});Ge?We(Ge):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),qe.resolve(),qe=new __PRIVATE_Deferred)}}),0),He()}getToken(){const $e=this.i,Be=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(Be).then((Ue=>this.i!==$e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):Ue?(__PRIVATE_hardAssert(typeof Ue.accessToken=="string",31837,{l:Ue}),new __PRIVATE_OAuthToken(Ue.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const $e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert($e===null||typeof $e=="string",2055,{h:$e}),new User$1($e)}}class __PRIVATE_FirstPartyToken{constructor($e,Be,Ue){this.P=$e,this.T=Be,this.I=Ue,this.type="FirstParty",this.user=User$1.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const $e=this.R();return $e&&this.A.set("Authorization",$e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor($e,Be,Ue){this.P=$e,this.T=Be,this.I=Ue}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.P,this.T,this.I))}start($e,Be){$e.enqueueRetryable((()=>Be(User$1.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor($e){this.value=$e,this.type="AppCheck",this.headers=new Map,$e&&$e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor($e,Be){this.V=Be,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_isFirebaseServerApp($e)&&$e.settings.appCheckToken&&(this.p=$e.settings.appCheckToken)}start($e,Be){__PRIVATE_hardAssert(this.o===void 0,3512);const Ue=qe=>{qe.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${qe.error.message}`);const He=qe.token!==this.m;return this.m=qe.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${He?"new":"existing"} token.`),He?Be(qe.token):Promise.resolve()};this.o=qe=>{$e.enqueueRetryable((()=>Ue(qe)))};const ze=qe=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=qe,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((qe=>ze(qe))),setTimeout((()=>{if(!this.appCheck){const qe=this.V.getImmediate({optional:!0});qe?ze(qe):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AppCheckToken(this.p));const $e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken($e).then((Be=>Be?(__PRIVATE_hardAssert(typeof Be.token=="string",44558,{tokenResult:Be}),this.m=Be.token,new AppCheckToken(Be.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(Ve){const $e=typeof self<"u"&&(self.crypto||self.msCrypto),Be=new Uint8Array(Ve);if($e&&typeof $e.getRandomValues=="function")$e.getRandomValues(Be);else for(let Ue=0;Ue<Ve;Ue++)Be[Ue]=Math.floor(256*Math.random());return Be}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Be=62*Math.floor(4.129032258064516);let Ue="";for(;Ue.length<20;){const ze=__PRIVATE_randomBytes(40);for(let qe=0;qe<ze.length;++qe)Ue.length<20&&ze[qe]<Be&&(Ue+=$e.charAt(ze[qe]%62))}return Ue}}function __PRIVATE_primitiveComparator(Ve,$e){return Ve<$e?-1:Ve>$e?1:0}function __PRIVATE_compareUtf8Strings(Ve,$e){const Be=Math.min(Ve.length,$e.length);for(let Ue=0;Ue<Be;Ue++){const ze=Ve.charAt(Ue),qe=$e.charAt(Ue);if(ze!==qe)return __PRIVATE_isSurrogate(ze)===__PRIVATE_isSurrogate(qe)?__PRIVATE_primitiveComparator(ze,qe):__PRIVATE_isSurrogate(ze)?1:-1}return __PRIVATE_primitiveComparator(Ve.length,$e.length)}const B$1=55296,L$2=57343;function __PRIVATE_isSurrogate(Ve){const $e=Ve.charCodeAt(0);return $e>=B$1&&$e<=L$2}function __PRIVATE_arrayEquals(Ve,$e,Be){return Ve.length===$e.length&&Ve.every(((Ue,ze)=>Be(Ue,$e[ze])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$3="__name__";class BasePath{constructor($e,Be,Ue){Be===void 0?Be=0:Be>$e.length&&fail(637,{offset:Be,range:$e.length}),Ue===void 0?Ue=$e.length-Be:Ue>$e.length-Be&&fail(1746,{length:Ue,range:$e.length-Be}),this.segments=$e,this.offset=Be,this.len=Ue}get length(){return this.len}isEqual($e){return BasePath.comparator(this,$e)===0}child($e){const Be=this.segments.slice(this.offset,this.limit());return $e instanceof BasePath?$e.forEach((Ue=>{Be.push(Ue)})):Be.push($e),this.construct(Be)}limit(){return this.offset+this.length}popFirst($e){return $e=$e===void 0?1:$e,this.construct(this.segments,this.offset+$e,this.length-$e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get($e){return this.segments[this.offset+$e]}isEmpty(){return this.length===0}isPrefixOf($e){if($e.length<this.length)return!1;for(let Be=0;Be<this.length;Be++)if(this.get(Be)!==$e.get(Be))return!1;return!0}isImmediateParentOf($e){if(this.length+1!==$e.length)return!1;for(let Be=0;Be<this.length;Be++)if(this.get(Be)!==$e.get(Be))return!1;return!0}forEach($e){for(let Be=this.offset,Ue=this.limit();Be<Ue;Be++)$e(this.segments[Be])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator($e,Be){const Ue=Math.min($e.length,Be.length);for(let ze=0;ze<Ue;ze++){const qe=BasePath.compareSegments($e.get(ze),Be.get(ze));if(qe!==0)return qe}return __PRIVATE_primitiveComparator($e.length,Be.length)}static compareSegments($e,Be){const Ue=BasePath.isNumericId($e),ze=BasePath.isNumericId(Be);return Ue&&!ze?-1:!Ue&&ze?1:Ue&&ze?BasePath.extractNumericId($e).compare(BasePath.extractNumericId(Be)):__PRIVATE_compareUtf8Strings($e,Be)}static isNumericId($e){return $e.startsWith("__id")&&$e.endsWith("__")}static extractNumericId($e){return Integer.fromString($e.substring(4,$e.length-2))}}class ResourcePath extends BasePath{construct($e,Be,Ue){return new ResourcePath($e,Be,Ue)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...$e){const Be=[];for(const Ue of $e){if(Ue.indexOf("//")>=0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid segment (${Ue}). Paths must not contain // in them.`);Be.push(...Ue.split("/").filter((ze=>ze.length>0)))}return new ResourcePath(Be)}static emptyPath(){return new ResourcePath([])}}const q$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct($e,Be,Ue){return new FieldPath$1($e,Be,Ue)}static isValidIdentifier($e){return q$1.test($e)}canonicalString(){return this.toArray().map(($e=>($e=$e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier($e)||($e="`"+$e+"`"),$e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k$3}static keyField(){return new FieldPath$1([k$3])}static fromServerFormat($e){const Be=[];let Ue="",ze=0;const qe=()=>{if(Ue.length===0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid field path (${$e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);Be.push(Ue),Ue=""};let He=!1;for(;ze<$e.length;){const We=$e[ze];if(We==="\\"){if(ze+1===$e.length)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Path has trailing escape character: "+$e);const Ge=$e[ze+1];if(Ge!=="\\"&&Ge!=="."&&Ge!=="`")throw new FirestoreError(N$2.INVALID_ARGUMENT,"Path has invalid escape sequence: "+$e);Ue+=Ge,ze+=2}else We==="`"?(He=!He,ze++):We!=="."||He?(Ue+=We,ze++):(qe(),ze++)}if(qe(),He)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Unterminated ` in path: "+$e);return new FieldPath$1(Be)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor($e){this.path=$e}static fromPath($e){return new DocumentKey(ResourcePath.fromString($e))}static fromName($e){return new DocumentKey(ResourcePath.fromString($e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId($e){return this.path.length>=2&&this.path.get(this.path.length-2)===$e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual($e){return $e!==null&&ResourcePath.comparator(this.path,$e.path)===0}toString(){return this.path.toString()}static comparator($e,Be){return ResourcePath.comparator($e.path,Be.path)}static isDocumentKey($e){return $e.length%2==0}static fromSegments($e){return new DocumentKey(new ResourcePath($e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(Ve,$e,Be){if(!Be)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Function ${Ve}() cannot be called with an empty ${$e}.`)}function __PRIVATE_validateIsNotUsedTogether(Ve,$e,Be,Ue){if($e===!0&&Ue===!0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`${Ve} and ${Be} cannot be used together.`)}function __PRIVATE_validateDocumentPath(Ve){if(!DocumentKey.isDocumentKey(Ve))throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Ve} has ${Ve.length}.`)}function __PRIVATE_validateCollectionPath(Ve){if(DocumentKey.isDocumentKey(Ve))throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Ve} has ${Ve.length}.`)}function __PRIVATE_isPlainObject(Ve){return typeof Ve=="object"&&Ve!==null&&(Object.getPrototypeOf(Ve)===Object.prototype||Object.getPrototypeOf(Ve)===null)}function __PRIVATE_valueDescription(Ve){if(Ve===void 0)return"undefined";if(Ve===null)return"null";if(typeof Ve=="string")return Ve.length>20&&(Ve=`${Ve.substring(0,20)}...`),JSON.stringify(Ve);if(typeof Ve=="number"||typeof Ve=="boolean")return""+Ve;if(typeof Ve=="object"){if(Ve instanceof Array)return"an array";{const $e=(function(Ue){return Ue.constructor?Ue.constructor.name:null})(Ve);return $e?`a custom ${$e} object`:"an object"}}return typeof Ve=="function"?"a function":fail(12329,{type:typeof Ve})}function __PRIVATE_cast(Ve,$e){if("_delegate"in Ve&&(Ve=Ve._delegate),!(Ve instanceof $e)){if($e.name===Ve.constructor.name)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const Be=__PRIVATE_valueDescription(Ve);throw new FirestoreError(N$2.INVALID_ARGUMENT,`Expected type '${$e.name}', but it was: ${Be}`)}}return Ve}function __PRIVATE_validatePositiveNumber(Ve,$e){if($e<=0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Function ${Ve}() requires a positive number, but it was: ${$e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function property$1(Ve,$e){const Be={typeString:Ve};return $e&&(Be.value=$e),Be}function __PRIVATE_validateJSON(Ve,$e){if(!__PRIVATE_isPlainObject(Ve))throw new FirestoreError(N$2.INVALID_ARGUMENT,"JSON must be an object");let Be;for(const Ue in $e)if($e[Ue]){const ze=$e[Ue].typeString,qe="value"in $e[Ue]?{value:$e[Ue].value}:void 0;if(!(Ue in Ve)){Be=`JSON missing required field: '${Ue}'`;break}const He=Ve[Ue];if(ze&&typeof He!==ze){Be=`JSON field '${Ue}' must be a ${ze}.`;break}if(qe!==void 0&&He!==qe.value){Be=`Expected '${Ue}' field to equal '${qe.value}'`;break}}if(Be)throw new FirestoreError(N$2.INVALID_ARGUMENT,Be);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$2=-62135596800,$$2=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate($e){return Timestamp.fromMillis($e.getTime())}static fromMillis($e){const Be=Math.floor($e/1e3),Ue=Math.floor(($e-1e3*Be)*$$2);return new Timestamp(Be,Ue)}constructor($e,Be){if(this.seconds=$e,this.nanoseconds=Be,Be<0)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Be);if(Be>=1e9)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Be);if($e<Q$2)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Timestamp seconds out of range: "+$e);if($e>=253402300800)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Timestamp seconds out of range: "+$e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$$2}_compareTo($e){return this.seconds===$e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,$e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,$e.seconds)}isEqual($e){return $e.seconds===this.seconds&&$e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Timestamp._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON($e){if(__PRIVATE_validateJSON($e,Timestamp._jsonSchema))return new Timestamp($e.seconds,$e.nanoseconds)}valueOf(){const $e=this.seconds-Q$2;return String($e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Timestamp._jsonSchemaVersion="firestore/timestamp/1.0",Timestamp._jsonSchema={type:property$1("string",Timestamp._jsonSchemaVersion),seconds:property$1("number"),nanoseconds:property$1("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{static fromTimestamp($e){return new SnapshotVersion($e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor($e){this.timestamp=$e}compareTo($e){return this.timestamp._compareTo($e.timestamp)}isEqual($e){return this.timestamp.isEqual($e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$1=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(Ve,$e){const Be=Ve.toTimestamp().seconds,Ue=Ve.toTimestamp().nanoseconds+1,ze=SnapshotVersion.fromTimestamp(Ue===1e9?new Timestamp(Be+1,0):new Timestamp(Be,Ue));return new IndexOffset(ze,DocumentKey.empty(),$e)}function __PRIVATE_newIndexOffsetFromDocument(Ve){return new IndexOffset(Ve.readTime,Ve.key,U$1)}class IndexOffset{constructor($e,Be,Ue){this.readTime=$e,this.documentKey=Be,this.largestBatchId=Ue}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),U$1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),U$1)}}function __PRIVATE_indexOffsetComparator(Ve,$e){let Be=Ve.readTime.compareTo($e.readTime);return Be!==0?Be:(Be=DocumentKey.comparator(Ve.documentKey,$e.documentKey),Be!==0?Be:__PRIVATE_primitiveComparator(Ve.largestBatchId,$e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener($e){this.onCommittedListeners.push($e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(($e=>$e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(Ve){if(Ve.code!==N$2.FAILED_PRECONDITION||Ve.message!==K$1)throw Ve;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor($e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,$e((Be=>{this.isDone=!0,this.result=Be,this.nextCallback&&this.nextCallback(Be)}),(Be=>{this.isDone=!0,this.error=Be,this.catchCallback&&this.catchCallback(Be)}))}catch($e){return this.next(void 0,$e)}next($e,Be){return this.callbackAttached&&fail(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(Be,this.error):this.wrapSuccess($e,this.result):new PersistencePromise(((Ue,ze)=>{this.nextCallback=qe=>{this.wrapSuccess($e,qe).next(Ue,ze)},this.catchCallback=qe=>{this.wrapFailure(Be,qe).next(Ue,ze)}}))}toPromise(){return new Promise((($e,Be)=>{this.next($e,Be)}))}wrapUserFunction($e){try{const Be=$e();return Be instanceof PersistencePromise?Be:PersistencePromise.resolve(Be)}catch(Be){return PersistencePromise.reject(Be)}}wrapSuccess($e,Be){return $e?this.wrapUserFunction((()=>$e(Be))):PersistencePromise.resolve(Be)}wrapFailure($e,Be){return $e?this.wrapUserFunction((()=>$e(Be))):PersistencePromise.reject(Be)}static resolve($e){return new PersistencePromise(((Be,Ue)=>{Be($e)}))}static reject($e){return new PersistencePromise(((Be,Ue)=>{Ue($e)}))}static waitFor($e){return new PersistencePromise(((Be,Ue)=>{let ze=0,qe=0,He=!1;$e.forEach((We=>{++ze,We.next((()=>{++qe,He&&qe===ze&&Be()}),(Ge=>Ue(Ge)))})),He=!0,qe===ze&&Be()}))}static or($e){let Be=PersistencePromise.resolve(!1);for(const Ue of $e)Be=Be.next((ze=>ze?PersistencePromise.resolve(ze):Ue()));return Be}static forEach($e,Be){const Ue=[];return $e.forEach(((ze,qe)=>{Ue.push(Be.call(this,ze,qe))})),this.waitFor(Ue)}static mapArray($e,Be){return new PersistencePromise(((Ue,ze)=>{const qe=$e.length,He=new Array(qe);let We=0;for(let Ge=0;Ge<qe;Ge++){const Ye=Ge;Be($e[Ye]).next((Xe=>{He[Ye]=Xe,++We,We===qe&&Ue(He)}),(Xe=>ze(Xe)))}}))}static doWhile($e,Be){return new PersistencePromise(((Ue,ze)=>{const qe=()=>{$e()===!0?Be().next((()=>{qe()}),ze):Ue()};qe()}))}}function __PRIVATE_getAndroidVersion(Ve){const $e=Ve.match(/Android ([\d.]+)/i),Be=$e?$e[1].split(".").slice(0,2).join("."):"-1";return Number(Be)}function __PRIVATE_isIndexedDbTransactionError(Ve){return Ve.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor($e,Be){this.previousValue=$e,Be&&(Be.sequenceNumberHandler=Ue=>this.ae(Ue),this.ue=Ue=>Be.writeSequenceNumber(Ue))}ae($e){return this.previousValue=Math.max($e,this.previousValue),this.previousValue}next(){const $e=++this.previousValue;return this.ue&&this.ue($e),$e}}__PRIVATE_ListenSequence.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$2=-1;function __PRIVATE_isNullOrUndefined(Ve){return Ve==null}function __PRIVATE_isNegativeZero(Ve){return Ve===0&&1/Ve==-1/0}function isSafeInteger(Ve){return typeof Ve=="number"&&Number.isInteger(Ve)&&!__PRIVATE_isNegativeZero(Ve)&&Ve<=Number.MAX_SAFE_INTEGER&&Ve>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$1="";function __PRIVATE_encodeResourcePath(Ve){let $e="";for(let Be=0;Be<Ve.length;Be++)$e.length>0&&($e=__PRIVATE_encodeSeparator($e)),$e=__PRIVATE_encodeSegment(Ve.get(Be),$e);return __PRIVATE_encodeSeparator($e)}function __PRIVATE_encodeSegment(Ve,$e){let Be=$e;const Ue=Ve.length;for(let ze=0;ze<Ue;ze++){const qe=Ve.charAt(ze);switch(qe){case"\0":Be+="";break;case J$1:Be+="";break;default:Be+=qe}}return Be}function __PRIVATE_encodeSeparator(Ve){return Ve+J$1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(Ve){let $e=0;for(const Be in Ve)Object.prototype.hasOwnProperty.call(Ve,Be)&&$e++;return $e}function forEach(Ve,$e){for(const Be in Ve)Object.prototype.hasOwnProperty.call(Ve,Be)&&$e(Be,Ve[Be])}function isEmpty(Ve){for(const $e in Ve)if(Object.prototype.hasOwnProperty.call(Ve,$e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor($e,Be){this.comparator=$e,this.root=Be||LLRBNode.EMPTY}insert($e,Be){return new SortedMap(this.comparator,this.root.insert($e,Be,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove($e){return new SortedMap(this.comparator,this.root.remove($e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get($e){let Be=this.root;for(;!Be.isEmpty();){const Ue=this.comparator($e,Be.key);if(Ue===0)return Be.value;Ue<0?Be=Be.left:Ue>0&&(Be=Be.right)}return null}indexOf($e){let Be=0,Ue=this.root;for(;!Ue.isEmpty();){const ze=this.comparator($e,Ue.key);if(ze===0)return Be+Ue.left.size;ze<0?Ue=Ue.left:(Be+=Ue.left.size+1,Ue=Ue.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal($e){return this.root.inorderTraversal($e)}forEach($e){this.inorderTraversal(((Be,Ue)=>($e(Be,Ue),!1)))}toString(){const $e=[];return this.inorderTraversal(((Be,Ue)=>($e.push(`${Be}:${Ue}`),!1))),`{${$e.join(", ")}}`}reverseTraversal($e){return this.root.reverseTraversal($e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom($e){return new SortedMapIterator(this.root,$e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom($e){return new SortedMapIterator(this.root,$e,this.comparator,!0)}}class SortedMapIterator{constructor($e,Be,Ue,ze){this.isReverse=ze,this.nodeStack=[];let qe=1;for(;!$e.isEmpty();)if(qe=Be?Ue($e.key,Be):1,Be&&ze&&(qe*=-1),qe<0)$e=this.isReverse?$e.left:$e.right;else{if(qe===0){this.nodeStack.push($e);break}this.nodeStack.push($e),$e=this.isReverse?$e.right:$e.left}}getNext(){let $e=this.nodeStack.pop();const Be={key:$e.key,value:$e.value};if(this.isReverse)for($e=$e.left;!$e.isEmpty();)this.nodeStack.push($e),$e=$e.right;else for($e=$e.right;!$e.isEmpty();)this.nodeStack.push($e),$e=$e.left;return Be}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const $e=this.nodeStack[this.nodeStack.length-1];return{key:$e.key,value:$e.value}}}class LLRBNode{constructor($e,Be,Ue,ze,qe){this.key=$e,this.value=Be,this.color=Ue??LLRBNode.RED,this.left=ze??LLRBNode.EMPTY,this.right=qe??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy($e,Be,Ue,ze,qe){return new LLRBNode($e??this.key,Be??this.value,Ue??this.color,ze??this.left,qe??this.right)}isEmpty(){return!1}inorderTraversal($e){return this.left.inorderTraversal($e)||$e(this.key,this.value)||this.right.inorderTraversal($e)}reverseTraversal($e){return this.right.reverseTraversal($e)||$e(this.key,this.value)||this.left.reverseTraversal($e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert($e,Be,Ue){let ze=this;const qe=Ue($e,ze.key);return ze=qe<0?ze.copy(null,null,null,ze.left.insert($e,Be,Ue),null):qe===0?ze.copy(null,Be,null,null,null):ze.copy(null,null,null,null,ze.right.insert($e,Be,Ue)),ze.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let $e=this;return $e.left.isRed()||$e.left.left.isRed()||($e=$e.moveRedLeft()),$e=$e.copy(null,null,null,$e.left.removeMin(),null),$e.fixUp()}remove($e,Be){let Ue,ze=this;if(Be($e,ze.key)<0)ze.left.isEmpty()||ze.left.isRed()||ze.left.left.isRed()||(ze=ze.moveRedLeft()),ze=ze.copy(null,null,null,ze.left.remove($e,Be),null);else{if(ze.left.isRed()&&(ze=ze.rotateRight()),ze.right.isEmpty()||ze.right.isRed()||ze.right.left.isRed()||(ze=ze.moveRedRight()),Be($e,ze.key)===0){if(ze.right.isEmpty())return LLRBNode.EMPTY;Ue=ze.right.min(),ze=ze.copy(Ue.key,Ue.value,null,null,ze.right.removeMin())}ze=ze.copy(null,null,null,null,ze.right.remove($e,Be))}return ze.fixUp()}isRed(){return this.color}fixUp(){let $e=this;return $e.right.isRed()&&!$e.left.isRed()&&($e=$e.rotateLeft()),$e.left.isRed()&&$e.left.left.isRed()&&($e=$e.rotateRight()),$e.left.isRed()&&$e.right.isRed()&&($e=$e.colorFlip()),$e}moveRedLeft(){let $e=this.colorFlip();return $e.right.left.isRed()&&($e=$e.copy(null,null,null,null,$e.right.rotateRight()),$e=$e.rotateLeft(),$e=$e.colorFlip()),$e}moveRedRight(){let $e=this.colorFlip();return $e.left.left.isRed()&&($e=$e.rotateRight(),$e=$e.colorFlip()),$e}rotateLeft(){const $e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,$e,null)}rotateRight(){const $e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,$e)}colorFlip(){const $e=this.left.copy(null,null,!this.left.color,null,null),Be=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,$e,Be)}checkMaxDepth(){const $e=this.check();return Math.pow(2,$e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fail(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fail(14113,{key:this.key,value:this.value});const $e=this.left.check();if($e!==this.right.check())throw fail(27949);return $e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail(57766)}get value(){throw fail(16141)}get color(){throw fail(16727)}get left(){throw fail(29726)}get right(){throw fail(36894)}copy($e,Be,Ue,ze,qe){return this}insert($e,Be,Ue){return new LLRBNode($e,Be)}remove($e,Be){return this}isEmpty(){return!0}inorderTraversal($e){return!1}reverseTraversal($e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor($e){this.comparator=$e,this.data=new SortedMap(this.comparator)}has($e){return this.data.get($e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf($e){return this.data.indexOf($e)}forEach($e){this.data.inorderTraversal(((Be,Ue)=>($e(Be),!1)))}forEachInRange($e,Be){const Ue=this.data.getIteratorFrom($e[0]);for(;Ue.hasNext();){const ze=Ue.getNext();if(this.comparator(ze.key,$e[1])>=0)return;Be(ze.key)}}forEachWhile($e,Be){let Ue;for(Ue=Be!==void 0?this.data.getIteratorFrom(Be):this.data.getIterator();Ue.hasNext();)if(!$e(Ue.getNext().key))return}firstAfterOrEqual($e){const Be=this.data.getIteratorFrom($e);return Be.hasNext()?Be.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom($e){return new SortedSetIterator(this.data.getIteratorFrom($e))}add($e){return this.copy(this.data.remove($e).insert($e,!0))}delete($e){return this.has($e)?this.copy(this.data.remove($e)):this}isEmpty(){return this.data.isEmpty()}unionWith($e){let Be=this;return Be.size<$e.size&&(Be=$e,$e=this),$e.forEach((Ue=>{Be=Be.add(Ue)})),Be}isEqual($e){if(!($e instanceof SortedSet)||this.size!==$e.size)return!1;const Be=this.data.getIterator(),Ue=$e.data.getIterator();for(;Be.hasNext();){const ze=Be.getNext().key,qe=Ue.getNext().key;if(this.comparator(ze,qe)!==0)return!1}return!0}toArray(){const $e=[];return this.forEach((Be=>{$e.push(Be)})),$e}toString(){const $e=[];return this.forEach((Be=>$e.push(Be))),"SortedSet("+$e.toString()+")"}copy($e){const Be=new SortedSet(this.comparator);return Be.data=$e,Be}}class SortedSetIterator{constructor($e){this.iter=$e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor($e){this.fields=$e,$e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith($e){let Be=new SortedSet(FieldPath$1.comparator);for(const Ue of this.fields)Be=Be.add(Ue);for(const Ue of $e)Be=Be.add(Ue);return new FieldMask(Be.toArray())}covers($e){for(const Be of this.fields)if(Be.isPrefixOf($e))return!0;return!1}isEqual($e){return __PRIVATE_arrayEquals(this.fields,$e.fields,((Be,Ue)=>Be.isEqual(Ue)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor($e){this.binaryString=$e}static fromBase64String($e){const Be=(function(ze){try{return atob(ze)}catch(qe){throw typeof DOMException<"u"&&qe instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+qe):qe}})($e);return new ByteString(Be)}static fromUint8Array($e){const Be=(function(ze){let qe="";for(let He=0;He<ze.length;++He)qe+=String.fromCharCode(ze[He]);return qe})($e);return new ByteString(Be)}[Symbol.iterator](){let $e=0;return{next:()=>$e<this.binaryString.length?{value:this.binaryString.charCodeAt($e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(Be){return btoa(Be)})(this.binaryString)}toUint8Array(){return(function(Be){const Ue=new Uint8Array(Be.length);for(let ze=0;ze<Be.length;ze++)Ue[ze]=Be.charCodeAt(ze);return Ue})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo($e){return __PRIVATE_primitiveComparator(this.binaryString,$e.binaryString)}isEqual($e){return this.binaryString===$e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ot$1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(Ve){if(__PRIVATE_hardAssert(!!Ve,39018),typeof Ve=="string"){let $e=0;const Be=ot$1.exec(Ve);if(__PRIVATE_hardAssert(!!Be,46558,{timestamp:Ve}),Be[1]){let ze=Be[1];ze=(ze+"000000000").substr(0,9),$e=Number(ze)}const Ue=new Date(Ve);return{seconds:Math.floor(Ue.getTime()/1e3),nanos:$e}}return{seconds:__PRIVATE_normalizeNumber(Ve.seconds),nanos:__PRIVATE_normalizeNumber(Ve.nanos)}}function __PRIVATE_normalizeNumber(Ve){return typeof Ve=="number"?Ve:typeof Ve=="string"?Number(Ve):0}function __PRIVATE_normalizeByteString(Ve){return typeof Ve=="string"?ByteString.fromBase64String(Ve):ByteString.fromUint8Array(Ve)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t$1="server_timestamp",at$1="__type__",ut$1="__previous_value__",ct$1="__local_write_time__";function __PRIVATE_isServerTimestamp(Ve){return(Ve?.mapValue?.fields||{})[at$1]?.stringValue===_t$1}function __PRIVATE_getPreviousValue(Ve){const $e=Ve.mapValue.fields[ut$1];return __PRIVATE_isServerTimestamp($e)?__PRIVATE_getPreviousValue($e):$e}function __PRIVATE_getLocalWriteTime(Ve){const $e=__PRIVATE_normalizeTimestamp(Ve.mapValue.fields[ct$1].timestampValue);return new Timestamp($e.seconds,$e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor($e,Be,Ue,ze,qe,He,We,Ge,Ye,Xe){this.databaseId=$e,this.appId=Be,this.persistenceKey=Ue,this.host=ze,this.ssl=qe,this.forceLongPolling=He,this.autoDetectLongPolling=We,this.longPollingOptions=Ge,this.useFetchStreams=Ye,this.isUsingEmulator=Xe}}const lt$1="(default)";class DatabaseId{constructor($e,Be){this.projectId=$e,this.database=Be||lt$1}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===lt$1}isEqual($e){return $e instanceof DatabaseId&&$e.projectId===this.projectId&&$e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht$1="__type__",Pt$1="__max__",Tt$1={mapValue:{}},It$1="__vector__",Et$1="value";function __PRIVATE_typeOrder(Ve){return"nullValue"in Ve?0:"booleanValue"in Ve?1:"integerValue"in Ve||"doubleValue"in Ve?2:"timestampValue"in Ve?3:"stringValue"in Ve?5:"bytesValue"in Ve?6:"referenceValue"in Ve?7:"geoPointValue"in Ve?8:"arrayValue"in Ve?9:"mapValue"in Ve?__PRIVATE_isServerTimestamp(Ve)?4:__PRIVATE_isMaxValue(Ve)?9007199254740991:__PRIVATE_isVectorValue(Ve)?10:11:fail(28295,{value:Ve})}function __PRIVATE_valueEquals(Ve,$e){if(Ve===$e)return!0;const Be=__PRIVATE_typeOrder(Ve);if(Be!==__PRIVATE_typeOrder($e))return!1;switch(Be){case 0:case 9007199254740991:return!0;case 1:return Ve.booleanValue===$e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(Ve).isEqual(__PRIVATE_getLocalWriteTime($e));case 3:return(function(ze,qe){if(typeof ze.timestampValue=="string"&&typeof qe.timestampValue=="string"&&ze.timestampValue.length===qe.timestampValue.length)return ze.timestampValue===qe.timestampValue;const He=__PRIVATE_normalizeTimestamp(ze.timestampValue),We=__PRIVATE_normalizeTimestamp(qe.timestampValue);return He.seconds===We.seconds&&He.nanos===We.nanos})(Ve,$e);case 5:return Ve.stringValue===$e.stringValue;case 6:return(function(ze,qe){return __PRIVATE_normalizeByteString(ze.bytesValue).isEqual(__PRIVATE_normalizeByteString(qe.bytesValue))})(Ve,$e);case 7:return Ve.referenceValue===$e.referenceValue;case 8:return(function(ze,qe){return __PRIVATE_normalizeNumber(ze.geoPointValue.latitude)===__PRIVATE_normalizeNumber(qe.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(ze.geoPointValue.longitude)===__PRIVATE_normalizeNumber(qe.geoPointValue.longitude)})(Ve,$e);case 2:return(function(ze,qe){if("integerValue"in ze&&"integerValue"in qe)return __PRIVATE_normalizeNumber(ze.integerValue)===__PRIVATE_normalizeNumber(qe.integerValue);if("doubleValue"in ze&&"doubleValue"in qe){const He=__PRIVATE_normalizeNumber(ze.doubleValue),We=__PRIVATE_normalizeNumber(qe.doubleValue);return He===We?__PRIVATE_isNegativeZero(He)===__PRIVATE_isNegativeZero(We):isNaN(He)&&isNaN(We)}return!1})(Ve,$e);case 9:return __PRIVATE_arrayEquals(Ve.arrayValue.values||[],$e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return(function(ze,qe){const He=ze.mapValue.fields||{},We=qe.mapValue.fields||{};if(__PRIVATE_objectSize(He)!==__PRIVATE_objectSize(We))return!1;for(const Ge in He)if(He.hasOwnProperty(Ge)&&(We[Ge]===void 0||!__PRIVATE_valueEquals(He[Ge],We[Ge])))return!1;return!0})(Ve,$e);default:return fail(52216,{left:Ve})}}function __PRIVATE_arrayValueContains(Ve,$e){return(Ve.values||[]).find((Be=>__PRIVATE_valueEquals(Be,$e)))!==void 0}function __PRIVATE_valueCompare(Ve,$e){if(Ve===$e)return 0;const Be=__PRIVATE_typeOrder(Ve),Ue=__PRIVATE_typeOrder($e);if(Be!==Ue)return __PRIVATE_primitiveComparator(Be,Ue);switch(Be){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(Ve.booleanValue,$e.booleanValue);case 2:return(function(qe,He){const We=__PRIVATE_normalizeNumber(qe.integerValue||qe.doubleValue),Ge=__PRIVATE_normalizeNumber(He.integerValue||He.doubleValue);return We<Ge?-1:We>Ge?1:We===Ge?0:isNaN(We)?isNaN(Ge)?0:-1:1})(Ve,$e);case 3:return __PRIVATE_compareTimestamps(Ve.timestampValue,$e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(Ve),__PRIVATE_getLocalWriteTime($e));case 5:return __PRIVATE_compareUtf8Strings(Ve.stringValue,$e.stringValue);case 6:return(function(qe,He){const We=__PRIVATE_normalizeByteString(qe),Ge=__PRIVATE_normalizeByteString(He);return We.compareTo(Ge)})(Ve.bytesValue,$e.bytesValue);case 7:return(function(qe,He){const We=qe.split("/"),Ge=He.split("/");for(let Ye=0;Ye<We.length&&Ye<Ge.length;Ye++){const Xe=__PRIVATE_primitiveComparator(We[Ye],Ge[Ye]);if(Xe!==0)return Xe}return __PRIVATE_primitiveComparator(We.length,Ge.length)})(Ve.referenceValue,$e.referenceValue);case 8:return(function(qe,He){const We=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(qe.latitude),__PRIVATE_normalizeNumber(He.latitude));return We!==0?We:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(qe.longitude),__PRIVATE_normalizeNumber(He.longitude))})(Ve.geoPointValue,$e.geoPointValue);case 9:return __PRIVATE_compareArrays(Ve.arrayValue,$e.arrayValue);case 10:return(function(qe,He){const We=qe.fields||{},Ge=He.fields||{},Ye=We[Et$1]?.arrayValue,Xe=Ge[Et$1]?.arrayValue,Je=__PRIVATE_primitiveComparator(Ye?.values?.length||0,Xe?.values?.length||0);return Je!==0?Je:__PRIVATE_compareArrays(Ye,Xe)})(Ve.mapValue,$e.mapValue);case 11:return(function(qe,He){if(qe===Tt$1.mapValue&&He===Tt$1.mapValue)return 0;if(qe===Tt$1.mapValue)return 1;if(He===Tt$1.mapValue)return-1;const We=qe.fields||{},Ge=Object.keys(We),Ye=He.fields||{},Xe=Object.keys(Ye);Ge.sort(),Xe.sort();for(let Je=0;Je<Ge.length&&Je<Xe.length;++Je){const er=__PRIVATE_compareUtf8Strings(Ge[Je],Xe[Je]);if(er!==0)return er;const Ze=__PRIVATE_valueCompare(We[Ge[Je]],Ye[Xe[Je]]);if(Ze!==0)return Ze}return __PRIVATE_primitiveComparator(Ge.length,Xe.length)})(Ve.mapValue,$e.mapValue);default:throw fail(23264,{he:Be})}}function __PRIVATE_compareTimestamps(Ve,$e){if(typeof Ve=="string"&&typeof $e=="string"&&Ve.length===$e.length)return __PRIVATE_primitiveComparator(Ve,$e);const Be=__PRIVATE_normalizeTimestamp(Ve),Ue=__PRIVATE_normalizeTimestamp($e),ze=__PRIVATE_primitiveComparator(Be.seconds,Ue.seconds);return ze!==0?ze:__PRIVATE_primitiveComparator(Be.nanos,Ue.nanos)}function __PRIVATE_compareArrays(Ve,$e){const Be=Ve.values||[],Ue=$e.values||[];for(let ze=0;ze<Be.length&&ze<Ue.length;++ze){const qe=__PRIVATE_valueCompare(Be[ze],Ue[ze]);if(qe)return qe}return __PRIVATE_primitiveComparator(Be.length,Ue.length)}function canonicalId(Ve){return __PRIVATE_canonifyValue(Ve)}function __PRIVATE_canonifyValue(Ve){return"nullValue"in Ve?"null":"booleanValue"in Ve?""+Ve.booleanValue:"integerValue"in Ve?""+Ve.integerValue:"doubleValue"in Ve?""+Ve.doubleValue:"timestampValue"in Ve?(function(Be){const Ue=__PRIVATE_normalizeTimestamp(Be);return`time(${Ue.seconds},${Ue.nanos})`})(Ve.timestampValue):"stringValue"in Ve?Ve.stringValue:"bytesValue"in Ve?(function(Be){return __PRIVATE_normalizeByteString(Be).toBase64()})(Ve.bytesValue):"referenceValue"in Ve?(function(Be){return DocumentKey.fromName(Be).toString()})(Ve.referenceValue):"geoPointValue"in Ve?(function(Be){return`geo(${Be.latitude},${Be.longitude})`})(Ve.geoPointValue):"arrayValue"in Ve?(function(Be){let Ue="[",ze=!0;for(const qe of Be.values||[])ze?ze=!1:Ue+=",",Ue+=__PRIVATE_canonifyValue(qe);return Ue+"]"})(Ve.arrayValue):"mapValue"in Ve?(function(Be){const Ue=Object.keys(Be.fields||{}).sort();let ze="{",qe=!0;for(const He of Ue)qe?qe=!1:ze+=",",ze+=`${He}:${__PRIVATE_canonifyValue(Be.fields[He])}`;return ze+"}"})(Ve.mapValue):fail(61005,{value:Ve})}function __PRIVATE_estimateByteSize(Ve){switch(__PRIVATE_typeOrder(Ve)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const $e=__PRIVATE_getPreviousValue(Ve);return $e?16+__PRIVATE_estimateByteSize($e):16;case 5:return 2*Ve.stringValue.length;case 6:return __PRIVATE_normalizeByteString(Ve.bytesValue).approximateByteSize();case 7:return Ve.referenceValue.length;case 9:return(function(Ue){return(Ue.values||[]).reduce(((ze,qe)=>ze+__PRIVATE_estimateByteSize(qe)),0)})(Ve.arrayValue);case 10:case 11:return(function(Ue){let ze=0;return forEach(Ue.fields,((qe,He)=>{ze+=qe.length+__PRIVATE_estimateByteSize(He)})),ze})(Ve.mapValue);default:throw fail(13486,{value:Ve})}}function __PRIVATE_refValue(Ve,$e){return{referenceValue:`projects/${Ve.projectId}/databases/${Ve.database}/documents/${$e.path.canonicalString()}`}}function isInteger(Ve){return!!Ve&&"integerValue"in Ve}function isArray(Ve){return!!Ve&&"arrayValue"in Ve}function __PRIVATE_isNullValue(Ve){return!!Ve&&"nullValue"in Ve}function __PRIVATE_isNanValue(Ve){return!!Ve&&"doubleValue"in Ve&&isNaN(Number(Ve.doubleValue))}function __PRIVATE_isMapValue(Ve){return!!Ve&&"mapValue"in Ve}function __PRIVATE_isVectorValue(Ve){return(Ve?.mapValue?.fields||{})[ht$1]?.stringValue===It$1}function __PRIVATE_deepClone(Ve){if(Ve.geoPointValue)return{geoPointValue:{...Ve.geoPointValue}};if(Ve.timestampValue&&typeof Ve.timestampValue=="object")return{timestampValue:{...Ve.timestampValue}};if(Ve.mapValue){const $e={mapValue:{fields:{}}};return forEach(Ve.mapValue.fields,((Be,Ue)=>$e.mapValue.fields[Be]=__PRIVATE_deepClone(Ue))),$e}if(Ve.arrayValue){const $e={arrayValue:{values:[]}};for(let Be=0;Be<(Ve.arrayValue.values||[]).length;++Be)$e.arrayValue.values[Be]=__PRIVATE_deepClone(Ve.arrayValue.values[Be]);return $e}return{...Ve}}function __PRIVATE_isMaxValue(Ve){return(((Ve.mapValue||{}).fields||{}).__type__||{}).stringValue===Pt$1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor($e){this.value=$e}static empty(){return new ObjectValue({mapValue:{}})}field($e){if($e.isEmpty())return this.value;{let Be=this.value;for(let Ue=0;Ue<$e.length-1;++Ue)if(Be=(Be.mapValue.fields||{})[$e.get(Ue)],!__PRIVATE_isMapValue(Be))return null;return Be=(Be.mapValue.fields||{})[$e.lastSegment()],Be||null}}set($e,Be){this.getFieldsMap($e.popLast())[$e.lastSegment()]=__PRIVATE_deepClone(Be)}setAll($e){let Be=FieldPath$1.emptyPath(),Ue={},ze=[];$e.forEach(((He,We)=>{if(!Be.isImmediateParentOf(We)){const Ge=this.getFieldsMap(Be);this.applyChanges(Ge,Ue,ze),Ue={},ze=[],Be=We.popLast()}He?Ue[We.lastSegment()]=__PRIVATE_deepClone(He):ze.push(We.lastSegment())}));const qe=this.getFieldsMap(Be);this.applyChanges(qe,Ue,ze)}delete($e){const Be=this.field($e.popLast());__PRIVATE_isMapValue(Be)&&Be.mapValue.fields&&delete Be.mapValue.fields[$e.lastSegment()]}isEqual($e){return __PRIVATE_valueEquals(this.value,$e.value)}getFieldsMap($e){let Be=this.value;Be.mapValue.fields||(Be.mapValue={fields:{}});for(let Ue=0;Ue<$e.length;++Ue){let ze=Be.mapValue.fields[$e.get(Ue)];__PRIVATE_isMapValue(ze)&&ze.mapValue.fields||(ze={mapValue:{fields:{}}},Be.mapValue.fields[$e.get(Ue)]=ze),Be=ze}return Be.mapValue.fields}applyChanges($e,Be,Ue){forEach(Be,((ze,qe)=>$e[ze]=qe));for(const ze of Ue)delete $e[ze]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(Ve){const $e=[];return forEach(Ve.fields,((Be,Ue)=>{const ze=new FieldPath$1([Be]);if(__PRIVATE_isMapValue(Ue)){const qe=__PRIVATE_extractFieldMask(Ue.mapValue).fields;if(qe.length===0)$e.push(ze);else for(const He of qe)$e.push(ze.child(He))}else $e.push(ze)})),new FieldMask($e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor($e,Be,Ue,ze,qe,He,We){this.key=$e,this.documentType=Be,this.version=Ue,this.readTime=ze,this.createTime=qe,this.data=He,this.documentState=We}static newInvalidDocument($e){return new MutableDocument($e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument($e,Be,Ue,ze){return new MutableDocument($e,1,Be,SnapshotVersion.min(),Ue,ze,0)}static newNoDocument($e,Be){return new MutableDocument($e,2,Be,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument($e,Be){return new MutableDocument($e,3,Be,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument($e,Be){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=$e),this.version=$e,this.documentType=1,this.data=Be,this.documentState=0,this}convertToNoDocument($e){return this.version=$e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument($e){return this.version=$e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime($e){return this.readTime=$e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual($e){return $e instanceof MutableDocument&&this.key.isEqual($e.key)&&this.version.isEqual($e.version)&&this.documentType===$e.documentType&&this.documentState===$e.documentState&&this.data.isEqual($e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor($e,Be){this.position=$e,this.inclusive=Be}}function __PRIVATE_boundCompareToDocument(Ve,$e,Be){let Ue=0;for(let ze=0;ze<Ve.position.length;ze++){const qe=$e[ze],He=Ve.position[ze];if(qe.field.isKeyField()?Ue=DocumentKey.comparator(DocumentKey.fromName(He.referenceValue),Be.key):Ue=__PRIVATE_valueCompare(He,Be.data.field(qe.field)),qe.dir==="desc"&&(Ue*=-1),Ue!==0)break}return Ue}function __PRIVATE_boundEquals(Ve,$e){if(Ve===null)return $e===null;if($e===null||Ve.inclusive!==$e.inclusive||Ve.position.length!==$e.position.length)return!1;for(let Be=0;Be<Ve.position.length;Be++)if(!__PRIVATE_valueEquals(Ve.position[Be],$e.position[Be]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor($e,Be="asc"){this.field=$e,this.dir=Be}}function __PRIVATE_orderByEquals(Ve,$e){return Ve.dir===$e.dir&&Ve.field.isEqual($e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor($e,Be,Ue){super(),this.field=$e,this.op=Be,this.value=Ue}static create($e,Be,Ue){return $e.isKeyField()?Be==="in"||Be==="not-in"?this.createKeyFieldInFilter($e,Be,Ue):new __PRIVATE_KeyFieldFilter($e,Be,Ue):Be==="array-contains"?new __PRIVATE_ArrayContainsFilter($e,Ue):Be==="in"?new __PRIVATE_InFilter($e,Ue):Be==="not-in"?new __PRIVATE_NotInFilter($e,Ue):Be==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter($e,Ue):new FieldFilter($e,Be,Ue)}static createKeyFieldInFilter($e,Be,Ue){return Be==="in"?new __PRIVATE_KeyFieldInFilter($e,Ue):new __PRIVATE_KeyFieldNotInFilter($e,Ue)}matches($e){const Be=$e.data.field(this.field);return this.op==="!="?Be!==null&&Be.nullValue===void 0&&this.matchesComparison(__PRIVATE_valueCompare(Be,this.value)):Be!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(Be)&&this.matchesComparison(__PRIVATE_valueCompare(Be,this.value))}matchesComparison($e){switch(this.op){case"<":return $e<0;case"<=":return $e<=0;case"==":return $e===0;case"!=":return $e!==0;case">":return $e>0;case">=":return $e>=0;default:return fail(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor($e,Be){super(),this.filters=$e,this.op=Be,this.Pe=null}static create($e,Be){return new CompositeFilter($e,Be)}matches($e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find((Be=>!Be.matches($e)))===void 0:this.filters.find((Be=>Be.matches($e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((($e,Be)=>$e.concat(Be.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(Ve){return Ve.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(Ve){return __PRIVATE_compositeFilterIsFlat(Ve)&&__PRIVATE_compositeFilterIsConjunction(Ve)}function __PRIVATE_compositeFilterIsFlat(Ve){for(const $e of Ve.filters)if($e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(Ve){if(Ve instanceof FieldFilter)return Ve.field.canonicalString()+Ve.op.toString()+canonicalId(Ve.value);if(__PRIVATE_compositeFilterIsFlatConjunction(Ve))return Ve.filters.map(($e=>__PRIVATE_canonifyFilter($e))).join(",");{const $e=Ve.filters.map((Be=>__PRIVATE_canonifyFilter(Be))).join(",");return`${Ve.op}(${$e})`}}function __PRIVATE_filterEquals(Ve,$e){return Ve instanceof FieldFilter?(function(Ue,ze){return ze instanceof FieldFilter&&Ue.op===ze.op&&Ue.field.isEqual(ze.field)&&__PRIVATE_valueEquals(Ue.value,ze.value)})(Ve,$e):Ve instanceof CompositeFilter?(function(Ue,ze){return ze instanceof CompositeFilter&&Ue.op===ze.op&&Ue.filters.length===ze.filters.length?Ue.filters.reduce(((qe,He,We)=>qe&&__PRIVATE_filterEquals(He,ze.filters[We])),!0):!1})(Ve,$e):void fail(19439)}function __PRIVATE_stringifyFilter(Ve){return Ve instanceof FieldFilter?(function(Be){return`${Be.field.canonicalString()} ${Be.op} ${canonicalId(Be.value)}`})(Ve):Ve instanceof CompositeFilter?(function(Be){return Be.op.toString()+" {"+Be.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"})(Ve):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor($e,Be,Ue){super($e,Be,Ue),this.key=DocumentKey.fromName(Ue.referenceValue)}matches($e){const Be=DocumentKey.comparator($e.key,this.key);return this.matchesComparison(Be)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor($e,Be){super($e,"in",Be),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",Be)}matches($e){return this.keys.some((Be=>Be.isEqual($e.key)))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor($e,Be){super($e,"not-in",Be),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",Be)}matches($e){return!this.keys.some((Be=>Be.isEqual($e.key)))}}function __PRIVATE_extractDocumentKeysFromArrayValue(Ve,$e){return($e.arrayValue?.values||[]).map((Be=>DocumentKey.fromName(Be.referenceValue)))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor($e,Be){super($e,"array-contains",Be)}matches($e){const Be=$e.data.field(this.field);return isArray(Be)&&__PRIVATE_arrayValueContains(Be.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor($e,Be){super($e,"in",Be)}matches($e){const Be=$e.data.field(this.field);return Be!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,Be)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor($e,Be){super($e,"not-in",Be)}matches($e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const Be=$e.data.field(this.field);return Be!==null&&Be.nullValue===void 0&&!__PRIVATE_arrayValueContains(this.value.arrayValue,Be)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor($e,Be){super($e,"array-contains-any",Be)}matches($e){const Be=$e.data.field(this.field);return!(!isArray(Be)||!Be.arrayValue.values)&&Be.arrayValue.values.some((Ue=>__PRIVATE_arrayValueContains(this.value.arrayValue,Ue)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor($e,Be=null,Ue=[],ze=[],qe=null,He=null,We=null){this.path=$e,this.collectionGroup=Be,this.orderBy=Ue,this.filters=ze,this.limit=qe,this.startAt=He,this.endAt=We,this.Te=null}}function __PRIVATE_newTarget(Ve,$e=null,Be=[],Ue=[],ze=null,qe=null,He=null){return new __PRIVATE_TargetImpl(Ve,$e,Be,Ue,ze,qe,He)}function __PRIVATE_canonifyTarget(Ve){const $e=__PRIVATE_debugCast(Ve);if($e.Te===null){let Be=$e.path.canonicalString();$e.collectionGroup!==null&&(Be+="|cg:"+$e.collectionGroup),Be+="|f:",Be+=$e.filters.map((Ue=>__PRIVATE_canonifyFilter(Ue))).join(","),Be+="|ob:",Be+=$e.orderBy.map((Ue=>(function(qe){return qe.field.canonicalString()+qe.dir})(Ue))).join(","),__PRIVATE_isNullOrUndefined($e.limit)||(Be+="|l:",Be+=$e.limit),$e.startAt&&(Be+="|lb:",Be+=$e.startAt.inclusive?"b:":"a:",Be+=$e.startAt.position.map((Ue=>canonicalId(Ue))).join(",")),$e.endAt&&(Be+="|ub:",Be+=$e.endAt.inclusive?"a:":"b:",Be+=$e.endAt.position.map((Ue=>canonicalId(Ue))).join(",")),$e.Te=Be}return $e.Te}function __PRIVATE_targetEquals(Ve,$e){if(Ve.limit!==$e.limit||Ve.orderBy.length!==$e.orderBy.length)return!1;for(let Be=0;Be<Ve.orderBy.length;Be++)if(!__PRIVATE_orderByEquals(Ve.orderBy[Be],$e.orderBy[Be]))return!1;if(Ve.filters.length!==$e.filters.length)return!1;for(let Be=0;Be<Ve.filters.length;Be++)if(!__PRIVATE_filterEquals(Ve.filters[Be],$e.filters[Be]))return!1;return Ve.collectionGroup===$e.collectionGroup&&!!Ve.path.isEqual($e.path)&&!!__PRIVATE_boundEquals(Ve.startAt,$e.startAt)&&__PRIVATE_boundEquals(Ve.endAt,$e.endAt)}function __PRIVATE_targetIsDocumentTarget(Ve){return DocumentKey.isDocumentKey(Ve.path)&&Ve.collectionGroup===null&&Ve.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor($e,Be=null,Ue=[],ze=[],qe=null,He="F",We=null,Ge=null){this.path=$e,this.collectionGroup=Be,this.explicitOrderBy=Ue,this.filters=ze,this.limit=qe,this.limitType=He,this.startAt=We,this.endAt=Ge,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(Ve,$e,Be,Ue,ze,qe,He,We){return new __PRIVATE_QueryImpl(Ve,$e,Be,Ue,ze,qe,He,We)}function __PRIVATE_newQueryForPath(Ve){return new __PRIVATE_QueryImpl(Ve)}function __PRIVATE_queryMatchesAllDocuments(Ve){return Ve.filters.length===0&&Ve.limit===null&&Ve.startAt==null&&Ve.endAt==null&&(Ve.explicitOrderBy.length===0||Ve.explicitOrderBy.length===1&&Ve.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(Ve){return Ve.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(Ve){const $e=__PRIVATE_debugCast(Ve);if($e.Ie===null){$e.Ie=[];const Be=new Set;for(const qe of $e.explicitOrderBy)$e.Ie.push(qe),Be.add(qe.field.canonicalString());const Ue=$e.explicitOrderBy.length>0?$e.explicitOrderBy[$e.explicitOrderBy.length-1].dir:"asc";(function(He){let We=new SortedSet(FieldPath$1.comparator);return He.filters.forEach((Ge=>{Ge.getFlattenedFilters().forEach((Ye=>{Ye.isInequality()&&(We=We.add(Ye.field))}))})),We})($e).forEach((qe=>{Be.has(qe.canonicalString())||qe.isKeyField()||$e.Ie.push(new OrderBy(qe,Ue))})),Be.has(FieldPath$1.keyField().canonicalString())||$e.Ie.push(new OrderBy(FieldPath$1.keyField(),Ue))}return $e.Ie}function __PRIVATE_queryToTarget(Ve){const $e=__PRIVATE_debugCast(Ve);return $e.Ee||($e.Ee=__PRIVATE__queryToTarget($e,__PRIVATE_queryNormalizedOrderBy(Ve))),$e.Ee}function __PRIVATE__queryToTarget(Ve,$e){if(Ve.limitType==="F")return __PRIVATE_newTarget(Ve.path,Ve.collectionGroup,$e,Ve.filters,Ve.limit,Ve.startAt,Ve.endAt);{$e=$e.map((ze=>{const qe=ze.dir==="desc"?"asc":"desc";return new OrderBy(ze.field,qe)}));const Be=Ve.endAt?new Bound(Ve.endAt.position,Ve.endAt.inclusive):null,Ue=Ve.startAt?new Bound(Ve.startAt.position,Ve.startAt.inclusive):null;return __PRIVATE_newTarget(Ve.path,Ve.collectionGroup,$e,Ve.filters,Ve.limit,Be,Ue)}}function __PRIVATE_queryWithAddedFilter(Ve,$e){const Be=Ve.filters.concat([$e]);return new __PRIVATE_QueryImpl(Ve.path,Ve.collectionGroup,Ve.explicitOrderBy.slice(),Be,Ve.limit,Ve.limitType,Ve.startAt,Ve.endAt)}function __PRIVATE_queryWithLimit(Ve,$e,Be){return new __PRIVATE_QueryImpl(Ve.path,Ve.collectionGroup,Ve.explicitOrderBy.slice(),Ve.filters.slice(),$e,Be,Ve.startAt,Ve.endAt)}function __PRIVATE_queryEquals(Ve,$e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(Ve),__PRIVATE_queryToTarget($e))&&Ve.limitType===$e.limitType}function __PRIVATE_canonifyQuery(Ve){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(Ve))}|lt:${Ve.limitType}`}function __PRIVATE_stringifyQuery(Ve){return`Query(target=${(function(Be){let Ue=Be.path.canonicalString();return Be.collectionGroup!==null&&(Ue+=" collectionGroup="+Be.collectionGroup),Be.filters.length>0&&(Ue+=`, filters: [${Be.filters.map((ze=>__PRIVATE_stringifyFilter(ze))).join(", ")}]`),__PRIVATE_isNullOrUndefined(Be.limit)||(Ue+=", limit: "+Be.limit),Be.orderBy.length>0&&(Ue+=`, orderBy: [${Be.orderBy.map((ze=>(function(He){return`${He.field.canonicalString()} (${He.dir})`})(ze))).join(", ")}]`),Be.startAt&&(Ue+=", startAt: ",Ue+=Be.startAt.inclusive?"b:":"a:",Ue+=Be.startAt.position.map((ze=>canonicalId(ze))).join(",")),Be.endAt&&(Ue+=", endAt: ",Ue+=Be.endAt.inclusive?"a:":"b:",Ue+=Be.endAt.position.map((ze=>canonicalId(ze))).join(",")),`Target(${Ue})`})(__PRIVATE_queryToTarget(Ve))}; limitType=${Ve.limitType})`}function __PRIVATE_queryMatches(Ve,$e){return $e.isFoundDocument()&&(function(Ue,ze){const qe=ze.key.path;return Ue.collectionGroup!==null?ze.key.hasCollectionId(Ue.collectionGroup)&&Ue.path.isPrefixOf(qe):DocumentKey.isDocumentKey(Ue.path)?Ue.path.isEqual(qe):Ue.path.isImmediateParentOf(qe)})(Ve,$e)&&(function(Ue,ze){for(const qe of __PRIVATE_queryNormalizedOrderBy(Ue))if(!qe.field.isKeyField()&&ze.data.field(qe.field)===null)return!1;return!0})(Ve,$e)&&(function(Ue,ze){for(const qe of Ue.filters)if(!qe.matches(ze))return!1;return!0})(Ve,$e)&&(function(Ue,ze){return!(Ue.startAt&&!(function(He,We,Ge){const Ye=__PRIVATE_boundCompareToDocument(He,We,Ge);return He.inclusive?Ye<=0:Ye<0})(Ue.startAt,__PRIVATE_queryNormalizedOrderBy(Ue),ze)||Ue.endAt&&!(function(He,We,Ge){const Ye=__PRIVATE_boundCompareToDocument(He,We,Ge);return He.inclusive?Ye>=0:Ye>0})(Ue.endAt,__PRIVATE_queryNormalizedOrderBy(Ue),ze))})(Ve,$e)}function __PRIVATE_queryCollectionGroup(Ve){return Ve.collectionGroup||(Ve.path.length%2==1?Ve.path.lastSegment():Ve.path.get(Ve.path.length-2))}function __PRIVATE_newQueryComparator(Ve){return($e,Be)=>{let Ue=!1;for(const ze of __PRIVATE_queryNormalizedOrderBy(Ve)){const qe=__PRIVATE_compareDocs(ze,$e,Be);if(qe!==0)return qe;Ue=Ue||ze.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(Ve,$e,Be){const Ue=Ve.field.isKeyField()?DocumentKey.comparator($e.key,Be.key):(function(qe,He,We){const Ge=He.data.field(qe),Ye=We.data.field(qe);return Ge!==null&&Ye!==null?__PRIVATE_valueCompare(Ge,Ye):fail(42886)})(Ve.field,$e,Be);switch(Ve.dir){case"asc":return Ue;case"desc":return-1*Ue;default:return fail(19790,{direction:Ve.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor($e,Be){this.mapKeyFn=$e,this.equalsFn=Be,this.inner={},this.innerSize=0}get($e){const Be=this.mapKeyFn($e),Ue=this.inner[Be];if(Ue!==void 0){for(const[ze,qe]of Ue)if(this.equalsFn(ze,$e))return qe}}has($e){return this.get($e)!==void 0}set($e,Be){const Ue=this.mapKeyFn($e),ze=this.inner[Ue];if(ze===void 0)return this.inner[Ue]=[[$e,Be]],void this.innerSize++;for(let qe=0;qe<ze.length;qe++)if(this.equalsFn(ze[qe][0],$e))return void(ze[qe]=[$e,Be]);ze.push([$e,Be]),this.innerSize++}delete($e){const Be=this.mapKeyFn($e),Ue=this.inner[Be];if(Ue===void 0)return!1;for(let ze=0;ze<Ue.length;ze++)if(this.equalsFn(Ue[ze][0],$e))return Ue.length===1?delete this.inner[Be]:Ue.splice(ze,1),this.innerSize--,!0;return!1}forEach($e){forEach(this.inner,((Be,Ue)=>{for(const[ze,qe]of Ue)$e(ze,qe)}))}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt$1=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return Rt$1}const Vt$1=new SortedMap(DocumentKey.comparator);function documentMap(...Ve){let $e=Vt$1;for(const Be of Ve)$e=$e.insert(Be.key,Be);return $e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ve){let $e=Vt$1;return Ve.forEach(((Be,Ue)=>$e=$e.insert(Be,Ue.overlayedDocument))),$e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap((Ve=>Ve.toString()),((Ve,$e)=>Ve.isEqual($e)))}const mt$1=new SortedMap(DocumentKey.comparator),ft$1=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...Ve){let $e=ft$1;for(const Be of Ve)$e=$e.add(Be);return $e}const gt$1=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return gt$1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(Ve,$e){if(Ve.useProto3Json){if(isNaN($e))return{doubleValue:"NaN"};if($e===1/0)return{doubleValue:"Infinity"};if($e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero($e)?"-0":$e}}function __PRIVATE_toInteger(Ve){return{integerValue:""+Ve}}function toNumber$2(Ve,$e){return isSafeInteger($e)?__PRIVATE_toInteger($e):__PRIVATE_toDouble(Ve,$e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(Ve,$e,Be){return Ve instanceof __PRIVATE_ServerTimestampTransform?(function(ze,qe){const He={fields:{[at$1]:{stringValue:_t$1},[ct$1]:{timestampValue:{seconds:ze.seconds,nanos:ze.nanoseconds}}}};return qe&&__PRIVATE_isServerTimestamp(qe)&&(qe=__PRIVATE_getPreviousValue(qe)),qe&&(He.fields[ut$1]=qe),{mapValue:He}})(Be,$e):Ve instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Ve,$e):Ve instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Ve,$e):(function(ze,qe){const He=__PRIVATE_computeTransformOperationBaseValue(ze,qe),We=asNumber(He)+asNumber(ze.Ae);return isInteger(He)&&isInteger(ze.Ae)?__PRIVATE_toInteger(We):__PRIVATE_toDouble(ze.serializer,We)})(Ve,$e)}function __PRIVATE_applyTransformOperationToRemoteDocument(Ve,$e,Be){return Ve instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Ve,$e):Ve instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Ve,$e):Be}function __PRIVATE_computeTransformOperationBaseValue(Ve,$e){return Ve instanceof __PRIVATE_NumericIncrementTransformOperation?(function(Ue){return isInteger(Ue)||(function(qe){return!!qe&&"doubleValue"in qe})(Ue)})($e)?$e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor($e){super(),this.elements=$e}}function __PRIVATE_applyArrayUnionTransformOperation(Ve,$e){const Be=__PRIVATE_coercedFieldValuesArray($e);for(const Ue of Ve.elements)Be.some((ze=>__PRIVATE_valueEquals(ze,Ue)))||Be.push(Ue);return{arrayValue:{values:Be}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor($e){super(),this.elements=$e}}function __PRIVATE_applyArrayRemoveTransformOperation(Ve,$e){let Be=__PRIVATE_coercedFieldValuesArray($e);for(const Ue of Ve.elements)Be=Be.filter((ze=>!__PRIVATE_valueEquals(ze,Ue)));return{arrayValue:{values:Be}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor($e,Be){super(),this.serializer=$e,this.Ae=Be}}function asNumber(Ve){return __PRIVATE_normalizeNumber(Ve.integerValue||Ve.doubleValue)}function __PRIVATE_coercedFieldValuesArray(Ve){return isArray(Ve)&&Ve.arrayValue.values?Ve.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor($e,Be){this.field=$e,this.transform=Be}}function __PRIVATE_fieldTransformEquals(Ve,$e){return Ve.field.isEqual($e.field)&&(function(Ue,ze){return Ue instanceof __PRIVATE_ArrayUnionTransformOperation&&ze instanceof __PRIVATE_ArrayUnionTransformOperation||Ue instanceof __PRIVATE_ArrayRemoveTransformOperation&&ze instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(Ue.elements,ze.elements,__PRIVATE_valueEquals):Ue instanceof __PRIVATE_NumericIncrementTransformOperation&&ze instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(Ue.Ae,ze.Ae):Ue instanceof __PRIVATE_ServerTimestampTransform&&ze instanceof __PRIVATE_ServerTimestampTransform})(Ve.transform,$e.transform)}class MutationResult{constructor($e,Be){this.version=$e,this.transformResults=Be}}class Precondition{constructor($e,Be){this.updateTime=$e,this.exists=Be}static none(){return new Precondition}static exists($e){return new Precondition(void 0,$e)}static updateTime($e){return new Precondition($e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual($e){return this.exists===$e.exists&&(this.updateTime?!!$e.updateTime&&this.updateTime.isEqual($e.updateTime):!$e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(Ve,$e){return Ve.updateTime!==void 0?$e.isFoundDocument()&&$e.version.isEqual(Ve.updateTime):Ve.exists===void 0||Ve.exists===$e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(Ve,$e){if(!Ve.hasLocalMutations||$e&&$e.fields.length===0)return null;if($e===null)return Ve.isNoDocument()?new __PRIVATE_DeleteMutation(Ve.key,Precondition.none()):new __PRIVATE_SetMutation(Ve.key,Ve.data,Precondition.none());{const Be=Ve.data,Ue=ObjectValue.empty();let ze=new SortedSet(FieldPath$1.comparator);for(let qe of $e.fields)if(!ze.has(qe)){let He=Be.field(qe);He===null&&qe.length>1&&(qe=qe.popLast(),He=Be.field(qe)),He===null?Ue.delete(qe):Ue.set(qe,He),ze=ze.add(qe)}return new __PRIVATE_PatchMutation(Ve.key,Ue,new FieldMask(ze.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(Ve,$e,Be){Ve instanceof __PRIVATE_SetMutation?(function(ze,qe,He){const We=ze.value.clone(),Ge=__PRIVATE_serverTransformResults(ze.fieldTransforms,qe,He.transformResults);We.setAll(Ge),qe.convertToFoundDocument(He.version,We).setHasCommittedMutations()})(Ve,$e,Be):Ve instanceof __PRIVATE_PatchMutation?(function(ze,qe,He){if(!__PRIVATE_preconditionIsValidForDocument(ze.precondition,qe))return void qe.convertToUnknownDocument(He.version);const We=__PRIVATE_serverTransformResults(ze.fieldTransforms,qe,He.transformResults),Ge=qe.data;Ge.setAll(__PRIVATE_getPatch(ze)),Ge.setAll(We),qe.convertToFoundDocument(He.version,Ge).setHasCommittedMutations()})(Ve,$e,Be):(function(ze,qe,He){qe.convertToNoDocument(He.version).setHasCommittedMutations()})(0,$e,Be)}function __PRIVATE_mutationApplyToLocalView(Ve,$e,Be,Ue){return Ve instanceof __PRIVATE_SetMutation?(function(qe,He,We,Ge){if(!__PRIVATE_preconditionIsValidForDocument(qe.precondition,He))return We;const Ye=qe.value.clone(),Xe=__PRIVATE_localTransformResults(qe.fieldTransforms,Ge,He);return Ye.setAll(Xe),He.convertToFoundDocument(He.version,Ye).setHasLocalMutations(),null})(Ve,$e,Be,Ue):Ve instanceof __PRIVATE_PatchMutation?(function(qe,He,We,Ge){if(!__PRIVATE_preconditionIsValidForDocument(qe.precondition,He))return We;const Ye=__PRIVATE_localTransformResults(qe.fieldTransforms,Ge,He),Xe=He.data;return Xe.setAll(__PRIVATE_getPatch(qe)),Xe.setAll(Ye),He.convertToFoundDocument(He.version,Xe).setHasLocalMutations(),We===null?null:We.unionWith(qe.fieldMask.fields).unionWith(qe.fieldTransforms.map((Je=>Je.field)))})(Ve,$e,Be,Ue):(function(qe,He,We){return __PRIVATE_preconditionIsValidForDocument(qe.precondition,He)?(He.convertToNoDocument(He.version).setHasLocalMutations(),null):We})(Ve,$e,Be)}function __PRIVATE_mutationExtractBaseValue(Ve,$e){let Be=null;for(const Ue of Ve.fieldTransforms){const ze=$e.data.field(Ue.field),qe=__PRIVATE_computeTransformOperationBaseValue(Ue.transform,ze||null);qe!=null&&(Be===null&&(Be=ObjectValue.empty()),Be.set(Ue.field,qe))}return Be||null}function __PRIVATE_mutationEquals(Ve,$e){return Ve.type===$e.type&&!!Ve.key.isEqual($e.key)&&!!Ve.precondition.isEqual($e.precondition)&&!!(function(Ue,ze){return Ue===void 0&&ze===void 0||!(!Ue||!ze)&&__PRIVATE_arrayEquals(Ue,ze,((qe,He)=>__PRIVATE_fieldTransformEquals(qe,He)))})(Ve.fieldTransforms,$e.fieldTransforms)&&(Ve.type===0?Ve.value.isEqual($e.value):Ve.type!==1||Ve.data.isEqual($e.data)&&Ve.fieldMask.isEqual($e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor($e,Be,Ue,ze=[]){super(),this.key=$e,this.value=Be,this.precondition=Ue,this.fieldTransforms=ze,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor($e,Be,Ue,ze,qe=[]){super(),this.key=$e,this.data=Be,this.fieldMask=Ue,this.precondition=ze,this.fieldTransforms=qe,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(Ve){const $e=new Map;return Ve.fieldMask.fields.forEach((Be=>{if(!Be.isEmpty()){const Ue=Ve.data.field(Be);$e.set(Be,Ue)}})),$e}function __PRIVATE_serverTransformResults(Ve,$e,Be){const Ue=new Map;__PRIVATE_hardAssert(Ve.length===Be.length,32656,{Re:Be.length,Ve:Ve.length});for(let ze=0;ze<Be.length;ze++){const qe=Ve[ze],He=qe.transform,We=$e.data.field(qe.field);Ue.set(qe.field,__PRIVATE_applyTransformOperationToRemoteDocument(He,We,Be[ze]))}return Ue}function __PRIVATE_localTransformResults(Ve,$e,Be){const Ue=new Map;for(const ze of Ve){const qe=ze.transform,He=Be.data.field(ze.field);Ue.set(ze.field,__PRIVATE_applyTransformOperationToLocalView(qe,He,$e))}return Ue}class __PRIVATE_DeleteMutation extends Mutation{constructor($e,Be){super(),this.key=$e,this.precondition=Be,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor($e,Be){super(),this.key=$e,this.precondition=Be,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor($e,Be,Ue,ze){this.batchId=$e,this.localWriteTime=Be,this.baseMutations=Ue,this.mutations=ze}applyToRemoteDocument($e,Be){const Ue=Be.mutationResults;for(let ze=0;ze<this.mutations.length;ze++){const qe=this.mutations[ze];qe.key.isEqual($e.key)&&__PRIVATE_mutationApplyToRemoteDocument(qe,$e,Ue[ze])}}applyToLocalView($e,Be){for(const Ue of this.baseMutations)Ue.key.isEqual($e.key)&&(Be=__PRIVATE_mutationApplyToLocalView(Ue,$e,Be,this.localWriteTime));for(const Ue of this.mutations)Ue.key.isEqual($e.key)&&(Be=__PRIVATE_mutationApplyToLocalView(Ue,$e,Be,this.localWriteTime));return Be}applyToLocalDocumentSet($e,Be){const Ue=__PRIVATE_newMutationMap();return this.mutations.forEach((ze=>{const qe=$e.get(ze.key),He=qe.overlayedDocument;let We=this.applyToLocalView(He,qe.mutatedFields);We=Be.has(ze.key)?null:We;const Ge=__PRIVATE_calculateOverlayMutation(He,We);Ge!==null&&Ue.set(ze.key,Ge),He.isValidDocument()||He.convertToNoDocument(SnapshotVersion.min())})),Ue}keys(){return this.mutations.reduce((($e,Be)=>$e.add(Be.key)),__PRIVATE_documentKeySet())}isEqual($e){return this.batchId===$e.batchId&&__PRIVATE_arrayEquals(this.mutations,$e.mutations,((Be,Ue)=>__PRIVATE_mutationEquals(Be,Ue)))&&__PRIVATE_arrayEquals(this.baseMutations,$e.baseMutations,((Be,Ue)=>__PRIVATE_mutationEquals(Be,Ue)))}}class MutationBatchResult{constructor($e,Be,Ue,ze){this.batch=$e,this.commitVersion=Be,this.mutationResults=Ue,this.docVersions=ze}static from($e,Be,Ue){__PRIVATE_hardAssert($e.mutations.length===Ue.length,58842,{me:$e.mutations.length,fe:Ue.length});let ze=(function(){return mt$1})();const qe=$e.mutations;for(let He=0;He<qe.length;He++)ze=ze.insert(qe[He].key,Ue[He].version);return new MutationBatchResult($e,Be,Ue,ze)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor($e,Be){this.largestBatchId=$e,this.mutation=Be}getKey(){return this.mutation.key}isEqual($e){return $e!==null&&this.mutation===$e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor($e,Be){this.count=$e,this.unchangedNames=Be}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt$1,yt$1;function __PRIVATE_isPermanentError(Ve){switch(Ve){case N$2.OK:return fail(64938);case N$2.CANCELLED:case N$2.UNKNOWN:case N$2.DEADLINE_EXCEEDED:case N$2.RESOURCE_EXHAUSTED:case N$2.INTERNAL:case N$2.UNAVAILABLE:case N$2.UNAUTHENTICATED:return!1;case N$2.INVALID_ARGUMENT:case N$2.NOT_FOUND:case N$2.ALREADY_EXISTS:case N$2.PERMISSION_DENIED:case N$2.FAILED_PRECONDITION:case N$2.ABORTED:case N$2.OUT_OF_RANGE:case N$2.UNIMPLEMENTED:case N$2.DATA_LOSS:return!0;default:return fail(15467,{code:Ve})}}function __PRIVATE_mapCodeFromRpcCode(Ve){if(Ve===void 0)return __PRIVATE_logError("GRPC error has no .code"),N$2.UNKNOWN;switch(Ve){case pt$1.OK:return N$2.OK;case pt$1.CANCELLED:return N$2.CANCELLED;case pt$1.UNKNOWN:return N$2.UNKNOWN;case pt$1.DEADLINE_EXCEEDED:return N$2.DEADLINE_EXCEEDED;case pt$1.RESOURCE_EXHAUSTED:return N$2.RESOURCE_EXHAUSTED;case pt$1.INTERNAL:return N$2.INTERNAL;case pt$1.UNAVAILABLE:return N$2.UNAVAILABLE;case pt$1.UNAUTHENTICATED:return N$2.UNAUTHENTICATED;case pt$1.INVALID_ARGUMENT:return N$2.INVALID_ARGUMENT;case pt$1.NOT_FOUND:return N$2.NOT_FOUND;case pt$1.ALREADY_EXISTS:return N$2.ALREADY_EXISTS;case pt$1.PERMISSION_DENIED:return N$2.PERMISSION_DENIED;case pt$1.FAILED_PRECONDITION:return N$2.FAILED_PRECONDITION;case pt$1.ABORTED:return N$2.ABORTED;case pt$1.OUT_OF_RANGE:return N$2.OUT_OF_RANGE;case pt$1.UNIMPLEMENTED:return N$2.UNIMPLEMENTED;case pt$1.DATA_LOSS:return N$2.DATA_LOSS;default:return fail(39323,{code:Ve})}}(yt$1=pt$1||(pt$1={}))[yt$1.OK=0]="OK",yt$1[yt$1.CANCELLED=1]="CANCELLED",yt$1[yt$1.UNKNOWN=2]="UNKNOWN",yt$1[yt$1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt$1[yt$1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt$1[yt$1.NOT_FOUND=5]="NOT_FOUND",yt$1[yt$1.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt$1[yt$1.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt$1[yt$1.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt$1[yt$1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt$1[yt$1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt$1[yt$1.ABORTED=10]="ABORTED",yt$1[yt$1.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt$1[yt$1.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt$1[yt$1.INTERNAL=13]="INTERNAL",yt$1[yt$1.UNAVAILABLE=14]="UNAVAILABLE",yt$1[yt$1.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(Ve){const $e=__PRIVATE_newTextEncoder().encode(Ve),Be=new Md5;return Be.update($e),new Uint8Array(Be.digest())}function __PRIVATE_get64BitUints(Ve){const $e=new DataView(Ve.buffer),Be=$e.getUint32(0,!0),Ue=$e.getUint32(4,!0),ze=$e.getUint32(8,!0),qe=$e.getUint32(12,!0);return[new Integer([Be,Ue],0),new Integer([ze,qe],0)]}class BloomFilter{constructor($e,Be,Ue){if(this.bitmap=$e,this.padding=Be,this.hashCount=Ue,Be<0||Be>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${Be}`);if(Ue<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${Ue}`);if($e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${Ue}`);if($e.length===0&&Be!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${Be}`);this.ge=8*$e.length-Be,this.pe=Integer.fromNumber(this.ge)}ye($e,Be,Ue){let ze=$e.add(Be.multiply(Integer.fromNumber(Ue)));return ze.compare(St)===1&&(ze=new Integer([ze.getBits(0),ze.getBits(1)],0)),ze.modulo(this.pe).toNumber()}we($e){return!!(this.bitmap[Math.floor($e/8)]&1<<$e%8)}mightContain($e){if(this.ge===0)return!1;const Be=__PRIVATE_getMd5HashValue($e),[Ue,ze]=__PRIVATE_get64BitUints(Be);for(let qe=0;qe<this.hashCount;qe++){const He=this.ye(Ue,ze,qe);if(!this.we(He))return!1}return!0}static create($e,Be,Ue){const ze=$e%8==0?0:8-$e%8,qe=new Uint8Array(Math.ceil($e/8)),He=new BloomFilter(qe,ze,Be);return Ue.forEach((We=>He.insert(We))),He}insert($e){if(this.ge===0)return;const Be=__PRIVATE_getMd5HashValue($e),[Ue,ze]=__PRIVATE_get64BitUints(Be);for(let qe=0;qe<this.hashCount;qe++){const He=this.ye(Ue,ze,qe);this.Se(He)}}Se($e){const Be=Math.floor($e/8),Ue=$e%8;this.bitmap[Be]|=1<<Ue}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor($e,Be,Ue,ze,qe){this.snapshotVersion=$e,this.targetChanges=Be,this.targetMismatches=Ue,this.documentUpdates=ze,this.resolvedLimboDocuments=qe}static createSynthesizedRemoteEventForCurrentChange($e,Be,Ue){const ze=new Map;return ze.set($e,TargetChange.createSynthesizedTargetChangeForCurrentChange($e,Be,Ue)),new RemoteEvent(SnapshotVersion.min(),ze,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor($e,Be,Ue,ze,qe){this.resumeToken=$e,this.current=Be,this.addedDocuments=Ue,this.modifiedDocuments=ze,this.removedDocuments=qe}static createSynthesizedTargetChangeForCurrentChange($e,Be,Ue){return new TargetChange(Ue,Be,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor($e,Be,Ue,ze){this.be=$e,this.removedTargetIds=Be,this.key=Ue,this.De=ze}}class __PRIVATE_ExistenceFilterChange{constructor($e,Be){this.targetId=$e,this.Ce=Be}}class __PRIVATE_WatchTargetChange{constructor($e,Be,Ue=ByteString.EMPTY_BYTE_STRING,ze=null){this.state=$e,this.targetIds=Be,this.resumeToken=Ue,this.cause=ze}}class __PRIVATE_TargetState{constructor(){this.ve=0,this.Fe=__PRIVATE_snapshotChangesMap(),this.Me=ByteString.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le($e){$e.approximateByteSize()>0&&(this.Oe=!0,this.Me=$e)}ke(){let $e=__PRIVATE_documentKeySet(),Be=__PRIVATE_documentKeySet(),Ue=__PRIVATE_documentKeySet();return this.Fe.forEach(((ze,qe)=>{switch(qe){case 0:$e=$e.add(ze);break;case 2:Be=Be.add(ze);break;case 1:Ue=Ue.add(ze);break;default:fail(38017,{changeType:qe})}})),new TargetChange(this.Me,this.xe,$e,Be,Ue)}qe(){this.Oe=!1,this.Fe=__PRIVATE_snapshotChangesMap()}Qe($e,Be){this.Oe=!0,this.Fe=this.Fe.insert($e,Be)}$e($e){this.Oe=!0,this.Fe=this.Fe.remove($e)}Ue(){this.ve+=1}Ke(){this.ve-=1,__PRIVATE_hardAssert(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class __PRIVATE_WatchChangeAggregator{constructor($e){this.Ge=$e,this.ze=new Map,this.je=__PRIVATE_mutableDocumentMap(),this.Je=__PRIVATE_documentTargetMap(),this.He=__PRIVATE_documentTargetMap(),this.Ye=new SortedMap(__PRIVATE_primitiveComparator)}Ze($e){for(const Be of $e.be)$e.De&&$e.De.isFoundDocument()?this.Xe(Be,$e.De):this.et(Be,$e.key,$e.De);for(const Be of $e.removedTargetIds)this.et(Be,$e.key,$e.De)}tt($e){this.forEachTarget($e,(Be=>{const Ue=this.nt(Be);switch($e.state){case 0:this.rt(Be)&&Ue.Le($e.resumeToken);break;case 1:Ue.Ke(),Ue.Ne||Ue.qe(),Ue.Le($e.resumeToken);break;case 2:Ue.Ke(),Ue.Ne||this.removeTarget(Be);break;case 3:this.rt(Be)&&(Ue.We(),Ue.Le($e.resumeToken));break;case 4:this.rt(Be)&&(this.it(Be),Ue.Le($e.resumeToken));break;default:fail(56790,{state:$e.state})}}))}forEachTarget($e,Be){$e.targetIds.length>0?$e.targetIds.forEach(Be):this.ze.forEach(((Ue,ze)=>{this.rt(ze)&&Be(ze)}))}st($e){const Be=$e.targetId,Ue=$e.Ce.count,ze=this.ot(Be);if(ze){const qe=ze.target;if(__PRIVATE_targetIsDocumentTarget(qe))if(Ue===0){const He=new DocumentKey(qe.path);this.et(Be,He,MutableDocument.newNoDocument(He,SnapshotVersion.min()))}else __PRIVATE_hardAssert(Ue===1,20013,{expectedCount:Ue});else{const He=this._t(Be);if(He!==Ue){const We=this.ut($e),Ge=We?this.ct(We,$e,He):1;if(Ge!==0){this.it(Be);const Ye=Ge===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(Be,Ye)}}}}}ut($e){const Be=$e.Ce.unchangedNames;if(!Be||!Be.bits)return null;const{bits:{bitmap:Ue="",padding:ze=0},hashCount:qe=0}=Be;let He,We;try{He=__PRIVATE_normalizeByteString(Ue).toUint8Array()}catch(Ge){if(Ge instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+Ge.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw Ge}try{We=new BloomFilter(He,ze,qe)}catch(Ge){return __PRIVATE_logWarn(Ge instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",Ge),null}return We.ge===0?null:We}ct($e,Be,Ue){return Be.Ce.count===Ue-this.Pt($e,Be.targetId)?0:2}Pt($e,Be){const Ue=this.Ge.getRemoteKeysForTarget(Be);let ze=0;return Ue.forEach((qe=>{const He=this.Ge.ht(),We=`projects/${He.projectId}/databases/${He.database}/documents/${qe.path.canonicalString()}`;$e.mightContain(We)||(this.et(Be,qe,null),ze++)})),ze}Tt($e){const Be=new Map;this.ze.forEach(((qe,He)=>{const We=this.ot(He);if(We){if(qe.current&&__PRIVATE_targetIsDocumentTarget(We.target)){const Ge=new DocumentKey(We.target.path);this.It(Ge).has(He)||this.Et(He,Ge)||this.et(He,Ge,MutableDocument.newNoDocument(Ge,$e))}qe.Be&&(Be.set(He,qe.ke()),qe.qe())}}));let Ue=__PRIVATE_documentKeySet();this.He.forEach(((qe,He)=>{let We=!0;He.forEachWhile((Ge=>{const Ye=this.ot(Ge);return!Ye||Ye.purpose==="TargetPurposeLimboResolution"||(We=!1,!1)})),We&&(Ue=Ue.add(qe))})),this.je.forEach(((qe,He)=>He.setReadTime($e)));const ze=new RemoteEvent($e,Be,this.Ye,this.je,Ue);return this.je=__PRIVATE_mutableDocumentMap(),this.Je=__PRIVATE_documentTargetMap(),this.He=__PRIVATE_documentTargetMap(),this.Ye=new SortedMap(__PRIVATE_primitiveComparator),ze}Xe($e,Be){if(!this.rt($e))return;const Ue=this.Et($e,Be.key)?2:0;this.nt($e).Qe(Be.key,Ue),this.je=this.je.insert(Be.key,Be),this.Je=this.Je.insert(Be.key,this.It(Be.key).add($e)),this.He=this.He.insert(Be.key,this.dt(Be.key).add($e))}et($e,Be,Ue){if(!this.rt($e))return;const ze=this.nt($e);this.Et($e,Be)?ze.Qe(Be,1):ze.$e(Be),this.He=this.He.insert(Be,this.dt(Be).delete($e)),this.He=this.He.insert(Be,this.dt(Be).add($e)),Ue&&(this.je=this.je.insert(Be,Ue))}removeTarget($e){this.ze.delete($e)}_t($e){const Be=this.nt($e).ke();return this.Ge.getRemoteKeysForTarget($e).size+Be.addedDocuments.size-Be.removedDocuments.size}Ue($e){this.nt($e).Ue()}nt($e){let Be=this.ze.get($e);return Be||(Be=new __PRIVATE_TargetState,this.ze.set($e,Be)),Be}dt($e){let Be=this.He.get($e);return Be||(Be=new SortedSet(__PRIVATE_primitiveComparator),this.He=this.He.insert($e,Be)),Be}It($e){let Be=this.Je.get($e);return Be||(Be=new SortedSet(__PRIVATE_primitiveComparator),this.Je=this.Je.insert($e,Be)),Be}rt($e){const Be=this.ot($e)!==null;return Be||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",$e),Be}ot($e){const Be=this.ze.get($e);return Be&&Be.Ne?null:this.Ge.At($e)}it($e){this.ze.set($e,new __PRIVATE_TargetState),this.Ge.getRemoteKeysForTarget($e).forEach((Be=>{this.et($e,Be,null)}))}Et($e,Be){return this.Ge.getRemoteKeysForTarget($e).has(Be)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const bt$1={asc:"ASCENDING",desc:"DESCENDING"},Dt$1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ct$1={and:"AND",or:"OR"};class JsonProtoSerializer{constructor($e,Be){this.databaseId=$e,this.useProto3Json=Be}}function __PRIVATE_toInt32Proto(Ve,$e){return Ve.useProto3Json||__PRIVATE_isNullOrUndefined($e)?$e:{value:$e}}function toTimestamp(Ve,$e){return Ve.useProto3Json?`${new Date(1e3*$e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+$e.nanoseconds).slice(-9)}Z`:{seconds:""+$e.seconds,nanos:$e.nanoseconds}}function __PRIVATE_toBytes(Ve,$e){return Ve.useProto3Json?$e.toBase64():$e.toUint8Array()}function __PRIVATE_toVersion(Ve,$e){return toTimestamp(Ve,$e.toTimestamp())}function __PRIVATE_fromVersion(Ve){return __PRIVATE_hardAssert(!!Ve,49232),SnapshotVersion.fromTimestamp((function(Be){const Ue=__PRIVATE_normalizeTimestamp(Be);return new Timestamp(Ue.seconds,Ue.nanos)})(Ve))}function __PRIVATE_toResourceName(Ve,$e){return __PRIVATE_toResourcePath(Ve,$e).canonicalString()}function __PRIVATE_toResourcePath(Ve,$e){const Be=(function(ze){return new ResourcePath(["projects",ze.projectId,"databases",ze.database])})(Ve).child("documents");return $e===void 0?Be:Be.child($e)}function __PRIVATE_fromResourceName(Ve){const $e=ResourcePath.fromString(Ve);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName($e),10190,{key:$e.toString()}),$e}function __PRIVATE_toName(Ve,$e){return __PRIVATE_toResourceName(Ve.databaseId,$e.path)}function fromName(Ve,$e){const Be=__PRIVATE_fromResourceName($e);if(Be.get(1)!==Ve.databaseId.projectId)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+Be.get(1)+" vs "+Ve.databaseId.projectId);if(Be.get(3)!==Ve.databaseId.database)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+Be.get(3)+" vs "+Ve.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(Be))}function __PRIVATE_toQueryPath(Ve,$e){return __PRIVATE_toResourceName(Ve.databaseId,$e)}function __PRIVATE_fromQueryPath(Ve){const $e=__PRIVATE_fromResourceName(Ve);return $e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName($e)}function __PRIVATE_getEncodedDatabaseId(Ve){return new ResourcePath(["projects",Ve.databaseId.projectId,"databases",Ve.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(Ve){return __PRIVATE_hardAssert(Ve.length>4&&Ve.get(4)==="documents",29091,{key:Ve.toString()}),Ve.popFirst(5)}function __PRIVATE_toMutationDocument(Ve,$e,Be){return{name:__PRIVATE_toName(Ve,$e),fields:Be.value.mapValue.fields}}function __PRIVATE_fromWatchChange(Ve,$e){let Be;if("targetChange"in $e){$e.targetChange;const Ue=(function(Ye){return Ye==="NO_CHANGE"?0:Ye==="ADD"?1:Ye==="REMOVE"?2:Ye==="CURRENT"?3:Ye==="RESET"?4:fail(39313,{state:Ye})})($e.targetChange.targetChangeType||"NO_CHANGE"),ze=$e.targetChange.targetIds||[],qe=(function(Ye,Xe){return Ye.useProto3Json?(__PRIVATE_hardAssert(Xe===void 0||typeof Xe=="string",58123),ByteString.fromBase64String(Xe||"")):(__PRIVATE_hardAssert(Xe===void 0||Xe instanceof Buffer||Xe instanceof Uint8Array,16193),ByteString.fromUint8Array(Xe||new Uint8Array))})(Ve,$e.targetChange.resumeToken),He=$e.targetChange.cause,We=He&&(function(Ye){const Xe=Ye.code===void 0?N$2.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(Ye.code);return new FirestoreError(Xe,Ye.message||"")})(He);Be=new __PRIVATE_WatchTargetChange(Ue,ze,qe,We||null)}else if("documentChange"in $e){$e.documentChange;const Ue=$e.documentChange;Ue.document,Ue.document.name,Ue.document.updateTime;const ze=fromName(Ve,Ue.document.name),qe=__PRIVATE_fromVersion(Ue.document.updateTime),He=Ue.document.createTime?__PRIVATE_fromVersion(Ue.document.createTime):SnapshotVersion.min(),We=new ObjectValue({mapValue:{fields:Ue.document.fields}}),Ge=MutableDocument.newFoundDocument(ze,qe,He,We),Ye=Ue.targetIds||[],Xe=Ue.removedTargetIds||[];Be=new __PRIVATE_DocumentWatchChange(Ye,Xe,Ge.key,Ge)}else if("documentDelete"in $e){$e.documentDelete;const Ue=$e.documentDelete;Ue.document;const ze=fromName(Ve,Ue.document),qe=Ue.readTime?__PRIVATE_fromVersion(Ue.readTime):SnapshotVersion.min(),He=MutableDocument.newNoDocument(ze,qe),We=Ue.removedTargetIds||[];Be=new __PRIVATE_DocumentWatchChange([],We,He.key,He)}else if("documentRemove"in $e){$e.documentRemove;const Ue=$e.documentRemove;Ue.document;const ze=fromName(Ve,Ue.document),qe=Ue.removedTargetIds||[];Be=new __PRIVATE_DocumentWatchChange([],qe,ze,null)}else{if(!("filter"in $e))return fail(11601,{Rt:$e});{$e.filter;const Ue=$e.filter;Ue.targetId;const{count:ze=0,unchangedNames:qe}=Ue,He=new ExistenceFilter(ze,qe),We=Ue.targetId;Be=new __PRIVATE_ExistenceFilterChange(We,He)}}return Be}function toMutation(Ve,$e){let Be;if($e instanceof __PRIVATE_SetMutation)Be={update:__PRIVATE_toMutationDocument(Ve,$e.key,$e.value)};else if($e instanceof __PRIVATE_DeleteMutation)Be={delete:__PRIVATE_toName(Ve,$e.key)};else if($e instanceof __PRIVATE_PatchMutation)Be={update:__PRIVATE_toMutationDocument(Ve,$e.key,$e.data),updateMask:__PRIVATE_toDocumentMask($e.fieldMask)};else{if(!($e instanceof __PRIVATE_VerifyMutation))return fail(16599,{Vt:$e.type});Be={verify:__PRIVATE_toName(Ve,$e.key)}}return $e.fieldTransforms.length>0&&(Be.updateTransforms=$e.fieldTransforms.map((Ue=>(function(qe,He){const We=He.transform;if(We instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:He.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(We instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:He.field.canonicalString(),appendMissingElements:{values:We.elements}};if(We instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:He.field.canonicalString(),removeAllFromArray:{values:We.elements}};if(We instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:He.field.canonicalString(),increment:We.Ae};throw fail(20930,{transform:He.transform})})(0,Ue)))),$e.precondition.isNone||(Be.currentDocument=(function(ze,qe){return qe.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(ze,qe.updateTime)}:qe.exists!==void 0?{exists:qe.exists}:fail(27497)})(Ve,$e.precondition)),Be}function __PRIVATE_fromWriteResults(Ve,$e){return Ve&&Ve.length>0?(__PRIVATE_hardAssert($e!==void 0,14353),Ve.map((Be=>(function(ze,qe){let He=ze.updateTime?__PRIVATE_fromVersion(ze.updateTime):__PRIVATE_fromVersion(qe);return He.isEqual(SnapshotVersion.min())&&(He=__PRIVATE_fromVersion(qe)),new MutationResult(He,ze.transformResults||[])})(Be,$e)))):[]}function __PRIVATE_toDocumentsTarget(Ve,$e){return{documents:[__PRIVATE_toQueryPath(Ve,$e.path)]}}function __PRIVATE_toQueryTarget(Ve,$e){const Be={structuredQuery:{}},Ue=$e.path;let ze;$e.collectionGroup!==null?(ze=Ue,Be.structuredQuery.from=[{collectionId:$e.collectionGroup,allDescendants:!0}]):(ze=Ue.popLast(),Be.structuredQuery.from=[{collectionId:Ue.lastSegment()}]),Be.parent=__PRIVATE_toQueryPath(Ve,ze);const qe=(function(Ye){if(Ye.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(Ye,"and"))})($e.filters);qe&&(Be.structuredQuery.where=qe);const He=(function(Ye){if(Ye.length!==0)return Ye.map((Xe=>(function(er){return{field:__PRIVATE_toFieldPathReference(er.field),direction:__PRIVATE_toDirection(er.dir)}})(Xe)))})($e.orderBy);He&&(Be.structuredQuery.orderBy=He);const We=__PRIVATE_toInt32Proto(Ve,$e.limit);return We!==null&&(Be.structuredQuery.limit=We),$e.startAt&&(Be.structuredQuery.startAt=(function(Ye){return{before:Ye.inclusive,values:Ye.position}})($e.startAt)),$e.endAt&&(Be.structuredQuery.endAt=(function(Ye){return{before:!Ye.inclusive,values:Ye.position}})($e.endAt)),{ft:Be,parent:ze}}function __PRIVATE_convertQueryTargetToQuery(Ve){let $e=__PRIVATE_fromQueryPath(Ve.parent);const Be=Ve.structuredQuery,Ue=Be.from?Be.from.length:0;let ze=null;if(Ue>0){__PRIVATE_hardAssert(Ue===1,65062);const Xe=Be.from[0];Xe.allDescendants?ze=Xe.collectionId:$e=$e.child(Xe.collectionId)}let qe=[];Be.where&&(qe=(function(Je){const er=__PRIVATE_fromFilter(Je);return er instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(er)?er.getFilters():[er]})(Be.where));let He=[];Be.orderBy&&(He=(function(Je){return Je.map((er=>(function(rr){return new OrderBy(__PRIVATE_fromFieldPathReference(rr.field),(function(ar){switch(ar){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(rr.direction))})(er)))})(Be.orderBy));let We=null;Be.limit&&(We=(function(Je){let er;return er=typeof Je=="object"?Je.value:Je,__PRIVATE_isNullOrUndefined(er)?null:er})(Be.limit));let Ge=null;Be.startAt&&(Ge=(function(Je){const er=!!Je.before,Ze=Je.values||[];return new Bound(Ze,er)})(Be.startAt));let Ye=null;return Be.endAt&&(Ye=(function(Je){const er=!Je.before,Ze=Je.values||[];return new Bound(Ze,er)})(Be.endAt)),__PRIVATE_newQuery($e,ze,He,qe,We,"F",Ge,Ye)}function __PRIVATE_toListenRequestLabels(Ve,$e){const Be=(function(ze){switch(ze){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail(28987,{purpose:ze})}})($e.purpose);return Be==null?null:{"goog-listen-tags":Be}}function __PRIVATE_fromFilter(Ve){return Ve.unaryFilter!==void 0?(function(Be){switch(Be.unaryFilter.op){case"IS_NAN":const Ue=__PRIVATE_fromFieldPathReference(Be.unaryFilter.field);return FieldFilter.create(Ue,"==",{doubleValue:NaN});case"IS_NULL":const ze=__PRIVATE_fromFieldPathReference(Be.unaryFilter.field);return FieldFilter.create(ze,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const qe=__PRIVATE_fromFieldPathReference(Be.unaryFilter.field);return FieldFilter.create(qe,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const He=__PRIVATE_fromFieldPathReference(Be.unaryFilter.field);return FieldFilter.create(He,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fail(61313);default:return fail(60726)}})(Ve):Ve.fieldFilter!==void 0?(function(Be){return FieldFilter.create(__PRIVATE_fromFieldPathReference(Be.fieldFilter.field),(function(ze){switch(ze){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fail(58110);default:return fail(50506)}})(Be.fieldFilter.op),Be.fieldFilter.value)})(Ve):Ve.compositeFilter!==void 0?(function(Be){return CompositeFilter.create(Be.compositeFilter.filters.map((Ue=>__PRIVATE_fromFilter(Ue))),(function(ze){switch(ze){case"AND":return"and";case"OR":return"or";default:return fail(1026)}})(Be.compositeFilter.op))})(Ve):fail(30097,{filter:Ve})}function __PRIVATE_toDirection(Ve){return bt$1[Ve]}function __PRIVATE_toOperatorName(Ve){return Dt$1[Ve]}function __PRIVATE_toCompositeOperatorName(Ve){return Ct$1[Ve]}function __PRIVATE_toFieldPathReference(Ve){return{fieldPath:Ve.canonicalString()}}function __PRIVATE_fromFieldPathReference(Ve){return FieldPath$1.fromServerFormat(Ve.fieldPath)}function __PRIVATE_toFilter(Ve){return Ve instanceof FieldFilter?(function(Be){if(Be.op==="=="){if(__PRIVATE_isNanValue(Be.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Be.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(Be.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Be.field),op:"IS_NULL"}}}else if(Be.op==="!="){if(__PRIVATE_isNanValue(Be.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Be.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(Be.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(Be.field),op:__PRIVATE_toOperatorName(Be.op),value:Be.value}}})(Ve):Ve instanceof CompositeFilter?(function(Be){const Ue=Be.getFilters().map((ze=>__PRIVATE_toFilter(ze)));return Ue.length===1?Ue[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(Be.op),filters:Ue}}})(Ve):fail(54877,{filter:Ve})}function __PRIVATE_toDocumentMask(Ve){const $e=[];return Ve.fields.forEach((Be=>$e.push(Be.canonicalString()))),{fieldPaths:$e}}function __PRIVATE_isValidResourceName(Ve){return Ve.length>=4&&Ve.get(0)==="projects"&&Ve.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor($e,Be,Ue,ze,qe=SnapshotVersion.min(),He=SnapshotVersion.min(),We=ByteString.EMPTY_BYTE_STRING,Ge=null){this.target=$e,this.targetId=Be,this.purpose=Ue,this.sequenceNumber=ze,this.snapshotVersion=qe,this.lastLimboFreeSnapshotVersion=He,this.resumeToken=We,this.expectedCount=Ge}withSequenceNumber($e){return new TargetData(this.target,this.targetId,this.purpose,$e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken($e,Be){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,Be,this.lastLimboFreeSnapshotVersion,$e,null)}withExpectedCount($e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,$e)}withLastLimboFreeSnapshotVersion($e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,$e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor($e){this.yt=$e}}function __PRIVATE_fromBundledQuery(Ve){const $e=__PRIVATE_convertQueryTargetToQuery({parent:Ve.parent,structuredQuery:Ve.structuredQuery});return Ve.limitType==="LAST"?__PRIVATE_queryWithLimit($e,$e.limit,"L"):$e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.Cn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex($e,Be){return this.Cn.add(Be),PersistencePromise.resolve()}getCollectionParents($e,Be){return PersistencePromise.resolve(this.Cn.getEntries(Be))}addFieldIndex($e,Be){return PersistencePromise.resolve()}deleteFieldIndex($e,Be){return PersistencePromise.resolve()}deleteAllFieldIndexes($e){return PersistencePromise.resolve()}createTargetIndexes($e,Be){return PersistencePromise.resolve()}getDocumentsMatchingTarget($e,Be){return PersistencePromise.resolve(null)}getIndexType($e,Be){return PersistencePromise.resolve(0)}getFieldIndexes($e,Be){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate($e){return PersistencePromise.resolve(null)}getMinOffset($e,Be){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup($e,Be){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup($e,Be,Ue){return PersistencePromise.resolve()}updateIndexEntries($e,Be){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add($e){const Be=$e.lastSegment(),Ue=$e.popLast(),ze=this.index[Be]||new SortedSet(ResourcePath.comparator),qe=!ze.has(Ue);return this.index[Be]=ze.add(Ue),qe}has($e){const Be=$e.lastSegment(),Ue=$e.popLast(),ze=this.index[Be];return ze&&ze.has(Ue)}getEntries($e){return(this.index[$e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt$1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ot$1=41943040;class LruParams{static withCacheSize($e){return new LruParams($e,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor($e,Be,Ue){this.cacheSizeCollectionThreshold=$e,this.percentileToCollect=Be,this.maximumSequenceNumbersToCollect=Ue}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(Ot$1,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor($e){this.ar=$e}next(){return this.ar+=2,this.ar}static ur(){return new __PRIVATE_TargetIdGenerator(0)}static cr(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt$1="LruGarbageCollector",Bt$1=1048576;function __PRIVATE_bufferEntryComparator([Ve,$e],[Be,Ue]){const ze=__PRIVATE_primitiveComparator(Ve,Be);return ze===0?__PRIVATE_primitiveComparator($e,Ue):ze}class __PRIVATE_RollingSequenceNumberBuffer{constructor($e){this.Ir=$e,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.Er=0}dr(){return++this.Er}Ar($e){const Be=[$e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(Be);else{const Ue=this.buffer.last();__PRIVATE_bufferEntryComparator(Be,Ue)<0&&(this.buffer=this.buffer.delete(Ue).add(Be))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor($e,Be,Ue){this.garbageCollector=$e,this.asyncQueue=Be,this.localStore=Ue,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr($e){__PRIVATE_logDebug(Nt$1,`Garbage collection scheduled in ${$e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",$e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(Be){__PRIVATE_isIndexedDbTransactionError(Be)?__PRIVATE_logDebug(Nt$1,"Ignoring IndexedDB error during garbage collection: ",Be):await __PRIVATE_ignoreIfPrimaryLeaseLoss(Be)}await this.Vr(3e5)}))}}class __PRIVATE_LruGarbageCollectorImpl{constructor($e,Be){this.mr=$e,this.params=Be}calculateTargetCount($e,Be){return this.mr.gr($e).next((Ue=>Math.floor(Be/100*Ue)))}nthSequenceNumber($e,Be){if(Be===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence.ce);const Ue=new __PRIVATE_RollingSequenceNumberBuffer(Be);return this.mr.forEachTarget($e,(ze=>Ue.Ar(ze.sequenceNumber))).next((()=>this.mr.pr($e,(ze=>Ue.Ar(ze))))).next((()=>Ue.maxValue))}removeTargets($e,Be,Ue){return this.mr.removeTargets($e,Be,Ue)}removeOrphanedDocuments($e,Be){return this.mr.removeOrphanedDocuments($e,Be)}collect($e,Be){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(xt$1)):this.getCacheSize($e).next((Ue=>Ue<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${Ue} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xt$1):this.yr($e,Be)))}getCacheSize($e){return this.mr.getCacheSize($e)}yr($e,Be){let Ue,ze,qe,He,We,Ge,Ye;const Xe=Date.now();return this.calculateTargetCount($e,this.params.percentileToCollect).next((Je=>(Je>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Je}`),ze=this.params.maximumSequenceNumbersToCollect):ze=Je,He=Date.now(),this.nthSequenceNumber($e,ze)))).next((Je=>(Ue=Je,We=Date.now(),this.removeTargets($e,Ue,Be)))).next((Je=>(qe=Je,Ge=Date.now(),this.removeOrphanedDocuments($e,Ue)))).next((Je=>(Ye=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${He-Xe}ms
	Determined least recently used ${ze} in `+(We-He)+`ms
	Removed ${qe} targets in `+(Ge-We)+`ms
	Removed ${Je} documents in `+(Ye-Ge)+`ms
Total Duration: ${Ye-Xe}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:ze,targetsRemoved:qe,documentsRemoved:Je}))))}}function __PRIVATE_newLruGarbageCollector(Ve,$e){return new __PRIVATE_LruGarbageCollectorImpl(Ve,$e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(($e=>$e.toString()),(($e,Be)=>$e.isEqual(Be))),this.changesApplied=!1}addEntry($e){this.assertNotApplied(),this.changes.set($e.key,$e)}removeEntry($e,Be){this.assertNotApplied(),this.changes.set($e,MutableDocument.newInvalidDocument($e).setReadTime(Be))}getEntry($e,Be){this.assertNotApplied();const Ue=this.changes.get(Be);return Ue!==void 0?PersistencePromise.resolve(Ue):this.getFromCache($e,Be)}getEntries($e,Be){return this.getAllFromCache($e,Be)}apply($e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges($e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor($e,Be){this.overlayedDocument=$e,this.mutatedFields=Be}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor($e,Be,Ue,ze){this.remoteDocumentCache=$e,this.mutationQueue=Be,this.documentOverlayCache=Ue,this.indexManager=ze}getDocument($e,Be){let Ue=null;return this.documentOverlayCache.getOverlay($e,Be).next((ze=>(Ue=ze,this.remoteDocumentCache.getEntry($e,Be)))).next((ze=>(Ue!==null&&__PRIVATE_mutationApplyToLocalView(Ue.mutation,ze,FieldMask.empty(),Timestamp.now()),ze)))}getDocuments($e,Be){return this.remoteDocumentCache.getEntries($e,Be).next((Ue=>this.getLocalViewOfDocuments($e,Ue,__PRIVATE_documentKeySet()).next((()=>Ue))))}getLocalViewOfDocuments($e,Be,Ue=__PRIVATE_documentKeySet()){const ze=__PRIVATE_newOverlayMap();return this.populateOverlays($e,ze,Be).next((()=>this.computeViews($e,Be,ze,Ue).next((qe=>{let He=documentMap();return qe.forEach(((We,Ge)=>{He=He.insert(We,Ge.overlayedDocument)})),He}))))}getOverlayedDocuments($e,Be){const Ue=__PRIVATE_newOverlayMap();return this.populateOverlays($e,Ue,Be).next((()=>this.computeViews($e,Be,Ue,__PRIVATE_documentKeySet())))}populateOverlays($e,Be,Ue){const ze=[];return Ue.forEach((qe=>{Be.has(qe)||ze.push(qe)})),this.documentOverlayCache.getOverlays($e,ze).next((qe=>{qe.forEach(((He,We)=>{Be.set(He,We)}))}))}computeViews($e,Be,Ue,ze){let qe=__PRIVATE_mutableDocumentMap();const He=__PRIVATE_newDocumentKeyMap(),We=(function(){return __PRIVATE_newDocumentKeyMap()})();return Be.forEach(((Ge,Ye)=>{const Xe=Ue.get(Ye.key);ze.has(Ye.key)&&(Xe===void 0||Xe.mutation instanceof __PRIVATE_PatchMutation)?qe=qe.insert(Ye.key,Ye):Xe!==void 0?(He.set(Ye.key,Xe.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(Xe.mutation,Ye,Xe.mutation.getFieldMask(),Timestamp.now())):He.set(Ye.key,FieldMask.empty())})),this.recalculateAndSaveOverlays($e,qe).next((Ge=>(Ge.forEach(((Ye,Xe)=>He.set(Ye,Xe))),Be.forEach(((Ye,Xe)=>We.set(Ye,new OverlayedDocument(Xe,He.get(Ye)??null)))),We)))}recalculateAndSaveOverlays($e,Be){const Ue=__PRIVATE_newDocumentKeyMap();let ze=new SortedMap(((He,We)=>He-We)),qe=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys($e,Be).next((He=>{for(const We of He)We.keys().forEach((Ge=>{const Ye=Be.get(Ge);if(Ye===null)return;let Xe=Ue.get(Ge)||FieldMask.empty();Xe=We.applyToLocalView(Ye,Xe),Ue.set(Ge,Xe);const Je=(ze.get(We.batchId)||__PRIVATE_documentKeySet()).add(Ge);ze=ze.insert(We.batchId,Je)}))})).next((()=>{const He=[],We=ze.getReverseIterator();for(;We.hasNext();){const Ge=We.getNext(),Ye=Ge.key,Xe=Ge.value,Je=__PRIVATE_newMutationMap();Xe.forEach((er=>{if(!qe.has(er)){const Ze=__PRIVATE_calculateOverlayMutation(Be.get(er),Ue.get(er));Ze!==null&&Je.set(er,Ze),qe=qe.add(er)}})),He.push(this.documentOverlayCache.saveOverlays($e,Ye,Je))}return PersistencePromise.waitFor(He)})).next((()=>Ue))}recalculateAndSaveOverlaysForDocumentKeys($e,Be){return this.remoteDocumentCache.getEntries($e,Be).next((Ue=>this.recalculateAndSaveOverlays($e,Ue)))}getDocumentsMatchingQuery($e,Be,Ue,ze){return(function(He){return DocumentKey.isDocumentKey(He.path)&&He.collectionGroup===null&&He.filters.length===0})(Be)?this.getDocumentsMatchingDocumentQuery($e,Be.path):__PRIVATE_isCollectionGroupQuery(Be)?this.getDocumentsMatchingCollectionGroupQuery($e,Be,Ue,ze):this.getDocumentsMatchingCollectionQuery($e,Be,Ue,ze)}getNextDocuments($e,Be,Ue,ze){return this.remoteDocumentCache.getAllFromCollectionGroup($e,Be,Ue,ze).next((qe=>{const He=ze-qe.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup($e,Be,Ue.largestBatchId,ze-qe.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let We=U$1,Ge=qe;return He.next((Ye=>PersistencePromise.forEach(Ye,((Xe,Je)=>(We<Je.largestBatchId&&(We=Je.largestBatchId),qe.get(Xe)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry($e,Xe).next((er=>{Ge=Ge.insert(Xe,er)}))))).next((()=>this.populateOverlays($e,Ye,qe))).next((()=>this.computeViews($e,Ge,Ye,__PRIVATE_documentKeySet()))).next((Xe=>({batchId:We,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Xe)})))))}))}getDocumentsMatchingDocumentQuery($e,Be){return this.getDocument($e,new DocumentKey(Be)).next((Ue=>{let ze=documentMap();return Ue.isFoundDocument()&&(ze=ze.insert(Ue.key,Ue)),ze}))}getDocumentsMatchingCollectionGroupQuery($e,Be,Ue,ze){const qe=Be.collectionGroup;let He=documentMap();return this.indexManager.getCollectionParents($e,qe).next((We=>PersistencePromise.forEach(We,(Ge=>{const Ye=(function(Je,er){return new __PRIVATE_QueryImpl(er,null,Je.explicitOrderBy.slice(),Je.filters.slice(),Je.limit,Je.limitType,Je.startAt,Je.endAt)})(Be,Ge.child(qe));return this.getDocumentsMatchingCollectionQuery($e,Ye,Ue,ze).next((Xe=>{Xe.forEach(((Je,er)=>{He=He.insert(Je,er)}))}))})).next((()=>He))))}getDocumentsMatchingCollectionQuery($e,Be,Ue,ze){let qe;return this.documentOverlayCache.getOverlaysForCollection($e,Be.path,Ue.largestBatchId).next((He=>(qe=He,this.remoteDocumentCache.getDocumentsMatchingQuery($e,Be,Ue,qe,ze)))).next((He=>{qe.forEach(((Ge,Ye)=>{const Xe=Ye.getKey();He.get(Xe)===null&&(He=He.insert(Xe,MutableDocument.newInvalidDocument(Xe)))}));let We=documentMap();return He.forEach(((Ge,Ye)=>{const Xe=qe.get(Ge);Xe!==void 0&&__PRIVATE_mutationApplyToLocalView(Xe.mutation,Ye,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(Be,Ye)&&(We=We.insert(Ge,Ye))})),We}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor($e){this.serializer=$e,this.Lr=new Map,this.kr=new Map}getBundleMetadata($e,Be){return PersistencePromise.resolve(this.Lr.get(Be))}saveBundleMetadata($e,Be){return this.Lr.set(Be.id,(function(ze){return{id:ze.id,version:ze.version,createTime:__PRIVATE_fromVersion(ze.createTime)}})(Be)),PersistencePromise.resolve()}getNamedQuery($e,Be){return PersistencePromise.resolve(this.kr.get(Be))}saveNamedQuery($e,Be){return this.kr.set(Be.name,(function(ze){return{name:ze.name,query:__PRIVATE_fromBundledQuery(ze.bundledQuery),readTime:__PRIVATE_fromVersion(ze.readTime)}})(Be)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.qr=new Map}getOverlay($e,Be){return PersistencePromise.resolve(this.overlays.get(Be))}getOverlays($e,Be){const Ue=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(Be,(ze=>this.getOverlay($e,ze).next((qe=>{qe!==null&&Ue.set(ze,qe)})))).next((()=>Ue))}saveOverlays($e,Be,Ue){return Ue.forEach(((ze,qe)=>{this.St($e,Be,qe)})),PersistencePromise.resolve()}removeOverlaysForBatchId($e,Be,Ue){const ze=this.qr.get(Ue);return ze!==void 0&&(ze.forEach((qe=>this.overlays=this.overlays.remove(qe))),this.qr.delete(Ue)),PersistencePromise.resolve()}getOverlaysForCollection($e,Be,Ue){const ze=__PRIVATE_newOverlayMap(),qe=Be.length+1,He=new DocumentKey(Be.child("")),We=this.overlays.getIteratorFrom(He);for(;We.hasNext();){const Ge=We.getNext().value,Ye=Ge.getKey();if(!Be.isPrefixOf(Ye.path))break;Ye.path.length===qe&&Ge.largestBatchId>Ue&&ze.set(Ge.getKey(),Ge)}return PersistencePromise.resolve(ze)}getOverlaysForCollectionGroup($e,Be,Ue,ze){let qe=new SortedMap(((Ye,Xe)=>Ye-Xe));const He=this.overlays.getIterator();for(;He.hasNext();){const Ye=He.getNext().value;if(Ye.getKey().getCollectionGroup()===Be&&Ye.largestBatchId>Ue){let Xe=qe.get(Ye.largestBatchId);Xe===null&&(Xe=__PRIVATE_newOverlayMap(),qe=qe.insert(Ye.largestBatchId,Xe)),Xe.set(Ye.getKey(),Ye)}}const We=__PRIVATE_newOverlayMap(),Ge=qe.getIterator();for(;Ge.hasNext()&&(Ge.getNext().value.forEach(((Ye,Xe)=>We.set(Ye,Xe))),!(We.size()>=ze)););return PersistencePromise.resolve(We)}St($e,Be,Ue){const ze=this.overlays.get(Ue.key);if(ze!==null){const He=this.qr.get(ze.largestBatchId).delete(Ue.key);this.qr.set(ze.largestBatchId,He)}this.overlays=this.overlays.insert(Ue.key,new Overlay(Be,Ue));let qe=this.qr.get(Be);qe===void 0&&(qe=__PRIVATE_documentKeySet(),this.qr.set(Be,qe)),this.qr.set(Be,qe.add(Ue.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken($e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken($e,Be){return this.sessionToken=Be,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Qr=new SortedSet(__PRIVATE_DocReference.$r),this.Ur=new SortedSet(__PRIVATE_DocReference.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference($e,Be){const Ue=new __PRIVATE_DocReference($e,Be);this.Qr=this.Qr.add(Ue),this.Ur=this.Ur.add(Ue)}Wr($e,Be){$e.forEach((Ue=>this.addReference(Ue,Be)))}removeReference($e,Be){this.Gr(new __PRIVATE_DocReference($e,Be))}zr($e,Be){$e.forEach((Ue=>this.removeReference(Ue,Be)))}jr($e){const Be=new DocumentKey(new ResourcePath([])),Ue=new __PRIVATE_DocReference(Be,$e),ze=new __PRIVATE_DocReference(Be,$e+1),qe=[];return this.Ur.forEachInRange([Ue,ze],(He=>{this.Gr(He),qe.push(He.key)})),qe}Jr(){this.Qr.forEach(($e=>this.Gr($e)))}Gr($e){this.Qr=this.Qr.delete($e),this.Ur=this.Ur.delete($e)}Hr($e){const Be=new DocumentKey(new ResourcePath([])),Ue=new __PRIVATE_DocReference(Be,$e),ze=new __PRIVATE_DocReference(Be,$e+1);let qe=__PRIVATE_documentKeySet();return this.Ur.forEachInRange([Ue,ze],(He=>{qe=qe.add(He.key)})),qe}containsKey($e){const Be=new __PRIVATE_DocReference($e,0),Ue=this.Qr.firstAfterOrEqual(Be);return Ue!==null&&$e.isEqual(Ue.key)}}class __PRIVATE_DocReference{constructor($e,Be){this.key=$e,this.Yr=Be}static $r($e,Be){return DocumentKey.comparator($e.key,Be.key)||__PRIVATE_primitiveComparator($e.Yr,Be.Yr)}static Kr($e,Be){return __PRIVATE_primitiveComparator($e.Yr,Be.Yr)||DocumentKey.comparator($e.key,Be.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor($e,Be){this.indexManager=$e,this.referenceDelegate=Be,this.mutationQueue=[],this.tr=1,this.Zr=new SortedSet(__PRIVATE_DocReference.$r)}checkEmpty($e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch($e,Be,Ue,ze){const qe=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const He=new MutationBatch(qe,Be,Ue,ze);this.mutationQueue.push(He);for(const We of ze)this.Zr=this.Zr.add(new __PRIVATE_DocReference(We.key,qe)),this.indexManager.addToCollectionParentIndex($e,We.key.path.popLast());return PersistencePromise.resolve(He)}lookupMutationBatch($e,Be){return PersistencePromise.resolve(this.Xr(Be))}getNextMutationBatchAfterBatchId($e,Be){const Ue=Be+1,ze=this.ei(Ue),qe=ze<0?0:ze;return PersistencePromise.resolve(this.mutationQueue.length>qe?this.mutationQueue[qe]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?j$2:this.tr-1)}getAllMutationBatches($e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey($e,Be){const Ue=new __PRIVATE_DocReference(Be,0),ze=new __PRIVATE_DocReference(Be,Number.POSITIVE_INFINITY),qe=[];return this.Zr.forEachInRange([Ue,ze],(He=>{const We=this.Xr(He.Yr);qe.push(We)})),PersistencePromise.resolve(qe)}getAllMutationBatchesAffectingDocumentKeys($e,Be){let Ue=new SortedSet(__PRIVATE_primitiveComparator);return Be.forEach((ze=>{const qe=new __PRIVATE_DocReference(ze,0),He=new __PRIVATE_DocReference(ze,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([qe,He],(We=>{Ue=Ue.add(We.Yr)}))})),PersistencePromise.resolve(this.ti(Ue))}getAllMutationBatchesAffectingQuery($e,Be){const Ue=Be.path,ze=Ue.length+1;let qe=Ue;DocumentKey.isDocumentKey(qe)||(qe=qe.child(""));const He=new __PRIVATE_DocReference(new DocumentKey(qe),0);let We=new SortedSet(__PRIVATE_primitiveComparator);return this.Zr.forEachWhile((Ge=>{const Ye=Ge.key.path;return!!Ue.isPrefixOf(Ye)&&(Ye.length===ze&&(We=We.add(Ge.Yr)),!0)}),He),PersistencePromise.resolve(this.ti(We))}ti($e){const Be=[];return $e.forEach((Ue=>{const ze=this.Xr(Ue);ze!==null&&Be.push(ze)})),Be}removeMutationBatch($e,Be){__PRIVATE_hardAssert(this.ni(Be.batchId,"removed")===0,55003),this.mutationQueue.shift();let Ue=this.Zr;return PersistencePromise.forEach(Be.mutations,(ze=>{const qe=new __PRIVATE_DocReference(ze.key,Be.batchId);return Ue=Ue.delete(qe),this.referenceDelegate.markPotentiallyOrphaned($e,ze.key)})).next((()=>{this.Zr=Ue}))}ir($e){}containsKey($e,Be){const Ue=new __PRIVATE_DocReference(Be,0),ze=this.Zr.firstAfterOrEqual(Ue);return PersistencePromise.resolve(Be.isEqual(ze&&ze.key))}performConsistencyCheck($e){return this.mutationQueue.length,PersistencePromise.resolve()}ni($e,Be){return this.ei($e)}ei($e){return this.mutationQueue.length===0?0:$e-this.mutationQueue[0].batchId}Xr($e){const Be=this.ei($e);return Be<0||Be>=this.mutationQueue.length?null:this.mutationQueue[Be]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor($e){this.ri=$e,this.docs=(function(){return new SortedMap(DocumentKey.comparator)})(),this.size=0}setIndexManager($e){this.indexManager=$e}addEntry($e,Be){const Ue=Be.key,ze=this.docs.get(Ue),qe=ze?ze.size:0,He=this.ri(Be);return this.docs=this.docs.insert(Ue,{document:Be.mutableCopy(),size:He}),this.size+=He-qe,this.indexManager.addToCollectionParentIndex($e,Ue.path.popLast())}removeEntry($e){const Be=this.docs.get($e);Be&&(this.docs=this.docs.remove($e),this.size-=Be.size)}getEntry($e,Be){const Ue=this.docs.get(Be);return PersistencePromise.resolve(Ue?Ue.document.mutableCopy():MutableDocument.newInvalidDocument(Be))}getEntries($e,Be){let Ue=__PRIVATE_mutableDocumentMap();return Be.forEach((ze=>{const qe=this.docs.get(ze);Ue=Ue.insert(ze,qe?qe.document.mutableCopy():MutableDocument.newInvalidDocument(ze))})),PersistencePromise.resolve(Ue)}getDocumentsMatchingQuery($e,Be,Ue,ze){let qe=__PRIVATE_mutableDocumentMap();const He=Be.path,We=new DocumentKey(He.child("__id-9223372036854775808__")),Ge=this.docs.getIteratorFrom(We);for(;Ge.hasNext();){const{key:Ye,value:{document:Xe}}=Ge.getNext();if(!He.isPrefixOf(Ye.path))break;Ye.path.length>He.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(Xe),Ue)<=0||(ze.has(Xe.key)||__PRIVATE_queryMatches(Be,Xe))&&(qe=qe.insert(Xe.key,Xe.mutableCopy()))}return PersistencePromise.resolve(qe)}getAllFromCollectionGroup($e,Be,Ue,ze){fail(9500)}ii($e,Be){return PersistencePromise.forEach(this.docs,(Ue=>Be(Ue)))}newChangeBuffer($e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize($e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor($e){super(),this.Nr=$e}applyChanges($e){const Be=[];return this.changes.forEach(((Ue,ze)=>{ze.isValidDocument()?Be.push(this.Nr.addEntry($e,ze)):this.Nr.removeEntry(Ue)})),PersistencePromise.waitFor(Be)}getFromCache($e,Be){return this.Nr.getEntry($e,Be)}getAllFromCache($e,Be){return this.Nr.getEntries($e,Be)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor($e){this.persistence=$e,this.si=new ObjectMap((Be=>__PRIVATE_canonifyTarget(Be)),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.oi=0,this._i=new __PRIVATE_ReferenceSet,this.targetCount=0,this.ai=__PRIVATE_TargetIdGenerator.ur()}forEachTarget($e,Be){return this.si.forEach(((Ue,ze)=>Be(ze))),PersistencePromise.resolve()}getLastRemoteSnapshotVersion($e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber($e){return PersistencePromise.resolve(this.oi)}allocateTargetId($e){return this.highestTargetId=this.ai.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata($e,Be,Ue){return Ue&&(this.lastRemoteSnapshotVersion=Ue),Be>this.oi&&(this.oi=Be),PersistencePromise.resolve()}Pr($e){this.si.set($e.target,$e);const Be=$e.targetId;Be>this.highestTargetId&&(this.ai=new __PRIVATE_TargetIdGenerator(Be),this.highestTargetId=Be),$e.sequenceNumber>this.oi&&(this.oi=$e.sequenceNumber)}addTargetData($e,Be){return this.Pr(Be),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData($e,Be){return this.Pr(Be),PersistencePromise.resolve()}removeTargetData($e,Be){return this.si.delete(Be.target),this._i.jr(Be.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets($e,Be,Ue){let ze=0;const qe=[];return this.si.forEach(((He,We)=>{We.sequenceNumber<=Be&&Ue.get(We.targetId)===null&&(this.si.delete(He),qe.push(this.removeMatchingKeysForTargetId($e,We.targetId)),ze++)})),PersistencePromise.waitFor(qe).next((()=>ze))}getTargetCount($e){return PersistencePromise.resolve(this.targetCount)}getTargetData($e,Be){const Ue=this.si.get(Be)||null;return PersistencePromise.resolve(Ue)}addMatchingKeys($e,Be,Ue){return this._i.Wr(Be,Ue),PersistencePromise.resolve()}removeMatchingKeys($e,Be,Ue){this._i.zr(Be,Ue);const ze=this.persistence.referenceDelegate,qe=[];return ze&&Be.forEach((He=>{qe.push(ze.markPotentiallyOrphaned($e,He))})),PersistencePromise.waitFor(qe)}removeMatchingKeysForTargetId($e,Be){return this._i.jr(Be),PersistencePromise.resolve()}getMatchingKeysForTargetId($e,Be){const Ue=this._i.Hr(Be);return PersistencePromise.resolve(Ue)}containsKey($e,Be){return PersistencePromise.resolve(this._i.containsKey(Be))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor($e,Be){this.ui={},this.overlays={},this.ci=new __PRIVATE_ListenSequence(0),this.li=!1,this.li=!0,this.hi=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=$e(this),this.Pi=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=(function(ze){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(ze)})((Ue=>this.referenceDelegate.Ti(Ue))),this.serializer=new __PRIVATE_LocalSerializer(Be),this.Ii=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager($e){return this.indexManager}getDocumentOverlayCache($e){let Be=this.overlays[$e.toKey()];return Be||(Be=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[$e.toKey()]=Be),Be}getMutationQueue($e,Be){let Ue=this.ui[$e.toKey()];return Ue||(Ue=new __PRIVATE_MemoryMutationQueue(Be,this.referenceDelegate),this.ui[$e.toKey()]=Ue),Ue}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction($e,Be,Ue){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",$e);const ze=new __PRIVATE_MemoryTransaction(this.ci.next());return this.referenceDelegate.Ei(),Ue(ze).next((qe=>this.referenceDelegate.di(ze).next((()=>qe)))).toPromise().then((qe=>(ze.raiseOnCommittedEvent(),qe)))}Ai($e,Be){return PersistencePromise.or(Object.values(this.ui).map((Ue=>()=>Ue.containsKey($e,Be))))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor($e){super(),this.currentSequenceNumber=$e}}class __PRIVATE_MemoryEagerDelegate{constructor($e){this.persistence=$e,this.Ri=new __PRIVATE_ReferenceSet,this.Vi=null}static mi($e){return new __PRIVATE_MemoryEagerDelegate($e)}get fi(){if(this.Vi)return this.Vi;throw fail(60996)}addReference($e,Be,Ue){return this.Ri.addReference(Ue,Be),this.fi.delete(Ue.toString()),PersistencePromise.resolve()}removeReference($e,Be,Ue){return this.Ri.removeReference(Ue,Be),this.fi.add(Ue.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned($e,Be){return this.fi.add(Be.toString()),PersistencePromise.resolve()}removeTarget($e,Be){this.Ri.jr(Be.targetId).forEach((ze=>this.fi.add(ze.toString())));const Ue=this.persistence.getTargetCache();return Ue.getMatchingKeysForTargetId($e,Be.targetId).next((ze=>{ze.forEach((qe=>this.fi.add(qe.toString())))})).next((()=>Ue.removeTargetData($e,Be)))}Ei(){this.Vi=new Set}di($e){const Be=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.fi,(Ue=>{const ze=DocumentKey.fromPath(Ue);return this.gi($e,ze).next((qe=>{qe||Be.removeEntry(ze,SnapshotVersion.min())}))})).next((()=>(this.Vi=null,Be.apply($e))))}updateLimboDocument($e,Be){return this.gi($e,Be).next((Ue=>{Ue?this.fi.delete(Be.toString()):this.fi.add(Be.toString())}))}Ti($e){return 0}gi($e,Be){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Ri.containsKey(Be)),()=>this.persistence.getTargetCache().containsKey($e,Be),()=>this.persistence.Ai($e,Be)])}}class __PRIVATE_MemoryLruDelegate{constructor($e,Be){this.persistence=$e,this.pi=new ObjectMap((Ue=>__PRIVATE_encodeResourcePath(Ue.path)),((Ue,ze)=>Ue.isEqual(ze))),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,Be)}static mi($e,Be){return new __PRIVATE_MemoryLruDelegate($e,Be)}Ei(){}di($e){return PersistencePromise.resolve()}forEachTarget($e,Be){return this.persistence.getTargetCache().forEachTarget($e,Be)}gr($e){const Be=this.wr($e);return this.persistence.getTargetCache().getTargetCount($e).next((Ue=>Be.next((ze=>Ue+ze))))}wr($e){let Be=0;return this.pr($e,(Ue=>{Be++})).next((()=>Be))}pr($e,Be){return PersistencePromise.forEach(this.pi,((Ue,ze)=>this.br($e,Ue,ze).next((qe=>qe?PersistencePromise.resolve():Be(ze)))))}removeTargets($e,Be,Ue){return this.persistence.getTargetCache().removeTargets($e,Be,Ue)}removeOrphanedDocuments($e,Be){let Ue=0;const ze=this.persistence.getRemoteDocumentCache(),qe=ze.newChangeBuffer();return ze.ii($e,(He=>this.br($e,He,Be).next((We=>{We||(Ue++,qe.removeEntry(He,SnapshotVersion.min()))})))).next((()=>qe.apply($e))).next((()=>Ue))}markPotentiallyOrphaned($e,Be){return this.pi.set(Be,$e.currentSequenceNumber),PersistencePromise.resolve()}removeTarget($e,Be){const Ue=Be.withSequenceNumber($e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData($e,Ue)}addReference($e,Be,Ue){return this.pi.set(Ue,$e.currentSequenceNumber),PersistencePromise.resolve()}removeReference($e,Be,Ue){return this.pi.set(Ue,$e.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument($e,Be){return this.pi.set(Be,$e.currentSequenceNumber),PersistencePromise.resolve()}Ti($e){let Be=$e.key.toString().length;return $e.isFoundDocument()&&(Be+=__PRIVATE_estimateByteSize($e.data.value)),Be}br($e,Be,Ue){return PersistencePromise.or([()=>this.persistence.Ai($e,Be),()=>this.persistence.getTargetCache().containsKey($e,Be),()=>{const ze=this.pi.get(Be);return PersistencePromise.resolve(ze!==void 0&&ze>Ue)}])}getCacheSize($e){return this.persistence.getRemoteDocumentCache().getSize($e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor($e,Be,Ue,ze){this.targetId=$e,this.fromCache=Be,this.Es=Ue,this.ds=ze}static As($e,Be){let Ue=__PRIVATE_documentKeySet(),ze=__PRIVATE_documentKeySet();for(const qe of Be.docChanges)switch(qe.type){case 0:Ue=Ue.add(qe.doc.key);break;case 1:ze=ze.add(qe.doc.key)}return new __PRIVATE_LocalViewChanges($e,Be.fromCache,Ue,ze)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount($e){this._documentReadCount+=$e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4})()}initialize($e,Be){this.ps=$e,this.indexManager=Be,this.Rs=!0}getDocumentsMatchingQuery($e,Be,Ue,ze){const qe={result:null};return this.ys($e,Be).next((He=>{qe.result=He})).next((()=>{if(!qe.result)return this.ws($e,Be,ze,Ue).next((He=>{qe.result=He}))})).next((()=>{if(qe.result)return;const He=new QueryContext;return this.Ss($e,Be,He).next((We=>{if(qe.result=We,this.Vs)return this.bs($e,Be,He,We.size)}))})).next((()=>qe.result))}bs($e,Be,Ue,ze){return Ue.documentReadCount<this.fs?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(Be),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(Be),"scans",Ue.documentReadCount,"local documents and returns",ze,"documents as results."),Ue.documentReadCount>this.gs*ze?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(Be),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes($e,__PRIVATE_queryToTarget(Be))):PersistencePromise.resolve())}ys($e,Be){if(__PRIVATE_queryMatchesAllDocuments(Be))return PersistencePromise.resolve(null);let Ue=__PRIVATE_queryToTarget(Be);return this.indexManager.getIndexType($e,Ue).next((ze=>ze===0?null:(Be.limit!==null&&ze===1&&(Be=__PRIVATE_queryWithLimit(Be,null,"F"),Ue=__PRIVATE_queryToTarget(Be)),this.indexManager.getDocumentsMatchingTarget($e,Ue).next((qe=>{const He=__PRIVATE_documentKeySet(...qe);return this.ps.getDocuments($e,He).next((We=>this.indexManager.getMinOffset($e,Ue).next((Ge=>{const Ye=this.Ds(Be,We);return this.Cs(Be,Ye,He,Ge.readTime)?this.ys($e,__PRIVATE_queryWithLimit(Be,null,"F")):this.vs($e,Ye,Be,Ge)}))))})))))}ws($e,Be,Ue,ze){return __PRIVATE_queryMatchesAllDocuments(Be)||ze.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.ps.getDocuments($e,Ue).next((qe=>{const He=this.Ds(Be,qe);return this.Cs(Be,He,Ue,ze)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",ze.toString(),__PRIVATE_stringifyQuery(Be)),this.vs($e,He,Be,__PRIVATE_newIndexOffsetSuccessorFromReadTime(ze,U$1)).next((We=>We)))}))}Ds($e,Be){let Ue=new SortedSet(__PRIVATE_newQueryComparator($e));return Be.forEach(((ze,qe)=>{__PRIVATE_queryMatches($e,qe)&&(Ue=Ue.add(qe))})),Ue}Cs($e,Be,Ue,ze){if($e.limit===null)return!1;if(Ue.size!==Be.size)return!0;const qe=$e.limitType==="F"?Be.last():Be.first();return!!qe&&(qe.hasPendingWrites||qe.version.compareTo(ze)>0)}Ss($e,Be,Ue){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(Be)),this.ps.getDocumentsMatchingQuery($e,Be,IndexOffset.min(),Ue)}vs($e,Be,Ue,ze){return this.ps.getDocumentsMatchingQuery($e,Ue,ze).next((qe=>(Be.forEach((He=>{qe=qe.insert(He.key,He)})),qe)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut$1="LocalStore",Kt$1=3e8;class __PRIVATE_LocalStoreImpl{constructor($e,Be,Ue,ze){this.persistence=$e,this.Fs=Be,this.serializer=ze,this.Ms=new SortedMap(__PRIVATE_primitiveComparator),this.xs=new ObjectMap((qe=>__PRIVATE_canonifyTarget(qe)),__PRIVATE_targetEquals),this.Os=new Map,this.Ns=$e.getRemoteDocumentCache(),this.Pi=$e.getTargetCache(),this.Ii=$e.getBundleCache(),this.Bs(Ue)}Bs($e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache($e),this.indexManager=this.persistence.getIndexManager($e),this.mutationQueue=this.persistence.getMutationQueue($e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage($e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(Be=>$e.collect(Be,this.Ms)))}}function __PRIVATE_newLocalStore(Ve,$e,Be,Ue){return new __PRIVATE_LocalStoreImpl(Ve,$e,Be,Ue)}async function __PRIVATE_localStoreHandleUserChange(Ve,$e){const Be=__PRIVATE_debugCast(Ve);return await Be.persistence.runTransaction("Handle user change","readonly",(Ue=>{let ze;return Be.mutationQueue.getAllMutationBatches(Ue).next((qe=>(ze=qe,Be.Bs($e),Be.mutationQueue.getAllMutationBatches(Ue)))).next((qe=>{const He=[],We=[];let Ge=__PRIVATE_documentKeySet();for(const Ye of ze){He.push(Ye.batchId);for(const Xe of Ye.mutations)Ge=Ge.add(Xe.key)}for(const Ye of qe){We.push(Ye.batchId);for(const Xe of Ye.mutations)Ge=Ge.add(Xe.key)}return Be.localDocuments.getDocuments(Ue,Ge).next((Ye=>({Ls:Ye,removedBatchIds:He,addedBatchIds:We})))}))}))}function __PRIVATE_localStoreAcknowledgeBatch(Ve,$e){const Be=__PRIVATE_debugCast(Ve);return Be.persistence.runTransaction("Acknowledge batch","readwrite-primary",(Ue=>{const ze=$e.batch.keys(),qe=Be.Ns.newChangeBuffer({trackRemovals:!0});return(function(We,Ge,Ye,Xe){const Je=Ye.batch,er=Je.keys();let Ze=PersistencePromise.resolve();return er.forEach((rr=>{Ze=Ze.next((()=>Xe.getEntry(Ge,rr))).next((nr=>{const ar=Ye.docVersions.get(rr);__PRIVATE_hardAssert(ar!==null,48541),nr.version.compareTo(ar)<0&&(Je.applyToRemoteDocument(nr,Ye),nr.isValidDocument()&&(nr.setReadTime(Ye.commitVersion),Xe.addEntry(nr)))}))})),Ze.next((()=>We.mutationQueue.removeMutationBatch(Ge,Je)))})(Be,Ue,$e,qe).next((()=>qe.apply(Ue))).next((()=>Be.mutationQueue.performConsistencyCheck(Ue))).next((()=>Be.documentOverlayCache.removeOverlaysForBatchId(Ue,ze,$e.batch.batchId))).next((()=>Be.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Ue,(function(We){let Ge=__PRIVATE_documentKeySet();for(let Ye=0;Ye<We.mutationResults.length;++Ye)We.mutationResults[Ye].transformResults.length>0&&(Ge=Ge.add(We.batch.mutations[Ye].key));return Ge})($e)))).next((()=>Be.localDocuments.getDocuments(Ue,ze)))}))}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ve){const $e=__PRIVATE_debugCast(Ve);return $e.persistence.runTransaction("Get last remote snapshot version","readonly",(Be=>$e.Pi.getLastRemoteSnapshotVersion(Be)))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(Ve,$e){const Be=__PRIVATE_debugCast(Ve),Ue=$e.snapshotVersion;let ze=Be.Ms;return Be.persistence.runTransaction("Apply remote event","readwrite-primary",(qe=>{const He=Be.Ns.newChangeBuffer({trackRemovals:!0});ze=Be.Ms;const We=[];$e.targetChanges.forEach(((Xe,Je)=>{const er=ze.get(Je);if(!er)return;We.push(Be.Pi.removeMatchingKeys(qe,Xe.removedDocuments,Je).next((()=>Be.Pi.addMatchingKeys(qe,Xe.addedDocuments,Je))));let Ze=er.withSequenceNumber(qe.currentSequenceNumber);$e.targetMismatches.get(Je)!==null?Ze=Ze.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):Xe.resumeToken.approximateByteSize()>0&&(Ze=Ze.withResumeToken(Xe.resumeToken,Ue)),ze=ze.insert(Je,Ze),(function(nr,ar,sr){return nr.resumeToken.approximateByteSize()===0||ar.snapshotVersion.toMicroseconds()-nr.snapshotVersion.toMicroseconds()>=Kt$1?!0:sr.addedDocuments.size+sr.modifiedDocuments.size+sr.removedDocuments.size>0})(er,Ze,Xe)&&We.push(Be.Pi.updateTargetData(qe,Ze))}));let Ge=__PRIVATE_mutableDocumentMap(),Ye=__PRIVATE_documentKeySet();if($e.documentUpdates.forEach((Xe=>{$e.resolvedLimboDocuments.has(Xe)&&We.push(Be.persistence.referenceDelegate.updateLimboDocument(qe,Xe))})),We.push(__PRIVATE_populateDocumentChangeBuffer(qe,He,$e.documentUpdates).next((Xe=>{Ge=Xe.ks,Ye=Xe.qs}))),!Ue.isEqual(SnapshotVersion.min())){const Xe=Be.Pi.getLastRemoteSnapshotVersion(qe).next((Je=>Be.Pi.setTargetsMetadata(qe,qe.currentSequenceNumber,Ue)));We.push(Xe)}return PersistencePromise.waitFor(We).next((()=>He.apply(qe))).next((()=>Be.localDocuments.getLocalViewOfDocuments(qe,Ge,Ye))).next((()=>Ge))})).then((qe=>(Be.Ms=ze,qe)))}function __PRIVATE_populateDocumentChangeBuffer(Ve,$e,Be){let Ue=__PRIVATE_documentKeySet(),ze=__PRIVATE_documentKeySet();return Be.forEach((qe=>Ue=Ue.add(qe))),$e.getEntries(Ve,Ue).next((qe=>{let He=__PRIVATE_mutableDocumentMap();return Be.forEach(((We,Ge)=>{const Ye=qe.get(We);Ge.isFoundDocument()!==Ye.isFoundDocument()&&(ze=ze.add(We)),Ge.isNoDocument()&&Ge.version.isEqual(SnapshotVersion.min())?($e.removeEntry(We,Ge.readTime),He=He.insert(We,Ge)):!Ye.isValidDocument()||Ge.version.compareTo(Ye.version)>0||Ge.version.compareTo(Ye.version)===0&&Ye.hasPendingWrites?($e.addEntry(Ge),He=He.insert(We,Ge)):__PRIVATE_logDebug(Ut$1,"Ignoring outdated watch update for ",We,". Current version:",Ye.version," Watch version:",Ge.version)})),{ks:He,qs:ze}}))}function __PRIVATE_localStoreGetNextMutationBatch(Ve,$e){const Be=__PRIVATE_debugCast(Ve);return Be.persistence.runTransaction("Get next mutation batch","readonly",(Ue=>($e===void 0&&($e=j$2),Be.mutationQueue.getNextMutationBatchAfterBatchId(Ue,$e))))}function __PRIVATE_localStoreAllocateTarget(Ve,$e){const Be=__PRIVATE_debugCast(Ve);return Be.persistence.runTransaction("Allocate target","readwrite",(Ue=>{let ze;return Be.Pi.getTargetData(Ue,$e).next((qe=>qe?(ze=qe,PersistencePromise.resolve(ze)):Be.Pi.allocateTargetId(Ue).next((He=>(ze=new TargetData($e,He,"TargetPurposeListen",Ue.currentSequenceNumber),Be.Pi.addTargetData(Ue,ze).next((()=>ze)))))))})).then((Ue=>{const ze=Be.Ms.get(Ue.targetId);return(ze===null||Ue.snapshotVersion.compareTo(ze.snapshotVersion)>0)&&(Be.Ms=Be.Ms.insert(Ue.targetId,Ue),Be.xs.set($e,Ue.targetId)),Ue}))}async function __PRIVATE_localStoreReleaseTarget(Ve,$e,Be){const Ue=__PRIVATE_debugCast(Ve),ze=Ue.Ms.get($e),qe=Be?"readwrite":"readwrite-primary";try{Be||await Ue.persistence.runTransaction("Release target",qe,(He=>Ue.persistence.referenceDelegate.removeTarget(He,ze)))}catch(He){if(!__PRIVATE_isIndexedDbTransactionError(He))throw He;__PRIVATE_logDebug(Ut$1,`Failed to update sequence numbers for target ${$e}: ${He}`)}Ue.Ms=Ue.Ms.remove($e),Ue.xs.delete(ze.target)}function __PRIVATE_localStoreExecuteQuery(Ve,$e,Be){const Ue=__PRIVATE_debugCast(Ve);let ze=SnapshotVersion.min(),qe=__PRIVATE_documentKeySet();return Ue.persistence.runTransaction("Execute query","readwrite",(He=>(function(Ge,Ye,Xe){const Je=__PRIVATE_debugCast(Ge),er=Je.xs.get(Xe);return er!==void 0?PersistencePromise.resolve(Je.Ms.get(er)):Je.Pi.getTargetData(Ye,Xe)})(Ue,He,__PRIVATE_queryToTarget($e)).next((We=>{if(We)return ze=We.lastLimboFreeSnapshotVersion,Ue.Pi.getMatchingKeysForTargetId(He,We.targetId).next((Ge=>{qe=Ge}))})).next((()=>Ue.Fs.getDocumentsMatchingQuery(He,$e,Be?ze:SnapshotVersion.min(),Be?qe:__PRIVATE_documentKeySet()))).next((We=>(__PRIVATE_setMaxReadTime(Ue,__PRIVATE_queryCollectionGroup($e),We),{documents:We,Qs:qe})))))}function __PRIVATE_setMaxReadTime(Ve,$e,Be){let Ue=Ve.Os.get($e)||SnapshotVersion.min();Be.forEach(((ze,qe)=>{qe.readTime.compareTo(Ue)>0&&(Ue=qe.readTime)})),Ve.Os.set($e,Ue)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}zs($e){this.activeTargetIds=this.activeTargetIds.add($e)}js($e){this.activeTargetIds=this.activeTargetIds.delete($e)}Gs(){const $e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify($e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.Mo=new __PRIVATE_LocalClientState,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation($e){}updateMutationState($e,Be,Ue){}addLocalQueryTarget($e,Be=!0){return Be&&this.Mo.zs($e),this.xo[$e]||"not-current"}updateQueryState($e,Be,Ue){this.xo[$e]=Be}removeLocalQueryTarget($e){this.Mo.js($e)}isLocalQueryTarget($e){return this.Mo.activeTargetIds.has($e)}clearQueryState($e){delete this.xo[$e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget($e){return this.Mo.activeTargetIds.has($e)}start(){return this.Mo=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange($e,Be,Ue){}setOnlineState($e){}shutdown(){}writeSequenceNumber($e){}notifyBundleLoaded($e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{Oo($e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt$1="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo($e){this.qo.push($e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){__PRIVATE_logDebug(Jt$1,"Network connectivity changed: AVAILABLE");for(const $e of this.qo)$e(0)}ko(){__PRIVATE_logDebug(Jt$1,"Network connectivity changed: UNAVAILABLE");for(const $e of this.qo)$e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht$1=null;function __PRIVATE_generateUniqueDebugId(){return Ht$1===null?Ht$1=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ht$1++,"0x"+Ht$1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt$1="RestConnection",Zt$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get $o(){return!1}constructor($e){this.databaseInfo=$e,this.databaseId=$e.databaseId;const Be=$e.ssl?"https":"http",Ue=encodeURIComponent(this.databaseId.projectId),ze=encodeURIComponent(this.databaseId.database);this.Uo=Be+"://"+$e.host,this.Ko=`projects/${Ue}/databases/${ze}`,this.Wo=this.databaseId.database===lt$1?`project_id=${Ue}`:`project_id=${Ue}&database_id=${ze}`}Go($e,Be,Ue,ze,qe){const He=__PRIVATE_generateUniqueDebugId(),We=this.zo($e,Be.toUriEncodedString());__PRIVATE_logDebug(Yt$1,`Sending RPC '${$e}' ${He}:`,We,Ue);const Ge={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(Ge,ze,qe);const{host:Ye}=new URL(We),Xe=isCloudWorkstation(Ye);return this.Jo($e,We,Ge,Ue,Xe).then((Je=>(__PRIVATE_logDebug(Yt$1,`Received RPC '${$e}' ${He}: `,Je),Je)),(Je=>{throw __PRIVATE_logWarn(Yt$1,`RPC '${$e}' ${He} failed with error: `,Je,"url: ",We,"request:",Ue),Je}))}Ho($e,Be,Ue,ze,qe,He){return this.Go($e,Be,Ue,ze,qe)}jo($e,Be,Ue){$e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+x$3})(),$e["Content-Type"]="text/plain",this.databaseInfo.appId&&($e["X-Firebase-GMPID"]=this.databaseInfo.appId),Be&&Be.headers.forEach(((ze,qe)=>$e[qe]=ze)),Ue&&Ue.headers.forEach(((ze,qe)=>$e[qe]=ze))}zo($e,Be){const Ue=Zt$1[$e];return`${this.Uo}/v1/${Be}:${Ue}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor($e){this.Yo=$e.Yo,this.Zo=$e.Zo}Xo($e){this.e_=$e}t_($e){this.n_=$e}r_($e){this.i_=$e}onMessage($e){this.s_=$e}close(){this.Zo()}send($e){this.Yo($e)}o_(){this.e_()}__(){this.n_()}a_($e){this.i_($e)}u_($e){this.s_($e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt$1="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor($e){super($e),this.c_=[],this.forceLongPolling=$e.forceLongPolling,this.autoDetectLongPolling=$e.autoDetectLongPolling,this.useFetchStreams=$e.useFetchStreams,this.longPollingOptions=$e.longPollingOptions}Jo($e,Be,Ue,ze,qe){const He=__PRIVATE_generateUniqueDebugId();return new Promise(((We,Ge)=>{const Ye=new XhrIo;Ye.setWithCredentials(!0),Ye.listenOnce(EventType.COMPLETE,(()=>{try{switch(Ye.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const Je=Ye.getResponseJson();__PRIVATE_logDebug(Xt$1,`XHR for RPC '${$e}' ${He} received:`,JSON.stringify(Je)),We(Je);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(Xt$1,`RPC '${$e}' ${He} timed out`),Ge(new FirestoreError(N$2.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const er=Ye.getStatus();if(__PRIVATE_logDebug(Xt$1,`RPC '${$e}' ${He} failed with status:`,er,"response text:",Ye.getResponseText()),er>0){let Ze=Ye.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const rr=Ze?.error;if(rr&&rr.status&&rr.message){const nr=(function(sr){const lr=sr.toLowerCase().replace(/_/g,"-");return Object.values(N$2).indexOf(lr)>=0?lr:N$2.UNKNOWN})(rr.status);Ge(new FirestoreError(nr,rr.message))}else Ge(new FirestoreError(N$2.UNKNOWN,"Server responded with status "+Ye.getStatus()))}else Ge(new FirestoreError(N$2.UNAVAILABLE,"Connection failed."));break;default:fail(9055,{l_:$e,streamId:He,h_:Ye.getLastErrorCode(),P_:Ye.getLastError()})}}finally{__PRIVATE_logDebug(Xt$1,`RPC '${$e}' ${He} completed.`)}}));const Xe=JSON.stringify(ze);__PRIVATE_logDebug(Xt$1,`RPC '${$e}' ${He} sending request:`,ze),Ye.send(Be,"POST",Xe,Ue,15)}))}T_($e,Be,Ue){const ze=__PRIVATE_generateUniqueDebugId(),qe=[this.Uo,"/","google.firestore.v1.Firestore","/",$e,"/channel"],He=createWebChannelTransport(),We=getStatEventTarget(),Ge={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Ye=this.longPollingOptions.timeoutSeconds;Ye!==void 0&&(Ge.longPollingTimeout=Math.round(1e3*Ye)),this.useFetchStreams&&(Ge.useFetchStreams=!0),this.jo(Ge.initMessageHeaders,Be,Ue),Ge.encodeInitMessageHeaders=!0;const Xe=qe.join("");__PRIVATE_logDebug(Xt$1,`Creating RPC '${$e}' stream ${ze}: ${Xe}`,Ge);const Je=He.createWebChannel(Xe,Ge);this.I_(Je);let er=!1,Ze=!1;const rr=new __PRIVATE_StreamBridge({Yo:ar=>{Ze?__PRIVATE_logDebug(Xt$1,`Not sending because RPC '${$e}' stream ${ze} is closed:`,ar):(er||(__PRIVATE_logDebug(Xt$1,`Opening RPC '${$e}' stream ${ze} transport.`),Je.open(),er=!0),__PRIVATE_logDebug(Xt$1,`RPC '${$e}' stream ${ze} sending:`,ar),Je.send(ar))},Zo:()=>Je.close()}),nr=(ar,sr,lr)=>{ar.listen(sr,(or=>{try{lr(or)}catch(cr){setTimeout((()=>{throw cr}),0)}}))};return nr(Je,WebChannel.EventType.OPEN,(()=>{Ze||(__PRIVATE_logDebug(Xt$1,`RPC '${$e}' stream ${ze} transport opened.`),rr.o_())})),nr(Je,WebChannel.EventType.CLOSE,(()=>{Ze||(Ze=!0,__PRIVATE_logDebug(Xt$1,`RPC '${$e}' stream ${ze} transport closed`),rr.a_(),this.E_(Je))})),nr(Je,WebChannel.EventType.ERROR,(ar=>{Ze||(Ze=!0,__PRIVATE_logWarn(Xt$1,`RPC '${$e}' stream ${ze} transport errored. Name:`,ar.name,"Message:",ar.message),rr.a_(new FirestoreError(N$2.UNAVAILABLE,"The operation could not be completed")))})),nr(Je,WebChannel.EventType.MESSAGE,(ar=>{if(!Ze){const sr=ar.data[0];__PRIVATE_hardAssert(!!sr,16349);const lr=sr,or=lr?.error||lr[0]?.error;if(or){__PRIVATE_logDebug(Xt$1,`RPC '${$e}' stream ${ze} received error:`,or);const cr=or.status;let hr=(function(vr){const _r=pt$1[vr];if(_r!==void 0)return __PRIVATE_mapCodeFromRpcCode(_r)})(cr),yr=or.message;hr===void 0&&(hr=N$2.INTERNAL,yr="Unknown error status: "+cr+" with message "+or.message),Ze=!0,rr.a_(new FirestoreError(hr,yr)),Je.close()}else __PRIVATE_logDebug(Xt$1,`RPC '${$e}' stream ${ze} received:`,sr),rr.u_(sr)}})),nr(We,Event$1.STAT_EVENT,(ar=>{ar.stat===Stat.PROXY?__PRIVATE_logDebug(Xt$1,`RPC '${$e}' stream ${ze} detected buffering proxy`):ar.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Xt$1,`RPC '${$e}' stream ${ze} detected no buffering proxy`)})),setTimeout((()=>{rr.__()}),0),rr}terminate(){this.c_.forEach(($e=>$e.close())),this.c_=[]}I_($e){this.c_.push($e)}E_($e){this.c_=this.c_.filter((Be=>Be===$e))}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(Ve){return new JsonProtoSerializer(Ve,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor($e,Be,Ue=1e3,ze=1.5,qe=6e4){this.Mi=$e,this.timerId=Be,this.d_=Ue,this.A_=ze,this.R_=qe,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_($e){this.cancel();const Be=Math.floor(this.V_+this.y_()),Ue=Math.max(0,Date.now()-this.f_),ze=Math.max(0,Be-Ue);ze>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${ze} ms (base delay: ${this.V_} ms, delay with jitter: ${Be} ms, last attempt: ${Ue} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,ze,(()=>(this.f_=Date.now(),$e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="PersistentStream";class __PRIVATE_PersistentStream{constructor($e,Be,Ue,ze,qe,He,We,Ge){this.Mi=$e,this.S_=Ue,this.b_=ze,this.connection=qe,this.authCredentialsProvider=He,this.appCheckCredentialsProvider=We,this.listener=Ge,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new __PRIVATE_ExponentialBackoff($e,Be)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_($e){this.Q_(),this.stream.send($e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close($e,Be){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,$e!==4?this.M_.reset():Be&&Be.code===N$2.RESOURCE_EXHAUSTED?(__PRIVATE_logError(Be.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):Be&&Be.code===N$2.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=$e,await this.listener.r_(Be)}K_(){}auth(){this.state=1;const $e=this.W_(this.D_),Be=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([Ue,ze])=>{this.D_===Be&&this.G_(Ue,ze)}),(Ue=>{$e((()=>{const ze=new FirestoreError(N$2.UNKNOWN,"Fetching auth token failed: "+Ue.message);return this.z_(ze)}))}))}G_($e,Be){const Ue=this.W_(this.D_);this.stream=this.j_($e,Be),this.stream.Xo((()=>{Ue((()=>this.listener.Xo()))})),this.stream.t_((()=>{Ue((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((ze=>{Ue((()=>this.z_(ze)))})),this.stream.onMessage((ze=>{Ue((()=>++this.F_==1?this.J_(ze):this.onNext(ze)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_($e){return __PRIVATE_logDebug(en,`close with error: ${$e}`),this.stream=null,this.close(4,$e)}W_($e){return Be=>{this.Mi.enqueueAndForget((()=>this.D_===$e?Be():(__PRIVATE_logDebug(en,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor($e,Be,Ue,ze,qe,He){super($e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",Be,Ue,ze,He),this.serializer=qe}j_($e,Be){return this.connection.T_("Listen",$e,Be)}J_($e){return this.onNext($e)}onNext($e){this.M_.reset();const Be=__PRIVATE_fromWatchChange(this.serializer,$e),Ue=(function(qe){if(!("targetChange"in qe))return SnapshotVersion.min();const He=qe.targetChange;return He.targetIds&&He.targetIds.length?SnapshotVersion.min():He.readTime?__PRIVATE_fromVersion(He.readTime):SnapshotVersion.min()})($e);return this.listener.H_(Be,Ue)}Y_($e){const Be={};Be.database=__PRIVATE_getEncodedDatabaseId(this.serializer),Be.addTarget=(function(qe,He){let We;const Ge=He.target;if(We=__PRIVATE_targetIsDocumentTarget(Ge)?{documents:__PRIVATE_toDocumentsTarget(qe,Ge)}:{query:__PRIVATE_toQueryTarget(qe,Ge).ft},We.targetId=He.targetId,He.resumeToken.approximateByteSize()>0){We.resumeToken=__PRIVATE_toBytes(qe,He.resumeToken);const Ye=__PRIVATE_toInt32Proto(qe,He.expectedCount);Ye!==null&&(We.expectedCount=Ye)}else if(He.snapshotVersion.compareTo(SnapshotVersion.min())>0){We.readTime=toTimestamp(qe,He.snapshotVersion.toTimestamp());const Ye=__PRIVATE_toInt32Proto(qe,He.expectedCount);Ye!==null&&(We.expectedCount=Ye)}return We})(this.serializer,$e);const Ue=__PRIVATE_toListenRequestLabels(this.serializer,$e);Ue&&(Be.labels=Ue),this.q_(Be)}Z_($e){const Be={};Be.database=__PRIVATE_getEncodedDatabaseId(this.serializer),Be.removeTarget=$e,this.q_(Be)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor($e,Be,Ue,ze,qe,He){super($e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",Be,Ue,ze,He),this.serializer=qe}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_($e,Be){return this.connection.T_("Write",$e,Be)}J_($e){return __PRIVATE_hardAssert(!!$e.streamToken,31322),this.lastStreamToken=$e.streamToken,__PRIVATE_hardAssert(!$e.writeResults||$e.writeResults.length===0,55816),this.listener.ta()}onNext($e){__PRIVATE_hardAssert(!!$e.streamToken,12678),this.lastStreamToken=$e.streamToken,this.M_.reset();const Be=__PRIVATE_fromWriteResults($e.writeResults,$e.commitTime),Ue=__PRIVATE_fromVersion($e.commitTime);return this.listener.na(Ue,Be)}ra(){const $e={};$e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.q_($e)}ea($e){const Be={streamToken:this.lastStreamToken,writes:$e.map((Ue=>toMutation(this.serializer,Ue)))};this.q_(Be)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor($e,Be,Ue,ze){super(),this.authCredentials=$e,this.appCheckCredentials=Be,this.connection=Ue,this.serializer=ze,this.ia=!1}sa(){if(this.ia)throw new FirestoreError(N$2.FAILED_PRECONDITION,"The client has already been terminated.")}Go($e,Be,Ue,ze){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([qe,He])=>this.connection.Go($e,__PRIVATE_toResourcePath(Be,Ue),ze,qe,He))).catch((qe=>{throw qe.name==="FirebaseError"?(qe.code===N$2.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),qe):new FirestoreError(N$2.UNKNOWN,qe.toString())}))}Ho($e,Be,Ue,ze,qe){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([He,We])=>this.connection.Ho($e,__PRIVATE_toResourcePath(Be,Ue),ze,He,We,qe))).catch((He=>{throw He.name==="FirebaseError"?(He.code===N$2.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),He):new FirestoreError(N$2.UNKNOWN,He.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor($e,Be){this.asyncQueue=$e,this.onlineStateHandler=Be,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha($e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${$e.toString()}`),this.ca("Offline")))}set($e){this.Pa(),this.oa=0,$e==="Online"&&(this.aa=!1),this.ca($e)}ca($e){$e!==this.state&&(this.state=$e,this.onlineStateHandler($e))}la($e){const Be=`Could not reach Cloud Firestore backend. ${$e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(__PRIVATE_logError(Be),this.aa=!1):__PRIVATE_logDebug("OnlineStateTracker",Be)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor($e,Be,Ue,ze,qe){this.localStore=$e,this.datastore=Be,this.asyncQueue=Ue,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=qe,this.Aa.Oo((He=>{Ue.enqueueAndForget((async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(tn,"Restarting streams for network reachability change."),await(async function(Ge){const Ye=__PRIVATE_debugCast(Ge);Ye.Ea.add(4),await __PRIVATE_disableNetworkInternal(Ye),Ye.Ra.set("Unknown"),Ye.Ea.delete(4),await __PRIVATE_enableNetworkInternal(Ye)})(this))}))})),this.Ra=new __PRIVATE_OnlineStateTracker(Ue,ze)}}async function __PRIVATE_enableNetworkInternal(Ve){if(__PRIVATE_canUseNetwork(Ve))for(const $e of Ve.da)await $e(!0)}async function __PRIVATE_disableNetworkInternal(Ve){for(const $e of Ve.da)await $e(!1)}function __PRIVATE_remoteStoreListen(Ve,$e){const Be=__PRIVATE_debugCast(Ve);Be.Ia.has($e.targetId)||(Be.Ia.set($e.targetId,$e),__PRIVATE_shouldStartWatchStream(Be)?__PRIVATE_startWatchStream(Be):__PRIVATE_ensureWatchStream(Be).O_()&&__PRIVATE_sendWatchRequest(Be,$e))}function __PRIVATE_remoteStoreUnlisten(Ve,$e){const Be=__PRIVATE_debugCast(Ve),Ue=__PRIVATE_ensureWatchStream(Be);Be.Ia.delete($e),Ue.O_()&&__PRIVATE_sendUnwatchRequest(Be,$e),Be.Ia.size===0&&(Ue.O_()?Ue.L_():__PRIVATE_canUseNetwork(Be)&&Be.Ra.set("Unknown"))}function __PRIVATE_sendWatchRequest(Ve,$e){if(Ve.Va.Ue($e.targetId),$e.resumeToken.approximateByteSize()>0||$e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const Be=Ve.remoteSyncer.getRemoteKeysForTarget($e.targetId).size;$e=$e.withExpectedCount(Be)}__PRIVATE_ensureWatchStream(Ve).Y_($e)}function __PRIVATE_sendUnwatchRequest(Ve,$e){Ve.Va.Ue($e),__PRIVATE_ensureWatchStream(Ve).Z_($e)}function __PRIVATE_startWatchStream(Ve){Ve.Va=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:$e=>Ve.remoteSyncer.getRemoteKeysForTarget($e),At:$e=>Ve.Ia.get($e)||null,ht:()=>Ve.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(Ve).start(),Ve.Ra.ua()}function __PRIVATE_shouldStartWatchStream(Ve){return __PRIVATE_canUseNetwork(Ve)&&!__PRIVATE_ensureWatchStream(Ve).x_()&&Ve.Ia.size>0}function __PRIVATE_canUseNetwork(Ve){return __PRIVATE_debugCast(Ve).Ea.size===0}function __PRIVATE_cleanUpWatchStreamState(Ve){Ve.Va=void 0}async function __PRIVATE_onWatchStreamConnected(Ve){Ve.Ra.set("Online")}async function __PRIVATE_onWatchStreamOpen(Ve){Ve.Ia.forEach((($e,Be)=>{__PRIVATE_sendWatchRequest(Ve,$e)}))}async function __PRIVATE_onWatchStreamClose(Ve,$e){__PRIVATE_cleanUpWatchStreamState(Ve),__PRIVATE_shouldStartWatchStream(Ve)?(Ve.Ra.ha($e),__PRIVATE_startWatchStream(Ve)):Ve.Ra.set("Unknown")}async function __PRIVATE_onWatchStreamChange(Ve,$e,Be){if(Ve.Ra.set("Online"),$e instanceof __PRIVATE_WatchTargetChange&&$e.state===2&&$e.cause)try{await(async function(ze,qe){const He=qe.cause;for(const We of qe.targetIds)ze.Ia.has(We)&&(await ze.remoteSyncer.rejectListen(We,He),ze.Ia.delete(We),ze.Va.removeTarget(We))})(Ve,$e)}catch(Ue){__PRIVATE_logDebug(tn,"Failed to remove targets %s: %s ",$e.targetIds.join(","),Ue),await __PRIVATE_disableNetworkUntilRecovery(Ve,Ue)}else if($e instanceof __PRIVATE_DocumentWatchChange?Ve.Va.Ze($e):$e instanceof __PRIVATE_ExistenceFilterChange?Ve.Va.st($e):Ve.Va.tt($e),!Be.isEqual(SnapshotVersion.min()))try{const Ue=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ve.localStore);Be.compareTo(Ue)>=0&&await(function(qe,He){const We=qe.Va.Tt(He);return We.targetChanges.forEach(((Ge,Ye)=>{if(Ge.resumeToken.approximateByteSize()>0){const Xe=qe.Ia.get(Ye);Xe&&qe.Ia.set(Ye,Xe.withResumeToken(Ge.resumeToken,He))}})),We.targetMismatches.forEach(((Ge,Ye)=>{const Xe=qe.Ia.get(Ge);if(!Xe)return;qe.Ia.set(Ge,Xe.withResumeToken(ByteString.EMPTY_BYTE_STRING,Xe.snapshotVersion)),__PRIVATE_sendUnwatchRequest(qe,Ge);const Je=new TargetData(Xe.target,Ge,Ye,Xe.sequenceNumber);__PRIVATE_sendWatchRequest(qe,Je)})),qe.remoteSyncer.applyRemoteEvent(We)})(Ve,Be)}catch(Ue){__PRIVATE_logDebug(tn,"Failed to raise snapshot:",Ue),await __PRIVATE_disableNetworkUntilRecovery(Ve,Ue)}}async function __PRIVATE_disableNetworkUntilRecovery(Ve,$e,Be){if(!__PRIVATE_isIndexedDbTransactionError($e))throw $e;Ve.Ea.add(1),await __PRIVATE_disableNetworkInternal(Ve),Ve.Ra.set("Offline"),Be||(Be=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ve.localStore)),Ve.asyncQueue.enqueueRetryable((async()=>{__PRIVATE_logDebug(tn,"Retrying IndexedDB access"),await Be(),Ve.Ea.delete(1),await __PRIVATE_enableNetworkInternal(Ve)}))}function __PRIVATE_executeWithRecovery(Ve,$e){return $e().catch((Be=>__PRIVATE_disableNetworkUntilRecovery(Ve,Be,$e)))}async function __PRIVATE_fillWritePipeline(Ve){const $e=__PRIVATE_debugCast(Ve),Be=__PRIVATE_ensureWriteStream($e);let Ue=$e.Ta.length>0?$e.Ta[$e.Ta.length-1].batchId:j$2;for(;__PRIVATE_canAddToWritePipeline($e);)try{const ze=await __PRIVATE_localStoreGetNextMutationBatch($e.localStore,Ue);if(ze===null){$e.Ta.length===0&&Be.L_();break}Ue=ze.batchId,__PRIVATE_addToWritePipeline($e,ze)}catch(ze){await __PRIVATE_disableNetworkUntilRecovery($e,ze)}__PRIVATE_shouldStartWriteStream($e)&&__PRIVATE_startWriteStream($e)}function __PRIVATE_canAddToWritePipeline(Ve){return __PRIVATE_canUseNetwork(Ve)&&Ve.Ta.length<10}function __PRIVATE_addToWritePipeline(Ve,$e){Ve.Ta.push($e);const Be=__PRIVATE_ensureWriteStream(Ve);Be.O_()&&Be.X_&&Be.ea($e.mutations)}function __PRIVATE_shouldStartWriteStream(Ve){return __PRIVATE_canUseNetwork(Ve)&&!__PRIVATE_ensureWriteStream(Ve).x_()&&Ve.Ta.length>0}function __PRIVATE_startWriteStream(Ve){__PRIVATE_ensureWriteStream(Ve).start()}async function __PRIVATE_onWriteStreamOpen(Ve){__PRIVATE_ensureWriteStream(Ve).ra()}async function __PRIVATE_onWriteHandshakeComplete(Ve){const $e=__PRIVATE_ensureWriteStream(Ve);for(const Be of Ve.Ta)$e.ea(Be.mutations)}async function __PRIVATE_onMutationResult(Ve,$e,Be){const Ue=Ve.Ta.shift(),ze=MutationBatchResult.from(Ue,$e,Be);await __PRIVATE_executeWithRecovery(Ve,(()=>Ve.remoteSyncer.applySuccessfulWrite(ze))),await __PRIVATE_fillWritePipeline(Ve)}async function __PRIVATE_onWriteStreamClose(Ve,$e){$e&&__PRIVATE_ensureWriteStream(Ve).X_&&await(async function(Ue,ze){if((function(He){return __PRIVATE_isPermanentError(He)&&He!==N$2.ABORTED})(ze.code)){const qe=Ue.Ta.shift();__PRIVATE_ensureWriteStream(Ue).B_(),await __PRIVATE_executeWithRecovery(Ue,(()=>Ue.remoteSyncer.rejectFailedWrite(qe.batchId,ze))),await __PRIVATE_fillWritePipeline(Ue)}})(Ve,$e),__PRIVATE_shouldStartWriteStream(Ve)&&__PRIVATE_startWriteStream(Ve)}async function __PRIVATE_remoteStoreHandleCredentialChange(Ve,$e){const Be=__PRIVATE_debugCast(Ve);Be.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(tn,"RemoteStore received new credentials");const Ue=__PRIVATE_canUseNetwork(Be);Be.Ea.add(3),await __PRIVATE_disableNetworkInternal(Be),Ue&&Be.Ra.set("Unknown"),await Be.remoteSyncer.handleCredentialChange($e),Be.Ea.delete(3),await __PRIVATE_enableNetworkInternal(Be)}async function __PRIVATE_remoteStoreApplyPrimaryState(Ve,$e){const Be=__PRIVATE_debugCast(Ve);$e?(Be.Ea.delete(2),await __PRIVATE_enableNetworkInternal(Be)):$e||(Be.Ea.add(2),await __PRIVATE_disableNetworkInternal(Be),Be.Ra.set("Unknown"))}function __PRIVATE_ensureWatchStream(Ve){return Ve.ma||(Ve.ma=(function(Be,Ue,ze){const qe=__PRIVATE_debugCast(Be);return qe.sa(),new __PRIVATE_PersistentListenStream(Ue,qe.connection,qe.authCredentials,qe.appCheckCredentials,qe.serializer,ze)})(Ve.datastore,Ve.asyncQueue,{Xo:__PRIVATE_onWatchStreamConnected.bind(null,Ve),t_:__PRIVATE_onWatchStreamOpen.bind(null,Ve),r_:__PRIVATE_onWatchStreamClose.bind(null,Ve),H_:__PRIVATE_onWatchStreamChange.bind(null,Ve)}),Ve.da.push((async $e=>{$e?(Ve.ma.B_(),__PRIVATE_shouldStartWatchStream(Ve)?__PRIVATE_startWatchStream(Ve):Ve.Ra.set("Unknown")):(await Ve.ma.stop(),__PRIVATE_cleanUpWatchStreamState(Ve))}))),Ve.ma}function __PRIVATE_ensureWriteStream(Ve){return Ve.fa||(Ve.fa=(function(Be,Ue,ze){const qe=__PRIVATE_debugCast(Be);return qe.sa(),new __PRIVATE_PersistentWriteStream(Ue,qe.connection,qe.authCredentials,qe.appCheckCredentials,qe.serializer,ze)})(Ve.datastore,Ve.asyncQueue,{Xo:()=>Promise.resolve(),t_:__PRIVATE_onWriteStreamOpen.bind(null,Ve),r_:__PRIVATE_onWriteStreamClose.bind(null,Ve),ta:__PRIVATE_onWriteHandshakeComplete.bind(null,Ve),na:__PRIVATE_onMutationResult.bind(null,Ve)}),Ve.da.push((async $e=>{$e?(Ve.fa.B_(),await __PRIVATE_fillWritePipeline(Ve)):(await Ve.fa.stop(),Ve.Ta.length>0&&(__PRIVATE_logDebug(tn,`Stopping write stream with ${Ve.Ta.length} pending writes`),Ve.Ta=[]))}))),Ve.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor($e,Be,Ue,ze,qe){this.asyncQueue=$e,this.timerId=Be,this.targetTimeMs=Ue,this.op=ze,this.removalCallback=qe,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((He=>{}))}get promise(){return this.deferred.promise}static createAndSchedule($e,Be,Ue,ze,qe){const He=Date.now()+Ue,We=new DelayedOperation($e,Be,He,ze,qe);return We.start(Ue),We}start($e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),$e)}skipDelay(){return this.handleDelayElapsed()}cancel($e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(N$2.CANCELLED,"Operation cancelled"+($e?": "+$e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(($e=>this.deferred.resolve($e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(Ve,$e){if(__PRIVATE_logError("AsyncQueue",`${$e}: ${Ve}`),__PRIVATE_isIndexedDbTransactionError(Ve))return new FirestoreError(N$2.UNAVAILABLE,`${$e}: ${Ve}`);throw Ve}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{static emptySet($e){return new DocumentSet($e.comparator)}constructor($e){this.comparator=$e?(Be,Ue)=>$e(Be,Ue)||DocumentKey.comparator(Be.key,Ue.key):(Be,Ue)=>DocumentKey.comparator(Be.key,Ue.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has($e){return this.keyedMap.get($e)!=null}get($e){return this.keyedMap.get($e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf($e){const Be=this.keyedMap.get($e);return Be?this.sortedSet.indexOf(Be):-1}get size(){return this.sortedSet.size}forEach($e){this.sortedSet.inorderTraversal(((Be,Ue)=>($e(Be),!1)))}add($e){const Be=this.delete($e.key);return Be.copy(Be.keyedMap.insert($e.key,$e),Be.sortedSet.insert($e,null))}delete($e){const Be=this.get($e);return Be?this.copy(this.keyedMap.remove($e),this.sortedSet.remove(Be)):this}isEqual($e){if(!($e instanceof DocumentSet)||this.size!==$e.size)return!1;const Be=this.sortedSet.getIterator(),Ue=$e.sortedSet.getIterator();for(;Be.hasNext();){const ze=Be.getNext().key,qe=Ue.getNext().key;if(!ze.isEqual(qe))return!1}return!0}toString(){const $e=[];return this.forEach((Be=>{$e.push(Be.toString())})),$e.length===0?"DocumentSet ()":`DocumentSet (
  `+$e.join(`  
`)+`
)`}copy($e,Be){const Ue=new DocumentSet;return Ue.comparator=this.comparator,Ue.keyedMap=$e,Ue.sortedSet=Be,Ue}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.ga=new SortedMap(DocumentKey.comparator)}track($e){const Be=$e.doc.key,Ue=this.ga.get(Be);Ue?$e.type!==0&&Ue.type===3?this.ga=this.ga.insert(Be,$e):$e.type===3&&Ue.type!==1?this.ga=this.ga.insert(Be,{type:Ue.type,doc:$e.doc}):$e.type===2&&Ue.type===2?this.ga=this.ga.insert(Be,{type:2,doc:$e.doc}):$e.type===2&&Ue.type===0?this.ga=this.ga.insert(Be,{type:0,doc:$e.doc}):$e.type===1&&Ue.type===0?this.ga=this.ga.remove(Be):$e.type===1&&Ue.type===2?this.ga=this.ga.insert(Be,{type:1,doc:Ue.doc}):$e.type===0&&Ue.type===1?this.ga=this.ga.insert(Be,{type:2,doc:$e.doc}):fail(63341,{Rt:$e,pa:Ue}):this.ga=this.ga.insert(Be,$e)}ya(){const $e=[];return this.ga.inorderTraversal(((Be,Ue)=>{$e.push(Ue)})),$e}}class ViewSnapshot{constructor($e,Be,Ue,ze,qe,He,We,Ge,Ye){this.query=$e,this.docs=Be,this.oldDocs=Ue,this.docChanges=ze,this.mutatedKeys=qe,this.fromCache=He,this.syncStateChanged=We,this.excludesMetadataChanges=Ge,this.hasCachedResults=Ye}static fromInitialDocuments($e,Be,Ue,ze,qe){const He=[];return Be.forEach((We=>{He.push({type:0,doc:We})})),new ViewSnapshot($e,Be,DocumentSet.emptySet(Be),He,Ue,ze,!0,!1,qe)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual($e){if(!(this.fromCache===$e.fromCache&&this.hasCachedResults===$e.hasCachedResults&&this.syncStateChanged===$e.syncStateChanged&&this.mutatedKeys.isEqual($e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,$e.query)&&this.docs.isEqual($e.docs)&&this.oldDocs.isEqual($e.oldDocs)))return!1;const Be=this.docChanges,Ue=$e.docChanges;if(Be.length!==Ue.length)return!1;for(let ze=0;ze<Be.length;ze++)if(Be[ze].type!==Ue[ze].type||!Be[ze].doc.isEqual(Ue[ze].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(($e=>$e.Da()))}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(Be,Ue){const ze=__PRIVATE_debugCast(Be),qe=ze.queries;ze.queries=__PRIVATE_newQueriesObjectMap(),qe.forEach(((He,We)=>{for(const Ge of We.Sa)Ge.onError(Ue)}))})(this,new FirestoreError(N$2.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap((Ve=>__PRIVATE_canonifyQuery(Ve)),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(Ve,$e){const Be=__PRIVATE_debugCast(Ve);let Ue=3;const ze=$e.query;let qe=Be.queries.get(ze);qe?!qe.ba()&&$e.Da()&&(Ue=2):(qe=new __PRIVATE_QueryListenersInfo,Ue=$e.Da()?0:1);try{switch(Ue){case 0:qe.wa=await Be.onListen(ze,!0);break;case 1:qe.wa=await Be.onListen(ze,!1);break;case 2:await Be.onFirstRemoteStoreListen(ze)}}catch(He){const We=__PRIVATE_wrapInUserErrorIfRecoverable(He,`Initialization of query '${__PRIVATE_stringifyQuery($e.query)}' failed`);return void $e.onError(We)}Be.queries.set(ze,qe),qe.Sa.push($e),$e.va(Be.onlineState),qe.wa&&$e.Fa(qe.wa)&&__PRIVATE_raiseSnapshotsInSyncEvent(Be)}async function __PRIVATE_eventManagerUnlisten(Ve,$e){const Be=__PRIVATE_debugCast(Ve),Ue=$e.query;let ze=3;const qe=Be.queries.get(Ue);if(qe){const He=qe.Sa.indexOf($e);He>=0&&(qe.Sa.splice(He,1),qe.Sa.length===0?ze=$e.Da()?0:1:!qe.ba()&&$e.Da()&&(ze=2))}switch(ze){case 0:return Be.queries.delete(Ue),Be.onUnlisten(Ue,!0);case 1:return Be.queries.delete(Ue),Be.onUnlisten(Ue,!1);case 2:return Be.onLastRemoteStoreUnlisten(Ue);default:return}}function __PRIVATE_eventManagerOnWatchChange(Ve,$e){const Be=__PRIVATE_debugCast(Ve);let Ue=!1;for(const ze of $e){const qe=ze.query,He=Be.queries.get(qe);if(He){for(const We of He.Sa)We.Fa(ze)&&(Ue=!0);He.wa=ze}}Ue&&__PRIVATE_raiseSnapshotsInSyncEvent(Be)}function __PRIVATE_eventManagerOnWatchError(Ve,$e,Be){const Ue=__PRIVATE_debugCast(Ve),ze=Ue.queries.get($e);if(ze)for(const qe of ze.Sa)qe.onError(Be);Ue.queries.delete($e)}function __PRIVATE_raiseSnapshotsInSyncEvent(Ve){Ve.Ca.forEach(($e=>{$e.next()}))}var nn,rn;(rn=nn||(nn={})).Ma="default",rn.Cache="cache";class __PRIVATE_QueryListener{constructor($e,Be,Ue){this.query=$e,this.xa=Be,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=Ue||{}}Fa($e){if(!this.options.includeMetadataChanges){const Ue=[];for(const ze of $e.docChanges)ze.type!==3&&Ue.push(ze);$e=new ViewSnapshot($e.query,$e.docs,$e.oldDocs,Ue,$e.mutatedKeys,$e.fromCache,$e.syncStateChanged,!0,$e.hasCachedResults)}let Be=!1;return this.Oa?this.Ba($e)&&(this.xa.next($e),Be=!0):this.La($e,this.onlineState)&&(this.ka($e),Be=!0),this.Na=$e,Be}onError($e){this.xa.error($e)}va($e){this.onlineState=$e;let Be=!1;return this.Na&&!this.Oa&&this.La(this.Na,$e)&&(this.ka(this.Na),Be=!0),Be}La($e,Be){if(!$e.fromCache||!this.Da())return!0;const Ue=Be!=="Offline";return(!this.options.qa||!Ue)&&(!$e.docs.isEmpty()||$e.hasCachedResults||Be==="Offline")}Ba($e){if($e.docChanges.length>0)return!0;const Be=this.Na&&this.Na.hasPendingWrites!==$e.hasPendingWrites;return!(!$e.syncStateChanged&&!Be)&&this.options.includeMetadataChanges===!0}ka($e){$e=ViewSnapshot.fromInitialDocuments($e.query,$e.docs,$e.mutatedKeys,$e.fromCache,$e.hasCachedResults),this.Oa=!0,this.xa.next($e)}Da(){return this.options.source!==nn.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor($e){this.key=$e}}class __PRIVATE_RemovedLimboDocument{constructor($e){this.key=$e}}class __PRIVATE_View{constructor($e,Be){this.query=$e,this.Ya=Be,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.eu=__PRIVATE_newQueryComparator($e),this.tu=new DocumentSet(this.eu)}get nu(){return this.Ya}ru($e,Be){const Ue=Be?Be.iu:new __PRIVATE_DocumentChangeSet,ze=Be?Be.tu:this.tu;let qe=Be?Be.mutatedKeys:this.mutatedKeys,He=ze,We=!1;const Ge=this.query.limitType==="F"&&ze.size===this.query.limit?ze.last():null,Ye=this.query.limitType==="L"&&ze.size===this.query.limit?ze.first():null;if($e.inorderTraversal(((Xe,Je)=>{const er=ze.get(Xe),Ze=__PRIVATE_queryMatches(this.query,Je)?Je:null,rr=!!er&&this.mutatedKeys.has(er.key),nr=!!Ze&&(Ze.hasLocalMutations||this.mutatedKeys.has(Ze.key)&&Ze.hasCommittedMutations);let ar=!1;er&&Ze?er.data.isEqual(Ze.data)?rr!==nr&&(Ue.track({type:3,doc:Ze}),ar=!0):this.su(er,Ze)||(Ue.track({type:2,doc:Ze}),ar=!0,(Ge&&this.eu(Ze,Ge)>0||Ye&&this.eu(Ze,Ye)<0)&&(We=!0)):!er&&Ze?(Ue.track({type:0,doc:Ze}),ar=!0):er&&!Ze&&(Ue.track({type:1,doc:er}),ar=!0,(Ge||Ye)&&(We=!0)),ar&&(Ze?(He=He.add(Ze),qe=nr?qe.add(Xe):qe.delete(Xe)):(He=He.delete(Xe),qe=qe.delete(Xe)))})),this.query.limit!==null)for(;He.size>this.query.limit;){const Xe=this.query.limitType==="F"?He.last():He.first();He=He.delete(Xe.key),qe=qe.delete(Xe.key),Ue.track({type:1,doc:Xe})}return{tu:He,iu:Ue,Cs:We,mutatedKeys:qe}}su($e,Be){return $e.hasLocalMutations&&Be.hasCommittedMutations&&!Be.hasLocalMutations}applyChanges($e,Be,Ue,ze){const qe=this.tu;this.tu=$e.tu,this.mutatedKeys=$e.mutatedKeys;const He=$e.iu.ya();He.sort(((Xe,Je)=>(function(Ze,rr){const nr=ar=>{switch(ar){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail(20277,{Rt:ar})}};return nr(Ze)-nr(rr)})(Xe.type,Je.type)||this.eu(Xe.doc,Je.doc))),this.ou(Ue),ze=ze??!1;const We=Be&&!ze?this._u():[],Ge=this.Xa.size===0&&this.current&&!ze?1:0,Ye=Ge!==this.Za;return this.Za=Ge,He.length!==0||Ye?{snapshot:new ViewSnapshot(this.query,$e.tu,qe,He,$e.mutatedKeys,Ge===0,Ye,!1,!!Ue&&Ue.resumeToken.approximateByteSize()>0),au:We}:{au:We}}va($e){return this.current&&$e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu($e){return!this.Ya.has($e)&&!!this.tu.has($e)&&!this.tu.get($e).hasLocalMutations}ou($e){$e&&($e.addedDocuments.forEach((Be=>this.Ya=this.Ya.add(Be))),$e.modifiedDocuments.forEach((Be=>{})),$e.removedDocuments.forEach((Be=>this.Ya=this.Ya.delete(Be))),this.current=$e.current)}_u(){if(!this.current)return[];const $e=this.Xa;this.Xa=__PRIVATE_documentKeySet(),this.tu.forEach((Ue=>{this.uu(Ue.key)&&(this.Xa=this.Xa.add(Ue.key))}));const Be=[];return $e.forEach((Ue=>{this.Xa.has(Ue)||Be.push(new __PRIVATE_RemovedLimboDocument(Ue))})),this.Xa.forEach((Ue=>{$e.has(Ue)||Be.push(new __PRIVATE_AddedLimboDocument(Ue))})),Be}cu($e){this.Ya=$e.Qs,this.Xa=__PRIVATE_documentKeySet();const Be=this.ru($e.documents);return this.applyChanges(Be,!0)}lu(){return ViewSnapshot.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sn="SyncEngine";class __PRIVATE_QueryView{constructor($e,Be,Ue){this.query=$e,this.targetId=Be,this.view=Ue}}class LimboResolution{constructor($e){this.key=$e,this.hu=!1}}class __PRIVATE_SyncEngineImpl{constructor($e,Be,Ue,ze,qe,He){this.localStore=$e,this.remoteStore=Be,this.eventManager=Ue,this.sharedClientState=ze,this.currentUser=qe,this.maxConcurrentLimboResolutions=He,this.Pu={},this.Tu=new ObjectMap((We=>__PRIVATE_canonifyQuery(We)),__PRIVATE_queryEquals),this.Iu=new Map,this.Eu=new Set,this.du=new SortedMap(DocumentKey.comparator),this.Au=new Map,this.Ru=new __PRIVATE_ReferenceSet,this.Vu={},this.mu=new Map,this.fu=__PRIVATE_TargetIdGenerator.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function __PRIVATE_syncEngineListen(Ve,$e,Be=!0){const Ue=__PRIVATE_ensureWatchCallbacks(Ve);let ze;const qe=Ue.Tu.get($e);return qe?(Ue.sharedClientState.addLocalQueryTarget(qe.targetId),ze=qe.view.lu()):ze=await __PRIVATE_allocateTargetAndMaybeListen(Ue,$e,Be,!0),ze}async function __PRIVATE_triggerRemoteStoreListen(Ve,$e){const Be=__PRIVATE_ensureWatchCallbacks(Ve);await __PRIVATE_allocateTargetAndMaybeListen(Be,$e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(Ve,$e,Be,Ue){const ze=await __PRIVATE_localStoreAllocateTarget(Ve.localStore,__PRIVATE_queryToTarget($e)),qe=ze.targetId,He=Ve.sharedClientState.addLocalQueryTarget(qe,Be);let We;return Ue&&(We=await __PRIVATE_initializeViewAndComputeSnapshot(Ve,$e,qe,He==="current",ze.resumeToken)),Ve.isPrimaryClient&&Be&&__PRIVATE_remoteStoreListen(Ve.remoteStore,ze),We}async function __PRIVATE_initializeViewAndComputeSnapshot(Ve,$e,Be,Ue,ze){Ve.pu=(Je,er,Ze)=>(async function(nr,ar,sr,lr){let or=ar.view.ru(sr);or.Cs&&(or=await __PRIVATE_localStoreExecuteQuery(nr.localStore,ar.query,!1).then((({documents:mr})=>ar.view.ru(mr,or))));const cr=lr&&lr.targetChanges.get(ar.targetId),hr=lr&&lr.targetMismatches.get(ar.targetId)!=null,yr=ar.view.applyChanges(or,nr.isPrimaryClient,cr,hr);return __PRIVATE_updateTrackedLimbos(nr,ar.targetId,yr.au),yr.snapshot})(Ve,Je,er,Ze);const qe=await __PRIVATE_localStoreExecuteQuery(Ve.localStore,$e,!0),He=new __PRIVATE_View($e,qe.Qs),We=He.ru(qe.documents),Ge=TargetChange.createSynthesizedTargetChangeForCurrentChange(Be,Ue&&Ve.onlineState!=="Offline",ze),Ye=He.applyChanges(We,Ve.isPrimaryClient,Ge);__PRIVATE_updateTrackedLimbos(Ve,Be,Ye.au);const Xe=new __PRIVATE_QueryView($e,Be,He);return Ve.Tu.set($e,Xe),Ve.Iu.has(Be)?Ve.Iu.get(Be).push($e):Ve.Iu.set(Be,[$e]),Ye.snapshot}async function __PRIVATE_syncEngineUnlisten(Ve,$e,Be){const Ue=__PRIVATE_debugCast(Ve),ze=Ue.Tu.get($e),qe=Ue.Iu.get(ze.targetId);if(qe.length>1)return Ue.Iu.set(ze.targetId,qe.filter((He=>!__PRIVATE_queryEquals(He,$e)))),void Ue.Tu.delete($e);Ue.isPrimaryClient?(Ue.sharedClientState.removeLocalQueryTarget(ze.targetId),Ue.sharedClientState.isActiveQueryTarget(ze.targetId)||await __PRIVATE_localStoreReleaseTarget(Ue.localStore,ze.targetId,!1).then((()=>{Ue.sharedClientState.clearQueryState(ze.targetId),Be&&__PRIVATE_remoteStoreUnlisten(Ue.remoteStore,ze.targetId),__PRIVATE_removeAndCleanupTarget(Ue,ze.targetId)})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(Ue,ze.targetId),await __PRIVATE_localStoreReleaseTarget(Ue.localStore,ze.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(Ve,$e){const Be=__PRIVATE_debugCast(Ve),Ue=Be.Tu.get($e),ze=Be.Iu.get(Ue.targetId);Be.isPrimaryClient&&ze.length===1&&(Be.sharedClientState.removeLocalQueryTarget(Ue.targetId),__PRIVATE_remoteStoreUnlisten(Be.remoteStore,Ue.targetId))}async function __PRIVATE_syncEngineWrite(Ve,$e,Be){const Ue=__PRIVATE_syncEngineEnsureWriteCallbacks(Ve);try{const ze=await(function(He,We){const Ge=__PRIVATE_debugCast(He),Ye=Timestamp.now(),Xe=We.reduce(((Ze,rr)=>Ze.add(rr.key)),__PRIVATE_documentKeySet());let Je,er;return Ge.persistence.runTransaction("Locally write mutations","readwrite",(Ze=>{let rr=__PRIVATE_mutableDocumentMap(),nr=__PRIVATE_documentKeySet();return Ge.Ns.getEntries(Ze,Xe).next((ar=>{rr=ar,rr.forEach(((sr,lr)=>{lr.isValidDocument()||(nr=nr.add(sr))}))})).next((()=>Ge.localDocuments.getOverlayedDocuments(Ze,rr))).next((ar=>{Je=ar;const sr=[];for(const lr of We){const or=__PRIVATE_mutationExtractBaseValue(lr,Je.get(lr.key).overlayedDocument);or!=null&&sr.push(new __PRIVATE_PatchMutation(lr.key,or,__PRIVATE_extractFieldMask(or.value.mapValue),Precondition.exists(!0)))}return Ge.mutationQueue.addMutationBatch(Ze,Ye,sr,We)})).next((ar=>{er=ar;const sr=ar.applyToLocalDocumentSet(Je,nr);return Ge.documentOverlayCache.saveOverlays(Ze,ar.batchId,sr)}))})).then((()=>({batchId:er.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Je)})))})(Ue.localStore,$e);Ue.sharedClientState.addPendingMutation(ze.batchId),(function(He,We,Ge){let Ye=He.Vu[He.currentUser.toKey()];Ye||(Ye=new SortedMap(__PRIVATE_primitiveComparator)),Ye=Ye.insert(We,Ge),He.Vu[He.currentUser.toKey()]=Ye})(Ue,ze.batchId,Be),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ue,ze.changes),await __PRIVATE_fillWritePipeline(Ue.remoteStore)}catch(ze){const qe=__PRIVATE_wrapInUserErrorIfRecoverable(ze,"Failed to persist write");Be.reject(qe)}}async function __PRIVATE_syncEngineApplyRemoteEvent(Ve,$e){const Be=__PRIVATE_debugCast(Ve);try{const Ue=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(Be.localStore,$e);$e.targetChanges.forEach(((ze,qe)=>{const He=Be.Au.get(qe);He&&(__PRIVATE_hardAssert(ze.addedDocuments.size+ze.modifiedDocuments.size+ze.removedDocuments.size<=1,22616),ze.addedDocuments.size>0?He.hu=!0:ze.modifiedDocuments.size>0?__PRIVATE_hardAssert(He.hu,14607):ze.removedDocuments.size>0&&(__PRIVATE_hardAssert(He.hu,42227),He.hu=!1))})),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Be,Ue,$e)}catch(Ue){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Ue)}}function __PRIVATE_syncEngineApplyOnlineStateChange(Ve,$e,Be){const Ue=__PRIVATE_debugCast(Ve);if(Ue.isPrimaryClient&&Be===0||!Ue.isPrimaryClient&&Be===1){const ze=[];Ue.Tu.forEach(((qe,He)=>{const We=He.view.va($e);We.snapshot&&ze.push(We.snapshot)})),(function(He,We){const Ge=__PRIVATE_debugCast(He);Ge.onlineState=We;let Ye=!1;Ge.queries.forEach(((Xe,Je)=>{for(const er of Je.Sa)er.va(We)&&(Ye=!0)})),Ye&&__PRIVATE_raiseSnapshotsInSyncEvent(Ge)})(Ue.eventManager,$e),ze.length&&Ue.Pu.H_(ze),Ue.onlineState=$e,Ue.isPrimaryClient&&Ue.sharedClientState.setOnlineState($e)}}async function __PRIVATE_syncEngineRejectListen(Ve,$e,Be){const Ue=__PRIVATE_debugCast(Ve);Ue.sharedClientState.updateQueryState($e,"rejected",Be);const ze=Ue.Au.get($e),qe=ze&&ze.key;if(qe){let He=new SortedMap(DocumentKey.comparator);He=He.insert(qe,MutableDocument.newNoDocument(qe,SnapshotVersion.min()));const We=__PRIVATE_documentKeySet().add(qe),Ge=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),He,We);await __PRIVATE_syncEngineApplyRemoteEvent(Ue,Ge),Ue.du=Ue.du.remove(qe),Ue.Au.delete($e),__PRIVATE_pumpEnqueuedLimboResolutions(Ue)}else await __PRIVATE_localStoreReleaseTarget(Ue.localStore,$e,!1).then((()=>__PRIVATE_removeAndCleanupTarget(Ue,$e,Be))).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(Ve,$e){const Be=__PRIVATE_debugCast(Ve),Ue=$e.batch.batchId;try{const ze=await __PRIVATE_localStoreAcknowledgeBatch(Be.localStore,$e);__PRIVATE_processUserCallback(Be,Ue,null),__PRIVATE_triggerPendingWritesCallbacks(Be,Ue),Be.sharedClientState.updateMutationState(Ue,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Be,ze)}catch(ze){await __PRIVATE_ignoreIfPrimaryLeaseLoss(ze)}}async function __PRIVATE_syncEngineRejectFailedWrite(Ve,$e,Be){const Ue=__PRIVATE_debugCast(Ve);try{const ze=await(function(He,We){const Ge=__PRIVATE_debugCast(He);return Ge.persistence.runTransaction("Reject batch","readwrite-primary",(Ye=>{let Xe;return Ge.mutationQueue.lookupMutationBatch(Ye,We).next((Je=>(__PRIVATE_hardAssert(Je!==null,37113),Xe=Je.keys(),Ge.mutationQueue.removeMutationBatch(Ye,Je)))).next((()=>Ge.mutationQueue.performConsistencyCheck(Ye))).next((()=>Ge.documentOverlayCache.removeOverlaysForBatchId(Ye,Xe,We))).next((()=>Ge.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Ye,Xe))).next((()=>Ge.localDocuments.getDocuments(Ye,Xe)))}))})(Ue.localStore,$e);__PRIVATE_processUserCallback(Ue,$e,Be),__PRIVATE_triggerPendingWritesCallbacks(Ue,$e),Ue.sharedClientState.updateMutationState($e,"rejected",Be),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ue,ze)}catch(ze){await __PRIVATE_ignoreIfPrimaryLeaseLoss(ze)}}function __PRIVATE_triggerPendingWritesCallbacks(Ve,$e){(Ve.mu.get($e)||[]).forEach((Be=>{Be.resolve()})),Ve.mu.delete($e)}function __PRIVATE_processUserCallback(Ve,$e,Be){const Ue=__PRIVATE_debugCast(Ve);let ze=Ue.Vu[Ue.currentUser.toKey()];if(ze){const qe=ze.get($e);qe&&(Be?qe.reject(Be):qe.resolve(),ze=ze.remove($e)),Ue.Vu[Ue.currentUser.toKey()]=ze}}function __PRIVATE_removeAndCleanupTarget(Ve,$e,Be=null){Ve.sharedClientState.removeLocalQueryTarget($e);for(const Ue of Ve.Iu.get($e))Ve.Tu.delete(Ue),Be&&Ve.Pu.yu(Ue,Be);Ve.Iu.delete($e),Ve.isPrimaryClient&&Ve.Ru.jr($e).forEach((Ue=>{Ve.Ru.containsKey(Ue)||__PRIVATE_removeLimboTarget(Ve,Ue)}))}function __PRIVATE_removeLimboTarget(Ve,$e){Ve.Eu.delete($e.path.canonicalString());const Be=Ve.du.get($e);Be!==null&&(__PRIVATE_remoteStoreUnlisten(Ve.remoteStore,Be),Ve.du=Ve.du.remove($e),Ve.Au.delete(Be),__PRIVATE_pumpEnqueuedLimboResolutions(Ve))}function __PRIVATE_updateTrackedLimbos(Ve,$e,Be){for(const Ue of Be)Ue instanceof __PRIVATE_AddedLimboDocument?(Ve.Ru.addReference(Ue.key,$e),__PRIVATE_trackLimboChange(Ve,Ue)):Ue instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(sn,"Document no longer in limbo: "+Ue.key),Ve.Ru.removeReference(Ue.key,$e),Ve.Ru.containsKey(Ue.key)||__PRIVATE_removeLimboTarget(Ve,Ue.key)):fail(19791,{wu:Ue})}function __PRIVATE_trackLimboChange(Ve,$e){const Be=$e.key,Ue=Be.path.canonicalString();Ve.du.get(Be)||Ve.Eu.has(Ue)||(__PRIVATE_logDebug(sn,"New document in limbo: "+Be),Ve.Eu.add(Ue),__PRIVATE_pumpEnqueuedLimboResolutions(Ve))}function __PRIVATE_pumpEnqueuedLimboResolutions(Ve){for(;Ve.Eu.size>0&&Ve.du.size<Ve.maxConcurrentLimboResolutions;){const $e=Ve.Eu.values().next().value;Ve.Eu.delete($e);const Be=new DocumentKey(ResourcePath.fromString($e)),Ue=Ve.fu.next();Ve.Au.set(Ue,new LimboResolution(Be)),Ve.du=Ve.du.insert(Be,Ue),__PRIVATE_remoteStoreListen(Ve.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(Be.path)),Ue,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.ce))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ve,$e,Be){const Ue=__PRIVATE_debugCast(Ve),ze=[],qe=[],He=[];Ue.Tu.isEmpty()||(Ue.Tu.forEach(((We,Ge)=>{He.push(Ue.pu(Ge,$e,Be).then((Ye=>{if((Ye||Be)&&Ue.isPrimaryClient){const Xe=Ye?!Ye.fromCache:Be?.targetChanges.get(Ge.targetId)?.current;Ue.sharedClientState.updateQueryState(Ge.targetId,Xe?"current":"not-current")}if(Ye){ze.push(Ye);const Xe=__PRIVATE_LocalViewChanges.As(Ge.targetId,Ye);qe.push(Xe)}})))})),await Promise.all(He),Ue.Pu.H_(ze),await(async function(Ge,Ye){const Xe=__PRIVATE_debugCast(Ge);try{await Xe.persistence.runTransaction("notifyLocalViewChanges","readwrite",(Je=>PersistencePromise.forEach(Ye,(er=>PersistencePromise.forEach(er.Es,(Ze=>Xe.persistence.referenceDelegate.addReference(Je,er.targetId,Ze))).next((()=>PersistencePromise.forEach(er.ds,(Ze=>Xe.persistence.referenceDelegate.removeReference(Je,er.targetId,Ze)))))))))}catch(Je){if(!__PRIVATE_isIndexedDbTransactionError(Je))throw Je;__PRIVATE_logDebug(Ut$1,"Failed to update sequence numbers: "+Je)}for(const Je of Ye){const er=Je.targetId;if(!Je.fromCache){const Ze=Xe.Ms.get(er),rr=Ze.snapshotVersion,nr=Ze.withLastLimboFreeSnapshotVersion(rr);Xe.Ms=Xe.Ms.insert(er,nr)}}})(Ue.localStore,qe))}async function __PRIVATE_syncEngineHandleCredentialChange(Ve,$e){const Be=__PRIVATE_debugCast(Ve);if(!Be.currentUser.isEqual($e)){__PRIVATE_logDebug(sn,"User change. New user:",$e.toKey());const Ue=await __PRIVATE_localStoreHandleUserChange(Be.localStore,$e);Be.currentUser=$e,(function(qe,He){qe.mu.forEach((We=>{We.forEach((Ge=>{Ge.reject(new FirestoreError(N$2.CANCELLED,He))}))})),qe.mu.clear()})(Be,"'waitForPendingWrites' promise is rejected due to a user change."),Be.sharedClientState.handleUserChange($e,Ue.removedBatchIds,Ue.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Be,Ue.Ls)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(Ve,$e){const Be=__PRIVATE_debugCast(Ve),Ue=Be.Au.get($e);if(Ue&&Ue.hu)return __PRIVATE_documentKeySet().add(Ue.key);{let ze=__PRIVATE_documentKeySet();const qe=Be.Iu.get($e);if(!qe)return ze;for(const He of qe){const We=Be.Tu.get(He);ze=ze.unionWith(We.view.nu)}return ze}}function __PRIVATE_ensureWatchCallbacks(Ve){const $e=__PRIVATE_debugCast(Ve);return $e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,$e),$e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,$e),$e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,$e),$e.Pu.H_=__PRIVATE_eventManagerOnWatchChange.bind(null,$e.eventManager),$e.Pu.yu=__PRIVATE_eventManagerOnWatchError.bind(null,$e.eventManager),$e}function __PRIVATE_syncEngineEnsureWriteCallbacks(Ve){const $e=__PRIVATE_debugCast(Ve);return $e.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,$e),$e.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,$e),$e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize($e){this.serializer=__PRIVATE_newSerializer($e.databaseInfo.databaseId),this.sharedClientState=this.Du($e),this.persistence=this.Cu($e),await this.persistence.start(),this.localStore=this.vu($e),this.gcScheduler=this.Fu($e,this.localStore),this.indexBackfillerScheduler=this.Mu($e,this.localStore)}Fu($e,Be){return null}Mu($e,Be){return null}vu($e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,$e.initialUser,this.serializer)}Cu($e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.mi,this.serializer)}Du($e){return new __PRIVATE_MemorySharedClientState}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor($e){super(),this.cacheSizeBytes=$e}Fu($e,Be){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate,46915);const Ue=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(Ue,$e.asyncQueue,Be)}Cu($e){const Be=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence((Ue=>__PRIVATE_MemoryLruDelegate.mi(Ue,Be)),this.serializer)}}class OnlineComponentProvider{async initialize($e,Be){this.localStore||(this.localStore=$e.localStore,this.sharedClientState=$e.sharedClientState,this.datastore=this.createDatastore(Be),this.remoteStore=this.createRemoteStore(Be),this.eventManager=this.createEventManager(Be),this.syncEngine=this.createSyncEngine(Be,!$e.synchronizeTabs),this.sharedClientState.onlineStateHandler=Ue=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,Ue,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager($e){return(function(){return new __PRIVATE_EventManagerImpl})()}createDatastore($e){const Be=__PRIVATE_newSerializer($e.databaseInfo.databaseId),Ue=(function(qe){return new __PRIVATE_WebChannelConnection(qe)})($e.databaseInfo);return(function(qe,He,We,Ge){return new __PRIVATE_DatastoreImpl(qe,He,We,Ge)})($e.authCredentials,$e.appCheckCredentials,Ue,Be)}createRemoteStore($e){return(function(Ue,ze,qe,He,We){return new __PRIVATE_RemoteStoreImpl(Ue,ze,qe,He,We)})(this.localStore,this.datastore,$e.asyncQueue,(Be=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,Be,0)),(function(){return __PRIVATE_BrowserConnectivityMonitor.v()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor})())}createSyncEngine($e,Be){return(function(ze,qe,He,We,Ge,Ye,Xe){const Je=new __PRIVATE_SyncEngineImpl(ze,qe,He,We,Ge,Ye);return Xe&&(Je.gu=!0),Je})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,$e.initialUser,$e.maxConcurrentLimboResolutions,Be)}async terminate(){await(async function(Be){const Ue=__PRIVATE_debugCast(Be);__PRIVATE_logDebug(tn,"RemoteStore shutting down."),Ue.Ea.add(5),await __PRIVATE_disableNetworkInternal(Ue),Ue.Aa.shutdown(),Ue.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor($e){this.observer=$e,this.muted=!1}next($e){this.muted||this.observer.next&&this.Ou(this.observer.next,$e)}error($e){this.muted||(this.observer.error?this.Ou(this.observer.error,$e):__PRIVATE_logError("Uncaught Error in snapshot listener:",$e.toString()))}Nu(){this.muted=!0}Ou($e,Be){setTimeout((()=>{this.muted||$e(Be)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="FirestoreClient";class FirestoreClient{constructor($e,Be,Ue,ze,qe){this.authCredentials=$e,this.appCheckCredentials=Be,this.asyncQueue=Ue,this.databaseInfo=ze,this.user=User$1.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=qe,this.authCredentials.start(Ue,(async He=>{__PRIVATE_logDebug(on,"Received user=",He.uid),await this.authCredentialListener(He),this.user=He})),this.appCheckCredentials.start(Ue,(He=>(__PRIVATE_logDebug(on,"Received new app check token=",He),this.appCheckCredentialListener(He,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener($e){this.authCredentialListener=$e}setAppCheckTokenChangeListener($e){this.appCheckCredentialListener=$e}terminate(){this.asyncQueue.enterRestrictedMode();const $e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),$e.resolve()}catch(Be){const Ue=__PRIVATE_wrapInUserErrorIfRecoverable(Be,"Failed to shutdown persistence");$e.reject(Ue)}})),$e.promise}}async function __PRIVATE_setOfflineComponentProvider(Ve,$e){Ve.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(on,"Initializing OfflineComponentProvider");const Be=Ve.configuration;await $e.initialize(Be);let Ue=Be.initialUser;Ve.setCredentialChangeListener((async ze=>{Ue.isEqual(ze)||(await __PRIVATE_localStoreHandleUserChange($e.localStore,ze),Ue=ze)})),$e.persistence.setDatabaseDeletedListener((()=>Ve.terminate())),Ve._offlineComponents=$e}async function __PRIVATE_setOnlineComponentProvider(Ve,$e){Ve.asyncQueue.verifyOperationInProgress();const Be=await __PRIVATE_ensureOfflineComponents(Ve);__PRIVATE_logDebug(on,"Initializing OnlineComponentProvider"),await $e.initialize(Be,Ve.configuration),Ve.setCredentialChangeListener((Ue=>__PRIVATE_remoteStoreHandleCredentialChange($e.remoteStore,Ue))),Ve.setAppCheckTokenChangeListener(((Ue,ze)=>__PRIVATE_remoteStoreHandleCredentialChange($e.remoteStore,ze))),Ve._onlineComponents=$e}async function __PRIVATE_ensureOfflineComponents(Ve){if(!Ve._offlineComponents)if(Ve._uninitializedComponentsProvider){__PRIVATE_logDebug(on,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(Ve,Ve._uninitializedComponentsProvider._offline)}catch($e){const Be=$e;if(!(function(ze){return ze.name==="FirebaseError"?ze.code===N$2.FAILED_PRECONDITION||ze.code===N$2.UNIMPLEMENTED:!(typeof DOMException<"u"&&ze instanceof DOMException)||ze.code===22||ze.code===20||ze.code===11})(Be))throw Be;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+Be),await __PRIVATE_setOfflineComponentProvider(Ve,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(on,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(Ve,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return Ve._offlineComponents}async function __PRIVATE_ensureOnlineComponents(Ve){return Ve._onlineComponents||(Ve._uninitializedComponentsProvider?(__PRIVATE_logDebug(on,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Ve,Ve._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(on,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Ve,new OnlineComponentProvider))),Ve._onlineComponents}function __PRIVATE_getSyncEngine(Ve){return __PRIVATE_ensureOnlineComponents(Ve).then(($e=>$e.syncEngine))}async function __PRIVATE_getEventManager(Ve){const $e=await __PRIVATE_ensureOnlineComponents(Ve),Be=$e.eventManager;return Be.onListen=__PRIVATE_syncEngineListen.bind(null,$e.syncEngine),Be.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,$e.syncEngine),Be.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,$e.syncEngine),Be.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,$e.syncEngine),Be}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(Ve,$e,Be={}){const Ue=new __PRIVATE_Deferred;return Ve.asyncQueue.enqueueAndForget((async()=>(function(qe,He,We,Ge,Ye){const Xe=new __PRIVATE_AsyncObserver({next:er=>{Xe.Nu(),He.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(qe,Je)));const Ze=er.docs.has(We);!Ze&&er.fromCache?Ye.reject(new FirestoreError(N$2.UNAVAILABLE,"Failed to get document because the client is offline.")):Ze&&er.fromCache&&Ge&&Ge.source==="server"?Ye.reject(new FirestoreError(N$2.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Ye.resolve(er)},error:er=>Ye.reject(er)}),Je=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(We.path),Xe,{includeMetadataChanges:!0,qa:!0});return __PRIVATE_eventManagerListen(qe,Je)})(await __PRIVATE_getEventManager(Ve),Ve.asyncQueue,$e,Be,Ue))),Ue.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(Ve,$e,Be={}){const Ue=new __PRIVATE_Deferred;return Ve.asyncQueue.enqueueAndForget((async()=>(function(qe,He,We,Ge,Ye){const Xe=new __PRIVATE_AsyncObserver({next:er=>{Xe.Nu(),He.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(qe,Je))),er.fromCache&&Ge.source==="server"?Ye.reject(new FirestoreError(N$2.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Ye.resolve(er)},error:er=>Ye.reject(er)}),Je=new __PRIVATE_QueryListener(We,Xe,{includeMetadataChanges:!0,qa:!0});return __PRIVATE_eventManagerListen(qe,Je)})(await __PRIVATE_getEventManager(Ve),Ve.asyncQueue,$e,Be,Ue))),Ue.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(Ve){const $e={};return Ve.timeoutSeconds!==void 0&&($e.timeoutSeconds=Ve.timeoutSeconds),$e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="firestore.googleapis.com",un=!0;class FirestoreSettingsImpl{constructor($e){if($e.host===void 0){if($e.ssl!==void 0)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=an,this.ssl=un}else this.host=$e.host,this.ssl=$e.ssl??un;if(this.isUsingEmulator=$e.emulatorOptions!==void 0,this.credentials=$e.credentials,this.ignoreUndefinedProperties=!!$e.ignoreUndefinedProperties,this.localCache=$e.localCache,$e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ot$1;else{if($e.cacheSizeBytes!==-1&&$e.cacheSizeBytes<Bt$1)throw new FirestoreError(N$2.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=$e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",$e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",$e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!$e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:$e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!$e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions($e.experimentalLongPollingOptions??{}),(function(Ue){if(Ue.timeoutSeconds!==void 0){if(isNaN(Ue.timeoutSeconds))throw new FirestoreError(N$2.INVALID_ARGUMENT,`invalid long polling timeout: ${Ue.timeoutSeconds} (must not be NaN)`);if(Ue.timeoutSeconds<5)throw new FirestoreError(N$2.INVALID_ARGUMENT,`invalid long polling timeout: ${Ue.timeoutSeconds} (minimum allowed value is 5)`);if(Ue.timeoutSeconds>30)throw new FirestoreError(N$2.INVALID_ARGUMENT,`invalid long polling timeout: ${Ue.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!$e.useFetchStreams}isEqual($e){return this.host===$e.host&&this.ssl===$e.ssl&&this.credentials===$e.credentials&&this.cacheSizeBytes===$e.cacheSizeBytes&&this.experimentalForceLongPolling===$e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===$e.experimentalAutoDetectLongPolling&&(function(Ue,ze){return Ue.timeoutSeconds===ze.timeoutSeconds})(this.experimentalLongPollingOptions,$e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===$e.ignoreUndefinedProperties&&this.useFetchStreams===$e.useFetchStreams}}class Firestore$1{constructor($e,Be,Ue,ze){this._authCredentials=$e,this._appCheckCredentials=Be,this._databaseId=Ue,this._app=ze,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(N$2.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings($e){if(this._settingsFrozen)throw new FirestoreError(N$2.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl($e),this._emulatorOptions=$e.emulatorOptions||{},$e.credentials!==void 0&&(this._authCredentials=(function(Ue){if(!Ue)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(Ue.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(Ue.sessionIndex||"0",Ue.iamToken||null,Ue.authTokenFactory||null);case"provider":return Ue.client;default:throw new FirestoreError(N$2.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})($e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(Be){const Ue=_n.get(Be);Ue&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),_n.delete(Be),Ue.terminate())})(this),Promise.resolve()}}function connectFirestoreEmulator(Ve,$e,Be,Ue={}){Ve=__PRIVATE_cast(Ve,Firestore$1);const ze=isCloudWorkstation($e),qe=Ve._getSettings(),He={...qe,emulatorOptions:Ve._getEmulatorOptions()},We=`${$e}:${Be}`;ze&&(pingServer(`https://${We}`),updateEmulatorBanner("Firestore",!0)),qe.host!==an&&qe.host!==We&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const Ge={...qe,host:We,ssl:ze,emulatorOptions:Ue};if(!deepEqual(Ge,He)&&(Ve._setSettings(Ge),Ue.mockUserToken)){let Ye,Xe;if(typeof Ue.mockUserToken=="string")Ye=Ue.mockUserToken,Xe=User$1.MOCK_USER;else{Ye=createMockUserToken(Ue.mockUserToken,Ve._app?.options.projectId);const Je=Ue.mockUserToken.sub||Ue.mockUserToken.user_id;if(!Je)throw new FirestoreError(N$2.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Xe=new User$1(Je)}Ve._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(Ye,Xe))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor($e,Be,Ue){this.converter=Be,this._query=Ue,this.type="query",this.firestore=$e}withConverter($e){return new Query(this.firestore,$e,this._query)}}class DocumentReference{constructor($e,Be,Ue){this.converter=Be,this._key=Ue,this.type="document",this.firestore=$e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter($e){return new DocumentReference(this.firestore,$e,this._key)}toJSON(){return{type:DocumentReference._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON($e,Be,Ue){if(__PRIVATE_validateJSON(Be,DocumentReference._jsonSchema))return new DocumentReference($e,Ue||null,new DocumentKey(ResourcePath.fromString(Be.referencePath)))}}DocumentReference._jsonSchemaVersion="firestore/documentReference/1.0",DocumentReference._jsonSchema={type:property$1("string",DocumentReference._jsonSchemaVersion),referencePath:property$1("string")};class CollectionReference extends Query{constructor($e,Be,Ue){super($e,Be,__PRIVATE_newQueryForPath(Ue)),this._path=Ue,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const $e=this._path.popLast();return $e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey($e))}withConverter($e){return new CollectionReference(this.firestore,$e,this._path)}}function collection(Ve,$e,...Be){if(Ve=getModularInstance(Ve),__PRIVATE_validateNonEmptyArgument("collection","path",$e),Ve instanceof Firestore$1){const Ue=ResourcePath.fromString($e,...Be);return __PRIVATE_validateCollectionPath(Ue),new CollectionReference(Ve,null,Ue)}{if(!(Ve instanceof DocumentReference||Ve instanceof CollectionReference))throw new FirestoreError(N$2.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const Ue=Ve._path.child(ResourcePath.fromString($e,...Be));return __PRIVATE_validateCollectionPath(Ue),new CollectionReference(Ve.firestore,null,Ue)}}function doc(Ve,$e,...Be){if(Ve=getModularInstance(Ve),arguments.length===1&&($e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",$e),Ve instanceof Firestore$1){const Ue=ResourcePath.fromString($e,...Be);return __PRIVATE_validateDocumentPath(Ue),new DocumentReference(Ve,null,new DocumentKey(Ue))}{if(!(Ve instanceof DocumentReference||Ve instanceof CollectionReference))throw new FirestoreError(N$2.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const Ue=Ve._path.child(ResourcePath.fromString($e,...Be));return __PRIVATE_validateDocumentPath(Ue),new DocumentReference(Ve.firestore,Ve instanceof CollectionReference?Ve.converter:null,new DocumentKey(Ue))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor($e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this._c=()=>{const Ue=getDocument();Ue&&__PRIVATE_logDebug(cn,"Visibility state changed to "+Ue.visibilityState),this.M_.w_()},this.ac=$e;const Be=getDocument();Be&&typeof Be.addEventListener=="function"&&Be.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget($e){this.enqueue($e)}enqueueAndForgetEvenWhileRestricted($e){this.uc(),this.cc($e)}enterRestrictedMode($e){if(!this.ec){this.ec=!0,this.sc=$e||!1;const Be=getDocument();Be&&typeof Be.removeEventListener=="function"&&Be.removeEventListener("visibilitychange",this._c)}}enqueue($e){if(this.uc(),this.ec)return new Promise((()=>{}));const Be=new __PRIVATE_Deferred;return this.cc((()=>this.ec&&this.sc?Promise.resolve():($e().then(Be.resolve,Be.reject),Be.promise))).then((()=>Be.promise))}enqueueRetryable($e){this.enqueueAndForget((()=>(this.Xu.push($e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch($e){if(!__PRIVATE_isIndexedDbTransactionError($e))throw $e;__PRIVATE_logDebug(cn,"Operation failed with retryable error: "+$e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc($e){const Be=this.ac.then((()=>(this.rc=!0,$e().catch((Ue=>{throw this.nc=Ue,this.rc=!1,__PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",__PRIVATE_getMessageOrStack(Ue)),Ue})).then((Ue=>(this.rc=!1,Ue))))));return this.ac=Be,Be}enqueueAfterDelay($e,Be,Ue){this.uc(),this.oc.indexOf($e)>-1&&(Be=0);const ze=DelayedOperation.createAndSchedule(this,$e,Be,Ue,(qe=>this.hc(qe)));return this.tc.push(ze),ze}uc(){this.nc&&fail(47125,{Pc:__PRIVATE_getMessageOrStack(this.nc)})}verifyOperationInProgress(){}async Tc(){let $e;do $e=this.ac,await $e;while($e!==this.ac)}Ic($e){for(const Be of this.tc)if(Be.timerId===$e)return!0;return!1}Ec($e){return this.Tc().then((()=>{this.tc.sort(((Be,Ue)=>Be.targetTimeMs-Ue.targetTimeMs));for(const Be of this.tc)if(Be.skipDelay(),$e!=="all"&&Be.timerId===$e)break;return this.Tc()}))}dc($e){this.oc.push($e)}hc($e){const Be=this.tc.indexOf($e);this.tc.splice(Be,1)}}function __PRIVATE_getMessageOrStack(Ve){let $e=Ve.message||"";return Ve.stack&&($e=Ve.stack.includes(Ve.message)?Ve.stack:Ve.message+`
`+Ve.stack),$e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isPartialObserver(Ve){return(function(Be,Ue){if(typeof Be!="object"||Be===null)return!1;const ze=Be;for(const qe of Ue)if(qe in ze&&typeof ze[qe]=="function")return!0;return!1})(Ve,["next","error","complete"])}class Firestore extends Firestore$1{constructor($e,Be,Ue,ze){super($e,Be,Ue,ze),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=ze?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const $e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl($e),this._firestoreClient=void 0,await $e}}}function getFirestore(Ve,$e){const Be=typeof Ve=="object"?Ve:getApp(),Ue=typeof Ve=="string"?Ve:lt$1,ze=_getProvider(Be,"firestore").getImmediate({identifier:Ue});if(!ze._initialized){const qe=getDefaultEmulatorHostnameAndPort("firestore");qe&&connectFirestoreEmulator(ze,...qe)}return ze}function ensureFirestoreConfigured(Ve){if(Ve._terminated)throw new FirestoreError(N$2.FAILED_PRECONDITION,"The client has already been terminated.");return Ve._firestoreClient||__PRIVATE_configureFirestore(Ve),Ve._firestoreClient}function __PRIVATE_configureFirestore(Ve){const $e=Ve._freezeSettings(),Be=(function(ze,qe,He,We){return new DatabaseInfo(ze,qe,He,We.host,We.ssl,We.experimentalForceLongPolling,We.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(We.experimentalLongPollingOptions),We.useFetchStreams,We.isUsingEmulator)})(Ve._databaseId,Ve._app?.options.appId||"",Ve._persistenceKey,$e);Ve._componentsProvider||$e.localCache?._offlineComponentProvider&&$e.localCache?._onlineComponentProvider&&(Ve._componentsProvider={_offline:$e.localCache._offlineComponentProvider,_online:$e.localCache._onlineComponentProvider}),Ve._firestoreClient=new FirestoreClient(Ve._authCredentials,Ve._appCheckCredentials,Ve._queue,Be,Ve._componentsProvider&&(function(ze){const qe=ze?._online.build();return{_offline:ze?._offline.build(qe),_online:qe}})(Ve._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor($e){this._byteString=$e}static fromBase64String($e){try{return new Bytes(ByteString.fromBase64String($e))}catch(Be){throw new FirestoreError(N$2.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+Be)}}static fromUint8Array($e){return new Bytes(ByteString.fromUint8Array($e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual($e){return this._byteString.isEqual($e._byteString)}toJSON(){return{type:Bytes._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON($e){if(__PRIVATE_validateJSON($e,Bytes._jsonSchema))return Bytes.fromBase64String($e.bytes)}}Bytes._jsonSchemaVersion="firestore/bytes/1.0",Bytes._jsonSchema={type:property$1("string",Bytes._jsonSchemaVersion),bytes:property$1("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...$e){for(let Be=0;Be<$e.length;++Be)if($e[Be].length===0)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1($e)}isEqual($e){return this._internalPath.isEqual($e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor($e){this._methodName=$e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor($e,Be){if(!isFinite($e)||$e<-90||$e>90)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+$e);if(!isFinite(Be)||Be<-180||Be>180)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+Be);this._lat=$e,this._long=Be}get latitude(){return this._lat}get longitude(){return this._long}isEqual($e){return this._lat===$e._lat&&this._long===$e._long}_compareTo($e){return __PRIVATE_primitiveComparator(this._lat,$e._lat)||__PRIVATE_primitiveComparator(this._long,$e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:GeoPoint._jsonSchemaVersion}}static fromJSON($e){if(__PRIVATE_validateJSON($e,GeoPoint._jsonSchema))return new GeoPoint($e.latitude,$e.longitude)}}GeoPoint._jsonSchemaVersion="firestore/geoPoint/1.0",GeoPoint._jsonSchema={type:property$1("string",GeoPoint._jsonSchemaVersion),latitude:property$1("number"),longitude:property$1("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor($e){this._values=($e||[]).map((Be=>Be))}toArray(){return this._values.map(($e=>$e))}isEqual($e){return(function(Ue,ze){if(Ue.length!==ze.length)return!1;for(let qe=0;qe<Ue.length;++qe)if(Ue[qe]!==ze[qe])return!1;return!0})(this._values,$e._values)}toJSON(){return{type:VectorValue._jsonSchemaVersion,vectorValues:this._values}}static fromJSON($e){if(__PRIVATE_validateJSON($e,VectorValue._jsonSchema)){if(Array.isArray($e.vectorValues)&&$e.vectorValues.every((Be=>typeof Be=="number")))return new VectorValue($e.vectorValues);throw new FirestoreError(N$2.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}VectorValue._jsonSchemaVersion="firestore/vectorValue/1.0",VectorValue._jsonSchema={type:property$1("string",VectorValue._jsonSchemaVersion),vectorValues:property$1("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=/^__.*__$/;class ParsedSetData{constructor($e,Be,Ue){this.data=$e,this.fieldMask=Be,this.fieldTransforms=Ue}toMutation($e,Be){return this.fieldMask!==null?new __PRIVATE_PatchMutation($e,this.data,this.fieldMask,Be,this.fieldTransforms):new __PRIVATE_SetMutation($e,this.data,Be,this.fieldTransforms)}}class ParsedUpdateData{constructor($e,Be,Ue){this.data=$e,this.fieldMask=Be,this.fieldTransforms=Ue}toMutation($e,Be){return new __PRIVATE_PatchMutation($e,this.data,this.fieldMask,Be,this.fieldTransforms)}}function __PRIVATE_isWrite(Ve){switch(Ve){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail(40011,{Ac:Ve})}}class __PRIVATE_ParseContextImpl{constructor($e,Be,Ue,ze,qe,He){this.settings=$e,this.databaseId=Be,this.serializer=Ue,this.ignoreUndefinedProperties=ze,qe===void 0&&this.Rc(),this.fieldTransforms=qe||[],this.fieldMask=He||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc($e){return new __PRIVATE_ParseContextImpl({...this.settings,...$e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc($e){const Be=this.path?.child($e),Ue=this.Vc({path:Be,fc:!1});return Ue.gc($e),Ue}yc($e){const Be=this.path?.child($e),Ue=this.Vc({path:Be,fc:!1});return Ue.Rc(),Ue}wc($e){return this.Vc({path:void 0,fc:!0})}Sc($e){return __PRIVATE_createError($e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains($e){return this.fieldMask.find((Be=>$e.isPrefixOf(Be)))!==void 0||this.fieldTransforms.find((Be=>$e.isPrefixOf(Be.field)))!==void 0}Rc(){if(this.path)for(let $e=0;$e<this.path.length;$e++)this.gc(this.path.get($e))}gc($e){if($e.length===0)throw this.Sc("Document fields must not be empty");if(__PRIVATE_isWrite(this.Ac)&&hn.test($e))throw this.Sc('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor($e,Be,Ue){this.databaseId=$e,this.ignoreUndefinedProperties=Be,this.serializer=Ue||__PRIVATE_newSerializer($e)}Cc($e,Be,Ue,ze=!1){return new __PRIVATE_ParseContextImpl({Ac:$e,methodName:Be,Dc:Ue,path:FieldPath$1.emptyPath(),fc:!1,bc:ze},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(Ve){const $e=Ve._freezeSettings(),Be=__PRIVATE_newSerializer(Ve._databaseId);return new __PRIVATE_UserDataReader(Ve._databaseId,!!$e.ignoreUndefinedProperties,Be)}function __PRIVATE_parseSetData(Ve,$e,Be,Ue,ze,qe={}){const He=Ve.Cc(qe.merge||qe.mergeFields?2:0,$e,Be,ze);__PRIVATE_validatePlainObject("Data must be an object, but it was:",He,Ue);const We=__PRIVATE_parseObject(Ue,He);let Ge,Ye;if(qe.merge)Ge=new FieldMask(He.fieldMask),Ye=He.fieldTransforms;else if(qe.mergeFields){const Xe=[];for(const Je of qe.mergeFields){const er=__PRIVATE_fieldPathFromArgument$1($e,Je,Be);if(!He.contains(er))throw new FirestoreError(N$2.INVALID_ARGUMENT,`Field '${er}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(Xe,er)||Xe.push(er)}Ge=new FieldMask(Xe),Ye=He.fieldTransforms.filter((Je=>Ge.covers(Je.field)))}else Ge=null,Ye=He.fieldTransforms;return new ParsedSetData(new ObjectValue(We),Ge,Ye)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform($e){if($e.Ac!==2)throw $e.Ac===1?$e.Sc(`${this._methodName}() can only appear at the top level of your update data`):$e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return $e.fieldMask.push($e.path),null}isEqual($e){return $e instanceof __PRIVATE_DeleteFieldValueImpl}}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform($e){return new FieldTransform($e.path,new __PRIVATE_ServerTimestampTransform)}isEqual($e){return $e instanceof __PRIVATE_ServerTimestampFieldValueImpl}}class __PRIVATE_NumericIncrementFieldValueImpl extends FieldValue{constructor($e,Be){super($e),this.Fc=Be}_toFieldTransform($e){const Be=new __PRIVATE_NumericIncrementTransformOperation($e.serializer,toNumber$2($e.serializer,this.Fc));return new FieldTransform($e.path,Be)}isEqual($e){return $e instanceof __PRIVATE_NumericIncrementFieldValueImpl&&this.Fc===$e.Fc}}function __PRIVATE_parseUpdateData(Ve,$e,Be,Ue){const ze=Ve.Cc(1,$e,Be);__PRIVATE_validatePlainObject("Data must be an object, but it was:",ze,Ue);const qe=[],He=ObjectValue.empty();forEach(Ue,((Ge,Ye)=>{const Xe=__PRIVATE_fieldPathFromDotSeparatedString($e,Ge,Be);Ye=getModularInstance(Ye);const Je=ze.yc(Xe);if(Ye instanceof __PRIVATE_DeleteFieldValueImpl)qe.push(Xe);else{const er=__PRIVATE_parseData(Ye,Je);er!=null&&(qe.push(Xe),He.set(Xe,er))}}));const We=new FieldMask(qe);return new ParsedUpdateData(He,We,ze.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(Ve,$e,Be,Ue,ze,qe){const He=Ve.Cc(1,$e,Be),We=[__PRIVATE_fieldPathFromArgument$1($e,Ue,Be)],Ge=[ze];if(qe.length%2!=0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Function ${$e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let er=0;er<qe.length;er+=2)We.push(__PRIVATE_fieldPathFromArgument$1($e,qe[er])),Ge.push(qe[er+1]);const Ye=[],Xe=ObjectValue.empty();for(let er=We.length-1;er>=0;--er)if(!__PRIVATE_fieldMaskContains(Ye,We[er])){const Ze=We[er];let rr=Ge[er];rr=getModularInstance(rr);const nr=He.yc(Ze);if(rr instanceof __PRIVATE_DeleteFieldValueImpl)Ye.push(Ze);else{const ar=__PRIVATE_parseData(rr,nr);ar!=null&&(Ye.push(Ze),Xe.set(Ze,ar))}}const Je=new FieldMask(Ye);return new ParsedUpdateData(Xe,Je,He.fieldTransforms)}function __PRIVATE_parseQueryValue(Ve,$e,Be,Ue=!1){return __PRIVATE_parseData(Be,Ve.Cc(Ue?4:3,$e))}function __PRIVATE_parseData(Ve,$e){if(__PRIVATE_looksLikeJsonObject(Ve=getModularInstance(Ve)))return __PRIVATE_validatePlainObject("Unsupported field value:",$e,Ve),__PRIVATE_parseObject(Ve,$e);if(Ve instanceof FieldValue)return(function(Ue,ze){if(!__PRIVATE_isWrite(ze.Ac))throw ze.Sc(`${Ue._methodName}() can only be used with update() and set()`);if(!ze.path)throw ze.Sc(`${Ue._methodName}() is not currently supported inside arrays`);const qe=Ue._toFieldTransform(ze);qe&&ze.fieldTransforms.push(qe)})(Ve,$e),null;if(Ve===void 0&&$e.ignoreUndefinedProperties)return null;if($e.path&&$e.fieldMask.push($e.path),Ve instanceof Array){if($e.settings.fc&&$e.Ac!==4)throw $e.Sc("Nested arrays are not supported");return(function(Ue,ze){const qe=[];let He=0;for(const We of Ue){let Ge=__PRIVATE_parseData(We,ze.wc(He));Ge==null&&(Ge={nullValue:"NULL_VALUE"}),qe.push(Ge),He++}return{arrayValue:{values:qe}}})(Ve,$e)}return(function(Ue,ze){if((Ue=getModularInstance(Ue))===null)return{nullValue:"NULL_VALUE"};if(typeof Ue=="number")return toNumber$2(ze.serializer,Ue);if(typeof Ue=="boolean")return{booleanValue:Ue};if(typeof Ue=="string")return{stringValue:Ue};if(Ue instanceof Date){const qe=Timestamp.fromDate(Ue);return{timestampValue:toTimestamp(ze.serializer,qe)}}if(Ue instanceof Timestamp){const qe=new Timestamp(Ue.seconds,1e3*Math.floor(Ue.nanoseconds/1e3));return{timestampValue:toTimestamp(ze.serializer,qe)}}if(Ue instanceof GeoPoint)return{geoPointValue:{latitude:Ue.latitude,longitude:Ue.longitude}};if(Ue instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(ze.serializer,Ue._byteString)};if(Ue instanceof DocumentReference){const qe=ze.databaseId,He=Ue.firestore._databaseId;if(!He.isEqual(qe))throw ze.Sc(`Document reference is for database ${He.projectId}/${He.database} but should be for database ${qe.projectId}/${qe.database}`);return{referenceValue:__PRIVATE_toResourceName(Ue.firestore._databaseId||ze.databaseId,Ue._key.path)}}if(Ue instanceof VectorValue)return(function(He,We){return{mapValue:{fields:{[ht$1]:{stringValue:It$1},[Et$1]:{arrayValue:{values:He.toArray().map((Ye=>{if(typeof Ye!="number")throw We.Sc("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(We.serializer,Ye)}))}}}}}})(Ue,ze);throw ze.Sc(`Unsupported field value: ${__PRIVATE_valueDescription(Ue)}`)})(Ve,$e)}function __PRIVATE_parseObject(Ve,$e){const Be={};return isEmpty(Ve)?$e.path&&$e.path.length>0&&$e.fieldMask.push($e.path):forEach(Ve,((Ue,ze)=>{const qe=__PRIVATE_parseData(ze,$e.mc(Ue));qe!=null&&(Be[Ue]=qe)})),{mapValue:{fields:Be}}}function __PRIVATE_looksLikeJsonObject(Ve){return!(typeof Ve!="object"||Ve===null||Ve instanceof Array||Ve instanceof Date||Ve instanceof Timestamp||Ve instanceof GeoPoint||Ve instanceof Bytes||Ve instanceof DocumentReference||Ve instanceof FieldValue||Ve instanceof VectorValue)}function __PRIVATE_validatePlainObject(Ve,$e,Be){if(!__PRIVATE_looksLikeJsonObject(Be)||!__PRIVATE_isPlainObject(Be)){const Ue=__PRIVATE_valueDescription(Be);throw Ue==="an object"?$e.Sc(Ve+" a custom object"):$e.Sc(Ve+" "+Ue)}}function __PRIVATE_fieldPathFromArgument$1(Ve,$e,Be){if(($e=getModularInstance($e))instanceof FieldPath)return $e._internalPath;if(typeof $e=="string")return __PRIVATE_fieldPathFromDotSeparatedString(Ve,$e);throw __PRIVATE_createError("Field path arguments must be of type string or ",Ve,!1,void 0,Be)}const Pn=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(Ve,$e,Be){if($e.search(Pn)>=0)throw __PRIVATE_createError(`Invalid field path (${$e}). Paths must not contain '~', '*', '/', '[', or ']'`,Ve,!1,void 0,Be);try{return new FieldPath(...$e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${$e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Ve,!1,void 0,Be)}}function __PRIVATE_createError(Ve,$e,Be,Ue,ze){const qe=Ue&&!Ue.isEmpty(),He=ze!==void 0;let We=`Function ${$e}() called with invalid data`;Be&&(We+=" (via `toFirestore()`)"),We+=". ";let Ge="";return(qe||He)&&(Ge+=" (found",qe&&(Ge+=` in field ${Ue}`),He&&(Ge+=` in document ${ze}`),Ge+=")"),new FirestoreError(N$2.INVALID_ARGUMENT,We+Ve+Ge)}function __PRIVATE_fieldMaskContains(Ve,$e){return Ve.some((Be=>Be.isEqual($e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor($e,Be,Ue,ze,qe){this._firestore=$e,this._userDataWriter=Be,this._key=Ue,this._document=ze,this._converter=qe}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const $e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore($e)}return this._userDataWriter.convertValue(this._document.data.value)}}get($e){if(this._document){const Be=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",$e));if(Be!==null)return this._userDataWriter.convertValue(Be)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(Ve,$e){return typeof $e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(Ve,$e):$e instanceof FieldPath?$e._internalPath:$e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(Ve){if(Ve.limitType==="L"&&Ve.explicitOrderBy.length===0)throw new FirestoreError(N$2.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(Ve,$e,...Be){let Ue=[];$e instanceof AppliableConstraint&&Ue.push($e),Ue=Ue.concat(Be),(function(qe){const He=qe.filter((Ge=>Ge instanceof QueryCompositeFilterConstraint)).length,We=qe.filter((Ge=>Ge instanceof QueryFieldFilterConstraint)).length;if(He>1||He>0&&We>0)throw new FirestoreError(N$2.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(Ue);for(const ze of Ue)Ve=ze._apply(Ve);return Ve}class QueryFieldFilterConstraint extends QueryConstraint{constructor($e,Be,Ue){super(),this._field=$e,this._op=Be,this._value=Ue,this.type="where"}static _create($e,Be,Ue){return new QueryFieldFilterConstraint($e,Be,Ue)}_apply($e){const Be=this._parse($e);return __PRIVATE_validateNewFieldFilter($e._query,Be),new Query($e.firestore,$e.converter,__PRIVATE_queryWithAddedFilter($e._query,Be))}_parse($e){const Be=__PRIVATE_newUserDataReader($e.firestore);return(function(qe,He,We,Ge,Ye,Xe,Je){let er;if(Ye.isKeyField()){if(Xe==="array-contains"||Xe==="array-contains-any")throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Xe}' queries on documentId().`);if(Xe==="in"||Xe==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(Je,Xe);const rr=[];for(const nr of Je)rr.push(__PRIVATE_parseDocumentIdValue(Ge,qe,nr));er={arrayValue:{values:rr}}}else er=__PRIVATE_parseDocumentIdValue(Ge,qe,Je)}else Xe!=="in"&&Xe!=="not-in"&&Xe!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(Je,Xe),er=__PRIVATE_parseQueryValue(We,He,Je,Xe==="in"||Xe==="not-in");return FieldFilter.create(Ye,Xe,er)})($e._query,"where",Be,$e.firestore._databaseId,this._field,this._op,this._value)}}function where(Ve,$e,Be){const Ue=$e,ze=__PRIVATE_fieldPathFromArgument("where",Ve);return QueryFieldFilterConstraint._create(ze,Ue,Be)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor($e,Be){super(),this.type=$e,this._queryConstraints=Be}static _create($e,Be){return new QueryCompositeFilterConstraint($e,Be)}_parse($e){const Be=this._queryConstraints.map((Ue=>Ue._parse($e))).filter((Ue=>Ue.getFilters().length>0));return Be.length===1?Be[0]:CompositeFilter.create(Be,this._getOperator())}_apply($e){const Be=this._parse($e);return Be.getFilters().length===0?$e:((function(ze,qe){let He=ze;const We=qe.getFlattenedFilters();for(const Ge of We)__PRIVATE_validateNewFieldFilter(He,Ge),He=__PRIVATE_queryWithAddedFilter(He,Ge)})($e._query,Be),new Query($e.firestore,$e.converter,__PRIVATE_queryWithAddedFilter($e._query,Be)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor($e,Be){super(),this._field=$e,this._direction=Be,this.type="orderBy"}static _create($e,Be){return new QueryOrderByConstraint($e,Be)}_apply($e){const Be=(function(ze,qe,He){if(ze.startAt!==null)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(ze.endAt!==null)throw new FirestoreError(N$2.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(qe,He)})($e._query,this._field,this._direction);return new Query($e.firestore,$e.converter,(function(ze,qe){const He=ze.explicitOrderBy.concat([qe]);return new __PRIVATE_QueryImpl(ze.path,ze.collectionGroup,He,ze.filters.slice(),ze.limit,ze.limitType,ze.startAt,ze.endAt)})($e._query,Be))}}function orderBy$1(Ve,$e="asc"){const Be=$e,Ue=__PRIVATE_fieldPathFromArgument("orderBy",Ve);return QueryOrderByConstraint._create(Ue,Be)}class QueryLimitConstraint extends QueryConstraint{constructor($e,Be,Ue){super(),this.type=$e,this._limit=Be,this._limitType=Ue}static _create($e,Be,Ue){return new QueryLimitConstraint($e,Be,Ue)}_apply($e){return new Query($e.firestore,$e.converter,__PRIVATE_queryWithLimit($e._query,this._limit,this._limitType))}}function limit(Ve){return __PRIVATE_validatePositiveNumber("limit",Ve),QueryLimitConstraint._create("limit",Ve,"F")}function __PRIVATE_parseDocumentIdValue(Ve,$e,Be){if(typeof(Be=getModularInstance(Be))=="string"){if(Be==="")throw new FirestoreError(N$2.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery($e)&&Be.indexOf("/")!==-1)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${Be}' contains a '/' character.`);const Ue=$e.path.child(ResourcePath.fromString(Be));if(!DocumentKey.isDocumentKey(Ue))throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${Ue}' is not because it has an odd number of segments (${Ue.length}).`);return __PRIVATE_refValue(Ve,new DocumentKey(Ue))}if(Be instanceof DocumentReference)return __PRIVATE_refValue(Ve,Be._key);throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(Be)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(Ve,$e){if(!Array.isArray(Ve)||Ve.length===0)throw new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${$e.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(Ve,$e){const Be=(function(ze,qe){for(const He of ze)for(const We of He.getFlattenedFilters())if(qe.indexOf(We.op)>=0)return We.op;return null})(Ve.filters,(function(ze){switch(ze){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})($e.op));if(Be!==null)throw Be===$e.op?new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${$e.op.toString()}' filter.`):new FirestoreError(N$2.INVALID_ARGUMENT,`Invalid query. You cannot use '${$e.op.toString()}' filters with '${Be.toString()}' filters.`)}class AbstractUserDataWriter{convertValue($e,Be="none"){switch(__PRIVATE_typeOrder($e)){case 0:return null;case 1:return $e.booleanValue;case 2:return __PRIVATE_normalizeNumber($e.integerValue||$e.doubleValue);case 3:return this.convertTimestamp($e.timestampValue);case 4:return this.convertServerTimestamp($e,Be);case 5:return $e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString($e.bytesValue));case 7:return this.convertReference($e.referenceValue);case 8:return this.convertGeoPoint($e.geoPointValue);case 9:return this.convertArray($e.arrayValue,Be);case 11:return this.convertObject($e.mapValue,Be);case 10:return this.convertVectorValue($e.mapValue);default:throw fail(62114,{value:$e})}}convertObject($e,Be){return this.convertObjectMap($e.fields,Be)}convertObjectMap($e,Be="none"){const Ue={};return forEach($e,((ze,qe)=>{Ue[ze]=this.convertValue(qe,Be)})),Ue}convertVectorValue($e){const Be=$e.fields?.[Et$1].arrayValue?.values?.map((Ue=>__PRIVATE_normalizeNumber(Ue.doubleValue)));return new VectorValue(Be)}convertGeoPoint($e){return new GeoPoint(__PRIVATE_normalizeNumber($e.latitude),__PRIVATE_normalizeNumber($e.longitude))}convertArray($e,Be){return($e.values||[]).map((Ue=>this.convertValue(Ue,Be)))}convertServerTimestamp($e,Be){switch(Be){case"previous":const Ue=__PRIVATE_getPreviousValue($e);return Ue==null?null:this.convertValue(Ue,Be);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime($e));default:return null}}convertTimestamp($e){const Be=__PRIVATE_normalizeTimestamp($e);return new Timestamp(Be.seconds,Be.nanos)}convertDocumentKey($e,Be){const Ue=ResourcePath.fromString($e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(Ue),9688,{name:$e});const ze=new DatabaseId(Ue.get(1),Ue.get(3)),qe=new DocumentKey(Ue.popFirst(5));return ze.isEqual(Be)||__PRIVATE_logError(`Document ${qe} contains a document reference within a different database (${ze.projectId}/${ze.database}) which is not supported. It will be treated as a reference in the current database (${Be.projectId}/${Be.database}) instead.`),qe}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(Ve,$e,Be){let Ue;return Ue=Ve?Ve.toFirestore($e):$e,Ue}class SnapshotMetadata{constructor($e,Be){this.hasPendingWrites=$e,this.fromCache=Be}isEqual($e){return this.hasPendingWrites===$e.hasPendingWrites&&this.fromCache===$e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor($e,Be,Ue,ze,qe,He){super($e,Be,Ue,ze,He),this._firestore=$e,this._firestoreImpl=$e,this.metadata=qe}exists(){return super.exists()}data($e={}){if(this._document){if(this._converter){const Be=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(Be,$e)}return this._userDataWriter.convertValue(this._document.data.value,$e.serverTimestamps)}}get($e,Be={}){if(this._document){const Ue=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",$e));if(Ue!==null)return this._userDataWriter.convertValue(Ue,Be.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new FirestoreError(N$2.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const $e=this._document,Be={};return Be.type=DocumentSnapshot._jsonSchemaVersion,Be.bundle="",Be.bundleSource="DocumentSnapshot",Be.bundleName=this._key.toString(),!$e||!$e.isValidDocument()||!$e.isFoundDocument()?Be:(this._userDataWriter.convertObjectMap($e.data.value.mapValue.fields,"previous"),Be.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),Be)}}DocumentSnapshot._jsonSchemaVersion="firestore/documentSnapshot/1.0",DocumentSnapshot._jsonSchema={type:property$1("string",DocumentSnapshot._jsonSchemaVersion),bundleSource:property$1("string","DocumentSnapshot"),bundleName:property$1("string"),bundle:property$1("string")};class QueryDocumentSnapshot extends DocumentSnapshot{data($e={}){return super.data($e)}}class QuerySnapshot{constructor($e,Be,Ue,ze){this._firestore=$e,this._userDataWriter=Be,this._snapshot=ze,this.metadata=new SnapshotMetadata(ze.hasPendingWrites,ze.fromCache),this.query=Ue}get docs(){const $e=[];return this.forEach((Be=>$e.push(Be))),$e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach($e,Be){this._snapshot.docs.forEach((Ue=>{$e.call(Be,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,Ue.key,Ue,new SnapshotMetadata(this._snapshot.mutatedKeys.has(Ue.key),this._snapshot.fromCache),this.query.converter))}))}docChanges($e={}){const Be=!!$e.includeMetadataChanges;if(Be&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(N$2.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===Be||(this._cachedChanges=(function(ze,qe){if(ze._snapshot.oldDocs.isEmpty()){let He=0;return ze._snapshot.docChanges.map((We=>{const Ge=new QueryDocumentSnapshot(ze._firestore,ze._userDataWriter,We.doc.key,We.doc,new SnapshotMetadata(ze._snapshot.mutatedKeys.has(We.doc.key),ze._snapshot.fromCache),ze.query.converter);return We.doc,{type:"added",doc:Ge,oldIndex:-1,newIndex:He++}}))}{let He=ze._snapshot.oldDocs;return ze._snapshot.docChanges.filter((We=>qe||We.type!==3)).map((We=>{const Ge=new QueryDocumentSnapshot(ze._firestore,ze._userDataWriter,We.doc.key,We.doc,new SnapshotMetadata(ze._snapshot.mutatedKeys.has(We.doc.key),ze._snapshot.fromCache),ze.query.converter);let Ye=-1,Xe=-1;return We.type!==0&&(Ye=He.indexOf(We.doc.key),He=He.delete(We.doc.key)),We.type!==1&&(He=He.add(We.doc),Xe=He.indexOf(We.doc.key)),{type:__PRIVATE_resultChangeType(We.type),doc:Ge,oldIndex:Ye,newIndex:Xe}}))}})(this,Be),this._cachedChangesIncludeMetadataChanges=Be),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new FirestoreError(N$2.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const $e={};$e.type=QuerySnapshot._jsonSchemaVersion,$e.bundleSource="QuerySnapshot",$e.bundleName=__PRIVATE_AutoId.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const Be=[],Ue=[],ze=[];return this.docs.forEach((qe=>{qe._document!==null&&(Be.push(qe._document),Ue.push(this._userDataWriter.convertObjectMap(qe._document.data.value.mapValue.fields,"previous")),ze.push(qe.ref.path))})),$e.bundle=(this._firestore,this.query._query,$e.bundleName,"NOT SUPPORTED"),$e}}function __PRIVATE_resultChangeType(Ve){switch(Ve){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail(61501,{type:Ve})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(Ve){Ve=__PRIVATE_cast(Ve,DocumentReference);const $e=__PRIVATE_cast(Ve.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured($e),Ve._key).then((Be=>__PRIVATE_convertToDocSnapshot($e,Ve,Be)))}QuerySnapshot._jsonSchemaVersion="firestore/querySnapshot/1.0",QuerySnapshot._jsonSchema={type:property$1("string",QuerySnapshot._jsonSchemaVersion),bundleSource:property$1("string","QuerySnapshot"),bundleName:property$1("string"),bundle:property$1("string")};class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor($e){super(),this.firestore=$e}convertBytes($e){return new Bytes($e)}convertReference($e){const Be=this.convertDocumentKey($e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,Be)}}function getDocs(Ve){Ve=__PRIVATE_cast(Ve,Query);const $e=__PRIVATE_cast(Ve.firestore,Firestore),Be=ensureFirestoreConfigured($e),Ue=new __PRIVATE_ExpUserDataWriter($e);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(Ve._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(Be,Ve._query).then((ze=>new QuerySnapshot($e,Ue,Ve,ze)))}function setDoc(Ve,$e,Be){Ve=__PRIVATE_cast(Ve,DocumentReference);const Ue=__PRIVATE_cast(Ve.firestore,Firestore),ze=__PRIVATE_applyFirestoreDataConverter(Ve.converter,$e);return executeWrite(Ue,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Ue),"setDoc",Ve._key,ze,Ve.converter!==null,Be).toMutation(Ve._key,Precondition.none())])}function updateDoc(Ve,$e,Be,...Ue){Ve=__PRIVATE_cast(Ve,DocumentReference);const ze=__PRIVATE_cast(Ve.firestore,Firestore),qe=__PRIVATE_newUserDataReader(ze);let He;return He=typeof($e=getModularInstance($e))=="string"||$e instanceof FieldPath?__PRIVATE_parseUpdateVarargs(qe,"updateDoc",Ve._key,$e,Be,Ue):__PRIVATE_parseUpdateData(qe,"updateDoc",Ve._key,$e),executeWrite(ze,[He.toMutation(Ve._key,Precondition.exists(!0))])}function deleteDoc(Ve){return executeWrite(__PRIVATE_cast(Ve.firestore,Firestore),[new __PRIVATE_DeleteMutation(Ve._key,Precondition.none())])}function addDoc(Ve,$e){const Be=__PRIVATE_cast(Ve.firestore,Firestore),Ue=doc(Ve),ze=__PRIVATE_applyFirestoreDataConverter(Ve.converter,$e);return executeWrite(Be,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Ve.firestore),"addDoc",Ue._key,ze,Ve.converter!==null,{}).toMutation(Ue._key,Precondition.exists(!1))]).then((()=>Ue))}function onSnapshot(Ve,...$e){Ve=getModularInstance(Ve);let Be={includeMetadataChanges:!1,source:"default"},Ue=0;typeof $e[Ue]!="object"||__PRIVATE_isPartialObserver($e[Ue])||(Be=$e[Ue++]);const ze={includeMetadataChanges:Be.includeMetadataChanges,source:Be.source};if(__PRIVATE_isPartialObserver($e[Ue])){const Ge=$e[Ue];$e[Ue]=Ge.next?.bind(Ge),$e[Ue+1]=Ge.error?.bind(Ge),$e[Ue+2]=Ge.complete?.bind(Ge)}let qe,He,We;if(Ve instanceof DocumentReference)He=__PRIVATE_cast(Ve.firestore,Firestore),We=__PRIVATE_newQueryForPath(Ve._key.path),qe={next:Ge=>{$e[Ue]&&$e[Ue](__PRIVATE_convertToDocSnapshot(He,Ve,Ge))},error:$e[Ue+1],complete:$e[Ue+2]};else{const Ge=__PRIVATE_cast(Ve,Query);He=__PRIVATE_cast(Ge.firestore,Firestore),We=Ge._query;const Ye=new __PRIVATE_ExpUserDataWriter(He);qe={next:Xe=>{$e[Ue]&&$e[Ue](new QuerySnapshot(He,Ye,Ge,Xe))},error:$e[Ue+1],complete:$e[Ue+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(Ve._query)}return(function(Ye,Xe,Je,er){const Ze=new __PRIVATE_AsyncObserver(er),rr=new __PRIVATE_QueryListener(Xe,Ze,Je);return Ye.asyncQueue.enqueueAndForget((async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(Ye),rr))),()=>{Ze.Nu(),Ye.asyncQueue.enqueueAndForget((async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(Ye),rr)))}})(ensureFirestoreConfigured(He),We,ze,qe)}function executeWrite(Ve,$e){return(function(Ue,ze){const qe=new __PRIVATE_Deferred;return Ue.asyncQueue.enqueueAndForget((async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(Ue),ze,qe))),qe.promise})(ensureFirestoreConfigured(Ve),$e)}function __PRIVATE_convertToDocSnapshot(Ve,$e,Be){const Ue=Be.docs.get($e._key),ze=new __PRIVATE_ExpUserDataWriter(Ve);return new DocumentSnapshot(Ve,ze,$e._key,Ue,new SnapshotMetadata(Be.hasPendingWrites,Be.fromCache),$e.converter)}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}function increment(Ve){return new __PRIVATE_NumericIncrementFieldValueImpl("increment",Ve)}(function($e,Be=!0){(function(ze){x$3=ze})(SDK_VERSION),_registerComponent(new Component("firestore",((Ue,{instanceIdentifier:ze,options:qe})=>{const He=Ue.getProvider("app").getImmediate(),We=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(Ue.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(He,Ue.getProvider("app-check-internal")),(function(Ye,Xe){if(!Object.prototype.hasOwnProperty.apply(Ye.options,["projectId"]))throw new FirestoreError(N$2.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(Ye.options.projectId,Xe)})(He,ze),He);return qe={useFetchStreams:Be,...qe},We._setSettings(qe),We}),"PUBLIC").setMultipleInstances(!0)),registerVersion(F$2,M$1,$e),registerVersion(F$2,M$1,"esm2020")})();var name$4="firebase",version$8="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$4,version$8,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=120*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let StorageError$1=class Rg extends FirebaseError{constructor($e,Be,Ue=0){super(prependCode($e),`Firebase Storage: ${Be} (${prependCode($e)})`),this.status_=Ue,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rg.prototype)}get status(){return this.status_}set status($e){this.status_=$e}_codeEquals($e){return prependCode($e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse($e){this.customData.serverResponse=$e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var StorageErrorCode;(function(Ve){Ve.UNKNOWN="unknown",Ve.OBJECT_NOT_FOUND="object-not-found",Ve.BUCKET_NOT_FOUND="bucket-not-found",Ve.PROJECT_NOT_FOUND="project-not-found",Ve.QUOTA_EXCEEDED="quota-exceeded",Ve.UNAUTHENTICATED="unauthenticated",Ve.UNAUTHORIZED="unauthorized",Ve.UNAUTHORIZED_APP="unauthorized-app",Ve.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ve.INVALID_CHECKSUM="invalid-checksum",Ve.CANCELED="canceled",Ve.INVALID_EVENT_NAME="invalid-event-name",Ve.INVALID_URL="invalid-url",Ve.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ve.NO_DEFAULT_BUCKET="no-default-bucket",Ve.CANNOT_SLICE_BLOB="cannot-slice-blob",Ve.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ve.NO_DOWNLOAD_URL="no-download-url",Ve.INVALID_ARGUMENT="invalid-argument",Ve.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ve.APP_DELETED="app-deleted",Ve.INVALID_ROOT_OPERATION="invalid-root-operation",Ve.INVALID_FORMAT="invalid-format",Ve.INTERNAL_ERROR="internal-error",Ve.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(Ve){return"storage/"+Ve}function unknown(){const Ve="An unknown error occurred, please check the error payload for server response.";return new StorageError$1(StorageErrorCode.UNKNOWN,Ve)}function retryLimitExceeded(){return new StorageError$1(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError$1(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(Ve){return new StorageError$1(StorageErrorCode.INVALID_URL,"Invalid URL '"+Ve+"'.")}function invalidDefaultBucket(Ve){return new StorageError$1(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Ve+"'.")}function invalidArgument$1(Ve){return new StorageError$1(StorageErrorCode.INVALID_ARGUMENT,Ve)}function appDeleted(){return new StorageError$1(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(Ve){return new StorageError$1(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+Ve+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor($e,Be){this.bucket=$e,this.path_=Be}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const $e=encodeURIComponent;return"/b/"+$e(this.bucket)+"/o/"+$e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec($e,Be){let Ue;try{Ue=Location.makeFromUrl($e,Be)}catch{return new Location($e,"")}if(Ue.path==="")return Ue;throw invalidDefaultBucket($e)}static makeFromUrl($e,Be){let Ue=null;const ze="([A-Za-z0-9.\\-_]+)";function qe(cr){cr.path.charAt(cr.path.length-1)==="/"&&(cr.path_=cr.path_.slice(0,-1))}const He="(/(.*))?$",We=new RegExp("^gs://"+ze+He,"i"),Ge={bucket:1,path:3};function Ye(cr){cr.path_=decodeURIComponent(cr.path)}const Xe="v[A-Za-z0-9_]+",Je=Be.replace(/[.]/g,"\\."),er="(/([^?#]*).*)?$",Ze=new RegExp(`^https?://${Je}/${Xe}/b/${ze}/o${er}`,"i"),rr={bucket:1,path:3},nr=Be===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":Be,ar="([^?#]*)",sr=new RegExp(`^https?://${nr}/${ze}/${ar}`,"i"),or=[{regex:We,indices:Ge,postModify:qe},{regex:Ze,indices:rr,postModify:Ye},{regex:sr,indices:{bucket:1,path:2},postModify:Ye}];for(let cr=0;cr<or.length;cr++){const hr=or[cr],yr=hr.regex.exec($e);if(yr){const mr=yr[hr.indices.bucket];let vr=yr[hr.indices.path];vr||(vr=""),Ue=new Location(mr,vr),hr.postModify(Ue);break}}if(Ue==null)throw invalidUrl($e);return Ue}}class FailRequest{constructor($e){this.promise_=Promise.reject($e)}getPromise(){return this.promise_}cancel($e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(Ve,$e,Be){let Ue=1,ze=null,qe=null,He=!1,We=0;function Ge(){return We===2}let Ye=!1;function Xe(...ar){Ye||(Ye=!0,$e.apply(null,ar))}function Je(ar){ze=setTimeout(()=>{ze=null,Ve(Ze,Ge())},ar)}function er(){qe&&clearTimeout(qe)}function Ze(ar,...sr){if(Ye){er();return}if(ar){er(),Xe.call(null,ar,...sr);return}if(Ge()||He){er(),Xe.call(null,ar,...sr);return}Ue<64&&(Ue*=2);let or;We===1?(We=2,or=0):or=(Ue+Math.random())*1e3,Je(or)}let rr=!1;function nr(ar){rr||(rr=!0,er(),!Ye&&(ze!==null?(ar||(We=2),clearTimeout(ze),Je(0)):ar||(We=1)))}return Je(0),qe=setTimeout(()=>{He=!0,nr(!0)},Be),nr}function stop(Ve){Ve(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(Ve){return Ve!==void 0}function validateNumber(Ve,$e,Be,Ue){if(Ue<$e)throw invalidArgument$1(`Invalid value for '${Ve}'. Expected ${$e} or greater.`);if(Ue>Be)throw invalidArgument$1(`Invalid value for '${Ve}'. Expected ${Be} or less.`)}function makeQueryString(Ve){const $e=encodeURIComponent;let Be="?";for(const Ue in Ve)if(Ve.hasOwnProperty(Ue)){const ze=$e(Ue)+"="+$e(Ve[Ue]);Be=Be+ze+"&"}return Be=Be.slice(0,-1),Be}var ErrorCode;(function(Ve){Ve[Ve.NO_ERROR=0]="NO_ERROR",Ve[Ve.NETWORK_ERROR=1]="NETWORK_ERROR",Ve[Ve.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(Ve,$e){const Be=Ve>=500&&Ve<600,ze=[408,429].indexOf(Ve)!==-1,qe=$e.indexOf(Ve)!==-1;return Be||ze||qe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor($e,Be,Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er=!0,Ze=!1){this.url_=$e,this.method_=Be,this.headers_=Ue,this.body_=ze,this.successCodes_=qe,this.additionalRetryCodes_=He,this.callback_=We,this.errorCallback_=Ge,this.timeout_=Ye,this.progressCallback_=Xe,this.connectionFactory_=Je,this.retry=er,this.isUsingEmulator=Ze,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((rr,nr)=>{this.resolve_=rr,this.reject_=nr,this.start_()})}start_(){const $e=(Ue,ze)=>{if(ze){Ue(!1,new RequestEndStatus(!1,null,!0));return}const qe=this.connectionFactory_();this.pendingConnection_=qe;const He=We=>{const Ge=We.loaded,Ye=We.lengthComputable?We.total:-1;this.progressCallback_!==null&&this.progressCallback_(Ge,Ye)};this.progressCallback_!==null&&qe.addUploadProgressListener(He),qe.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&qe.removeUploadProgressListener(He),this.pendingConnection_=null;const We=qe.getErrorCode()===ErrorCode.NO_ERROR,Ge=qe.getStatus();if(!We||isRetryStatusCode(Ge,this.additionalRetryCodes_)&&this.retry){const Xe=qe.getErrorCode()===ErrorCode.ABORT;Ue(!1,new RequestEndStatus(!1,null,Xe));return}const Ye=this.successCodes_.indexOf(Ge)!==-1;Ue(!0,new RequestEndStatus(Ye,qe))})},Be=(Ue,ze)=>{const qe=this.resolve_,He=this.reject_,We=ze.connection;if(ze.wasSuccessCode)try{const Ge=this.callback_(We,We.getResponse());isJustDef(Ge)?qe(Ge):qe()}catch(Ge){He(Ge)}else if(We!==null){const Ge=unknown();Ge.serverResponse=We.getErrorText(),this.errorCallback_?He(this.errorCallback_(We,Ge)):He(Ge)}else if(ze.canceled){const Ge=this.appDelete_?appDeleted():canceled();He(Ge)}else{const Ge=retryLimitExceeded();He(Ge)}};this.canceled_?Be(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start($e,Be,this.timeout_)}getPromise(){return this.promise_}cancel($e){this.canceled_=!0,this.appDelete_=$e||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor($e,Be,Ue){this.wasSuccessCode=$e,this.connection=Be,this.canceled=!!Ue}}function addAuthHeader_(Ve,$e){$e!==null&&$e.length>0&&(Ve.Authorization="Firebase "+$e)}function addVersionHeader_(Ve,$e){Ve["X-Firebase-Storage-Version"]="webjs/"+($e??"AppManager")}function addGmpidHeader_(Ve,$e){$e&&(Ve["X-Firebase-GMPID"]=$e)}function addAppCheckHeader_(Ve,$e){$e!==null&&(Ve["X-Firebase-AppCheck"]=$e)}function makeRequest(Ve,$e,Be,Ue,ze,qe,He=!0,We=!1){const Ge=makeQueryString(Ve.urlParams),Ye=Ve.url+Ge,Xe=Object.assign({},Ve.headers);return addGmpidHeader_(Xe,$e),addAuthHeader_(Xe,Be),addVersionHeader_(Xe,qe),addAppCheckHeader_(Xe,Ue),new NetworkRequest(Ye,Ve.method,Xe,Ve.body,Ve.successCodes,Ve.additionalRetryCodes,Ve.handler,Ve.errorHandler,Ve.timeout,Ve.progressCallback,ze,He,We)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(Ve){if(Ve.length===0)return null;const $e=Ve.lastIndexOf("/");return $e===-1?"":Ve.slice(0,$e)}function lastComponent(Ve){const $e=Ve.lastIndexOf("/",Ve.length-2);return $e===-1?Ve:Ve.slice($e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor($e,Be){this._service=$e,Be instanceof Location?this._location=Be:this._location=Location.makeFromUrl(Be,$e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef($e,Be){return new Reference($e,Be)}get root(){const $e=new Location(this._location.bucket,"");return this._newRef(this._service,$e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const $e=parent(this._location.path);if($e===null)return null;const Be=new Location(this._location.bucket,$e);return new Reference(this._service,Be)}_throwIfRoot($e){if(this._location.path==="")throw invalidRootOperation($e)}}function extractBucket(Ve,$e){const Be=$e?.[CONFIG_STORAGE_BUCKET_KEY];return Be==null?null:Location.makeFromBucketSpec(Be,Ve)}function connectStorageEmulator$1(Ve,$e,Be,Ue={}){Ve.host=`${$e}:${Be}`;const ze=isCloudWorkstation($e);ze&&(pingServer(`https://${Ve.host}/b`),updateEmulatorBanner("Storage",!0)),Ve._isUsingEmulator=!0,Ve._protocol=ze?"https":"http";const{mockUserToken:qe}=Ue;qe&&(Ve._overrideAuthToken=typeof qe=="string"?qe:createMockUserToken(qe,Ve.app.options.projectId))}class FirebaseStorageImpl{constructor($e,Be,Ue,ze,qe,He=!1){this.app=$e,this._authProvider=Be,this._appCheckProvider=Ue,this._url=ze,this._firebaseVersion=qe,this._isUsingEmulator=He,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,ze!=null?this._bucket=Location.makeFromBucketSpec(ze,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host($e){this._host=$e,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,$e):this._bucket=extractBucket($e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime($e){validateNumber("time",0,Number.POSITIVE_INFINITY,$e),this._maxUploadRetryTime=$e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime($e){validateNumber("time",0,Number.POSITIVE_INFINITY,$e),this._maxOperationRetryTime=$e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const $e=this._authProvider.getImmediate({optional:!0});if($e){const Be=await $e.getToken();if(Be!==null)return Be.accessToken}return null}async _getAppCheckToken(){if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const $e=this._appCheckProvider.getImmediate({optional:!0});return $e?(await $e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach($e=>$e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference($e){return new Reference(this,$e)}_makeRequest($e,Be,Ue,ze,qe=!0){if(this._deleted)return new FailRequest(appDeleted());{const He=makeRequest($e,this._appId,Ue,ze,Be,this._firebaseVersion,qe,this._isUsingEmulator);return this._requests.add(He),He.getPromise().then(()=>this._requests.delete(He),()=>this._requests.delete(He)),He}}async makeRequestWithTokens($e,Be){const[Ue,ze]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest($e,Be,Ue,ze).getPromise()}}const name$3="@firebase/storage",version$7="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function getStorage(Ve=getApp(),$e){Ve=getModularInstance(Ve);const Ue=_getProvider(Ve,STORAGE_TYPE).getImmediate({identifier:$e}),ze=getDefaultEmulatorHostnameAndPort("storage");return ze&&connectStorageEmulator(Ue,...ze),Ue}function connectStorageEmulator(Ve,$e,Be,Ue={}){connectStorageEmulator$1(Ve,$e,Be,Ue)}function factory$1(Ve,{instanceIdentifier:$e}){const Be=Ve.getProvider("app").getImmediate(),Ue=Ve.getProvider("auth-internal"),ze=Ve.getProvider("app-check-internal");return new FirebaseStorageImpl(Be,Ue,ze,$e,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory$1,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$3,version$7,""),registerVersion(name$3,version$7,"esm2020")}registerStorage();const name$2="@firebase/installations",version$6="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$6}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=3600*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(Ve){return Ve instanceof FirebaseError&&Ve.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:Ve}){return`${INSTALLATIONS_API_URL}/projects/${Ve}/installations`}function extractAuthTokenInfoFromResponse(Ve){return{token:Ve.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(Ve.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(Ve,$e){const Ue=(await $e.json()).error;return ERROR_FACTORY$1.create("request-failed",{requestName:Ve,serverCode:Ue.code,serverMessage:Ue.message,serverStatus:Ue.status})}function getHeaders$1({apiKey:Ve}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ve})}function getHeadersWithAuth(Ve,{refreshToken:$e}){const Be=getHeaders$1(Ve);return Be.append("Authorization",getAuthorizationHeader($e)),Be}async function retryIfServerError(Ve){const $e=await Ve();return $e.status>=500&&$e.status<600?Ve():$e}function getExpiresInFromResponseExpiresIn(Ve){return Number(Ve.replace("s","000"))}function getAuthorizationHeader(Ve){return`${INTERNAL_AUTH_VERSION} ${Ve}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:Ve,heartbeatServiceProvider:$e},{fid:Be}){const Ue=getInstallationsEndpoint(Ve),ze=getHeaders$1(Ve),qe=$e.getImmediate({optional:!0});if(qe){const Ye=await qe.getHeartbeatsHeader();Ye&&ze.append("x-firebase-client",Ye)}const He={fid:Be,authVersion:INTERNAL_AUTH_VERSION,appId:Ve.appId,sdkVersion:PACKAGE_VERSION},We={method:"POST",headers:ze,body:JSON.stringify(He)},Ge=await retryIfServerError(()=>fetch(Ue,We));if(Ge.ok){const Ye=await Ge.json();return{fid:Ye.fid||Be,registrationStatus:2,refreshToken:Ye.refreshToken,authToken:extractAuthTokenInfoFromResponse(Ye.authToken)}}else throw await getErrorFromResponse("Create Installation",Ge)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep$1(Ve){return new Promise($e=>{setTimeout($e,Ve)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(Ve){return btoa(String.fromCharCode(...Ve)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const Ve=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ve),Ve[0]=112+Ve[0]%16;const Be=encode$1(Ve);return VALID_FID_PATTERN.test(Be)?Be:INVALID_FID}catch{return INVALID_FID}}function encode$1(Ve){return bufferToBase64UrlSafe(Ve).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey(Ve){return`${Ve.appName}!${Ve.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(Ve,$e){const Be=getKey(Ve);callFidChangeCallbacks(Be,$e),broadcastFidChange(Be,$e)}function callFidChangeCallbacks(Ve,$e){const Be=fidChangeCallbacks.get(Ve);if(Be)for(const Ue of Be)Ue($e)}function broadcastFidChange(Ve,$e){const Be=getBroadcastChannel();Be&&Be.postMessage({key:Ve,fid:$e}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=Ve=>{callFidChangeCallbacks(Ve.data.key,Ve.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-installations-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-installations-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(Ve,$e)=>{switch($e){case 0:Ve.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function set$1(Ve,$e){const Be=getKey(Ve),ze=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),qe=ze.objectStore(OBJECT_STORE_NAME),He=await qe.get(Be);return await qe.put($e,Be),await ze.done,(!He||He.fid!==$e.fid)&&fidChanged(Ve,$e.fid),$e}async function remove$1(Ve){const $e=getKey(Ve),Ue=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await Ue.objectStore(OBJECT_STORE_NAME).delete($e),await Ue.done}async function update(Ve,$e){const Be=getKey(Ve),ze=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),qe=ze.objectStore(OBJECT_STORE_NAME),He=await qe.get(Be),We=$e(He);return We===void 0?await qe.delete(Be):await qe.put(We,Be),await ze.done,We&&(!He||He.fid!==We.fid)&&fidChanged(Ve,We.fid),We}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(Ve){let $e;const Be=await update(Ve.appConfig,Ue=>{const ze=updateOrCreateInstallationEntry(Ue),qe=triggerRegistrationIfNecessary(Ve,ze);return $e=qe.registrationPromise,qe.installationEntry});return Be.fid===INVALID_FID?{installationEntry:await $e}:{installationEntry:Be,registrationPromise:$e}}function updateOrCreateInstallationEntry(Ve){const $e=Ve||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest($e)}function triggerRegistrationIfNecessary(Ve,$e){if($e.registrationStatus===0){if(!navigator.onLine){const ze=Promise.reject(ERROR_FACTORY$1.create("app-offline"));return{installationEntry:$e,registrationPromise:ze}}const Be={fid:$e.fid,registrationStatus:1,registrationTime:Date.now()},Ue=registerInstallation(Ve,Be);return{installationEntry:Be,registrationPromise:Ue}}else return $e.registrationStatus===1?{installationEntry:$e,registrationPromise:waitUntilFidRegistration(Ve)}:{installationEntry:$e}}async function registerInstallation(Ve,$e){try{const Be=await createInstallationRequest(Ve,$e);return set$1(Ve.appConfig,Be)}catch(Be){throw isServerError(Be)&&Be.customData.serverCode===409?await remove$1(Ve.appConfig):await set$1(Ve.appConfig,{fid:$e.fid,registrationStatus:0}),Be}}async function waitUntilFidRegistration(Ve){let $e=await updateInstallationRequest(Ve.appConfig);for(;$e.registrationStatus===1;)await sleep$1(100),$e=await updateInstallationRequest(Ve.appConfig);if($e.registrationStatus===0){const{installationEntry:Be,registrationPromise:Ue}=await getInstallationEntry(Ve);return Ue||Be}return $e}function updateInstallationRequest(Ve){return update(Ve,$e=>{if(!$e)throw ERROR_FACTORY$1.create("installation-not-found");return clearTimedOutRequest($e)})}function clearTimedOutRequest(Ve){return hasInstallationRequestTimedOut(Ve)?{fid:Ve.fid,registrationStatus:0}:Ve}function hasInstallationRequestTimedOut(Ve){return Ve.registrationStatus===1&&Ve.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:Ve,heartbeatServiceProvider:$e},Be){const Ue=getGenerateAuthTokenEndpoint(Ve,Be),ze=getHeadersWithAuth(Ve,Be),qe=$e.getImmediate({optional:!0});if(qe){const Ye=await qe.getHeartbeatsHeader();Ye&&ze.append("x-firebase-client",Ye)}const He={installation:{sdkVersion:PACKAGE_VERSION,appId:Ve.appId}},We={method:"POST",headers:ze,body:JSON.stringify(He)},Ge=await retryIfServerError(()=>fetch(Ue,We));if(Ge.ok){const Ye=await Ge.json();return extractAuthTokenInfoFromResponse(Ye)}else throw await getErrorFromResponse("Generate Auth Token",Ge)}function getGenerateAuthTokenEndpoint(Ve,{fid:$e}){return`${getInstallationsEndpoint(Ve)}/${$e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(Ve,$e=!1){let Be;const Ue=await update(Ve.appConfig,qe=>{if(!isEntryRegistered(qe))throw ERROR_FACTORY$1.create("not-registered");const He=qe.authToken;if(!$e&&isAuthTokenValid(He))return qe;if(He.requestStatus===1)return Be=waitUntilAuthTokenRequest(Ve,$e),qe;{if(!navigator.onLine)throw ERROR_FACTORY$1.create("app-offline");const We=makeAuthTokenRequestInProgressEntry(qe);return Be=fetchAuthTokenFromServer(Ve,We),We}});return Be?await Be:Ue.authToken}async function waitUntilAuthTokenRequest(Ve,$e){let Be=await updateAuthTokenRequest(Ve.appConfig);for(;Be.authToken.requestStatus===1;)await sleep$1(100),Be=await updateAuthTokenRequest(Ve.appConfig);const Ue=Be.authToken;return Ue.requestStatus===0?refreshAuthToken(Ve,$e):Ue}function updateAuthTokenRequest(Ve){return update(Ve,$e=>{if(!isEntryRegistered($e))throw ERROR_FACTORY$1.create("not-registered");const Be=$e.authToken;return hasAuthTokenRequestTimedOut(Be)?{...$e,authToken:{requestStatus:0}}:$e})}async function fetchAuthTokenFromServer(Ve,$e){try{const Be=await generateAuthTokenRequest(Ve,$e),Ue={...$e,authToken:Be};return await set$1(Ve.appConfig,Ue),Be}catch(Be){if(isServerError(Be)&&(Be.customData.serverCode===401||Be.customData.serverCode===404))await remove$1(Ve.appConfig);else{const Ue={...$e,authToken:{requestStatus:0}};await set$1(Ve.appConfig,Ue)}throw Be}}function isEntryRegistered(Ve){return Ve!==void 0&&Ve.registrationStatus===2}function isAuthTokenValid(Ve){return Ve.requestStatus===2&&!isAuthTokenExpired(Ve)}function isAuthTokenExpired(Ve){const $e=Date.now();return $e<Ve.creationTime||Ve.creationTime+Ve.expiresIn<$e+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(Ve){const $e={requestStatus:1,requestTime:Date.now()};return{...Ve,authToken:$e}}function hasAuthTokenRequestTimedOut(Ve){return Ve.requestStatus===1&&Ve.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(Ve){const $e=Ve,{installationEntry:Be,registrationPromise:Ue}=await getInstallationEntry($e);return Ue?Ue.catch(console.error):refreshAuthToken($e).catch(console.error),Be.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken(Ve,$e=!1){const Be=Ve;return await completeInstallationRegistration(Be),(await refreshAuthToken(Be,$e)).token}async function completeInstallationRegistration(Ve){const{registrationPromise:$e}=await getInstallationEntry(Ve);$e&&await $e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(Ve){if(!Ve||!Ve.options)throw getMissingValueError("App Configuration");if(!Ve.name)throw getMissingValueError("App Name");const $e=["projectId","apiKey","appId"];for(const Be of $e)if(!Ve.options[Be])throw getMissingValueError(Be);return{appName:Ve.name,projectId:Ve.options.projectId,apiKey:Ve.options.apiKey,appId:Ve.options.appId}}function getMissingValueError(Ve){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:Ve})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=Ve=>{const $e=Ve.getProvider("app").getImmediate(),Be=extractAppConfig($e),Ue=_getProvider($e,"heartbeat");return{app:$e,appConfig:Be,heartbeatServiceProvider:Ue,_delete:()=>Promise.resolve()}},internalFactory=Ve=>{const $e=Ve.getProvider("app").getImmediate(),Be=_getProvider($e,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(Be),getToken:ze=>getToken(Be,ze)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$2,version$6);registerVersion(name$2,version$6,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(Ve){if(!Ve.startsWith(GTAG_URL)){const $e=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:Ve});return logger.warn($e.message),""}return Ve}function promiseAllSettled(Ve){return Promise.all(Ve.map($e=>$e.catch(Be=>Be)))}function createTrustedTypesPolicy(Ve,$e){let Be;return window.trustedTypes&&(Be=window.trustedTypes.createPolicy(Ve,$e)),Be}function insertScriptTag(Ve,$e){const Be=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),Ue=document.createElement("script"),ze=`${GTAG_URL}?l=${Ve}&id=${$e}`;Ue.src=Be?Be?.createScriptURL(ze):ze,Ue.async=!0,document.head.appendChild(Ue)}function getOrCreateDataLayer(Ve){let $e=[];return Array.isArray(window[Ve])?$e=window[Ve]:window[Ve]=$e,$e}async function gtagOnConfig(Ve,$e,Be,Ue,ze,qe){const He=Ue[ze];try{if(He)await $e[He];else{const Ge=(await promiseAllSettled(Be)).find(Ye=>Ye.measurementId===ze);Ge&&await $e[Ge.appId]}}catch(We){logger.error(We)}Ve("config",ze,qe)}async function gtagOnEvent(Ve,$e,Be,Ue,ze){try{let qe=[];if(ze&&ze.send_to){let He=ze.send_to;Array.isArray(He)||(He=[He]);const We=await promiseAllSettled(Be);for(const Ge of He){const Ye=We.find(Je=>Je.measurementId===Ge),Xe=Ye&&$e[Ye.appId];if(Xe)qe.push(Xe);else{qe=[];break}}}qe.length===0&&(qe=Object.values($e)),await Promise.all(qe),Ve("event",Ue,ze||{})}catch(qe){logger.error(qe)}}function wrapGtag(Ve,$e,Be,Ue){async function ze(qe,...He){try{if(qe==="event"){const[We,Ge]=He;await gtagOnEvent(Ve,$e,Be,We,Ge)}else if(qe==="config"){const[We,Ge]=He;await gtagOnConfig(Ve,$e,Be,Ue,We,Ge)}else if(qe==="consent"){const[We,Ge]=He;Ve("consent",We,Ge)}else if(qe==="get"){const[We,Ge,Ye]=He;Ve("get",We,Ge,Ye)}else if(qe==="set"){const[We]=He;Ve("set",We)}else Ve(qe,...He)}catch(We){logger.error(We)}}return ze}function wrapOrCreateGtag(Ve,$e,Be,Ue,ze){let qe=function(...He){window[Ue].push(arguments)};return window[ze]&&typeof window[ze]=="function"&&(qe=window[ze]),window[ze]=wrapGtag(qe,Ve,$e,Be),{gtagCore:qe,wrappedGtag:window[ze]}}function findGtagScriptOnPage(Ve){const $e=window.document.getElementsByTagName("script");for(const Be of Object.values($e))if(Be.src&&Be.src.includes(GTAG_URL)&&Be.src.includes(Ve))return Be;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor($e={},Be=BASE_INTERVAL_MILLIS){this.throttleMetadata=$e,this.intervalMillis=Be}getThrottleMetadata($e){return this.throttleMetadata[$e]}setThrottleMetadata($e,Be){this.throttleMetadata[$e]=Be}deleteThrottleMetadata($e){delete this.throttleMetadata[$e]}}const defaultRetryData=new RetryData;function getHeaders(Ve){return new Headers({Accept:"application/json","x-goog-api-key":Ve})}async function fetchDynamicConfig(Ve){const{appId:$e,apiKey:Be}=Ve,Ue={method:"GET",headers:getHeaders(Be)},ze=DYNAMIC_CONFIG_URL.replace("{app-id}",$e),qe=await fetch(ze,Ue);if(qe.status!==200&&qe.status!==304){let He="";try{const We=await qe.json();We.error?.message&&(He=We.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:qe.status,responseMessage:He})}return qe.json()}async function fetchDynamicConfigWithRetry(Ve,$e=defaultRetryData,Be){const{appId:Ue,apiKey:ze,measurementId:qe}=Ve.options;if(!Ue)throw ERROR_FACTORY.create("no-app-id");if(!ze){if(qe)return{measurementId:qe,appId:Ue};throw ERROR_FACTORY.create("no-api-key")}const He=$e.getThrottleMetadata(Ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new AnalyticsAbortSignal;return setTimeout(async()=>{We.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:Ue,apiKey:ze,measurementId:qe},He,We,$e)}async function attemptFetchDynamicConfigWithRetry(Ve,{throttleEndTimeMillis:$e,backoffCount:Be},Ue,ze=defaultRetryData){const{appId:qe,measurementId:He}=Ve;try{await setAbortableTimeout(Ue,$e)}catch(We){if(He)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${He} provided in the "measurementId" field in the local Firebase config. [${We?.message}]`),{appId:qe,measurementId:He};throw We}try{const We=await fetchDynamicConfig(Ve);return ze.deleteThrottleMetadata(qe),We}catch(We){const Ge=We;if(!isRetriableError(Ge)){if(ze.deleteThrottleMetadata(qe),He)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${He} provided in the "measurementId" field in the local Firebase config. [${Ge?.message}]`),{appId:qe,measurementId:He};throw We}const Ye=Number(Ge?.customData?.httpStatus)===503?calculateBackoffMillis(Be,ze.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(Be,ze.intervalMillis),Xe={throttleEndTimeMillis:Date.now()+Ye,backoffCount:Be+1};return ze.setThrottleMetadata(qe,Xe),logger.debug(`Calling attemptFetch again in ${Ye} millis`),attemptFetchDynamicConfigWithRetry(Ve,Xe,Ue,ze)}}function setAbortableTimeout(Ve,$e){return new Promise((Be,Ue)=>{const ze=Math.max($e-Date.now(),0),qe=setTimeout(Be,ze);Ve.addEventListener(()=>{clearTimeout(qe),Ue(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:$e}))})})}function isRetriableError(Ve){if(!(Ve instanceof FirebaseError)||!Ve.customData)return!1;const $e=Number(Ve.customData.httpStatus);return $e===429||$e===500||$e===503||$e===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener($e){this.listeners.push($e)}abort(){this.listeners.forEach($e=>$e())}}async function logEvent$1(Ve,$e,Be,Ue,ze){if(ze&&ze.global){Ve("event",Be,Ue);return}else{const qe=await $e,He={...Ue,send_to:qe};Ve("event",Be,He)}}async function setUserProperties$1(Ve,$e,Be,Ue){if(Ue&&Ue.global){const ze={};for(const qe of Object.keys(Be))ze[`user_properties.${qe}`]=Be[qe];return Ve("set",ze),Promise.resolve()}else{const ze=await $e;Ve("config",ze,{update:!0,user_properties:Be})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(Ve){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:Ve?.toString()}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(Ve,$e,Be,Ue,ze,qe,He){const We=fetchDynamicConfigWithRetry(Ve);We.then(er=>{Be[er.measurementId]=er.appId,Ve.options.measurementId&&er.measurementId!==Ve.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${Ve.options.measurementId}) does not match the measurement ID fetched from the server (${er.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(er=>logger.error(er)),$e.push(We);const Ge=validateIndexedDB().then(er=>{if(er)return Ue.getId()}),[Ye,Xe]=await Promise.all([We,Ge]);findGtagScriptOnPage(qe)||insertScriptTag(qe,Ye.measurementId),ze("js",new Date);const Je=He?.config??{};return Je[ORIGIN_KEY]="firebase",Je.update=!0,Xe!=null&&(Je[GA_FID_KEY]=Xe),ze("config",Ye.measurementId,Je),Ye.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor($e){this.app=$e}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const Ve=[];if(isBrowserExtension()&&Ve.push("This is a browser extension environment."),areCookiesEnabled()||Ve.push("Cookies are not available."),Ve.length>0){const $e=Ve.map((Ue,ze)=>`(${ze+1}) ${Ue}`).join(" "),Be=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:$e});logger.warn(Be.message)}}function factory(Ve,$e,Be){warnOnBrowserContextMismatch();const Ue=Ve.options.appId;if(!Ue)throw ERROR_FACTORY.create("no-app-id");if(!Ve.options.apiKey)if(Ve.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ve.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[Ue]!=null)throw ERROR_FACTORY.create("already-exists",{id:Ue});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:qe,gtagCore:He}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=qe,gtagCoreFunction=He,globalInitDone=!0}return initializationPromisesMap[Ue]=_initializeAnalytics(Ve,dynamicConfigPromisesList,measurementIdToAppId,$e,gtagCoreFunction,dataLayerName,Be),new AnalyticsService(Ve)}function getAnalytics(Ve=getApp()){Ve=getModularInstance(Ve);const $e=_getProvider(Ve,ANALYTICS_TYPE);return $e.isInitialized()?$e.getImmediate():initializeAnalytics(Ve)}function initializeAnalytics(Ve,$e={}){const Be=_getProvider(Ve,ANALYTICS_TYPE);if(Be.isInitialized()){const ze=Be.getImmediate();if(deepEqual($e,Be.getOptions()))return ze;throw ERROR_FACTORY.create("already-initialized")}return Be.initialize({options:$e})}function setUserProperties(Ve,$e,Be){Ve=getModularInstance(Ve),setUserProperties$1(wrappedGtagFunction,initializationPromisesMap[Ve.app.options.appId],$e,Be).catch(Ue=>logger.error(Ue))}function logEvent(Ve,$e,Be,Ue){Ve=getModularInstance(Ve),logEvent$1(wrappedGtagFunction,initializationPromisesMap[Ve.app.options.appId],$e,Be,Ue).catch(ze=>logger.error(ze))}const name$1="@firebase/analytics",version$5="0.10.19";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,($e,{options:Be})=>{const Ue=$e.getProvider("app").getImmediate(),ze=$e.getProvider("installations-internal").getImmediate();return factory(Ue,ze,Be)},"PUBLIC")),_registerComponent(new Component("analytics-internal",Ve,"PRIVATE")),registerVersion(name$1,version$5),registerVersion(name$1,version$5,"esm2020");function Ve($e){try{const Be=$e.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(Ue,ze,qe)=>logEvent(Be,Ue,ze,qe),setUserProperties:(Ue,ze)=>setUserProperties(Be,Ue,ze)}}catch(Be){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:Be})}}}registerAnalytics();function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(Ve,...$e){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${Ve}`,...$e)}function _logError(Ve,...$e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${Ve}`,...$e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(Ve,...$e){throw createErrorInternal(Ve,...$e)}function _createError(Ve,...$e){return createErrorInternal(Ve,...$e)}function _errorWithCustomMessage(Ve,$e,Be){const Ue={...prodErrorMap(),[$e]:Be};return new ErrorFactory("auth","Firebase",Ue).create($e,{appName:Ve.name})}function _serverAppCurrentUserOperationNotSupportedError(Ve){return _errorWithCustomMessage(Ve,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(Ve,...$e){if(typeof Ve!="string"){const Be=$e[0],Ue=[...$e.slice(1)];return Ue[0]&&(Ue[0].appName=Ve.name),Ve._errorFactory.create(Be,...Ue)}return _DEFAULT_AUTH_ERROR_FACTORY.create(Ve,...$e)}function _assert(Ve,$e,...Be){if(!Ve)throw createErrorInternal($e,...Be)}function debugFail(Ve){const $e="INTERNAL ASSERTION FAILED: "+Ve;throw _logError($e),new Error($e)}function debugAssert(Ve,$e){Ve||debugFail($e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){return typeof self<"u"&&self.location?.href||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const Ve=navigator;return Ve.languages&&Ve.languages[0]||Ve.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor($e,Be){this.shortDelay=$e,this.longDelay=Be,debugAssert(Be>$e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative$1()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(Ve,$e){debugAssert(Ve.emulator,"Emulator should always be set here");const{url:Be}=Ve.emulator;return $e?`${Be}${$e.startsWith("/")?$e.slice(1):$e}`:Be}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize($e,Be,Ue){this.fetchImpl=$e,Be&&(this.headersImpl=Be),Ue&&(this.responseImpl=Ue)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CookieAuthProxiedEndpoints=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(Ve,$e){return Ve.tenantId&&!$e.tenantId?{...$e,tenantId:Ve.tenantId}:$e}async function _performApiRequest(Ve,$e,Be,Ue,ze={}){return _performFetchWithErrorHandling(Ve,ze,async()=>{let qe={},He={};Ue&&($e==="GET"?He=Ue:qe={body:JSON.stringify(Ue)});const We=querystring({key:Ve.config.apiKey,...He}).slice(1),Ge=await Ve._getAdditionalHeaders();Ge["Content-Type"]="application/json",Ve.languageCode&&(Ge["X-Firebase-Locale"]=Ve.languageCode);const Ye={method:$e,headers:Ge,...qe};return isCloudflareWorker()||(Ye.referrerPolicy="no-referrer"),Ve.emulatorConfig&&isCloudWorkstation(Ve.emulatorConfig.host)&&(Ye.credentials="include"),FetchProvider.fetch()(await _getFinalTarget(Ve,Ve.config.apiHost,Be,We),Ye)})}async function _performFetchWithErrorHandling(Ve,$e,Be){Ve._canInitEmulator=!1;const Ue={...SERVER_ERROR_MAP,...$e};try{const ze=new NetworkTimeout(Ve),qe=await Promise.race([Be(),ze.promise]);ze.clearNetworkTimeout();const He=await qe.json();if("needConfirmation"in He)throw _makeTaggedError(Ve,"account-exists-with-different-credential",He);if(qe.ok&&!("errorMessage"in He))return He;{const We=qe.ok?He.errorMessage:He.error.message,[Ge,Ye]=We.split(" : ");if(Ge==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(Ve,"credential-already-in-use",He);if(Ge==="EMAIL_EXISTS")throw _makeTaggedError(Ve,"email-already-in-use",He);if(Ge==="USER_DISABLED")throw _makeTaggedError(Ve,"user-disabled",He);const Xe=Ue[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw _errorWithCustomMessage(Ve,Xe,Ye);_fail(Ve,Xe)}}catch(ze){if(ze instanceof FirebaseError)throw ze;_fail(Ve,"network-request-failed",{message:String(ze)})}}async function _performSignInRequest(Ve,$e,Be,Ue,ze={}){const qe=await _performApiRequest(Ve,$e,Be,Ue,ze);return"mfaPendingCredential"in qe&&_fail(Ve,"multi-factor-auth-required",{_serverResponse:qe}),qe}async function _getFinalTarget(Ve,$e,Be,Ue){const ze=`${$e}${Be}?${Ue}`,qe=Ve,He=qe.config.emulator?_emulatorUrl(Ve.config,ze):`${Ve.config.apiScheme}://${ze}`;return CookieAuthProxiedEndpoints.includes(Be)&&(await qe._persistenceManagerAvailable,qe._getPersistenceType()==="COOKIE")?qe._getPersistence()._getFinalTarget(He).toString():He}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor($e){this.auth=$e,this.timer=null,this.promise=new Promise((Be,Ue)=>{this.timer=setTimeout(()=>Ue(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(Ve,$e,Be){const Ue={appName:Ve.name};Be.email&&(Ue.email=Be.email),Be.phoneNumber&&(Ue.phoneNumber=Be.phoneNumber);const ze=_createError(Ve,$e,Ue);return ze.customData._tokenResponse=Be,ze}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(Ve,$e){return _performApiRequest(Ve,"POST","/v1/accounts:delete",$e)}async function getAccountInfo(Ve,$e){return _performApiRequest(Ve,"POST","/v1/accounts:lookup",$e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(Ve){if(Ve)try{const $e=new Date(Number(Ve));if(!isNaN($e.getTime()))return $e.toUTCString()}catch{}}async function getIdTokenResult(Ve,$e=!1){const Be=getModularInstance(Ve),Ue=await Be.getIdToken($e),ze=_parseToken(Ue);_assert(ze&&ze.exp&&ze.auth_time&&ze.iat,Be.auth,"internal-error");const qe=typeof ze.firebase=="object"?ze.firebase:void 0,He=qe?.sign_in_provider;return{claims:ze,token:Ue,authTime:utcTimestampToDateString(secondsStringToMilliseconds(ze.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(ze.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(ze.exp)),signInProvider:He||null,signInSecondFactor:qe?.sign_in_second_factor||null}}function secondsStringToMilliseconds(Ve){return Number(Ve)*1e3}function _parseToken(Ve){const[$e,Be,Ue]=Ve.split(".");if($e===void 0||Be===void 0||Ue===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const ze=base64Decode(Be);return ze?JSON.parse(ze):(_logError("Failed to decode base64 JWT payload"),null)}catch(ze){return _logError("Caught error parsing JWT payload as JSON",ze?.toString()),null}}function _tokenExpiresIn(Ve){const $e=_parseToken(Ve);return _assert($e,"internal-error"),_assert(typeof $e.exp<"u","internal-error"),_assert(typeof $e.iat<"u","internal-error"),Number($e.exp)-Number($e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(Ve,$e,Be=!1){if(Be)return $e;try{return await $e}catch(Ue){throw Ue instanceof FirebaseError&&isUserInvalidated(Ue)&&Ve.auth.currentUser===Ve&&await Ve.auth.signOut(),Ue}}function isUserInvalidated({code:Ve}){return Ve==="auth/user-disabled"||Ve==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor($e){this.user=$e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval($e){if($e){const Be=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),Be}else{this.errorBackoff=3e4;const Ue=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,Ue)}}schedule($e=!1){if(!this.isRunning)return;const Be=this.getInterval($e);this.timerId=setTimeout(async()=>{await this.iteration()},Be)}async iteration(){try{await this.user.getIdToken(!0)}catch($e){$e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor($e,Be){this.createdAt=$e,this.lastLoginAt=Be,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy($e){this.createdAt=$e.createdAt,this.lastLoginAt=$e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(Ve){const $e=Ve.auth,Be=await Ve.getIdToken(),Ue=await _logoutIfInvalidated(Ve,getAccountInfo($e,{idToken:Be}));_assert(Ue?.users.length,$e,"internal-error");const ze=Ue.users[0];Ve._notifyReloadListener(ze);const qe=ze.providerUserInfo?.length?extractProviderData(ze.providerUserInfo):[],He=mergeProviderData(Ve.providerData,qe),We=Ve.isAnonymous,Ge=!(Ve.email&&ze.passwordHash)&&!He?.length,Ye=We?Ge:!1,Xe={uid:ze.localId,displayName:ze.displayName||null,photoURL:ze.photoUrl||null,email:ze.email||null,emailVerified:ze.emailVerified||!1,phoneNumber:ze.phoneNumber||null,tenantId:ze.tenantId||null,providerData:He,metadata:new UserMetadata(ze.createdAt,ze.lastLoginAt),isAnonymous:Ye};Object.assign(Ve,Xe)}async function reload(Ve){const $e=getModularInstance(Ve);await _reloadWithoutSaving($e),await $e.auth._persistUserIfCurrent($e),$e.auth._notifyListenersIfCurrent($e)}function mergeProviderData(Ve,$e){return[...Ve.filter(Ue=>!$e.some(ze=>ze.providerId===Ue.providerId)),...$e]}function extractProviderData(Ve){return Ve.map(({providerId:$e,...Be})=>({providerId:$e,uid:Be.rawId||"",displayName:Be.displayName||null,email:Be.email||null,phoneNumber:Be.phoneNumber||null,photoURL:Be.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(Ve,$e){const Be=await _performFetchWithErrorHandling(Ve,{},async()=>{const Ue=querystring({grant_type:"refresh_token",refresh_token:$e}).slice(1),{tokenApiHost:ze,apiKey:qe}=Ve.config,He=await _getFinalTarget(Ve,ze,"/v1/token",`key=${qe}`),We=await Ve._getAdditionalHeaders();We["Content-Type"]="application/x-www-form-urlencoded";const Ge={method:"POST",headers:We,body:Ue};return Ve.emulatorConfig&&isCloudWorkstation(Ve.emulatorConfig.host)&&(Ge.credentials="include"),FetchProvider.fetch()(He,Ge)});return{accessToken:Be.access_token,expiresIn:Be.expires_in,refreshToken:Be.refresh_token}}async function revokeToken(Ve,$e){return _performApiRequest(Ve,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(Ve,$e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse($e){_assert($e.idToken,"internal-error"),_assert(typeof $e.idToken<"u","internal-error"),_assert(typeof $e.refreshToken<"u","internal-error");const Be="expiresIn"in $e&&typeof $e.expiresIn<"u"?Number($e.expiresIn):_tokenExpiresIn($e.idToken);this.updateTokensAndExpiration($e.idToken,$e.refreshToken,Be)}updateFromIdToken($e){_assert($e.length!==0,"internal-error");const Be=_tokenExpiresIn($e);this.updateTokensAndExpiration($e,null,Be)}async getToken($e,Be=!1){return!Be&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,$e,"user-token-expired"),this.refreshToken?(await this.refresh($e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh($e,Be){const{accessToken:Ue,refreshToken:ze,expiresIn:qe}=await requestStsToken($e,Be);this.updateTokensAndExpiration(Ue,ze,Number(qe))}updateTokensAndExpiration($e,Be,Ue){this.refreshToken=Be||null,this.accessToken=$e||null,this.expirationTime=Date.now()+Ue*1e3}static fromJSON($e,Be){const{refreshToken:Ue,accessToken:ze,expirationTime:qe}=Be,He=new StsTokenManager;return Ue&&(_assert(typeof Ue=="string","internal-error",{appName:$e}),He.refreshToken=Ue),ze&&(_assert(typeof ze=="string","internal-error",{appName:$e}),He.accessToken=ze),qe&&(_assert(typeof qe=="number","internal-error",{appName:$e}),He.expirationTime=qe),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign($e){this.accessToken=$e.accessToken,this.refreshToken=$e.refreshToken,this.expirationTime=$e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(Ve,$e){_assert(typeof Ve=="string"||typeof Ve>"u","internal-error",{appName:$e})}class UserImpl{constructor({uid:$e,auth:Be,stsTokenManager:Ue,...ze}){this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=$e,this.auth=Be,this.stsTokenManager=Ue,this.accessToken=Ue.accessToken,this.displayName=ze.displayName||null,this.email=ze.email||null,this.emailVerified=ze.emailVerified||!1,this.phoneNumber=ze.phoneNumber||null,this.photoURL=ze.photoURL||null,this.isAnonymous=ze.isAnonymous||!1,this.tenantId=ze.tenantId||null,this.providerData=ze.providerData?[...ze.providerData]:[],this.metadata=new UserMetadata(ze.createdAt||void 0,ze.lastLoginAt||void 0)}async getIdToken($e){const Be=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,$e));return _assert(Be,this.auth,"internal-error"),this.accessToken!==Be&&(this.accessToken=Be,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),Be}getIdTokenResult($e){return getIdTokenResult(this,$e)}reload(){return reload(this)}_assign($e){this!==$e&&(_assert(this.uid===$e.uid,this.auth,"internal-error"),this.displayName=$e.displayName,this.photoURL=$e.photoURL,this.email=$e.email,this.emailVerified=$e.emailVerified,this.phoneNumber=$e.phoneNumber,this.isAnonymous=$e.isAnonymous,this.tenantId=$e.tenantId,this.providerData=$e.providerData.map(Be=>({...Be})),this.metadata._copy($e.metadata),this.stsTokenManager._assign($e.stsTokenManager))}_clone($e){const Be=new UserImpl({...this,auth:$e,stsTokenManager:this.stsTokenManager._clone()});return Be.metadata._copy(this.metadata),Be}_onReload($e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=$e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener($e){this.reloadListener?this.reloadListener($e):this.reloadUserInfo=$e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary($e,Be=!1){let Ue=!1;$e.idToken&&$e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse($e),Ue=!0),Be&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),Ue&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const $e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:$e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map($e=>({...$e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON($e,Be){const Ue=Be.displayName??void 0,ze=Be.email??void 0,qe=Be.phoneNumber??void 0,He=Be.photoURL??void 0,We=Be.tenantId??void 0,Ge=Be._redirectEventId??void 0,Ye=Be.createdAt??void 0,Xe=Be.lastLoginAt??void 0,{uid:Je,emailVerified:er,isAnonymous:Ze,providerData:rr,stsTokenManager:nr}=Be;_assert(Je&&nr,$e,"internal-error");const ar=StsTokenManager.fromJSON(this.name,nr);_assert(typeof Je=="string",$e,"internal-error"),assertStringOrUndefined(Ue,$e.name),assertStringOrUndefined(ze,$e.name),_assert(typeof er=="boolean",$e,"internal-error"),_assert(typeof Ze=="boolean",$e,"internal-error"),assertStringOrUndefined(qe,$e.name),assertStringOrUndefined(He,$e.name),assertStringOrUndefined(We,$e.name),assertStringOrUndefined(Ge,$e.name),assertStringOrUndefined(Ye,$e.name),assertStringOrUndefined(Xe,$e.name);const sr=new UserImpl({uid:Je,auth:$e,email:ze,emailVerified:er,displayName:Ue,isAnonymous:Ze,photoURL:He,phoneNumber:qe,tenantId:We,stsTokenManager:ar,createdAt:Ye,lastLoginAt:Xe});return rr&&Array.isArray(rr)&&(sr.providerData=rr.map(lr=>({...lr}))),Ge&&(sr._redirectEventId=Ge),sr}static async _fromIdTokenResponse($e,Be,Ue=!1){const ze=new StsTokenManager;ze.updateFromServerResponse(Be);const qe=new UserImpl({uid:Be.localId,auth:$e,stsTokenManager:ze,isAnonymous:Ue});return await _reloadWithoutSaving(qe),qe}static async _fromGetAccountInfoResponse($e,Be,Ue){const ze=Be.users[0];_assert(ze.localId!==void 0,"internal-error");const qe=ze.providerUserInfo!==void 0?extractProviderData(ze.providerUserInfo):[],He=!(ze.email&&ze.passwordHash)&&!qe?.length,We=new StsTokenManager;We.updateFromIdToken(Ue);const Ge=new UserImpl({uid:ze.localId,auth:$e,stsTokenManager:We,isAnonymous:He}),Ye={uid:ze.localId,displayName:ze.displayName||null,photoURL:ze.photoUrl||null,email:ze.email||null,emailVerified:ze.emailVerified||!1,phoneNumber:ze.phoneNumber||null,tenantId:ze.tenantId||null,providerData:qe,metadata:new UserMetadata(ze.createdAt,ze.lastLoginAt),isAnonymous:!(ze.email&&ze.passwordHash)&&!qe?.length};return Object.assign(Ge,Ye),Ge}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(Ve){debugAssert(Ve instanceof Function,"Expected a class definition");let $e=instanceCache.get(Ve);return $e?(debugAssert($e instanceof Ve,"Instance stored in cache mismatched with class"),$e):($e=new Ve,instanceCache.set(Ve,$e),$e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set($e,Be){this.storage[$e]=Be}async _get($e){const Be=this.storage[$e];return Be===void 0?null:Be}async _remove($e){delete this.storage[$e]}_addListener($e,Be){}_removeListener($e,Be){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(Ve,$e,Be){return`firebase:${Ve}:${$e}:${Be}`}class PersistenceUserManager{constructor($e,Be,Ue){this.persistence=$e,this.auth=Be,this.userKey=Ue;const{config:ze,name:qe}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,ze.apiKey,qe),this.fullPersistenceKey=_persistenceKeyName("persistence",ze.apiKey,qe),this.boundEventHandler=Be._onStorageEvent.bind(Be),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser($e){return this.persistence._set(this.fullUserKey,$e.toJSON())}async getCurrentUser(){const $e=await this.persistence._get(this.fullUserKey);if(!$e)return null;if(typeof $e=="string"){const Be=await getAccountInfo(this.auth,{idToken:$e}).catch(()=>{});return Be?UserImpl._fromGetAccountInfoResponse(this.auth,Be,$e):null}return UserImpl._fromJSON(this.auth,$e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence($e){if(this.persistence===$e)return;const Be=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=$e,Be)return this.setCurrentUser(Be)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create($e,Be,Ue="authUser"){if(!Be.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),$e,Ue);const ze=(await Promise.all(Be.map(async Ye=>{if(await Ye._isAvailable())return Ye}))).filter(Ye=>Ye);let qe=ze[0]||_getInstance(inMemoryPersistence);const He=_persistenceKeyName(Ue,$e.config.apiKey,$e.name);let We=null;for(const Ye of Be)try{const Xe=await Ye._get(He);if(Xe){let Je;if(typeof Xe=="string"){const er=await getAccountInfo($e,{idToken:Xe}).catch(()=>{});if(!er)break;Je=await UserImpl._fromGetAccountInfoResponse($e,er,Xe)}else Je=UserImpl._fromJSON($e,Xe);Ye!==qe&&(We=Je),qe=Ye;break}}catch{}const Ge=ze.filter(Ye=>Ye._shouldAllowMigration);return!qe._shouldAllowMigration||!Ge.length?new PersistenceUserManager(qe,$e,Ue):(qe=Ge[0],We&&await qe._set(He,We.toJSON()),await Promise.all(Be.map(async Ye=>{if(Ye!==qe)try{await Ye._remove(He)}catch{}})),new PersistenceUserManager(qe,$e,Ue))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(Ve){const $e=Ve.toLowerCase();if($e.includes("opera/")||$e.includes("opr/")||$e.includes("opios/"))return"Opera";if(_isIEMobile($e))return"IEMobile";if($e.includes("msie")||$e.includes("trident/"))return"IE";if($e.includes("edge/"))return"Edge";if(_isFirefox($e))return"Firefox";if($e.includes("silk/"))return"Silk";if(_isBlackBerry($e))return"Blackberry";if(_isWebOS($e))return"Webos";if(_isSafari($e))return"Safari";if(($e.includes("chrome/")||_isChromeIOS($e))&&!$e.includes("edge/"))return"Chrome";if(_isAndroid($e))return"Android";{const Be=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,Ue=Ve.match(Be);if(Ue?.length===2)return Ue[1]}return"Other"}function _isFirefox(Ve=getUA()){return/firefox\//i.test(Ve)}function _isSafari(Ve=getUA()){const $e=Ve.toLowerCase();return $e.includes("safari/")&&!$e.includes("chrome/")&&!$e.includes("crios/")&&!$e.includes("android")}function _isChromeIOS(Ve=getUA()){return/crios\//i.test(Ve)}function _isIEMobile(Ve=getUA()){return/iemobile/i.test(Ve)}function _isAndroid(Ve=getUA()){return/android/i.test(Ve)}function _isBlackBerry(Ve=getUA()){return/blackberry/i.test(Ve)}function _isWebOS(Ve=getUA()){return/webos/i.test(Ve)}function _isIOS(Ve=getUA()){return/iphone|ipad|ipod/i.test(Ve)||/macintosh/i.test(Ve)&&/mobile/i.test(Ve)}function _isIOSStandalone(Ve=getUA()){return _isIOS(Ve)&&!!window.navigator?.standalone}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(Ve=getUA()){return _isIOS(Ve)||_isAndroid(Ve)||_isWebOS(Ve)||_isBlackBerry(Ve)||/windows phone/i.test(Ve)||_isIEMobile(Ve)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(Ve,$e=[]){let Be;switch(Ve){case"Browser":Be=_getBrowserName(getUA());break;case"Worker":Be=`${_getBrowserName(getUA())}-${Ve}`;break;default:Be=Ve}const Ue=$e.length?$e.join(","):"FirebaseCore-web";return`${Be}/JsCore/${SDK_VERSION}/${Ue}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor($e){this.auth=$e,this.queue=[]}pushCallback($e,Be){const Ue=qe=>new Promise((He,We)=>{try{const Ge=$e(qe);He(Ge)}catch(Ge){We(Ge)}});Ue.onAbort=Be,this.queue.push(Ue);const ze=this.queue.length-1;return()=>{this.queue[ze]=()=>Promise.resolve()}}async runMiddleware($e){if(this.auth.currentUser===$e)return;const Be=[];try{for(const Ue of this.queue)await Ue($e),Ue.onAbort&&Be.push(Ue.onAbort)}catch(Ue){Be.reverse();for(const ze of Be)try{ze()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:Ue?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(Ve,$e={}){return _performApiRequest(Ve,"GET","/v2/passwordPolicy",_addTidIfNecessary(Ve,$e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor($e){const Be=$e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=Be.minPasswordLength??MINIMUM_MIN_PASSWORD_LENGTH,Be.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Be.maxPasswordLength),Be.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=Be.containsLowercaseCharacter),Be.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=Be.containsUppercaseCharacter),Be.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=Be.containsNumericCharacter),Be.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Be.containsNonAlphanumericCharacter),this.enforcementState=$e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=$e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=$e.forceUpgradeOnSignin??!1,this.schemaVersion=$e.schemaVersion}validatePassword($e){const Be={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions($e,Be),this.validatePasswordCharacterOptions($e,Be),Be.isValid&&(Be.isValid=Be.meetsMinPasswordLength??!0),Be.isValid&&(Be.isValid=Be.meetsMaxPasswordLength??!0),Be.isValid&&(Be.isValid=Be.containsLowercaseLetter??!0),Be.isValid&&(Be.isValid=Be.containsUppercaseLetter??!0),Be.isValid&&(Be.isValid=Be.containsNumericCharacter??!0),Be.isValid&&(Be.isValid=Be.containsNonAlphanumericCharacter??!0),Be}validatePasswordLengthOptions($e,Be){const Ue=this.customStrengthOptions.minPasswordLength,ze=this.customStrengthOptions.maxPasswordLength;Ue&&(Be.meetsMinPasswordLength=$e.length>=Ue),ze&&(Be.meetsMaxPasswordLength=$e.length<=ze)}validatePasswordCharacterOptions($e,Be){this.updatePasswordCharacterOptionsStatuses(Be,!1,!1,!1,!1);let Ue;for(let ze=0;ze<$e.length;ze++)Ue=$e.charAt(ze),this.updatePasswordCharacterOptionsStatuses(Be,Ue>="a"&&Ue<="z",Ue>="A"&&Ue<="Z",Ue>="0"&&Ue<="9",this.allowedNonAlphanumericCharacters.includes(Ue))}updatePasswordCharacterOptionsStatuses($e,Be,Ue,ze,qe){this.customStrengthOptions.containsLowercaseLetter&&($e.containsLowercaseLetter||($e.containsLowercaseLetter=Be)),this.customStrengthOptions.containsUppercaseLetter&&($e.containsUppercaseLetter||($e.containsUppercaseLetter=Ue)),this.customStrengthOptions.containsNumericCharacter&&($e.containsNumericCharacter||($e.containsNumericCharacter=ze)),this.customStrengthOptions.containsNonAlphanumericCharacter&&($e.containsNonAlphanumericCharacter||($e.containsNonAlphanumericCharacter=qe))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor($e,Be,Ue,ze){this.app=$e,this.heartbeatServiceProvider=Be,this.appCheckServiceProvider=Ue,this.config=ze,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=$e.name,this.clientVersion=ze.sdkClientVersion,this._persistenceManagerAvailable=new Promise(qe=>this._resolvePersistenceManagerAvailable=qe)}_initializeWithPersistence($e,Be){return Be&&(this._popupRedirectResolver=_getInstance(Be)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,$e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(Be),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const $e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!$e)){if(this.currentUser&&$e&&this.currentUser.uid===$e.uid){this._currentUser._assign($e),await this.currentUser.getIdToken();return}await this._updateCurrentUser($e,!0)}}async initializeCurrentUserFromIdToken($e){try{const Be=await getAccountInfo(this,{idToken:$e}),Ue=await UserImpl._fromGetAccountInfoResponse(this,Be,$e);await this.directlySetCurrentUser(Ue)}catch(Be){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",Be),await this.directlySetCurrentUser(null)}}async initializeCurrentUser($e){if(_isFirebaseServerApp(this.app)){const qe=this.app.settings.authIdToken;return qe?new Promise(He=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(qe).then(He,He))}):this.directlySetCurrentUser(null)}const Be=await this.assertedPersistence.getCurrentUser();let Ue=Be,ze=!1;if($e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const qe=this.redirectUser?._redirectEventId,He=Ue?._redirectEventId,We=await this.tryRedirectSignIn($e);(!qe||qe===He)&&We?.user&&(Ue=We.user,ze=!0)}if(!Ue)return this.directlySetCurrentUser(null);if(!Ue._redirectEventId){if(ze)try{await this.beforeStateQueue.runMiddleware(Ue)}catch(qe){Ue=Be,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(qe))}return Ue?this.reloadAndSetCurrentUserOrClear(Ue):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===Ue._redirectEventId?this.directlySetCurrentUser(Ue):this.reloadAndSetCurrentUserOrClear(Ue)}async tryRedirectSignIn($e){let Be=null;try{Be=await this._popupRedirectResolver._completeRedirectFn(this,$e,!0)}catch{await this._setRedirectUser(null)}return Be}async reloadAndSetCurrentUserOrClear($e){try{await _reloadWithoutSaving($e)}catch(Be){if(Be?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser($e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser($e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const Be=$e?getModularInstance($e):null;return Be&&_assert(Be.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(Be&&Be._clone(this))}async _updateCurrentUser($e,Be=!1){if(!this._deleted)return $e&&_assert(this.tenantId===$e.tenantId,this,"tenant-id-mismatch"),Be||await this.beforeStateQueue.runMiddleware($e),this.queue(async()=>{await this.directlySetCurrentUser($e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence($e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance($e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword($e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const Be=this._getPasswordPolicyInternal();return Be.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):Be.validatePassword($e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const $e=await _getPasswordPolicy(this),Be=new PasswordPolicyImpl($e);this.tenantId===null?this._projectPasswordPolicy=Be:this._tenantPasswordPolicies[this.tenantId]=Be}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap($e){this._errorFactory=new ErrorFactory("auth","Firebase",$e())}onAuthStateChanged($e,Be,Ue){return this.registerStateListener(this.authStateSubscription,$e,Be,Ue)}beforeAuthStateChanged($e,Be){return this.beforeStateQueue.pushCallback($e,Be)}onIdTokenChanged($e,Be,Ue){return this.registerStateListener(this.idTokenSubscription,$e,Be,Ue)}authStateReady(){return new Promise(($e,Be)=>{if(this.currentUser)$e();else{const Ue=this.onAuthStateChanged(()=>{Ue(),$e()},Be)}})}async revokeAccessToken($e){if(this.currentUser){const Be=await this.currentUser.getIdToken(),Ue={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:$e,idToken:Be};this.tenantId!=null&&(Ue.tenantId=this.tenantId),await revokeToken(this,Ue)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser($e,Be){const Ue=await this.getOrInitRedirectPersistenceManager(Be);return $e===null?Ue.removeCurrentUser():Ue.setCurrentUser($e)}async getOrInitRedirectPersistenceManager($e){if(!this.redirectPersistenceManager){const Be=$e&&_getInstance($e)||this._popupRedirectResolver;_assert(Be,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(Be._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId($e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===$e?this._currentUser:this.redirectUser?._redirectEventId===$e?this.redirectUser:null}async _persistUserIfCurrent($e){if($e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser($e))}_notifyListenersIfCurrent($e){$e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const $e=this.currentUser?.uid??null;this.lastNotifiedUid!==$e&&(this.lastNotifiedUid=$e,this.authStateSubscription.next(this.currentUser))}registerStateListener($e,Be,Ue,ze){if(this._deleted)return()=>{};const qe=typeof Be=="function"?Be:Be.next.bind(Be);let He=!1;const We=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(We,this,"internal-error"),We.then(()=>{He||qe(this.currentUser)}),typeof Be=="function"){const Ge=$e.addObserver(Be,Ue,ze);return()=>{He=!0,Ge()}}else{const Ge=$e.addObserver(Be);return()=>{He=!0,Ge()}}}async directlySetCurrentUser($e){this.currentUser&&this.currentUser!==$e&&this._currentUser._stopProactiveRefresh(),$e&&this.isProactiveRefreshEnabled&&$e._startProactiveRefresh(),this.currentUser=$e,$e?await this.assertedPersistence.setCurrentUser($e):await this.assertedPersistence.removeCurrentUser()}queue($e){return this.operations=this.operations.then($e,$e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework($e){!$e||this.frameworks.includes($e)||(this.frameworks.push($e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const $e={"X-Client-Version":this.clientVersion};this.app.options.appId&&($e["X-Firebase-gmpid"]=this.app.options.appId);const Be=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();Be&&($e["X-Firebase-Client"]=Be);const Ue=await this._getAppCheckToken();return Ue&&($e["X-Firebase-AppCheck"]=Ue),$e}async _getAppCheckToken(){if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const $e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return $e?.error&&_logWarn(`Error while retrieving App Check token: ${$e.error}`),$e?.token}}function _castAuth(Ve){return getModularInstance(Ve)}class Subscription{constructor($e){this.auth=$e,this.observer=null,this.addObserver=createSubscribe(Be=>this.observer=Be)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(Ve){externalJSProvider=Ve}function _loadJS(Ve){return externalJSProvider.loadJS(Ve)}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(Ve){return`__${Ve}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(Ve,$e){const Be=_getProvider(Ve,"auth");if(Be.isInitialized()){const ze=Be.getImmediate(),qe=Be.getOptions();if(deepEqual(qe,$e??{}))return ze;_fail(ze,"already-initialized")}return Be.initialize({options:$e})}function _initializeAuthInstance(Ve,$e){const Be=$e?.persistence||[],Ue=(Array.isArray(Be)?Be:[Be]).map(_getInstance);$e?.errorMap&&Ve._updateErrorMap($e.errorMap),Ve._initializeWithPersistence(Ue,$e?.popupRedirectResolver)}function connectAuthEmulator(Ve,$e,Be){const Ue=_castAuth(Ve);_assert(/^https?:\/\//.test($e),Ue,"invalid-emulator-scheme");const ze=!1,qe=extractProtocol($e),{host:He,port:We}=extractHostAndPort($e),Ge=We===null?"":`:${We}`,Ye={url:`${qe}//${He}${Ge}/`},Xe=Object.freeze({host:He,port:We,protocol:qe.replace(":",""),options:Object.freeze({disableWarnings:ze})});if(!Ue._canInitEmulator){_assert(Ue.config.emulator&&Ue.emulatorConfig,Ue,"emulator-config-failed"),_assert(deepEqual(Ye,Ue.config.emulator)&&deepEqual(Xe,Ue.emulatorConfig),Ue,"emulator-config-failed");return}Ue.config.emulator=Ye,Ue.emulatorConfig=Xe,Ue.settings.appVerificationDisabledForTesting=!0,isCloudWorkstation(He)?(pingServer(`${qe}//${He}${Ge}`),updateEmulatorBanner("Auth",!0)):emitEmulatorWarning()}function extractProtocol(Ve){const $e=Ve.indexOf(":");return $e<0?"":Ve.substr(0,$e+1)}function extractHostAndPort(Ve){const $e=extractProtocol(Ve),Be=/(\/\/)?([^?#/]+)/.exec(Ve.substr($e.length));if(!Be)return{host:"",port:null};const Ue=Be[2].split("@").pop()||"",ze=/^(\[[^\]]+\])(:|$)/.exec(Ue);if(ze){const qe=ze[1];return{host:qe,port:parsePort(Ue.substr(qe.length+1))}}else{const[qe,He]=Ue.split(":");return{host:qe,port:parsePort(He)}}}function parsePort(Ve){if(!Ve)return null;const $e=Number(Ve);return isNaN($e)?null:$e}function emitEmulatorWarning(){function Ve(){const $e=document.createElement("p"),Be=$e.style;$e.innerText="Running in emulator mode. Do not use with production credentials.",Be.position="fixed",Be.width="100%",Be.backgroundColor="#ffffff",Be.border=".1em solid #000000",Be.color="#b50000",Be.bottom="0px",Be.left="0px",Be.margin="0px",Be.zIndex="10000",Be.textAlign="center",$e.classList.add("firebase-emulator-warning"),document.body.appendChild($e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Ve):Ve())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor($e,Be){this.providerId=$e,this.signInMethod=Be}toJSON(){return debugFail("not implemented")}_getIdTokenResponse($e){return debugFail("not implemented")}_linkToIdToken($e,Be){return debugFail("not implemented")}_getReauthenticationResolver($e){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(Ve,$e){return _performSignInRequest(Ve,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(Ve,$e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams($e){const Be=new OAuthCredential($e.providerId,$e.signInMethod);return $e.idToken||$e.accessToken?($e.idToken&&(Be.idToken=$e.idToken),$e.accessToken&&(Be.accessToken=$e.accessToken),$e.nonce&&!$e.pendingToken&&(Be.nonce=$e.nonce),$e.pendingToken&&(Be.pendingToken=$e.pendingToken)):$e.oauthToken&&$e.oauthTokenSecret?(Be.accessToken=$e.oauthToken,Be.secret=$e.oauthTokenSecret):_fail("argument-error"),Be}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON($e){const Be=typeof $e=="string"?JSON.parse($e):$e,{providerId:Ue,signInMethod:ze,...qe}=Be;if(!Ue||!ze)return null;const He=new OAuthCredential(Ue,ze);return He.idToken=qe.idToken||void 0,He.accessToken=qe.accessToken||void 0,He.secret=qe.secret,He.nonce=qe.nonce,He.pendingToken=qe.pendingToken||null,He}_getIdTokenResponse($e){const Be=this.buildRequest();return signInWithIdp($e,Be)}_linkToIdToken($e,Be){const Ue=this.buildRequest();return Ue.idToken=Be,signInWithIdp($e,Ue)}_getReauthenticationResolver($e){const Be=this.buildRequest();return Be.autoCreate=!1,signInWithIdp($e,Be)}buildRequest(){const $e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)$e.pendingToken=this.pendingToken;else{const Be={};this.idToken&&(Be.id_token=this.idToken),this.accessToken&&(Be.access_token=this.accessToken),this.secret&&(Be.oauth_token_secret=this.secret),Be.providerId=this.providerId,this.nonce&&!this.pendingToken&&(Be.nonce=this.nonce),$e.postBody=querystring(Be)}return $e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor($e){this.providerId=$e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage($e){this.defaultLanguageCode=$e}setCustomParameters($e){return this.customParameters=$e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope($e){return this.scopes.includes($e)||this.scopes.push($e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential($e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:$e})}static credentialFromResult($e){return FacebookAuthProvider.credentialFromTaggedObject($e)}static credentialFromError($e){return FacebookAuthProvider.credentialFromTaggedObject($e.customData||{})}static credentialFromTaggedObject({_tokenResponse:$e}){if(!$e||!("oauthAccessToken"in $e)||!$e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential($e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential($e,Be){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:$e,accessToken:Be})}static credentialFromResult($e){return GoogleAuthProvider.credentialFromTaggedObject($e)}static credentialFromError($e){return GoogleAuthProvider.credentialFromTaggedObject($e.customData||{})}static credentialFromTaggedObject({_tokenResponse:$e}){if(!$e)return null;const{oauthIdToken:Be,oauthAccessToken:Ue}=$e;if(!Be&&!Ue)return null;try{return GoogleAuthProvider.credential(Be,Ue)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential($e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:$e})}static credentialFromResult($e){return GithubAuthProvider.credentialFromTaggedObject($e)}static credentialFromError($e){return GithubAuthProvider.credentialFromTaggedObject($e.customData||{})}static credentialFromTaggedObject({_tokenResponse:$e}){if(!$e||!("oauthAccessToken"in $e)||!$e.oauthAccessToken)return null;try{return GithubAuthProvider.credential($e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential($e,Be){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:$e,oauthTokenSecret:Be})}static credentialFromResult($e){return TwitterAuthProvider.credentialFromTaggedObject($e)}static credentialFromError($e){return TwitterAuthProvider.credentialFromTaggedObject($e.customData||{})}static credentialFromTaggedObject({_tokenResponse:$e}){if(!$e)return null;const{oauthAccessToken:Be,oauthTokenSecret:Ue}=$e;if(!Be||!Ue)return null;try{return TwitterAuthProvider.credential(Be,Ue)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor($e){this.user=$e.user,this.providerId=$e.providerId,this._tokenResponse=$e._tokenResponse,this.operationType=$e.operationType}static async _fromIdTokenResponse($e,Be,Ue,ze=!1){const qe=await UserImpl._fromIdTokenResponse($e,Ue,ze),He=providerIdForResponse(Ue);return new UserCredentialImpl({user:qe,providerId:He,_tokenResponse:Ue,operationType:Be})}static async _forOperation($e,Be,Ue){await $e._updateTokensIfNecessary(Ue,!0);const ze=providerIdForResponse(Ue);return new UserCredentialImpl({user:$e,providerId:ze,_tokenResponse:Ue,operationType:Be})}}function providerIdForResponse(Ve){return Ve.providerId?Ve.providerId:"phoneNumber"in Ve?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor($e,Be,Ue,ze){super(Be.code,Be.message),this.operationType=Ue,this.user=ze,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:$e.name,tenantId:$e.tenantId??void 0,_serverResponse:Be.customData._serverResponse,operationType:Ue}}static _fromErrorAndOperation($e,Be,Ue,ze){return new MultiFactorError($e,Be,Ue,ze)}}function _processCredentialSavingMfaContextIfNecessary(Ve,$e,Be,Ue){return($e==="reauthenticate"?Be._getReauthenticationResolver(Ve):Be._getIdTokenResponse(Ve)).catch(qe=>{throw qe.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(Ve,qe,$e,Ue):qe})}async function _link$1(Ve,$e,Be=!1){const Ue=await _logoutIfInvalidated(Ve,$e._linkToIdToken(Ve.auth,await Ve.getIdToken()),Be);return UserCredentialImpl._forOperation(Ve,"link",Ue)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(Ve,$e,Be=!1){const{auth:Ue}=Ve;if(_isFirebaseServerApp(Ue.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ue));const ze="reauthenticate";try{const qe=await _logoutIfInvalidated(Ve,_processCredentialSavingMfaContextIfNecessary(Ue,ze,$e,Ve),Be);_assert(qe.idToken,Ue,"internal-error");const He=_parseToken(qe.idToken);_assert(He,Ue,"internal-error");const{sub:We}=He;return _assert(Ve.uid===We,Ue,"user-mismatch"),UserCredentialImpl._forOperation(Ve,ze,qe)}catch(qe){throw qe?.code==="auth/user-not-found"&&_fail(Ue,"user-mismatch"),qe}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(Ve,$e,Be=!1){if(_isFirebaseServerApp(Ve.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ve));const Ue="signIn",ze=await _processCredentialSavingMfaContextIfNecessary(Ve,Ue,$e),qe=await UserCredentialImpl._fromIdTokenResponse(Ve,Ue,ze);return Be||await Ve._updateCurrentUser(qe.user),qe}function onIdTokenChanged(Ve,$e,Be,Ue){return getModularInstance(Ve).onIdTokenChanged($e,Be,Ue)}function beforeAuthStateChanged(Ve,$e,Be){return getModularInstance(Ve).beforeAuthStateChanged($e,Be)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor($e,Be){this.storageRetriever=$e,this.type=Be}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set($e,Be){return this.storage.setItem($e,JSON.stringify(Be)),Promise.resolve()}_get($e){const Be=this.storage.getItem($e);return Promise.resolve(Be?JSON.parse(Be):null)}_remove($e){return this.storage.removeItem($e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=($e,Be)=>this.onStorageEvent($e,Be),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys($e){for(const Be of Object.keys(this.listeners)){const Ue=this.storage.getItem(Be),ze=this.localCache[Be];Ue!==ze&&$e(Be,ze,Ue)}}onStorageEvent($e,Be=!1){if(!$e.key){this.forAllChangedKeys((He,We,Ge)=>{this.notifyListeners(He,Ge)});return}const Ue=$e.key;Be?this.detachListener():this.stopPolling();const ze=()=>{const He=this.storage.getItem(Ue);!Be&&this.localCache[Ue]===He||this.notifyListeners(Ue,He)},qe=this.storage.getItem(Ue);_isIE10()&&qe!==$e.newValue&&$e.newValue!==$e.oldValue?setTimeout(ze,IE10_LOCAL_STORAGE_SYNC_DELAY):ze()}notifyListeners($e,Be){this.localCache[$e]=Be;const Ue=this.listeners[$e];if(Ue)for(const ze of Array.from(Ue))ze(Be&&JSON.parse(Be))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys(($e,Be,Ue)=>{this.onStorageEvent(new StorageEvent("storage",{key:$e,oldValue:Be,newValue:Ue}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener($e,Be){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[$e]||(this.listeners[$e]=new Set,this.localCache[$e]=this.storage.getItem($e)),this.listeners[$e].add(Be)}_removeListener($e,Be){this.listeners[$e]&&(this.listeners[$e].delete(Be),this.listeners[$e].size===0&&delete this.listeners[$e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set($e,Be){await super._set($e,Be),this.localCache[$e]=JSON.stringify(Be)}async _get($e){const Be=await super._get($e);return this.localCache[$e]=JSON.stringify(Be),Be}async _remove($e){await super._remove($e),delete this.localCache[$e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener($e,Be){}_removeListener($e,Be){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(Ve){return Promise.all(Ve.map(async $e=>{try{return{fulfilled:!0,value:await $e}}catch(Be){return{fulfilled:!1,reason:Be}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor($e){this.eventTarget=$e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance($e){const Be=this.receivers.find(ze=>ze.isListeningto($e));if(Be)return Be;const Ue=new Receiver($e);return this.receivers.push(Ue),Ue}isListeningto($e){return this.eventTarget===$e}async handleEvent($e){const Be=$e,{eventId:Ue,eventType:ze,data:qe}=Be.data,He=this.handlersMap[ze];if(!He?.size)return;Be.ports[0].postMessage({status:"ack",eventId:Ue,eventType:ze});const We=Array.from(He).map(async Ye=>Ye(Be.origin,qe)),Ge=await _allSettled(We);Be.ports[0].postMessage({status:"done",eventId:Ue,eventType:ze,response:Ge})}_subscribe($e,Be){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[$e]||(this.handlersMap[$e]=new Set),this.handlersMap[$e].add(Be)}_unsubscribe($e,Be){this.handlersMap[$e]&&Be&&this.handlersMap[$e].delete(Be),(!Be||this.handlersMap[$e].size===0)&&delete this.handlersMap[$e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(Ve="",$e=10){let Be="";for(let Ue=0;Ue<$e;Ue++)Be+=Math.floor(Math.random()*10);return Ve+Be}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor($e){this.target=$e,this.handlers=new Set}removeMessageHandler($e){$e.messageChannel&&($e.messageChannel.port1.removeEventListener("message",$e.onMessage),$e.messageChannel.port1.close()),this.handlers.delete($e)}async _send($e,Be,Ue=50){const ze=typeof MessageChannel<"u"?new MessageChannel:null;if(!ze)throw new Error("connection_unavailable");let qe,He;return new Promise((We,Ge)=>{const Ye=_generateEventId("",20);ze.port1.start();const Xe=setTimeout(()=>{Ge(new Error("unsupported_event"))},Ue);He={messageChannel:ze,onMessage(Je){const er=Je;if(er.data.eventId===Ye)switch(er.data.status){case"ack":clearTimeout(Xe),qe=setTimeout(()=>{Ge(new Error("timeout"))},3e3);break;case"done":clearTimeout(qe),We(er.data.response);break;default:clearTimeout(Xe),clearTimeout(qe),Ge(new Error("invalid_response"));break}}},this.handlers.add(He),ze.port1.addEventListener("message",He.onMessage),this.target.postMessage({eventType:$e,eventId:Ye,data:Be},[ze.port2])}).finally(()=>{He&&this.removeMessageHandler(He)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(Ve){_window().location.href=Ve}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){return navigator?.serviceWorker?.controller||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor($e){this.request=$e}toPromise(){return new Promise(($e,Be)=>{this.request.addEventListener("success",()=>{$e(this.request.result)}),this.request.addEventListener("error",()=>{Be(this.request.error)})})}}function getObjectStore(Ve,$e){return Ve.transaction([DB_OBJECTSTORE_NAME],$e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const Ve=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(Ve).toPromise()}function _openDatabase(){const Ve=indexedDB.open(DB_NAME,DB_VERSION);return new Promise(($e,Be)=>{Ve.addEventListener("error",()=>{Be(Ve.error)}),Ve.addEventListener("upgradeneeded",()=>{const Ue=Ve.result;try{Ue.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(ze){Be(ze)}}),Ve.addEventListener("success",async()=>{const Ue=Ve.result;Ue.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?$e(Ue):(Ue.close(),await _deleteDatabase(),$e(await _openDatabase()))})})}async function _putObject(Ve,$e,Be){const Ue=getObjectStore(Ve,!0).put({[DB_DATA_KEYPATH]:$e,value:Be});return new DBPromise(Ue).toPromise()}async function getObject(Ve,$e){const Be=getObjectStore(Ve,!1).get($e),Ue=await new DBPromise(Be).toPromise();return Ue===void 0?null:Ue.value}function _deleteObject(Ve,$e){const Be=getObjectStore(Ve,!0).delete($e);return new DBPromise(Be).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries($e){let Be=0;for(;;)try{const Ue=await this._openDb();return await $e(Ue)}catch(Ue){if(Be++>_TRANSACTION_RETRY_COUNT)throw Ue;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async($e,Be)=>({keyProcessed:(await this._poll()).includes(Be.key)})),this.receiver._subscribe("ping",async($e,Be)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const $e=await this.sender._send("ping",{},800);$e&&$e[0]?.fulfilled&&$e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker($e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:$e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const $e=await _openDatabase();return await _putObject($e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject($e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite($e){this.pendingWrites++;try{await $e()}finally{this.pendingWrites--}}async _set($e,Be){return this._withPendingWrite(async()=>(await this._withRetries(Ue=>_putObject(Ue,$e,Be)),this.localCache[$e]=Be,this.notifyServiceWorker($e)))}async _get($e){const Be=await this._withRetries(Ue=>getObject(Ue,$e));return this.localCache[$e]=Be,Be}async _remove($e){return this._withPendingWrite(async()=>(await this._withRetries(Be=>_deleteObject(Be,$e)),delete this.localCache[$e],this.notifyServiceWorker($e)))}async _poll(){const $e=await this._withRetries(ze=>{const qe=getObjectStore(ze,!1).getAll();return new DBPromise(qe).toPromise()});if(!$e)return[];if(this.pendingWrites!==0)return[];const Be=[],Ue=new Set;if($e.length!==0)for(const{fbase_key:ze,value:qe}of $e)Ue.add(ze),JSON.stringify(this.localCache[ze])!==JSON.stringify(qe)&&(this.notifyListeners(ze,qe),Be.push(ze));for(const ze of Object.keys(this.localCache))this.localCache[ze]&&!Ue.has(ze)&&(this.notifyListeners(ze,null),Be.push(ze));return Be}notifyListeners($e,Be){this.localCache[$e]=Be;const Ue=this.listeners[$e];if(Ue)for(const ze of Array.from(Ue))ze(Be)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener($e,Be){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[$e]||(this.listeners[$e]=new Set,this._get($e)),this.listeners[$e].add(Be)}_removeListener($e,Be){this.listeners[$e]&&(this.listeners[$e].delete(Be),this.listeners[$e].size===0&&delete this.listeners[$e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(Ve,$e){return $e?_getInstance($e):(_assert(Ve._popupRedirectResolver,Ve,"argument-error"),Ve._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor($e){super("custom","custom"),this.params=$e}_getIdTokenResponse($e){return signInWithIdp($e,this._buildIdpRequest())}_linkToIdToken($e,Be){return signInWithIdp($e,this._buildIdpRequest(Be))}_getReauthenticationResolver($e){return signInWithIdp($e,this._buildIdpRequest())}_buildIdpRequest($e){const Be={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return $e&&(Be.idToken=$e),Be}}function _signIn(Ve){return _signInWithCredential(Ve.auth,new IdpCredential(Ve),Ve.bypassAuthState)}function _reauth(Ve){const{auth:$e,user:Be}=Ve;return _assert(Be,$e,"internal-error"),_reauthenticate(Be,new IdpCredential(Ve),Ve.bypassAuthState)}async function _link(Ve){const{auth:$e,user:Be}=Ve;return _assert(Be,$e,"internal-error"),_link$1(Be,new IdpCredential(Ve),Ve.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor($e,Be,Ue,ze,qe=!1){this.auth=$e,this.resolver=Ue,this.user=ze,this.bypassAuthState=qe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(Be)?Be:[Be]}execute(){return new Promise(async($e,Be)=>{this.pendingPromise={resolve:$e,reject:Be};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ue){this.reject(Ue)}})}async onAuthEvent($e){const{urlResponse:Be,sessionId:Ue,postBody:ze,tenantId:qe,error:He,type:We}=$e;if(He){this.reject(He);return}const Ge={auth:this.auth,requestUri:Be,sessionId:Ue,tenantId:qe||void 0,postBody:ze||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(We)(Ge))}catch(Ye){this.reject(Ye)}}onError($e){this.reject($e)}getIdpTask($e){switch($e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve($e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve($e),this.unregisterAndCleanUp()}reject($e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject($e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor($e,Be,Ue,ze,qe){super($e,Be,ze,qe),this.provider=Ue,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const $e=await this.execute();return _assert($e,this.auth,"internal-error"),$e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const $e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],$e),this.authWindow.associatedEvent=$e,this.resolver._originValidation(this.auth).catch(Be=>{this.reject(Be)}),this.resolver._isIframeWebStorageSupported(this.auth,Be=>{Be||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const $e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout($e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};$e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor($e,Be,Ue=!1){super($e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],Be,void 0,Ue),this.eventId=null}async execute(){let $e=redirectOutcomeMap.get(this.auth._key());if(!$e){try{const Ue=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;$e=()=>Promise.resolve(Ue)}catch(Be){$e=()=>Promise.reject(Be)}redirectOutcomeMap.set(this.auth._key(),$e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),$e()}async onAuthEvent($e){if($e.type==="signInViaRedirect")return super.onAuthEvent($e);if($e.type==="unknown"){this.resolve(null);return}if($e.eventId){const Be=await this.auth._redirectUserForId($e.eventId);if(Be)return this.user=Be,super.onAuthEvent($e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(Ve,$e){const Be=pendingRedirectKey($e),Ue=resolverPersistence(Ve);if(!await Ue._isAvailable())return!1;const ze=await Ue._get(Be)==="true";return await Ue._remove(Be),ze}function _overrideRedirectResult(Ve,$e){redirectOutcomeMap.set(Ve._key(),$e)}function resolverPersistence(Ve){return _getInstance(Ve._redirectPersistence)}function pendingRedirectKey(Ve){return _persistenceKeyName(PENDING_REDIRECT_KEY,Ve.config.apiKey,Ve.name)}async function _getRedirectResult(Ve,$e,Be=!1){if(_isFirebaseServerApp(Ve.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ve));const Ue=_castAuth(Ve),ze=_withDefaultResolver(Ue,$e),He=await new RedirectAction(Ue,ze,Be).execute();return He&&!Be&&(delete He.user._redirectEventId,await Ue._persistUserIfCurrent(He.user),await Ue._setRedirectUser(null,$e)),He}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=600*1e3;class AuthEventManager{constructor($e){this.auth=$e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer($e){this.consumers.add($e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,$e)&&(this.sendToConsumer(this.queuedRedirectEvent,$e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer($e){this.consumers.delete($e)}onEvent($e){if(this.hasEventBeenHandled($e))return!1;let Be=!1;return this.consumers.forEach(Ue=>{this.isEventForConsumer($e,Ue)&&(Be=!0,this.sendToConsumer($e,Ue),this.saveEventToCache($e))}),this.hasHandledPotentialRedirect||!isRedirectEvent($e)||(this.hasHandledPotentialRedirect=!0,Be||(this.queuedRedirectEvent=$e,Be=!0)),Be}sendToConsumer($e,Be){if($e.error&&!isNullRedirectEvent($e)){const Ue=$e.error.code?.split("auth/")[1]||"internal-error";Be.onError(_createError(this.auth,Ue))}else Be.onAuthEvent($e)}isEventForConsumer($e,Be){const Ue=Be.eventId===null||!!$e.eventId&&$e.eventId===Be.eventId;return Be.filter.includes($e.type)&&Ue}hasEventBeenHandled($e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid($e))}saveEventToCache($e){this.cachedEventUids.add(eventUid($e)),this.lastProcessedEventTime=Date.now()}}function eventUid(Ve){return[Ve.type,Ve.eventId,Ve.sessionId,Ve.tenantId].filter($e=>$e).join("-")}function isNullRedirectEvent({type:Ve,error:$e}){return Ve==="unknown"&&$e?.code==="auth/no-auth-event"}function isRedirectEvent(Ve){switch(Ve.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(Ve);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(Ve,$e={}){return _performApiRequest(Ve,"GET","/v1/projects",$e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(Ve){if(Ve.config.emulator)return;const{authorizedDomains:$e}=await _getProjectConfig(Ve);for(const Be of $e)try{if(matchDomain(Be))return}catch{}_fail(Ve,"unauthorized-domain")}function matchDomain(Ve){const $e=_getCurrentUrl(),{protocol:Be,hostname:Ue}=new URL($e);if(Ve.startsWith("chrome-extension://")){const He=new URL(Ve);return He.hostname===""&&Ue===""?Be==="chrome-extension:"&&Ve.replace("chrome-extension://","")===$e.replace("chrome-extension://",""):Be==="chrome-extension:"&&He.hostname===Ue}if(!HTTP_REGEX.test(Be))return!1;if(IP_ADDRESS_REGEX.test(Ve))return Ue===Ve;const ze=Ve.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ze+"|"+ze+")$","i").test(Ue)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const Ve=_window().___jsl;if(Ve?.H){for(const $e of Object.keys(Ve.H))if(Ve.H[$e].r=Ve.H[$e].r||[],Ve.H[$e].L=Ve.H[$e].L||[],Ve.H[$e].r=[...Ve.H[$e].L],Ve.CP)for(let Be=0;Be<Ve.CP.length;Be++)Ve.CP[Be]=null}}function loadGapi(Ve){return new Promise(($e,Be)=>{function Ue(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{$e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),Be(_createError(Ve,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(_window().gapi?.iframes?.Iframe)$e(gapi.iframes.getContext());else if(_window().gapi?.load)Ue();else{const ze=_generateCallbackName("iframefcb");return _window()[ze]=()=>{gapi.load?Ue():Be(_createError(Ve,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${ze}`).catch(qe=>Be(qe))}}).catch($e=>{throw cachedGApiLoader=null,$e})}let cachedGApiLoader=null;function _loadGapi(Ve){return cachedGApiLoader=cachedGApiLoader||loadGapi(Ve),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(Ve){const $e=Ve.config;_assert($e.authDomain,Ve,"auth-domain-config-required");const Be=$e.emulator?_emulatorUrl($e,EMULATED_IFRAME_PATH):`https://${Ve.config.authDomain}/${IFRAME_PATH}`,Ue={apiKey:$e.apiKey,appName:Ve.name,v:SDK_VERSION},ze=EID_FROM_APIHOST.get(Ve.config.apiHost);ze&&(Ue.eid=ze);const qe=Ve._getFrameworks();return qe.length&&(Ue.fw=qe.join(",")),`${Be}?${querystring(Ue).slice(1)}`}async function _openIframe(Ve){const $e=await _loadGapi(Ve),Be=_window().gapi;return _assert(Be,Ve,"internal-error"),$e.open({where:document.body,url:getIframeUrl(Ve),messageHandlersFilter:Be.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},Ue=>new Promise(async(ze,qe)=>{await Ue.restyle({setHideOnLeave:!1});const He=_createError(Ve,"network-request-failed"),We=_window().setTimeout(()=>{qe(He)},PING_TIMEOUT.get());function Ge(){_window().clearTimeout(We),ze(Ue)}Ue.ping(Ge).then(Ge,()=>{qe(He)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor($e){this.window=$e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(Ve,$e,Be,Ue=DEFAULT_WIDTH,ze=DEFAULT_HEIGHT){const qe=Math.max((window.screen.availHeight-ze)/2,0).toString(),He=Math.max((window.screen.availWidth-Ue)/2,0).toString();let We="";const Ge={...BASE_POPUP_OPTIONS,width:Ue.toString(),height:ze.toString(),top:qe,left:He},Ye=getUA().toLowerCase();Be&&(We=_isChromeIOS(Ye)?TARGET_BLANK:Be),_isFirefox(Ye)&&($e=$e||FIREFOX_EMPTY_URL,Ge.scrollbars="yes");const Xe=Object.entries(Ge).reduce((er,[Ze,rr])=>`${er}${Ze}=${rr},`,"");if(_isIOSStandalone(Ye)&&We!=="_self")return openAsNewWindowIOS($e||"",We),new AuthPopup(null);const Je=window.open($e||"",We,Xe);_assert(Je,Ve,"popup-blocked");try{Je.focus()}catch{}return new AuthPopup(Je)}function openAsNewWindowIOS(Ve,$e){const Be=document.createElement("a");Be.href=Ve,Be.target=$e;const Ue=document.createEvent("MouseEvent");Ue.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),Be.dispatchEvent(Ue)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(Ve,$e,Be,Ue,ze,qe){_assert(Ve.config.authDomain,Ve,"auth-domain-config-required"),_assert(Ve.config.apiKey,Ve,"invalid-api-key");const He={apiKey:Ve.config.apiKey,appName:Ve.name,authType:Be,redirectUrl:Ue,v:SDK_VERSION,eventId:ze};if($e instanceof FederatedAuthProvider){$e.setDefaultLanguage(Ve.languageCode),He.providerId=$e.providerId||"",isEmpty$1($e.getCustomParameters())||(He.customParameters=JSON.stringify($e.getCustomParameters()));for(const[Xe,Je]of Object.entries({}))He[Xe]=Je}if($e instanceof BaseOAuthProvider){const Xe=$e.getScopes().filter(Je=>Je!=="");Xe.length>0&&(He.scopes=Xe.join(","))}Ve.tenantId&&(He.tid=Ve.tenantId);const We=He;for(const Xe of Object.keys(We))We[Xe]===void 0&&delete We[Xe];const Ge=await Ve._getAppCheckToken(),Ye=Ge?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(Ge)}`:"";return`${getHandlerBase(Ve)}?${querystring(We).slice(1)}${Ye}`}function getHandlerBase({config:Ve}){return Ve.emulator?_emulatorUrl(Ve,EMULATOR_WIDGET_PATH):`https://${Ve.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup($e,Be,Ue,ze){debugAssert(this.eventManagers[$e._key()]?.manager,"_initialize() not called before _openPopup()");const qe=await _getRedirectUrl($e,Be,Ue,_getCurrentUrl(),ze);return _open($e,qe,_generateEventId())}async _openRedirect($e,Be,Ue,ze){await this._originValidation($e);const qe=await _getRedirectUrl($e,Be,Ue,_getCurrentUrl(),ze);return _setWindowLocation(qe),new Promise(()=>{})}_initialize($e){const Be=$e._key();if(this.eventManagers[Be]){const{manager:ze,promise:qe}=this.eventManagers[Be];return ze?Promise.resolve(ze):(debugAssert(qe,"If manager is not set, promise should be"),qe)}const Ue=this.initAndGetManager($e);return this.eventManagers[Be]={promise:Ue},Ue.catch(()=>{delete this.eventManagers[Be]}),Ue}async initAndGetManager($e){const Be=await _openIframe($e),Ue=new AuthEventManager($e);return Be.register("authEvent",ze=>(_assert(ze?.authEvent,$e,"invalid-auth-event"),{status:Ue.onEvent(ze.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[$e._key()]={manager:Ue},this.iframes[$e._key()]=Be,Ue}_isIframeWebStorageSupported($e,Be){this.iframes[$e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},ze=>{const qe=ze?.[0]?.[WEB_STORAGE_SUPPORT_KEY];qe!==void 0&&Be(!!qe),_fail($e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation($e){const Be=$e._key();return this.originValidationPromises[Be]||(this.originValidationPromises[Be]=_validateOrigin($e)),this.originValidationPromises[Be]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name="@firebase/auth",version$4="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor($e){this.auth=$e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken($e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken($e)}:null}addAuthTokenListener($e){if(this.assertAuthConfigured(),this.internalListeners.has($e))return;const Be=this.auth.onIdTokenChanged(Ue=>{$e(Ue?.stsTokenManager.accessToken||null)});this.internalListeners.set($e,Be),this.updateProactiveRefresh()}removeAuthTokenListener($e){this.assertAuthConfigured();const Be=this.internalListeners.get($e);Be&&(this.internalListeners.delete($e),Be(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(Ve){switch(Ve){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(Ve){_registerComponent(new Component("auth",($e,{options:Be})=>{const Ue=$e.getProvider("app").getImmediate(),ze=$e.getProvider("heartbeat"),qe=$e.getProvider("app-check-internal"),{apiKey:He,authDomain:We}=Ue.options;_assert(He&&!He.includes(":"),"invalid-api-key",{appName:Ue.name});const Ge={apiKey:He,authDomain:We,clientPlatform:Ve,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(Ve)},Ye=new AuthImpl(Ue,ze,qe,Ge);return _initializeAuthInstance(Ye,Be),Ye},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(($e,Be,Ue)=>{$e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",$e=>{const Be=_castAuth($e.getProvider("auth").getImmediate());return(Ue=>new AuthInterop(Ue))(Be)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name,version$4,getVersionForPlatform(Ve)),registerVersion(name,version$4,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=300,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=Ve=>async $e=>{const Be=$e&&await $e.getIdTokenResult(),Ue=Be&&(new Date().getTime()-Date.parse(Be.issuedAtTime))/1e3;if(Ue&&Ue>authIdTokenMaxAge)return;const ze=Be?.token;lastPostedIdToken!==ze&&(lastPostedIdToken=ze,await fetch(Ve,{method:ze?"POST":"DELETE",headers:ze?{Authorization:`Bearer ${ze}`}:{}}))};function getAuth(Ve=getApp()){const $e=_getProvider(Ve,"auth");if($e.isInitialized())return $e.getImmediate();const Be=initializeAuth(Ve,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),Ue=getExperimentalSetting("authTokenSyncURL");if(Ue&&typeof isSecureContext=="boolean"&&isSecureContext){const qe=new URL(Ue,location.origin);if(location.origin===qe.origin){const He=mintCookieFactory(qe.toString());beforeAuthStateChanged(Be,He,()=>He(Be.currentUser)),onIdTokenChanged(Be,We=>He(We))}}const ze=getDefaultEmulatorHost("auth");return ze&&connectAuthEmulator(Be,`http://${ze}`),Be}function getScriptParentElement(){return document.getElementsByTagName("head")?.[0]??document}_setExternalJSProvider({loadJS(Ve){return new Promise(($e,Be)=>{const Ue=document.createElement("script");Ue.setAttribute("src",Ve),Ue.onload=$e,Ue.onerror=ze=>{const qe=_createError("internal-error");qe.customData=ze,Be(qe)},Ue.type="text/javascript",Ue.charset="UTF-8",getScriptParentElement().appendChild(Ue)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");const firebaseConfig={apiKey:"AIzaSyArIOctKU4qYDn9y9aUJch9WwypLptl7Iw",authDomain:"somiti-13503.firebaseapp.com",projectId:"somiti-13503",storageBucket:"somiti-13503.firebasestorage.app",messagingSenderId:"326795595039",appId:"1:326795595039:web:07796c5cf151862b4af42a",measurementId:"G-B556H1L5XS"},app=initializeApp(firebaseConfig);getAuth(app);const db=getFirestore(app);getStorage(app);typeof window<"u"&&getAnalytics(app);const MEMBERS_COLLECTION="members";class MemberService{static async addMember($e,Be){try{if(!Be)throw new Error("User ID is required to add a member.");const Ue=doc(db,MEMBERS_COLLECTION,Be);return await setDoc(Ue,{...$e,createdAt:serverTimestamp(),updatedAt:serverTimestamp(),status:"active"}),console.log("Document added successfully with ID:",Be),{success:!0,id:Be}}catch(Ue){return console.error("   :",Ue),{success:!1,error:Ue.message}}}static async getMemberById($e){try{const Be=doc(db,MEMBERS_COLLECTION,$e),Ue=await getDoc(Be);return Ue.exists()?{success:!0,data:{id:Ue.id,...Ue.data()}}:{success:!1,error:"Member not found"}}catch(Be){return console.error("Error getting member by ID:",Be),{success:!1,error:Be.message}}}static async getAllMembers(){try{const $e=await getDocs(collection(db,MEMBERS_COLLECTION)),Be=[];return $e.forEach(Ue=>{Be.push({id:Ue.id,...Ue.data()})}),Be.sort((Ue,ze)=>{const qe=Ue.createdAt?.toDate?.()||new Date(Ue.createdAt)||new Date(0);return(ze.createdAt?.toDate?.()||new Date(ze.createdAt)||new Date(0))-qe}),{success:!0,data:Be}}catch($e){return console.error("    :",$e),{success:!1,error:$e.message}}}static async getActiveMembers(){try{const $e=query(collection(db,MEMBERS_COLLECTION),where("status","==","active")),Be=await getDocs($e),Ue=[];return Be.forEach(ze=>{Ue.push({id:ze.id,...ze.data()})}),Ue.sort((ze,qe)=>{const He=ze.createdAt?.toDate?.()||new Date(ze.createdAt)||new Date(0);return(qe.createdAt?.toDate?.()||new Date(qe.createdAt)||new Date(0))-He}),{success:!0,data:Ue}}catch($e){return console.error("    :",$e),{success:!1,error:$e.message}}}static async updateMember($e,Be){try{const Ue=doc(db,MEMBERS_COLLECTION,$e);return await updateDoc(Ue,{...Be,updatedAt:serverTimestamp()}),{success:!0}}catch(Ue){return console.error("   :",Ue),{success:!1,error:Ue.message}}}static async deleteMember($e){try{return await deleteDoc(doc(db,MEMBERS_COLLECTION,$e)),{success:!0}}catch(Be){return console.error("  :",Be),{success:!1,error:Be.message}}}static async toggleMemberStatus($e,Be){try{const Ue=Be==="active"?"inactive":"active",ze=doc(db,MEMBERS_COLLECTION,$e);return await updateDoc(ze,{status:Ue,updatedAt:serverTimestamp()}),{success:!0,newStatus:Ue}}catch(Ue){return console.error("    :",Ue),{success:!1,error:Ue.message}}}static async getMemberByAuthUid($e){try{const Be=query(collection(db,MEMBERS_COLLECTION),where("authUid","==",$e)),Ue=await getDocs(Be);if(Ue.empty)return{success:!1,error:"Member not found"};const ze=Ue.docs[0];return{success:!0,data:{id:ze.id,...ze.data()}}}catch(Be){return console.error("Auth UID    :",Be),{success:!1,error:Be.message}}}static async searchMembers($e){try{const Be=await getDocs(collection(db,MEMBERS_COLLECTION)),Ue=[];return Be.forEach(ze=>{const qe=ze.data();(qe.name?.toLowerCase().includes($e.toLowerCase())||qe.membershipId?.toLowerCase().includes($e.toLowerCase())||qe.phone?.includes($e))&&Ue.push({id:ze.id,...qe})}),{success:!0,data:Ue}}catch(Be){return console.error("  :",Be),{success:!1,error:Be.message}}}static async isDuplicateMember({phone:$e,email:Be,name:Ue}){try{if(console.log("MemberService: isDuplicateMember input",{phone:$e,email:Be,name:Ue}),Be){const ze=query(collection(db,MEMBERS_COLLECTION),where("email","==",Be)),qe=await getDocs(ze);if(!qe.empty){const He=qe.docs[0];return console.log("MemberService: duplicate by email",{id:He.id}),{exists:!0,by:"email",match:{id:He.id,...He.data()}}}}if($e){const ze=query(collection(db,MEMBERS_COLLECTION),where("phone","==",$e)),qe=await getDocs(ze);if(!qe.empty){const He=qe.docs[0];return console.log("MemberService: duplicate by phone",{id:He.id}),{exists:!0,by:"phone",match:{id:He.id,...He.data()}}}}if(Ue){const qe=(await getDocs(collection(db,MEMBERS_COLLECTION))).docs.map(He=>({id:He.id,...He.data()})).find(He=>(He.name||"").trim()===Ue.trim());if(qe)return console.log("MemberService: duplicate by name",{id:qe.id}),{exists:!0,by:"name",match:qe}}return console.log("MemberService: no duplicate found"),{exists:!1}}catch(ze){return console.error("MemberService: duplicate check error",ze),{exists:!1,error:ze.message}}}}const recordLogin=async(Ve,$e="local")=>{try{const Be=typeof navigator<"u"?navigator.userAgent:"";let Ue="",ze={};try{const He=await fetch("https://ipapi.co/json/");if(He.ok){const We=await He.json();Ue=We?.ip||"",ze={country:We?.country_name,city:We?.city}}}catch{}const qe=collection(db,"users",Ve,"login_history");return await addDoc(qe,{ip:Ue,user_agent:Be,provider:$e,meta:ze,created_at:serverTimestamp()}),{ok:!0}}catch(Be){return{error:Be}}},fetchLoginHistory=async Ve=>{try{const $e=collection(db,"users",Ve,"login_history"),Be=query($e,orderBy$1("created_at","desc"),limit(50));return{data:(await getDocs(Be)).docs.map(qe=>({id:qe.id,...qe.data()}))}}catch($e){return{error:$e}}};console.log("[AuthContext] File loaded");const AuthContext=reactExports.createContext(),useAuth=()=>{const Ve=reactExports.useContext(AuthContext);if(!Ve)throw new Error("useAuth must be used within an AuthProvider");return Ve},AuthProvider=({children:Ve})=>{const[$e,Be]=reactExports.useState(null),[Ue,ze]=reactExports.useState(!0),[qe,He]=reactExports.useState(null);reactExports.useEffect(()=>{if(typeof window>"u")return;(async()=>{console.log("[AuthContext] autoLogin start");const Ze=localStorage.getItem("somiti_token"),rr=localStorage.getItem("somiti_uid"),nr=localStorage.getItem("somiti_role");if(Ze&&rr)try{const ar=localStorage.getItem("somiti_mode");if(rr==="demo-user"&&Ze==="demo-token"){if(ar!=="demo"){console.log("[AuthContext] Demo credentials found but mode is not demo. Blocking auto-login."),localStorage.removeItem("somiti_token"),localStorage.removeItem("somiti_uid"),localStorage.removeItem("somiti_role"),ze(!1);return}Be({uid:"demo-user",email:"demo@somiti.com",role:nr||"member",name:` ${nr==="admin"?"":nr==="cashier"?"":""}`,isDebugUser:!0,isDemoUser:!0,membershipType:" ",joinDate:new Date,shareCount:10,totalInvestment:5e4}),console.log("[AuthContext] Demo user restored from localStorage")}else if(rr==="debug-user"&&Ze==="debug-token")Be({uid:"debug-user",email:"debug@somiti.com",role:nr||"member",name:`Debug ${(nr||"member").charAt(0).toUpperCase()+(nr||"member").slice(1)}`,isDebugUser:!0,membershipType:"Debug User",joinDate:new Date,shareCount:0,totalInvestment:0}),console.log("[AuthContext] Debug user restored from localStorage");else{const sr=await MemberService.getMemberById(rr);if(sr.success){const lr={...sr.data,id:rr,uid:rr,role:nr||sr.data.role||"member"};Be(lr),console.log("[AuthContext] User restored on refresh:",lr)}else throw new Error("Failed to fetch member data")}}catch(ar){console.error("[AuthContext] autoLogin error, performing logout:",ar),Ge()}else console.log("[AuthContext] No token found in localStorage");ze(!1),console.log("[AuthContext] autoLogin finished, loading set to false")})()},[]);const We=async(er,Ze)=>{try{console.log("[AuthContext] login start for userId:",Ze);const rr=await MemberService.getMemberById(Ze);if(rr.success){const nr=rr.data,ar={...nr,id:Ze,uid:Ze};Be(ar),localStorage.setItem("somiti_token",er),localStorage.setItem("somiti_uid",Ze),localStorage.setItem("somiti_role",nr.role||"member"),console.log("[AuthContext] login success, user set:",ar);try{await recordLogin(Ze,"local")}catch{console.log("[AuthContext] login-history invocation failed")}return{user:ar}}else throw new Error("User data not found in Firestore")}catch(rr){return console.error("Login failed:",rr),He(rr.message),{error:rr}}},Ge=()=>{console.log("[AuthContext] logout called"),Be(null),localStorage.removeItem("somiti_token"),localStorage.removeItem("somiti_uid"),localStorage.removeItem("somiti_role")},Je={user:$e,loading:Ue,error:qe,login:We,logout:Ge,switchRole:er=>{if($e){const Ze={...$e,role:er};Be(Ze),localStorage.setItem("somiti_role",er),console.log("[AuthContext] switchRole ->",er);const rr={admin:"/admin",cashier:"/cashier",member:"/member"};typeof window<"u"&&(window.location.hash=`#${rr[er]||"/member"}`)}},isAuthenticated:()=>!!$e,setError:He};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:Je,children:Ve})},UserContext=reactExports.createContext(),useUser=()=>{const Ve=reactExports.useContext(UserContext);if(!Ve)throw new Error("useUser must be used within a UserProvider");return Ve},UserProvider=({children:Ve})=>{const{user:$e}=useAuth(),[Be,Ue]=reactExports.useState(null),[ze,qe]=reactExports.useState(!0),[He,We]=reactExports.useState(null),[Ge,Ye]=reactExports.useState(null);reactExports.useEffect(()=>{if($e){const rr=$e.uid||$e.id;console.log("[UserContext] Resolved selectedUserId from authUser:",rr),rr&&Ye(rr)}},[$e]);const Xe=reactExports.useCallback(async()=>{if(!Ge){console.log("[UserContext] loadCurrentUser skipped: no selectedUserId");return}if($e?.isDemoUser||$e?.isDebugUser||Ge==="demo-user"||Ge==="debug-user"){console.log("[UserContext] Skipping Firebase load for demo/debug user, using authUser directly"),Ue($e),qe(!1);return}try{qe(!0),We(null),console.log("[UserContext] Loading current user from members with id:",Ge);const rr=await MemberService.getAllMembers();if(rr.success&&rr.data.length>0){let nr=rr.data.find(ar=>ar.id===Ge||ar.membershipId===Ge||ar.memberId===Ge||ar.somiti_user_id===Ge);nr||(nr=rr.data[0]),console.log("[UserContext] Loaded user.photoURL",nr.photoURL),Ue({id:nr.id||nr.membershipId||"SM-001",uid:nr.id||nr.membershipId||"SM-001",name:nr.name||" ",joinDate:nr.joinDate||"--",phone:nr.phone||"  ",address:nr.address||" ",membershipType:nr.membershipType||" ",status:nr.status||"",shareCount:nr.shareCount||0,totalShares:nr.totalShares||0,email:nr.email||"",fatherName:nr.fatherName||"",occupation:nr.occupation||"",nid:nr.nid||"",emergencyContact:nr.emergencyContact||"",monthlyDeposit:nr.monthlyDeposit||0,totalDeposit:nr.totalDeposit||0,photoURL:nr.photoURL||""})}else We("    ")}catch(rr){console.error("    :",rr),We("     ")}finally{qe(!1),console.log("[UserContext] loadCurrentUser finished, loading set to false")}},[Ge,$e]);reactExports.useEffect(()=>{Xe()},[Xe]);const Ze={currentUser:Be,loading:ze,error:He,switchUser:rr=>{Ye(rr)},refreshUser:()=>{Xe()},selectedUserId:Ge};return jsxRuntimeExports.jsx(UserContext.Provider,{value:Ze,children:Ve})};console.log("[ModeContext] File loaded");const ModeContext=reactExports.createContext(),useMode=()=>{const Ve=reactExports.useContext(ModeContext);if(!Ve)throw new Error("useMode must be used within a ModeProvider");return Ve},ModeProvider=({children:Ve})=>{const[$e,Be]=reactExports.useState("production"),[Ue,ze]=reactExports.useState(!0);reactExports.useEffect(()=>{if(typeof window>"u")return;const Ye=localStorage.getItem("somiti_mode");(Ye==="demo"||Ye==="production")&&(Be(Ye),console.log("[ModeContext] Mode restored from localStorage:",Ye)),ze(!1)},[]);const Ge={mode:$e,loading:Ue,switchMode:Ye=>{(Ye==="demo"||Ye==="production")&&(Be(Ye),localStorage.setItem("somiti_mode",Ye),console.log("[ModeContext] Mode switched to:",Ye))},isDemo:()=>$e==="demo",isProduction:()=>$e==="production"};return jsxRuntimeExports.jsx(ModeContext.Provider,{value:Ge,children:Ve})},LoadingAnimation=({size:Ve=150,className:$e="",style:Be={},centered:Ue=!0})=>{const ze={display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:Ue?"100vh":"auto",position:Ue?"fixed":"relative",top:Ue?0:"auto",left:Ue?0:"auto",right:Ue?0:"auto",bottom:Ue?0:"auto",zIndex:Ue?9999:"auto",...Be},qe=Ue?{...ze,backgroundColor:"rgba(0, 0, 0, 0.05)",backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)"}:{...ze,backgroundColor:"transparent",backdropFilter:"none",WebkitBackdropFilter:"none"};return jsxRuntimeExports.jsx("div",{style:qe,className:$e,children:jsxRuntimeExports.jsx("lottie-player",{src:"/loading_animation.json",background:"transparent",speed:"1",style:{width:`${Ve}px`,height:`${Ve}px`},loop:!0,autoplay:!0})})},ProtectedRoute=({children:Ve,allowedRoles:$e})=>{const{user:Be,loading:Ue}=useAuth(),ze=useLocation();return console.log("[ProtectedRoute] evaluating",{loading:Ue,hasUser:!!Be,role:Be?.role,path:ze.pathname}),Ue?jsxRuntimeExports.jsx(LoadingAnimation,{}):Be?$e&&!$e.includes(Be.role)?jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0}):Ve:jsxRuntimeExports.jsx(Navigate,{to:"/login",state:{from:ze},replace:!0})};let e={data:""},t=Ve=>{if(typeof window=="object"){let $e=(Ve?Ve.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return $e.nonce=window.__nonce__,$e.parentNode||(Ve||document.head).appendChild($e),$e.firstChild}return Ve||e},l$1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$2=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o$1=(Ve,$e)=>{let Be="",Ue="",ze="";for(let qe in Ve){let He=Ve[qe];qe[0]=="@"?qe[1]=="i"?Be=qe+" "+He+";":Ue+=qe[1]=="f"?o$1(He,qe):qe+"{"+o$1(He,qe[1]=="k"?"":$e)+"}":typeof He=="object"?Ue+=o$1(He,$e?$e.replace(/([^,])+/g,We=>qe.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,Ge=>/&/.test(Ge)?Ge.replace(/&/g,We):We?We+" "+Ge:Ge)):qe):He!=null&&(qe=/^--/.test(qe)?qe:qe.replace(/[A-Z]/g,"-$&").toLowerCase(),ze+=o$1.p?o$1.p(qe,He):qe+":"+He+";")}return Be+($e&&ze?$e+"{"+ze+"}":ze)+Ue},c$2={},s$2=Ve=>{if(typeof Ve=="object"){let $e="";for(let Be in Ve)$e+=Be+s$2(Ve[Be]);return $e}return Ve},i$2=(Ve,$e,Be,Ue,ze)=>{let qe=s$2(Ve),He=c$2[qe]||(c$2[qe]=(Ge=>{let Ye=0,Xe=11;for(;Ye<Ge.length;)Xe=101*Xe+Ge.charCodeAt(Ye++)>>>0;return"go"+Xe})(qe));if(!c$2[He]){let Ge=qe!==Ve?Ve:(Ye=>{let Xe,Je,er=[{}];for(;Xe=l$1.exec(Ye.replace(a$2,""));)Xe[4]?er.shift():Xe[3]?(Je=Xe[3].replace(n$1," ").trim(),er.unshift(er[0][Je]=er[0][Je]||{})):er[0][Xe[1]]=Xe[2].replace(n$1," ").trim();return er[0]})(Ve);c$2[He]=o$1(ze?{["@keyframes "+He]:Ge}:Ge,Be?"":"."+He)}let We=Be&&c$2.g?c$2.g:null;return Be&&(c$2.g=c$2[He]),((Ge,Ye,Xe,Je)=>{Je?Ye.data=Ye.data.replace(Je,Ge):Ye.data.indexOf(Ge)===-1&&(Ye.data=Xe?Ge+Ye.data:Ye.data+Ge)})(c$2[He],$e,Ue,We),He},p$1=(Ve,$e,Be)=>Ve.reduce((Ue,ze,qe)=>{let He=$e[qe];if(He&&He.call){let We=He(Be),Ge=We&&We.props&&We.props.className||/^go/.test(We)&&We;He=Ge?"."+Ge:We&&typeof We=="object"?We.props?"":o$1(We,""):We===!1?"":We}return Ue+ze+(He??"")},"");function u$1(Ve){let $e=this||{},Be=Ve.call?Ve($e.p):Ve;return i$2(Be.unshift?Be.raw?p$1(Be,[].slice.call(arguments,1),$e.p):Be.reduce((Ue,ze)=>Object.assign(Ue,ze&&ze.call?ze($e.p):ze),{}):Be,t($e.target),$e.g,$e.o,$e.k)}let d$1,f$2,g$1;u$1.bind({g:1});let h$2=u$1.bind({k:1});function m$1(Ve,$e,Be,Ue){o$1.p=$e,d$1=Ve,f$2=Be,g$1=Ue}function w$2(Ve,$e){let Be=this||{};return function(){let Ue=arguments;function ze(qe,He){let We=Object.assign({},qe),Ge=We.className||ze.className;Be.p=Object.assign({theme:f$2&&f$2()},We),Be.o=/ *go\d+/.test(Ge),We.className=u$1.apply(Be,Ue)+(Ge?" "+Ge:"");let Ye=Ve;return Ve[0]&&(Ye=We.as||Ve,delete We.as),g$1&&Ye[0]&&g$1(We),d$1(Ye,We)}return ze}}var Z$1=Ve=>typeof Ve=="function",h$1=(Ve,$e)=>Z$1(Ve)?Ve($e):Ve,W$1=(()=>{let Ve=0;return()=>(++Ve).toString()})(),E$1=(()=>{let Ve;return()=>{if(Ve===void 0&&typeof window<"u"){let $e=matchMedia("(prefers-reduced-motion: reduce)");Ve=!$e||$e.matches}return Ve}})(),re$2=20,k$2="default",H$1=(Ve,$e)=>{let{toastLimit:Be}=Ve.settings;switch($e.type){case 0:return{...Ve,toasts:[$e.toast,...Ve.toasts].slice(0,Be)};case 1:return{...Ve,toasts:Ve.toasts.map(He=>He.id===$e.toast.id?{...He,...$e.toast}:He)};case 2:let{toast:Ue}=$e;return H$1(Ve,{type:Ve.toasts.find(He=>He.id===Ue.id)?1:0,toast:Ue});case 3:let{toastId:ze}=$e;return{...Ve,toasts:Ve.toasts.map(He=>He.id===ze||ze===void 0?{...He,dismissed:!0,visible:!1}:He)};case 4:return $e.toastId===void 0?{...Ve,toasts:[]}:{...Ve,toasts:Ve.toasts.filter(He=>He.id!==$e.toastId)};case 5:return{...Ve,pausedAt:$e.time};case 6:let qe=$e.time-(Ve.pausedAt||0);return{...Ve,pausedAt:void 0,toasts:Ve.toasts.map(He=>({...He,pauseDuration:He.pauseDuration+qe}))}}},v$1=[],j$1={toasts:[],pausedAt:void 0,settings:{toastLimit:re$2}},f$1={},Y$1=(Ve,$e=k$2)=>{f$1[$e]=H$1(f$1[$e]||j$1,Ve),v$1.forEach(([Be,Ue])=>{Be===$e&&Ue(f$1[$e])})},_$1=Ve=>Object.keys(f$1).forEach($e=>Y$1(Ve,$e)),Q$1=Ve=>Object.keys(f$1).find($e=>f$1[$e].toasts.some(Be=>Be.id===Ve)),S$1=(Ve=k$2)=>$e=>{Y$1($e,Ve)},se$1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V$1=(Ve={},$e=k$2)=>{let[Be,Ue]=reactExports.useState(f$1[$e]||j$1),ze=reactExports.useRef(f$1[$e]);reactExports.useEffect(()=>(ze.current!==f$1[$e]&&Ue(f$1[$e]),v$1.push([$e,Ue]),()=>{let He=v$1.findIndex(([We])=>We===$e);He>-1&&v$1.splice(He,1)}),[$e]);let qe=Be.toasts.map(He=>{var We,Ge,Ye;return{...Ve,...Ve[He.type],...He,removeDelay:He.removeDelay||((We=Ve[He.type])==null?void 0:We.removeDelay)||Ve?.removeDelay,duration:He.duration||((Ge=Ve[He.type])==null?void 0:Ge.duration)||Ve?.duration||se$1[He.type],style:{...Ve.style,...(Ye=Ve[He.type])==null?void 0:Ye.style,...He.style}}});return{...Be,toasts:qe}},ie$1=(Ve,$e="blank",Be)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:$e,ariaProps:{role:"status","aria-live":"polite"},message:Ve,pauseDuration:0,...Be,id:Be?.id||W$1()}),P$2=Ve=>($e,Be)=>{let Ue=ie$1($e,Ve,Be);return S$1(Ue.toasterId||Q$1(Ue.id))({type:2,toast:Ue}),Ue.id},n=(Ve,$e)=>P$2("blank")(Ve,$e);n.error=P$2("error");n.success=P$2("success");n.loading=P$2("loading");n.custom=P$2("custom");n.dismiss=(Ve,$e)=>{let Be={type:3,toastId:Ve};$e?S$1($e)(Be):_$1(Be)};n.dismissAll=Ve=>n.dismiss(void 0,Ve);n.remove=(Ve,$e)=>{let Be={type:4,toastId:Ve};$e?S$1($e)(Be):_$1(Be)};n.removeAll=Ve=>n.remove(void 0,Ve);n.promise=(Ve,$e,Be)=>{let Ue=n.loading($e.loading,{...Be,...Be?.loading});return typeof Ve=="function"&&(Ve=Ve()),Ve.then(ze=>{let qe=$e.success?h$1($e.success,ze):void 0;return qe?n.success(qe,{id:Ue,...Be,...Be?.success}):n.dismiss(Ue),ze}).catch(ze=>{let qe=$e.error?h$1($e.error,ze):void 0;qe?n.error(qe,{id:Ue,...Be,...Be?.error}):n.dismiss(Ue)}),Ve};var ce$1=1e3,w$1=(Ve,$e="default")=>{let{toasts:Be,pausedAt:Ue}=V$1(Ve,$e),ze=reactExports.useRef(new Map).current,qe=reactExports.useCallback((Je,er=ce$1)=>{if(ze.has(Je))return;let Ze=setTimeout(()=>{ze.delete(Je),He({type:4,toastId:Je})},er);ze.set(Je,Ze)},[]);reactExports.useEffect(()=>{if(Ue)return;let Je=Date.now(),er=Be.map(Ze=>{if(Ze.duration===1/0)return;let rr=(Ze.duration||0)+Ze.pauseDuration-(Je-Ze.createdAt);if(rr<0){Ze.visible&&n.dismiss(Ze.id);return}return setTimeout(()=>n.dismiss(Ze.id,$e),rr)});return()=>{er.forEach(Ze=>Ze&&clearTimeout(Ze))}},[Be,Ue,$e]);let He=reactExports.useCallback(S$1($e),[$e]),We=reactExports.useCallback(()=>{He({type:5,time:Date.now()})},[He]),Ge=reactExports.useCallback((Je,er)=>{He({type:1,toast:{id:Je,height:er}})},[He]),Ye=reactExports.useCallback(()=>{Ue&&He({type:6,time:Date.now()})},[Ue,He]),Xe=reactExports.useCallback((Je,er)=>{let{reverseOrder:Ze=!1,gutter:rr=8,defaultPosition:nr}=er||{},ar=Be.filter(or=>(or.position||nr)===(Je.position||nr)&&or.height),sr=ar.findIndex(or=>or.id===Je.id),lr=ar.filter((or,cr)=>cr<sr&&or.visible).length;return ar.filter(or=>or.visible).slice(...Ze?[lr+1]:[0,lr]).reduce((or,cr)=>or+(cr.height||0)+rr,0)},[Be]);return reactExports.useEffect(()=>{Be.forEach(Je=>{if(Je.dismissed)qe(Je.id,Je.removeDelay);else{let er=ze.get(Je.id);er&&(clearTimeout(er),ze.delete(Je.id))}})},[Be,qe]),{toasts:Be,handlers:{updateHeight:Ge,startPause:We,endPause:Ye,calculateOffset:Xe}}},de$1=h$2`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,me$1=h$2`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le$1=h$2`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C$1=w$2("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Ve=>Ve.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${me$1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${Ve=>Ve.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le$1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Te=h$2`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F$1=w$2("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${Ve=>Ve.secondary||"#e0e0e0"};
  border-right-color: ${Ve=>Ve.primary||"#616161"};
  animation: ${Te} 1s linear infinite;
`,ge$1=h$2`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,he$1=h$2`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L$1=w$2("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Ve=>Ve.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ge$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${he$1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${Ve=>Ve.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,be$1=w$2("div")`
  position: absolute;
`,Se$1=w$2("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae$1=h$2`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe$1=w$2("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae$1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$$1=({toast:Ve})=>{let{icon:$e,type:Be,iconTheme:Ue}=Ve;return $e!==void 0?typeof $e=="string"?reactExports.createElement(Pe$1,null,$e):$e:Be==="blank"?null:reactExports.createElement(Se$1,null,reactExports.createElement(F$1,{...Ue}),Be!=="loading"&&reactExports.createElement(be$1,null,Be==="error"?reactExports.createElement(C$1,{...Ue}):reactExports.createElement(L$1,{...Ue})))},Re=Ve=>`
0% {transform: translate3d(0,${Ve*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ee=Ve=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${Ve*-150}%,-1px) scale(.6); opacity:0;}
`,ve$1="0%{opacity:0;} 100%{opacity:1;}",De="0%{opacity:1;} 100%{opacity:0;}",Oe=w$2("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ie$1=w$2("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke$1=(Ve,$e)=>{let Be=Ve.includes("top")?1:-1,[Ue,ze]=E$1()?[ve$1,De]:[Re(Be),Ee(Be)];return{animation:$e?`${h$2(Ue)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$2(ze)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N$1=reactExports.memo(({toast:Ve,position:$e,style:Be,children:Ue})=>{let ze=Ve.height?ke$1(Ve.position||$e||"top-center",Ve.visible):{opacity:0},qe=reactExports.createElement($$1,{toast:Ve}),He=reactExports.createElement(Ie$1,{...Ve.ariaProps},h$1(Ve.message,Ve));return reactExports.createElement(Oe,{className:Ve.className,style:{...ze,...Be,...Ve.style}},typeof Ue=="function"?Ue({icon:qe,message:He}):reactExports.createElement(reactExports.Fragment,null,qe,He))});m$1(reactExports.createElement);var we$1=({id:Ve,className:$e,style:Be,onHeightUpdate:Ue,children:ze})=>{let qe=reactExports.useCallback(He=>{if(He){let We=()=>{let Ge=He.getBoundingClientRect().height;Ue(Ve,Ge)};We(),new MutationObserver(We).observe(He,{subtree:!0,childList:!0,characterData:!0})}},[Ve,Ue]);return reactExports.createElement("div",{ref:qe,className:$e,style:Be},ze)},Me=(Ve,$e)=>{let Be=Ve.includes("top"),Ue=Be?{top:0}:{bottom:0},ze=Ve.includes("center")?{justifyContent:"center"}:Ve.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E$1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${$e*(Be?1:-1)}px)`,...Ue,...ze}},Ce=u$1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D$1=16,Fe$1=({reverseOrder:Ve,position:$e="top-center",toastOptions:Be,gutter:Ue,children:ze,toasterId:qe,containerStyle:He,containerClassName:We})=>{let{toasts:Ge,handlers:Ye}=w$1(Be,qe);return reactExports.createElement("div",{"data-rht-toaster":qe||"",style:{position:"fixed",zIndex:9999,top:D$1,left:D$1,right:D$1,bottom:D$1,pointerEvents:"none",...He},className:We,onMouseEnter:Ye.startPause,onMouseLeave:Ye.endPause},Ge.map(Xe=>{let Je=Xe.position||$e,er=Ye.calculateOffset(Xe,{reverseOrder:Ve,gutter:Ue,defaultPosition:$e}),Ze=Me(Je,er);return reactExports.createElement(we$1,{id:Xe.id,key:Xe.id,onHeightUpdate:Ye.updateHeight,className:Xe.visible?Ce:"",style:Ze},Xe.type==="custom"?h$1(Xe.message,Xe):ze?ze(Xe):reactExports.createElement(N$1,{toast:Xe,position:Je}))}))},zt$1=n;/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=Ve=>Ve.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=Ve=>Ve.replace(/^([A-Z])|[\s-_]+(\w)/g,($e,Be,Ue)=>Ue?Ue.toUpperCase():Be.toLowerCase()),toPascalCase=Ve=>{const $e=toCamelCase(Ve);return $e.charAt(0).toUpperCase()+$e.slice(1)},mergeClasses=(...Ve)=>Ve.filter(($e,Be,Ue)=>!!$e&&$e.trim()!==""&&Ue.indexOf($e)===Be).join(" ").trim(),hasA11yProp=Ve=>{for(const $e in Ve)if($e.startsWith("aria-")||$e==="role"||$e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:Ve="currentColor",size:$e=24,strokeWidth:Be=2,absoluteStrokeWidth:Ue,className:ze="",children:qe,iconNode:He,...We},Ge)=>reactExports.createElement("svg",{ref:Ge,...defaultAttributes,width:$e,height:$e,stroke:Ve,strokeWidth:Ue?Number(Be)*24/Number($e):Be,className:mergeClasses("lucide",ze),...!qe&&!hasA11yProp(We)&&{"aria-hidden":"true"},...We},[...He.map(([Ye,Xe])=>reactExports.createElement(Ye,Xe)),...Array.isArray(qe)?qe:[qe]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(Ve,$e)=>{const Be=reactExports.forwardRef(({className:Ue,...ze},qe)=>reactExports.createElement(Icon,{ref:qe,iconNode:$e,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(Ve))}`,`lucide-${Ve}`,Ue),...ze}));return Be.displayName=toPascalCase(Ve),Be};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1h=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ArrowDownRight=createLucideIcon("arrow-down-right",__iconNode$1h);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1g=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],ArrowDownWideNarrow=createLucideIcon("arrow-down-wide-narrow",__iconNode$1g);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1f=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$1f);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$1e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1d=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],ArrowUpNarrowWide=createLucideIcon("arrow-up-narrow-wide",__iconNode$1d);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1c=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ArrowUpRight=createLucideIcon("arrow-up-right",__iconNode$1c);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1b=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Award=createLucideIcon("award",__iconNode$1b);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1a=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Banknote=createLucideIcon("banknote",__iconNode$1a);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$19=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bell=createLucideIcon("bell",__iconNode$19);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$18=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$18);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$17=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Calculator=createLucideIcon("calculator",__iconNode$17);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$16=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$16);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$15=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Camera=createLucideIcon("camera",__iconNode$15);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$14=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ChartColumn=createLucideIcon("chart-column",__iconNode$14);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$13=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ChartPie=createLucideIcon("chart-pie",__iconNode$13);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$12=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$12);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$11=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$11);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$10=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$10);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$$);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$_);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Z=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],CloudRain=createLucideIcon("cloud-rain",__iconNode$Z);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Y=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$Y);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$X=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],CreditCard=createLucideIcon("credit-card",__iconNode$X);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$W=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Crown=createLucideIcon("crown",__iconNode$W);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$V=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Database=createLucideIcon("database",__iconNode$V);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$U=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],DollarSign=createLucideIcon("dollar-sign",__iconNode$U);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$T);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],EllipsisVertical=createLucideIcon("ellipsis-vertical",__iconNode$S);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EyeOff=createLucideIcon("eye-off",__iconNode$R);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$Q);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$P);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$O);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Hash=createLucideIcon("hash",__iconNode$N);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],HeartPulse=createLucideIcon("heart-pulse",__iconNode$M);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Heart=createLucideIcon("heart",__iconNode$L);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],House=createLucideIcon("house",__iconNode$K);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info=createLucideIcon("info",__iconNode$J);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Landmark=createLucideIcon("landmark",__iconNode$I);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$H);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],LogIn=createLucideIcon("log-in",__iconNode$G);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LogOut=createLucideIcon("log-out",__iconNode$F);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lock=createLucideIcon("lock",__iconNode$E);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mail=createLucideIcon("mail",__iconNode$D);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MapPin=createLucideIcon("map-pin",__iconNode$C);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Megaphone=createLucideIcon("megaphone",__iconNode$B);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],MessageCircle=createLucideIcon("message-circle",__iconNode$A);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],MessageSquare=createLucideIcon("message-square",__iconNode$z);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Monitor=createLucideIcon("monitor",__iconNode$y);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Moon=createLucideIcon("moon",__iconNode$x);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Paperclip=createLucideIcon("paperclip",__iconNode$w);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],PenLine=createLucideIcon("pen-line",__iconNode$v);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Percent=createLucideIcon("percent",__iconNode$u);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Phone=createLucideIcon("phone",__iconNode$t);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],PiggyBank=createLucideIcon("piggy-bank",__iconNode$s);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Pin=createLucideIcon("pin",__iconNode$r);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$q);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Receipt=createLucideIcon("receipt",__iconNode$p);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RefreshCw=createLucideIcon("refresh-cw",__iconNode$o);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=createLucideIcon("save",__iconNode$n);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$m);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Send=createLucideIcon("send",__iconNode$l);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings=createLucideIcon("settings",__iconNode$k);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ShieldCheck=createLucideIcon("shield-check",__iconNode$j);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Shield=createLucideIcon("shield",__iconNode$i);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Sprout=createLucideIcon("sprout",__iconNode$h);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon("square-pen",__iconNode$g);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("star",__iconNode$f);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("sun",__iconNode$e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Table=createLucideIcon("table",__iconNode$d);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Target=createLucideIcon("target",__iconNode$c);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],TestTube=createLucideIcon("test-tube",__iconNode$b);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$a);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],TrendingDown=createLucideIcon("trending-down",__iconNode$9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$8);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TriangleAlert=createLucideIcon("triangle-alert",__iconNode$7);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$6);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UserPlus=createLucideIcon("user-plus",__iconNode$5);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Users=createLucideIcon("users",__iconNode$4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User=createLucideIcon("user",__iconNode$3);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Wallet=createLucideIcon("wallet",__iconNode$2);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Wifi=createLucideIcon("wifi",__iconNode$1);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X$1=createLucideIcon("x",__iconNode),BottomNavigation=({onOpenAddTransaction:Ve})=>{const $e=useLocation(),{user:Be}=useAuth(),ze=(()=>{console.log("[BottomNavigation] building items for role",Be?.role);const qe=[{name:"",href:Be?.role?`/${Be.role}`:"/",icon:House,roles:["admin","cashier","member"]}],He={admin:[{name:"",href:"/admin/treasury",icon:TrendingUp},{name:"",href:"/admin/members",icon:Users},{name:"",href:"/admin/notice-board",icon:Bell},{name:"",href:"/admin/settings",icon:Settings}],cashier:[{name:"",href:"/cashier/transactions",icon:DollarSign},{name:"",href:"/cashier/unified-finance",icon:Table},{name:"",href:"/cashier/members",icon:Users},{name:"",href:"/cashier/settings",icon:Settings}],member:[{name:"",href:"/member/table",icon:Table},{name:"",href:"/member/financial-summary",icon:ChartPie},{name:"",href:"/member/notice-board",icon:Bell},{name:"",href:"/member/members",icon:Users},{name:"",href:"/member/settings",icon:Settings}]};return[...qe,...He[Be?.role]||He.member]})();return jsxRuntimeExports.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white z-30",style:{borderTop:"1px solid #e5e7eb",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(8px)",backgroundColor:"rgba(255, 255, 255, 0.95)"},children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-around h-16 px-1",children:ze.map(qe=>{const He=qe.icon,We=$e.pathname===qe.href;return qe.href==="/add-transaction"?jsxRuntimeExports.jsxs("button",{onClick:Ve,className:"relative flex flex-col items-center justify-center p-2 rounded-xl transition-all duration-200 min-w-0 flex-1 group",style:{color:"#6b7280",transform:"translateY(0)"},onTouchStart:Ye=>{const Xe=Ye.currentTarget,Je=document.createElement("div"),er=Xe.getBoundingClientRect(),Ze=Math.max(er.width,er.height),rr=Ye.touches[0].clientX-er.left-Ze/2,nr=Ye.touches[0].clientY-er.top-Ze/2;Je.style.cssText=`
                    position: absolute;
                    width: ${Ze}px;
                    height: ${Ze}px;
                    left: ${rr}px;
                    top: ${nr}px;
                    background: rgba(59, 130, 246, 0.2);
                    border-radius: 50%;
                    transform: scale(0);
                    animation: ripple 0.3s ease-out;
                    pointer-events: none;
                    z-index: 1;
                  `,Xe.appendChild(Je),setTimeout(()=>{Je.parentNode&&Je.parentNode.removeChild(Je)},300)},children:[jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-200 group-hover:scale-105",style:{backgroundColor:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)"},children:jsxRuntimeExports.jsx(He,{size:20,className:"transition-all duration-200",style:{strokeWidth:2.5}})}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium mt-1 transition-all duration-200 truncate max-w-full",style:{fontSize:"11px",lineHeight:"1.2"},children:qe.name})]},qe.href):jsxRuntimeExports.jsxs(Link,{to:qe.href,className:"relative flex flex-col items-center justify-center p-2 rounded-xl transition-all duration-200 min-w-0 flex-1 group",style:{color:We?"#3b82f6":"#6b7280",transform:We?"translateY(-1px)":"translateY(0)"},onTouchStart:Ye=>{const Xe=Ye.currentTarget,Je=document.createElement("div"),er=Xe.getBoundingClientRect(),Ze=Math.max(er.width,er.height),rr=Ye.touches[0].clientX-er.left-Ze/2,nr=Ye.touches[0].clientY-er.top-Ze/2;Je.style.cssText=`
                  position: absolute;
                  width: ${Ze}px;
                  height: ${Ze}px;
                  left: ${rr}px;
                  top: ${nr}px;
                  background: rgba(59, 130, 246, 0.2);
                  border-radius: 50%;
                  transform: scale(0);
                  animation: ripple 0.3s ease-out;
                  pointer-events: none;
                  z-index: 1;
                `,Xe.appendChild(Je),setTimeout(()=>{Je.parentNode&&Je.parentNode.removeChild(Je)},300)},children:[We&&jsxRuntimeExports.jsx("div",{className:"absolute -top-0.5 w-8 h-1 rounded-full transition-all duration-200",style:{backgroundColor:"#3b82f6",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"}}),jsxRuntimeExports.jsx("div",{className:`relative flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-200 ${We?"scale-110":"scale-100"}`,style:{backgroundColor:We?"rgba(59, 130, 246, 0.1)":"transparent"},children:jsxRuntimeExports.jsx(He,{className:"w-5 h-5 transition-all duration-200",strokeWidth:We?2.5:2})}),jsxRuntimeExports.jsx("span",{className:`text-xs mt-1 font-medium transition-all duration-200 truncate max-w-full ${We?"text-blue-600":"text-gray-500"}`,style:{fontSize:"0.7rem",fontWeight:We?600:500,letterSpacing:"-0.01em"},children:qe.name}),jsxRuntimeExports.jsx("div",{className:`absolute inset-0 rounded-xl transition-all duration-200 ${We?"bg-blue-50 opacity-0":"bg-gray-50 opacity-0 group-hover:opacity-100"}`,style:{zIndex:-1}})]},qe.href)})}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes ripple {
          to {
            transform: scale(2);
            opacity: 0;
          }
        }
        
        /* Android-style touch feedback */
        .group:active {
          transform: scale(0.95) !important;
        }
        
        /* Smooth transitions for better feel */
        .group {
          -webkit-tap-highlight-color: transparent;
          user-select: none;
        }
      `})]})},Footer=()=>{console.log("Footer rendered");const Ve=Be=>(Be.preventDefault(),!1),$e=Be=>(Be.preventDefault(),!1);return jsxRuntimeExports.jsx("footer",{className:"footer",children:jsxRuntimeExports.jsx("img",{src:"/footer_logo.svg",alt:"Footer Logo",className:"footer-logo",onContextMenu:Ve,onDragStart:$e,draggable:!1})})};function formatMuiErrorMessage(Ve,...$e){const Be=new URL(`https://mui.com/production-error/?code=${Ve}`);return $e.forEach(Ue=>Be.searchParams.append("args[]",Ue)),`Minified MUI error #${Ve}; visit ${Be} for the full message.`}const THEME_ID="$$material";function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$r.apply(null,arguments)}function sheetForTag(Ve){if(Ve.sheet)return Ve.sheet;for(var $e=0;$e<document.styleSheets.length;$e++)if(document.styleSheets[$e].ownerNode===Ve)return document.styleSheets[$e]}function createStyleElement(Ve){var $e=document.createElement("style");return $e.setAttribute("data-emotion",Ve.key),Ve.nonce!==void 0&&$e.setAttribute("nonce",Ve.nonce),$e.appendChild(document.createTextNode("")),$e.setAttribute("data-s",""),$e}var StyleSheet=(function(){function Ve(Be){var Ue=this;this._insertTag=function(ze){var qe;Ue.tags.length===0?Ue.insertionPoint?qe=Ue.insertionPoint.nextSibling:Ue.prepend?qe=Ue.container.firstChild:qe=Ue.before:qe=Ue.tags[Ue.tags.length-1].nextSibling,Ue.container.insertBefore(ze,qe),Ue.tags.push(ze)},this.isSpeedy=Be.speedy===void 0?!0:Be.speedy,this.tags=[],this.ctr=0,this.nonce=Be.nonce,this.key=Be.key,this.container=Be.container,this.prepend=Be.prepend,this.insertionPoint=Be.insertionPoint,this.before=null}var $e=Ve.prototype;return $e.hydrate=function(Ue){Ue.forEach(this._insertTag)},$e.insert=function(Ue){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var ze=this.tags[this.tags.length-1];if(this.isSpeedy){var qe=sheetForTag(ze);try{qe.insertRule(Ue,qe.cssRules.length)}catch{}}else ze.appendChild(document.createTextNode(Ue));this.ctr++},$e.flush=function(){this.tags.forEach(function(Ue){var ze;return(ze=Ue.parentNode)==null?void 0:ze.removeChild(Ue)}),this.tags=[],this.ctr=0},Ve})(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT$1="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$1=String.fromCharCode,assign$2=Object.assign;function hash(Ve,$e){return charat(Ve,0)^45?((($e<<2^charat(Ve,0))<<2^charat(Ve,1))<<2^charat(Ve,2))<<2^charat(Ve,3):0}function trim(Ve){return Ve.trim()}function match(Ve,$e){return(Ve=$e.exec(Ve))?Ve[0]:Ve}function replace(Ve,$e,Be){return Ve.replace($e,Be)}function indexof(Ve,$e){return Ve.indexOf($e)}function charat(Ve,$e){return Ve.charCodeAt($e)|0}function substr(Ve,$e,Be){return Ve.slice($e,Be)}function strlen(Ve){return Ve.length}function sizeof(Ve){return Ve.length}function append$1(Ve,$e){return $e.push(Ve),Ve}function combine(Ve,$e){return Ve.map($e).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(Ve,$e,Be,Ue,ze,qe,He){return{value:Ve,root:$e,parent:Be,type:Ue,props:ze,children:qe,line,column,length:He,return:""}}function copy$2(Ve,$e){return assign$2(node("",null,null,"",null,null,0),Ve,{length:-Ve.length},$e)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek$1(){return charat(characters,position)}function caret(){return position}function slice(Ve,$e){return substr(characters,Ve,$e)}function token(Ve){switch(Ve){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(Ve){return line=column=1,length=strlen(characters=Ve),position=0,[]}function dealloc(Ve){return characters="",Ve}function delimit(Ve){return trim(slice(position-1,delimiter(Ve===91?Ve+2:Ve===40?Ve+1:Ve)))}function whitespace(Ve){for(;(character=peek$1())&&character<33;)next();return token(Ve)>2||token(character)>3?"":" "}function escaping(Ve,$e){for(;--$e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(Ve,caret()+($e<6&&peek$1()==32&&next()==32))}function delimiter(Ve){for(;next();)switch(character){case Ve:return position;case 34:case 39:Ve!==34&&Ve!==39&&delimiter(character);break;case 40:Ve===41&&delimiter(Ve);break;case 92:next();break}return position}function commenter(Ve,$e){for(;next()&&Ve+character!==57;)if(Ve+character===84&&peek$1()===47)break;return"/*"+slice($e,position-1)+"*"+from$1(Ve===47?Ve:next())}function identifier(Ve){for(;!token(peek$1());)next();return slice(Ve,position)}function compile(Ve){return dealloc(parse("",null,null,null,[""],Ve=alloc(Ve),0,[0],Ve))}function parse(Ve,$e,Be,Ue,ze,qe,He,We,Ge){for(var Ye=0,Xe=0,Je=He,er=0,Ze=0,rr=0,nr=1,ar=1,sr=1,lr=0,or="",cr=ze,hr=qe,yr=Ue,mr=or;ar;)switch(rr=lr,lr=next()){case 40:if(rr!=108&&charat(mr,Je-1)==58){indexof(mr+=replace(delimit(lr),"&","&\f"),"&\f")!=-1&&(sr=-1);break}case 34:case 39:case 91:mr+=delimit(lr);break;case 9:case 10:case 13:case 32:mr+=whitespace(rr);break;case 92:mr+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append$1(comment(commenter(next(),caret()),$e,Be),Ge);break;default:mr+="/"}break;case 123*nr:We[Ye++]=strlen(mr)*sr;case 125*nr:case 59:case 0:switch(lr){case 0:case 125:ar=0;case 59+Xe:sr==-1&&(mr=replace(mr,/\f/g,"")),Ze>0&&strlen(mr)-Je&&append$1(Ze>32?declaration(mr+";",Ue,Be,Je-1):declaration(replace(mr," ","")+";",Ue,Be,Je-2),Ge);break;case 59:mr+=";";default:if(append$1(yr=ruleset(mr,$e,Be,Ye,Xe,ze,We,or,cr=[],hr=[],Je),qe),lr===123)if(Xe===0)parse(mr,$e,yr,yr,cr,qe,Je,We,hr);else switch(er===99&&charat(mr,3)===110?100:er){case 100:case 108:case 109:case 115:parse(Ve,yr,yr,Ue&&append$1(ruleset(Ve,yr,yr,0,0,ze,We,or,ze,cr=[],Je),hr),ze,hr,Je,We,Ue?cr:hr);break;default:parse(mr,yr,yr,yr,[""],hr,0,We,hr)}}Ye=Xe=Ze=0,nr=sr=1,or=mr="",Je=He;break;case 58:Je=1+strlen(mr),Ze=rr;default:if(nr<1){if(lr==123)--nr;else if(lr==125&&nr++==0&&prev()==125)continue}switch(mr+=from$1(lr),lr*nr){case 38:sr=Xe>0?1:(mr+="\f",-1);break;case 44:We[Ye++]=(strlen(mr)-1)*sr,sr=1;break;case 64:peek$1()===45&&(mr+=delimit(next())),er=peek$1(),Xe=Je=strlen(or=mr+=identifier(caret())),lr++;break;case 45:rr===45&&strlen(mr)==2&&(nr=0)}}return qe}function ruleset(Ve,$e,Be,Ue,ze,qe,He,We,Ge,Ye,Xe){for(var Je=ze-1,er=ze===0?qe:[""],Ze=sizeof(er),rr=0,nr=0,ar=0;rr<Ue;++rr)for(var sr=0,lr=substr(Ve,Je+1,Je=abs(nr=He[rr])),or=Ve;sr<Ze;++sr)(or=trim(nr>0?er[sr]+" "+lr:replace(lr,/&\f/g,er[sr])))&&(Ge[ar++]=or);return node(Ve,$e,Be,ze===0?RULESET:We,Ge,Ye,Xe)}function comment(Ve,$e,Be){return node(Ve,$e,Be,COMMENT$1,from$1(char()),substr(Ve,2,-2),0)}function declaration(Ve,$e,Be,Ue){return node(Ve,$e,Be,DECLARATION,substr(Ve,0,Ue),substr(Ve,Ue+1,-1),Ue)}function serialize(Ve,$e){for(var Be="",Ue=sizeof(Ve),ze=0;ze<Ue;ze++)Be+=$e(Ve[ze],ze,Ve,$e)||"";return Be}function stringify(Ve,$e,Be,Ue){switch(Ve.type){case LAYER:if(Ve.children.length)break;case IMPORT:case DECLARATION:return Ve.return=Ve.return||Ve.value;case COMMENT$1:return"";case KEYFRAMES:return Ve.return=Ve.value+"{"+serialize(Ve.children,Ue)+"}";case RULESET:Ve.value=Ve.props.join(",")}return strlen(Be=serialize(Ve.children,Ue))?Ve.return=Ve.value+"{"+Be+"}":""}function middleware(Ve){var $e=sizeof(Ve);return function(Be,Ue,ze,qe){for(var He="",We=0;We<$e;We++)He+=Ve[We](Be,Ue,ze,qe)||"";return He}}function rulesheet(Ve){return function($e){$e.root||($e=$e.return)&&Ve($e)}}function memoize$2(Ve){var $e=Object.create(null);return function(Be){return $e[Be]===void 0&&($e[Be]=Ve(Be)),$e[Be]}}var identifierWithPointTracking=function($e,Be,Ue){for(var ze=0,qe=0;ze=qe,qe=peek$1(),ze===38&&qe===12&&(Be[Ue]=1),!token(qe);)next();return slice($e,position)},toRules=function($e,Be){var Ue=-1,ze=44;do switch(token(ze)){case 0:ze===38&&peek$1()===12&&(Be[Ue]=1),$e[Ue]+=identifierWithPointTracking(position-1,Be,Ue);break;case 2:$e[Ue]+=delimit(ze);break;case 4:if(ze===44){$e[++Ue]=peek$1()===58?"&\f":"",Be[Ue]=$e[Ue].length;break}default:$e[Ue]+=from$1(ze)}while(ze=next());return $e},getRules=function($e,Be){return dealloc(toRules(alloc($e),Be))},fixedElements=new WeakMap,compat=function($e){if(!($e.type!=="rule"||!$e.parent||$e.length<1)){for(var Be=$e.value,Ue=$e.parent,ze=$e.column===Ue.column&&$e.line===Ue.line;Ue.type!=="rule";)if(Ue=Ue.parent,!Ue)return;if(!($e.props.length===1&&Be.charCodeAt(0)!==58&&!fixedElements.get(Ue))&&!ze){fixedElements.set($e,!0);for(var qe=[],He=getRules(Be,qe),We=Ue.props,Ge=0,Ye=0;Ge<He.length;Ge++)for(var Xe=0;Xe<We.length;Xe++,Ye++)$e.props[Ye]=qe[Ge]?He[Ge].replace(/&\f/g,We[Xe]):We[Xe]+" "+He[Ge]}}},removeLabel=function($e){if($e.type==="decl"){var Be=$e.value;Be.charCodeAt(0)===108&&Be.charCodeAt(2)===98&&($e.return="",$e.value="")}};function prefix$1(Ve,$e){switch(hash(Ve,$e)){case 5103:return WEBKIT+"print-"+Ve+Ve;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+Ve+Ve;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+Ve+MOZ+Ve+MS+Ve+Ve;case 6828:case 4268:return WEBKIT+Ve+MS+Ve+Ve;case 6165:return WEBKIT+Ve+MS+"flex-"+Ve+Ve;case 5187:return WEBKIT+Ve+replace(Ve,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+Ve;case 5443:return WEBKIT+Ve+MS+"flex-item-"+replace(Ve,/flex-|-self/,"")+Ve;case 4675:return WEBKIT+Ve+MS+"flex-line-pack"+replace(Ve,/align-content|flex-|-self/,"")+Ve;case 5548:return WEBKIT+Ve+MS+replace(Ve,"shrink","negative")+Ve;case 5292:return WEBKIT+Ve+MS+replace(Ve,"basis","preferred-size")+Ve;case 6060:return WEBKIT+"box-"+replace(Ve,"-grow","")+WEBKIT+Ve+MS+replace(Ve,"grow","positive")+Ve;case 4554:return WEBKIT+replace(Ve,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+Ve;case 6187:return replace(replace(replace(Ve,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),Ve,"")+Ve;case 5495:case 3959:return replace(Ve,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(Ve,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+Ve+Ve;case 4095:case 3583:case 4068:case 2532:return replace(Ve,/(.+)-inline(.+)/,WEBKIT+"$1$2")+Ve;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(Ve)-1-$e>6)switch(charat(Ve,$e+1)){case 109:if(charat(Ve,$e+4)!==45)break;case 102:return replace(Ve,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(Ve,$e+3)==108?"$3":"$2-$3"))+Ve;case 115:return~indexof(Ve,"stretch")?prefix$1(replace(Ve,"stretch","fill-available"),$e)+Ve:Ve}break;case 4949:if(charat(Ve,$e+1)!==115)break;case 6444:switch(charat(Ve,strlen(Ve)-3-(~indexof(Ve,"!important")&&10))){case 107:return replace(Ve,":",":"+WEBKIT)+Ve;case 101:return replace(Ve,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(Ve,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+Ve}break;case 5936:switch(charat(Ve,$e+11)){case 114:return WEBKIT+Ve+MS+replace(Ve,/[svh]\w+-[tblr]{2}/,"tb")+Ve;case 108:return WEBKIT+Ve+MS+replace(Ve,/[svh]\w+-[tblr]{2}/,"tb-rl")+Ve;case 45:return WEBKIT+Ve+MS+replace(Ve,/[svh]\w+-[tblr]{2}/,"lr")+Ve}return WEBKIT+Ve+MS+Ve+Ve}return Ve}var prefixer=function($e,Be,Ue,ze){if($e.length>-1&&!$e.return)switch($e.type){case DECLARATION:$e.return=prefix$1($e.value,$e.length);break;case KEYFRAMES:return serialize([copy$2($e,{value:replace($e.value,"@","@"+WEBKIT)})],ze);case RULESET:if($e.length)return combine($e.props,function(qe){switch(match(qe,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy$2($e,{props:[replace(qe,/:(read-\w+)/,":"+MOZ+"$1")]})],ze);case"::placeholder":return serialize([copy$2($e,{props:[replace(qe,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$2($e,{props:[replace(qe,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$2($e,{props:[replace(qe,/:(plac\w+)/,MS+"input-$1")]})],ze)}return""})}},defaultStylisPlugins=[prefixer],createCache=function($e){var Be=$e.key;if(Be==="css"){var Ue=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(Ue,function(nr){var ar=nr.getAttribute("data-emotion");ar.indexOf(" ")!==-1&&(document.head.appendChild(nr),nr.setAttribute("data-s",""))})}var ze=$e.stylisPlugins||defaultStylisPlugins,qe={},He,We=[];He=$e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+Be+' "]'),function(nr){for(var ar=nr.getAttribute("data-emotion").split(" "),sr=1;sr<ar.length;sr++)qe[ar[sr]]=!0;We.push(nr)});var Ge,Ye=[compat,removeLabel];{var Xe,Je=[stringify,rulesheet(function(nr){Xe.insert(nr)})],er=middleware(Ye.concat(ze,Je)),Ze=function(ar){return serialize(compile(ar),er)};Ge=function(ar,sr,lr,or){Xe=lr,Ze(ar?ar+"{"+sr.styles+"}":sr.styles),or&&(rr.inserted[sr.name]=!0)}}var rr={key:Be,sheet:new StyleSheet({key:Be,container:He,nonce:$e.nonce,speedy:$e.speedy,prepend:$e.prepend,insertionPoint:$e.insertionPoint}),nonce:$e.nonce,inserted:qe,registered:{},insert:Ge};return rr.sheet.hydrate(We),rr},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var Ve=typeof Symbol=="function"&&Symbol.for,$e=Ve?Symbol.for("react.element"):60103,Be=Ve?Symbol.for("react.portal"):60106,Ue=Ve?Symbol.for("react.fragment"):60107,ze=Ve?Symbol.for("react.strict_mode"):60108,qe=Ve?Symbol.for("react.profiler"):60114,He=Ve?Symbol.for("react.provider"):60109,We=Ve?Symbol.for("react.context"):60110,Ge=Ve?Symbol.for("react.async_mode"):60111,Ye=Ve?Symbol.for("react.concurrent_mode"):60111,Xe=Ve?Symbol.for("react.forward_ref"):60112,Je=Ve?Symbol.for("react.suspense"):60113,er=Ve?Symbol.for("react.suspense_list"):60120,Ze=Ve?Symbol.for("react.memo"):60115,rr=Ve?Symbol.for("react.lazy"):60116,nr=Ve?Symbol.for("react.block"):60121,ar=Ve?Symbol.for("react.fundamental"):60117,sr=Ve?Symbol.for("react.responder"):60118,lr=Ve?Symbol.for("react.scope"):60119;function or(hr){if(typeof hr=="object"&&hr!==null){var yr=hr.$$typeof;switch(yr){case $e:switch(hr=hr.type,hr){case Ge:case Ye:case Ue:case qe:case ze:case Je:return hr;default:switch(hr=hr&&hr.$$typeof,hr){case We:case Xe:case rr:case Ze:case He:return hr;default:return yr}}case Be:return yr}}}function cr(hr){return or(hr)===Ye}return reactIs_production_min.AsyncMode=Ge,reactIs_production_min.ConcurrentMode=Ye,reactIs_production_min.ContextConsumer=We,reactIs_production_min.ContextProvider=He,reactIs_production_min.Element=$e,reactIs_production_min.ForwardRef=Xe,reactIs_production_min.Fragment=Ue,reactIs_production_min.Lazy=rr,reactIs_production_min.Memo=Ze,reactIs_production_min.Portal=Be,reactIs_production_min.Profiler=qe,reactIs_production_min.StrictMode=ze,reactIs_production_min.Suspense=Je,reactIs_production_min.isAsyncMode=function(hr){return cr(hr)||or(hr)===Ge},reactIs_production_min.isConcurrentMode=cr,reactIs_production_min.isContextConsumer=function(hr){return or(hr)===We},reactIs_production_min.isContextProvider=function(hr){return or(hr)===He},reactIs_production_min.isElement=function(hr){return typeof hr=="object"&&hr!==null&&hr.$$typeof===$e},reactIs_production_min.isForwardRef=function(hr){return or(hr)===Xe},reactIs_production_min.isFragment=function(hr){return or(hr)===Ue},reactIs_production_min.isLazy=function(hr){return or(hr)===rr},reactIs_production_min.isMemo=function(hr){return or(hr)===Ze},reactIs_production_min.isPortal=function(hr){return or(hr)===Be},reactIs_production_min.isProfiler=function(hr){return or(hr)===qe},reactIs_production_min.isStrictMode=function(hr){return or(hr)===ze},reactIs_production_min.isSuspense=function(hr){return or(hr)===Je},reactIs_production_min.isValidElementType=function(hr){return typeof hr=="string"||typeof hr=="function"||hr===Ue||hr===Ye||hr===qe||hr===ze||hr===Je||hr===er||typeof hr=="object"&&hr!==null&&(hr.$$typeof===rr||hr.$$typeof===Ze||hr.$$typeof===He||hr.$$typeof===We||hr.$$typeof===Xe||hr.$$typeof===ar||hr.$$typeof===sr||hr.$$typeof===lr||hr.$$typeof===nr)},reactIs_production_min.typeOf=or,reactIs_production_min}var hasRequiredReactIs$1;function requireReactIs$1(){return hasRequiredReactIs$1||(hasRequiredReactIs$1=1,reactIs$1.exports=requireReactIs_production_min()),reactIs$1.exports}var hoistNonReactStatics_cjs,hasRequiredHoistNonReactStatics_cjs;function requireHoistNonReactStatics_cjs(){if(hasRequiredHoistNonReactStatics_cjs)return hoistNonReactStatics_cjs;hasRequiredHoistNonReactStatics_cjs=1;var Ve=requireReactIs$1(),$e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Be={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ue={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ze={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qe={};qe[Ve.ForwardRef]=Ue,qe[Ve.Memo]=ze;function He(rr){return Ve.isMemo(rr)?ze:qe[rr.$$typeof]||$e}var We=Object.defineProperty,Ge=Object.getOwnPropertyNames,Ye=Object.getOwnPropertySymbols,Xe=Object.getOwnPropertyDescriptor,Je=Object.getPrototypeOf,er=Object.prototype;function Ze(rr,nr,ar){if(typeof nr!="string"){if(er){var sr=Je(nr);sr&&sr!==er&&Ze(rr,sr,ar)}var lr=Ge(nr);Ye&&(lr=lr.concat(Ye(nr)));for(var or=He(rr),cr=He(nr),hr=0;hr<lr.length;++hr){var yr=lr[hr];if(!Be[yr]&&!(ar&&ar[yr])&&!(cr&&cr[yr])&&!(or&&or[yr])){var mr=Xe(nr,yr);try{We(rr,yr,mr)}catch{}}}}return rr}return hoistNonReactStatics_cjs=Ze,hoistNonReactStatics_cjs}requireHoistNonReactStatics_cjs();var isBrowser$1=!0;function getRegisteredStyles(Ve,$e,Be){var Ue="";return Be.split(" ").forEach(function(ze){Ve[ze]!==void 0?$e.push(Ve[ze]+";"):ze&&(Ue+=ze+" ")}),Ue}var registerStyles=function($e,Be,Ue){var ze=$e.key+"-"+Be.name;(Ue===!1||isBrowser$1===!1)&&$e.registered[ze]===void 0&&($e.registered[ze]=Be.styles)},insertStyles=function($e,Be,Ue){registerStyles($e,Be,Ue);var ze=$e.key+"-"+Be.name;if($e.inserted[Be.name]===void 0){var qe=Be;do $e.insert(Be===qe?"."+ze:"",qe,$e.sheet,!0),qe=qe.next;while(qe!==void 0)}};function murmur2(Ve){for(var $e=0,Be,Ue=0,ze=Ve.length;ze>=4;++Ue,ze-=4)Be=Ve.charCodeAt(Ue)&255|(Ve.charCodeAt(++Ue)&255)<<8|(Ve.charCodeAt(++Ue)&255)<<16|(Ve.charCodeAt(++Ue)&255)<<24,Be=(Be&65535)*1540483477+((Be>>>16)*59797<<16),Be^=Be>>>24,$e=(Be&65535)*1540483477+((Be>>>16)*59797<<16)^($e&65535)*1540483477+(($e>>>16)*59797<<16);switch(ze){case 3:$e^=(Ve.charCodeAt(Ue+2)&255)<<16;case 2:$e^=(Ve.charCodeAt(Ue+1)&255)<<8;case 1:$e^=Ve.charCodeAt(Ue)&255,$e=($e&65535)*1540483477+(($e>>>16)*59797<<16)}return $e^=$e>>>13,$e=($e&65535)*1540483477+(($e>>>16)*59797<<16),(($e^$e>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function($e){return $e.charCodeAt(1)===45},isProcessableValue=function($e){return $e!=null&&typeof $e!="boolean"},processStyleName=memoize$2(function(Ve){return isCustomProperty(Ve)?Ve:Ve.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function($e,Be){switch($e){case"animation":case"animationName":if(typeof Be=="string")return Be.replace(animationRegex,function(Ue,ze,qe){return cursor={name:ze,styles:qe,next:cursor},ze})}return unitlessKeys[$e]!==1&&!isCustomProperty($e)&&typeof Be=="number"&&Be!==0?Be+"px":Be};function handleInterpolation(Ve,$e,Be){if(Be==null)return"";var Ue=Be;if(Ue.__emotion_styles!==void 0)return Ue;switch(typeof Be){case"boolean":return"";case"object":{var ze=Be;if(ze.anim===1)return cursor={name:ze.name,styles:ze.styles,next:cursor},ze.name;var qe=Be;if(qe.styles!==void 0){var He=qe.next;if(He!==void 0)for(;He!==void 0;)cursor={name:He.name,styles:He.styles,next:cursor},He=He.next;var We=qe.styles+";";return We}return createStringFromObject(Ve,$e,Be)}case"function":{if(Ve!==void 0){var Ge=cursor,Ye=Be(Ve);return cursor=Ge,handleInterpolation(Ve,$e,Ye)}break}}var Xe=Be;if($e==null)return Xe;var Je=$e[Xe];return Je!==void 0?Je:Xe}function createStringFromObject(Ve,$e,Be){var Ue="";if(Array.isArray(Be))for(var ze=0;ze<Be.length;ze++)Ue+=handleInterpolation(Ve,$e,Be[ze])+";";else for(var qe in Be){var He=Be[qe];if(typeof He!="object"){var We=He;$e!=null&&$e[We]!==void 0?Ue+=qe+"{"+$e[We]+"}":isProcessableValue(We)&&(Ue+=processStyleName(qe)+":"+processStyleValue(qe,We)+";")}else if(Array.isArray(He)&&typeof He[0]=="string"&&($e==null||$e[He[0]]===void 0))for(var Ge=0;Ge<He.length;Ge++)isProcessableValue(He[Ge])&&(Ue+=processStyleName(qe)+":"+processStyleValue(qe,He[Ge])+";");else{var Ye=handleInterpolation(Ve,$e,He);switch(qe){case"animation":case"animationName":{Ue+=processStyleName(qe)+":"+Ye+";";break}default:Ue+=qe+"{"+Ye+"}"}}}return Ue}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(Ve,$e,Be){if(Ve.length===1&&typeof Ve[0]=="object"&&Ve[0]!==null&&Ve[0].styles!==void 0)return Ve[0];var Ue=!0,ze="";cursor=void 0;var qe=Ve[0];if(qe==null||qe.raw===void 0)Ue=!1,ze+=handleInterpolation(Be,$e,qe);else{var He=qe;ze+=He[0]}for(var We=1;We<Ve.length;We++)if(ze+=handleInterpolation(Be,$e,Ve[We]),Ue){var Ge=qe;ze+=Ge[We]}labelPattern.lastIndex=0;for(var Ye="",Xe;(Xe=labelPattern.exec(ze))!==null;)Ye+="-"+Xe[1];var Je=murmur2(ze)+Ye;return{name:Je,styles:ze,next:cursor}}var syncFallback=function($e){return $e()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function($e){return reactExports.forwardRef(function(Be,Ue){var ze=reactExports.useContext(EmotionCacheContext);return $e(Be,ze,Ue)})},ThemeContext=reactExports.createContext({}),hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function($e,Be){var Ue={};for(var ze in Be)hasOwn.call(Be,ze)&&(Ue[ze]=Be[ze]);return Ue[typePropName]=$e,Ue},Insertion$1=function($e){var Be=$e.cache,Ue=$e.serialized,ze=$e.isStringTag;return registerStyles(Be,Ue,ze),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(Be,Ue,ze)}),null},Emotion=withEmotionCache(function(Ve,$e,Be){var Ue=Ve.css;typeof Ue=="string"&&$e.registered[Ue]!==void 0&&(Ue=$e.registered[Ue]);var ze=Ve[typePropName],qe=[Ue],He="";typeof Ve.className=="string"?He=getRegisteredStyles($e.registered,qe,Ve.className):Ve.className!=null&&(He=Ve.className+" ");var We=serializeStyles(qe,void 0,reactExports.useContext(ThemeContext));He+=$e.key+"-"+We.name;var Ge={};for(var Ye in Ve)hasOwn.call(Ve,Ye)&&Ye!=="css"&&Ye!==typePropName&&(Ge[Ye]=Ve[Ye]);return Ge.className=He,Be&&(Ge.ref=Be),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:$e,serialized:We,isStringTag:typeof ze=="string"}),reactExports.createElement(ze,Ge))}),Emotion$1=Emotion,jsx=function($e,Be){var Ue=arguments;if(Be==null||!hasOwn.call(Be,"css"))return reactExports.createElement.apply(void 0,Ue);var ze=Ue.length,qe=new Array(ze);qe[0]=Emotion$1,qe[1]=createEmotionProps($e,Be);for(var He=2;He<ze;He++)qe[He]=Ue[He];return reactExports.createElement.apply(null,qe)};(function(Ve){var $e;$e||($e=Ve.JSX||(Ve.JSX={}))})(jsx||(jsx={}));function css(){for(var Ve=arguments.length,$e=new Array(Ve),Be=0;Be<Ve;Be++)$e[Be]=arguments[Be];return serializeStyles($e)}function keyframes(){var Ve=css.apply(void 0,arguments),$e="animation-"+Ve.name;return{name:$e,styles:"@keyframes "+$e+"{"+Ve.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$2(function(Ve){return reactPropsRegex.test(Ve)||Ve.charCodeAt(0)===111&&Ve.charCodeAt(1)===110&&Ve.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function($e){return $e!=="theme"},getDefaultShouldForwardProp=function($e){return typeof $e=="string"&&$e.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function($e,Be,Ue){var ze;if(Be){var qe=Be.shouldForwardProp;ze=$e.__emotion_forwardProp&&qe?function(He){return $e.__emotion_forwardProp(He)&&qe(He)}:qe}return typeof ze!="function"&&Ue&&(ze=$e.__emotion_forwardProp),ze},Insertion=function($e){var Be=$e.cache,Ue=$e.serialized,ze=$e.isStringTag;return registerStyles(Be,Ue,ze),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(Be,Ue,ze)}),null},createStyled$1=function Ve($e,Be){var Ue=$e.__emotion_real===$e,ze=Ue&&$e.__emotion_base||$e,qe,He;Be!==void 0&&(qe=Be.label,He=Be.target);var We=composeShouldForwardProps($e,Be,Ue),Ge=We||getDefaultShouldForwardProp(ze),Ye=!Ge("as");return function(){var Xe=arguments,Je=Ue&&$e.__emotion_styles!==void 0?$e.__emotion_styles.slice(0):[];if(qe!==void 0&&Je.push("label:"+qe+";"),Xe[0]==null||Xe[0].raw===void 0)Je.push.apply(Je,Xe);else{var er=Xe[0];Je.push(er[0]);for(var Ze=Xe.length,rr=1;rr<Ze;rr++)Je.push(Xe[rr],er[rr])}var nr=withEmotionCache(function(ar,sr,lr){var or=Ye&&ar.as||ze,cr="",hr=[],yr=ar;if(ar.theme==null){yr={};for(var mr in ar)yr[mr]=ar[mr];yr.theme=reactExports.useContext(ThemeContext)}typeof ar.className=="string"?cr=getRegisteredStyles(sr.registered,hr,ar.className):ar.className!=null&&(cr=ar.className+" ");var vr=serializeStyles(Je.concat(hr),sr.registered,yr);cr+=sr.key+"-"+vr.name,He!==void 0&&(cr+=" "+He);var _r=Ye&&We===void 0?getDefaultShouldForwardProp(or):Ge,Cr={};for(var br in ar)Ye&&br==="as"||_r(br)&&(Cr[br]=ar[br]);return Cr.className=cr,lr&&(Cr.ref=lr),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:sr,serialized:vr,isStringTag:typeof or=="string"}),reactExports.createElement(or,Cr))});return nr.displayName=qe!==void 0?qe:"Styled("+(typeof ze=="string"?ze:ze.displayName||ze.name||"Component")+")",nr.defaultProps=$e.defaultProps,nr.__emotion_real=nr,nr.__emotion_base=ze,nr.__emotion_styles=Je,nr.__emotion_forwardProp=We,Object.defineProperty(nr,"toString",{value:function(){return"."+He}}),nr.withComponent=function(ar,sr){var lr=Ve(ar,_extends$r({},Be,sr,{shouldForwardProp:composeShouldForwardProps(nr,sr,!0)}));return lr.apply(void 0,Je)},nr}},tags$1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],styled$2=createStyled$1.bind(null);tags$1.forEach(function(Ve){styled$2[Ve]=styled$2(Ve)});function styled$1(Ve,$e){return styled$2(Ve,$e)}function internal_mutateStyles(Ve,$e){Array.isArray(Ve.__emotion_styles)&&(Ve.__emotion_styles=$e(Ve.__emotion_styles))}const wrapper=[];function internal_serializeStyles(Ve){return wrapper[0]=Ve,serializeStyles(wrapper)}var reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var Ve=Symbol.for("react.transitional.element"),$e=Symbol.for("react.portal"),Be=Symbol.for("react.fragment"),Ue=Symbol.for("react.strict_mode"),ze=Symbol.for("react.profiler"),qe=Symbol.for("react.consumer"),He=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),er=Symbol.for("react.view_transition"),Ze=Symbol.for("react.client.reference");function rr(nr){if(typeof nr=="object"&&nr!==null){var ar=nr.$$typeof;switch(ar){case Ve:switch(nr=nr.type,nr){case Be:case ze:case Ue:case Ge:case Ye:case er:return nr;default:switch(nr=nr&&nr.$$typeof,nr){case He:case We:case Je:case Xe:return nr;case qe:return nr;default:return ar}}case $e:return ar}}}return reactIs_production.ContextConsumer=qe,reactIs_production.ContextProvider=He,reactIs_production.Element=Ve,reactIs_production.ForwardRef=We,reactIs_production.Fragment=Be,reactIs_production.Lazy=Je,reactIs_production.Memo=Xe,reactIs_production.Portal=$e,reactIs_production.Profiler=ze,reactIs_production.StrictMode=Ue,reactIs_production.Suspense=Ge,reactIs_production.SuspenseList=Ye,reactIs_production.isContextConsumer=function(nr){return rr(nr)===qe},reactIs_production.isContextProvider=function(nr){return rr(nr)===He},reactIs_production.isElement=function(nr){return typeof nr=="object"&&nr!==null&&nr.$$typeof===Ve},reactIs_production.isForwardRef=function(nr){return rr(nr)===We},reactIs_production.isFragment=function(nr){return rr(nr)===Be},reactIs_production.isLazy=function(nr){return rr(nr)===Je},reactIs_production.isMemo=function(nr){return rr(nr)===Xe},reactIs_production.isPortal=function(nr){return rr(nr)===$e},reactIs_production.isProfiler=function(nr){return rr(nr)===ze},reactIs_production.isStrictMode=function(nr){return rr(nr)===Ue},reactIs_production.isSuspense=function(nr){return rr(nr)===Ge},reactIs_production.isSuspenseList=function(nr){return rr(nr)===Ye},reactIs_production.isValidElementType=function(nr){return typeof nr=="string"||typeof nr=="function"||nr===Be||nr===ze||nr===Ue||nr===Ge||nr===Ye||typeof nr=="object"&&nr!==null&&(nr.$$typeof===Je||nr.$$typeof===Xe||nr.$$typeof===He||nr.$$typeof===qe||nr.$$typeof===We||nr.$$typeof===Ze||nr.getModuleId!==void 0)},reactIs_production.typeOf=rr,reactIs_production}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production()),reactIs.exports}var reactIsExports=requireReactIs();function isPlainObject$7(Ve){if(typeof Ve!="object"||Ve===null)return!1;const $e=Object.getPrototypeOf(Ve);return($e===null||$e===Object.prototype||Object.getPrototypeOf($e)===null)&&!(Symbol.toStringTag in Ve)&&!(Symbol.iterator in Ve)}function deepClone$1(Ve){if(reactExports.isValidElement(Ve)||reactIsExports.isValidElementType(Ve)||!isPlainObject$7(Ve))return Ve;const $e={};return Object.keys(Ve).forEach(Be=>{$e[Be]=deepClone$1(Ve[Be])}),$e}function deepmerge(Ve,$e,Be={clone:!0}){const Ue=Be.clone?{...Ve}:Ve;return isPlainObject$7(Ve)&&isPlainObject$7($e)&&Object.keys($e).forEach(ze=>{reactExports.isValidElement($e[ze])||reactIsExports.isValidElementType($e[ze])?Ue[ze]=$e[ze]:isPlainObject$7($e[ze])&&Object.prototype.hasOwnProperty.call(Ve,ze)&&isPlainObject$7(Ve[ze])?Ue[ze]=deepmerge(Ve[ze],$e[ze],Be):Be.clone?Ue[ze]=isPlainObject$7($e[ze])?deepClone$1($e[ze]):$e[ze]:Ue[ze]=$e[ze]}),Ue}const sortBreakpointsValues=Ve=>{const $e=Object.keys(Ve).map(Be=>({key:Be,val:Ve[Be]}))||[];return $e.sort((Be,Ue)=>Be.val-Ue.val),$e.reduce((Be,Ue)=>({...Be,[Ue.key]:Ue.val}),{})};function createBreakpoints(Ve){const{values:$e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:Be="px",step:Ue=5,...ze}=Ve,qe=sortBreakpointsValues($e),He=Object.keys(qe);function We(er){return`@media (min-width:${typeof $e[er]=="number"?$e[er]:er}${Be})`}function Ge(er){return`@media (max-width:${(typeof $e[er]=="number"?$e[er]:er)-Ue/100}${Be})`}function Ye(er,Ze){const rr=He.indexOf(Ze);return`@media (min-width:${typeof $e[er]=="number"?$e[er]:er}${Be}) and (max-width:${(rr!==-1&&typeof $e[He[rr]]=="number"?$e[He[rr]]:Ze)-Ue/100}${Be})`}function Xe(er){return He.indexOf(er)+1<He.length?Ye(er,He[He.indexOf(er)+1]):We(er)}function Je(er){const Ze=He.indexOf(er);return Ze===0?We(He[1]):Ze===He.length-1?Ge(He[Ze]):Ye(er,He[He.indexOf(er)+1]).replace("@media","@media not all and")}return{keys:He,values:qe,up:We,down:Ge,between:Ye,only:Xe,not:Je,unit:Be,...ze}}function sortContainerQueries(Ve,$e){if(!Ve.containerQueries)return $e;const Be=Object.keys($e).filter(Ue=>Ue.startsWith("@container")).sort((Ue,ze)=>{const qe=/min-width:\s*([0-9.]+)/;return+(Ue.match(qe)?.[1]||0)-+(ze.match(qe)?.[1]||0)});return Be.length?Be.reduce((Ue,ze)=>{const qe=$e[ze];return delete Ue[ze],Ue[ze]=qe,Ue},{...$e}):$e}function isCqShorthand(Ve,$e){return $e==="@"||$e.startsWith("@")&&(Ve.some(Be=>$e.startsWith(`@${Be}`))||!!$e.match(/^@\d/))}function getContainerQuery(Ve,$e){const Be=$e.match(/^@([^/]+)?\/?(.+)?$/);if(!Be)return null;const[,Ue,ze]=Be,qe=Number.isNaN(+Ue)?Ue||0:+Ue;return Ve.containerQueries(ze).up(qe)}function cssContainerQueries(Ve){const $e=(qe,He)=>qe.replace("@media",He?`@container ${He}`:"@container");function Be(qe,He){qe.up=(...We)=>$e(Ve.breakpoints.up(...We),He),qe.down=(...We)=>$e(Ve.breakpoints.down(...We),He),qe.between=(...We)=>$e(Ve.breakpoints.between(...We),He),qe.only=(...We)=>$e(Ve.breakpoints.only(...We),He),qe.not=(...We)=>{const Ge=$e(Ve.breakpoints.not(...We),He);return Ge.includes("not all and")?Ge.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):Ge}}const Ue={},ze=qe=>(Be(Ue,qe),Ue);return Be(ze),{...Ve,containerQueries:ze}}const shape={borderRadius:4};function merge(Ve,$e){return $e?deepmerge(Ve,$e,{clone:!1}):Ve}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:Ve=>`@media (min-width:${values$1[Ve]}px)`},defaultContainerQueries={containerQueries:Ve=>({up:$e=>{let Be=typeof $e=="number"?$e:values$1[$e]||$e;return typeof Be=="number"&&(Be=`${Be}px`),Ve?`@container ${Ve} (min-width:${Be})`:`@container (min-width:${Be})`}})};function handleBreakpoints(Ve,$e,Be){const Ue=Ve.theme||{};if(Array.isArray($e)){const qe=Ue.breakpoints||defaultBreakpoints;return $e.reduce((He,We,Ge)=>(He[qe.up(qe.keys[Ge])]=Be($e[Ge]),He),{})}if(typeof $e=="object"){const qe=Ue.breakpoints||defaultBreakpoints;return Object.keys($e).reduce((He,We)=>{if(isCqShorthand(qe.keys,We)){const Ge=getContainerQuery(Ue.containerQueries?Ue:defaultContainerQueries,We);Ge&&(He[Ge]=Be($e[We],We))}else if(Object.keys(qe.values||values$1).includes(We)){const Ge=qe.up(We);He[Ge]=Be($e[We],We)}else{const Ge=We;He[Ge]=$e[Ge]}return He},{})}return Be($e)}function createEmptyBreakpointObject(Ve={}){return Ve.keys?.reduce((Be,Ue)=>{const ze=Ve.up(Ue);return Be[ze]={},Be},{})||{}}function removeUnusedBreakpoints(Ve,$e){return Ve.reduce((Be,Ue)=>{const ze=Be[Ue];return(!ze||Object.keys(ze).length===0)&&delete Be[Ue],Be},$e)}function capitalize(Ve){if(typeof Ve!="string")throw new Error(formatMuiErrorMessage(7));return Ve.charAt(0).toUpperCase()+Ve.slice(1)}function getPath$2(Ve,$e,Be=!0){if(!$e||typeof $e!="string")return null;if(Ve&&Ve.vars&&Be){const Ue=`vars.${$e}`.split(".").reduce((ze,qe)=>ze&&ze[qe]?ze[qe]:null,Ve);if(Ue!=null)return Ue}return $e.split(".").reduce((Ue,ze)=>Ue&&Ue[ze]!=null?Ue[ze]:null,Ve)}function getStyleValue(Ve,$e,Be,Ue=Be){let ze;return typeof Ve=="function"?ze=Ve(Be):Array.isArray(Ve)?ze=Ve[Be]||Ue:ze=getPath$2(Ve,Be)||Ue,$e&&(ze=$e(ze,Ue,Ve)),ze}function style$1(Ve){const{prop:$e,cssProperty:Be=Ve.prop,themeKey:Ue,transform:ze}=Ve,qe=He=>{if(He[$e]==null)return null;const We=He[$e],Ge=He.theme,Ye=getPath$2(Ge,Ue)||{};return handleBreakpoints(He,We,Je=>{let er=getStyleValue(Ye,ze,Je);return Je===er&&typeof Je=="string"&&(er=getStyleValue(Ye,ze,`${$e}${Je==="default"?"":capitalize(Je)}`,Je)),Be===!1?er:{[Be]:er}})};return qe.propTypes={},qe.filterProps=[$e],qe}function memoize$1(Ve){const $e={};return Be=>($e[Be]===void 0&&($e[Be]=Ve(Be)),$e[Be])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize$1(Ve=>{if(Ve.length>2)if(aliases[Ve])Ve=aliases[Ve];else return[Ve];const[$e,Be]=Ve.split(""),Ue=properties[$e],ze=directions[Be]||"";return Array.isArray(ze)?ze.map(qe=>Ue+qe):[Ue+ze]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(Ve,$e,Be,Ue){const ze=getPath$2(Ve,$e,!0)??Be;return typeof ze=="number"||typeof ze=="string"?qe=>typeof qe=="string"?qe:typeof ze=="string"?ze.startsWith("var(")&&qe===0?0:ze.startsWith("var(")&&qe===1?ze:`calc(${qe} * ${ze})`:ze*qe:Array.isArray(ze)?qe=>{if(typeof qe=="string")return qe;const He=Math.abs(qe),We=ze[He];return qe>=0?We:typeof We=="number"?-We:typeof We=="string"&&We.startsWith("var(")?`calc(-1 * ${We})`:`-${We}`}:typeof ze=="function"?ze:()=>{}}function createUnarySpacing(Ve){return createUnaryUnit(Ve,"spacing",8)}function getValue(Ve,$e){return typeof $e=="string"||$e==null?$e:Ve($e)}function getStyleFromPropValue(Ve,$e){return Be=>Ve.reduce((Ue,ze)=>(Ue[ze]=getValue($e,Be),Ue),{})}function resolveCssProperty(Ve,$e,Be,Ue){if(!$e.includes(Be))return null;const ze=getCssProperties(Be),qe=getStyleFromPropValue(ze,Ue),He=Ve[Be];return handleBreakpoints(Ve,He,qe)}function style(Ve,$e){const Be=createUnarySpacing(Ve.theme);return Object.keys(Ve).map(Ue=>resolveCssProperty(Ve,$e,Ue,Be)).reduce(merge,{})}function margin(Ve){return style(Ve,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(Ve){return style(Ve,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(Ve=8,$e=createUnarySpacing({spacing:Ve})){if(Ve.mui)return Ve;const Be=(...Ue)=>(Ue.length===0?[1]:Ue).map(qe=>{const He=$e(qe);return typeof He=="number"?`${He}px`:He}).join(" ");return Be.mui=!0,Be}function compose$2(...Ve){const $e=Ve.reduce((Ue,ze)=>(ze.filterProps.forEach(qe=>{Ue[qe]=ze}),Ue),{}),Be=Ue=>Object.keys(Ue).reduce((ze,qe)=>$e[qe]?merge(ze,$e[qe](Ue)):ze,{});return Be.propTypes={},Be.filterProps=Ve.reduce((Ue,ze)=>Ue.concat(ze.filterProps),[]),Be}function borderTransform(Ve){return typeof Ve!="number"?Ve:`${Ve}px solid`}function createBorderStyle(Ve,$e){return style$1({prop:Ve,themeKey:"borders",transform:$e})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=Ve=>{if(Ve.borderRadius!==void 0&&Ve.borderRadius!==null){const $e=createUnaryUnit(Ve.theme,"shape.borderRadius",4),Be=Ue=>({borderRadius:getValue($e,Ue)});return handleBreakpoints(Ve,Ve.borderRadius,Be)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose$2(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=Ve=>{if(Ve.gap!==void 0&&Ve.gap!==null){const $e=createUnaryUnit(Ve.theme,"spacing",8),Be=Ue=>({gap:getValue($e,Ue)});return handleBreakpoints(Ve,Ve.gap,Be)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=Ve=>{if(Ve.columnGap!==void 0&&Ve.columnGap!==null){const $e=createUnaryUnit(Ve.theme,"spacing",8),Be=Ue=>({columnGap:getValue($e,Ue)});return handleBreakpoints(Ve,Ve.columnGap,Be)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=Ve=>{if(Ve.rowGap!==void 0&&Ve.rowGap!==null){const $e=createUnaryUnit(Ve.theme,"spacing",8),Be=Ue=>({rowGap:getValue($e,Ue)});return handleBreakpoints(Ve,Ve.rowGap,Be)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose$2(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(Ve,$e){return $e==="grey"?$e:Ve}const color$1=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$2(color$1,bgcolor,backgroundColor);function sizingTransform(Ve){return Ve<=1&&Ve!==0?`${Ve*100}%`:Ve}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=Ve=>{if(Ve.maxWidth!==void 0&&Ve.maxWidth!==null){const $e=Be=>{const Ue=Ve.theme?.breakpoints?.values?.[Be]||values$1[Be];return Ue?Ve.theme?.breakpoints?.unit!=="px"?{maxWidth:`${Ue}${Ve.theme.breakpoints.unit}`}:{maxWidth:Ue}:{maxWidth:sizingTransform(Be)}};return handleBreakpoints(Ve,Ve.maxWidth,$e)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose$2(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:Ve=>({"@media print":{display:Ve}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...Ve){const $e=Ve.reduce((Ue,ze)=>Ue.concat(Object.keys(ze)),[]),Be=new Set($e);return Ve.every(Ue=>Be.size===Object.keys(Ue).length)}function callIfFn(Ve,$e){return typeof Ve=="function"?Ve($e):Ve}function unstable_createStyleFunctionSx(){function Ve(Be,Ue,ze,qe){const He={[Be]:Ue,theme:ze},We=qe[Be];if(!We)return{[Be]:Ue};const{cssProperty:Ge=Be,themeKey:Ye,transform:Xe,style:Je}=We;if(Ue==null)return null;if(Ye==="typography"&&Ue==="inherit")return{[Be]:Ue};const er=getPath$2(ze,Ye)||{};return Je?Je(He):handleBreakpoints(He,Ue,rr=>{let nr=getStyleValue(er,Xe,rr);return rr===nr&&typeof rr=="string"&&(nr=getStyleValue(er,Xe,`${Be}${rr==="default"?"":capitalize(rr)}`,rr)),Ge===!1?nr:{[Ge]:nr}})}function $e(Be){const{sx:Ue,theme:ze={},nested:qe}=Be||{};if(!Ue)return null;const He=ze.unstable_sxConfig??defaultSxConfig;function We(Ge){let Ye=Ge;if(typeof Ge=="function")Ye=Ge(ze);else if(typeof Ge!="object")return Ge;if(!Ye)return null;const Xe=createEmptyBreakpointObject(ze.breakpoints),Je=Object.keys(Xe);let er=Xe;return Object.keys(Ye).forEach(Ze=>{const rr=callIfFn(Ye[Ze],ze);if(rr!=null)if(typeof rr=="object")if(He[Ze])er=merge(er,Ve(Ze,rr,ze,He));else{const nr=handleBreakpoints({theme:ze},rr,ar=>({[Ze]:ar}));objectsHaveSameKeys(nr,rr)?er[Ze]=$e({sx:rr,theme:ze,nested:!0}):er=merge(er,nr)}else er=merge(er,Ve(Ze,rr,ze,He))}),!qe&&ze.modularCssLayers?{"@layer sx":sortContainerQueries(ze,removeUnusedBreakpoints(Je,er))}:sortContainerQueries(ze,removeUnusedBreakpoints(Je,er))}return Array.isArray(Ue)?Ue.map(We):We(Ue)}return $e}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];function applyStyles(Ve,$e){const Be=this;if(Be.vars){if(!Be.colorSchemes?.[Ve]||typeof Be.getColorSchemeSelector!="function")return{};let Ue=Be.getColorSchemeSelector(Ve);return Ue==="&"?$e:((Ue.includes("data-")||Ue.includes("."))&&(Ue=`*:where(${Ue.replace(/\s*&$/,"")}) &`),{[Ue]:$e})}return Be.palette.mode===Ve?$e:{}}function createTheme$1(Ve={},...$e){const{breakpoints:Be={},palette:Ue={},spacing:ze,shape:qe={},...He}=Ve,We=createBreakpoints(Be),Ge=createSpacing(ze);let Ye=deepmerge({breakpoints:We,direction:"ltr",components:{},palette:{mode:"light",...Ue},spacing:Ge,shape:{...shape,...qe}},He);return Ye=cssContainerQueries(Ye),Ye.applyStyles=applyStyles,Ye=$e.reduce((Xe,Je)=>deepmerge(Xe,Je),Ye),Ye.unstable_sxConfig={...defaultSxConfig,...He?.unstable_sxConfig},Ye.unstable_sx=function(Je){return styleFunctionSx({sx:Je,theme:this})},Ye}function isObjectEmpty$1(Ve){return Object.keys(Ve).length===0}function useTheme$2(Ve=null){const $e=reactExports.useContext(ThemeContext);return!$e||isObjectEmpty$1($e)?Ve:$e}const systemDefaultTheme$1=createTheme$1();function useTheme$1(Ve=systemDefaultTheme$1){return useTheme$2(Ve)}const splitProps=Ve=>{const $e={systemProps:{},otherProps:{}},Be=Ve?.theme?.unstable_sxConfig??defaultSxConfig;return Object.keys(Ve).forEach(Ue=>{Be[Ue]?$e.systemProps[Ue]=Ve[Ue]:$e.otherProps[Ue]=Ve[Ue]}),$e};function extendSxProp$1(Ve){const{sx:$e,...Be}=Ve,{systemProps:Ue,otherProps:ze}=splitProps(Be);let qe;return Array.isArray($e)?qe=[Ue,...$e]:typeof $e=="function"?qe=(...He)=>{const We=$e(...He);return isPlainObject$7(We)?{...Ue,...We}:Ue}:qe={...Ue,...$e},{...ze,sx:qe}}const defaultGenerator=Ve=>Ve,createClassNameGenerator=()=>{let Ve=defaultGenerator;return{configure($e){Ve=$e},generate($e){return Ve($e)},reset(){Ve=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();function r(Ve){var $e,Be,Ue="";if(typeof Ve=="string"||typeof Ve=="number")Ue+=Ve;else if(typeof Ve=="object")if(Array.isArray(Ve)){var ze=Ve.length;for($e=0;$e<ze;$e++)Ve[$e]&&(Be=r(Ve[$e]))&&(Ue&&(Ue+=" "),Ue+=Be)}else for(Be in Ve)Ve[Be]&&(Ue&&(Ue+=" "),Ue+=Be);return Ue}function clsx(){for(var Ve,$e,Be=0,Ue="",ze=arguments.length;Be<ze;Be++)(Ve=arguments[Be])&&($e=r(Ve))&&(Ue&&(Ue+=" "),Ue+=$e);return Ue}function createBox(Ve={}){const{themeId:$e,defaultTheme:Be,defaultClassName:Ue="MuiBox-root",generateClassName:ze}=Ve,qe=styled$1("div",{shouldForwardProp:We=>We!=="theme"&&We!=="sx"&&We!=="as"})(styleFunctionSx);return reactExports.forwardRef(function(Ge,Ye){const Xe=useTheme$1(Be),{className:Je,component:er="div",...Ze}=extendSxProp$1(Ge);return jsxRuntimeExports.jsx(qe,{as:er,ref:Ye,className:clsx(Je,ze?ze(Ue):Ue),theme:$e&&Xe[$e]||Xe,...Ze})})}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(Ve,$e,Be="Mui"){const Ue=globalStateClasses[$e];return Ue?`${Be}-${Ue}`:`${ClassNameGenerator.generate(Ve)}-${$e}`}function generateUtilityClasses(Ve,$e,Be="Mui"){const Ue={};return $e.forEach(ze=>{Ue[ze]=generateUtilityClass(Ve,ze,Be)}),Ue}function preprocessStyles(Ve){const{variants:$e,...Be}=Ve,Ue={variants:$e,style:internal_serializeStyles(Be),isProcessed:!0};return Ue.style===Be||$e&&$e.forEach(ze=>{typeof ze.style!="function"&&(ze.style=internal_serializeStyles(ze.style))}),Ue}const systemDefaultTheme=createTheme$1();function shouldForwardProp(Ve){return Ve!=="ownerState"&&Ve!=="theme"&&Ve!=="sx"&&Ve!=="as"}function shallowLayer(Ve,$e){return $e&&Ve&&typeof Ve=="object"&&Ve.styles&&!Ve.styles.startsWith("@layer")&&(Ve.styles=`@layer ${$e}{${String(Ve.styles)}}`),Ve}function defaultOverridesResolver(Ve){return Ve?($e,Be)=>Be[Ve]:null}function attachTheme(Ve,$e,Be){Ve.theme=isObjectEmpty(Ve.theme)?Be:Ve.theme[$e]||Ve.theme}function processStyle(Ve,$e,Be){const Ue=typeof $e=="function"?$e(Ve):$e;if(Array.isArray(Ue))return Ue.flatMap(ze=>processStyle(Ve,ze,Be));if(Array.isArray(Ue?.variants)){let ze;if(Ue.isProcessed)ze=Be?shallowLayer(Ue.style,Be):Ue.style;else{const{variants:qe,...He}=Ue;ze=Be?shallowLayer(internal_serializeStyles(He),Be):He}return processStyleVariants(Ve,Ue.variants,[ze],Be)}return Ue?.isProcessed?Be?shallowLayer(internal_serializeStyles(Ue.style),Be):Ue.style:Be?shallowLayer(internal_serializeStyles(Ue),Be):Ue}function processStyleVariants(Ve,$e,Be=[],Ue=void 0){let ze;e:for(let qe=0;qe<$e.length;qe+=1){const He=$e[qe];if(typeof He.props=="function"){if(ze??={...Ve,...Ve.ownerState,ownerState:Ve.ownerState},!He.props(ze))continue}else for(const We in He.props)if(Ve[We]!==He.props[We]&&Ve.ownerState?.[We]!==He.props[We])continue e;typeof He.style=="function"?(ze??={...Ve,...Ve.ownerState,ownerState:Ve.ownerState},Be.push(Ue?shallowLayer(internal_serializeStyles(He.style(ze)),Ue):He.style(ze))):Be.push(Ue?shallowLayer(internal_serializeStyles(He.style),Ue):He.style)}return Be}function createStyled(Ve={}){const{themeId:$e,defaultTheme:Be=systemDefaultTheme,rootShouldForwardProp:Ue=shouldForwardProp,slotShouldForwardProp:ze=shouldForwardProp}=Ve;function qe(We){attachTheme(We,$e,Be)}return(We,Ge={})=>{internal_mutateStyles(We,yr=>yr.filter(mr=>mr!==styleFunctionSx));const{name:Ye,slot:Xe,skipVariantsResolver:Je,skipSx:er,overridesResolver:Ze=defaultOverridesResolver(lowercaseFirstLetter(Xe)),...rr}=Ge,nr=Ye&&Ye.startsWith("Mui")||Xe?"components":"custom",ar=Je!==void 0?Je:Xe&&Xe!=="Root"&&Xe!=="root"||!1,sr=er||!1;let lr=shouldForwardProp;Xe==="Root"||Xe==="root"?lr=Ue:Xe?lr=ze:isStringTag(We)&&(lr=void 0);const or=styled$1(We,{shouldForwardProp:lr,label:generateStyledLabel(),...rr}),cr=yr=>{if(yr.__emotion_real===yr)return yr;if(typeof yr=="function")return function(vr){return processStyle(vr,yr,vr.theme.modularCssLayers?nr:void 0)};if(isPlainObject$7(yr)){const mr=preprocessStyles(yr);return function(_r){return mr.variants?processStyle(_r,mr,_r.theme.modularCssLayers?nr:void 0):_r.theme.modularCssLayers?shallowLayer(mr.style,nr):mr.style}}return yr},hr=(...yr)=>{const mr=[],vr=yr.map(cr),_r=[];if(mr.push(qe),Ye&&Ze&&_r.push(function(Sr){const Or=Sr.theme.components?.[Ye]?.styleOverrides;if(!Or)return null;const Er={};for(const Nr in Or)Er[Nr]=processStyle(Sr,Or[Nr],Sr.theme.modularCssLayers?"theme":void 0);return Ze(Sr,Er)}),Ye&&!ar&&_r.push(function(Sr){const Or=Sr.theme?.components?.[Ye]?.variants;return Or?processStyleVariants(Sr,Or,[],Sr.theme.modularCssLayers?"theme":void 0):null}),sr||_r.push(styleFunctionSx),Array.isArray(vr[0])){const fr=vr.shift(),Sr=new Array(mr.length).fill(""),Dr=new Array(_r.length).fill("");let Or;Or=[...Sr,...fr,...Dr],Or.raw=[...Sr,...fr.raw,...Dr],mr.unshift(Or)}const Cr=[...mr,...vr,..._r],br=or(...Cr);return We.muiName&&(br.muiName=We.muiName),br};return or.withConfig&&(hr.withConfig=or.withConfig),hr}}function generateStyledLabel(Ve,$e){return void 0}function isObjectEmpty(Ve){for(const $e in Ve)return!1;return!0}function isStringTag(Ve){return typeof Ve=="string"&&Ve.charCodeAt(0)>96}function lowercaseFirstLetter(Ve){return Ve&&Ve.charAt(0).toLowerCase()+Ve.slice(1)}function resolveProps(Ve,$e,Be=!1){const Ue={...$e};for(const ze in Ve)if(Object.prototype.hasOwnProperty.call(Ve,ze)){const qe=ze;if(qe==="components"||qe==="slots")Ue[qe]={...Ve[qe],...Ue[qe]};else if(qe==="componentsProps"||qe==="slotProps"){const He=Ve[qe],We=$e[qe];if(!We)Ue[qe]=He||{};else if(!He)Ue[qe]=We;else{Ue[qe]={...We};for(const Ge in He)if(Object.prototype.hasOwnProperty.call(He,Ge)){const Ye=Ge;Ue[qe][Ye]=resolveProps(He[Ye],We[Ye],Be)}}}else qe==="className"&&Be&&$e.className?Ue.className=clsx(Ve?.className,$e?.className):qe==="style"&&Be&&$e.style?Ue.style={...Ve?.style,...$e?.style}:Ue[qe]===void 0&&(Ue[qe]=Ve[qe])}return Ue}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp$1(Ve,$e=Number.MIN_SAFE_INTEGER,Be=Number.MAX_SAFE_INTEGER){return Math.max($e,Math.min(Ve,Be))}function clampWrapper(Ve,$e=0,Be=1){return clamp$1(Ve,$e,Be)}function hexToRgb(Ve){Ve=Ve.slice(1);const $e=new RegExp(`.{1,${Ve.length>=6?2:1}}`,"g");let Be=Ve.match($e);return Be&&Be[0].length===1&&(Be=Be.map(Ue=>Ue+Ue)),Be?`rgb${Be.length===4?"a":""}(${Be.map((Ue,ze)=>ze<3?parseInt(Ue,16):Math.round(parseInt(Ue,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(Ve){if(Ve.type)return Ve;if(Ve.charAt(0)==="#")return decomposeColor(hexToRgb(Ve));const $e=Ve.indexOf("("),Be=Ve.substring(0,$e);if(!["rgb","rgba","hsl","hsla","color"].includes(Be))throw new Error(formatMuiErrorMessage(9,Ve));let Ue=Ve.substring($e+1,Ve.length-1),ze;if(Be==="color"){if(Ue=Ue.split(" "),ze=Ue.shift(),Ue.length===4&&Ue[3].charAt(0)==="/"&&(Ue[3]=Ue[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(ze))throw new Error(formatMuiErrorMessage(10,ze))}else Ue=Ue.split(",");return Ue=Ue.map(qe=>parseFloat(qe)),{type:Be,values:Ue,colorSpace:ze}}const colorChannel=Ve=>{const $e=decomposeColor(Ve);return $e.values.slice(0,3).map((Be,Ue)=>$e.type.includes("hsl")&&Ue!==0?`${Be}%`:Be).join(" ")},private_safeColorChannel=(Ve,$e)=>{try{return colorChannel(Ve)}catch{return Ve}};function recomposeColor(Ve){const{type:$e,colorSpace:Be}=Ve;let{values:Ue}=Ve;return $e.includes("rgb")?Ue=Ue.map((ze,qe)=>qe<3?parseInt(ze,10):ze):$e.includes("hsl")&&(Ue[1]=`${Ue[1]}%`,Ue[2]=`${Ue[2]}%`),$e.includes("color")?Ue=`${Be} ${Ue.join(" ")}`:Ue=`${Ue.join(", ")}`,`${$e}(${Ue})`}function hslToRgb(Ve){Ve=decomposeColor(Ve);const{values:$e}=Ve,Be=$e[0],Ue=$e[1]/100,ze=$e[2]/100,qe=Ue*Math.min(ze,1-ze),He=(Ye,Xe=(Ye+Be/30)%12)=>ze-qe*Math.max(Math.min(Xe-3,9-Xe,1),-1);let We="rgb";const Ge=[Math.round(He(0)*255),Math.round(He(8)*255),Math.round(He(4)*255)];return Ve.type==="hsla"&&(We+="a",Ge.push($e[3])),recomposeColor({type:We,values:Ge})}function getLuminance(Ve){Ve=decomposeColor(Ve);let $e=Ve.type==="hsl"||Ve.type==="hsla"?decomposeColor(hslToRgb(Ve)).values:Ve.values;return $e=$e.map(Be=>(Ve.type!=="color"&&(Be/=255),Be<=.03928?Be/12.92:((Be+.055)/1.055)**2.4)),Number((.2126*$e[0]+.7152*$e[1]+.0722*$e[2]).toFixed(3))}function getContrastRatio(Ve,$e){const Be=getLuminance(Ve),Ue=getLuminance($e);return(Math.max(Be,Ue)+.05)/(Math.min(Be,Ue)+.05)}function alpha$1(Ve,$e){return Ve=decomposeColor(Ve),$e=clampWrapper($e),(Ve.type==="rgb"||Ve.type==="hsl")&&(Ve.type+="a"),Ve.type==="color"?Ve.values[3]=`/${$e}`:Ve.values[3]=$e,recomposeColor(Ve)}function private_safeAlpha(Ve,$e,Be){try{return alpha$1(Ve,$e)}catch{return Ve}}function darken(Ve,$e){if(Ve=decomposeColor(Ve),$e=clampWrapper($e),Ve.type.includes("hsl"))Ve.values[2]*=1-$e;else if(Ve.type.includes("rgb")||Ve.type.includes("color"))for(let Be=0;Be<3;Be+=1)Ve.values[Be]*=1-$e;return recomposeColor(Ve)}function private_safeDarken(Ve,$e,Be){try{return darken(Ve,$e)}catch{return Ve}}function lighten(Ve,$e){if(Ve=decomposeColor(Ve),$e=clampWrapper($e),Ve.type.includes("hsl"))Ve.values[2]+=(100-Ve.values[2])*$e;else if(Ve.type.includes("rgb"))for(let Be=0;Be<3;Be+=1)Ve.values[Be]+=(255-Ve.values[Be])*$e;else if(Ve.type.includes("color"))for(let Be=0;Be<3;Be+=1)Ve.values[Be]+=(1-Ve.values[Be])*$e;return recomposeColor(Ve)}function private_safeLighten(Ve,$e,Be){try{return lighten(Ve,$e)}catch{return Ve}}function emphasize(Ve,$e=.15){return getLuminance(Ve)>.5?darken(Ve,$e):lighten(Ve,$e)}function private_safeEmphasize(Ve,$e,Be){try{return emphasize(Ve,$e)}catch{return Ve}}const RtlContext=reactExports.createContext(),useRtl=()=>reactExports.useContext(RtlContext)??!1,PropsContext=reactExports.createContext(void 0);function getThemeProps(Ve){const{theme:$e,name:Be,props:Ue}=Ve;if(!$e||!$e.components||!$e.components[Be])return Ue;const ze=$e.components[Be];return ze.defaultProps?resolveProps(ze.defaultProps,Ue,$e.components.mergeClassNameAndStyle):!ze.styleOverrides&&!ze.variants?resolveProps(ze,Ue,$e.components.mergeClassNameAndStyle):Ue}function useDefaultProps$1({props:Ve,name:$e}){const Be=reactExports.useContext(PropsContext);return getThemeProps({props:Ve,name:$e,theme:{components:Be}})}let globalId=0;function useGlobalId(Ve){const[$e,Be]=reactExports.useState(Ve),Ue=Ve||$e;return reactExports.useEffect(()=>{$e==null&&(globalId+=1,Be(`mui-${globalId}`))},[$e]),Ue}const safeReact={...React$1},maybeReactUseId=safeReact.useId;function useId$1(Ve){if(maybeReactUseId!==void 0){const $e=maybeReactUseId();return Ve??$e}return useGlobalId(Ve)}const arg={theme:void 0};function unstable_memoTheme(Ve){let $e,Be;return function(ze){let qe=$e;return(qe===void 0||ze.theme!==Be)&&(arg.theme=ze.theme,qe=preprocessStyles(Ve(arg)),$e=qe,Be=ze.theme),qe}}function createGetCssVar$1(Ve=""){function $e(...Ue){if(!Ue.length)return"";const ze=Ue[0];return typeof ze=="string"&&!ze.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${Ve?`${Ve}-`:""}${ze}${$e(...Ue.slice(1))})`:`, ${ze}`}return(Ue,...ze)=>`var(--${Ve?`${Ve}-`:""}${Ue}${$e(...ze)})`}const assignNestedKeys=(Ve,$e,Be,Ue=[])=>{let ze=Ve;$e.forEach((qe,He)=>{He===$e.length-1?Array.isArray(ze)?ze[Number(qe)]=Be:ze&&typeof ze=="object"&&(ze[qe]=Be):ze&&typeof ze=="object"&&(ze[qe]||(ze[qe]=Ue.includes(qe)?[]:{}),ze=ze[qe])})},walkObjectDeep=(Ve,$e,Be)=>{function Ue(ze,qe=[],He=[]){Object.entries(ze).forEach(([We,Ge])=>{(!Be||Be&&!Be([...qe,We]))&&Ge!=null&&(typeof Ge=="object"&&Object.keys(Ge).length>0?Ue(Ge,[...qe,We],Array.isArray(Ge)?[...He,We]:He):$e([...qe,We],Ge,He))})}Ue(Ve)},getCssValue=(Ve,$e)=>typeof $e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(Ue=>Ve.includes(Ue))||Ve[Ve.length-1].toLowerCase().includes("opacity")?$e:`${$e}px`:$e;function cssVarsParser(Ve,$e){const{prefix:Be,shouldSkipGeneratingVar:Ue}=$e||{},ze={},qe={},He={};return walkObjectDeep(Ve,(We,Ge,Ye)=>{if((typeof Ge=="string"||typeof Ge=="number")&&(!Ue||!Ue(We,Ge))){const Xe=`--${Be?`${Be}-`:""}${We.join("-")}`,Je=getCssValue(We,Ge);Object.assign(ze,{[Xe]:Je}),assignNestedKeys(qe,We,`var(${Xe})`,Ye),assignNestedKeys(He,We,`var(${Xe}, ${Je})`,Ye)}},We=>We[0]==="vars"),{css:ze,vars:qe,varsWithDefaults:He}}function prepareCssVars(Ve,$e={}){const{getSelector:Be=sr,disableCssColorScheme:Ue,colorSchemeSelector:ze,enableContrastVars:qe}=$e,{colorSchemes:He={},components:We,defaultColorScheme:Ge="light",...Ye}=Ve,{vars:Xe,css:Je,varsWithDefaults:er}=cssVarsParser(Ye,$e);let Ze=er;const rr={},{[Ge]:nr,...ar}=He;if(Object.entries(ar||{}).forEach(([cr,hr])=>{const{vars:yr,css:mr,varsWithDefaults:vr}=cssVarsParser(hr,$e);Ze=deepmerge(Ze,vr),rr[cr]={css:mr,vars:yr}}),nr){const{css:cr,vars:hr,varsWithDefaults:yr}=cssVarsParser(nr,$e);Ze=deepmerge(Ze,yr),rr[Ge]={css:cr,vars:hr}}function sr(cr,hr){let yr=ze;if(ze==="class"&&(yr=".%s"),ze==="data"&&(yr="[data-%s]"),ze?.startsWith("data-")&&!ze.includes("%s")&&(yr=`[${ze}="%s"]`),cr){if(yr==="media")return Ve.defaultColorScheme===cr?":root":{[`@media (prefers-color-scheme: ${He[cr]?.palette?.mode||cr})`]:{":root":hr}};if(yr)return Ve.defaultColorScheme===cr?`:root, ${yr.replace("%s",String(cr))}`:yr.replace("%s",String(cr))}return":root"}return{vars:Ze,generateThemeVars:()=>{let cr={...Xe};return Object.entries(rr).forEach(([,{vars:hr}])=>{cr=deepmerge(cr,hr)}),cr},generateStyleSheets:()=>{const cr=[],hr=Ve.defaultColorScheme||"light";function yr(_r,Cr){Object.keys(Cr).length&&cr.push(typeof _r=="string"?{[_r]:{...Cr}}:_r)}yr(Be(void 0,{...Je}),Je);const{[hr]:mr,...vr}=rr;if(mr){const{css:_r}=mr,Cr=He[hr]?.palette?.mode,br=!Ue&&Cr?{colorScheme:Cr,..._r}:{..._r};yr(Be(hr,{...br}),br)}return Object.entries(vr).forEach(([_r,{css:Cr}])=>{const br=He[_r]?.palette?.mode,fr=!Ue&&br?{colorScheme:br,...Cr}:{...Cr};yr(Be(_r,{...fr}),fr)}),qe&&cr.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),cr}}}function createGetColorSchemeSelector(Ve){return function(Be){return Ve==="media"?`@media (prefers-color-scheme: ${Be})`:Ve?Ve.startsWith("data-")&&!Ve.includes("%s")?`[${Ve}="${Be}"] &`:Ve==="class"?`.${Be} &`:Ve==="data"?`[data-${Be}] &`:`${Ve.replace("%s",Be)} &`:"&"}}function composeClasses(Ve,$e,Be=void 0){const Ue={};for(const ze in Ve){const qe=Ve[ze];let He="",We=!0;for(let Ge=0;Ge<qe.length;Ge+=1){const Ye=qe[Ge];Ye&&(He+=(We===!0?"":" ")+$e(Ye),We=!1,Be&&Be[Ye]&&(He+=" "+Be[Ye]))}Ue[ze]=He}return Ue}const common$1={black:"#000",white:"#fff"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},purple={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},red={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},orange={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},blue={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},lightBlue={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},green={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function getLight(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const light=getLight();function getDark(){return{text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const dark=getDark();function addLightOrDark(Ve,$e,Be,Ue){const ze=Ue.light||Ue,qe=Ue.dark||Ue*1.5;Ve[$e]||(Ve.hasOwnProperty(Be)?Ve[$e]=Ve[Be]:$e==="light"?Ve.light=lighten(Ve.main,ze):$e==="dark"&&(Ve.dark=darken(Ve.main,qe)))}function mixLightOrDark(Ve,$e,Be,Ue,ze){const qe=ze.light||ze,He=ze.dark||ze*1.5;$e[Be]||($e.hasOwnProperty(Ue)?$e[Be]=$e[Ue]:Be==="light"?$e.light=`color-mix(in ${Ve}, ${$e.main}, #fff ${(qe*100).toFixed(0)}%)`:Be==="dark"&&($e.dark=`color-mix(in ${Ve}, ${$e.main}, #000 ${(He*100).toFixed(0)}%)`))}function getDefaultPrimary(Ve="light"){return Ve==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(Ve="light"){return Ve==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(Ve="light"){return Ve==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(Ve="light"){return Ve==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(Ve="light"){return Ve==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(Ve="light"){return Ve==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function contrastColor(Ve){return`oklch(from ${Ve} var(--__l) 0 h / var(--__a))`}function createPalette(Ve){const{mode:$e="light",contrastThreshold:Be=3,tonalOffset:Ue=.2,colorSpace:ze,...qe}=Ve,He=Ve.primary||getDefaultPrimary($e),We=Ve.secondary||getDefaultSecondary($e),Ge=Ve.error||getDefaultError($e),Ye=Ve.info||getDefaultInfo($e),Xe=Ve.success||getDefaultSuccess($e),Je=Ve.warning||getDefaultWarning($e);function er(ar){return ze?contrastColor(ar):getContrastRatio(ar,dark.text.primary)>=Be?dark.text.primary:light.text.primary}const Ze=({color:ar,name:sr,mainShade:lr=500,lightShade:or=300,darkShade:cr=700})=>{if(ar={...ar},!ar.main&&ar[lr]&&(ar.main=ar[lr]),!ar.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,sr?` (${sr})`:"",lr));if(typeof ar.main!="string")throw new Error(formatMuiErrorMessage(12,sr?` (${sr})`:"",JSON.stringify(ar.main)));return ze?(mixLightOrDark(ze,ar,"light",or,Ue),mixLightOrDark(ze,ar,"dark",cr,Ue)):(addLightOrDark(ar,"light",or,Ue),addLightOrDark(ar,"dark",cr,Ue)),ar.contrastText||(ar.contrastText=er(ar.main)),ar};let rr;return $e==="light"?rr=getLight():$e==="dark"&&(rr=getDark()),deepmerge({common:{...common$1},mode:$e,primary:Ze({color:He,name:"primary"}),secondary:Ze({color:We,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:Ze({color:Ge,name:"error"}),warning:Ze({color:Je,name:"warning"}),info:Ze({color:Ye,name:"info"}),success:Ze({color:Xe,name:"success"}),grey,contrastThreshold:Be,getContrastText:er,augmentColor:Ze,tonalOffset:Ue,...rr},qe)}function prepareTypographyVars(Ve){const $e={};return Object.entries(Ve).forEach(Ue=>{const[ze,qe]=Ue;typeof qe=="object"&&($e[ze]=`${qe.fontStyle?`${qe.fontStyle} `:""}${qe.fontVariant?`${qe.fontVariant} `:""}${qe.fontWeight?`${qe.fontWeight} `:""}${qe.fontStretch?`${qe.fontStretch} `:""}${qe.fontSize||""}${qe.lineHeight?`/${qe.lineHeight} `:""}${qe.fontFamily||""}`)}),$e}function createMixins(Ve,$e){return{toolbar:{minHeight:56,[Ve.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[Ve.up("sm")]:{minHeight:64}},...$e}}function round$1(Ve){return Math.round(Ve*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(Ve,$e){const{fontFamily:Be=defaultFontFamily,fontSize:Ue=14,fontWeightLight:ze=300,fontWeightRegular:qe=400,fontWeightMedium:He=500,fontWeightBold:We=700,htmlFontSize:Ge=16,allVariants:Ye,pxToRem:Xe,...Je}=typeof $e=="function"?$e(Ve):$e,er=Ue/14,Ze=Xe||(ar=>`${ar/Ge*er}rem`),rr=(ar,sr,lr,or,cr)=>({fontFamily:Be,fontWeight:ar,fontSize:Ze(sr),lineHeight:lr,...Be===defaultFontFamily?{letterSpacing:`${round$1(or/sr)}em`}:{},...cr,...Ye}),nr={h1:rr(ze,96,1.167,-1.5),h2:rr(ze,60,1.2,-.5),h3:rr(qe,48,1.167,0),h4:rr(qe,34,1.235,.25),h5:rr(qe,24,1.334,0),h6:rr(He,20,1.6,.15),subtitle1:rr(qe,16,1.75,.15),subtitle2:rr(He,14,1.57,.1),body1:rr(qe,16,1.5,.15),body2:rr(qe,14,1.43,.15),button:rr(He,14,1.75,.4,caseAllCaps),caption:rr(qe,12,1.66,.4),overline:rr(qe,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge({htmlFontSize:Ge,pxToRem:Ze,fontFamily:Be,fontSize:Ue,fontWeightLight:ze,fontWeightRegular:qe,fontWeightMedium:He,fontWeightBold:We,...nr},Je,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...Ve){return[`${Ve[0]}px ${Ve[1]}px ${Ve[2]}px ${Ve[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${Ve[4]}px ${Ve[5]}px ${Ve[6]}px ${Ve[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${Ve[8]}px ${Ve[9]}px ${Ve[10]}px ${Ve[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(Ve){return`${Math.round(Ve)}ms`}function getAutoHeightDuration(Ve){if(!Ve)return 0;const $e=Ve/36;return Math.min(Math.round((4+15*$e**.25+$e/5)*10),3e3)}function createTransitions(Ve){const $e={...easing,...Ve.easing},Be={...duration,...Ve.duration};return{getAutoHeightDuration,create:(ze=["all"],qe={})=>{const{duration:He=Be.standard,easing:We=$e.easeInOut,delay:Ge=0,...Ye}=qe;return(Array.isArray(ze)?ze:[ze]).map(Xe=>`${Xe} ${typeof He=="string"?He:formatMs(He)} ${We} ${typeof Ge=="string"?Ge:formatMs(Ge)}`).join(",")},...Ve,easing:$e,duration:Be}}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function isSerializable(Ve){return isPlainObject$7(Ve)||typeof Ve>"u"||typeof Ve=="string"||typeof Ve=="boolean"||typeof Ve=="number"||Array.isArray(Ve)}function stringifyTheme(Ve={}){const $e={...Ve};function Be(Ue){const ze=Object.entries(Ue);for(let qe=0;qe<ze.length;qe++){const[He,We]=ze[qe];!isSerializable(We)||He.startsWith("unstable_")?delete Ue[He]:isPlainObject$7(We)&&(Ue[He]={...We},Be(Ue[He]))}}return Be($e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify($e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function coefficientToPercentage(Ve){return typeof Ve=="number"?`${(Ve*100).toFixed(0)}%`:`calc((${Ve}) * 100%)`}const parseAddition=Ve=>{if(!Number.isNaN(+Ve))return+Ve;const $e=Ve.match(/\d*\.?\d+/g);if(!$e)return 0;let Be=0;for(let Ue=0;Ue<$e.length;Ue+=1)Be+=+$e[Ue];return Be};function attachColorManipulators(Ve){Object.assign(Ve,{alpha($e,Be){const Ue=this||Ve;return Ue.colorSpace?`oklch(from ${$e} l c h / ${typeof Be=="string"?`calc(${Be})`:Be})`:Ue.vars?`rgba(${$e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof Be=="string"?`calc(${Be})`:Be})`:alpha$1($e,parseAddition(Be))},lighten($e,Be){const Ue=this||Ve;return Ue.colorSpace?`color-mix(in ${Ue.colorSpace}, ${$e}, #fff ${coefficientToPercentage(Be)})`:lighten($e,Be)},darken($e,Be){const Ue=this||Ve;return Ue.colorSpace?`color-mix(in ${Ue.colorSpace}, ${$e}, #000 ${coefficientToPercentage(Be)})`:darken($e,Be)}})}function createThemeNoVars(Ve={},...$e){const{breakpoints:Be,mixins:Ue={},spacing:ze,palette:qe={},transitions:He={},typography:We={},shape:Ge,colorSpace:Ye,...Xe}=Ve;if(Ve.vars&&Ve.generateThemeVars===void 0)throw new Error(formatMuiErrorMessage(20));const Je=createPalette({...qe,colorSpace:Ye}),er=createTheme$1(Ve);let Ze=deepmerge(er,{mixins:createMixins(er.breakpoints,Ue),palette:Je,shadows:shadows.slice(),typography:createTypography(Je,We),transitions:createTransitions(He),zIndex:{...zIndex}});return Ze=deepmerge(Ze,Xe),Ze=$e.reduce((rr,nr)=>deepmerge(rr,nr),Ze),Ze.unstable_sxConfig={...defaultSxConfig,...Xe?.unstable_sxConfig},Ze.unstable_sx=function(nr){return styleFunctionSx({sx:nr,theme:this})},Ze.toRuntimeSource=stringifyTheme,attachColorManipulators(Ze),Ze}function getOverlayAlpha(Ve){let $e;return Ve<1?$e=5.11916*Ve**2:$e=4.5*Math.log(Ve+1)+2,Math.round($e*10)/1e3}const defaultDarkOverlays=[...Array(25)].map((Ve,$e)=>{if($e===0)return"none";const Be=getOverlayAlpha($e);return`linear-gradient(rgba(255 255 255 / ${Be}), rgba(255 255 255 / ${Be}))`});function getOpacity(Ve){return{inputPlaceholder:Ve==="dark"?.5:.42,inputUnderline:Ve==="dark"?.7:.42,switchTrackDisabled:Ve==="dark"?.2:.12,switchTrack:Ve==="dark"?.3:.38}}function getOverlays(Ve){return Ve==="dark"?defaultDarkOverlays:[]}function createColorScheme(Ve){const{palette:$e={mode:"light"},opacity:Be,overlays:Ue,colorSpace:ze,...qe}=Ve,He=createPalette({...$e,colorSpace:ze});return{palette:He,opacity:{...getOpacity(He.mode),...Be},overlays:Ue||getOverlays(He.mode),...qe}}function shouldSkipGeneratingVar(Ve){return!!Ve[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!Ve[0].match(/sxConfig$/)||Ve[0]==="palette"&&!!Ve[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const excludeVariablesFromRoot=Ve=>[...[...Array(25)].map(($e,Be)=>`--${Ve?`${Ve}-`:""}overlays-${Be}`),`--${Ve?`${Ve}-`:""}palette-AppBar-darkBg`,`--${Ve?`${Ve}-`:""}palette-AppBar-darkColor`],defaultGetSelector=Ve=>($e,Be)=>{const Ue=Ve.rootSelector||":root",ze=Ve.colorSchemeSelector;let qe=ze;if(ze==="class"&&(qe=".%s"),ze==="data"&&(qe="[data-%s]"),ze?.startsWith("data-")&&!ze.includes("%s")&&(qe=`[${ze}="%s"]`),Ve.defaultColorScheme===$e){if($e==="dark"){const He={};return excludeVariablesFromRoot(Ve.cssVarPrefix).forEach(We=>{He[We]=Be[We],delete Be[We]}),qe==="media"?{[Ue]:Be,"@media (prefers-color-scheme: dark)":{[Ue]:He}}:qe?{[qe.replace("%s",$e)]:He,[`${Ue}, ${qe.replace("%s",$e)}`]:Be}:{[Ue]:{...Be,...He}}}if(qe&&qe!=="media")return`${Ue}, ${qe.replace("%s",String($e))}`}else if($e){if(qe==="media")return{[`@media (prefers-color-scheme: ${String($e)})`]:{[Ue]:Be}};if(qe)return qe.replace("%s",String($e))}return Ue};function assignNode(Ve,$e){$e.forEach(Be=>{Ve[Be]||(Ve[Be]={})})}function setColor(Ve,$e,Be){!Ve[$e]&&Be&&(Ve[$e]=Be)}function toRgb(Ve){return typeof Ve!="string"||!Ve.startsWith("hsl")?Ve:hslToRgb(Ve)}function setColorChannel(Ve,$e){`${$e}Channel`in Ve||(Ve[`${$e}Channel`]=private_safeColorChannel(toRgb(Ve[$e])))}function getSpacingVal(Ve){return typeof Ve=="number"?`${Ve}px`:typeof Ve=="string"||typeof Ve=="function"||Array.isArray(Ve)?Ve:"8px"}const silent=Ve=>{try{return Ve()}catch{}},createGetCssVar=(Ve="mui")=>createGetCssVar$1(Ve);function attachColorScheme$1(Ve,$e,Be,Ue,ze){if(!Be)return;Be=Be===!0?{}:Be;const qe=ze==="dark"?"dark":"light";if(!Ue){$e[ze]=createColorScheme({...Be,palette:{mode:qe,...Be?.palette},colorSpace:Ve});return}const{palette:He,...We}=createThemeNoVars({...Ue,palette:{mode:qe,...Be?.palette},colorSpace:Ve});return $e[ze]={...Be,palette:He,opacity:{...getOpacity(qe),...Be?.opacity},overlays:Be?.overlays||getOverlays(qe)},We}function createThemeWithVars(Ve={},...$e){const{colorSchemes:Be={light:!0},defaultColorScheme:Ue,disableCssColorScheme:ze=!1,cssVarPrefix:qe="mui",nativeColor:He=!1,shouldSkipGeneratingVar:We=shouldSkipGeneratingVar,colorSchemeSelector:Ge=Be.light&&Be.dark?"media":void 0,rootSelector:Ye=":root",...Xe}=Ve,Je=Object.keys(Be)[0],er=Ue||(Be.light&&Je!=="light"?"light":Je),Ze=createGetCssVar(qe),{[er]:rr,light:nr,dark:ar,...sr}=Be,lr={...sr};let or=rr;if((er==="dark"&&!("dark"in Be)||er==="light"&&!("light"in Be))&&(or=!0),!or)throw new Error(formatMuiErrorMessage(21,er));let cr;He&&(cr="oklch");const hr=attachColorScheme$1(cr,lr,or,Xe,er);nr&&!lr.light&&attachColorScheme$1(cr,lr,nr,void 0,"light"),ar&&!lr.dark&&attachColorScheme$1(cr,lr,ar,void 0,"dark");let yr={defaultColorScheme:er,...hr,cssVarPrefix:qe,colorSchemeSelector:Ge,rootSelector:Ye,getCssVar:Ze,colorSchemes:lr,font:{...prepareTypographyVars(hr.typography),...hr.font},spacing:getSpacingVal(Xe.spacing)};Object.keys(yr.colorSchemes).forEach(br=>{const fr=yr.colorSchemes[br].palette,Sr=Or=>{const Er=Or.split("-"),Nr=Er[1],wr=Er[2];return Ze(Or,fr[Nr][wr])};fr.mode==="light"&&(setColor(fr.common,"background","#fff"),setColor(fr.common,"onBackground","#000")),fr.mode==="dark"&&(setColor(fr.common,"background","#000"),setColor(fr.common,"onBackground","#fff"));function Dr(Or,Er,Nr){if(cr){let wr;return Or===private_safeAlpha&&(wr=`transparent ${((1-Nr)*100).toFixed(0)}%`),Or===private_safeDarken&&(wr=`#000 ${(Nr*100).toFixed(0)}%`),Or===private_safeLighten&&(wr=`#fff ${(Nr*100).toFixed(0)}%`),`color-mix(in ${cr}, ${Er}, ${wr})`}return Or(Er,Nr)}if(assignNode(fr,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),fr.mode==="light"){setColor(fr.Alert,"errorColor",Dr(private_safeDarken,fr.error.light,.6)),setColor(fr.Alert,"infoColor",Dr(private_safeDarken,fr.info.light,.6)),setColor(fr.Alert,"successColor",Dr(private_safeDarken,fr.success.light,.6)),setColor(fr.Alert,"warningColor",Dr(private_safeDarken,fr.warning.light,.6)),setColor(fr.Alert,"errorFilledBg",Sr("palette-error-main")),setColor(fr.Alert,"infoFilledBg",Sr("palette-info-main")),setColor(fr.Alert,"successFilledBg",Sr("palette-success-main")),setColor(fr.Alert,"warningFilledBg",Sr("palette-warning-main")),setColor(fr.Alert,"errorFilledColor",silent(()=>fr.getContrastText(fr.error.main))),setColor(fr.Alert,"infoFilledColor",silent(()=>fr.getContrastText(fr.info.main))),setColor(fr.Alert,"successFilledColor",silent(()=>fr.getContrastText(fr.success.main))),setColor(fr.Alert,"warningFilledColor",silent(()=>fr.getContrastText(fr.warning.main))),setColor(fr.Alert,"errorStandardBg",Dr(private_safeLighten,fr.error.light,.9)),setColor(fr.Alert,"infoStandardBg",Dr(private_safeLighten,fr.info.light,.9)),setColor(fr.Alert,"successStandardBg",Dr(private_safeLighten,fr.success.light,.9)),setColor(fr.Alert,"warningStandardBg",Dr(private_safeLighten,fr.warning.light,.9)),setColor(fr.Alert,"errorIconColor",Sr("palette-error-main")),setColor(fr.Alert,"infoIconColor",Sr("palette-info-main")),setColor(fr.Alert,"successIconColor",Sr("palette-success-main")),setColor(fr.Alert,"warningIconColor",Sr("palette-warning-main")),setColor(fr.AppBar,"defaultBg",Sr("palette-grey-100")),setColor(fr.Avatar,"defaultBg",Sr("palette-grey-400")),setColor(fr.Button,"inheritContainedBg",Sr("palette-grey-300")),setColor(fr.Button,"inheritContainedHoverBg",Sr("palette-grey-A100")),setColor(fr.Chip,"defaultBorder",Sr("palette-grey-400")),setColor(fr.Chip,"defaultAvatarColor",Sr("palette-grey-700")),setColor(fr.Chip,"defaultIconColor",Sr("palette-grey-700")),setColor(fr.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),setColor(fr.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),setColor(fr.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),setColor(fr.LinearProgress,"primaryBg",Dr(private_safeLighten,fr.primary.main,.62)),setColor(fr.LinearProgress,"secondaryBg",Dr(private_safeLighten,fr.secondary.main,.62)),setColor(fr.LinearProgress,"errorBg",Dr(private_safeLighten,fr.error.main,.62)),setColor(fr.LinearProgress,"infoBg",Dr(private_safeLighten,fr.info.main,.62)),setColor(fr.LinearProgress,"successBg",Dr(private_safeLighten,fr.success.main,.62)),setColor(fr.LinearProgress,"warningBg",Dr(private_safeLighten,fr.warning.main,.62)),setColor(fr.Skeleton,"bg",cr?Dr(private_safeAlpha,fr.text.primary,.11):`rgba(${Sr("palette-text-primaryChannel")} / 0.11)`),setColor(fr.Slider,"primaryTrack",Dr(private_safeLighten,fr.primary.main,.62)),setColor(fr.Slider,"secondaryTrack",Dr(private_safeLighten,fr.secondary.main,.62)),setColor(fr.Slider,"errorTrack",Dr(private_safeLighten,fr.error.main,.62)),setColor(fr.Slider,"infoTrack",Dr(private_safeLighten,fr.info.main,.62)),setColor(fr.Slider,"successTrack",Dr(private_safeLighten,fr.success.main,.62)),setColor(fr.Slider,"warningTrack",Dr(private_safeLighten,fr.warning.main,.62));const Or=cr?Dr(private_safeDarken,fr.background.default,.6825):private_safeEmphasize(fr.background.default,.8);setColor(fr.SnackbarContent,"bg",Or),setColor(fr.SnackbarContent,"color",silent(()=>cr?dark.text.primary:fr.getContrastText(Or))),setColor(fr.SpeedDialAction,"fabHoverBg",private_safeEmphasize(fr.background.paper,.15)),setColor(fr.StepConnector,"border",Sr("palette-grey-400")),setColor(fr.StepContent,"border",Sr("palette-grey-400")),setColor(fr.Switch,"defaultColor",Sr("palette-common-white")),setColor(fr.Switch,"defaultDisabledColor",Sr("palette-grey-100")),setColor(fr.Switch,"primaryDisabledColor",Dr(private_safeLighten,fr.primary.main,.62)),setColor(fr.Switch,"secondaryDisabledColor",Dr(private_safeLighten,fr.secondary.main,.62)),setColor(fr.Switch,"errorDisabledColor",Dr(private_safeLighten,fr.error.main,.62)),setColor(fr.Switch,"infoDisabledColor",Dr(private_safeLighten,fr.info.main,.62)),setColor(fr.Switch,"successDisabledColor",Dr(private_safeLighten,fr.success.main,.62)),setColor(fr.Switch,"warningDisabledColor",Dr(private_safeLighten,fr.warning.main,.62)),setColor(fr.TableCell,"border",Dr(private_safeLighten,Dr(private_safeAlpha,fr.divider,1),.88)),setColor(fr.Tooltip,"bg",Dr(private_safeAlpha,fr.grey[700],.92))}if(fr.mode==="dark"){setColor(fr.Alert,"errorColor",Dr(private_safeLighten,fr.error.light,.6)),setColor(fr.Alert,"infoColor",Dr(private_safeLighten,fr.info.light,.6)),setColor(fr.Alert,"successColor",Dr(private_safeLighten,fr.success.light,.6)),setColor(fr.Alert,"warningColor",Dr(private_safeLighten,fr.warning.light,.6)),setColor(fr.Alert,"errorFilledBg",Sr("palette-error-dark")),setColor(fr.Alert,"infoFilledBg",Sr("palette-info-dark")),setColor(fr.Alert,"successFilledBg",Sr("palette-success-dark")),setColor(fr.Alert,"warningFilledBg",Sr("palette-warning-dark")),setColor(fr.Alert,"errorFilledColor",silent(()=>fr.getContrastText(fr.error.dark))),setColor(fr.Alert,"infoFilledColor",silent(()=>fr.getContrastText(fr.info.dark))),setColor(fr.Alert,"successFilledColor",silent(()=>fr.getContrastText(fr.success.dark))),setColor(fr.Alert,"warningFilledColor",silent(()=>fr.getContrastText(fr.warning.dark))),setColor(fr.Alert,"errorStandardBg",Dr(private_safeDarken,fr.error.light,.9)),setColor(fr.Alert,"infoStandardBg",Dr(private_safeDarken,fr.info.light,.9)),setColor(fr.Alert,"successStandardBg",Dr(private_safeDarken,fr.success.light,.9)),setColor(fr.Alert,"warningStandardBg",Dr(private_safeDarken,fr.warning.light,.9)),setColor(fr.Alert,"errorIconColor",Sr("palette-error-main")),setColor(fr.Alert,"infoIconColor",Sr("palette-info-main")),setColor(fr.Alert,"successIconColor",Sr("palette-success-main")),setColor(fr.Alert,"warningIconColor",Sr("palette-warning-main")),setColor(fr.AppBar,"defaultBg",Sr("palette-grey-900")),setColor(fr.AppBar,"darkBg",Sr("palette-background-paper")),setColor(fr.AppBar,"darkColor",Sr("palette-text-primary")),setColor(fr.Avatar,"defaultBg",Sr("palette-grey-600")),setColor(fr.Button,"inheritContainedBg",Sr("palette-grey-800")),setColor(fr.Button,"inheritContainedHoverBg",Sr("palette-grey-700")),setColor(fr.Chip,"defaultBorder",Sr("palette-grey-700")),setColor(fr.Chip,"defaultAvatarColor",Sr("palette-grey-300")),setColor(fr.Chip,"defaultIconColor",Sr("palette-grey-300")),setColor(fr.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),setColor(fr.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),setColor(fr.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),setColor(fr.LinearProgress,"primaryBg",Dr(private_safeDarken,fr.primary.main,.5)),setColor(fr.LinearProgress,"secondaryBg",Dr(private_safeDarken,fr.secondary.main,.5)),setColor(fr.LinearProgress,"errorBg",Dr(private_safeDarken,fr.error.main,.5)),setColor(fr.LinearProgress,"infoBg",Dr(private_safeDarken,fr.info.main,.5)),setColor(fr.LinearProgress,"successBg",Dr(private_safeDarken,fr.success.main,.5)),setColor(fr.LinearProgress,"warningBg",Dr(private_safeDarken,fr.warning.main,.5)),setColor(fr.Skeleton,"bg",cr?Dr(private_safeAlpha,fr.text.primary,.13):`rgba(${Sr("palette-text-primaryChannel")} / 0.13)`),setColor(fr.Slider,"primaryTrack",Dr(private_safeDarken,fr.primary.main,.5)),setColor(fr.Slider,"secondaryTrack",Dr(private_safeDarken,fr.secondary.main,.5)),setColor(fr.Slider,"errorTrack",Dr(private_safeDarken,fr.error.main,.5)),setColor(fr.Slider,"infoTrack",Dr(private_safeDarken,fr.info.main,.5)),setColor(fr.Slider,"successTrack",Dr(private_safeDarken,fr.success.main,.5)),setColor(fr.Slider,"warningTrack",Dr(private_safeDarken,fr.warning.main,.5));const Or=cr?Dr(private_safeLighten,fr.background.default,.985):private_safeEmphasize(fr.background.default,.98);setColor(fr.SnackbarContent,"bg",Or),setColor(fr.SnackbarContent,"color",silent(()=>cr?light.text.primary:fr.getContrastText(Or))),setColor(fr.SpeedDialAction,"fabHoverBg",private_safeEmphasize(fr.background.paper,.15)),setColor(fr.StepConnector,"border",Sr("palette-grey-600")),setColor(fr.StepContent,"border",Sr("palette-grey-600")),setColor(fr.Switch,"defaultColor",Sr("palette-grey-300")),setColor(fr.Switch,"defaultDisabledColor",Sr("palette-grey-600")),setColor(fr.Switch,"primaryDisabledColor",Dr(private_safeDarken,fr.primary.main,.55)),setColor(fr.Switch,"secondaryDisabledColor",Dr(private_safeDarken,fr.secondary.main,.55)),setColor(fr.Switch,"errorDisabledColor",Dr(private_safeDarken,fr.error.main,.55)),setColor(fr.Switch,"infoDisabledColor",Dr(private_safeDarken,fr.info.main,.55)),setColor(fr.Switch,"successDisabledColor",Dr(private_safeDarken,fr.success.main,.55)),setColor(fr.Switch,"warningDisabledColor",Dr(private_safeDarken,fr.warning.main,.55)),setColor(fr.TableCell,"border",Dr(private_safeDarken,Dr(private_safeAlpha,fr.divider,1),.68)),setColor(fr.Tooltip,"bg",Dr(private_safeAlpha,fr.grey[700],.92))}setColorChannel(fr.background,"default"),setColorChannel(fr.background,"paper"),setColorChannel(fr.common,"background"),setColorChannel(fr.common,"onBackground"),setColorChannel(fr,"divider"),Object.keys(fr).forEach(Or=>{const Er=fr[Or];Or!=="tonalOffset"&&Er&&typeof Er=="object"&&(Er.main&&setColor(fr[Or],"mainChannel",private_safeColorChannel(toRgb(Er.main))),Er.light&&setColor(fr[Or],"lightChannel",private_safeColorChannel(toRgb(Er.light))),Er.dark&&setColor(fr[Or],"darkChannel",private_safeColorChannel(toRgb(Er.dark))),Er.contrastText&&setColor(fr[Or],"contrastTextChannel",private_safeColorChannel(toRgb(Er.contrastText))),Or==="text"&&(setColorChannel(fr[Or],"primary"),setColorChannel(fr[Or],"secondary")),Or==="action"&&(Er.active&&setColorChannel(fr[Or],"active"),Er.selected&&setColorChannel(fr[Or],"selected")))})}),yr=$e.reduce((br,fr)=>deepmerge(br,fr),yr);const mr={prefix:qe,disableCssColorScheme:ze,shouldSkipGeneratingVar:We,getSelector:defaultGetSelector(yr),enableContrastVars:He},{vars:vr,generateThemeVars:_r,generateStyleSheets:Cr}=prepareCssVars(yr,mr);return yr.vars=vr,Object.entries(yr.colorSchemes[yr.defaultColorScheme]).forEach(([br,fr])=>{yr[br]=fr}),yr.generateThemeVars=_r,yr.generateStyleSheets=Cr,yr.generateSpacing=function(){return createSpacing(Xe.spacing,createUnarySpacing(this))},yr.getColorSchemeSelector=createGetColorSchemeSelector(Ge),yr.spacing=yr.generateSpacing(),yr.shouldSkipGeneratingVar=We,yr.unstable_sxConfig={...defaultSxConfig,...Xe?.unstable_sxConfig},yr.unstable_sx=function(fr){return styleFunctionSx({sx:fr,theme:this})},yr.toRuntimeSource=stringifyTheme,yr}function attachColorScheme(Ve,$e,Be){Ve.colorSchemes&&Be&&(Ve.colorSchemes[$e]={...Be!==!0&&Be,palette:createPalette({...Be===!0?{}:Be.palette,mode:$e})})}function createTheme(Ve={},...$e){const{palette:Be,cssVariables:Ue=!1,colorSchemes:ze=Be?void 0:{light:!0},defaultColorScheme:qe=Be?.mode,...He}=Ve,We=qe||"light",Ge=ze?.[We],Ye={...ze,...Be?{[We]:{...typeof Ge!="boolean"&&Ge,palette:Be}}:void 0};if(Ue===!1){if(!("colorSchemes"in Ve))return createThemeNoVars(Ve,...$e);let Xe=Be;"palette"in Ve||Ye[We]&&(Ye[We]!==!0?Xe=Ye[We].palette:We==="dark"&&(Xe={mode:"dark"}));const Je=createThemeNoVars({...Ve,palette:Xe},...$e);return Je.defaultColorScheme=We,Je.colorSchemes=Ye,Je.palette.mode==="light"&&(Je.colorSchemes.light={...Ye.light!==!0&&Ye.light,palette:Je.palette},attachColorScheme(Je,"dark",Ye.dark)),Je.palette.mode==="dark"&&(Je.colorSchemes.dark={...Ye.dark!==!0&&Ye.dark,palette:Je.palette},attachColorScheme(Je,"light",Ye.light)),Je}return!Be&&!("light"in Ye)&&We==="light"&&(Ye.light=!0),createThemeWithVars({...He,colorSchemes:Ye,defaultColorScheme:We,...typeof Ue!="boolean"&&Ue},...$e)}const defaultTheme$1=createTheme();function useTheme(){const Ve=useTheme$1(defaultTheme$1);return Ve[THEME_ID]||Ve}function slotShouldForwardProp(Ve){return Ve!=="ownerState"&&Ve!=="theme"&&Ve!=="sx"&&Ve!=="as"}const rootShouldForwardProp=Ve=>slotShouldForwardProp(Ve)&&Ve!=="classes",styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp});function internal_createExtendSxProp(){return extendSxProp$1}const memoTheme=unstable_memoTheme;function useDefaultProps(Ve){return useDefaultProps$1(Ve)}function hasCorrectMainProperty(Ve){return typeof Ve.main=="string"}function checkSimplePaletteColorValues(Ve,$e=[]){if(!hasCorrectMainProperty(Ve))return!1;for(const Be of $e)if(!Ve.hasOwnProperty(Be)||typeof Ve[Be]!="string")return!1;return!0}function createSimplePaletteValueFilter(Ve=[]){return([,$e])=>$e&&checkSimplePaletteColorValues($e,Ve)}function getPaperUtilityClass(Ve){return generateUtilityClass("MuiPaper",Ve)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const useUtilityClasses$e=Ve=>{const{square:$e,elevation:Be,variant:Ue,classes:ze}=Ve,qe={root:["root",Ue,!$e&&"rounded",Ue==="elevation"&&`elevation${Be}`]};return composeClasses(qe,getPaperUtilityClass,ze)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,$e[Be.variant],!Be.square&&$e.rounded,Be.variant==="elevation"&&$e[`elevation${Be.elevation}`]]}})(memoTheme(({theme:Ve})=>({backgroundColor:(Ve.vars||Ve).palette.background.paper,color:(Ve.vars||Ve).palette.text.primary,transition:Ve.transitions.create("box-shadow"),variants:[{props:({ownerState:$e})=>!$e.square,style:{borderRadius:Ve.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(Ve.vars||Ve).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Paper=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiPaper"}),ze=useTheme(),{className:qe,component:He="div",elevation:We=1,square:Ge=!1,variant:Ye="elevation",...Xe}=Ue,Je={...Ue,component:He,elevation:We,square:Ge,variant:Ye},er=useUtilityClasses$e(Je);return jsxRuntimeExports.jsx(PaperRoot,{as:He,ownerState:Je,className:clsx(er.root,qe),ref:Be,...Xe,style:{...Ye==="elevation"&&{"--Paper-shadow":(ze.vars||ze).shadows[We],...ze.vars&&{"--Paper-overlay":ze.vars.overlays?.[We]},...!ze.vars&&ze.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${alpha$1("#fff",getOverlayAlpha(We))}, ${alpha$1("#fff",getOverlayAlpha(We))})`}},...Xe.style}})});function getAppBarUtilityClass(Ve){return generateUtilityClass("MuiAppBar",Ve)}generateUtilityClasses("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const useUtilityClasses$d=Ve=>{const{color:$e,position:Be,classes:Ue}=Ve,ze={root:["root",`color${capitalize($e)}`,`position${capitalize(Be)}`]};return composeClasses(ze,getAppBarUtilityClass,Ue)},joinVars=(Ve,$e)=>Ve?`${Ve?.replace(")","")}, ${$e})`:$e,AppBarRoot=styled(Paper,{name:"MuiAppBar",slot:"Root",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,$e[`position${capitalize(Be.position)}`],$e[`color${capitalize(Be.color)}`]]}})(memoTheme(({theme:Ve})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(Ve.vars||Ve).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(Ve.vars||Ve).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(Ve.vars||Ve).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":Ve.vars?Ve.vars.palette.AppBar.defaultBg:Ve.palette.grey[100],"--AppBar-color":Ve.vars?Ve.vars.palette.text.primary:Ve.palette.getContrastText(Ve.palette.grey[100]),...Ve.applyStyles("dark",{"--AppBar-background":Ve.vars?Ve.vars.palette.AppBar.defaultBg:Ve.palette.grey[900],"--AppBar-color":Ve.vars?Ve.vars.palette.text.primary:Ve.palette.getContrastText(Ve.palette.grey[900])})}},...Object.entries(Ve.palette).filter(createSimplePaletteValueFilter(["contrastText"])).map(([$e])=>({props:{color:$e},style:{"--AppBar-background":(Ve.vars??Ve).palette[$e].main,"--AppBar-color":(Ve.vars??Ve).palette[$e].contrastText}})),{props:$e=>$e.enableColorOnDark===!0&&!["inherit","transparent"].includes($e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:$e=>$e.enableColorOnDark===!1&&!["inherit","transparent"].includes($e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...Ve.applyStyles("dark",{backgroundColor:Ve.vars?joinVars(Ve.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:Ve.vars?joinVars(Ve.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...Ve.applyStyles("dark",{backgroundImage:"none"})}}]}))),AppBar=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiAppBar"}),{className:ze,color:qe="primary",enableColorOnDark:He=!1,position:We="fixed",...Ge}=Ue,Ye={...Ue,color:qe,position:We,enableColorOnDark:He},Xe=useUtilityClasses$d(Ye);return jsxRuntimeExports.jsx(AppBarRoot,{square:!0,component:"header",ownerState:Ye,elevation:4,className:clsx(Xe.root,ze,We==="fixed"&&"mui-fixed"),ref:Be,...Ge})}),boxClasses=generateUtilityClasses("MuiBox",["root"]),defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:boxClasses.root,generateClassName:ClassNameGenerator.generate});function getToolbarUtilityClass(Ve){return generateUtilityClass("MuiToolbar",Ve)}generateUtilityClasses("MuiToolbar",["root","gutters","regular","dense"]);const useUtilityClasses$c=Ve=>{const{classes:$e,disableGutters:Be,variant:Ue}=Ve;return composeClasses({root:["root",!Be&&"gutters",Ue]},getToolbarUtilityClass,$e)},ToolbarRoot=styled("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,!Be.disableGutters&&$e.gutters,$e[Be.variant]]}})(memoTheme(({theme:Ve})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:$e})=>!$e.disableGutters,style:{paddingLeft:Ve.spacing(2),paddingRight:Ve.spacing(2),[Ve.breakpoints.up("sm")]:{paddingLeft:Ve.spacing(3),paddingRight:Ve.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:Ve.mixins.toolbar}]}))),Toolbar=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiToolbar"}),{className:ze,component:qe="div",disableGutters:He=!1,variant:We="regular",...Ge}=Ue,Ye={...Ue,component:qe,disableGutters:He,variant:We},Xe=useUtilityClasses$c(Ye);return jsxRuntimeExports.jsx(ToolbarRoot,{as:qe,className:clsx(Xe.root,ze),ref:Be,ownerState:Ye,...Ge})});function createChainedFunction(...Ve){return Ve.reduce(($e,Be)=>Be==null?$e:function(...ze){$e.apply(this,ze),Be.apply(this,ze)},()=>{})}function getSvgIconUtilityClass(Ve){return generateUtilityClass("MuiSvgIcon",Ve)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const useUtilityClasses$b=Ve=>{const{color:$e,fontSize:Be,classes:Ue}=Ve,ze={root:["root",$e!=="inherit"&&`color${capitalize($e)}`,`fontSize${capitalize(Be)}`]};return composeClasses(ze,getSvgIconUtilityClass,Ue)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,Be.color!=="inherit"&&$e[`color${capitalize(Be.color)}`],$e[`fontSize${capitalize(Be.fontSize)}`]]}})(memoTheme(({theme:Ve})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:Ve.transitions?.create?.("fill",{duration:(Ve.vars??Ve).transitions?.duration?.shorter}),variants:[{props:$e=>!$e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:Ve.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:Ve.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:Ve.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((Ve.vars??Ve).palette).filter(([,$e])=>$e&&$e.main).map(([$e])=>({props:{color:$e},style:{color:(Ve.vars??Ve).palette?.[$e]?.main}})),{props:{color:"action"},style:{color:(Ve.vars??Ve).palette?.action?.active}},{props:{color:"disabled"},style:{color:(Ve.vars??Ve).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),SvgIcon=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiSvgIcon"}),{children:ze,className:qe,color:He="inherit",component:We="svg",fontSize:Ge="medium",htmlColor:Ye,inheritViewBox:Xe=!1,titleAccess:Je,viewBox:er="0 0 24 24",...Ze}=Ue,rr=reactExports.isValidElement(ze)&&ze.type==="svg",nr={...Ue,color:He,component:We,fontSize:Ge,instanceFontSize:$e.fontSize,inheritViewBox:Xe,viewBox:er,hasSvgAsChild:rr},ar={};Xe||(ar.viewBox=er);const sr=useUtilityClasses$b(nr);return jsxRuntimeExports.jsxs(SvgIconRoot,{as:We,className:clsx(sr.root,qe),focusable:"false",color:Ye,"aria-hidden":Je?void 0:!0,role:Je?"img":void 0,ref:Be,...ar,...Ze,...rr&&ze.props,ownerState:nr,children:[rr?ze.props.children:ze,Je?jsxRuntimeExports.jsx("title",{children:Je}):null]})});SvgIcon.muiName="SvgIcon";function createSvgIcon(Ve,$e){function Be(Ue,ze){return jsxRuntimeExports.jsx(SvgIcon,{"data-testid":void 0,ref:ze,...Ue,children:Ve})}return Be.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(Be))}function debounce$2(Ve,$e=166){let Be;function Ue(...ze){const qe=()=>{Ve.apply(this,ze)};clearTimeout(Be),Be=setTimeout(qe,$e)}return Ue.clear=()=>{clearTimeout(Be)},Ue}function ownerDocument(Ve){return Ve&&Ve.ownerDocument||document}function ownerWindow(Ve){return ownerDocument(Ve).defaultView||window}function setRef(Ve,$e){typeof Ve=="function"?Ve($e):Ve&&(Ve.current=$e)}function useEventCallback(Ve){const $e=reactExports.useRef(Ve);return useEnhancedEffect(()=>{$e.current=Ve}),reactExports.useRef((...Be)=>(0,$e.current)(...Be)).current}function useForkRef(...Ve){const $e=reactExports.useRef(void 0),Be=reactExports.useCallback(Ue=>{const ze=Ve.map(qe=>{if(qe==null)return null;if(typeof qe=="function"){const He=qe,We=He(Ue);return typeof We=="function"?We:()=>{He(null)}}return qe.current=Ue,()=>{qe.current=null}});return()=>{ze.forEach(qe=>qe?.())}},Ve);return reactExports.useMemo(()=>Ve.every(Ue=>Ue==null)?null:Ue=>{$e.current&&($e.current(),$e.current=void 0),Ue!=null&&($e.current=Be(Ue))},Ve)}function isEventHandler(Ve,$e){const Be=Ve.charCodeAt(2);return Ve[0]==="o"&&Ve[1]==="n"&&Be>=65&&Be<=90&&typeof $e=="function"}function mergeSlotProps$1(Ve,$e){if(!Ve)return $e;function Be(He,We){const Ge={};return Object.keys(We).forEach(Ye=>{isEventHandler(Ye,We[Ye])&&typeof He[Ye]=="function"&&(Ge[Ye]=(...Xe)=>{He[Ye](...Xe),We[Ye](...Xe)})}),Ge}if(typeof Ve=="function"||typeof $e=="function")return He=>{const We=typeof $e=="function"?$e(He):$e,Ge=typeof Ve=="function"?Ve({...He,...We}):Ve,Ye=clsx(He?.className,We?.className,Ge?.className),Xe=Be(Ge,We);return{...We,...Ge,...Xe,...!!Ye&&{className:Ye},...We?.style&&Ge?.style&&{style:{...We.style,...Ge.style}},...We?.sx&&Ge?.sx&&{sx:[...Array.isArray(We.sx)?We.sx:[We.sx],...Array.isArray(Ge.sx)?Ge.sx:[Ge.sx]]}}};const Ue=$e,ze=Be(Ve,Ue),qe=clsx(Ue?.className,Ve?.className);return{...$e,...Ve,...ze,...!!qe&&{className:qe},...Ue?.style&&Ve?.style&&{style:{...Ue.style,...Ve.style}},...Ue?.sx&&Ve?.sx&&{sx:[...Array.isArray(Ue.sx)?Ue.sx:[Ue.sx],...Array.isArray(Ve.sx)?Ve.sx:[Ve.sx]]}}}function isFocusVisible(Ve){try{return Ve.matches(":focus-visible")}catch{}return!1}const UNINITIALIZED={};function useLazyRef(Ve,$e){const Be=reactExports.useRef(UNINITIALIZED);return Be.current===UNINITIALIZED&&(Be.current=Ve($e)),Be}class LazyRipple{static create(){return new LazyRipple}static use(){const $e=useLazyRef(LazyRipple.create).current,[Be,Ue]=reactExports.useState(!1);return $e.shouldMount=Be,$e.setShouldMount=Ue,reactExports.useEffect($e.mountEffect,[Be]),$e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=createControlledPromise(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...$e){this.mount().then(()=>this.ref.current?.start(...$e))}stop(...$e){this.mount().then(()=>this.ref.current?.stop(...$e))}pulsate(...$e){this.mount().then(()=>this.ref.current?.pulsate(...$e))}}function useLazyRipple(){return LazyRipple.use()}function createControlledPromise(){let Ve,$e;const Be=new Promise((Ue,ze)=>{Ve=Ue,$e=ze});return Be.resolve=Ve,Be.reject=$e,Be}function _objectWithoutPropertiesLoose$n(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}function _setPrototypeOf(Ve,$e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,Ue){return Be.__proto__=Ue,Be},_setPrototypeOf(Ve,$e)}function _inheritsLoose(Ve,$e){Ve.prototype=Object.create($e.prototype),Ve.prototype.constructor=Ve,_setPrototypeOf(Ve,$e)}const config$1={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function($e){return $e.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=(function(Ve){_inheritsLoose($e,Ve);function $e(Ue,ze){var qe;qe=Ve.call(this,Ue,ze)||this;var He=ze,We=He&&!He.isMounting?Ue.enter:Ue.appear,Ge;return qe.appearStatus=null,Ue.in?We?(Ge=EXITED,qe.appearStatus=ENTERING):Ge=ENTERED:Ue.unmountOnExit||Ue.mountOnEnter?Ge=UNMOUNTED:Ge=EXITED,qe.state={status:Ge},qe.nextCallback=null,qe}$e.getDerivedStateFromProps=function(ze,qe){var He=ze.in;return He&&qe.status===UNMOUNTED?{status:EXITED}:null};var Be=$e.prototype;return Be.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},Be.componentDidUpdate=function(ze){var qe=null;if(ze!==this.props){var He=this.state.status;this.props.in?He!==ENTERING&&He!==ENTERED&&(qe=ENTERING):(He===ENTERING||He===ENTERED)&&(qe=EXITING)}this.updateStatus(!1,qe)},Be.componentWillUnmount=function(){this.cancelNextCallback()},Be.getTimeouts=function(){var ze=this.props.timeout,qe,He,We;return qe=He=We=ze,ze!=null&&typeof ze!="number"&&(qe=ze.exit,He=ze.enter,We=ze.appear!==void 0?ze.appear:He),{exit:qe,enter:He,appear:We}},Be.updateStatus=function(ze,qe){if(ze===void 0&&(ze=!1),qe!==null)if(this.cancelNextCallback(),qe===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var He=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);He&&forceReflow(He)}this.performEnter(ze)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},Be.performEnter=function(ze){var qe=this,He=this.props.enter,We=this.context?this.context.isMounting:ze,Ge=this.props.nodeRef?[We]:[ReactDOM.findDOMNode(this),We],Ye=Ge[0],Xe=Ge[1],Je=this.getTimeouts(),er=We?Je.appear:Je.enter;if(!ze&&!He||config$1.disabled){this.safeSetState({status:ENTERED},function(){qe.props.onEntered(Ye)});return}this.props.onEnter(Ye,Xe),this.safeSetState({status:ENTERING},function(){qe.props.onEntering(Ye,Xe),qe.onTransitionEnd(er,function(){qe.safeSetState({status:ENTERED},function(){qe.props.onEntered(Ye,Xe)})})})},Be.performExit=function(){var ze=this,qe=this.props.exit,He=this.getTimeouts(),We=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!qe||config$1.disabled){this.safeSetState({status:EXITED},function(){ze.props.onExited(We)});return}this.props.onExit(We),this.safeSetState({status:EXITING},function(){ze.props.onExiting(We),ze.onTransitionEnd(He.exit,function(){ze.safeSetState({status:EXITED},function(){ze.props.onExited(We)})})})},Be.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},Be.safeSetState=function(ze,qe){qe=this.setNextCallback(qe),this.setState(ze,qe)},Be.setNextCallback=function(ze){var qe=this,He=!0;return this.nextCallback=function(We){He&&(He=!1,qe.nextCallback=null,ze(We))},this.nextCallback.cancel=function(){He=!1},this.nextCallback},Be.onTransitionEnd=function(ze,qe){this.setNextCallback(qe);var He=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),We=ze==null&&!this.props.addEndListener;if(!He||We){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var Ge=this.props.nodeRef?[this.nextCallback]:[He,this.nextCallback],Ye=Ge[0],Xe=Ge[1];this.props.addEndListener(Ye,Xe)}ze!=null&&setTimeout(this.nextCallback,ze)},Be.render=function(){var ze=this.state.status;if(ze===UNMOUNTED)return null;var qe=this.props,He=qe.children;qe.in,qe.mountOnEnter,qe.unmountOnExit,qe.appear,qe.enter,qe.exit,qe.timeout,qe.addEndListener,qe.onEnter,qe.onEntering,qe.onEntered,qe.onExit,qe.onExiting,qe.onExited,qe.nodeRef;var We=_objectWithoutPropertiesLoose$n(qe,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof He=="function"?He(ze,We):React.cloneElement(React.Children.only(He),We))},$e})(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$9(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$9,onEntering:noop$9,onEntered:noop$9,onExit:noop$9,onExiting:noop$9,onExited:noop$9};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function _assertThisInitialized(Ve){if(Ve===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ve}function getChildMapping(Ve,$e){var Be=function(qe){return $e&&reactExports.isValidElement(qe)?$e(qe):qe},Ue=Object.create(null);return Ve&&reactExports.Children.map(Ve,function(ze){return ze}).forEach(function(ze){Ue[ze.key]=Be(ze)}),Ue}function mergeChildMappings(Ve,$e){Ve=Ve||{},$e=$e||{};function Be(Xe){return Xe in $e?$e[Xe]:Ve[Xe]}var Ue=Object.create(null),ze=[];for(var qe in Ve)qe in $e?ze.length&&(Ue[qe]=ze,ze=[]):ze.push(qe);var He,We={};for(var Ge in $e){if(Ue[Ge])for(He=0;He<Ue[Ge].length;He++){var Ye=Ue[Ge][He];We[Ue[Ge][He]]=Be(Ye)}We[Ge]=Be(Ge)}for(He=0;He<ze.length;He++)We[ze[He]]=Be(ze[He]);return We}function getProp(Ve,$e,Be){return Be[$e]!=null?Be[$e]:Ve.props[$e]}function getInitialChildMapping(Ve,$e){return getChildMapping(Ve.children,function(Be){return reactExports.cloneElement(Be,{onExited:$e.bind(null,Be),in:!0,appear:getProp(Be,"appear",Ve),enter:getProp(Be,"enter",Ve),exit:getProp(Be,"exit",Ve)})})}function getNextChildMapping(Ve,$e,Be){var Ue=getChildMapping(Ve.children),ze=mergeChildMappings($e,Ue);return Object.keys(ze).forEach(function(qe){var He=ze[qe];if(reactExports.isValidElement(He)){var We=qe in $e,Ge=qe in Ue,Ye=$e[qe],Xe=reactExports.isValidElement(Ye)&&!Ye.props.in;Ge&&(!We||Xe)?ze[qe]=reactExports.cloneElement(He,{onExited:Be.bind(null,He),in:!0,exit:getProp(He,"exit",Ve),enter:getProp(He,"enter",Ve)}):!Ge&&We&&!Xe?ze[qe]=reactExports.cloneElement(He,{in:!1}):Ge&&We&&reactExports.isValidElement(Ye)&&(ze[qe]=reactExports.cloneElement(He,{onExited:Be.bind(null,He),in:Ye.props.in,exit:getProp(He,"exit",Ve),enter:getProp(He,"enter",Ve)}))}}),ze}var values=Object.values||function(Ve){return Object.keys(Ve).map(function($e){return Ve[$e]})},defaultProps$7={component:"div",childFactory:function($e){return $e}},TransitionGroup=(function(Ve){_inheritsLoose($e,Ve);function $e(Ue,ze){var qe;qe=Ve.call(this,Ue,ze)||this;var He=qe.handleExited.bind(_assertThisInitialized(qe));return qe.state={contextValue:{isMounting:!0},handleExited:He,firstRender:!0},qe}var Be=$e.prototype;return Be.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},Be.componentWillUnmount=function(){this.mounted=!1},$e.getDerivedStateFromProps=function(ze,qe){var He=qe.children,We=qe.handleExited,Ge=qe.firstRender;return{children:Ge?getInitialChildMapping(ze,We):getNextChildMapping(ze,He,We),firstRender:!1}},Be.handleExited=function(ze,qe){var He=getChildMapping(this.props.children);ze.key in He||(ze.props.onExited&&ze.props.onExited(qe),this.mounted&&this.setState(function(We){var Ge=_extends$r({},We.children);return delete Ge[ze.key],{children:Ge}}))},Be.render=function(){var ze=this.props,qe=ze.component,He=ze.childFactory,We=_objectWithoutPropertiesLoose$n(ze,["component","childFactory"]),Ge=this.state.contextValue,Ye=values(this.state.children).map(He);return delete We.appear,delete We.enter,delete We.exit,qe===null?React.createElement(TransitionGroupContext.Provider,{value:Ge},Ye):React.createElement(TransitionGroupContext.Provider,{value:Ge},React.createElement(qe,We,Ye))},$e})(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps$7;const EMPTY=[];function useOnMount(Ve){reactExports.useEffect(Ve,EMPTY)}class Timeout{static create(){return new Timeout}currentId=null;start($e,Be){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,Be()},$e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function useTimeout(){const Ve=useLazyRef(Timeout.create).current;return useOnMount(Ve.disposeEffect),Ve}function Ripple(Ve){const{className:$e,classes:Be,pulsate:Ue=!1,rippleX:ze,rippleY:qe,rippleSize:He,in:We,onExited:Ge,timeout:Ye}=Ve,[Xe,Je]=reactExports.useState(!1),er=clsx($e,Be.ripple,Be.rippleVisible,Ue&&Be.ripplePulsate),Ze={width:He,height:He,top:-(He/2)+qe,left:-(He/2)+ze},rr=clsx(Be.child,Xe&&Be.childLeaving,Ue&&Be.childPulsate);return!We&&!Xe&&Je(!0),reactExports.useEffect(()=>{if(!We&&Ge!=null){const nr=setTimeout(Ge,Ye);return()=>{clearTimeout(nr)}}},[Ge,We,Ye]),jsxRuntimeExports.jsx("span",{className:er,style:Ze,children:jsxRuntimeExports.jsx("span",{className:rr})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,exitKeyframe=keyframes`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,pulsateKeyframe=keyframes`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${touchRippleClasses.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${enterKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:Ve})=>Ve.transitions.easing.easeInOut};
  }

  &.${touchRippleClasses.ripplePulsate} {
    animation-duration: ${({theme:Ve})=>Ve.transitions.duration.shorter}ms;
  }

  & .${touchRippleClasses.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${touchRippleClasses.childLeaving} {
    opacity: 0;
    animation-name: ${exitKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:Ve})=>Ve.transitions.easing.easeInOut};
  }

  & .${touchRippleClasses.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${pulsateKeyframe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:Ve})=>Ve.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,TouchRipple=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiTouchRipple"}),{center:ze=!1,classes:qe={},className:He,...We}=Ue,[Ge,Ye]=reactExports.useState([]),Xe=reactExports.useRef(0),Je=reactExports.useRef(null);reactExports.useEffect(()=>{Je.current&&(Je.current(),Je.current=null)},[Ge]);const er=reactExports.useRef(!1),Ze=useTimeout(),rr=reactExports.useRef(null),nr=reactExports.useRef(null),ar=reactExports.useCallback(cr=>{const{pulsate:hr,rippleX:yr,rippleY:mr,rippleSize:vr,cb:_r}=cr;Ye(Cr=>[...Cr,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(qe.ripple,touchRippleClasses.ripple),rippleVisible:clsx(qe.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(qe.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(qe.child,touchRippleClasses.child),childLeaving:clsx(qe.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(qe.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:hr,rippleX:yr,rippleY:mr,rippleSize:vr},Xe.current)]),Xe.current+=1,Je.current=_r},[qe]),sr=reactExports.useCallback((cr={},hr={},yr=()=>{})=>{const{pulsate:mr=!1,center:vr=ze||hr.pulsate,fakeElement:_r=!1}=hr;if(cr?.type==="mousedown"&&er.current){er.current=!1;return}cr?.type==="touchstart"&&(er.current=!0);const Cr=_r?null:nr.current,br=Cr?Cr.getBoundingClientRect():{width:0,height:0,left:0,top:0};let fr,Sr,Dr;if(vr||cr===void 0||cr.clientX===0&&cr.clientY===0||!cr.clientX&&!cr.touches)fr=Math.round(br.width/2),Sr=Math.round(br.height/2);else{const{clientX:Or,clientY:Er}=cr.touches&&cr.touches.length>0?cr.touches[0]:cr;fr=Math.round(Or-br.left),Sr=Math.round(Er-br.top)}if(vr)Dr=Math.sqrt((2*br.width**2+br.height**2)/3),Dr%2===0&&(Dr+=1);else{const Or=Math.max(Math.abs((Cr?Cr.clientWidth:0)-fr),fr)*2+2,Er=Math.max(Math.abs((Cr?Cr.clientHeight:0)-Sr),Sr)*2+2;Dr=Math.sqrt(Or**2+Er**2)}cr?.touches?rr.current===null&&(rr.current=()=>{ar({pulsate:mr,rippleX:fr,rippleY:Sr,rippleSize:Dr,cb:yr})},Ze.start(DELAY_RIPPLE,()=>{rr.current&&(rr.current(),rr.current=null)})):ar({pulsate:mr,rippleX:fr,rippleY:Sr,rippleSize:Dr,cb:yr})},[ze,ar,Ze]),lr=reactExports.useCallback(()=>{sr({},{pulsate:!0})},[sr]),or=reactExports.useCallback((cr,hr)=>{if(Ze.clear(),cr?.type==="touchend"&&rr.current){rr.current(),rr.current=null,Ze.start(0,()=>{or(cr,hr)});return}rr.current=null,Ye(yr=>yr.length>0?yr.slice(1):yr),Je.current=hr},[Ze]);return reactExports.useImperativeHandle(Be,()=>({pulsate:lr,start:sr,stop:or}),[lr,sr,or]),jsxRuntimeExports.jsx(TouchRippleRoot,{className:clsx(touchRippleClasses.root,qe.root,He),ref:nr,...We,children:jsxRuntimeExports.jsx(TransitionGroup,{component:null,exit:!0,children:Ge})})});function getButtonBaseUtilityClass(Ve){return generateUtilityClass("MuiButtonBase",Ve)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),useUtilityClasses$a=Ve=>{const{disabled:$e,focusVisible:Be,focusVisibleClassName:Ue,classes:ze}=Ve,He=composeClasses({root:["root",$e&&"disabled",Be&&"focusVisible"]},getButtonBaseUtilityClass,ze);return Be&&Ue&&(He.root+=` ${Ue}`),He},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiButtonBase"}),{action:ze,centerRipple:qe=!1,children:He,className:We,component:Ge="button",disabled:Ye=!1,disableRipple:Xe=!1,disableTouchRipple:Je=!1,focusRipple:er=!1,focusVisibleClassName:Ze,LinkComponent:rr="a",onBlur:nr,onClick:ar,onContextMenu:sr,onDragLeave:lr,onFocus:or,onFocusVisible:cr,onKeyDown:hr,onKeyUp:yr,onMouseDown:mr,onMouseLeave:vr,onMouseUp:_r,onTouchEnd:Cr,onTouchMove:br,onTouchStart:fr,tabIndex:Sr=0,TouchRippleProps:Dr,touchRippleRef:Or,type:Er,...Nr}=Ue,wr=reactExports.useRef(null),Ar=useLazyRipple(),Lr=useForkRef(Ar.ref,Or),[Pr,Tr]=reactExports.useState(!1);Ye&&Pr&&Tr(!1),reactExports.useImperativeHandle(ze,()=>({focusVisible:()=>{Tr(!0),wr.current.focus()}}),[]);const Vr=Ar.shouldMount&&!Xe&&!Ye;reactExports.useEffect(()=>{Pr&&er&&!Xe&&Ar.pulsate()},[Xe,er,Pr,Ar]);const Ur=useRippleHandler(Ar,"start",mr,Je),Yr=useRippleHandler(Ar,"stop",sr,Je),Qr=useRippleHandler(Ar,"stop",lr,Je),mn=useRippleHandler(Ar,"stop",_r,Je),An=useRippleHandler(Ar,"stop",Yn=>{Pr&&Yn.preventDefault(),vr&&vr(Yn)},Je),Zr=useRippleHandler(Ar,"start",fr,Je),bn=useRippleHandler(Ar,"stop",Cr,Je),jn=useRippleHandler(Ar,"stop",br,Je),gn=useRippleHandler(Ar,"stop",Yn=>{isFocusVisible(Yn.target)||Tr(!1),nr&&nr(Yn)},!1),In=useEventCallback(Yn=>{wr.current||(wr.current=Yn.currentTarget),isFocusVisible(Yn.target)&&(Tr(!0),cr&&cr(Yn)),or&&or(Yn)}),Sn=()=>{const Yn=wr.current;return Ge&&Ge!=="button"&&!(Yn.tagName==="A"&&Yn.href)},Gr=useEventCallback(Yn=>{er&&!Yn.repeat&&Pr&&Yn.key===" "&&Ar.stop(Yn,()=>{Ar.start(Yn)}),Yn.target===Yn.currentTarget&&Sn()&&Yn.key===" "&&Yn.preventDefault(),hr&&hr(Yn),Yn.target===Yn.currentTarget&&Sn()&&Yn.key==="Enter"&&!Ye&&(Yn.preventDefault(),ar&&ar(Yn))}),Un=useEventCallback(Yn=>{er&&Yn.key===" "&&Pr&&!Yn.defaultPrevented&&Ar.stop(Yn,()=>{Ar.pulsate(Yn)}),yr&&yr(Yn),ar&&Yn.target===Yn.currentTarget&&Sn()&&Yn.key===" "&&!Yn.defaultPrevented&&ar(Yn)});let di=Ge;di==="button"&&(Nr.href||Nr.to)&&(di=rr);const ii={};di==="button"?(ii.type=Er===void 0?"button":Er,ii.disabled=Ye):(!Nr.href&&!Nr.to&&(ii.role="button"),Ye&&(ii["aria-disabled"]=Ye));const Vn=useForkRef(Be,wr),zn={...Ue,centerRipple:qe,component:Ge,disabled:Ye,disableRipple:Xe,disableTouchRipple:Je,focusRipple:er,tabIndex:Sr,focusVisible:Pr},Qn=useUtilityClasses$a(zn);return jsxRuntimeExports.jsxs(ButtonBaseRoot,{as:di,className:clsx(Qn.root,We),ownerState:zn,onBlur:gn,onClick:ar,onContextMenu:Yr,onFocus:In,onKeyDown:Gr,onKeyUp:Un,onMouseDown:Ur,onMouseLeave:An,onMouseUp:mn,onDragLeave:Qr,onTouchEnd:bn,onTouchMove:jn,onTouchStart:Zr,ref:Vn,tabIndex:Ye?-1:Sr,type:Er,...ii,...Nr,children:[He,Vr?jsxRuntimeExports.jsx(TouchRipple,{ref:Lr,center:qe,...Dr}):null]})});function useRippleHandler(Ve,$e,Be,Ue=!1){return useEventCallback(ze=>(Be&&Be(ze),Ue||Ve[$e](ze),!0))}function getCircularProgressUtilityClass(Ve){return generateUtilityClass("MuiCircularProgress",Ve)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const SIZE=44,circularRotateKeyframe=keyframes`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,circularDashKeyframe=keyframes`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,rotateAnimation=typeof circularRotateKeyframe!="string"?css`
        animation: ${circularRotateKeyframe} 1.4s linear infinite;
      `:null,dashAnimation=typeof circularDashKeyframe!="string"?css`
        animation: ${circularDashKeyframe} 1.4s ease-in-out infinite;
      `:null,useUtilityClasses$9=Ve=>{const{classes:$e,variant:Be,color:Ue,disableShrink:ze}=Ve,qe={root:["root",Be,`color${capitalize(Ue)}`],svg:["svg"],track:["track"],circle:["circle",`circle${capitalize(Be)}`,ze&&"circleDisableShrink"]};return composeClasses(qe,getCircularProgressUtilityClass,$e)},CircularProgressRoot=styled("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,$e[Be.variant],$e[`color${capitalize(Be.color)}`]]}})(memoTheme(({theme:Ve})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:Ve.transitions.create("transform")}},{props:{variant:"indeterminate"},style:rotateAnimation||{animation:`${circularRotateKeyframe} 1.4s linear infinite`}},...Object.entries(Ve.palette).filter(createSimplePaletteValueFilter()).map(([$e])=>({props:{color:$e},style:{color:(Ve.vars||Ve).palette[$e].main}}))]}))),CircularProgressSVG=styled("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),CircularProgressCircle=styled("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.circle,$e[`circle${capitalize(Be.variant)}`],Be.disableShrink&&$e.circleDisableShrink]}})(memoTheme(({theme:Ve})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:Ve.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:$e})=>$e.variant==="indeterminate"&&!$e.disableShrink,style:dashAnimation||{animation:`${circularDashKeyframe} 1.4s ease-in-out infinite`}}]}))),CircularProgressTrack=styled("circle",{name:"MuiCircularProgress",slot:"Track"})(memoTheme(({theme:Ve})=>({stroke:"currentColor",opacity:(Ve.vars||Ve).palette.action.activatedOpacity}))),CircularProgress=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiCircularProgress"}),{className:ze,color:qe="primary",disableShrink:He=!1,enableTrackSlot:We=!1,size:Ge=40,style:Ye,thickness:Xe=3.6,value:Je=0,variant:er="indeterminate",...Ze}=Ue,rr={...Ue,color:qe,disableShrink:He,size:Ge,thickness:Xe,value:Je,variant:er,enableTrackSlot:We},nr=useUtilityClasses$9(rr),ar={},sr={},lr={};if(er==="determinate"){const or=2*Math.PI*((SIZE-Xe)/2);ar.strokeDasharray=or.toFixed(3),lr["aria-valuenow"]=Math.round(Je),ar.strokeDashoffset=`${((100-Je)/100*or).toFixed(3)}px`,sr.transform="rotate(-90deg)"}return jsxRuntimeExports.jsx(CircularProgressRoot,{className:clsx(nr.root,ze),style:{width:Ge,height:Ge,...sr,...Ye},ownerState:rr,ref:Be,role:"progressbar",...lr,...Ze,children:jsxRuntimeExports.jsxs(CircularProgressSVG,{className:nr.svg,ownerState:rr,viewBox:`${SIZE/2} ${SIZE/2} ${SIZE} ${SIZE}`,children:[We?jsxRuntimeExports.jsx(CircularProgressTrack,{className:nr.track,ownerState:rr,cx:SIZE,cy:SIZE,r:(SIZE-Xe)/2,fill:"none",strokeWidth:Xe,"aria-hidden":"true"}):null,jsxRuntimeExports.jsx(CircularProgressCircle,{className:nr.circle,style:ar,ownerState:rr,cx:SIZE,cy:SIZE,r:(SIZE-Xe)/2,fill:"none",strokeWidth:Xe})]})})});function getIconButtonUtilityClass(Ve){return generateUtilityClass("MuiIconButton",Ve)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),useUtilityClasses$8=Ve=>{const{classes:$e,disabled:Be,color:Ue,edge:ze,size:qe,loading:He}=Ve,We={root:["root",He&&"loading",Be&&"disabled",Ue!=="default"&&`color${capitalize(Ue)}`,ze&&`edge${capitalize(ze)}`,`size${capitalize(qe)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return composeClasses(We,getIconButtonUtilityClass,$e)},IconButtonRoot=styled(ButtonBase,{name:"MuiIconButton",slot:"Root",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,Be.loading&&$e.loading,Be.color!=="default"&&$e[`color${capitalize(Be.color)}`],Be.edge&&$e[`edge${capitalize(Be.edge)}`],$e[`size${capitalize(Be.size)}`]]}})(memoTheme(({theme:Ve})=>({textAlign:"center",flex:"0 0 auto",fontSize:Ve.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(Ve.vars||Ve).palette.action.active,transition:Ve.transitions.create("background-color",{duration:Ve.transitions.duration.shortest}),variants:[{props:$e=>!$e.disableRipple,style:{"--IconButton-hoverBg":Ve.alpha((Ve.vars||Ve).palette.action.active,(Ve.vars||Ve).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),memoTheme(({theme:Ve})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(Ve.palette).filter(createSimplePaletteValueFilter()).map(([$e])=>({props:{color:$e},style:{color:(Ve.vars||Ve).palette[$e].main}})),...Object.entries(Ve.palette).filter(createSimplePaletteValueFilter()).map(([$e])=>({props:{color:$e},style:{"--IconButton-hoverBg":Ve.alpha((Ve.vars||Ve).palette[$e].main,(Ve.vars||Ve).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:Ve.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:Ve.typography.pxToRem(28)}}],[`&.${iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(Ve.vars||Ve).palette.action.disabled},[`&.${iconButtonClasses.loading}`]:{color:"transparent"}}))),IconButtonLoadingIndicator=styled("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:Ve})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(Ve.vars||Ve).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),IconButton=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiIconButton"}),{edge:ze=!1,children:qe,className:He,color:We="default",disabled:Ge=!1,disableFocusRipple:Ye=!1,size:Xe="medium",id:Je,loading:er=null,loadingIndicator:Ze,...rr}=Ue,nr=useId$1(Je),ar=Ze??jsxRuntimeExports.jsx(CircularProgress,{"aria-labelledby":nr,color:"inherit",size:16}),sr={...Ue,edge:ze,color:We,disabled:Ge,disableFocusRipple:Ye,loading:er,loadingIndicator:ar,size:Xe},lr=useUtilityClasses$8(sr);return jsxRuntimeExports.jsxs(IconButtonRoot,{id:er?nr:Je,className:clsx(lr.root,He),centerRipple:!0,focusRipple:!Ye,disabled:Ge||er,ref:Be,...rr,ownerState:sr,children:[typeof er=="boolean"&&jsxRuntimeExports.jsx("span",{className:lr.loadingWrapper,style:{display:"contents"},children:jsxRuntimeExports.jsx(IconButtonLoadingIndicator,{className:lr.loadingIndicator,ownerState:sr,children:er&&ar})}),qe]})});function getTypographyUtilityClass(Ve){return generateUtilityClass("MuiTypography",Ve)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const v6Colors={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},extendSxProp=internal_createExtendSxProp(),useUtilityClasses$7=Ve=>{const{align:$e,gutterBottom:Be,noWrap:Ue,paragraph:ze,variant:qe,classes:He}=Ve,We={root:["root",qe,Ve.align!=="inherit"&&`align${capitalize($e)}`,Be&&"gutterBottom",Ue&&"noWrap",ze&&"paragraph"]};return composeClasses(We,getTypographyUtilityClass,He)},TypographyRoot=styled("span",{name:"MuiTypography",slot:"Root",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,Be.variant&&$e[Be.variant],Be.align!=="inherit"&&$e[`align${capitalize(Be.align)}`],Be.noWrap&&$e.noWrap,Be.gutterBottom&&$e.gutterBottom,Be.paragraph&&$e.paragraph]}})(memoTheme(({theme:Ve})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(Ve.typography).filter(([$e,Be])=>$e!=="inherit"&&Be&&typeof Be=="object").map(([$e,Be])=>({props:{variant:$e},style:Be})),...Object.entries(Ve.palette).filter(createSimplePaletteValueFilter()).map(([$e])=>({props:{color:$e},style:{color:(Ve.vars||Ve).palette[$e].main}})),...Object.entries(Ve.palette?.text||{}).filter(([,$e])=>typeof $e=="string").map(([$e])=>({props:{color:`text${capitalize($e)}`},style:{color:(Ve.vars||Ve).palette.text[$e]}})),{props:({ownerState:$e})=>$e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:$e})=>$e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:$e})=>$e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:$e})=>$e.paragraph,style:{marginBottom:16}}]}))),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Typography=reactExports.forwardRef(function($e,Be){const{color:Ue,...ze}=useDefaultProps({props:$e,name:"MuiTypography"}),qe=!v6Colors[Ue],He=extendSxProp({...ze,...qe&&{color:Ue}}),{align:We="inherit",className:Ge,component:Ye,gutterBottom:Xe=!1,noWrap:Je=!1,paragraph:er=!1,variant:Ze="body1",variantMapping:rr=defaultVariantMapping,...nr}=He,ar={...He,align:We,color:Ue,className:Ge,component:Ye,gutterBottom:Xe,noWrap:Je,paragraph:er,variant:Ze,variantMapping:rr},sr=Ye||(er?"p":rr[Ze]||defaultVariantMapping[Ze])||"span",lr=useUtilityClasses$7(ar);return jsxRuntimeExports.jsx(TypographyRoot,{as:sr,ref:Be,className:clsx(lr.root,Ge),...nr,ownerState:ar,style:{...We!=="inherit"&&{"--Typography-textAlign":We},...nr.style}})});function usePreviousProps(Ve){const $e=reactExports.useRef({});return reactExports.useEffect(()=>{$e.current=Ve}),$e.current}function useBadge(Ve){const{badgeContent:$e,invisible:Be=!1,max:Ue=99,showZero:ze=!1}=Ve,qe=usePreviousProps({badgeContent:$e,max:Ue});let He=Be;Be===!1&&$e===0&&!ze&&(He=!0);const{badgeContent:We,max:Ge=Ue}=He?qe:Ve,Ye=We&&Number(We)>Ge?`${Ge}+`:We;return{badgeContent:We,invisible:He,max:Ge,displayValue:Ye}}function getBadgeUtilityClass(Ve){return generateUtilityClass("MuiBadge",Ve)}const badgeClasses=generateUtilityClasses("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]);function isHostComponent(Ve){return typeof Ve=="string"}function appendOwnerState(Ve,$e,Be){return Ve===void 0||isHostComponent(Ve)?$e:{...$e,ownerState:{...$e.ownerState,...Be}}}function resolveComponentProps(Ve,$e,Be){return typeof Ve=="function"?Ve($e,Be):Ve}function extractEventHandlers(Ve,$e=[]){if(Ve===void 0)return{};const Be={};return Object.keys(Ve).filter(Ue=>Ue.match(/^on[A-Z]/)&&typeof Ve[Ue]=="function"&&!$e.includes(Ue)).forEach(Ue=>{Be[Ue]=Ve[Ue]}),Be}function omitEventHandlers(Ve){if(Ve===void 0)return{};const $e={};return Object.keys(Ve).filter(Be=>!(Be.match(/^on[A-Z]/)&&typeof Ve[Be]=="function")).forEach(Be=>{$e[Be]=Ve[Be]}),$e}function mergeSlotProps(Ve){const{getSlotProps:$e,additionalProps:Be,externalSlotProps:Ue,externalForwardedProps:ze,className:qe}=Ve;if(!$e){const Ze=clsx(Be?.className,qe,ze?.className,Ue?.className),rr={...Be?.style,...ze?.style,...Ue?.style},nr={...Be,...ze,...Ue};return Ze.length>0&&(nr.className=Ze),Object.keys(rr).length>0&&(nr.style=rr),{props:nr,internalRef:void 0}}const He=extractEventHandlers({...ze,...Ue}),We=omitEventHandlers(Ue),Ge=omitEventHandlers(ze),Ye=$e(He),Xe=clsx(Ye?.className,Be?.className,qe,ze?.className,Ue?.className),Je={...Ye?.style,...Be?.style,...ze?.style,...Ue?.style},er={...Ye,...Be,...Ge,...We};return Xe.length>0&&(er.className=Xe),Object.keys(Je).length>0&&(er.style=Je),{props:er,internalRef:Ye.ref}}function useSlot(Ve,$e){const{className:Be,elementType:Ue,ownerState:ze,externalForwardedProps:qe,internalForwardedProps:He,shouldForwardComponentProp:We=!1,...Ge}=$e,{component:Ye,slots:Xe={[Ve]:void 0},slotProps:Je={[Ve]:void 0},...er}=qe,Ze=Xe[Ve]||Ue,rr=resolveComponentProps(Je[Ve],ze),{props:{component:nr,...ar},internalRef:sr}=mergeSlotProps({className:Be,...Ge,externalForwardedProps:Ve==="root"?er:void 0,externalSlotProps:rr}),lr=useForkRef(sr,rr?.ref,$e.ref),or=Ve==="root"?nr||Ye:nr,cr=appendOwnerState(Ze,{...Ve==="root"&&!Ye&&!Xe[Ve]&&He,...Ve!=="root"&&!Xe[Ve]&&He,...ar,...or&&!We&&{as:or},...or&&We&&{component:or},ref:lr},ze);return[Ze,cr]}const RADIUS_STANDARD=10,RADIUS_DOT=4,useUtilityClasses$6=Ve=>{const{color:$e,anchorOrigin:Be,invisible:Ue,overlap:ze,variant:qe,classes:He={}}=Ve,We={root:["root"],badge:["badge",qe,Ue&&"invisible",`anchorOrigin${capitalize(Be.vertical)}${capitalize(Be.horizontal)}`,`anchorOrigin${capitalize(Be.vertical)}${capitalize(Be.horizontal)}${capitalize(ze)}`,`overlap${capitalize(ze)}`,$e!=="default"&&`color${capitalize($e)}`]};return composeClasses(We,getBadgeUtilityClass,He)},BadgeRoot=styled("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),BadgeBadge=styled("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.badge,$e[Be.variant],$e[`anchorOrigin${capitalize(Be.anchorOrigin.vertical)}${capitalize(Be.anchorOrigin.horizontal)}${capitalize(Be.overlap)}`],Be.color!=="default"&&$e[`color${capitalize(Be.color)}`],Be.invisible&&$e.invisible]}})(memoTheme(({theme:Ve})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:Ve.typography.fontFamily,fontWeight:Ve.typography.fontWeightMedium,fontSize:Ve.typography.pxToRem(12),minWidth:RADIUS_STANDARD*2,lineHeight:1,padding:"0 6px",height:RADIUS_STANDARD*2,borderRadius:RADIUS_STANDARD,zIndex:1,transition:Ve.transitions.create("transform",{easing:Ve.transitions.easing.easeInOut,duration:Ve.transitions.duration.enteringScreen}),variants:[...Object.entries(Ve.palette).filter(createSimplePaletteValueFilter(["contrastText"])).map(([$e])=>({props:{color:$e},style:{backgroundColor:(Ve.vars||Ve).palette[$e].main,color:(Ve.vars||Ve).palette[$e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:RADIUS_DOT,height:RADIUS_DOT*2,minWidth:RADIUS_DOT*2,padding:0}},{props:({ownerState:$e})=>$e.anchorOrigin.vertical==="top"&&$e.anchorOrigin.horizontal==="right"&&$e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${badgeClasses.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:$e})=>$e.anchorOrigin.vertical==="bottom"&&$e.anchorOrigin.horizontal==="right"&&$e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${badgeClasses.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:$e})=>$e.anchorOrigin.vertical==="top"&&$e.anchorOrigin.horizontal==="left"&&$e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${badgeClasses.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:$e})=>$e.anchorOrigin.vertical==="bottom"&&$e.anchorOrigin.horizontal==="left"&&$e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${badgeClasses.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:$e})=>$e.anchorOrigin.vertical==="top"&&$e.anchorOrigin.horizontal==="right"&&$e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${badgeClasses.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:$e})=>$e.anchorOrigin.vertical==="bottom"&&$e.anchorOrigin.horizontal==="right"&&$e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${badgeClasses.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:$e})=>$e.anchorOrigin.vertical==="top"&&$e.anchorOrigin.horizontal==="left"&&$e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${badgeClasses.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:$e})=>$e.anchorOrigin.vertical==="bottom"&&$e.anchorOrigin.horizontal==="left"&&$e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${badgeClasses.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:Ve.transitions.create("transform",{easing:Ve.transitions.easing.easeInOut,duration:Ve.transitions.duration.leavingScreen})}}]})));function getAnchorOrigin(Ve){return{vertical:Ve?.vertical??"top",horizontal:Ve?.horizontal??"right"}}const Badge=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiBadge"}),{anchorOrigin:ze,className:qe,classes:He,component:We,components:Ge={},componentsProps:Ye={},children:Xe,overlap:Je="rectangular",color:er="default",invisible:Ze=!1,max:rr=99,badgeContent:nr,slots:ar,slotProps:sr,showZero:lr=!1,variant:or="standard",...cr}=Ue,{badgeContent:hr,invisible:yr,max:mr,displayValue:vr}=useBadge({max:rr,invisible:Ze,badgeContent:nr,showZero:lr}),_r=usePreviousProps({anchorOrigin:getAnchorOrigin(ze),color:er,overlap:Je,variant:or,badgeContent:nr}),Cr=yr||hr==null&&or!=="dot",{color:br=er,overlap:fr=Je,anchorOrigin:Sr,variant:Dr=or}=Cr?_r:Ue,Or=getAnchorOrigin(Sr),Er=Dr!=="dot"?vr:void 0,Nr={...Ue,badgeContent:hr,invisible:Cr,max:mr,displayValue:Er,showZero:lr,anchorOrigin:Or,color:br,overlap:fr,variant:Dr},wr=useUtilityClasses$6(Nr),Ar={slots:{root:ar?.root??Ge.Root,badge:ar?.badge??Ge.Badge},slotProps:{root:sr?.root??Ye.root,badge:sr?.badge??Ye.badge}},[Lr,Pr]=useSlot("root",{elementType:BadgeRoot,externalForwardedProps:{...Ar,...cr},ownerState:Nr,className:clsx(wr.root,qe),ref:Be,additionalProps:{as:We}}),[Tr,Vr]=useSlot("badge",{elementType:BadgeBadge,externalForwardedProps:Ar,ownerState:Nr,className:wr.badge});return jsxRuntimeExports.jsxs(Lr,{...Pr,children:[Xe,jsxRuntimeExports.jsx(Tr,{...Vr,children:Er})]})}),ListContext=reactExports.createContext({}),dividerClasses=generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),listItemIconClasses=generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]),listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function getMenuItemUtilityClass(Ve){return generateUtilityClass("MuiMenuItem",Ve)}const menuItemClasses=generateUtilityClasses("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),overridesResolver=(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,Be.dense&&$e.dense,Be.divider&&$e.divider,!Be.disableGutters&&$e.gutters]},useUtilityClasses$5=Ve=>{const{disabled:$e,dense:Be,divider:Ue,disableGutters:ze,selected:qe,classes:He}=Ve,Ge=composeClasses({root:["root",Be&&"dense",$e&&"disabled",!ze&&"gutters",Ue&&"divider",qe&&"selected"]},getMenuItemUtilityClass,He);return{...He,...Ge}},MenuItemRoot=styled(ButtonBase,{shouldForwardProp:Ve=>rootShouldForwardProp(Ve)||Ve==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver})(memoTheme(({theme:Ve})=>({...Ve.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(Ve.vars||Ve).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${menuItemClasses.selected}`]:{backgroundColor:Ve.alpha((Ve.vars||Ve).palette.primary.main,(Ve.vars||Ve).palette.action.selectedOpacity),[`&.${menuItemClasses.focusVisible}`]:{backgroundColor:Ve.alpha((Ve.vars||Ve).palette.primary.main,`${(Ve.vars||Ve).palette.action.selectedOpacity} + ${(Ve.vars||Ve).palette.action.focusOpacity}`)}},[`&.${menuItemClasses.selected}:hover`]:{backgroundColor:Ve.alpha((Ve.vars||Ve).palette.primary.main,`${(Ve.vars||Ve).palette.action.selectedOpacity} + ${(Ve.vars||Ve).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:Ve.alpha((Ve.vars||Ve).palette.primary.main,(Ve.vars||Ve).palette.action.selectedOpacity)}},[`&.${menuItemClasses.focusVisible}`]:{backgroundColor:(Ve.vars||Ve).palette.action.focus},[`&.${menuItemClasses.disabled}`]:{opacity:(Ve.vars||Ve).palette.action.disabledOpacity},[`& + .${dividerClasses.root}`]:{marginTop:Ve.spacing(1),marginBottom:Ve.spacing(1)},[`& + .${dividerClasses.inset}`]:{marginLeft:52},[`& .${listItemTextClasses.root}`]:{marginTop:0,marginBottom:0},[`& .${listItemTextClasses.inset}`]:{paddingLeft:36},[`& .${listItemIconClasses.root}`]:{minWidth:36},variants:[{props:({ownerState:$e})=>!$e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:$e})=>$e.divider,style:{borderBottom:`1px solid ${(Ve.vars||Ve).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:$e})=>!$e.dense,style:{[Ve.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:$e})=>$e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...Ve.typography.body2,[`& .${listItemIconClasses.root} svg`]:{fontSize:"1.25rem"}}}]}))),MenuItem=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiMenuItem"}),{autoFocus:ze=!1,component:qe="li",dense:He=!1,divider:We=!1,disableGutters:Ge=!1,focusVisibleClassName:Ye,role:Xe="menuitem",tabIndex:Je,className:er,...Ze}=Ue,rr=reactExports.useContext(ListContext),nr=reactExports.useMemo(()=>({dense:He||rr.dense||!1,disableGutters:Ge}),[rr.dense,He,Ge]),ar=reactExports.useRef(null);useEnhancedEffect(()=>{ze&&ar.current&&ar.current.focus()},[ze]);const sr={...Ue,dense:nr.dense,divider:We,disableGutters:Ge},lr=useUtilityClasses$5(Ue),or=useForkRef(ar,Be);let cr;return Ue.disabled||(cr=Je!==void 0?Je:-1),jsxRuntimeExports.jsx(ListContext.Provider,{value:nr,children:jsxRuntimeExports.jsx(MenuItemRoot,{ref:or,role:Xe,tabIndex:cr,component:qe,focusVisibleClassName:clsx(lr.focusVisible,Ye),className:clsx(lr.root,er),...Ze,ownerState:sr,classes:lr})})});function useSlotProps(Ve){const{elementType:$e,externalSlotProps:Be,ownerState:Ue,skipResolvingSlotProps:ze=!1,...qe}=Ve,He=ze?{}:resolveComponentProps(Be,Ue),{props:We,internalRef:Ge}=mergeSlotProps({...qe,externalSlotProps:He}),Ye=useForkRef(Ge,He?.ref,Ve.additionalProps?.ref);return appendOwnerState($e,{...We,ref:Ye},Ue)}function getListUtilityClass(Ve){return generateUtilityClass("MuiList",Ve)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const useUtilityClasses$4=Ve=>{const{classes:$e,disablePadding:Be,dense:Ue,subheader:ze}=Ve;return composeClasses({root:["root",!Be&&"padding",Ue&&"dense",ze&&"subheader"]},getListUtilityClass,$e)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,!Be.disablePadding&&$e.padding,Be.dense&&$e.dense,Be.subheader&&$e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:Ve})=>!Ve.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:Ve})=>Ve.subheader,style:{paddingTop:0}}]}),List=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiList"}),{children:ze,className:qe,component:He="ul",dense:We=!1,disablePadding:Ge=!1,subheader:Ye,...Xe}=Ue,Je=reactExports.useMemo(()=>({dense:We}),[We]),er={...Ue,component:He,dense:We,disablePadding:Ge},Ze=useUtilityClasses$4(er);return jsxRuntimeExports.jsx(ListContext.Provider,{value:Je,children:jsxRuntimeExports.jsxs(ListRoot,{as:He,className:clsx(Ze.root,qe),ref:Be,ownerState:er,...Xe,children:[Ye,ze]})})});function getScrollbarSize(Ve=window){const $e=Ve.document.documentElement.clientWidth;return Ve.innerWidth-$e}function nextItem(Ve,$e,Be){return Ve===$e?Ve.firstChild:$e&&$e.nextElementSibling?$e.nextElementSibling:Be?null:Ve.firstChild}function previousItem(Ve,$e,Be){return Ve===$e?Be?Ve.firstChild:Ve.lastChild:$e&&$e.previousElementSibling?$e.previousElementSibling:Be?null:Ve.lastChild}function textCriteriaMatches(Ve,$e){if($e===void 0)return!0;let Be=Ve.innerText;return Be===void 0&&(Be=Ve.textContent),Be=Be.trim().toLowerCase(),Be.length===0?!1:$e.repeating?Be[0]===$e.keys[0]:Be.startsWith($e.keys.join(""))}function moveFocus(Ve,$e,Be,Ue,ze,qe){let He=!1,We=ze(Ve,$e,$e?Be:!1);for(;We;){if(We===Ve.firstChild){if(He)return!1;He=!0}const Ge=Ue?!1:We.disabled||We.getAttribute("aria-disabled")==="true";if(!We.hasAttribute("tabindex")||!textCriteriaMatches(We,qe)||Ge)We=ze(Ve,We,Be);else return We.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function($e,Be){const{actions:Ue,autoFocus:ze=!1,autoFocusItem:qe=!1,children:He,className:We,disabledItemsFocusable:Ge=!1,disableListWrap:Ye=!1,onKeyDown:Xe,variant:Je="selectedMenu",...er}=$e,Ze=reactExports.useRef(null),rr=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect(()=>{ze&&Ze.current.focus()},[ze]),reactExports.useImperativeHandle(Ue,()=>({adjustStyleForScrollbar:(or,{direction:cr})=>{const hr=!Ze.current.style.width;if(or.clientHeight<Ze.current.clientHeight&&hr){const yr=`${getScrollbarSize(ownerWindow(or))}px`;Ze.current.style[cr==="rtl"?"paddingLeft":"paddingRight"]=yr,Ze.current.style.width=`calc(100% + ${yr})`}return Ze.current}}),[]);const nr=or=>{const cr=Ze.current,hr=or.key;if(or.ctrlKey||or.metaKey||or.altKey){Xe&&Xe(or);return}const mr=ownerDocument(cr).activeElement;if(hr==="ArrowDown")or.preventDefault(),moveFocus(cr,mr,Ye,Ge,nextItem);else if(hr==="ArrowUp")or.preventDefault(),moveFocus(cr,mr,Ye,Ge,previousItem);else if(hr==="Home")or.preventDefault(),moveFocus(cr,null,Ye,Ge,nextItem);else if(hr==="End")or.preventDefault(),moveFocus(cr,null,Ye,Ge,previousItem);else if(hr.length===1){const vr=rr.current,_r=hr.toLowerCase(),Cr=performance.now();vr.keys.length>0&&(Cr-vr.lastTime>500?(vr.keys=[],vr.repeating=!0,vr.previousKeyMatched=!0):vr.repeating&&_r!==vr.keys[0]&&(vr.repeating=!1)),vr.lastTime=Cr,vr.keys.push(_r);const br=mr&&!vr.repeating&&textCriteriaMatches(mr,vr);vr.previousKeyMatched&&(br||moveFocus(cr,mr,!1,Ge,nextItem,vr))?or.preventDefault():vr.previousKeyMatched=!1}Xe&&Xe(or)},ar=useForkRef(Ze,Be);let sr=-1;reactExports.Children.forEach(He,(or,cr)=>{if(!reactExports.isValidElement(or)){sr===cr&&(sr+=1,sr>=He.length&&(sr=-1));return}or.props.disabled||(Je==="selectedMenu"&&or.props.selected||sr===-1)&&(sr=cr),sr===cr&&(or.props.disabled||or.props.muiSkipListHighlight||or.type.muiSkipListHighlight)&&(sr+=1,sr>=He.length&&(sr=-1))});const lr=reactExports.Children.map(He,(or,cr)=>{if(cr===sr){const hr={};return qe&&(hr.autoFocus=!0),or.props.tabIndex===void 0&&Je==="selectedMenu"&&(hr.tabIndex=0),reactExports.cloneElement(or,hr)}return or});return jsxRuntimeExports.jsx(List,{role:"menu",ref:ar,className:We,onKeyDown:nr,tabIndex:ze?0:-1,...er,children:lr})});function getReactElementRef(Ve){return parseInt(reactExports.version,10)>=19?Ve?.props?.ref||null:Ve?.ref||null}const reflow=Ve=>Ve.scrollTop;function getTransitionProps(Ve,$e){const{timeout:Be,easing:Ue,style:ze={}}=Ve;return{duration:ze.transitionDuration??(typeof Be=="number"?Be:Be[$e.mode]||0),easing:ze.transitionTimingFunction??(typeof Ue=="object"?Ue[$e.mode]:Ue),delay:ze.transitionDelay}}function getScale(Ve){return`scale(${Ve}, ${Ve**2})`}const styles$1={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function($e,Be){const{addEndListener:Ue,appear:ze=!0,children:qe,easing:He,in:We,onEnter:Ge,onEntered:Ye,onEntering:Xe,onExit:Je,onExited:er,onExiting:Ze,style:rr,timeout:nr="auto",TransitionComponent:ar=Transition,...sr}=$e,lr=useTimeout(),or=reactExports.useRef(),cr=useTheme(),hr=reactExports.useRef(null),yr=useForkRef(hr,getReactElementRef(qe),Be),mr=Or=>Er=>{if(Or){const Nr=hr.current;Er===void 0?Or(Nr):Or(Nr,Er)}},vr=mr(Xe),_r=mr((Or,Er)=>{reflow(Or);const{duration:Nr,delay:wr,easing:Ar}=getTransitionProps({style:rr,timeout:nr,easing:He},{mode:"enter"});let Lr;nr==="auto"?(Lr=cr.transitions.getAutoHeightDuration(Or.clientHeight),or.current=Lr):Lr=Nr,Or.style.transition=[cr.transitions.create("opacity",{duration:Lr,delay:wr}),cr.transitions.create("transform",{duration:isWebKit154?Lr:Lr*.666,delay:wr,easing:Ar})].join(","),Ge&&Ge(Or,Er)}),Cr=mr(Ye),br=mr(Ze),fr=mr(Or=>{const{duration:Er,delay:Nr,easing:wr}=getTransitionProps({style:rr,timeout:nr,easing:He},{mode:"exit"});let Ar;nr==="auto"?(Ar=cr.transitions.getAutoHeightDuration(Or.clientHeight),or.current=Ar):Ar=Er,Or.style.transition=[cr.transitions.create("opacity",{duration:Ar,delay:Nr}),cr.transitions.create("transform",{duration:isWebKit154?Ar:Ar*.666,delay:isWebKit154?Nr:Nr||Ar*.333,easing:wr})].join(","),Or.style.opacity=0,Or.style.transform=getScale(.75),Je&&Je(Or)}),Sr=mr(er),Dr=Or=>{nr==="auto"&&lr.start(or.current||0,Or),Ue&&Ue(hr.current,Or)};return jsxRuntimeExports.jsx(ar,{appear:ze,in:We,nodeRef:hr,onEnter:_r,onEntered:Cr,onEntering:vr,onExit:fr,onExited:Sr,onExiting:br,addEndListener:Dr,timeout:nr==="auto"?null:nr,...sr,children:(Or,{ownerState:Er,...Nr})=>reactExports.cloneElement(qe,{style:{opacity:0,transform:getScale(.75),visibility:Or==="exited"&&!We?"hidden":void 0,...styles$1[Or],...rr,...qe.props.style},ref:yr,...Nr})})});Grow&&(Grow.muiSupportAuto=!0);function isOverflowing(Ve){const $e=ownerDocument(Ve);return $e.body===Ve?ownerWindow(Ve).innerWidth>$e.documentElement.clientWidth:Ve.scrollHeight>Ve.clientHeight}function ariaHidden(Ve,$e){$e?Ve.setAttribute("aria-hidden","true"):Ve.removeAttribute("aria-hidden")}function getPaddingRight(Ve){return parseInt(ownerWindow(Ve).getComputedStyle(Ve).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(Ve){const Be=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(Ve.tagName),Ue=Ve.tagName==="INPUT"&&Ve.getAttribute("type")==="hidden";return Be||Ue}function ariaHiddenSiblings(Ve,$e,Be,Ue,ze){const qe=[$e,Be,...Ue];[].forEach.call(Ve.children,He=>{const We=!qe.includes(He),Ge=!isAriaHiddenForbiddenOnElement(He);We&&Ge&&ariaHidden(He,ze)})}function findIndexOf(Ve,$e){let Be=-1;return Ve.some((Ue,ze)=>$e(Ue)?(Be=ze,!0):!1),Be}function handleContainer(Ve,$e){const Be=[],Ue=Ve.container;if(!$e.disableScrollLock){if(isOverflowing(Ue)){const He=getScrollbarSize(ownerWindow(Ue));Be.push({value:Ue.style.paddingRight,property:"padding-right",el:Ue}),Ue.style.paddingRight=`${getPaddingRight(Ue)+He}px`;const We=ownerDocument(Ue).querySelectorAll(".mui-fixed");[].forEach.call(We,Ge=>{Be.push({value:Ge.style.paddingRight,property:"padding-right",el:Ge}),Ge.style.paddingRight=`${getPaddingRight(Ge)+He}px`})}let qe;if(Ue.parentNode instanceof DocumentFragment)qe=ownerDocument(Ue).body;else{const He=Ue.parentElement,We=ownerWindow(Ue);qe=He?.nodeName==="HTML"&&We.getComputedStyle(He).overflowY==="scroll"?He:Ue}Be.push({value:qe.style.overflow,property:"overflow",el:qe},{value:qe.style.overflowX,property:"overflow-x",el:qe},{value:qe.style.overflowY,property:"overflow-y",el:qe}),qe.style.overflow="hidden"}return()=>{Be.forEach(({value:qe,el:He,property:We})=>{qe?He.style.setProperty(We,qe):He.style.removeProperty(We)})}}function getHiddenSiblings(Ve){const $e=[];return[].forEach.call(Ve.children,Be=>{Be.getAttribute("aria-hidden")==="true"&&$e.push(Be)}),$e}class ModalManager{constructor(){this.modals=[],this.containers=[]}add($e,Be){let Ue=this.modals.indexOf($e);if(Ue!==-1)return Ue;Ue=this.modals.length,this.modals.push($e),$e.modalRef&&ariaHidden($e.modalRef,!1);const ze=getHiddenSiblings(Be);ariaHiddenSiblings(Be,$e.mount,$e.modalRef,ze,!0);const qe=findIndexOf(this.containers,He=>He.container===Be);return qe!==-1?(this.containers[qe].modals.push($e),Ue):(this.containers.push({modals:[$e],container:Be,restore:null,hiddenSiblings:ze}),Ue)}mount($e,Be){const Ue=findIndexOf(this.containers,qe=>qe.modals.includes($e)),ze=this.containers[Ue];ze.restore||(ze.restore=handleContainer(ze,Be))}remove($e,Be=!0){const Ue=this.modals.indexOf($e);if(Ue===-1)return Ue;const ze=findIndexOf(this.containers,He=>He.modals.includes($e)),qe=this.containers[ze];if(qe.modals.splice(qe.modals.indexOf($e),1),this.modals.splice(Ue,1),qe.modals.length===0)qe.restore&&qe.restore(),$e.modalRef&&ariaHidden($e.modalRef,Be),ariaHiddenSiblings(qe.container,$e.mount,$e.modalRef,qe.hiddenSiblings,!1),this.containers.splice(ze,1);else{const He=qe.modals[qe.modals.length-1];He.modalRef&&ariaHidden(He.modalRef,!1)}return Ue}isTopModal($e){return this.modals.length>0&&this.modals[this.modals.length-1]===$e}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(Ve){const $e=parseInt(Ve.getAttribute("tabindex")||"",10);return Number.isNaN($e)?Ve.contentEditable==="true"||(Ve.nodeName==="AUDIO"||Ve.nodeName==="VIDEO"||Ve.nodeName==="DETAILS")&&Ve.getAttribute("tabindex")===null?0:Ve.tabIndex:$e}function isNonTabbableRadio(Ve){if(Ve.tagName!=="INPUT"||Ve.type!=="radio"||!Ve.name)return!1;const $e=Ue=>Ve.ownerDocument.querySelector(`input[type="radio"]${Ue}`);let Be=$e(`[name="${Ve.name}"]:checked`);return Be||(Be=$e(`[name="${Ve.name}"]`)),Be!==Ve}function isNodeMatchingSelectorFocusable(Ve){return!(Ve.disabled||Ve.tagName==="INPUT"&&Ve.type==="hidden"||isNonTabbableRadio(Ve))}function defaultGetTabbable(Ve){const $e=[],Be=[];return Array.from(Ve.querySelectorAll(candidatesSelector)).forEach((Ue,ze)=>{const qe=getTabIndex(Ue);qe===-1||!isNodeMatchingSelectorFocusable(Ue)||(qe===0?$e.push(Ue):Be.push({documentOrder:ze,tabIndex:qe,node:Ue}))}),Be.sort((Ue,ze)=>Ue.tabIndex===ze.tabIndex?Ue.documentOrder-ze.documentOrder:Ue.tabIndex-ze.tabIndex).map(Ue=>Ue.node).concat($e)}function defaultIsEnabled(){return!0}function FocusTrap(Ve){const{children:$e,disableAutoFocus:Be=!1,disableEnforceFocus:Ue=!1,disableRestoreFocus:ze=!1,getTabbable:qe=defaultGetTabbable,isEnabled:He=defaultIsEnabled,open:We}=Ve,Ge=reactExports.useRef(!1),Ye=reactExports.useRef(null),Xe=reactExports.useRef(null),Je=reactExports.useRef(null),er=reactExports.useRef(null),Ze=reactExports.useRef(!1),rr=reactExports.useRef(null),nr=useForkRef(getReactElementRef($e),rr),ar=reactExports.useRef(null);reactExports.useEffect(()=>{!We||!rr.current||(Ze.current=!Be)},[Be,We]),reactExports.useEffect(()=>{if(!We||!rr.current)return;const or=ownerDocument(rr.current);return rr.current.contains(or.activeElement)||(rr.current.hasAttribute("tabIndex")||rr.current.setAttribute("tabIndex","-1"),Ze.current&&rr.current.focus()),()=>{ze||(Je.current&&Je.current.focus&&(Ge.current=!0,Je.current.focus()),Je.current=null)}},[We]),reactExports.useEffect(()=>{if(!We||!rr.current)return;const or=ownerDocument(rr.current),cr=mr=>{ar.current=mr,!(Ue||!He()||mr.key!=="Tab")&&or.activeElement===rr.current&&mr.shiftKey&&(Ge.current=!0,Xe.current&&Xe.current.focus())},hr=()=>{const mr=rr.current;if(mr===null)return;if(!or.hasFocus()||!He()||Ge.current){Ge.current=!1;return}if(mr.contains(or.activeElement)||Ue&&or.activeElement!==Ye.current&&or.activeElement!==Xe.current)return;if(or.activeElement!==er.current)er.current=null;else if(er.current!==null)return;if(!Ze.current)return;let vr=[];if((or.activeElement===Ye.current||or.activeElement===Xe.current)&&(vr=qe(rr.current)),vr.length>0){const _r=!!(ar.current?.shiftKey&&ar.current?.key==="Tab"),Cr=vr[0],br=vr[vr.length-1];typeof Cr!="string"&&typeof br!="string"&&(_r?br.focus():Cr.focus())}else mr.focus()};or.addEventListener("focusin",hr),or.addEventListener("keydown",cr,!0);const yr=setInterval(()=>{or.activeElement&&or.activeElement.tagName==="BODY"&&hr()},50);return()=>{clearInterval(yr),or.removeEventListener("focusin",hr),or.removeEventListener("keydown",cr,!0)}},[Be,Ue,ze,He,We,qe]);const sr=or=>{Je.current===null&&(Je.current=or.relatedTarget),Ze.current=!0,er.current=or.target;const cr=$e.props.onFocus;cr&&cr(or)},lr=or=>{Je.current===null&&(Je.current=or.relatedTarget),Ze.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:We?0:-1,onFocus:lr,ref:Ye,"data-testid":"sentinelStart"}),reactExports.cloneElement($e,{ref:nr,onFocus:sr}),jsxRuntimeExports.jsx("div",{tabIndex:We?0:-1,onFocus:lr,ref:Xe,"data-testid":"sentinelEnd"})]})}function getContainer$1(Ve){return typeof Ve=="function"?Ve():Ve}const Portal=reactExports.forwardRef(function($e,Be){const{children:Ue,container:ze,disablePortal:qe=!1}=$e,[He,We]=reactExports.useState(null),Ge=useForkRef(reactExports.isValidElement(Ue)?getReactElementRef(Ue):null,Be);if(useEnhancedEffect(()=>{qe||We(getContainer$1(ze)||document.body)},[ze,qe]),useEnhancedEffect(()=>{if(He&&!qe)return setRef(Be,He),()=>{setRef(Be,null)}},[Be,He,qe]),qe){if(reactExports.isValidElement(Ue)){const Ye={ref:Ge};return reactExports.cloneElement(Ue,Ye)}return Ue}return He&&reactDomExports.createPortal(Ue,He)}),styles={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function($e,Be){const Ue=useTheme(),ze={enter:Ue.transitions.duration.enteringScreen,exit:Ue.transitions.duration.leavingScreen},{addEndListener:qe,appear:He=!0,children:We,easing:Ge,in:Ye,onEnter:Xe,onEntered:Je,onEntering:er,onExit:Ze,onExited:rr,onExiting:nr,style:ar,timeout:sr=ze,TransitionComponent:lr=Transition,...or}=$e,cr=reactExports.useRef(null),hr=useForkRef(cr,getReactElementRef(We),Be),yr=Dr=>Or=>{if(Dr){const Er=cr.current;Or===void 0?Dr(Er):Dr(Er,Or)}},mr=yr(er),vr=yr((Dr,Or)=>{reflow(Dr);const Er=getTransitionProps({style:ar,timeout:sr,easing:Ge},{mode:"enter"});Dr.style.webkitTransition=Ue.transitions.create("opacity",Er),Dr.style.transition=Ue.transitions.create("opacity",Er),Xe&&Xe(Dr,Or)}),_r=yr(Je),Cr=yr(nr),br=yr(Dr=>{const Or=getTransitionProps({style:ar,timeout:sr,easing:Ge},{mode:"exit"});Dr.style.webkitTransition=Ue.transitions.create("opacity",Or),Dr.style.transition=Ue.transitions.create("opacity",Or),Ze&&Ze(Dr)}),fr=yr(rr),Sr=Dr=>{qe&&qe(cr.current,Dr)};return jsxRuntimeExports.jsx(lr,{appear:He,in:Ye,nodeRef:cr,onEnter:vr,onEntered:_r,onEntering:mr,onExit:br,onExited:fr,onExiting:Cr,addEndListener:Sr,timeout:sr,...or,children:(Dr,{ownerState:Or,...Er})=>reactExports.cloneElement(We,{style:{opacity:0,visibility:Dr==="exited"&&!Ye?"hidden":void 0,...styles[Dr],...ar,...We.props.style},ref:hr,...Er})})});function getBackdropUtilityClass(Ve){return generateUtilityClass("MuiBackdrop",Ve)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const useUtilityClasses$3=Ve=>{const{classes:$e,invisible:Be}=Ve;return composeClasses({root:["root",Be&&"invisible"]},getBackdropUtilityClass,$e)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,Be.invisible&&$e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Backdrop=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiBackdrop"}),{children:ze,className:qe,component:He="div",invisible:We=!1,open:Ge,components:Ye={},componentsProps:Xe={},slotProps:Je={},slots:er={},TransitionComponent:Ze,transitionDuration:rr,...nr}=Ue,ar={...Ue,component:He,invisible:We},sr=useUtilityClasses$3(ar),lr={transition:Ze,root:Ye.Root,...er},or={...Xe,...Je},cr={component:He,slots:lr,slotProps:or},[hr,yr]=useSlot("root",{elementType:BackdropRoot,externalForwardedProps:cr,className:clsx(sr.root,qe),ownerState:ar}),[mr,vr]=useSlot("transition",{elementType:Fade,externalForwardedProps:cr,ownerState:ar});return jsxRuntimeExports.jsx(mr,{in:Ge,timeout:rr,...nr,...vr,children:jsxRuntimeExports.jsx(hr,{"aria-hidden":!0,...yr,classes:sr,ref:Be,children:ze})})});function getContainer(Ve){return typeof Ve=="function"?Ve():Ve}function getHasTransition(Ve){return Ve?Ve.props.hasOwnProperty("in"):!1}const noop$8=()=>{},manager=new ModalManager;function useModal(Ve){const{container:$e,disableEscapeKeyDown:Be=!1,disableScrollLock:Ue=!1,closeAfterTransition:ze=!1,onTransitionEnter:qe,onTransitionExited:He,children:We,onClose:Ge,open:Ye,rootRef:Xe}=Ve,Je=reactExports.useRef({}),er=reactExports.useRef(null),Ze=reactExports.useRef(null),rr=useForkRef(Ze,Xe),[nr,ar]=reactExports.useState(!Ye),sr=getHasTransition(We);let lr=!0;(Ve["aria-hidden"]==="false"||Ve["aria-hidden"]===!1)&&(lr=!1);const or=()=>ownerDocument(er.current),cr=()=>(Je.current.modalRef=Ze.current,Je.current.mount=er.current,Je.current),hr=()=>{manager.mount(cr(),{disableScrollLock:Ue}),Ze.current&&(Ze.current.scrollTop=0)},yr=useEventCallback(()=>{const Or=getContainer($e)||or().body;manager.add(cr(),Or),Ze.current&&hr()}),mr=()=>manager.isTopModal(cr()),vr=useEventCallback(Or=>{er.current=Or,Or&&(Ye&&mr()?hr():Ze.current&&ariaHidden(Ze.current,lr))}),_r=reactExports.useCallback(()=>{manager.remove(cr(),lr)},[lr]);reactExports.useEffect(()=>()=>{_r()},[_r]),reactExports.useEffect(()=>{Ye?yr():(!sr||!ze)&&_r()},[Ye,_r,sr,ze,yr]);const Cr=Or=>Er=>{Or.onKeyDown?.(Er),!(Er.key!=="Escape"||Er.which===229||!mr())&&(Be||(Er.stopPropagation(),Ge&&Ge(Er,"escapeKeyDown")))},br=Or=>Er=>{Or.onClick?.(Er),Er.target===Er.currentTarget&&Ge&&Ge(Er,"backdropClick")};return{getRootProps:(Or={})=>{const Er=extractEventHandlers(Ve);delete Er.onTransitionEnter,delete Er.onTransitionExited;const Nr={...Er,...Or};return{role:"presentation",...Nr,onKeyDown:Cr(Nr),ref:rr}},getBackdropProps:(Or={})=>{const Er=Or;return{"aria-hidden":!0,...Er,onClick:br(Er),open:Ye}},getTransitionProps:()=>{const Or=()=>{ar(!1),qe&&qe()},Er=()=>{ar(!0),He&&He(),ze&&_r()};return{onEnter:createChainedFunction(Or,We?.props.onEnter??noop$8),onExited:createChainedFunction(Er,We?.props.onExited??noop$8)}},rootRef:rr,portalRef:vr,isTopModal:mr,exited:nr,hasTransition:sr}}function getModalUtilityClass(Ve){return generateUtilityClass("MuiModal",Ve)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const useUtilityClasses$2=Ve=>{const{open:$e,exited:Be,classes:Ue}=Ve;return composeClasses({root:["root",!$e&&Be&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,Ue)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(Ve,$e)=>{const{ownerState:Be}=Ve;return[$e.root,!Be.open&&Be.exited&&$e.hidden]}})(memoTheme(({theme:Ve})=>({position:"fixed",zIndex:(Ve.vars||Ve).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:$e})=>!$e.open&&$e.exited,style:{visibility:"hidden"}}]}))),ModalBackdrop=styled(Backdrop,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Modal$1=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({name:"MuiModal",props:$e}),{BackdropComponent:ze=ModalBackdrop,BackdropProps:qe,classes:He,className:We,closeAfterTransition:Ge=!1,children:Ye,container:Xe,component:Je,components:er={},componentsProps:Ze={},disableAutoFocus:rr=!1,disableEnforceFocus:nr=!1,disableEscapeKeyDown:ar=!1,disablePortal:sr=!1,disableRestoreFocus:lr=!1,disableScrollLock:or=!1,hideBackdrop:cr=!1,keepMounted:hr=!1,onClose:yr,onTransitionEnter:mr,onTransitionExited:vr,open:_r,slotProps:Cr={},slots:br={},theme:fr,...Sr}=Ue,Dr={...Ue,closeAfterTransition:Ge,disableAutoFocus:rr,disableEnforceFocus:nr,disableEscapeKeyDown:ar,disablePortal:sr,disableRestoreFocus:lr,disableScrollLock:or,hideBackdrop:cr,keepMounted:hr},{getRootProps:Or,getBackdropProps:Er,getTransitionProps:Nr,portalRef:wr,isTopModal:Ar,exited:Lr,hasTransition:Pr}=useModal({...Dr,rootRef:Be}),Tr={...Dr,exited:Lr},Vr=useUtilityClasses$2(Tr),Ur={};if(Ye.props.tabIndex===void 0&&(Ur.tabIndex="-1"),Pr){const{onEnter:bn,onExited:jn}=Nr();Ur.onEnter=bn,Ur.onExited=jn}const Yr={slots:{root:er.Root,backdrop:er.Backdrop,...br},slotProps:{...Ze,...Cr}},[Qr,mn]=useSlot("root",{ref:Be,elementType:ModalRoot,externalForwardedProps:{...Yr,...Sr,component:Je},getSlotProps:Or,ownerState:Tr,className:clsx(We,Vr?.root,!Tr.open&&Tr.exited&&Vr?.hidden)}),[An,Zr]=useSlot("backdrop",{ref:qe?.ref,elementType:ze,externalForwardedProps:Yr,shouldForwardComponentProp:!0,additionalProps:qe,getSlotProps:bn=>Er({...bn,onClick:jn=>{bn?.onClick&&bn.onClick(jn)}}),className:clsx(qe?.className,Vr?.backdrop),ownerState:Tr});return!hr&&!_r&&(!Pr||Lr)?null:jsxRuntimeExports.jsx(Portal,{ref:wr,container:Xe,disablePortal:sr,children:jsxRuntimeExports.jsxs(Qr,{...mn,children:[!cr&&ze?jsxRuntimeExports.jsx(An,{...Zr}):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:nr,disableAutoFocus:rr,disableRestoreFocus:lr,isEnabled:Ar,open:_r,children:reactExports.cloneElement(Ye,Ur)})]})})});function getPopoverUtilityClass(Ve){return generateUtilityClass("MuiPopover",Ve)}generateUtilityClasses("MuiPopover",["root","paper"]);function getOffsetTop(Ve,$e){let Be=0;return typeof $e=="number"?Be=$e:$e==="center"?Be=Ve.height/2:$e==="bottom"&&(Be=Ve.height),Be}function getOffsetLeft(Ve,$e){let Be=0;return typeof $e=="number"?Be=$e:$e==="center"?Be=Ve.width/2:$e==="right"&&(Be=Ve.width),Be}function getTransformOriginValue(Ve){return[Ve.horizontal,Ve.vertical].map($e=>typeof $e=="number"?`${$e}px`:$e).join(" ")}function resolveAnchorEl(Ve){return typeof Ve=="function"?Ve():Ve}const useUtilityClasses$1=Ve=>{const{classes:$e}=Ve;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,$e)},PopoverRoot=styled(Modal$1,{name:"MuiPopover",slot:"Root"})({}),PopoverPaper=styled(Paper,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiPopover"}),{action:ze,anchorEl:qe,anchorOrigin:He={vertical:"top",horizontal:"left"},anchorPosition:We,anchorReference:Ge="anchorEl",children:Ye,className:Xe,container:Je,elevation:er=8,marginThreshold:Ze=16,open:rr,PaperProps:nr={},slots:ar={},slotProps:sr={},transformOrigin:lr={vertical:"top",horizontal:"left"},TransitionComponent:or,transitionDuration:cr="auto",TransitionProps:hr={},disableScrollLock:yr=!1,...mr}=Ue,vr=reactExports.useRef(),_r={...Ue,anchorOrigin:He,anchorReference:Ge,elevation:er,marginThreshold:Ze,transformOrigin:lr,TransitionComponent:or,transitionDuration:cr,TransitionProps:hr},Cr=useUtilityClasses$1(_r),br=reactExports.useCallback(()=>{if(Ge==="anchorPosition")return We;const bn=resolveAnchorEl(qe),gn=(bn&&bn.nodeType===1?bn:ownerDocument(vr.current).body).getBoundingClientRect();return{top:gn.top+getOffsetTop(gn,He.vertical),left:gn.left+getOffsetLeft(gn,He.horizontal)}},[qe,He.horizontal,He.vertical,We,Ge]),fr=reactExports.useCallback(bn=>({vertical:getOffsetTop(bn,lr.vertical),horizontal:getOffsetLeft(bn,lr.horizontal)}),[lr.horizontal,lr.vertical]),Sr=reactExports.useCallback(bn=>{const jn={width:bn.offsetWidth,height:bn.offsetHeight},gn=fr(jn);if(Ge==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(gn)};const In=br();let Sn=In.top-gn.vertical,Gr=In.left-gn.horizontal;const Un=Sn+jn.height,di=Gr+jn.width,ii=ownerWindow(resolveAnchorEl(qe)),Vn=ii.innerHeight-Ze,zn=ii.innerWidth-Ze;if(Ze!==null&&Sn<Ze){const Qn=Sn-Ze;Sn-=Qn,gn.vertical+=Qn}else if(Ze!==null&&Un>Vn){const Qn=Un-Vn;Sn-=Qn,gn.vertical+=Qn}if(Ze!==null&&Gr<Ze){const Qn=Gr-Ze;Gr-=Qn,gn.horizontal+=Qn}else if(di>zn){const Qn=di-zn;Gr-=Qn,gn.horizontal+=Qn}return{top:`${Math.round(Sn)}px`,left:`${Math.round(Gr)}px`,transformOrigin:getTransformOriginValue(gn)}},[qe,Ge,br,fr,Ze]),[Dr,Or]=reactExports.useState(rr),Er=reactExports.useCallback(()=>{const bn=vr.current;if(!bn)return;const jn=Sr(bn);jn.top!==null&&bn.style.setProperty("top",jn.top),jn.left!==null&&(bn.style.left=jn.left),bn.style.transformOrigin=jn.transformOrigin,Or(!0)},[Sr]);reactExports.useEffect(()=>(yr&&window.addEventListener("scroll",Er),()=>window.removeEventListener("scroll",Er)),[qe,yr,Er]);const Nr=()=>{Er()},wr=()=>{Or(!1)};reactExports.useEffect(()=>{rr&&Er()}),reactExports.useImperativeHandle(ze,()=>rr?{updatePosition:()=>{Er()}}:null,[rr,Er]),reactExports.useEffect(()=>{if(!rr)return;const bn=debounce$2(()=>{Er()}),jn=ownerWindow(resolveAnchorEl(qe));return jn.addEventListener("resize",bn),()=>{bn.clear(),jn.removeEventListener("resize",bn)}},[qe,rr,Er]);let Ar=cr;const Lr={slots:{transition:or,...ar},slotProps:{transition:hr,paper:nr,...sr}},[Pr,Tr]=useSlot("transition",{elementType:Grow,externalForwardedProps:Lr,ownerState:_r,getSlotProps:bn=>({...bn,onEntering:(jn,gn)=>{bn.onEntering?.(jn,gn),Nr()},onExited:jn=>{bn.onExited?.(jn),wr()}}),additionalProps:{appear:!0,in:rr}});cr==="auto"&&!Pr.muiSupportAuto&&(Ar=void 0);const Vr=Je||(qe?ownerDocument(resolveAnchorEl(qe)).body:void 0),[Ur,{slots:Yr,slotProps:Qr,...mn}]=useSlot("root",{ref:Be,elementType:PopoverRoot,externalForwardedProps:{...Lr,...mr},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:ar.backdrop},slotProps:{backdrop:mergeSlotProps$1(typeof sr.backdrop=="function"?sr.backdrop(_r):sr.backdrop,{invisible:!0})},container:Vr,open:rr},ownerState:_r,className:clsx(Cr.root,Xe)}),[An,Zr]=useSlot("paper",{ref:vr,className:Cr.paper,elementType:PopoverPaper,externalForwardedProps:Lr,shouldForwardComponentProp:!0,additionalProps:{elevation:er,style:Dr?void 0:{opacity:0}},ownerState:_r});return jsxRuntimeExports.jsx(Ur,{...mn,...!isHostComponent(Ur)&&{slots:Yr,slotProps:Qr,disableScrollLock:yr},children:jsxRuntimeExports.jsx(Pr,{...Tr,timeout:Ar,children:jsxRuntimeExports.jsx(An,{...Zr,children:Ye})})})});function getMenuUtilityClass(Ve){return generateUtilityClass("MuiMenu",Ve)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses=Ve=>{const{classes:$e}=Ve;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,$e)},MenuRoot=styled(Popover,{shouldForwardProp:Ve=>rootShouldForwardProp(Ve)||Ve==="classes",name:"MuiMenu",slot:"Root"})({}),MenuPaper=styled(PopoverPaper,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled(MenuList,{name:"MuiMenu",slot:"List"})({outline:0}),Menu=reactExports.forwardRef(function($e,Be){const Ue=useDefaultProps({props:$e,name:"MuiMenu"}),{autoFocus:ze=!0,children:qe,className:He,disableAutoFocusItem:We=!1,MenuListProps:Ge={},onClose:Ye,open:Xe,PaperProps:Je={},PopoverClasses:er,transitionDuration:Ze="auto",TransitionProps:{onEntering:rr,...nr}={},variant:ar="selectedMenu",slots:sr={},slotProps:lr={},...or}=Ue,cr=useRtl(),hr={...Ue,autoFocus:ze,disableAutoFocusItem:We,MenuListProps:Ge,onEntering:rr,PaperProps:Je,transitionDuration:Ze,TransitionProps:nr,variant:ar},yr=useUtilityClasses(hr),mr=ze&&!We&&Xe,vr=reactExports.useRef(null),_r=(Ar,Lr)=>{vr.current&&vr.current.adjustStyleForScrollbar(Ar,{direction:cr?"rtl":"ltr"}),rr&&rr(Ar,Lr)},Cr=Ar=>{Ar.key==="Tab"&&(Ar.preventDefault(),Ye&&Ye(Ar,"tabKeyDown"))};let br=-1;reactExports.Children.map(qe,(Ar,Lr)=>{reactExports.isValidElement(Ar)&&(Ar.props.disabled||(ar==="selectedMenu"&&Ar.props.selected||br===-1)&&(br=Lr))});const fr={slots:sr,slotProps:{list:Ge,transition:nr,paper:Je,...lr}},Sr=useSlotProps({elementType:sr.root,externalSlotProps:lr.root,ownerState:hr,className:[yr.root,He]}),[Dr,Or]=useSlot("paper",{className:yr.paper,elementType:MenuPaper,externalForwardedProps:fr,shouldForwardComponentProp:!0,ownerState:hr}),[Er,Nr]=useSlot("list",{className:clsx(yr.list,Ge.className),elementType:MenuMenuList,shouldForwardComponentProp:!0,externalForwardedProps:fr,getSlotProps:Ar=>({...Ar,onKeyDown:Lr=>{Cr(Lr),Ar.onKeyDown?.(Lr)}}),ownerState:hr}),wr=typeof fr.slotProps.transition=="function"?fr.slotProps.transition(hr):fr.slotProps.transition;return jsxRuntimeExports.jsx(MenuRoot,{onClose:Ye,anchorOrigin:{vertical:"bottom",horizontal:cr?"right":"left"},transformOrigin:cr?RTL_ORIGIN:LTR_ORIGIN,slots:{root:sr.root,paper:Dr,backdrop:sr.backdrop,...sr.transition&&{transition:sr.transition}},slotProps:{root:Sr,paper:Or,backdrop:typeof lr.backdrop=="function"?lr.backdrop(hr):lr.backdrop,transition:{...wr,onEntering:(...Ar)=>{_r(...Ar),wr?.onEntering?.(...Ar)}}},open:Xe,ref:Be,transitionDuration:Ze,ownerState:hr,...or,classes:er,children:jsxRuntimeExports.jsx(Er,{actions:vr,autoFocus:ze&&(br===-1||We),autoFocusItem:mr,variant:ar,...Nr,children:qe})})}),SearchIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),NotificationsIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),MoreIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),useSidebarLogic=Ve=>({navigationItems:(()=>{const ze=[{name:" ",href:"/notices",icon:Bell}];switch(Ve){case"admin":return[{name:" ",href:"/admin",icon:House},{name:" ",href:"/shares",icon:PiggyBank},{name:" ",href:"/investments",icon:TrendingUp},{name:" ",href:"/profits",icon:DollarSign},...ze,{name:"  ",href:"/admin/settings",icon:Settings}];case"cashier":return[{name:" ",href:"/cashier",icon:House},{name:" ",href:"/shares",icon:PiggyBank},...ze,{name:"  ",href:"/cashier/settings",icon:Settings}];case"member":return[{name:" ",href:"/member",icon:House},...ze,{name:"  ",href:"/member/settings",icon:Settings}];default:return ze}})(),roleNames:{admin:"",cashier:"",member:""}});function PrimarySearchAppBar({isMobile:Ve}){const{user:$e,logout:Be}=useAuth(),[Ue,ze]=reactExports.useState(null),qe=useLocation(),{navigationItems:He}=useSidebarLogic($e?.role),We=!!Ue,Ge={admin:{label:"",icon:Shield,color:"#dc2626"},cashier:{label:"",icon:DollarSign,color:"#059669"},member:{label:"",icon:User,color:"#2563eb"}}[$e?.role]||{label:"",icon:User,color:"#2563eb"},Ye=()=>{ze(null)},Xe=nr=>{ze(nr.currentTarget)},Je=()=>{Be(),Ye()},er=()=>He.find(ar=>ar.href===qe.pathname)?.name||"",Ze="primary-search-account-menu-mobile",rr=jsxRuntimeExports.jsxs(Menu,{anchorEl:Ue,anchorOrigin:{vertical:"top",horizontal:"right"},id:Ze,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:We,onClose:Ye,PaperProps:{elevation:8,sx:{borderRadius:"16px",mt:1,minWidth:200,"& .MuiMenuItem-root":{borderRadius:"12px",mx:1,my:.5}}},children:[jsxRuntimeExports.jsx(MenuItem,{sx:{backgroundColor:"rgba(37, 99, 235, 0.08)",py:1.5,px:2,cursor:"default","&:hover":{backgroundColor:"rgba(37, 99, 235, 0.08)"}},disabled:!0,children:jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[jsxRuntimeExports.jsx(Box,{sx:{p:1,borderRadius:"8px",backgroundColor:`${Ge.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(Ge.icon,{size:18,style:{color:Ge.color}})}),jsxRuntimeExports.jsx(Typography,{sx:{color:"#2563eb",fontWeight:600,fontSize:"0.9rem"},children:Ge.label}),jsxRuntimeExports.jsx(Box,{sx:{ml:"auto",width:6,height:6,backgroundColor:"#2563eb",borderRadius:"50%"}})]})}),jsxRuntimeExports.jsx(MenuItem,{onClick:Je,sx:{"&:hover":{backgroundColor:"rgba(220, 38, 38, 0.04)"},py:1.5,px:2,mt:1,borderTop:"1px solid #e5e7eb"},children:jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",gap:2},children:[jsxRuntimeExports.jsx(Box,{sx:{p:1,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx(LogOut,{size:18,style:{color:"#dc2626"}})}),jsxRuntimeExports.jsx(Typography,{sx:{color:"#dc2626",fontWeight:500,fontSize:"0.9rem"},children:" "})]})})]});return jsxRuntimeExports.jsxs(Box,{sx:{flexGrow:1},children:[jsxRuntimeExports.jsx(AppBar,{position:"static",elevation:0,sx:{bgcolor:"white",color:"text.primary",borderBottom:"1px solid",borderColor:"divider",margin:0,padding:0},children:jsxRuntimeExports.jsxs(Toolbar,{sx:{minHeight:{xs:56,md:64},px:{xs:2,md:3},gap:1},children:[jsxRuntimeExports.jsx(IconButton,{size:Ve?"medium":"large",edge:"start",color:"inherit","aria-label":" ",onClick:Je,sx:{mr:1,p:Ve?1:1.5,borderRadius:"12px","&:hover":{backgroundColor:"rgba(220, 38, 38, 0.04)"},"&:active":{backgroundColor:"rgba(220, 38, 38, 0.08)",transform:"scale(0.95)"},transition:"all 0.15s ease"},children:jsxRuntimeExports.jsx(LogOut,{size:Ve?20:24,style:{color:"#dc2626"}})}),jsxRuntimeExports.jsx(Box,{sx:{flexGrow:1,minWidth:0},children:jsxRuntimeExports.jsx(Typography,{variant:"h6",noWrap:!0,component:"div",sx:{fontSize:{xs:"1.1rem",md:"1.25rem"},fontWeight:500,color:"text.primary",letterSpacing:"-0.01em"},children:er()})}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",gap:.5},children:[jsxRuntimeExports.jsx(IconButton,{size:Ve?"medium":"large","aria-label":"",color:"inherit",sx:{p:Ve?1:1.5,borderRadius:"12px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},"&:active":{backgroundColor:"rgba(0, 0, 0, 0.08)",transform:"scale(0.95)"},transition:"all 0.15s ease"},children:jsxRuntimeExports.jsx(SearchIcon,{sx:{fontSize:Ve?20:24}})}),jsxRuntimeExports.jsx(IconButton,{size:Ve?"medium":"large","aria-label":"",color:"inherit",sx:{p:Ve?1:1.5,borderRadius:"12px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},"&:active":{backgroundColor:"rgba(0, 0, 0, 0.08)",transform:"scale(0.95)"},transition:"all 0.15s ease"},children:jsxRuntimeExports.jsx(Badge,{badgeContent:3,color:"error",sx:{"& .MuiBadge-badge":{fontSize:"0.7rem",minWidth:16,height:16}},children:jsxRuntimeExports.jsx(NotificationsIcon,{sx:{fontSize:Ve?20:24}})})}),jsxRuntimeExports.jsx(IconButton,{size:Ve?"medium":"large","aria-label":" ","aria-controls":Ze,"aria-haspopup":"true",onClick:Xe,color:"inherit",sx:{p:Ve?1:1.5,borderRadius:"12px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},"&:active":{backgroundColor:"rgba(0, 0, 0, 0.08)",transform:"scale(0.95)"},transition:"all 0.15s ease"},children:jsxRuntimeExports.jsx(MoreIcon,{sx:{fontSize:Ve?20:24}})})]})]})}),rr]})}const TRANSACTIONS_COLLECTION="transactions",FUND_COLLECTION="fund_summary";class TransactionService{static async addTransaction($e){try{return{success:!0,id:(await addDoc(collection(db,TRANSACTIONS_COLLECTION),{...$e,createdAt:serverTimestamp(),updatedAt:serverTimestamp()})).id}}catch(Be){return console.error("   :",Be),{success:!1,error:Be.message}}}static async getRecentTransactions($e=10){try{const Be=query(collection(db,TRANSACTIONS_COLLECTION),orderBy$1("createdAt","desc"),limit($e)),Ue=await getDocs(Be),ze=[];return Ue.forEach(qe=>{ze.push({id:qe.id,...qe.data()})}),{success:!0,data:ze}}catch(Be){return console.error("   :",Be),{success:!1,error:Be.message}}}static async getTransactionsByUserId($e){try{const Be=query(collection(db,TRANSACTIONS_COLLECTION),where("userId","==",$e),orderBy$1("createdAt","desc")),Ue=await getDocs(Be),ze=[];return Ue.forEach(qe=>{ze.push({id:qe.id,...qe.data()})}),{success:!0,data:ze}}catch(Be){return console.error("   :",Be),{success:!1,error:Be.message}}}static async getAllTransactions(){try{const $e=query(collection(db,TRANSACTIONS_COLLECTION),orderBy$1("createdAt","desc")),Be=await getDocs($e),Ue=[];return Be.forEach(ze=>{Ue.push({id:ze.id,...ze.data()})}),{success:!0,data:Ue}}catch($e){return console.error("   :",$e),{success:!1,error:$e.message}}}static async updateTransactionStatus($e,Be){try{const Ue=doc(db,TRANSACTIONS_COLLECTION,$e);return await updateDoc(Ue,{status:Be,updatedAt:serverTimestamp()}),{success:!0}}catch(Ue){return console.error("    :",Ue),{success:!1,error:Ue.message}}}}class FundService{static async getFundSummary(){try{const $e=await TransactionService.getAllTransactions();if(!$e.success)throw new Error("Failed to fetch transactions");const Be=$e.data||[],Ue=["monthly_deposit","share_purchase","loan_repayment","penalty"],ze=["loan_disbursement","profit_distribution"],qe=Be.filter(ar=>Ue.includes(ar.transactionType)),He=Be.filter(ar=>ze.includes(ar.transactionType)),We=qe.reduce((ar,sr)=>ar+(sr.amount||0),0),Ge=He.reduce((ar,sr)=>ar+(sr.amount||0),0),Ye=We-Ge,Xe=new Date().getMonth(),Je=new Date().getFullYear(),er=Be.filter(ar=>{if(ar.transactionType==="monthly_deposit"&&ar.createdAt){const sr=new Date(ar.createdAt.seconds*1e3);return sr.getMonth()===Xe&&sr.getFullYear()===Je}return!1}).reduce((ar,sr)=>ar+(sr.amount||0),0),Ze=await getDocs(collection(db,FUND_COLLECTION));let rr={};return Ze.forEach(ar=>{rr={id:ar.id,...ar.data()}}),{success:!0,data:{totalBalance:Ye,totalAmount:Ye,totalDeposits:We,totalWithdrawals:Ge,monthlyDeposits:er,availableCash:Ye-(rr.investedAmount||0),investedAmount:rr.investedAmount||0,monthlyProfit:rr.monthlyProfit||0,monthlyProfits:rr.monthlyProfit||0,monthlyExpense:rr.monthlyExpense||0,netProfit:(rr.monthlyProfit||0)-(rr.monthlyExpense||0),profitMargin:rr.profitMargin||0,investmentReturn:rr.investmentReturn||0,cashFlow:rr.cashFlow||[{month:"",income:45600,expense:23e3,profit:22600},{month:"",income:48200,expense:25e3,profit:23200},{month:"",income:52e3,expense:28e3,profit:24e3},{month:"",income:49800,expense:26500,profit:23300},{month:"",income:51200,expense:24800,profit:26400},{month:"",income:53600,expense:27200,profit:26400}],investmentBreakdown:rr.investmentBreakdown||[{type:" ",amount:3e5,percentage:46.2,return:4.5},{type:" ",amount:2e5,percentage:30.8,return:3.8},{type:" ",amount:1e5,percentage:15.4,return:8.2},{type:" ",amount:5e4,percentage:7.7,return:6.5}]}}}catch($e){return console.error("   :",$e),{success:!1,error:$e.message}}}static async updateFundSummary($e){try{const Be=await getDocs(collection(db,FUND_COLLECTION));if(Be.empty)await addDoc(collection(db,FUND_COLLECTION),{...$e,createdAt:serverTimestamp(),updatedAt:serverTimestamp()});else{const Ue=Be.docs[0].ref;await updateDoc(Ue,{...$e,updatedAt:serverTimestamp()})}return{success:!0}}catch(Be){return console.error("    :",Be),{success:!1,error:Be.message}}}}const AddTransaction=({isOpen:Ve,onClose:$e})=>{if(!Ve)return null;const[Be,Ue]=reactExports.useState(!1),[ze,qe]=reactExports.useState(null),[He,We]=reactExports.useState([]),[Ge,Ye]=reactExports.useState(!0),[Xe,Je]=reactExports.useState({memberId:"",memberName:"",transactionType:"monthly_deposit",amount:"",shareAmount:"",paymentMethod:"cash",paymentReference:"",description:"",date:new Date().toISOString().split("T")[0],month:new Date().getMonth(),notes:""});reactExports.useEffect(()=>{(async()=>{Ye(!0);try{const cr=await MemberService.getActiveMembers();if(cr.success){const hr=cr.data.map(yr=>({id:yr.id,name:yr.name,currentShares:yr.shareCount||0,membershipId:yr.somiti_user_id}));We(hr)}else console.error("Failed to fetch members:",cr.error),We([])}catch(cr){console.error("Error fetching members:",cr),We([])}finally{Ye(!1)}})()},[]);const er=[{value:"monthly_deposit",label:" "},{value:"share_purchase",label:" "},{value:"loan_disbursement",label:" "},{value:"loan_repayment",label:" "},{value:"profit_distribution",label:" "},{value:"penalty",label:""},{value:"other",label:""}],Ze=[{value:0,label:""},{value:1,label:""},{value:2,label:""},{value:3,label:""},{value:4,label:""},{value:5,label:""},{value:6,label:""},{value:7,label:""},{value:8,label:""},{value:9,label:""},{value:10,label:""},{value:11,label:""}],rr=[{value:"cash",label:""},{value:"bank_transfer",label:" "},{value:"mobile_banking",label:" "},{value:"check",label:""}],nr=or=>{const cr=He.find(hr=>hr.id===or);Je({...Xe,memberId:or,memberName:cr?cr.name:""})},ar=or=>{Je({...Xe,transactionType:or,shareAmount:or==="share_purchase"?Xe.shareAmount:""})},sr=async or=>{or.preventDefault(),Ue(!0),qe(null);try{const cr={memberId:Xe.memberId,memberName:Xe.memberName,transactionType:Xe.transactionType,amount:parseFloat(Xe.amount),shareAmount:Xe.shareAmount?parseInt(Xe.shareAmount):null,paymentMethod:Xe.paymentMethod,paymentReference:Xe.paymentReference||null,description:Xe.description||"",date:Xe.date,month:Xe.month,monthName:Ze[Xe.month].label,notes:Xe.notes||"",status:"completed"},hr=await TransactionService.addTransaction(cr);hr.success?(console.log("Transaction saved successfully with ID:",hr.id),console.log("AddTransaction: toast success -  "),n.success(`${lr?.name||""}   ${Xe.amount}     `),Je({memberId:"",memberName:"",transactionType:"monthly_deposit",amount:"",shareAmount:"",paymentMethod:"cash",paymentReference:"",description:"",date:new Date().toISOString().split("T")[0],month:new Date().getMonth(),notes:""}),qe(null),$e()):(console.error("Failed to save transaction:",hr.error),qe("error"))}catch(cr){console.error("Error submitting transaction:",cr),qe("error")}finally{Ue(!1)}},lr=He.find(or=>or.id===Xe.memberId);return jsxRuntimeExports.jsx("div",{className:"add-transaction-backdrop",onClick:$e,children:jsxRuntimeExports.jsxs("div",{className:"add-transaction-modal",onClick:or=>or.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"add-transaction-header",children:jsxRuntimeExports.jsxs("div",{className:"add-transaction-header-content",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"add-transaction-title",children:"   "}),jsxRuntimeExports.jsx("p",{className:"add-transaction-subtitle",children:"     "})]}),jsxRuntimeExports.jsx("button",{onClick:$e,className:"add-transaction-close-btn",children:jsxRuntimeExports.jsx(X$1,{className:"h-5 w-5"})})]})}),jsxRuntimeExports.jsx("div",{className:"add-transaction-body",children:jsxRuntimeExports.jsxs("form",{onSubmit:sr,children:[jsxRuntimeExports.jsxs("div",{className:"add-transaction-section",children:[jsxRuntimeExports.jsxs("div",{className:"add-transaction-section-header",children:[jsxRuntimeExports.jsx(User,{className:"add-transaction-section-icon"}),jsxRuntimeExports.jsx("h3",{className:"add-transaction-section-title",children:" "})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"add-transaction-form-group",children:[jsxRuntimeExports.jsx("label",{className:"add-transaction-label",children:"   *"}),jsxRuntimeExports.jsxs("select",{required:!0,value:Xe.memberId,onChange:or=>nr(or.target.value),disabled:Ge,className:"add-transaction-select",children:[jsxRuntimeExports.jsx("option",{value:"",children:Ge?"   ...":He.length===0?"    ":"  "}),!Ge&&He.map(or=>jsxRuntimeExports.jsxs("option",{value:or.id,children:[or.somiti_user_id," - ",or.name]},or.id))]}),Ge&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"     ..."}),!Ge&&He.length===0&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500 mt-1",children:"        "})]}),lr&&jsxRuntimeExports.jsxs("div",{className:"add-transaction-member-info",children:[jsxRuntimeExports.jsxs("div",{className:"add-transaction-member-info-row",children:[jsxRuntimeExports.jsx("span",{className:"add-transaction-member-info-label",children:" :"}),jsxRuntimeExports.jsx("span",{className:"add-transaction-member-info-value",children:lr.name})]}),jsxRuntimeExports.jsxs("div",{className:"add-transaction-member-info-row",children:[jsxRuntimeExports.jsx("span",{className:"add-transaction-member-info-label",children:" :"}),jsxRuntimeExports.jsx("span",{className:"add-transaction-member-info-value",children:lr.somiti_user_id})]}),jsxRuntimeExports.jsxs("div",{className:"add-transaction-member-info-row",children:[jsxRuntimeExports.jsx("span",{className:"add-transaction-member-info-label",children:" :"}),jsxRuntimeExports.jsxs("span",{className:"add-transaction-member-info-value",children:[lr.currentShares," "]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"add-transaction-section",children:[jsxRuntimeExports.jsxs("div",{className:"add-transaction-section-header",children:[jsxRuntimeExports.jsx(DollarSign,{className:"add-transaction-section-icon"}),jsxRuntimeExports.jsx("h3",{className:"add-transaction-section-title",children:" "})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"add-transaction-form-group",children:[jsxRuntimeExports.jsx("label",{className:"add-transaction-label",children:"  *"}),jsxRuntimeExports.jsx("select",{required:!0,value:Xe.transactionType,onChange:or=>ar(or.target.value),className:"add-transaction-select",children:er.map(or=>jsxRuntimeExports.jsx("option",{value:or.value,children:or.label},or.value))})]}),jsxRuntimeExports.jsxs("div",{className:"add-transaction-form-group",children:[jsxRuntimeExports.jsx("label",{className:"add-transaction-label",children:" () *"}),jsxRuntimeExports.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:Xe.amount,onChange:or=>Je({...Xe,amount:or.target.value}),className:"add-transaction-input",placeholder:" "})]}),Xe.transactionType==="share_purchase"&&jsxRuntimeExports.jsxs("div",{className:"add-transaction-form-group",children:[jsxRuntimeExports.jsx("label",{className:"add-transaction-label",children:"  *"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",required:!0,value:Xe.shareAmount,onChange:or=>Je({...Xe,shareAmount:or.target.value}),className:"add-transaction-input",placeholder:"   "})]}),jsxRuntimeExports.jsxs("div",{className:"add-transaction-form-group",children:[jsxRuntimeExports.jsx("label",{className:"add-transaction-label",children:" *"}),jsxRuntimeExports.jsx("input",{type:"date",required:!0,value:Xe.date,onChange:or=>Je({...Xe,date:or.target.value}),className:"add-transaction-input"})]}),jsxRuntimeExports.jsxs("div",{className:"add-transaction-form-group",children:[jsxRuntimeExports.jsx("label",{className:"add-transaction-label",children:" *"}),jsxRuntimeExports.jsx("select",{required:!0,value:Xe.month,onChange:or=>Je({...Xe,month:parseInt(or.target.value)}),className:"add-transaction-select",children:Ze.map(or=>jsxRuntimeExports.jsx("option",{value:or.value,children:or.label},or.value))})]})]}),jsxRuntimeExports.jsxs("div",{className:"add-transaction-form-group",children:[jsxRuntimeExports.jsx("label",{className:"add-transaction-label",children:""}),jsxRuntimeExports.jsx("textarea",{value:Xe.description,onChange:or=>Je({...Xe,description:or.target.value}),rows:"3",className:"add-transaction-textarea",placeholder:"  "})]})]}),jsxRuntimeExports.jsxs("div",{className:"add-transaction-section",children:[jsxRuntimeExports.jsxs("div",{className:"add-transaction-section-header",children:[jsxRuntimeExports.jsx(CreditCard,{className:"add-transaction-section-icon"}),jsxRuntimeExports.jsx("h3",{className:"add-transaction-section-title",children:" "})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"add-transaction-form-group",children:[jsxRuntimeExports.jsx("label",{className:"add-transaction-label",children:"  *"}),jsxRuntimeExports.jsx("select",{required:!0,value:Xe.paymentMethod,onChange:or=>Je({...Xe,paymentMethod:or.target.value}),className:"add-transaction-select",children:rr.map(or=>jsxRuntimeExports.jsx("option",{value:or.value,children:or.label},or.value))})]}),Xe.paymentMethod!=="cash"&&jsxRuntimeExports.jsxs("div",{className:"add-transaction-form-group",children:[jsxRuntimeExports.jsx("label",{className:"add-transaction-label",children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:Xe.paymentReference,onChange:or=>Je({...Xe,paymentReference:or.target.value}),className:"add-transaction-input",placeholder:"/ "})]})]}),jsxRuntimeExports.jsxs("div",{className:"add-transaction-form-group",children:[jsxRuntimeExports.jsx("label",{className:"add-transaction-label",children:" "}),jsxRuntimeExports.jsx("textarea",{value:Xe.notes,onChange:or=>Je({...Xe,notes:or.target.value}),rows:"2",className:"add-transaction-textarea",placeholder:"   "})]})]}),jsxRuntimeExports.jsx("div",{className:"add-transaction-section",children:jsxRuntimeExports.jsxs("div",{className:"add-transaction-actions",children:[jsxRuntimeExports.jsx("button",{type:"submit",disabled:Be||!Xe.memberId||!Xe.amount,className:`add-transaction-submit-btn ${Be||!Xe.memberId||!Xe.amount?"disabled":""}`,children:Be?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"add-transaction-spinner"}),"   ..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"}),"  "]})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:$e,className:"add-transaction-cancel-btn",children:" "})]})}),ze&&jsxRuntimeExports.jsx("div",{className:`add-transaction-status ${ze==="success"?"success":"error"}`,children:jsxRuntimeExports.jsxs("div",{className:"add-transaction-status-content",children:[ze==="success"?jsxRuntimeExports.jsx(CircleCheckBig,{className:"add-transaction-status-icon"}):jsxRuntimeExports.jsx(CircleAlert,{className:"add-transaction-status-icon"}),jsxRuntimeExports.jsx("p",{className:"add-transaction-status-text",children:ze==="success"?"   !":"      "})]})})]})})]})})};var reactFastCompare,hasRequiredReactFastCompare;function requireReactFastCompare(){if(hasRequiredReactFastCompare)return reactFastCompare;hasRequiredReactFastCompare=1;var Ve=typeof Element<"u",$e=typeof Map=="function",Be=typeof Set=="function",Ue=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ze(qe,He){if(qe===He)return!0;if(qe&&He&&typeof qe=="object"&&typeof He=="object"){if(qe.constructor!==He.constructor)return!1;var We,Ge,Ye;if(Array.isArray(qe)){if(We=qe.length,We!=He.length)return!1;for(Ge=We;Ge--!==0;)if(!ze(qe[Ge],He[Ge]))return!1;return!0}var Xe;if($e&&qe instanceof Map&&He instanceof Map){if(qe.size!==He.size)return!1;for(Xe=qe.entries();!(Ge=Xe.next()).done;)if(!He.has(Ge.value[0]))return!1;for(Xe=qe.entries();!(Ge=Xe.next()).done;)if(!ze(Ge.value[1],He.get(Ge.value[0])))return!1;return!0}if(Be&&qe instanceof Set&&He instanceof Set){if(qe.size!==He.size)return!1;for(Xe=qe.entries();!(Ge=Xe.next()).done;)if(!He.has(Ge.value[0]))return!1;return!0}if(Ue&&ArrayBuffer.isView(qe)&&ArrayBuffer.isView(He)){if(We=qe.length,We!=He.length)return!1;for(Ge=We;Ge--!==0;)if(qe[Ge]!==He[Ge])return!1;return!0}if(qe.constructor===RegExp)return qe.source===He.source&&qe.flags===He.flags;if(qe.valueOf!==Object.prototype.valueOf&&typeof qe.valueOf=="function"&&typeof He.valueOf=="function")return qe.valueOf()===He.valueOf();if(qe.toString!==Object.prototype.toString&&typeof qe.toString=="function"&&typeof He.toString=="function")return qe.toString()===He.toString();if(Ye=Object.keys(qe),We=Ye.length,We!==Object.keys(He).length)return!1;for(Ge=We;Ge--!==0;)if(!Object.prototype.hasOwnProperty.call(He,Ye[Ge]))return!1;if(Ve&&qe instanceof Element)return!1;for(Ge=We;Ge--!==0;)if(!((Ye[Ge]==="_owner"||Ye[Ge]==="__v"||Ye[Ge]==="__o")&&qe.$$typeof)&&!ze(qe[Ye[Ge]],He[Ye[Ge]]))return!1;return!0}return qe!==qe&&He!==He}return reactFastCompare=function(He,We){try{return ze(He,We)}catch(Ge){if((Ge.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw Ge}},reactFastCompare}var reactFastCompareExports=requireReactFastCompare();const fastCompare=getDefaultExportFromCjs(reactFastCompareExports);var browser$2,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;var Ve=function($e,Be,Ue,ze,qe,He,We,Ge){if(!$e){var Ye;if(Be===void 0)Ye=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Xe=[Ue,ze,qe,He,We,Ge],Je=0;Ye=new Error(Be.replace(/%s/g,function(){return Xe[Je++]})),Ye.name="Invariant Violation"}throw Ye.framesToPop=1,Ye}};return browser$2=Ve,browser$2}var browserExports=requireBrowser();const invariant$1=getDefaultExportFromCjs(browserExports);var shallowequal,hasRequiredShallowequal;function requireShallowequal(){return hasRequiredShallowequal||(hasRequiredShallowequal=1,shallowequal=function($e,Be,Ue,ze){var qe=Ue?Ue.call(ze,$e,Be):void 0;if(qe!==void 0)return!!qe;if($e===Be)return!0;if(typeof $e!="object"||!$e||typeof Be!="object"||!Be)return!1;var He=Object.keys($e),We=Object.keys(Be);if(He.length!==We.length)return!1;for(var Ge=Object.prototype.hasOwnProperty.bind(Be),Ye=0;Ye<He.length;Ye++){var Xe=He[Ye];if(!Ge(Xe))return!1;var Je=$e[Xe],er=Be[Xe];if(qe=Ue?Ue.call(ze,Je,er,Xe):void 0,qe===!1||qe===void 0&&Je!==er)return!1}return!0}),shallowequal}var shallowequalExports=requireShallowequal();const shallowEqual$1=getDefaultExportFromCjs(shallowequalExports);var TAG_NAMES=(Ve=>(Ve.BASE="base",Ve.BODY="body",Ve.HEAD="head",Ve.HTML="html",Ve.LINK="link",Ve.META="meta",Ve.NOSCRIPT="noscript",Ve.SCRIPT="script",Ve.STYLE="style",Ve.TITLE="title",Ve.FRAGMENT="Symbol(react.fragment)",Ve))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},VALID_TAG_NAMES=Object.values(TAG_NAMES),REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HTML_TAG_MAP=Object.entries(REACT_TAG_MAP).reduce((Ve,[$e,Be])=>(Ve[Be]=$e,Ve),{}),HELMET_ATTRIBUTE="data-rh",HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},getInnermostProperty=(Ve,$e)=>{for(let Be=Ve.length-1;Be>=0;Be-=1){const Ue=Ve[Be];if(Object.prototype.hasOwnProperty.call(Ue,$e))return Ue[$e]}return null},getTitleFromPropsList=Ve=>{let $e=getInnermostProperty(Ve,"title");const Be=getInnermostProperty(Ve,HELMET_PROPS.TITLE_TEMPLATE);if(Array.isArray($e)&&($e=$e.join("")),Be&&$e)return Be.replace(/%s/g,()=>$e);const Ue=getInnermostProperty(Ve,HELMET_PROPS.DEFAULT_TITLE);return $e||Ue||void 0},getOnChangeClientState=Ve=>getInnermostProperty(Ve,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||(()=>{}),getAttributesFromPropsList=(Ve,$e)=>$e.filter(Be=>typeof Be[Ve]<"u").map(Be=>Be[Ve]).reduce((Be,Ue)=>({...Be,...Ue}),{}),getBaseTagFromPropsList=(Ve,$e)=>$e.filter(Be=>typeof Be.base<"u").map(Be=>Be.base).reverse().reduce((Be,Ue)=>{if(!Be.length){const ze=Object.keys(Ue);for(let qe=0;qe<ze.length;qe+=1){const We=ze[qe].toLowerCase();if(Ve.indexOf(We)!==-1&&Ue[We])return Be.concat(Ue)}}return Be},[]),warn$1=Ve=>console&&typeof console.warn=="function"&&console.warn(Ve),getTagsFromPropsList=(Ve,$e,Be)=>{const Ue={};return Be.filter(ze=>Array.isArray(ze[Ve])?!0:(typeof ze[Ve]<"u"&&warn$1(`Helmet: ${Ve} should be of type "Array". Instead found type "${typeof ze[Ve]}"`),!1)).map(ze=>ze[Ve]).reverse().reduce((ze,qe)=>{const He={};qe.filter(Ge=>{let Ye;const Xe=Object.keys(Ge);for(let er=0;er<Xe.length;er+=1){const Ze=Xe[er],rr=Ze.toLowerCase();$e.indexOf(rr)!==-1&&!(Ye==="rel"&&Ge[Ye].toLowerCase()==="canonical")&&!(rr==="rel"&&Ge[rr].toLowerCase()==="stylesheet")&&(Ye=rr),$e.indexOf(Ze)!==-1&&(Ze==="innerHTML"||Ze==="cssText"||Ze==="itemprop")&&(Ye=Ze)}if(!Ye||!Ge[Ye])return!1;const Je=Ge[Ye].toLowerCase();return Ue[Ye]||(Ue[Ye]={}),He[Ye]||(He[Ye]={}),Ue[Ye][Je]?!1:(He[Ye][Je]=!0,!0)}).reverse().forEach(Ge=>ze.push(Ge));const We=Object.keys(He);for(let Ge=0;Ge<We.length;Ge+=1){const Ye=We[Ge],Xe={...Ue[Ye],...He[Ye]};Ue[Ye]=Xe}return ze},[]).reverse()},getAnyTrueFromPropsList=(Ve,$e)=>{if(Array.isArray(Ve)&&Ve.length){for(let Be=0;Be<Ve.length;Be+=1)if(Ve[Be][$e])return!0}return!1},reducePropsToState=Ve=>({baseTag:getBaseTagFromPropsList(["href"],Ve),bodyAttributes:getAttributesFromPropsList("bodyAttributes",Ve),defer:getInnermostProperty(Ve,HELMET_PROPS.DEFER),encode:getInnermostProperty(Ve,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList("htmlAttributes",Ve),linkTags:getTagsFromPropsList("link",["rel","href"],Ve),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],Ve),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],Ve),onChangeClientState:getOnChangeClientState(Ve),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],Ve),styleTags:getTagsFromPropsList("style",["cssText"],Ve),title:getTitleFromPropsList(Ve),titleAttributes:getAttributesFromPropsList("titleAttributes",Ve),prioritizeSeoTags:getAnyTrueFromPropsList(Ve,HELMET_PROPS.PRIORITIZE_SEO_TAGS)}),flattenArray=Ve=>Array.isArray(Ve)?Ve.join(""):Ve,checkIfPropsMatch=(Ve,$e)=>{const Be=Object.keys(Ve);for(let Ue=0;Ue<Be.length;Ue+=1)if($e[Be[Ue]]&&$e[Be[Ue]].includes(Ve[Be[Ue]]))return!0;return!1},prioritizer=(Ve,$e)=>Array.isArray(Ve)?Ve.reduce((Be,Ue)=>(checkIfPropsMatch(Ue,$e)?Be.priority.push(Ue):Be.default.push(Ue),Be),{priority:[],default:[]}):{default:Ve,priority:[]},without=(Ve,$e)=>({...Ve,[$e]:void 0}),SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=(Ve,$e=!0)=>$e===!1?String(Ve):String(Ve).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=Ve=>Object.keys(Ve).reduce(($e,Be)=>{const Ue=typeof Ve[Be]<"u"?`${Be}="${Ve[Be]}"`:`${Be}`;return $e?`${$e} ${Ue}`:Ue},""),generateTitleAsString=(Ve,$e,Be,Ue)=>{const ze=generateElementAttributesAsString(Be),qe=flattenArray($e);return ze?`<${Ve} ${HELMET_ATTRIBUTE}="true" ${ze}>${encodeSpecialCharacters(qe,Ue)}</${Ve}>`:`<${Ve} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(qe,Ue)}</${Ve}>`},generateTagsAsString=(Ve,$e,Be=!0)=>$e.reduce((Ue,ze)=>{const qe=ze,He=Object.keys(qe).filter(Ye=>!(Ye==="innerHTML"||Ye==="cssText")).reduce((Ye,Xe)=>{const Je=typeof qe[Xe]>"u"?Xe:`${Xe}="${encodeSpecialCharacters(qe[Xe],Be)}"`;return Ye?`${Ye} ${Je}`:Je},""),We=qe.innerHTML||qe.cssText||"",Ge=SELF_CLOSING_TAGS.indexOf(Ve)===-1;return`${Ue}<${Ve} ${HELMET_ATTRIBUTE}="true" ${He}${Ge?"/>":`>${We}</${Ve}>`}`},""),convertElementAttributesToReactProps=(Ve,$e={})=>Object.keys(Ve).reduce((Be,Ue)=>{const ze=REACT_TAG_MAP[Ue];return Be[ze||Ue]=Ve[Ue],Be},$e),generateTitleAsReactComponent=(Ve,$e,Be)=>{const Ue={key:$e,[HELMET_ATTRIBUTE]:!0},ze=convertElementAttributesToReactProps(Be,Ue);return[React.createElement("title",ze,$e)]},generateTagsAsReactComponent=(Ve,$e)=>$e.map((Be,Ue)=>{const ze={key:Ue,[HELMET_ATTRIBUTE]:!0};return Object.keys(Be).forEach(qe=>{const We=REACT_TAG_MAP[qe]||qe;if(We==="innerHTML"||We==="cssText"){const Ge=Be.innerHTML||Be.cssText;ze.dangerouslySetInnerHTML={__html:Ge}}else ze[We]=Be[qe]}),React.createElement(Ve,ze)}),getMethodsForTag=(Ve,$e,Be=!0)=>{switch(Ve){case"title":return{toComponent:()=>generateTitleAsReactComponent(Ve,$e.title,$e.titleAttributes),toString:()=>generateTitleAsString(Ve,$e.title,$e.titleAttributes,Be)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps($e),toString:()=>generateElementAttributesAsString($e)};default:return{toComponent:()=>generateTagsAsReactComponent(Ve,$e),toString:()=>generateTagsAsString(Ve,$e,Be)}}},getPriorityMethods=({metaTags:Ve,linkTags:$e,scriptTags:Be,encode:Ue})=>{const ze=prioritizer(Ve,SEO_PRIORITY_TAGS.meta),qe=prioritizer($e,SEO_PRIORITY_TAGS.link),He=prioritizer(Be,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",ze.priority),...generateTagsAsReactComponent("link",qe.priority),...generateTagsAsReactComponent("script",He.priority)],toString:()=>`${getMethodsForTag("meta",ze.priority,Ue)} ${getMethodsForTag("link",qe.priority,Ue)} ${getMethodsForTag("script",He.priority,Ue)}`},metaTags:ze.default,linkTags:qe.default,scriptTags:He.default}},mapStateOnServer=Ve=>{const{baseTag:$e,bodyAttributes:Be,encode:Ue=!0,htmlAttributes:ze,noscriptTags:qe,styleTags:He,title:We="",titleAttributes:Ge,prioritizeSeoTags:Ye}=Ve;let{linkTags:Xe,metaTags:Je,scriptTags:er}=Ve,Ze={toComponent:()=>{},toString:()=>""};return Ye&&({priorityMethods:Ze,linkTags:Xe,metaTags:Je,scriptTags:er}=getPriorityMethods(Ve)),{priority:Ze,base:getMethodsForTag("base",$e,Ue),bodyAttributes:getMethodsForTag("bodyAttributes",Be,Ue),htmlAttributes:getMethodsForTag("htmlAttributes",ze,Ue),link:getMethodsForTag("link",Xe,Ue),meta:getMethodsForTag("meta",Je,Ue),noscript:getMethodsForTag("noscript",qe,Ue),script:getMethodsForTag("script",er,Ue),style:getMethodsForTag("style",He,Ue),title:getMethodsForTag("title",{title:We,titleAttributes:Ge},Ue)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{instances=[];canUseDOM=isDocument;context;value={setHelmet:Ve=>{this.context.helmet=Ve},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:Ve=>{(this.canUseDOM?instances:this.instances).push(Ve)},remove:Ve=>{const $e=(this.canUseDOM?instances:this.instances).indexOf(Ve);(this.canUseDOM?instances:this.instances).splice($e,1)}}};constructor(Ve,$e){this.context=Ve,this.canUseDOM=$e||!1,$e||(Ve.helmet=server_default({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context=React.createContext(defaultValue),HelmetProvider=class Ag extends reactExports.Component{static canUseDOM=isDocument;helmetData;constructor($e){super($e),this.helmetData=new HelmetData(this.props.context||{},Ag.canUseDOM)}render(){return React.createElement(Context.Provider,{value:this.helmetData.value},this.props.children)}},updateTags=(Ve,$e)=>{const Be=document.head||document.querySelector("head"),Ue=Be.querySelectorAll(`${Ve}[${HELMET_ATTRIBUTE}]`),ze=[].slice.call(Ue),qe=[];let He;return $e&&$e.length&&$e.forEach(We=>{const Ge=document.createElement(Ve);for(const Ye in We)if(Object.prototype.hasOwnProperty.call(We,Ye))if(Ye==="innerHTML")Ge.innerHTML=We.innerHTML;else if(Ye==="cssText")Ge.styleSheet?Ge.styleSheet.cssText=We.cssText:Ge.appendChild(document.createTextNode(We.cssText));else{const Xe=Ye,Je=typeof We[Xe]>"u"?"":We[Xe];Ge.setAttribute(Ye,Je)}Ge.setAttribute(HELMET_ATTRIBUTE,"true"),ze.some((Ye,Xe)=>(He=Xe,Ge.isEqualNode(Ye)))?ze.splice(He,1):qe.push(Ge)}),ze.forEach(We=>We.parentNode?.removeChild(We)),qe.forEach(We=>Be.appendChild(We)),{oldTags:ze,newTags:qe}},updateAttributes=(Ve,$e)=>{const Be=document.getElementsByTagName(Ve)[0];if(!Be)return;const Ue=Be.getAttribute(HELMET_ATTRIBUTE),ze=Ue?Ue.split(","):[],qe=[...ze],He=Object.keys($e);for(const We of He){const Ge=$e[We]||"";Be.getAttribute(We)!==Ge&&Be.setAttribute(We,Ge),ze.indexOf(We)===-1&&ze.push(We);const Ye=qe.indexOf(We);Ye!==-1&&qe.splice(Ye,1)}for(let We=qe.length-1;We>=0;We-=1)Be.removeAttribute(qe[We]);ze.length===qe.length?Be.removeAttribute(HELMET_ATTRIBUTE):Be.getAttribute(HELMET_ATTRIBUTE)!==He.join(",")&&Be.setAttribute(HELMET_ATTRIBUTE,He.join(","))},updateTitle=(Ve,$e)=>{typeof Ve<"u"&&document.title!==Ve&&(document.title=flattenArray(Ve)),updateAttributes("title",$e)},commitTagChanges=(Ve,$e)=>{const{baseTag:Be,bodyAttributes:Ue,htmlAttributes:ze,linkTags:qe,metaTags:He,noscriptTags:We,onChangeClientState:Ge,scriptTags:Ye,styleTags:Xe,title:Je,titleAttributes:er}=Ve;updateAttributes("body",Ue),updateAttributes("html",ze),updateTitle(Je,er);const Ze={baseTag:updateTags("base",Be),linkTags:updateTags("link",qe),metaTags:updateTags("meta",He),noscriptTags:updateTags("noscript",We),scriptTags:updateTags("script",Ye),styleTags:updateTags("style",Xe)},rr={},nr={};Object.keys(Ze).forEach(ar=>{const{newTags:sr,oldTags:lr}=Ze[ar];sr.length&&(rr[ar]=sr),lr.length&&(nr[ar]=Ze[ar].oldTags)}),$e&&$e(),Ge(Ve,rr,nr)},_helmetCallback=null,handleStateChangeOnClient=Ve=>{_helmetCallback&&cancelAnimationFrame(_helmetCallback),Ve.defer?_helmetCallback=requestAnimationFrame(()=>{commitTagChanges(Ve,()=>{_helmetCallback=null})}):(commitTagChanges(Ve),_helmetCallback=null)},client_default=handleStateChangeOnClient,HelmetDispatcher=class extends reactExports.Component{rendered=!1;shouldComponentUpdate(Ve){return!shallowEqual$1(Ve,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:Ve}=this.props.context;Ve.remove(this),this.emitChange()}emitChange(){const{helmetInstances:Ve,setHelmet:$e}=this.props.context;let Be=null;const Ue=reducePropsToState(Ve.get().map(ze=>{const qe={...ze.props};return delete qe.context,qe}));HelmetProvider.canUseDOM?client_default(Ue):server_default&&(Be=server_default(Ue)),$e(Be)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:Ve}=this.props.context;Ve.add(this),this.emitChange()}render(){return this.init(),null}},Helmet=class extends reactExports.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(Ve){return!fastCompare(without(this.props,"helmetData"),without(Ve,"helmetData"))}mapNestedChildrenToProps(Ve,$e){if(!$e)return null;switch(Ve.type){case"script":case"noscript":return{innerHTML:$e};case"style":return{cssText:$e};default:throw new Error(`<${Ve.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(Ve,$e,Be,Ue){return{...$e,[Ve.type]:[...$e[Ve.type]||[],{...Be,...this.mapNestedChildrenToProps(Ve,Ue)}]}}mapObjectTypeChildren(Ve,$e,Be,Ue){switch(Ve.type){case"title":return{...$e,[Ve.type]:Ue,titleAttributes:{...Be}};case"body":return{...$e,bodyAttributes:{...Be}};case"html":return{...$e,htmlAttributes:{...Be}};default:return{...$e,[Ve.type]:{...Be}}}}mapArrayTypeChildrenToProps(Ve,$e){let Be={...$e};return Object.keys(Ve).forEach(Ue=>{Be={...Be,[Ue]:Ve[Ue]}}),Be}warnOnInvalidChildren(Ve,$e){return invariant$1(VALID_TAG_NAMES.some(Be=>Ve.type===Be),typeof Ve.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${Ve.type}> elements. Refer to our API for more information.`),invariant$1(!$e||typeof $e=="string"||Array.isArray($e)&&!$e.some(Be=>typeof Be!="string"),`Helmet expects a string as a child of <${Ve.type}>. Did you forget to wrap your children in braces? ( <${Ve.type}>{\`\`}</${Ve.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(Ve,$e){let Be={};return React.Children.forEach(Ve,Ue=>{if(!Ue||!Ue.props)return;const{children:ze,...qe}=Ue.props,He=Object.keys(qe).reduce((Ge,Ye)=>(Ge[HTML_TAG_MAP[Ye]||Ye]=qe[Ye],Ge),{});let{type:We}=Ue;switch(typeof We=="symbol"?We=We.toString():this.warnOnInvalidChildren(Ue,ze),We){case"Symbol(react.fragment)":$e=this.mapChildrenToProps(ze,$e);break;case"link":case"meta":case"noscript":case"script":case"style":Be=this.flattenArrayTypeChildren(Ue,Be,He,ze);break;default:$e=this.mapObjectTypeChildren(Ue,$e,He,ze);break}}),this.mapArrayTypeChildrenToProps(Be,$e)}render(){const{children:Ve,...$e}=this.props;let Be={...$e},{helmetData:Ue}=$e;if(Ve&&(Be=this.mapChildrenToProps(Ve,Be)),Ue&&!(Ue instanceof HelmetData)){const ze=Ue;Ue=new HelmetData(ze.context,!0),delete Be.helmetData}return Ue?React.createElement(HelmetDispatcher,{...Be,context:Ue.value}):React.createElement(Context.Consumer,null,ze=>React.createElement(HelmetDispatcher,{...Be,context:ze}))}};const Meta=({title:Ve,description:$e,keywords:Be,canonicalUrl:Ue,jsonLd:ze,openGraph:qe,twitterCard:He,noindex:We,locale:Ge="bn_BD"})=>{reactExports.useEffect(()=>{console.log("[Meta] render",{title:Ve,canonicalUrl:Ue})},[Ve,Ue]);const Ye=qe||{},Xe=He||{},Je=We?"noindex,nofollow":"index,follow";return jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("title",{children:Ve}),$e&&jsxRuntimeExports.jsx("meta",{name:"description",content:$e}),Be&&jsxRuntimeExports.jsx("meta",{name:"keywords",content:Be}),Ue&&jsxRuntimeExports.jsx("link",{rel:"canonical",href:Ue}),jsxRuntimeExports.jsx("meta",{name:"robots",content:Je}),jsxRuntimeExports.jsx("meta",{property:"og:type",content:Ye.type||"website"}),jsxRuntimeExports.jsx("meta",{property:"og:title",content:Ye.title||Ve}),$e&&jsxRuntimeExports.jsx("meta",{property:"og:description",content:Ye.description||$e}),Ue&&jsxRuntimeExports.jsx("meta",{property:"og:url",content:Ye.url||Ue}),Ye.image&&jsxRuntimeExports.jsx("meta",{property:"og:image",content:Ye.image}),jsxRuntimeExports.jsx("meta",{property:"og:site_name",content:Ye.siteName||"  "}),jsxRuntimeExports.jsx("meta",{property:"og:locale",content:Ye.locale||Ge}),jsxRuntimeExports.jsx("meta",{name:"twitter:card",content:Xe.card||"summary_large_image"}),jsxRuntimeExports.jsx("meta",{name:"twitter:title",content:Xe.title||Ve}),$e&&jsxRuntimeExports.jsx("meta",{name:"twitter:description",content:Xe.description||$e}),Xe.image&&jsxRuntimeExports.jsx("meta",{name:"twitter:image",content:Xe.image}),Xe.site&&jsxRuntimeExports.jsx("meta",{name:"twitter:site",content:Xe.site}),ze&&jsxRuntimeExports.jsx("script",{type:"application/ld+json",children:JSON.stringify(ze)})]})};console.log("[ModeIndicator] File loaded");const ModeIndicator=()=>{const{mode:Ve,isDemo:$e}=useMode();return Ve==="production"?null:jsxRuntimeExports.jsxs("div",{className:`mode-indicator ${Ve}`,children:[jsxRuntimeExports.jsx("div",{className:"mode-indicator-content",children:$e()?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TestTube,{size:16}),jsxRuntimeExports.jsx("span",{className:"mode-text",children:" "})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Database,{size:16}),jsxRuntimeExports.jsx("span",{className:"mode-text",children:""})]})}),jsxRuntimeExports.jsx("div",{className:"mode-indicator-pulse"})]})};console.log("[DemoRoleSwitcher] File loaded");const DemoRoleSwitcher=()=>{const{user:Ve,switchRole:$e}=useAuth(),{isDemo:Be}=useMode();useNavigate();const[Ue,ze]=reactExports.useState(!1);if(!Be()||!Ve)return null;const qe=[{id:"admin",label:"",icon:Shield,color:"#667eea"},{id:"cashier",label:"",icon:Wallet,color:"#f093fb"},{id:"member",label:"",icon:User,color:"#10b981"}],He=qe.find(Ge=>Ge.id===Ve.role),We=Ge=>{Ge!==Ve.role&&(localStorage.setItem("somiti_role",Ge),console.log("[DemoRoleSwitcher] Switching to",Ge,"- reloading page"),window.location.href=`/#/${Ge}`,window.location.reload(),ze(!1))};return jsxRuntimeExports.jsxs("div",{className:"demo-role-switcher",children:[jsxRuntimeExports.jsxs("button",{className:"demo-role-button",onClick:()=>ze(!Ue),style:{"--role-color":He?.color},children:[jsxRuntimeExports.jsx(RefreshCw,{size:18,className:Ue?"spinning":""}),jsxRuntimeExports.jsx("span",{className:"role-label",children:He?.label}),jsxRuntimeExports.jsx("span",{className:"demo-badge",children:""})]}),Ue&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"role-menu-backdrop",onClick:()=>ze(!1)}),jsxRuntimeExports.jsxs("div",{className:"role-menu",children:[jsxRuntimeExports.jsx("div",{className:"role-menu-header",children:jsxRuntimeExports.jsx("span",{children:"  "})}),qe.map(Ge=>{const Ye=Ge.icon,Xe=Ge.id===Ve.role;return jsxRuntimeExports.jsxs("button",{className:`role-menu-item ${Xe?"active":""}`,onClick:()=>We(Ge.id),style:{"--role-color":Ge.color},disabled:Xe,children:[jsxRuntimeExports.jsx(Ye,{size:20}),jsxRuntimeExports.jsx("span",{children:Ge.label}),Xe&&jsxRuntimeExports.jsx("span",{className:"active-indicator",children:""})]},Ge.id)})]})]})]})},Layout=({children:Ve,title:$e,description:Be,keywords:Ue,canonicalUrl:ze,jsonLd:qe})=>{const{user:He}=useAuth(),[We,Ge]=reactExports.useState(!1),[Ye,Xe]=reactExports.useState(!1);return useLocation(),useSidebarLogic(He?.role),reactExports.useEffect(()=>{const Je=()=>{Ge(window.innerWidth<768)};return Je(),window.addEventListener("resize",Je),()=>window.removeEventListener("resize",Je)},[]),jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-background",children:[console.log("Layout: Toaster mounted"),jsxRuntimeExports.jsx(Fe$1,{position:"top-right",toastOptions:{duration:3e3}}),jsxRuntimeExports.jsx(Meta,{title:$e||"   - Fulmuri Youth Foundation",description:Be||"  -              ",keywords:Ue||"  , Fulmuri Youth Foundation, Fulmuri, Youth Foundation, Community Development, Fulmuri Gram",canonicalUrl:ze||"https://fulmurigram.site/",jsonLd:qe}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx("div",{style:{margin:0,padding:0},children:jsxRuntimeExports.jsx(PrimarySearchAppBar,{userRole:He?.role,isMobile:We})}),jsxRuntimeExports.jsx(ModeIndicator,{}),jsxRuntimeExports.jsx(DemoRoleSwitcher,{}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-auto",children:[jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto",children:Ve}),jsxRuntimeExports.jsx(Footer,{})]})]}),jsxRuntimeExports.jsx(BottomNavigation,{userRole:He?.role,onOpenAddTransaction:()=>Xe(!0)}),jsxRuntimeExports.jsx(AddTransaction,{isOpen:Ye,onClose:()=>Xe(!1)})]})},__vite_import_meta_env__={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://somiti-auth-backend.netlify.app/.netlify/functions/auth",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx6b3N2dmJ6dm9wYW1ramN1enB5Iiwicm9sZSI6ImFub24iLC",VITE_SUPABASE_URL:"https://lzosvvbzvopamkjcuzpy.supabase.co"};function getPublicEnv(Ve){const $e=__vite_import_meta_env__?.[Ve];if($e!=null&&$e!=="")return console.log("[env] using import.meta.env for",Ve),$e;const Be=typeof window<"u"&&window.__ENV__&&window.__ENV__[Ve];if(Be!=null&&Be!=="")return console.log("[env] using window.__ENV__ for",Ve),Be;const Ue=typeof window<"u"&&window[Ve];if(Ue!=null&&Ue!=="")return console.log("[env] using window global for",Ve),Ue;console.error("[env] missing key",Ve)}const API_BASE_URL=getPublicEnv("VITE_API_BASE_URL");async function readJsonOrText(Ve){try{return{json:await Ve.json(),text:null}}catch{return{json:null,text:await Ve.text()}}}const registerUser=async(Ve,$e)=>{try{if(!API_BASE_URL)throw console.error("Missing VITE_API_BASE_URL"),new Error("API base URL missing");console.log("Register request",API_BASE_URL);const Be=await fetch(`${API_BASE_URL}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Ve,password:$e})}),Ue=await readJsonOrText(Be);if(!Be.ok){const ze=Ue.json?.message||Ue.text||"Registration failed";throw console.error("Registration failed",ze),new Error(ze)}if(!Ue.json)throw console.error("Registration parse error",Ue.text?.slice(0,200)),new Error("Registration response is not JSON");return Ue.json}catch(Be){throw console.error("Error registering user:",Be),Be}},loginUser=async(Ve,$e)=>{try{if(!API_BASE_URL)throw console.error("Missing VITE_API_BASE_URL"),new Error("API base URL missing");console.log("Login request",API_BASE_URL);const Be=await fetch(`${API_BASE_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Ve,password:$e})}),Ue=await readJsonOrText(Be);if(!Be.ok){const ze=Ue.json?.message||Ue.text||"Login failed";throw console.error("Login failed",ze),new Error(ze)}if(!Ue.json)throw console.error("Login parse error",Ue.text?.slice(0,200)),new Error("Login response is not JSON");return Ue.json}catch(Be){throw console.error("Login error:",Be),Be}};console.log("[BubbleBackground] File loaded");const defaultColors={first:"18,113,255",second:"221,74,255",third:"0,220,255",fourth:"200,50,50",fifth:"180,180,50",sixth:"140,100,255"},BubbleBackground=({interactive:Ve=!1,colors:$e=defaultColors,transition:Be={stiffness:100,damping:20},isDark:Ue=!1,children:ze,...qe})=>{const He=reactExports.useRef(null);reactExports.useEffect(()=>{const Ge=He.current;if(!Ge)return;let Ye=0,Xe=0,Je=null,er=null;const Ze=sr=>{const lr=Ge.getBoundingClientRect(),or=(sr.clientX-lr.left)/lr.width,cr=(sr.clientY-lr.top)/lr.height;Ye=or*2-1,Xe=cr*2-1,Je||(Je=requestAnimationFrame(rr))},rr=()=>{Je=null,Ge.style.setProperty("--mx",Ye.toFixed(3)),Ge.style.setProperty("--my",Xe.toFixed(3))},nr=()=>{if(er)return;console.log("[BubbleBackground] Touch drift started");let sr=0;const lr=()=>{sr+=.016;const or=Math.sin(sr*.6)*.15,cr=Math.cos(sr*.8)*.15;Ge.style.setProperty("--mx",or.toFixed(3)),Ge.style.setProperty("--my",cr.toFixed(3)),er=requestAnimationFrame(lr)};er=requestAnimationFrame(lr)},ar=()=>{nr()};return Ve&&(Ge.addEventListener("mousemove",Ze),Ge.addEventListener("touchstart",ar,{passive:!0})),console.log("[BubbleBackground] Mounted"),()=>{Ve&&Ge.removeEventListener("mousemove",Ze),Ve&&Ge.removeEventListener("touchstart",ar),Je&&cancelAnimationFrame(Je),er&&cancelAnimationFrame(er)}},[Ve,Be]);const We={"--c1":$e.first,"--c2":$e.second,"--c3":$e.third,"--c4":$e.fourth,"--c5":$e.fifth,"--c6":$e.sixth};return jsxRuntimeExports.jsxs("div",{ref:He,className:`bubble-background-root ${Ue?"dark":""}`,style:We,...qe,children:[jsxRuntimeExports.jsxs("div",{className:"bubble-background",children:[jsxRuntimeExports.jsx("div",{className:"bubble b1"}),jsxRuntimeExports.jsx("div",{className:"bubble b2"}),jsxRuntimeExports.jsx("div",{className:"bubble b3"}),jsxRuntimeExports.jsx("div",{className:"bubble b4"}),jsxRuntimeExports.jsx("div",{className:"bubble b5"}),jsxRuntimeExports.jsx("div",{className:"bubble b6"})]}),jsxRuntimeExports.jsx("div",{className:"bubble-content",children:ze})]})};console.log("[Login] File loaded");const Login=()=>{const[Ve,$e]=reactExports.useState({email:"",password:""}),[Be,Ue]=reactExports.useState(!1),[ze,qe]=reactExports.useState(!1),[He,We]=reactExports.useState(""),{isAuthenticated:Ge,login:Ye,user:Xe}=useAuth(),Je=useNavigate();if(reactExports.useEffect(()=>{const rr=()=>{console.log("[Login] viewport metrics",{width:window.innerWidth,height:window.innerHeight,dpr:window.devicePixelRatio})};return rr(),window.addEventListener("resize",rr),()=>{window.removeEventListener("resize",rr)}},[]),Ge()){const rr=Xe?.role?`/${Xe.role}`:"/member";return console.log("[Login] Already authenticated, redirecting to:",rr),jsxRuntimeExports.jsx(Navigate,{to:rr,replace:!0})}const er=rr=>{const{name:nr,value:ar}=rr.target;$e(sr=>({...sr,[nr]:ar})),He&&We("")},Ze=async rr=>{if(rr.preventDefault(),!Ve.email||!Ve.password){We("   ");return}qe(!0),We("");try{console.log("[Login] Submitting login with email:",Ve.email);const nr=await loginUser(Ve.email,Ve.password);if(nr.success){const ar=await Ye(nr.token,nr.user_id);if(ar.user){const{role:sr}=ar.user;Je(`/${sr}`,{replace:!0}),console.log("[Login] Login successful; navigating to dashboard")}else We(ar.error||"  ")}else We(nr.message||"  ")}catch(nr){We(nr.message||"  ")}finally{qe(!1)}};return console.log("[Login] Bubble background enabled"),jsxRuntimeExports.jsx(BubbleBackground,{interactive:!0,colors:{first:"18,113,255",second:"221,74,255",third:"0,220,255",fourth:"200,50,50",fifth:"180,180,50",sixth:"140,100,255"},children:jsxRuntimeExports.jsxs("div",{className:"login-container",children:[jsxRuntimeExports.jsx(Meta,{title:" -   ",description:"  -   "}),jsxRuntimeExports.jsxs("div",{className:"login-wrapper",children:[jsxRuntimeExports.jsx("div",{className:"login-header",children:jsxRuntimeExports.jsx("div",{className:"welcome-animation",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsx("lottie-player",{src:"/Welcome_login.json",background:"transparent",speed:"1",style:{width:"300px",height:"90px"},loop:!0,autoplay:!0})})}),jsxRuntimeExports.jsxs("div",{className:"login-form-container",children:[jsxRuntimeExports.jsx("div",{className:"login-logo",style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:jsxRuntimeExports.jsx("lottie-player",{src:"/login_animation.json",background:"transparent",speed:"1",style:{width:"100px",height:"100px"},loop:!0,autoplay:!0})}),jsxRuntimeExports.jsxs("form",{onSubmit:Ze,className:"login-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"form-label",children:" "}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",value:Ve.email,onChange:er,className:"form-input",placeholder:"  ",disabled:ze,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"form-label",children:""}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:Be?"text":"password",id:"password",name:"password",value:Ve.password,onChange:er,className:"form-input",placeholder:"  ",disabled:ze,required:!0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ue(!Be),className:"password-toggle",children:Be?jsxRuntimeExports.jsx(EyeOff,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Eye,{className:"h-5 w-5"})})]})]}),He&&jsxRuntimeExports.jsxs("div",{className:"error-message",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 error-icon"}),jsxRuntimeExports.jsx("span",{children:He})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{type:"submit",className:"login-button",disabled:ze,children:ze?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-5 w-5 animate-spin"}),"   ..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LogIn,{className:"h-5 w-5"}),"  "]})})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"bengali-content",children:jsxRuntimeExports.jsx("p",{children:"    , ,    ,                        "})})]})})},scriptRel="modulepreload",assetsURL=function(Ve){return"/"+Ve},seen={},__vitePreload=function($e,Be,Ue){let ze=Promise.resolve();if(Be&&Be.length>0){let Ge=function(Ye){return Promise.all(Ye.map(Xe=>Promise.resolve(Xe).then(Je=>({status:"fulfilled",value:Je}),Je=>({status:"rejected",reason:Je}))))};document.getElementsByTagName("link");const He=document.querySelector("meta[property=csp-nonce]"),We=He?.nonce||He?.getAttribute("nonce");ze=Ge(Be.map(Ye=>{if(Ye=assetsURL(Ye),Ye in seen)return;seen[Ye]=!0;const Xe=Ye.endsWith(".css"),Je=Xe?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Ye}"]${Je}`))return;const er=document.createElement("link");if(er.rel=Xe?"stylesheet":scriptRel,Xe||(er.as="script"),er.crossOrigin="",er.href=Ye,We&&er.setAttribute("nonce",We),document.head.appendChild(er),Xe)return new Promise((Ze,rr)=>{er.addEventListener("load",Ze),er.addEventListener("error",()=>rr(new Error(`Unable to preload CSS for ${Ye}`)))})}))}function qe(He){const We=new Event("vite:preloadError",{cancelable:!0});if(We.payload=He,window.dispatchEvent(We),!We.defaultPrevented)throw He}return ze.then(He=>{for(const We of He||[])We.status==="rejected"&&qe(We.reason);return $e().catch(qe)})};console.log("[ThemeSwitcher] File loaded");function ThemeSwitcher({isDark:Ve,onToggle:$e}){const[Be,Ue]=reactExports.useState(!1);reactExports.useEffect(()=>{Ue(!0),console.log("[ThemeSwitcher] mounted")},[]);const ze=()=>{console.log("[ThemeSwitcher] toggle",{next:!Ve}),$e?.(!Ve)};return Be?jsxRuntimeExports.jsx("div",{className:"theme-switcher-root",role:"switch","aria-checked":Ve,"aria-label":`Switch to ${Ve?"light":"dark"} mode`,children:jsxRuntimeExports.jsxs("button",{className:`ts-button ${Ve?"ts-button--dark":"ts-button--light"}`,onClick:ze,onMouseEnter:()=>console.log("[ThemeSwitcher] hover"),onMouseLeave:()=>console.log("[ThemeSwitcher] leave"),children:[jsxRuntimeExports.jsx("div",{className:`ts-track ${Ve?"ts-track--dark":"ts-track--light"}`}),jsxRuntimeExports.jsx("div",{className:"ts-overlay ts-overlay--gloss"}),jsxRuntimeExports.jsx("div",{className:"ts-overlay ts-overlay--rim"}),jsxRuntimeExports.jsxs("div",{className:"ts-icons",children:[jsxRuntimeExports.jsx(Sun,{size:16,className:Ve?"ts-sun--dim":"ts-sun--bright"}),jsxRuntimeExports.jsx(Moon,{size:16,className:Ve?"ts-moon--bright":"ts-moon--dim"})]}),jsxRuntimeExports.jsxs("div",{className:`ts-thumb ${Ve?"ts-thumb--right":"ts-thumb--left"}`,children:[jsxRuntimeExports.jsx("div",{className:"ts-thumb-gloss"}),jsxRuntimeExports.jsx("div",{className:`ts-particle ${Ve?"ts-particle--dark":"ts-particle--light"}`}),jsxRuntimeExports.jsx("div",{className:`ts-particle ts-particle--delay ${Ve?"ts-particle--dark":"ts-particle--light"}`}),jsxRuntimeExports.jsx("div",{className:`ts-particle ts-particle--delay2 ${Ve?"ts-particle--dark":"ts-particle--light"}`}),jsxRuntimeExports.jsx("div",{className:"ts-thumb-icon",children:Ve?jsxRuntimeExports.jsx(Moon,{size:16,className:"ts-icon--moon"}):jsxRuntimeExports.jsx(Sun,{size:16,className:"ts-icon--sun"})})]})]})}):jsxRuntimeExports.jsx("div",{className:"theme-switcher-root","aria-hidden":!0,children:jsxRuntimeExports.jsx("div",{className:"ts-track ts-track--light"})})}var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&(function(Ve,$e){module.exports=$e()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function($e){_useWebWorker=!!$e},getWebWorker=function(){return _useWebWorker},setLocationHref=function($e){locationHref=$e},getLocationHref=function(){return locationHref};function createTag(Ve){return document.createElement(Ve)}function extendPrototype(Ve,$e){var Be,Ue=Ve.length,ze;for(Be=0;Be<Ue;Be+=1){ze=Ve[Be].prototype;for(var qe in ze)Object.prototype.hasOwnProperty.call(ze,qe)&&($e.prototype[qe]=ze[qe])}}function getDescriptor(Ve,$e){return Object.getOwnPropertyDescriptor(Ve,$e)}function createProxyFunction(Ve){function $e(){}return $e.prototype=Ve,$e}var audioControllerFactory=(function(){function Ve($e){this.audios=[],this.audioFactory=$e,this._volume=1,this._isMuted=!1}return Ve.prototype={addAudio:function(Be){this.audios.push(Be)},pause:function(){var Be,Ue=this.audios.length;for(Be=0;Be<Ue;Be+=1)this.audios[Be].pause()},resume:function(){var Be,Ue=this.audios.length;for(Be=0;Be<Ue;Be+=1)this.audios[Be].resume()},setRate:function(Be){var Ue,ze=this.audios.length;for(Ue=0;Ue<ze;Ue+=1)this.audios[Ue].setRate(Be)},createAudio:function(Be){return this.audioFactory?this.audioFactory(Be):window.Howl?new window.Howl({src:[Be]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(Be){this.audioFactory=Be},setVolume:function(Be){this._volume=Be,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var Be,Ue=this.audios.length;for(Be=0;Be<Ue;Be+=1)this.audios[Be].volume(this._volume*(this._isMuted?0:1))}},function(){return new Ve}})(),createTypedArray=(function(){function Ve(Be,Ue){var ze=0,qe=[],He;switch(Be){case"int16":case"uint8c":He=1;break;default:He=1.1;break}for(ze=0;ze<Ue;ze+=1)qe.push(He);return qe}function $e(Be,Ue){return Be==="float32"?new Float32Array(Ue):Be==="int16"?new Int16Array(Ue):Be==="uint8c"?new Uint8ClampedArray(Ue):Ve(Be,Ue)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?$e:Ve})();function createSizedArray(Ve){return Array.apply(null,{length:Ve})}function _typeof$6(Ve){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_typeof$6(Ve)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var Ve=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],$e,Be=Ve.length;for($e=0;$e<Be;$e+=1)BMMath[Ve[$e]]=Math[Ve[$e]]})(),BMMath.random=Math.random,BMMath.abs=function(Ve){var $e=_typeof$6(Ve);if($e==="object"&&Ve.length){var Be=createSizedArray(Ve.length),Ue,ze=Ve.length;for(Ue=0;Ue<ze;Ue+=1)Be[Ue]=Math.abs(Ve[Ue]);return Be}return Math.abs(Ve)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(Ve){Ve.style.position="absolute",Ve.style.top=0,Ve.style.left=0,Ve.style.display="block",Ve.style.transformOrigin="0 0",Ve.style.webkitTransformOrigin="0 0",Ve.style.backfaceVisibility="visible",Ve.style.webkitBackfaceVisibility="visible",Ve.style.transformStyle="preserve-3d",Ve.style.webkitTransformStyle="preserve-3d",Ve.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(Ve,$e,Be,Ue){this.type=Ve,this.currentTime=$e,this.totalTime=Be,this.direction=Ue<0?-1:1}function BMCompleteEvent(Ve,$e){this.type=Ve,this.direction=$e<0?-1:1}function BMCompleteLoopEvent(Ve,$e,Be,Ue){this.type=Ve,this.currentLoop=Be,this.totalLoops=$e,this.direction=Ue<0?-1:1}function BMSegmentStartEvent(Ve,$e,Be){this.type=Ve,this.firstFrame=$e,this.totalFrames=Be}function BMDestroyEvent(Ve,$e){this.type=Ve,this.target=$e}function BMRenderFrameErrorEvent(Ve,$e){this.type="renderFrameError",this.nativeError=Ve,this.currentTime=$e}function BMConfigErrorEvent(Ve){this.type="configError",this.nativeError=Ve}var createElementID=(function(){var Ve=0;return function(){return Ve+=1,idPrefix$1+"__lottie_element_"+Ve}})();function HSVtoRGB(Ve,$e,Be){var Ue,ze,qe,He,We,Ge,Ye,Xe;switch(He=Math.floor(Ve*6),We=Ve*6-He,Ge=Be*(1-$e),Ye=Be*(1-We*$e),Xe=Be*(1-(1-We)*$e),He%6){case 0:Ue=Be,ze=Xe,qe=Ge;break;case 1:Ue=Ye,ze=Be,qe=Ge;break;case 2:Ue=Ge,ze=Be,qe=Xe;break;case 3:Ue=Ge,ze=Ye,qe=Be;break;case 4:Ue=Xe,ze=Ge,qe=Be;break;case 5:Ue=Be,ze=Ge,qe=Ye;break}return[Ue,ze,qe]}function RGBtoHSV(Ve,$e,Be){var Ue=Math.max(Ve,$e,Be),ze=Math.min(Ve,$e,Be),qe=Ue-ze,He,We=Ue===0?0:qe/Ue,Ge=Ue/255;switch(Ue){case ze:He=0;break;case Ve:He=$e-Be+qe*($e<Be?6:0),He/=6*qe;break;case $e:He=Be-Ve+qe*2,He/=6*qe;break;case Be:He=Ve-$e+qe*4,He/=6*qe;break}return[He,We,Ge]}function addSaturationToRGB(Ve,$e){var Be=RGBtoHSV(Ve[0]*255,Ve[1]*255,Ve[2]*255);return Be[1]+=$e,Be[1]>1?Be[1]=1:Be[1]<=0&&(Be[1]=0),HSVtoRGB(Be[0],Be[1],Be[2])}function addBrightnessToRGB(Ve,$e){var Be=RGBtoHSV(Ve[0]*255,Ve[1]*255,Ve[2]*255);return Be[2]+=$e,Be[2]>1?Be[2]=1:Be[2]<0&&(Be[2]=0),HSVtoRGB(Be[0],Be[1],Be[2])}function addHueToRGB(Ve,$e){var Be=RGBtoHSV(Ve[0]*255,Ve[1]*255,Ve[2]*255);return Be[0]+=$e/360,Be[0]>1?Be[0]-=1:Be[0]<0&&(Be[0]+=1),HSVtoRGB(Be[0],Be[1],Be[2])}var rgbToHex=(function(){var Ve=[],$e,Be;for($e=0;$e<256;$e+=1)Be=$e.toString(16),Ve[$e]=Be.length===1?"0"+Be:Be;return function(Ue,ze,qe){return Ue<0&&(Ue=0),ze<0&&(ze=0),qe<0&&(qe=0),"#"+Ve[Ue]+Ve[ze]+Ve[qe]}})(),setSubframeEnabled=function($e){subframeEnabled=!!$e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function($e){expressionsPlugin=$e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function($e){expressionsInterfaces=$e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function($e){defaultCurveSegments=$e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function($e){idPrefix$1=$e};function createNS(Ve){return document.createElementNS(svgNS,Ve)}function _typeof$5(Ve){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_typeof$5(Ve)}var dataManager=(function(){var Ve=1,$e=[],Be,Ue,ze={onmessage:function(){},postMessage:function(Ze){Be({data:Ze})}},qe={postMessage:function(Ze){ze.onmessage({data:Ze})}};function He(er){if(window.Worker&&window.Blob&&getWebWorker()){var Ze=new Blob(["var _workerSelf = self; self.onmessage = ",er.toString()],{type:"text/javascript"}),rr=URL.createObjectURL(Ze);return new Worker(rr)}return Be=er,ze}function We(){Ue||(Ue=He(function(Ze){function rr(){function ar(Or,Er){var Nr,wr,Ar=Or.length,Lr,Pr,Tr,Vr;for(wr=0;wr<Ar;wr+=1)if(Nr=Or[wr],"ks"in Nr&&!Nr.completed){if(Nr.completed=!0,Nr.hasMask){var Ur=Nr.masksProperties;for(Pr=Ur.length,Lr=0;Lr<Pr;Lr+=1)if(Ur[Lr].pt.k.i)hr(Ur[Lr].pt.k);else for(Vr=Ur[Lr].pt.k.length,Tr=0;Tr<Vr;Tr+=1)Ur[Lr].pt.k[Tr].s&&hr(Ur[Lr].pt.k[Tr].s[0]),Ur[Lr].pt.k[Tr].e&&hr(Ur[Lr].pt.k[Tr].e[0])}Nr.ty===0?(Nr.layers=or(Nr.refId,Er),ar(Nr.layers,Er)):Nr.ty===4?cr(Nr.shapes):Nr.ty===5&&Sr(Nr)}}function sr(Or,Er){if(Or){var Nr=0,wr=Or.length;for(Nr=0;Nr<wr;Nr+=1)Or[Nr].t===1&&(Or[Nr].data.layers=or(Or[Nr].data.refId,Er),ar(Or[Nr].data.layers,Er))}}function lr(Or,Er){for(var Nr=0,wr=Er.length;Nr<wr;){if(Er[Nr].id===Or)return Er[Nr];Nr+=1}return null}function or(Or,Er){var Nr=lr(Or,Er);return Nr?Nr.layers.__used?JSON.parse(JSON.stringify(Nr.layers)):(Nr.layers.__used=!0,Nr.layers):null}function cr(Or){var Er,Nr=Or.length,wr,Ar;for(Er=Nr-1;Er>=0;Er-=1)if(Or[Er].ty==="sh")if(Or[Er].ks.k.i)hr(Or[Er].ks.k);else for(Ar=Or[Er].ks.k.length,wr=0;wr<Ar;wr+=1)Or[Er].ks.k[wr].s&&hr(Or[Er].ks.k[wr].s[0]),Or[Er].ks.k[wr].e&&hr(Or[Er].ks.k[wr].e[0]);else Or[Er].ty==="gr"&&cr(Or[Er].it)}function hr(Or){var Er,Nr=Or.i.length;for(Er=0;Er<Nr;Er+=1)Or.i[Er][0]+=Or.v[Er][0],Or.i[Er][1]+=Or.v[Er][1],Or.o[Er][0]+=Or.v[Er][0],Or.o[Er][1]+=Or.v[Er][1]}function yr(Or,Er){var Nr=Er?Er.split("."):[100,100,100];return Or[0]>Nr[0]?!0:Nr[0]>Or[0]?!1:Or[1]>Nr[1]?!0:Nr[1]>Or[1]?!1:Or[2]>Nr[2]?!0:Nr[2]>Or[2]?!1:null}var mr=(function(){var Or=[4,4,14];function Er(wr){var Ar=wr.t.d;wr.t.d={k:[{s:Ar,t:0}]}}function Nr(wr){var Ar,Lr=wr.length;for(Ar=0;Ar<Lr;Ar+=1)wr[Ar].ty===5&&Er(wr[Ar])}return function(wr){if(yr(Or,wr.v)&&(Nr(wr.layers),wr.assets)){var Ar,Lr=wr.assets.length;for(Ar=0;Ar<Lr;Ar+=1)wr.assets[Ar].layers&&Nr(wr.assets[Ar].layers)}}})(),vr=(function(){var Or=[4,7,99];return function(Er){if(Er.chars&&!yr(Or,Er.v)){var Nr,wr=Er.chars.length;for(Nr=0;Nr<wr;Nr+=1){var Ar=Er.chars[Nr];Ar.data&&Ar.data.shapes&&(cr(Ar.data.shapes),Ar.data.ip=0,Ar.data.op=99999,Ar.data.st=0,Ar.data.sr=1,Ar.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Er.chars[Nr].t||(Ar.data.shapes.push({ty:"no"}),Ar.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),_r=(function(){var Or=[5,7,15];function Er(wr){var Ar=wr.t.p;typeof Ar.a=="number"&&(Ar.a={a:0,k:Ar.a}),typeof Ar.p=="number"&&(Ar.p={a:0,k:Ar.p}),typeof Ar.r=="number"&&(Ar.r={a:0,k:Ar.r})}function Nr(wr){var Ar,Lr=wr.length;for(Ar=0;Ar<Lr;Ar+=1)wr[Ar].ty===5&&Er(wr[Ar])}return function(wr){if(yr(Or,wr.v)&&(Nr(wr.layers),wr.assets)){var Ar,Lr=wr.assets.length;for(Ar=0;Ar<Lr;Ar+=1)wr.assets[Ar].layers&&Nr(wr.assets[Ar].layers)}}})(),Cr=(function(){var Or=[4,1,9];function Er(wr){var Ar,Lr=wr.length,Pr,Tr;for(Ar=0;Ar<Lr;Ar+=1)if(wr[Ar].ty==="gr")Er(wr[Ar].it);else if(wr[Ar].ty==="fl"||wr[Ar].ty==="st")if(wr[Ar].c.k&&wr[Ar].c.k[0].i)for(Tr=wr[Ar].c.k.length,Pr=0;Pr<Tr;Pr+=1)wr[Ar].c.k[Pr].s&&(wr[Ar].c.k[Pr].s[0]/=255,wr[Ar].c.k[Pr].s[1]/=255,wr[Ar].c.k[Pr].s[2]/=255,wr[Ar].c.k[Pr].s[3]/=255),wr[Ar].c.k[Pr].e&&(wr[Ar].c.k[Pr].e[0]/=255,wr[Ar].c.k[Pr].e[1]/=255,wr[Ar].c.k[Pr].e[2]/=255,wr[Ar].c.k[Pr].e[3]/=255);else wr[Ar].c.k[0]/=255,wr[Ar].c.k[1]/=255,wr[Ar].c.k[2]/=255,wr[Ar].c.k[3]/=255}function Nr(wr){var Ar,Lr=wr.length;for(Ar=0;Ar<Lr;Ar+=1)wr[Ar].ty===4&&Er(wr[Ar].shapes)}return function(wr){if(yr(Or,wr.v)&&(Nr(wr.layers),wr.assets)){var Ar,Lr=wr.assets.length;for(Ar=0;Ar<Lr;Ar+=1)wr.assets[Ar].layers&&Nr(wr.assets[Ar].layers)}}})(),br=(function(){var Or=[4,4,18];function Er(wr){var Ar,Lr=wr.length,Pr,Tr;for(Ar=Lr-1;Ar>=0;Ar-=1)if(wr[Ar].ty==="sh")if(wr[Ar].ks.k.i)wr[Ar].ks.k.c=wr[Ar].closed;else for(Tr=wr[Ar].ks.k.length,Pr=0;Pr<Tr;Pr+=1)wr[Ar].ks.k[Pr].s&&(wr[Ar].ks.k[Pr].s[0].c=wr[Ar].closed),wr[Ar].ks.k[Pr].e&&(wr[Ar].ks.k[Pr].e[0].c=wr[Ar].closed);else wr[Ar].ty==="gr"&&Er(wr[Ar].it)}function Nr(wr){var Ar,Lr,Pr=wr.length,Tr,Vr,Ur,Yr;for(Lr=0;Lr<Pr;Lr+=1){if(Ar=wr[Lr],Ar.hasMask){var Qr=Ar.masksProperties;for(Vr=Qr.length,Tr=0;Tr<Vr;Tr+=1)if(Qr[Tr].pt.k.i)Qr[Tr].pt.k.c=Qr[Tr].cl;else for(Yr=Qr[Tr].pt.k.length,Ur=0;Ur<Yr;Ur+=1)Qr[Tr].pt.k[Ur].s&&(Qr[Tr].pt.k[Ur].s[0].c=Qr[Tr].cl),Qr[Tr].pt.k[Ur].e&&(Qr[Tr].pt.k[Ur].e[0].c=Qr[Tr].cl)}Ar.ty===4&&Er(Ar.shapes)}}return function(wr){if(yr(Or,wr.v)&&(Nr(wr.layers),wr.assets)){var Ar,Lr=wr.assets.length;for(Ar=0;Ar<Lr;Ar+=1)wr.assets[Ar].layers&&Nr(wr.assets[Ar].layers)}}})();function fr(Or){Or.__complete||(Cr(Or),mr(Or),vr(Or),_r(Or),br(Or),ar(Or.layers,Or.assets),sr(Or.chars,Or.assets),Or.__complete=!0)}function Sr(Or){Or.t.a.length===0&&"m"in Or.t.p}var Dr={};return Dr.completeData=fr,Dr.checkColors=Cr,Dr.checkChars=vr,Dr.checkPathProperties=_r,Dr.checkShapes=br,Dr.completeLayers=ar,Dr}if(qe.dataManager||(qe.dataManager=rr()),qe.assetLoader||(qe.assetLoader=(function(){function ar(lr){var or=lr.getResponseHeader("content-type");return or&&lr.responseType==="json"&&or.indexOf("json")!==-1||lr.response&&_typeof$5(lr.response)==="object"?lr.response:lr.response&&typeof lr.response=="string"?JSON.parse(lr.response):lr.responseText?JSON.parse(lr.responseText):null}function sr(lr,or,cr,hr){var yr,mr=new XMLHttpRequest;try{mr.responseType="json"}catch{}mr.onreadystatechange=function(){if(mr.readyState===4)if(mr.status===200)yr=ar(mr),cr(yr);else try{yr=ar(mr),cr(yr)}catch(vr){hr&&hr(vr)}};try{mr.open(["G","E","T"].join(""),lr,!0)}catch{mr.open(["G","E","T"].join(""),or+"/"+lr,!0)}mr.send()}return{load:sr}})()),Ze.data.type==="loadAnimation")qe.assetLoader.load(Ze.data.path,Ze.data.fullPath,function(ar){qe.dataManager.completeData(ar),qe.postMessage({id:Ze.data.id,payload:ar,status:"success"})},function(){qe.postMessage({id:Ze.data.id,status:"error"})});else if(Ze.data.type==="complete"){var nr=Ze.data.animation;qe.dataManager.completeData(nr),qe.postMessage({id:Ze.data.id,payload:nr,status:"success"})}else Ze.data.type==="loadData"&&qe.assetLoader.load(Ze.data.path,Ze.data.fullPath,function(ar){qe.postMessage({id:Ze.data.id,payload:ar,status:"success"})},function(){qe.postMessage({id:Ze.data.id,status:"error"})})}),Ue.onmessage=function(er){var Ze=er.data,rr=Ze.id,nr=$e[rr];$e[rr]=null,Ze.status==="success"?nr.onComplete(Ze.payload):nr.onError&&nr.onError()})}function Ge(er,Ze){Ve+=1;var rr="processId_"+Ve;return $e[rr]={onComplete:er,onError:Ze},rr}function Ye(er,Ze,rr){We();var nr=Ge(Ze,rr);Ue.postMessage({type:"loadAnimation",path:er,fullPath:window.location.origin+window.location.pathname,id:nr})}function Xe(er,Ze,rr){We();var nr=Ge(Ze,rr);Ue.postMessage({type:"loadData",path:er,fullPath:window.location.origin+window.location.pathname,id:nr})}function Je(er,Ze,rr){We();var nr=Ge(Ze,rr);Ue.postMessage({type:"complete",animation:er,id:nr})}return{loadAnimation:Ye,loadData:Xe,completeAnimation:Je}})(),ImagePreloader=(function(){var Ve=(function(){var sr=createTag("canvas");sr.width=1,sr.height=1;var lr=sr.getContext("2d");return lr.fillStyle="rgba(0,0,0,0)",lr.fillRect(0,0,1,1),sr})();function $e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Be(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Ue(sr,lr,or){var cr="";if(sr.e)cr=sr.p;else if(lr){var hr=sr.p;hr.indexOf("images/")!==-1&&(hr=hr.split("/")[1]),cr=lr+hr}else cr=or,cr+=sr.u?sr.u:"",cr+=sr.p;return cr}function ze(sr){var lr=0,or=setInterval((function(){var cr=sr.getBBox();(cr.width||lr>500)&&(this._imageLoaded(),clearInterval(or)),lr+=1}).bind(this),50)}function qe(sr){var lr=Ue(sr,this.assetsPath,this.path),or=createNS("image");isSafari?this.testImageLoaded(or):or.addEventListener("load",this._imageLoaded,!1),or.addEventListener("error",(function(){cr.img=Ve,this._imageLoaded()}).bind(this),!1),or.setAttributeNS("http://www.w3.org/1999/xlink","href",lr),this._elementHelper.append?this._elementHelper.append(or):this._elementHelper.appendChild(or);var cr={img:or,assetData:sr};return cr}function He(sr){var lr=Ue(sr,this.assetsPath,this.path),or=createTag("img");or.crossOrigin="anonymous",or.addEventListener("load",this._imageLoaded,!1),or.addEventListener("error",(function(){cr.img=Ve,this._imageLoaded()}).bind(this),!1),or.src=lr;var cr={img:or,assetData:sr};return cr}function We(sr){var lr={assetData:sr},or=Ue(sr,this.assetsPath,this.path);return dataManager.loadData(or,(function(cr){lr.img=cr,this._footageLoaded()}).bind(this),(function(){lr.img={},this._footageLoaded()}).bind(this)),lr}function Ge(sr,lr){this.imagesLoadedCb=lr;var or,cr=sr.length;for(or=0;or<cr;or+=1)sr[or].layers||(!sr[or].t||sr[or].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(sr[or]))):sr[or].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(sr[or]))))}function Ye(sr){this.path=sr||""}function Xe(sr){this.assetsPath=sr||""}function Je(sr){for(var lr=0,or=this.images.length;lr<or;){if(this.images[lr].assetData===sr)return this.images[lr].img;lr+=1}return null}function er(){this.imagesLoadedCb=null,this.images.length=0}function Ze(){return this.totalImages===this.loadedAssets}function rr(){return this.totalFootages===this.loadedFootagesCount}function nr(sr,lr){sr==="svg"?(this._elementHelper=lr,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function ar(){this._imageLoaded=$e.bind(this),this._footageLoaded=Be.bind(this),this.testImageLoaded=ze.bind(this),this.createFootageData=We.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ar.prototype={loadAssets:Ge,setAssetsPath:Xe,setPath:Ye,loadedImages:Ze,loadedFootages:rr,destroy:er,getAsset:Je,createImgData:He,createImageData:qe,imageLoaded:$e,footageLoaded:Be,setCacheType:nr},ar})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function($e,Be){if(this._cbs[$e])for(var Ue=this._cbs[$e],ze=0;ze<Ue.length;ze+=1)Ue[ze](Be)},addEventListener:function($e,Be){return this._cbs[$e]||(this._cbs[$e]=[]),this._cbs[$e].push(Be),(function(){this.removeEventListener($e,Be)}).bind(this)},removeEventListener:function($e,Be){if(!Be)this._cbs[$e]=null;else if(this._cbs[$e]){for(var Ue=0,ze=this._cbs[$e].length;Ue<ze;)this._cbs[$e][Ue]===Be&&(this._cbs[$e].splice(Ue,1),Ue-=1,ze-=1),Ue+=1;this._cbs[$e].length||(this._cbs[$e]=null)}}};var markerParser=(function(){function Ve($e){for(var Be=$e.split(`\r
`),Ue={},ze,qe=0,He=0;He<Be.length;He+=1)ze=Be[He].split(":"),ze.length===2&&(Ue[ze[0]]=ze[1].trim(),qe+=1);if(qe===0)throw new Error;return Ue}return function($e){for(var Be=[],Ue=0;Ue<$e.length;Ue+=1){var ze=$e[Ue],qe={time:ze.tm,duration:ze.dr};try{qe.payload=JSON.parse($e[Ue].cm)}catch{try{qe.payload=Ve($e[Ue].cm)}catch{qe.payload={name:$e[Ue].cm}}}Be.push(qe)}return Be}})(),ProjectInterface=(function(){function Ve($e){this.compositions.push($e)}return function(){function $e(Be){for(var Ue=0,ze=this.compositions.length;Ue<ze;){if(this.compositions[Ue].data&&this.compositions[Ue].data.nm===Be)return this.compositions[Ue].prepareFrame&&this.compositions[Ue].data.xt&&this.compositions[Ue].prepareFrame(this.currentFrame),this.compositions[Ue].compInterface;Ue+=1}return null}return $e.compositions=[],$e.currentFrame=0,$e.registerComposition=Ve,$e}})(),renderers={},registerRenderer=function($e,Be){renderers[$e]=Be};function getRenderer(Ve){return renderers[Ve]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var Ve in renderers)if(renderers[Ve])return Ve;return""}function _typeof$4(Ve){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_typeof$4(Ve)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(Ve){(Ve.wrapper||Ve.container)&&(this.wrapper=Ve.wrapper||Ve.container);var $e="svg";Ve.animType?$e=Ve.animType:Ve.renderer&&($e=Ve.renderer);var Be=getRenderer($e);this.renderer=new Be(this,Ve.rendererSettings),this.imagePreloader.setCacheType($e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=$e,Ve.loop===""||Ve.loop===null||Ve.loop===void 0||Ve.loop===!0?this.loop=!0:Ve.loop===!1?this.loop=!1:this.loop=parseInt(Ve.loop,10),this.autoplay="autoplay"in Ve?Ve.autoplay:!0,this.name=Ve.name?Ve.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(Ve,"autoloadSegments")?Ve.autoloadSegments:!0,this.assetsPath=Ve.assetsPath,this.initialSegment=Ve.initialSegment,Ve.audioFactory&&this.audioController.setAudioFactory(Ve.audioFactory),Ve.animationData?this.setupAnimation(Ve.animationData):Ve.path&&(Ve.path.lastIndexOf("\\")!==-1?this.path=Ve.path.substr(0,Ve.path.lastIndexOf("\\")+1):this.path=Ve.path.substr(0,Ve.path.lastIndexOf("/")+1),this.fileName=Ve.path.substr(Ve.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(Ve.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(Ve){dataManager.completeAnimation(Ve,this.configAnimation)},AnimationItem.prototype.setData=function(Ve,$e){$e&&_typeof$4($e)!=="object"&&($e=JSON.parse($e));var Be={wrapper:Ve,animationData:$e},Ue=Ve.attributes;Be.path=Ue.getNamedItem("data-animation-path")?Ue.getNamedItem("data-animation-path").value:Ue.getNamedItem("data-bm-path")?Ue.getNamedItem("data-bm-path").value:Ue.getNamedItem("bm-path")?Ue.getNamedItem("bm-path").value:"",Be.animType=Ue.getNamedItem("data-anim-type")?Ue.getNamedItem("data-anim-type").value:Ue.getNamedItem("data-bm-type")?Ue.getNamedItem("data-bm-type").value:Ue.getNamedItem("bm-type")?Ue.getNamedItem("bm-type").value:Ue.getNamedItem("data-bm-renderer")?Ue.getNamedItem("data-bm-renderer").value:Ue.getNamedItem("bm-renderer")?Ue.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var ze=Ue.getNamedItem("data-anim-loop")?Ue.getNamedItem("data-anim-loop").value:Ue.getNamedItem("data-bm-loop")?Ue.getNamedItem("data-bm-loop").value:Ue.getNamedItem("bm-loop")?Ue.getNamedItem("bm-loop").value:"";ze==="false"?Be.loop=!1:ze==="true"?Be.loop=!0:ze!==""&&(Be.loop=parseInt(ze,10));var qe=Ue.getNamedItem("data-anim-autoplay")?Ue.getNamedItem("data-anim-autoplay").value:Ue.getNamedItem("data-bm-autoplay")?Ue.getNamedItem("data-bm-autoplay").value:Ue.getNamedItem("bm-autoplay")?Ue.getNamedItem("bm-autoplay").value:!0;Be.autoplay=qe!=="false",Be.name=Ue.getNamedItem("data-name")?Ue.getNamedItem("data-name").value:Ue.getNamedItem("data-bm-name")?Ue.getNamedItem("data-bm-name").value:Ue.getNamedItem("bm-name")?Ue.getNamedItem("bm-name").value:"";var He=Ue.getNamedItem("data-anim-prerender")?Ue.getNamedItem("data-anim-prerender").value:Ue.getNamedItem("data-bm-prerender")?Ue.getNamedItem("data-bm-prerender").value:Ue.getNamedItem("bm-prerender")?Ue.getNamedItem("bm-prerender").value:"";He==="false"&&(Be.prerender=!1),Be.path?this.setParams(Be):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(Ve){Ve.op>this.animationData.op&&(this.animationData.op=Ve.op,this.totalFrames=Math.floor(Ve.op-this.animationData.ip));var $e=this.animationData.layers,Be,Ue=$e.length,ze=Ve.layers,qe,He=ze.length;for(qe=0;qe<He;qe+=1)for(Be=0;Be<Ue;){if($e[Be].id===ze[qe].id){$e[Be]=ze[qe];break}Be+=1}if((Ve.chars||Ve.fonts)&&(this.renderer.globalData.fontManager.addChars(Ve.chars),this.renderer.globalData.fontManager.addFonts(Ve.fonts,this.renderer.globalData.defs)),Ve.assets)for(Ue=Ve.assets.length,Be=0;Be<Ue;Be+=1)this.animationData.assets.push(Ve.assets[Be]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(Ve){this.animationData=Ve;var $e=getExpressionsPlugin();$e&&$e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var Ve=this.animationData.segments;if(!Ve||Ve.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var $e=Ve.shift();this.timeCompleted=$e.time*this.frameRate;var Be=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(Be,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var Ve=this.animationData.segments;Ve||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(Ve){if(this.renderer)try{this.animationData=Ve,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(Ve),Ve.assets||(Ve.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(Ve.assets),this.markers=markerParser(Ve.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch($e){this.triggerConfigError($e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var Ve=getExpressionsPlugin();Ve&&Ve.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(Ve,$e){var Be=typeof Ve=="number"?Ve:void 0,Ue=typeof $e=="number"?$e:void 0;this.renderer.updateContainerSize(Be,Ue)},AnimationItem.prototype.setSubframe=function(Ve){this.isSubframeEnabled=!!Ve},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(Ve){this.triggerRenderFrameError(Ve)}},AnimationItem.prototype.play=function(Ve){Ve&&this.name!==Ve||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(Ve){Ve&&this.name!==Ve||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(Ve){Ve&&this.name!==Ve||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(Ve){Ve&&this.name!==Ve||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(Ve){for(var $e,Be=0;Be<this.markers.length;Be+=1)if($e=this.markers[Be],$e.payload&&$e.payload.name===Ve)return $e;return null},AnimationItem.prototype.goToAndStop=function(Ve,$e,Be){if(!(Be&&this.name!==Be)){var Ue=Number(Ve);if(isNaN(Ue)){var ze=this.getMarkerData(Ve);ze&&this.goToAndStop(ze.time,!0)}else $e?this.setCurrentRawFrameValue(Ve):this.setCurrentRawFrameValue(Ve*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(Ve,$e,Be){if(!(Be&&this.name!==Be)){var Ue=Number(Ve);if(isNaN(Ue)){var ze=this.getMarkerData(Ve);ze&&(ze.duration?this.playSegments([ze.time,ze.time+ze.duration],!0):this.goToAndStop(ze.time,!0))}else this.goToAndStop(Ue,$e,Be);this.play()}},AnimationItem.prototype.advanceTime=function(Ve){if(!(this.isPaused===!0||this.isLoaded===!1)){var $e=this.currentRawFrame+Ve*this.frameModifier,Be=!1;$e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments($e>this.totalFrames?$e%this.totalFrames:0)||(Be=!0,$e=this.totalFrames-1):$e>=this.totalFrames?(this.playCount+=1,this.checkSegments($e%this.totalFrames)||(this.setCurrentRawFrameValue($e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue($e):$e<0?this.checkSegments($e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+$e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(Be=!0,$e=0)):this.setCurrentRawFrameValue($e),Be&&(this.setCurrentRawFrameValue($e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(Ve,$e){this.playCount=0,Ve[1]<Ve[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=Ve[0]-Ve[1],this.timeCompleted=this.totalFrames,this.firstFrame=Ve[1],this.setCurrentRawFrameValue(this.totalFrames-.001-$e)):Ve[1]>Ve[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=Ve[1]-Ve[0],this.timeCompleted=this.totalFrames,this.firstFrame=Ve[0],this.setCurrentRawFrameValue(.001+$e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(Ve,$e){var Be=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<Ve?Be=Ve:this.currentRawFrame+this.firstFrame>$e&&(Be=$e-Ve)),this.firstFrame=Ve,this.totalFrames=$e-Ve,this.timeCompleted=this.totalFrames,Be!==-1&&this.goToAndStop(Be,!0)},AnimationItem.prototype.playSegments=function(Ve,$e){if($e&&(this.segments.length=0),_typeof$4(Ve[0])==="object"){var Be,Ue=Ve.length;for(Be=0;Be<Ue;Be+=1)this.segments.push(Ve[Be])}else this.segments.push(Ve);this.segments.length&&$e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(Ve){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),Ve&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(Ve){return this.segments.length?(this.adjustSegment(this.segments.shift(),Ve),!0):!1},AnimationItem.prototype.destroy=function(Ve){Ve&&this.name!==Ve||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(Ve){this.currentRawFrame=Ve,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(Ve){this.playSpeed=Ve,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(Ve){this.playDirection=Ve<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(Ve){this.loop=Ve},AnimationItem.prototype.setVolume=function(Ve,$e){$e&&this.name!==$e||this.audioController.setVolume(Ve)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(Ve){Ve&&this.name!==Ve||this.audioController.mute()},AnimationItem.prototype.unmute=function(Ve){Ve&&this.name!==Ve||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(Ve){var $e="";if(Ve.e)$e=Ve.p;else if(this.assetsPath){var Be=Ve.p;Be.indexOf("images/")!==-1&&(Be=Be.split("/")[1]),$e=this.assetsPath+Be}else $e=this.path,$e+=Ve.u?Ve.u:"",$e+=Ve.p;return $e},AnimationItem.prototype.getAssetData=function(Ve){for(var $e=0,Be=this.assets.length;$e<Be;){if(Ve===this.assets[$e].id)return this.assets[$e];$e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(Ve){return Ve?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(Ve,$e,Be){try{var Ue=this.renderer.getElementByPath(Ve);Ue.updateDocumentData($e,Be)}catch{}},AnimationItem.prototype.trigger=function(Ve){if(this._cbs&&this._cbs[Ve])switch(Ve){case"enterFrame":this.triggerEvent(Ve,new BMEnterFrameEvent(Ve,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(Ve,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(Ve,new BMCompleteLoopEvent(Ve,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(Ve,new BMCompleteEvent(Ve,this.frameMult));break;case"segmentStart":this.triggerEvent(Ve,new BMSegmentStartEvent(Ve,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(Ve,new BMDestroyEvent(Ve,this));break;default:this.triggerEvent(Ve)}Ve==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(Ve,this.currentFrame,this.totalFrames,this.frameMult)),Ve==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(Ve,this.loop,this.playCount,this.frameMult)),Ve==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(Ve,this.frameMult)),Ve==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(Ve,this.firstFrame,this.totalFrames)),Ve==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(Ve,this))},AnimationItem.prototype.triggerRenderFrameError=function(Ve){var $e=new BMRenderFrameErrorEvent(Ve,this.currentFrame);this.triggerEvent("error",$e),this.onError&&this.onError.call(this,$e)},AnimationItem.prototype.triggerConfigError=function(Ve){var $e=new BMConfigErrorEvent(Ve,this.currentFrame);this.triggerEvent("error",$e),this.onError&&this.onError.call(this,$e)};var animationManager=(function(){var Ve={},$e=[],Be=0,Ue=0,ze=0,qe=!0,He=!1;function We(Er){for(var Nr=0,wr=Er.target;Nr<Ue;)$e[Nr].animation===wr&&($e.splice(Nr,1),Nr-=1,Ue-=1,wr.isPaused||Je()),Nr+=1}function Ge(Er,Nr){if(!Er)return null;for(var wr=0;wr<Ue;){if($e[wr].elem===Er&&$e[wr].elem!==null)return $e[wr].animation;wr+=1}var Ar=new AnimationItem;return er(Ar,Er),Ar.setData(Er,Nr),Ar}function Ye(){var Er,Nr=$e.length,wr=[];for(Er=0;Er<Nr;Er+=1)wr.push($e[Er].animation);return wr}function Xe(){ze+=1,Cr()}function Je(){ze-=1}function er(Er,Nr){Er.addEventListener("destroy",We),Er.addEventListener("_active",Xe),Er.addEventListener("_idle",Je),$e.push({elem:Nr,animation:Er}),Ue+=1}function Ze(Er){var Nr=new AnimationItem;return er(Nr,null),Nr.setParams(Er),Nr}function rr(Er,Nr){var wr;for(wr=0;wr<Ue;wr+=1)$e[wr].animation.setSpeed(Er,Nr)}function nr(Er,Nr){var wr;for(wr=0;wr<Ue;wr+=1)$e[wr].animation.setDirection(Er,Nr)}function ar(Er){var Nr;for(Nr=0;Nr<Ue;Nr+=1)$e[Nr].animation.play(Er)}function sr(Er){var Nr=Er-Be,wr;for(wr=0;wr<Ue;wr+=1)$e[wr].animation.advanceTime(Nr);Be=Er,ze&&!He?window.requestAnimationFrame(sr):qe=!0}function lr(Er){Be=Er,window.requestAnimationFrame(sr)}function or(Er){var Nr;for(Nr=0;Nr<Ue;Nr+=1)$e[Nr].animation.pause(Er)}function cr(Er,Nr,wr){var Ar;for(Ar=0;Ar<Ue;Ar+=1)$e[Ar].animation.goToAndStop(Er,Nr,wr)}function hr(Er){var Nr;for(Nr=0;Nr<Ue;Nr+=1)$e[Nr].animation.stop(Er)}function yr(Er){var Nr;for(Nr=0;Nr<Ue;Nr+=1)$e[Nr].animation.togglePause(Er)}function mr(Er){var Nr;for(Nr=Ue-1;Nr>=0;Nr-=1)$e[Nr].animation.destroy(Er)}function vr(Er,Nr,wr){var Ar=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Lr,Pr=Ar.length;for(Lr=0;Lr<Pr;Lr+=1)wr&&Ar[Lr].setAttribute("data-bm-type",wr),Ge(Ar[Lr],Er);if(Nr&&Pr===0){wr||(wr="svg");var Tr=document.getElementsByTagName("body")[0];Tr.innerText="";var Vr=createTag("div");Vr.style.width="100%",Vr.style.height="100%",Vr.setAttribute("data-bm-type",wr),Tr.appendChild(Vr),Ge(Vr,Er)}}function _r(){var Er;for(Er=0;Er<Ue;Er+=1)$e[Er].animation.resize()}function Cr(){!He&&ze&&qe&&(window.requestAnimationFrame(lr),qe=!1)}function br(){He=!0}function fr(){He=!1,Cr()}function Sr(Er,Nr){var wr;for(wr=0;wr<Ue;wr+=1)$e[wr].animation.setVolume(Er,Nr)}function Dr(Er){var Nr;for(Nr=0;Nr<Ue;Nr+=1)$e[Nr].animation.mute(Er)}function Or(Er){var Nr;for(Nr=0;Nr<Ue;Nr+=1)$e[Nr].animation.unmute(Er)}return Ve.registerAnimation=Ge,Ve.loadAnimation=Ze,Ve.setSpeed=rr,Ve.setDirection=nr,Ve.play=ar,Ve.pause=or,Ve.stop=hr,Ve.togglePause=yr,Ve.searchAnimations=vr,Ve.resize=_r,Ve.goToAndStop=cr,Ve.destroy=mr,Ve.freeze=br,Ve.unfreeze=fr,Ve.setVolume=Sr,Ve.mute=Dr,Ve.unmute=Or,Ve.getRegisteredAnimations=Ye,Ve})(),BezierFactory=(function(){var Ve={};Ve.getBezierEasing=Be;var $e={};function Be(lr,or,cr,hr,yr){var mr=yr||("bez_"+lr+"_"+or+"_"+cr+"_"+hr).replace(/\./g,"p");if($e[mr])return $e[mr];var vr=new sr([lr,or,cr,hr]);return $e[mr]=vr,vr}var Ue=4,ze=.001,qe=1e-7,He=10,We=11,Ge=1/(We-1),Ye=typeof Float32Array=="function";function Xe(lr,or){return 1-3*or+3*lr}function Je(lr,or){return 3*or-6*lr}function er(lr){return 3*lr}function Ze(lr,or,cr){return((Xe(or,cr)*lr+Je(or,cr))*lr+er(or))*lr}function rr(lr,or,cr){return 3*Xe(or,cr)*lr*lr+2*Je(or,cr)*lr+er(or)}function nr(lr,or,cr,hr,yr){var mr,vr,_r=0;do vr=or+(cr-or)/2,mr=Ze(vr,hr,yr)-lr,mr>0?cr=vr:or=vr;while(Math.abs(mr)>qe&&++_r<He);return vr}function ar(lr,or,cr,hr){for(var yr=0;yr<Ue;++yr){var mr=rr(or,cr,hr);if(mr===0)return or;var vr=Ze(or,cr,hr)-lr;or-=vr/mr}return or}function sr(lr){this._p=lr,this._mSampleValues=Ye?new Float32Array(We):new Array(We),this._precomputed=!1,this.get=this.get.bind(this)}return sr.prototype={get:function(or){var cr=this._p[0],hr=this._p[1],yr=this._p[2],mr=this._p[3];return this._precomputed||this._precompute(),cr===hr&&yr===mr?or:or===0?0:or===1?1:Ze(this._getTForX(or),hr,mr)},_precompute:function(){var or=this._p[0],cr=this._p[1],hr=this._p[2],yr=this._p[3];this._precomputed=!0,(or!==cr||hr!==yr)&&this._calcSampleValues()},_calcSampleValues:function(){for(var or=this._p[0],cr=this._p[2],hr=0;hr<We;++hr)this._mSampleValues[hr]=Ze(hr*Ge,or,cr)},_getTForX:function(or){for(var cr=this._p[0],hr=this._p[2],yr=this._mSampleValues,mr=0,vr=1,_r=We-1;vr!==_r&&yr[vr]<=or;++vr)mr+=Ge;--vr;var Cr=(or-yr[vr])/(yr[vr+1]-yr[vr]),br=mr+Cr*Ge,fr=rr(br,cr,hr);return fr>=ze?ar(or,br,cr,hr):fr===0?br:nr(or,mr,mr+Ge,cr,hr)}},Ve})(),pooling=(function(){function Ve($e){return $e.concat(createSizedArray($e.length))}return{double:Ve}})(),poolFactory=(function(){return function(Ve,$e,Be){var Ue=0,ze=Ve,qe=createSizedArray(ze),He={newElement:We,release:Ge};function We(){var Ye;return Ue?(Ue-=1,Ye=qe[Ue]):Ye=$e(),Ye}function Ge(Ye){Ue===ze&&(qe=pooling.double(qe),ze*=2),Be&&Be(Ye),qe[Ue]=Ye,Ue+=1}return He}})(),bezierLengthPool=(function(){function Ve(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,Ve)})(),segmentsLengthPool=(function(){function Ve(){return{lengths:[],totalLength:0}}function $e(Be){var Ue,ze=Be.lengths.length;for(Ue=0;Ue<ze;Ue+=1)bezierLengthPool.release(Be.lengths[Ue]);Be.lengths.length=0}return poolFactory(8,Ve,$e)})();function bezFunction(){var Ve=Math;function $e(er,Ze,rr,nr,ar,sr){var lr=er*nr+Ze*ar+rr*sr-ar*nr-sr*er-rr*Ze;return lr>-.001&&lr<.001}function Be(er,Ze,rr,nr,ar,sr,lr,or,cr){if(rr===0&&sr===0&&cr===0)return $e(er,Ze,nr,ar,lr,or);var hr=Ve.sqrt(Ve.pow(nr-er,2)+Ve.pow(ar-Ze,2)+Ve.pow(sr-rr,2)),yr=Ve.sqrt(Ve.pow(lr-er,2)+Ve.pow(or-Ze,2)+Ve.pow(cr-rr,2)),mr=Ve.sqrt(Ve.pow(lr-nr,2)+Ve.pow(or-ar,2)+Ve.pow(cr-sr,2)),vr;return hr>yr?hr>mr?vr=hr-yr-mr:vr=mr-yr-hr:mr>yr?vr=mr-yr-hr:vr=yr-hr-mr,vr>-1e-4&&vr<1e-4}var Ue=(function(){return function(er,Ze,rr,nr){var ar=getDefaultCurveSegments(),sr,lr,or,cr,hr,yr=0,mr,vr=[],_r=[],Cr=bezierLengthPool.newElement();for(or=rr.length,sr=0;sr<ar;sr+=1){for(hr=sr/(ar-1),mr=0,lr=0;lr<or;lr+=1)cr=bmPow(1-hr,3)*er[lr]+3*bmPow(1-hr,2)*hr*rr[lr]+3*(1-hr)*bmPow(hr,2)*nr[lr]+bmPow(hr,3)*Ze[lr],vr[lr]=cr,_r[lr]!==null&&(mr+=bmPow(vr[lr]-_r[lr],2)),_r[lr]=vr[lr];mr&&(mr=bmSqrt(mr),yr+=mr),Cr.percents[sr]=hr,Cr.lengths[sr]=yr}return Cr.addedLength=yr,Cr}})();function ze(er){var Ze=segmentsLengthPool.newElement(),rr=er.c,nr=er.v,ar=er.o,sr=er.i,lr,or=er._length,cr=Ze.lengths,hr=0;for(lr=0;lr<or-1;lr+=1)cr[lr]=Ue(nr[lr],nr[lr+1],ar[lr],sr[lr+1]),hr+=cr[lr].addedLength;return rr&&or&&(cr[lr]=Ue(nr[lr],nr[0],ar[lr],sr[0]),hr+=cr[lr].addedLength),Ze.totalLength=hr,Ze}function qe(er){this.segmentLength=0,this.points=new Array(er)}function He(er,Ze){this.partialLength=er,this.point=Ze}var We=(function(){var er={};return function(Ze,rr,nr,ar){var sr=(Ze[0]+"_"+Ze[1]+"_"+rr[0]+"_"+rr[1]+"_"+nr[0]+"_"+nr[1]+"_"+ar[0]+"_"+ar[1]).replace(/\./g,"p");if(!er[sr]){var lr=getDefaultCurveSegments(),or,cr,hr,yr,mr,vr=0,_r,Cr,br=null;Ze.length===2&&(Ze[0]!==rr[0]||Ze[1]!==rr[1])&&$e(Ze[0],Ze[1],rr[0],rr[1],Ze[0]+nr[0],Ze[1]+nr[1])&&$e(Ze[0],Ze[1],rr[0],rr[1],rr[0]+ar[0],rr[1]+ar[1])&&(lr=2);var fr=new qe(lr);for(hr=nr.length,or=0;or<lr;or+=1){for(Cr=createSizedArray(hr),mr=or/(lr-1),_r=0,cr=0;cr<hr;cr+=1)yr=bmPow(1-mr,3)*Ze[cr]+3*bmPow(1-mr,2)*mr*(Ze[cr]+nr[cr])+3*(1-mr)*bmPow(mr,2)*(rr[cr]+ar[cr])+bmPow(mr,3)*rr[cr],Cr[cr]=yr,br!==null&&(_r+=bmPow(Cr[cr]-br[cr],2));_r=bmSqrt(_r),vr+=_r,fr.points[or]=new He(_r,Cr),br=Cr}fr.segmentLength=vr,er[sr]=fr}return er[sr]}})();function Ge(er,Ze){var rr=Ze.percents,nr=Ze.lengths,ar=rr.length,sr=bmFloor((ar-1)*er),lr=er*Ze.addedLength,or=0;if(sr===ar-1||sr===0||lr===nr[sr])return rr[sr];for(var cr=nr[sr]>lr?-1:1,hr=!0;hr;)if(nr[sr]<=lr&&nr[sr+1]>lr?(or=(lr-nr[sr])/(nr[sr+1]-nr[sr]),hr=!1):sr+=cr,sr<0||sr>=ar-1){if(sr===ar-1)return rr[sr];hr=!1}return rr[sr]+(rr[sr+1]-rr[sr])*or}function Ye(er,Ze,rr,nr,ar,sr){var lr=Ge(ar,sr),or=1-lr,cr=Ve.round((or*or*or*er[0]+(lr*or*or+or*lr*or+or*or*lr)*rr[0]+(lr*lr*or+or*lr*lr+lr*or*lr)*nr[0]+lr*lr*lr*Ze[0])*1e3)/1e3,hr=Ve.round((or*or*or*er[1]+(lr*or*or+or*lr*or+or*or*lr)*rr[1]+(lr*lr*or+or*lr*lr+lr*or*lr)*nr[1]+lr*lr*lr*Ze[1])*1e3)/1e3;return[cr,hr]}var Xe=createTypedArray("float32",8);function Je(er,Ze,rr,nr,ar,sr,lr){ar<0?ar=0:ar>1&&(ar=1);var or=Ge(ar,lr);sr=sr>1?1:sr;var cr=Ge(sr,lr),hr,yr=er.length,mr=1-or,vr=1-cr,_r=mr*mr*mr,Cr=or*mr*mr*3,br=or*or*mr*3,fr=or*or*or,Sr=mr*mr*vr,Dr=or*mr*vr+mr*or*vr+mr*mr*cr,Or=or*or*vr+mr*or*cr+or*mr*cr,Er=or*or*cr,Nr=mr*vr*vr,wr=or*vr*vr+mr*cr*vr+mr*vr*cr,Ar=or*cr*vr+mr*cr*cr+or*vr*cr,Lr=or*cr*cr,Pr=vr*vr*vr,Tr=cr*vr*vr+vr*cr*vr+vr*vr*cr,Vr=cr*cr*vr+vr*cr*cr+cr*vr*cr,Ur=cr*cr*cr;for(hr=0;hr<yr;hr+=1)Xe[hr*4]=Ve.round((_r*er[hr]+Cr*rr[hr]+br*nr[hr]+fr*Ze[hr])*1e3)/1e3,Xe[hr*4+1]=Ve.round((Sr*er[hr]+Dr*rr[hr]+Or*nr[hr]+Er*Ze[hr])*1e3)/1e3,Xe[hr*4+2]=Ve.round((Nr*er[hr]+wr*rr[hr]+Ar*nr[hr]+Lr*Ze[hr])*1e3)/1e3,Xe[hr*4+3]=Ve.round((Pr*er[hr]+Tr*rr[hr]+Vr*nr[hr]+Ur*Ze[hr])*1e3)/1e3;return Xe}return{getSegmentsLength:ze,getNewSegment:Je,getPointInSegment:Ye,buildBezierData:We,pointOnLine2D:$e,pointOnLine3D:Be}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(Ve,$e){var Be=this.offsetTime,Ue;this.propType==="multidimensional"&&(Ue=createTypedArray("float32",this.pv.length));for(var ze=$e.lastIndex,qe=ze,He=this.keyframes.length-1,We=!0,Ge,Ye,Xe;We;){if(Ge=this.keyframes[qe],Ye=this.keyframes[qe+1],qe===He-1&&Ve>=Ye.t-Be){Ge.h&&(Ge=Ye),ze=0;break}if(Ye.t-Be>Ve){ze=qe;break}qe<He-1?qe+=1:(ze=0,We=!1)}Xe=this.keyframesMetadata[qe]||{};var Je,er,Ze,rr,nr,ar,sr=Ye.t-Be,lr=Ge.t-Be,or;if(Ge.to){Xe.bezierData||(Xe.bezierData=bez.buildBezierData(Ge.s,Ye.s||Ge.e,Ge.to,Ge.ti));var cr=Xe.bezierData;if(Ve>=sr||Ve<lr){var hr=Ve>=sr?cr.points.length-1:0;for(er=cr.points[hr].point.length,Je=0;Je<er;Je+=1)Ue[Je]=cr.points[hr].point[Je]}else{Xe.__fnct?ar=Xe.__fnct:(ar=BezierFactory.getBezierEasing(Ge.o.x,Ge.o.y,Ge.i.x,Ge.i.y,Ge.n).get,Xe.__fnct=ar),Ze=ar((Ve-lr)/(sr-lr));var yr=cr.segmentLength*Ze,mr,vr=$e.lastFrame<Ve&&$e._lastKeyframeIndex===qe?$e._lastAddedLength:0;for(nr=$e.lastFrame<Ve&&$e._lastKeyframeIndex===qe?$e._lastPoint:0,We=!0,rr=cr.points.length;We;){if(vr+=cr.points[nr].partialLength,yr===0||Ze===0||nr===cr.points.length-1){for(er=cr.points[nr].point.length,Je=0;Je<er;Je+=1)Ue[Je]=cr.points[nr].point[Je];break}else if(yr>=vr&&yr<vr+cr.points[nr+1].partialLength){for(mr=(yr-vr)/cr.points[nr+1].partialLength,er=cr.points[nr].point.length,Je=0;Je<er;Je+=1)Ue[Je]=cr.points[nr].point[Je]+(cr.points[nr+1].point[Je]-cr.points[nr].point[Je])*mr;break}nr<rr-1?nr+=1:We=!1}$e._lastPoint=nr,$e._lastAddedLength=vr-cr.points[nr].partialLength,$e._lastKeyframeIndex=qe}}else{var _r,Cr,br,fr,Sr;if(He=Ge.s.length,or=Ye.s||Ge.e,this.sh&&Ge.h!==1)if(Ve>=sr)Ue[0]=or[0],Ue[1]=or[1],Ue[2]=or[2];else if(Ve<=lr)Ue[0]=Ge.s[0],Ue[1]=Ge.s[1],Ue[2]=Ge.s[2];else{var Dr=createQuaternion(Ge.s),Or=createQuaternion(or),Er=(Ve-lr)/(sr-lr);quaternionToEuler(Ue,slerp(Dr,Or,Er))}else for(qe=0;qe<He;qe+=1)Ge.h!==1&&(Ve>=sr?Ze=1:Ve<lr?Ze=0:(Ge.o.x.constructor===Array?(Xe.__fnct||(Xe.__fnct=[]),Xe.__fnct[qe]?ar=Xe.__fnct[qe]:(_r=Ge.o.x[qe]===void 0?Ge.o.x[0]:Ge.o.x[qe],Cr=Ge.o.y[qe]===void 0?Ge.o.y[0]:Ge.o.y[qe],br=Ge.i.x[qe]===void 0?Ge.i.x[0]:Ge.i.x[qe],fr=Ge.i.y[qe]===void 0?Ge.i.y[0]:Ge.i.y[qe],ar=BezierFactory.getBezierEasing(_r,Cr,br,fr).get,Xe.__fnct[qe]=ar)):Xe.__fnct?ar=Xe.__fnct:(_r=Ge.o.x,Cr=Ge.o.y,br=Ge.i.x,fr=Ge.i.y,ar=BezierFactory.getBezierEasing(_r,Cr,br,fr).get,Ge.keyframeMetadata=ar),Ze=ar((Ve-lr)/(sr-lr)))),or=Ye.s||Ge.e,Sr=Ge.h===1?Ge.s[qe]:Ge.s[qe]+(or[qe]-Ge.s[qe])*Ze,this.propType==="multidimensional"?Ue[qe]=Sr:Ue=Sr}return $e.lastIndex=ze,Ue}function slerp(Ve,$e,Be){var Ue=[],ze=Ve[0],qe=Ve[1],He=Ve[2],We=Ve[3],Ge=$e[0],Ye=$e[1],Xe=$e[2],Je=$e[3],er,Ze,rr,nr,ar;return Ze=ze*Ge+qe*Ye+He*Xe+We*Je,Ze<0&&(Ze=-Ze,Ge=-Ge,Ye=-Ye,Xe=-Xe,Je=-Je),1-Ze>1e-6?(er=Math.acos(Ze),rr=Math.sin(er),nr=Math.sin((1-Be)*er)/rr,ar=Math.sin(Be*er)/rr):(nr=1-Be,ar=Be),Ue[0]=nr*ze+ar*Ge,Ue[1]=nr*qe+ar*Ye,Ue[2]=nr*He+ar*Xe,Ue[3]=nr*We+ar*Je,Ue}function quaternionToEuler(Ve,$e){var Be=$e[0],Ue=$e[1],ze=$e[2],qe=$e[3],He=Math.atan2(2*Ue*qe-2*Be*ze,1-2*Ue*Ue-2*ze*ze),We=Math.asin(2*Be*Ue+2*ze*qe),Ge=Math.atan2(2*Be*qe-2*Ue*ze,1-2*Be*Be-2*ze*ze);Ve[0]=He/degToRads,Ve[1]=We/degToRads,Ve[2]=Ge/degToRads}function createQuaternion(Ve){var $e=Ve[0]*degToRads,Be=Ve[1]*degToRads,Ue=Ve[2]*degToRads,ze=Math.cos($e/2),qe=Math.cos(Be/2),He=Math.cos(Ue/2),We=Math.sin($e/2),Ge=Math.sin(Be/2),Ye=Math.sin(Ue/2),Xe=ze*qe*He-We*Ge*Ye,Je=We*Ge*He+ze*qe*Ye,er=We*qe*He+ze*Ge*Ye,Ze=ze*Ge*He-We*qe*Ye;return[Je,er,Ze,Xe]}function getValueAtCurrentTime(){var Ve=this.comp.renderedFrame-this.offsetTime,$e=this.keyframes[0].t-this.offsetTime,Be=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Ve===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=Be&&Ve>=Be||this._caching.lastFrame<$e&&Ve<$e))){this._caching.lastFrame>=Ve&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Ue=this.interpolateValue(Ve,this._caching);this.pv=Ue}return this._caching.lastFrame=Ve,this.pv}function setVValue(Ve){var $e;if(this.propType==="unidimensional")$e=Ve*this.mult,mathAbs(this.v-$e)>1e-5&&(this.v=$e,this._mdf=!0);else for(var Be=0,Ue=this.v.length;Be<Ue;)$e=Ve[Be]*this.mult,mathAbs(this.v[Be]-$e)>1e-5&&(this.v[Be]=$e,this._mdf=!0),Be+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Ve,$e=this.effectsSequence.length,Be=this.kf?this.pv:this.data.k;for(Ve=0;Ve<$e;Ve+=1)Be=this.effectsSequence[Ve](Be);this.setVValue(Be),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(Ve){this.effectsSequence.push(Ve),this.container.addDynamicProperty(this)}function ValueProperty(Ve,$e,Be,Ue){this.propType="unidimensional",this.mult=Be||1,this.data=$e,this.v=Be?$e.k*Be:$e.k,this.pv=$e.k,this._mdf=!1,this.elem=Ve,this.container=Ue,this.comp=Ve.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(Ve,$e,Be,Ue){this.propType="multidimensional",this.mult=Be||1,this.data=$e,this._mdf=!1,this.elem=Ve,this.container=Ue,this.comp=Ve.comp,this.k=!1,this.kf=!1,this.frameId=-1;var ze,qe=$e.k.length;for(this.v=createTypedArray("float32",qe),this.pv=createTypedArray("float32",qe),this.vel=createTypedArray("float32",qe),ze=0;ze<qe;ze+=1)this.v[ze]=$e.k[ze]*this.mult,this.pv[ze]=$e.k[ze];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(Ve,$e,Be,Ue){this.propType="unidimensional",this.keyframes=$e.k,this.keyframesMetadata=[],this.offsetTime=Ve.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=$e,this.mult=Be||1,this.elem=Ve,this.container=Ue,this.comp=Ve.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(Ve,$e,Be,Ue){this.propType="multidimensional";var ze,qe=$e.k.length,He,We,Ge,Ye;for(ze=0;ze<qe-1;ze+=1)$e.k[ze].to&&$e.k[ze].s&&$e.k[ze+1]&&$e.k[ze+1].s&&(He=$e.k[ze].s,We=$e.k[ze+1].s,Ge=$e.k[ze].to,Ye=$e.k[ze].ti,(He.length===2&&!(He[0]===We[0]&&He[1]===We[1])&&bez.pointOnLine2D(He[0],He[1],We[0],We[1],He[0]+Ge[0],He[1]+Ge[1])&&bez.pointOnLine2D(He[0],He[1],We[0],We[1],We[0]+Ye[0],We[1]+Ye[1])||He.length===3&&!(He[0]===We[0]&&He[1]===We[1]&&He[2]===We[2])&&bez.pointOnLine3D(He[0],He[1],He[2],We[0],We[1],We[2],He[0]+Ge[0],He[1]+Ge[1],He[2]+Ge[2])&&bez.pointOnLine3D(He[0],He[1],He[2],We[0],We[1],We[2],We[0]+Ye[0],We[1]+Ye[1],We[2]+Ye[2]))&&($e.k[ze].to=null,$e.k[ze].ti=null),He[0]===We[0]&&He[1]===We[1]&&Ge[0]===0&&Ge[1]===0&&Ye[0]===0&&Ye[1]===0&&(He.length===2||He[2]===We[2]&&Ge[2]===0&&Ye[2]===0)&&($e.k[ze].to=null,$e.k[ze].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=$e,this.keyframes=$e.k,this.keyframesMetadata=[],this.offsetTime=Ve.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=Be||1,this.elem=Ve,this.container=Ue,this.comp=Ve.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Xe=$e.k[0].s.length;for(this.v=createTypedArray("float32",Xe),this.pv=createTypedArray("float32",Xe),ze=0;ze<Xe;ze+=1)this.v[ze]=initFrame,this.pv[ze]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Xe)},this.addEffect=addEffect}var PropertyFactory=(function(){function Ve(Be,Ue,ze,qe,He){Ue.sid&&(Ue=Be.globalData.slotManager.getProp(Ue));var We;if(!Ue.k.length)We=new ValueProperty(Be,Ue,qe,He);else if(typeof Ue.k[0]=="number")We=new MultiDimensionalProperty(Be,Ue,qe,He);else switch(ze){case 0:We=new KeyframedValueProperty(Be,Ue,qe,He);break;case 1:We=new KeyframedMultidimensionalProperty(Be,Ue,qe,He);break}return We.effectsSequence.length&&He.addDynamicProperty(We),We}var $e={getProp:Ve};return $e})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function($e){this.dynamicProperties.indexOf($e)===-1&&(this.dynamicProperties.push($e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var $e,Be=this.dynamicProperties.length;for($e=0;$e<Be;$e+=1)this.dynamicProperties[$e].getValue(),this.dynamicProperties[$e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function($e){this.container=$e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function Ve(){return createTypedArray("float32",2)}return poolFactory(8,Ve)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(Ve,$e){this.c=Ve,this.setLength($e);for(var Be=0;Be<$e;)this.v[Be]=pointPool.newElement(),this.o[Be]=pointPool.newElement(),this.i[Be]=pointPool.newElement(),Be+=1},ShapePath.prototype.setLength=function(Ve){for(;this._maxLength<Ve;)this.doubleArrayLength();this._length=Ve},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(Ve,$e,Be,Ue,ze){var qe;switch(this._length=Math.max(this._length,Ue+1),this._length>=this._maxLength&&this.doubleArrayLength(),Be){case"v":qe=this.v;break;case"i":qe=this.i;break;case"o":qe=this.o;break;default:qe=[];break}(!qe[Ue]||qe[Ue]&&!ze)&&(qe[Ue]=pointPool.newElement()),qe[Ue][0]=Ve,qe[Ue][1]=$e},ShapePath.prototype.setTripleAt=function(Ve,$e,Be,Ue,ze,qe,He,We){this.setXYAt(Ve,$e,"v",He,We),this.setXYAt(Be,Ue,"o",He,We),this.setXYAt(ze,qe,"i",He,We)},ShapePath.prototype.reverse=function(){var Ve=new ShapePath;Ve.setPathData(this.c,this._length);var $e=this.v,Be=this.o,Ue=this.i,ze=0;this.c&&(Ve.setTripleAt($e[0][0],$e[0][1],Ue[0][0],Ue[0][1],Be[0][0],Be[0][1],0,!1),ze=1);var qe=this._length-1,He=this._length,We;for(We=ze;We<He;We+=1)Ve.setTripleAt($e[qe][0],$e[qe][1],Ue[qe][0],Ue[qe][1],Be[qe][0],Be[qe][1],We,!1),qe-=1;return Ve},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function Ve(){return new ShapePath}function $e(ze){var qe=ze._length,He;for(He=0;He<qe;He+=1)pointPool.release(ze.v[He]),pointPool.release(ze.i[He]),pointPool.release(ze.o[He]),ze.v[He]=null,ze.i[He]=null,ze.o[He]=null;ze._length=0,ze.c=!1}function Be(ze){var qe=Ue.newElement(),He,We=ze._length===void 0?ze.v.length:ze._length;for(qe.setLength(We),qe.c=ze.c,He=0;He<We;He+=1)qe.setTripleAt(ze.v[He][0],ze.v[He][1],ze.o[He][0],ze.o[He][1],ze.i[He][0],ze.i[He][1],He);return qe}var Ue=poolFactory(4,Ve,$e);return Ue.clone=Be,Ue})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(Ve){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=Ve,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var Ve;for(Ve=0;Ve<this._length;Ve+=1)shapePool.release(this.shapes[Ve]);this._length=0};var shapeCollectionPool=(function(){var Ve={newShapeCollection:ze,release:qe},$e=0,Be=4,Ue=createSizedArray(Be);function ze(){var He;return $e?($e-=1,He=Ue[$e]):He=new ShapeCollection,He}function qe(He){var We,Ge=He._length;for(We=0;We<Ge;We+=1)shapePool.release(He.shapes[We]);He._length=0,$e===Be&&(Ue=pooling.double(Ue),Be*=2),Ue[$e]=He,$e+=1}return Ve})(),ShapePropertyFactory=(function(){var Ve=-999999;function $e(sr,lr,or){var cr=or.lastIndex,hr,yr,mr,vr,_r,Cr,br,fr,Sr,Dr=this.keyframes;if(sr<Dr[0].t-this.offsetTime)hr=Dr[0].s[0],mr=!0,cr=0;else if(sr>=Dr[Dr.length-1].t-this.offsetTime)hr=Dr[Dr.length-1].s?Dr[Dr.length-1].s[0]:Dr[Dr.length-2].e[0],mr=!0;else{for(var Or=cr,Er=Dr.length-1,Nr=!0,wr,Ar,Lr;Nr&&(wr=Dr[Or],Ar=Dr[Or+1],!(Ar.t-this.offsetTime>sr));)Or<Er-1?Or+=1:Nr=!1;if(Lr=this.keyframesMetadata[Or]||{},mr=wr.h===1,cr=Or,!mr){if(sr>=Ar.t-this.offsetTime)fr=1;else if(sr<wr.t-this.offsetTime)fr=0;else{var Pr;Lr.__fnct?Pr=Lr.__fnct:(Pr=BezierFactory.getBezierEasing(wr.o.x,wr.o.y,wr.i.x,wr.i.y).get,Lr.__fnct=Pr),fr=Pr((sr-(wr.t-this.offsetTime))/(Ar.t-this.offsetTime-(wr.t-this.offsetTime)))}yr=Ar.s?Ar.s[0]:wr.e[0]}hr=wr.s[0]}for(Cr=lr._length,br=hr.i[0].length,or.lastIndex=cr,vr=0;vr<Cr;vr+=1)for(_r=0;_r<br;_r+=1)Sr=mr?hr.i[vr][_r]:hr.i[vr][_r]+(yr.i[vr][_r]-hr.i[vr][_r])*fr,lr.i[vr][_r]=Sr,Sr=mr?hr.o[vr][_r]:hr.o[vr][_r]+(yr.o[vr][_r]-hr.o[vr][_r])*fr,lr.o[vr][_r]=Sr,Sr=mr?hr.v[vr][_r]:hr.v[vr][_r]+(yr.v[vr][_r]-hr.v[vr][_r])*fr,lr.v[vr][_r]=Sr}function Be(){var sr=this.comp.renderedFrame-this.offsetTime,lr=this.keyframes[0].t-this.offsetTime,or=this.keyframes[this.keyframes.length-1].t-this.offsetTime,cr=this._caching.lastFrame;return cr!==Ve&&(cr<lr&&sr<lr||cr>or&&sr>or)||(this._caching.lastIndex=cr<sr?this._caching.lastIndex:0,this.interpolateShape(sr,this.pv,this._caching)),this._caching.lastFrame=sr,this.pv}function Ue(){this.paths=this.localShapeCollection}function ze(sr,lr){if(sr._length!==lr._length||sr.c!==lr.c)return!1;var or,cr=sr._length;for(or=0;or<cr;or+=1)if(sr.v[or][0]!==lr.v[or][0]||sr.v[or][1]!==lr.v[or][1]||sr.o[or][0]!==lr.o[or][0]||sr.o[or][1]!==lr.o[or][1]||sr.i[or][0]!==lr.i[or][0]||sr.i[or][1]!==lr.i[or][1])return!1;return!0}function qe(sr){ze(this.v,sr)||(this.v=shapePool.clone(sr),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function He(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var sr;this.kf?sr=this.pv:this.data.ks?sr=this.data.ks.k:sr=this.data.pt.k;var lr,or=this.effectsSequence.length;for(lr=0;lr<or;lr+=1)sr=this.effectsSequence[lr](sr);this.setVValue(sr),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function We(sr,lr,or){this.propType="shape",this.comp=sr.comp,this.container=sr,this.elem=sr,this.data=lr,this.k=!1,this.kf=!1,this._mdf=!1;var cr=or===3?lr.pt.k:lr.ks.k;this.v=shapePool.clone(cr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=Ue,this.effectsSequence=[]}function Ge(sr){this.effectsSequence.push(sr),this.container.addDynamicProperty(this)}We.prototype.interpolateShape=$e,We.prototype.getValue=He,We.prototype.setVValue=qe,We.prototype.addEffect=Ge;function Ye(sr,lr,or){this.propType="shape",this.comp=sr.comp,this.elem=sr,this.container=sr,this.offsetTime=sr.data.st,this.keyframes=or===3?lr.pt.k:lr.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var cr=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,cr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=Ve,this.reset=Ue,this._caching={lastFrame:Ve,lastIndex:0},this.effectsSequence=[Be.bind(this)]}Ye.prototype.getValue=He,Ye.prototype.interpolateShape=$e,Ye.prototype.setVValue=qe,Ye.prototype.addEffect=Ge;var Xe=(function(){var sr=roundCorner;function lr(or,cr){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=cr.d,this.elem=or,this.comp=or.comp,this.frameId=-1,this.initDynamicPropertyContainer(or),this.p=PropertyFactory.getProp(or,cr.p,1,0,this),this.s=PropertyFactory.getProp(or,cr.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return lr.prototype={reset:Ue,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var cr=this.p.v[0],hr=this.p.v[1],yr=this.s.v[0]/2,mr=this.s.v[1]/2,vr=this.d!==3,_r=this.v;_r.v[0][0]=cr,_r.v[0][1]=hr-mr,_r.v[1][0]=vr?cr+yr:cr-yr,_r.v[1][1]=hr,_r.v[2][0]=cr,_r.v[2][1]=hr+mr,_r.v[3][0]=vr?cr-yr:cr+yr,_r.v[3][1]=hr,_r.i[0][0]=vr?cr-yr*sr:cr+yr*sr,_r.i[0][1]=hr-mr,_r.i[1][0]=vr?cr+yr:cr-yr,_r.i[1][1]=hr-mr*sr,_r.i[2][0]=vr?cr+yr*sr:cr-yr*sr,_r.i[2][1]=hr+mr,_r.i[3][0]=vr?cr-yr:cr+yr,_r.i[3][1]=hr+mr*sr,_r.o[0][0]=vr?cr+yr*sr:cr-yr*sr,_r.o[0][1]=hr-mr,_r.o[1][0]=vr?cr+yr:cr-yr,_r.o[1][1]=hr+mr*sr,_r.o[2][0]=vr?cr-yr*sr:cr+yr*sr,_r.o[2][1]=hr+mr,_r.o[3][0]=vr?cr-yr:cr+yr,_r.o[3][1]=hr-mr*sr}},extendPrototype([DynamicPropertyContainer],lr),lr})(),Je=(function(){function sr(lr,or){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=lr,this.comp=lr.comp,this.data=or,this.frameId=-1,this.d=or.d,this.initDynamicPropertyContainer(lr),or.sy===1?(this.ir=PropertyFactory.getProp(lr,or.ir,0,0,this),this.is=PropertyFactory.getProp(lr,or.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(lr,or.pt,0,0,this),this.p=PropertyFactory.getProp(lr,or.p,1,0,this),this.r=PropertyFactory.getProp(lr,or.r,0,degToRads,this),this.or=PropertyFactory.getProp(lr,or.or,0,0,this),this.os=PropertyFactory.getProp(lr,or.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return sr.prototype={reset:Ue,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var or=Math.floor(this.pt.v)*2,cr=Math.PI*2/or,hr=!0,yr=this.or.v,mr=this.ir.v,vr=this.os.v,_r=this.is.v,Cr=2*Math.PI*yr/(or*2),br=2*Math.PI*mr/(or*2),fr,Sr,Dr,Or,Er=-Math.PI/2;Er+=this.r.v;var Nr=this.data.d===3?-1:1;for(this.v._length=0,fr=0;fr<or;fr+=1){Sr=hr?yr:mr,Dr=hr?vr:_r,Or=hr?Cr:br;var wr=Sr*Math.cos(Er),Ar=Sr*Math.sin(Er),Lr=wr===0&&Ar===0?0:Ar/Math.sqrt(wr*wr+Ar*Ar),Pr=wr===0&&Ar===0?0:-wr/Math.sqrt(wr*wr+Ar*Ar);wr+=+this.p.v[0],Ar+=+this.p.v[1],this.v.setTripleAt(wr,Ar,wr-Lr*Or*Dr*Nr,Ar-Pr*Or*Dr*Nr,wr+Lr*Or*Dr*Nr,Ar+Pr*Or*Dr*Nr,fr,!0),hr=!hr,Er+=cr*Nr}},convertPolygonToPath:function(){var or=Math.floor(this.pt.v),cr=Math.PI*2/or,hr=this.or.v,yr=this.os.v,mr=2*Math.PI*hr/(or*4),vr,_r=-Math.PI*.5,Cr=this.data.d===3?-1:1;for(_r+=this.r.v,this.v._length=0,vr=0;vr<or;vr+=1){var br=hr*Math.cos(_r),fr=hr*Math.sin(_r),Sr=br===0&&fr===0?0:fr/Math.sqrt(br*br+fr*fr),Dr=br===0&&fr===0?0:-br/Math.sqrt(br*br+fr*fr);br+=+this.p.v[0],fr+=+this.p.v[1],this.v.setTripleAt(br,fr,br-Sr*mr*yr*Cr,fr-Dr*mr*yr*Cr,br+Sr*mr*yr*Cr,fr+Dr*mr*yr*Cr,vr,!0),_r+=cr*Cr}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],sr),sr})(),er=(function(){function sr(lr,or){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=lr,this.comp=lr.comp,this.frameId=-1,this.d=or.d,this.initDynamicPropertyContainer(lr),this.p=PropertyFactory.getProp(lr,or.p,1,0,this),this.s=PropertyFactory.getProp(lr,or.s,1,0,this),this.r=PropertyFactory.getProp(lr,or.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return sr.prototype={convertRectToPath:function(){var or=this.p.v[0],cr=this.p.v[1],hr=this.s.v[0]/2,yr=this.s.v[1]/2,mr=bmMin(hr,yr,this.r.v),vr=mr*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(or+hr,cr-yr+mr,or+hr,cr-yr+mr,or+hr,cr-yr+vr,0,!0),this.v.setTripleAt(or+hr,cr+yr-mr,or+hr,cr+yr-vr,or+hr,cr+yr-mr,1,!0),mr!==0?(this.v.setTripleAt(or+hr-mr,cr+yr,or+hr-mr,cr+yr,or+hr-vr,cr+yr,2,!0),this.v.setTripleAt(or-hr+mr,cr+yr,or-hr+vr,cr+yr,or-hr+mr,cr+yr,3,!0),this.v.setTripleAt(or-hr,cr+yr-mr,or-hr,cr+yr-mr,or-hr,cr+yr-vr,4,!0),this.v.setTripleAt(or-hr,cr-yr+mr,or-hr,cr-yr+vr,or-hr,cr-yr+mr,5,!0),this.v.setTripleAt(or-hr+mr,cr-yr,or-hr+mr,cr-yr,or-hr+vr,cr-yr,6,!0),this.v.setTripleAt(or+hr-mr,cr-yr,or+hr-vr,cr-yr,or+hr-mr,cr-yr,7,!0)):(this.v.setTripleAt(or-hr,cr+yr,or-hr+vr,cr+yr,or-hr,cr+yr,2),this.v.setTripleAt(or-hr,cr-yr,or-hr,cr-yr+vr,or-hr,cr-yr,3))):(this.v.setTripleAt(or+hr,cr-yr+mr,or+hr,cr-yr+vr,or+hr,cr-yr+mr,0,!0),mr!==0?(this.v.setTripleAt(or+hr-mr,cr-yr,or+hr-mr,cr-yr,or+hr-vr,cr-yr,1,!0),this.v.setTripleAt(or-hr+mr,cr-yr,or-hr+vr,cr-yr,or-hr+mr,cr-yr,2,!0),this.v.setTripleAt(or-hr,cr-yr+mr,or-hr,cr-yr+mr,or-hr,cr-yr+vr,3,!0),this.v.setTripleAt(or-hr,cr+yr-mr,or-hr,cr+yr-vr,or-hr,cr+yr-mr,4,!0),this.v.setTripleAt(or-hr+mr,cr+yr,or-hr+mr,cr+yr,or-hr+vr,cr+yr,5,!0),this.v.setTripleAt(or+hr-mr,cr+yr,or+hr-vr,cr+yr,or+hr-mr,cr+yr,6,!0),this.v.setTripleAt(or+hr,cr+yr-mr,or+hr,cr+yr-mr,or+hr,cr+yr-vr,7,!0)):(this.v.setTripleAt(or-hr,cr-yr,or-hr+vr,cr-yr,or-hr,cr-yr,1,!0),this.v.setTripleAt(or-hr,cr+yr,or-hr,cr+yr-vr,or-hr,cr+yr,2,!0),this.v.setTripleAt(or+hr,cr+yr,or+hr-vr,cr+yr,or+hr,cr+yr,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:Ue},extendPrototype([DynamicPropertyContainer],sr),sr})();function Ze(sr,lr,or){var cr;if(or===3||or===4){var hr=or===3?lr.pt:lr.ks,yr=hr.k;yr.length?cr=new Ye(sr,lr,or):cr=new We(sr,lr,or)}else or===5?cr=new er(sr,lr):or===6?cr=new Xe(sr,lr):or===7&&(cr=new Je(sr,lr));return cr.k&&sr.addDynamicProperty(cr),cr}function rr(){return We}function nr(){return Ye}var ar={};return ar.getShapeProp=Ze,ar.getConstructorFunction=rr,ar.getKeyframedConstructorFunction=nr,ar})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var Ve=Math.cos,$e=Math.sin,Be=Math.tan,Ue=Math.round;function ze(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function qe(wr){if(wr===0)return this;var Ar=Ve(wr),Lr=$e(wr);return this._t(Ar,-Lr,0,0,Lr,Ar,0,0,0,0,1,0,0,0,0,1)}function He(wr){if(wr===0)return this;var Ar=Ve(wr),Lr=$e(wr);return this._t(1,0,0,0,0,Ar,-Lr,0,0,Lr,Ar,0,0,0,0,1)}function We(wr){if(wr===0)return this;var Ar=Ve(wr),Lr=$e(wr);return this._t(Ar,0,Lr,0,0,1,0,0,-Lr,0,Ar,0,0,0,0,1)}function Ge(wr){if(wr===0)return this;var Ar=Ve(wr),Lr=$e(wr);return this._t(Ar,-Lr,0,0,Lr,Ar,0,0,0,0,1,0,0,0,0,1)}function Ye(wr,Ar){return this._t(1,Ar,wr,1,0,0)}function Xe(wr,Ar){return this.shear(Be(wr),Be(Ar))}function Je(wr,Ar){var Lr=Ve(Ar),Pr=$e(Ar);return this._t(Lr,Pr,0,0,-Pr,Lr,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Be(wr),1,0,0,0,0,1,0,0,0,0,1)._t(Lr,-Pr,0,0,Pr,Lr,0,0,0,0,1,0,0,0,0,1)}function er(wr,Ar,Lr){return!Lr&&Lr!==0&&(Lr=1),wr===1&&Ar===1&&Lr===1?this:this._t(wr,0,0,0,0,Ar,0,0,0,0,Lr,0,0,0,0,1)}function Ze(wr,Ar,Lr,Pr,Tr,Vr,Ur,Yr,Qr,mn,An,Zr,bn,jn,gn,In){return this.props[0]=wr,this.props[1]=Ar,this.props[2]=Lr,this.props[3]=Pr,this.props[4]=Tr,this.props[5]=Vr,this.props[6]=Ur,this.props[7]=Yr,this.props[8]=Qr,this.props[9]=mn,this.props[10]=An,this.props[11]=Zr,this.props[12]=bn,this.props[13]=jn,this.props[14]=gn,this.props[15]=In,this}function rr(wr,Ar,Lr){return Lr=Lr||0,wr!==0||Ar!==0||Lr!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,wr,Ar,Lr,1):this}function nr(wr,Ar,Lr,Pr,Tr,Vr,Ur,Yr,Qr,mn,An,Zr,bn,jn,gn,In){var Sn=this.props;if(wr===1&&Ar===0&&Lr===0&&Pr===0&&Tr===0&&Vr===1&&Ur===0&&Yr===0&&Qr===0&&mn===0&&An===1&&Zr===0)return Sn[12]=Sn[12]*wr+Sn[15]*bn,Sn[13]=Sn[13]*Vr+Sn[15]*jn,Sn[14]=Sn[14]*An+Sn[15]*gn,Sn[15]*=In,this._identityCalculated=!1,this;var Gr=Sn[0],Un=Sn[1],di=Sn[2],ii=Sn[3],Vn=Sn[4],zn=Sn[5],Qn=Sn[6],Yn=Sn[7],vi=Sn[8],xn=Sn[9],ei=Sn[10],ni=Sn[11],ui=Sn[12],oi=Sn[13],fi=Sn[14],yi=Sn[15];return Sn[0]=Gr*wr+Un*Tr+di*Qr+ii*bn,Sn[1]=Gr*Ar+Un*Vr+di*mn+ii*jn,Sn[2]=Gr*Lr+Un*Ur+di*An+ii*gn,Sn[3]=Gr*Pr+Un*Yr+di*Zr+ii*In,Sn[4]=Vn*wr+zn*Tr+Qn*Qr+Yn*bn,Sn[5]=Vn*Ar+zn*Vr+Qn*mn+Yn*jn,Sn[6]=Vn*Lr+zn*Ur+Qn*An+Yn*gn,Sn[7]=Vn*Pr+zn*Yr+Qn*Zr+Yn*In,Sn[8]=vi*wr+xn*Tr+ei*Qr+ni*bn,Sn[9]=vi*Ar+xn*Vr+ei*mn+ni*jn,Sn[10]=vi*Lr+xn*Ur+ei*An+ni*gn,Sn[11]=vi*Pr+xn*Yr+ei*Zr+ni*In,Sn[12]=ui*wr+oi*Tr+fi*Qr+yi*bn,Sn[13]=ui*Ar+oi*Vr+fi*mn+yi*jn,Sn[14]=ui*Lr+oi*Ur+fi*An+yi*gn,Sn[15]=ui*Pr+oi*Yr+fi*Zr+yi*In,this._identityCalculated=!1,this}function ar(wr){var Ar=wr.props;return this.transform(Ar[0],Ar[1],Ar[2],Ar[3],Ar[4],Ar[5],Ar[6],Ar[7],Ar[8],Ar[9],Ar[10],Ar[11],Ar[12],Ar[13],Ar[14],Ar[15])}function sr(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function lr(wr){for(var Ar=0;Ar<16;){if(wr.props[Ar]!==this.props[Ar])return!1;Ar+=1}return!0}function or(wr){var Ar;for(Ar=0;Ar<16;Ar+=1)wr.props[Ar]=this.props[Ar];return wr}function cr(wr){var Ar;for(Ar=0;Ar<16;Ar+=1)this.props[Ar]=wr[Ar]}function hr(wr,Ar,Lr){return{x:wr*this.props[0]+Ar*this.props[4]+Lr*this.props[8]+this.props[12],y:wr*this.props[1]+Ar*this.props[5]+Lr*this.props[9]+this.props[13],z:wr*this.props[2]+Ar*this.props[6]+Lr*this.props[10]+this.props[14]}}function yr(wr,Ar,Lr){return wr*this.props[0]+Ar*this.props[4]+Lr*this.props[8]+this.props[12]}function mr(wr,Ar,Lr){return wr*this.props[1]+Ar*this.props[5]+Lr*this.props[9]+this.props[13]}function vr(wr,Ar,Lr){return wr*this.props[2]+Ar*this.props[6]+Lr*this.props[10]+this.props[14]}function _r(){var wr=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ar=this.props[5]/wr,Lr=-this.props[1]/wr,Pr=-this.props[4]/wr,Tr=this.props[0]/wr,Vr=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/wr,Ur=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/wr,Yr=new Matrix;return Yr.props[0]=Ar,Yr.props[1]=Lr,Yr.props[4]=Pr,Yr.props[5]=Tr,Yr.props[12]=Vr,Yr.props[13]=Ur,Yr}function Cr(wr){var Ar=this.getInverseMatrix();return Ar.applyToPointArray(wr[0],wr[1],wr[2]||0)}function br(wr){var Ar,Lr=wr.length,Pr=[];for(Ar=0;Ar<Lr;Ar+=1)Pr[Ar]=Cr(wr[Ar]);return Pr}function fr(wr,Ar,Lr){var Pr=createTypedArray("float32",6);if(this.isIdentity())Pr[0]=wr[0],Pr[1]=wr[1],Pr[2]=Ar[0],Pr[3]=Ar[1],Pr[4]=Lr[0],Pr[5]=Lr[1];else{var Tr=this.props[0],Vr=this.props[1],Ur=this.props[4],Yr=this.props[5],Qr=this.props[12],mn=this.props[13];Pr[0]=wr[0]*Tr+wr[1]*Ur+Qr,Pr[1]=wr[0]*Vr+wr[1]*Yr+mn,Pr[2]=Ar[0]*Tr+Ar[1]*Ur+Qr,Pr[3]=Ar[0]*Vr+Ar[1]*Yr+mn,Pr[4]=Lr[0]*Tr+Lr[1]*Ur+Qr,Pr[5]=Lr[0]*Vr+Lr[1]*Yr+mn}return Pr}function Sr(wr,Ar,Lr){var Pr;return this.isIdentity()?Pr=[wr,Ar,Lr]:Pr=[wr*this.props[0]+Ar*this.props[4]+Lr*this.props[8]+this.props[12],wr*this.props[1]+Ar*this.props[5]+Lr*this.props[9]+this.props[13],wr*this.props[2]+Ar*this.props[6]+Lr*this.props[10]+this.props[14]],Pr}function Dr(wr,Ar){if(this.isIdentity())return wr+","+Ar;var Lr=this.props;return Math.round((wr*Lr[0]+Ar*Lr[4]+Lr[12])*100)/100+","+Math.round((wr*Lr[1]+Ar*Lr[5]+Lr[13])*100)/100}function Or(){for(var wr=0,Ar=this.props,Lr="matrix3d(",Pr=1e4;wr<16;)Lr+=Ue(Ar[wr]*Pr)/Pr,Lr+=wr===15?")":",",wr+=1;return Lr}function Er(wr){var Ar=1e4;return wr<1e-6&&wr>0||wr>-1e-6&&wr<0?Ue(wr*Ar)/Ar:wr}function Nr(){var wr=this.props,Ar=Er(wr[0]),Lr=Er(wr[1]),Pr=Er(wr[4]),Tr=Er(wr[5]),Vr=Er(wr[12]),Ur=Er(wr[13]);return"matrix("+Ar+","+Lr+","+Pr+","+Tr+","+Vr+","+Ur+")"}return function(){this.reset=ze,this.rotate=qe,this.rotateX=He,this.rotateY=We,this.rotateZ=Ge,this.skew=Xe,this.skewFromAxis=Je,this.shear=Ye,this.scale=er,this.setTransform=Ze,this.translate=rr,this.transform=nr,this.multiply=ar,this.applyToPoint=hr,this.applyToX=yr,this.applyToY=mr,this.applyToZ=vr,this.applyToPointArray=Sr,this.applyToTriplePoints=fr,this.applyToPointStringified=Dr,this.toCSS=Or,this.to2dCSS=Nr,this.clone=or,this.cloneFromProps=cr,this.equals=lr,this.inversePoints=br,this.inversePoint=Cr,this.getInverseMatrix=_r,this._t=this.transform,this.isIdentity=sr,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(Ve){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_typeof$3(Ve)}var lottie={};function setLocation(Ve){setLocationHref(Ve)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(Ve){setSubframeEnabled(Ve)}function setPrefix(Ve){setIdPrefix(Ve)}function loadAnimation(Ve){return animationManager.loadAnimation(Ve)}function setQuality(Ve){if(typeof Ve=="string")switch(Ve){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(Ve)&&Ve>1&&setDefaultCurveSegments(Ve)}function inBrowser(){return typeof navigator<"u"}function installPlugin(Ve,$e){Ve==="expressions"&&setExpressionsPlugin($e)}function getFactory(Ve){switch(Ve){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(Ve){for(var $e=queryString.split("&"),Be=0;Be<$e.length;Be+=1){var Ue=$e[Be].split("=");if(decodeURIComponent(Ue[0])==Ve)return decodeURIComponent(Ue[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(Ve){}var ShapeModifiers=(function(){var Ve={},$e={};Ve.registerModifier=Be,Ve.getModifier=Ue;function Be(ze,qe){$e[ze]||($e[ze]=qe)}function Ue(ze,qe,He){return new $e[ze](qe,He)}return Ve})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(Ve){if(!this.closed){Ve.sh.container.addDynamicProperty(Ve.sh);var $e={shape:Ve.sh,data:Ve,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push($e),this.addShapeToModifier($e),this._isAnimated&&Ve.setAsAnimated()}},ShapeModifier.prototype.init=function(Ve,$e){this.shapes=[],this.elem=Ve,this.initDynamicPropertyContainer(Ve),this.initModifierProperties(Ve,$e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(Ve,$e){this.s=PropertyFactory.getProp(Ve,$e.s,0,.01,this),this.e=PropertyFactory.getProp(Ve,$e.e,0,.01,this),this.o=PropertyFactory.getProp(Ve,$e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=$e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(Ve){Ve.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(Ve,$e,Be,Ue,ze){var qe=[];$e<=1?qe.push({s:Ve,e:$e}):Ve>=1?qe.push({s:Ve-1,e:$e-1}):(qe.push({s:Ve,e:1}),qe.push({s:0,e:$e-1}));var He=[],We,Ge=qe.length,Ye;for(We=0;We<Ge;We+=1)if(Ye=qe[We],!(Ye.e*ze<Ue||Ye.s*ze>Ue+Be)){var Xe,Je;Ye.s*ze<=Ue?Xe=0:Xe=(Ye.s*ze-Ue)/Be,Ye.e*ze>=Ue+Be?Je=1:Je=(Ye.e*ze-Ue)/Be,He.push([Xe,Je])}return He.length||He.push([0,0]),He},TrimModifier.prototype.releasePathsData=function(Ve){var $e,Be=Ve.length;for($e=0;$e<Be;$e+=1)segmentsLengthPool.release(Ve[$e]);return Ve.length=0,Ve},TrimModifier.prototype.processShapes=function(Ve){var $e,Be;if(this._mdf||Ve){var Ue=this.o.v%360/360;if(Ue<0&&(Ue+=1),this.s.v>1?$e=1+Ue:this.s.v<0?$e=0+Ue:$e=this.s.v+Ue,this.e.v>1?Be=1+Ue:this.e.v<0?Be=0+Ue:Be=this.e.v+Ue,$e>Be){var ze=$e;$e=Be,Be=ze}$e=Math.round($e*1e4)*1e-4,Be=Math.round(Be*1e4)*1e-4,this.sValue=$e,this.eValue=Be}else $e=this.sValue,Be=this.eValue;var qe,He,We=this.shapes.length,Ge,Ye,Xe,Je,er,Ze=0;if(Be===$e)for(He=0;He<We;He+=1)this.shapes[He].localShapeCollection.releaseShapes(),this.shapes[He].shape._mdf=!0,this.shapes[He].shape.paths=this.shapes[He].localShapeCollection,this._mdf&&(this.shapes[He].pathsData.length=0);else if(Be===1&&$e===0||Be===0&&$e===1){if(this._mdf)for(He=0;He<We;He+=1)this.shapes[He].pathsData.length=0,this.shapes[He].shape._mdf=!0}else{var rr=[],nr,ar;for(He=0;He<We;He+=1)if(nr=this.shapes[He],!nr.shape._mdf&&!this._mdf&&!Ve&&this.m!==2)nr.shape.paths=nr.localShapeCollection;else{if(qe=nr.shape.paths,Ye=qe._length,er=0,!nr.shape._mdf&&nr.pathsData.length)er=nr.totalShapeLength;else{for(Xe=this.releasePathsData(nr.pathsData),Ge=0;Ge<Ye;Ge+=1)Je=bez.getSegmentsLength(qe.shapes[Ge]),Xe.push(Je),er+=Je.totalLength;nr.totalShapeLength=er,nr.pathsData=Xe}Ze+=er,nr.shape._mdf=!0}var sr=$e,lr=Be,or=0,cr;for(He=We-1;He>=0;He-=1)if(nr=this.shapes[He],nr.shape._mdf){for(ar=nr.localShapeCollection,ar.releaseShapes(),this.m===2&&We>1?(cr=this.calculateShapeEdges($e,Be,nr.totalShapeLength,or,Ze),or+=nr.totalShapeLength):cr=[[sr,lr]],Ye=cr.length,Ge=0;Ge<Ye;Ge+=1){sr=cr[Ge][0],lr=cr[Ge][1],rr.length=0,lr<=1?rr.push({s:nr.totalShapeLength*sr,e:nr.totalShapeLength*lr}):sr>=1?rr.push({s:nr.totalShapeLength*(sr-1),e:nr.totalShapeLength*(lr-1)}):(rr.push({s:nr.totalShapeLength*sr,e:nr.totalShapeLength}),rr.push({s:0,e:nr.totalShapeLength*(lr-1)}));var hr=this.addShapes(nr,rr[0]);if(rr[0].s!==rr[0].e){if(rr.length>1){var yr=nr.shape.paths.shapes[nr.shape.paths._length-1];if(yr.c){var mr=hr.pop();this.addPaths(hr,ar),hr=this.addShapes(nr,rr[1],mr)}else this.addPaths(hr,ar),hr=this.addShapes(nr,rr[1])}this.addPaths(hr,ar)}}nr.shape.paths=ar}}},TrimModifier.prototype.addPaths=function(Ve,$e){var Be,Ue=Ve.length;for(Be=0;Be<Ue;Be+=1)$e.addShape(Ve[Be])},TrimModifier.prototype.addSegment=function(Ve,$e,Be,Ue,ze,qe,He){ze.setXYAt($e[0],$e[1],"o",qe),ze.setXYAt(Be[0],Be[1],"i",qe+1),He&&ze.setXYAt(Ve[0],Ve[1],"v",qe),ze.setXYAt(Ue[0],Ue[1],"v",qe+1)},TrimModifier.prototype.addSegmentFromArray=function(Ve,$e,Be,Ue){$e.setXYAt(Ve[1],Ve[5],"o",Be),$e.setXYAt(Ve[2],Ve[6],"i",Be+1),Ue&&$e.setXYAt(Ve[0],Ve[4],"v",Be),$e.setXYAt(Ve[3],Ve[7],"v",Be+1)},TrimModifier.prototype.addShapes=function(Ve,$e,Be){var Ue=Ve.pathsData,ze=Ve.shape.paths.shapes,qe,He=Ve.shape.paths._length,We,Ge,Ye=0,Xe,Je,er,Ze,rr=[],nr,ar=!0;for(Be?(Je=Be._length,nr=Be._length):(Be=shapePool.newElement(),Je=0,nr=0),rr.push(Be),qe=0;qe<He;qe+=1){for(er=Ue[qe].lengths,Be.c=ze[qe].c,Ge=ze[qe].c?er.length:er.length+1,We=1;We<Ge;We+=1)if(Xe=er[We-1],Ye+Xe.addedLength<$e.s)Ye+=Xe.addedLength,Be.c=!1;else if(Ye>$e.e){Be.c=!1;break}else $e.s<=Ye&&$e.e>=Ye+Xe.addedLength?(this.addSegment(ze[qe].v[We-1],ze[qe].o[We-1],ze[qe].i[We],ze[qe].v[We],Be,Je,ar),ar=!1):(Ze=bez.getNewSegment(ze[qe].v[We-1],ze[qe].v[We],ze[qe].o[We-1],ze[qe].i[We],($e.s-Ye)/Xe.addedLength,($e.e-Ye)/Xe.addedLength,er[We-1]),this.addSegmentFromArray(Ze,Be,Je,ar),ar=!1,Be.c=!1),Ye+=Xe.addedLength,Je+=1;if(ze[qe].c&&er.length){if(Xe=er[We-1],Ye<=$e.e){var sr=er[We-1].addedLength;$e.s<=Ye&&$e.e>=Ye+sr?(this.addSegment(ze[qe].v[We-1],ze[qe].o[We-1],ze[qe].i[0],ze[qe].v[0],Be,Je,ar),ar=!1):(Ze=bez.getNewSegment(ze[qe].v[We-1],ze[qe].v[0],ze[qe].o[We-1],ze[qe].i[0],($e.s-Ye)/sr,($e.e-Ye)/sr,er[We-1]),this.addSegmentFromArray(Ze,Be,Je,ar),ar=!1,Be.c=!1)}else Be.c=!1;Ye+=Xe.addedLength,Je+=1}if(Be._length&&(Be.setXYAt(Be.v[nr][0],Be.v[nr][1],"i",nr),Be.setXYAt(Be.v[Be._length-1][0],Be.v[Be._length-1][1],"o",Be._length-1)),Ye>$e.e)break;qe<He-1&&(Be=shapePool.newElement(),ar=!0,rr.push(Be),Je=0)}return rr};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(Ve,$e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Ve,$e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(Ve,$e){var Be=$e/100,Ue=[0,0],ze=Ve._length,qe=0;for(qe=0;qe<ze;qe+=1)Ue[0]+=Ve.v[qe][0],Ue[1]+=Ve.v[qe][1];Ue[0]/=ze,Ue[1]/=ze;var He=shapePool.newElement();He.c=Ve.c;var We,Ge,Ye,Xe,Je,er;for(qe=0;qe<ze;qe+=1)We=Ve.v[qe][0]+(Ue[0]-Ve.v[qe][0])*Be,Ge=Ve.v[qe][1]+(Ue[1]-Ve.v[qe][1])*Be,Ye=Ve.o[qe][0]+(Ue[0]-Ve.o[qe][0])*-Be,Xe=Ve.o[qe][1]+(Ue[1]-Ve.o[qe][1])*-Be,Je=Ve.i[qe][0]+(Ue[0]-Ve.i[qe][0])*-Be,er=Ve.i[qe][1]+(Ue[1]-Ve.i[qe][1])*-Be,He.setTripleAt(We,Ge,Ye,Xe,Je,er,qe);return He},PuckerAndBloatModifier.prototype.processShapes=function(Ve){var $e,Be,Ue=this.shapes.length,ze,qe,He=this.amount.v;if(He!==0){var We,Ge;for(Be=0;Be<Ue;Be+=1){if(We=this.shapes[Be],Ge=We.localShapeCollection,!(!We.shape._mdf&&!this._mdf&&!Ve))for(Ge.releaseShapes(),We.shape._mdf=!0,$e=We.shape.paths.shapes,qe=We.shape.paths._length,ze=0;ze<qe;ze+=1)Ge.addShape(this.processPath($e[ze],He));We.shape.paths=We.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var Ve=[0,0];function $e(Ge){var Ye=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Ye,this.a&&Ge.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Ge.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Ge.skewFromAxis(-this.sk.v,this.sa.v),this.r?Ge.rotate(-this.r.v):Ge.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Ge.translate(this.px.v,this.py.v,-this.pz.v):Ge.translate(this.px.v,this.py.v,0):Ge.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function Be(Ge){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Ge){var Ye;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Xe,Je;if(Ye=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Xe=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Ye,0),Je=this.p.getValueAtTime(this.p.keyframes[0].t/Ye,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Xe=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Ye,0),Je=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Ye,0)):(Xe=this.p.pv,Je=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Ye,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Xe=[],Je=[];var er=this.px,Ze=this.py;er._caching.lastFrame+er.offsetTime<=er.keyframes[0].t?(Xe[0]=er.getValueAtTime((er.keyframes[0].t+.01)/Ye,0),Xe[1]=Ze.getValueAtTime((Ze.keyframes[0].t+.01)/Ye,0),Je[0]=er.getValueAtTime(er.keyframes[0].t/Ye,0),Je[1]=Ze.getValueAtTime(Ze.keyframes[0].t/Ye,0)):er._caching.lastFrame+er.offsetTime>=er.keyframes[er.keyframes.length-1].t?(Xe[0]=er.getValueAtTime(er.keyframes[er.keyframes.length-1].t/Ye,0),Xe[1]=Ze.getValueAtTime(Ze.keyframes[Ze.keyframes.length-1].t/Ye,0),Je[0]=er.getValueAtTime((er.keyframes[er.keyframes.length-1].t-.01)/Ye,0),Je[1]=Ze.getValueAtTime((Ze.keyframes[Ze.keyframes.length-1].t-.01)/Ye,0)):(Xe=[er.pv,Ze.pv],Je[0]=er.getValueAtTime((er._caching.lastFrame+er.offsetTime-.01)/Ye,er.offsetTime),Je[1]=Ze.getValueAtTime((Ze._caching.lastFrame+Ze.offsetTime-.01)/Ye,Ze.offsetTime))}else Je=Ve,Xe=Je;this.v.rotate(-Math.atan2(Xe[1]-Je[1],Xe[0]-Je[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function Ue(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function ze(){}function qe(Ge){this._addDynamicProperty(Ge),this.elem.addDynamicProperty(Ge),this._isDirty=!0}function He(Ge,Ye,Xe){if(this.elem=Ge,this.frameId=-1,this.propType="transform",this.data=Ye,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Xe||Ge),Ye.p&&Ye.p.s?(this.px=PropertyFactory.getProp(Ge,Ye.p.x,0,0,this),this.py=PropertyFactory.getProp(Ge,Ye.p.y,0,0,this),Ye.p.z&&(this.pz=PropertyFactory.getProp(Ge,Ye.p.z,0,0,this))):this.p=PropertyFactory.getProp(Ge,Ye.p||{k:[0,0,0]},1,0,this),Ye.rx){if(this.rx=PropertyFactory.getProp(Ge,Ye.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Ge,Ye.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Ge,Ye.rz,0,degToRads,this),Ye.or.k[0].ti){var Je,er=Ye.or.k.length;for(Je=0;Je<er;Je+=1)Ye.or.k[Je].to=null,Ye.or.k[Je].ti=null}this.or=PropertyFactory.getProp(Ge,Ye.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Ge,Ye.r||{k:0},0,degToRads,this);Ye.sk&&(this.sk=PropertyFactory.getProp(Ge,Ye.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Ge,Ye.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Ge,Ye.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Ge,Ye.s||{k:[100,100,100]},1,.01,this),Ye.o?this.o=PropertyFactory.getProp(Ge,Ye.o,0,.01,Ge):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}He.prototype={applyToMatrix:$e,getValue:Be,precalculateMatrix:Ue,autoOrient:ze},extendPrototype([DynamicPropertyContainer],He),He.prototype.addDynamicProperty=qe,He.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function We(Ge,Ye,Xe){return new He(Ge,Ye,Xe)}return{getTransformProperty:We}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(Ve,$e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(Ve,$e.c,0,null,this),this.o=PropertyFactory.getProp(Ve,$e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(Ve,$e.tr,this),this.so=PropertyFactory.getProp(Ve,$e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(Ve,$e.tr.eo,0,.01,this),this.data=$e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(Ve,$e,Be,Ue,ze,qe){var He=qe?-1:1,We=Ue.s.v[0]+(1-Ue.s.v[0])*(1-ze),Ge=Ue.s.v[1]+(1-Ue.s.v[1])*(1-ze);Ve.translate(Ue.p.v[0]*He*ze,Ue.p.v[1]*He*ze,Ue.p.v[2]),$e.translate(-Ue.a.v[0],-Ue.a.v[1],Ue.a.v[2]),$e.rotate(-Ue.r.v*He*ze),$e.translate(Ue.a.v[0],Ue.a.v[1],Ue.a.v[2]),Be.translate(-Ue.a.v[0],-Ue.a.v[1],Ue.a.v[2]),Be.scale(qe?1/We:We,qe?1/Ge:Ge),Be.translate(Ue.a.v[0],Ue.a.v[1],Ue.a.v[2])},RepeaterModifier.prototype.init=function(Ve,$e,Be,Ue){for(this.elem=Ve,this.arr=$e,this.pos=Be,this.elemsData=Ue,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(Ve),this.initModifierProperties(Ve,$e[Be]);Be>0;)Be-=1,this._elements.unshift($e[Be]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(Ve){var $e,Be=Ve.length;for($e=0;$e<Be;$e+=1)Ve[$e]._processed=!1,Ve[$e].ty==="gr"&&this.resetElements(Ve[$e].it)},RepeaterModifier.prototype.cloneElements=function(Ve){var $e=JSON.parse(JSON.stringify(Ve));return this.resetElements($e),$e},RepeaterModifier.prototype.changeGroupRender=function(Ve,$e){var Be,Ue=Ve.length;for(Be=0;Be<Ue;Be+=1)Ve[Be]._render=$e,Ve[Be].ty==="gr"&&this.changeGroupRender(Ve[Be].it,$e)},RepeaterModifier.prototype.processShapes=function(Ve){var $e,Be,Ue,ze,qe,He=!1;if(this._mdf||Ve){var We=Math.ceil(this.c.v);if(this._groups.length<We){for(;this._groups.length<We;){var Ge={it:this.cloneElements(this._elements),ty:"gr"};Ge.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Ge),this._groups.splice(0,0,Ge),this._currentCopies+=1}this.elem.reloadShapes(),He=!0}qe=0;var Ye;for(Ue=0;Ue<=this._groups.length-1;Ue+=1){if(Ye=qe<We,this._groups[Ue]._render=Ye,this.changeGroupRender(this._groups[Ue].it,Ye),!Ye){var Xe=this.elemsData[Ue].it,Je=Xe[Xe.length-1];Je.transform.op.v!==0?(Je.transform.op._mdf=!0,Je.transform.op.v=0):Je.transform.op._mdf=!1}qe+=1}this._currentCopies=We;var er=this.o.v,Ze=er%1,rr=er>0?Math.floor(er):Math.ceil(er),nr=this.pMatrix.props,ar=this.rMatrix.props,sr=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var lr=0;if(er>0){for(;lr<rr;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),lr+=1;Ze&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,Ze,!1),lr+=Ze)}else if(er<0){for(;lr>rr;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),lr-=1;Ze&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-Ze,!0),lr-=Ze)}Ue=this.data.m===1?0:this._currentCopies-1,ze=this.data.m===1?1:-1,qe=this._currentCopies;for(var or,cr;qe;){if($e=this.elemsData[Ue].it,Be=$e[$e.length-1].transform.mProps.v.props,cr=Be.length,$e[$e.length-1].transform.mProps._mdf=!0,$e[$e.length-1].transform.op._mdf=!0,$e[$e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(Ue/(this._currentCopies-1)),lr!==0){for((Ue!==0&&ze===1||Ue!==this._currentCopies-1&&ze===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ar[0],ar[1],ar[2],ar[3],ar[4],ar[5],ar[6],ar[7],ar[8],ar[9],ar[10],ar[11],ar[12],ar[13],ar[14],ar[15]),this.matrix.transform(sr[0],sr[1],sr[2],sr[3],sr[4],sr[5],sr[6],sr[7],sr[8],sr[9],sr[10],sr[11],sr[12],sr[13],sr[14],sr[15]),this.matrix.transform(nr[0],nr[1],nr[2],nr[3],nr[4],nr[5],nr[6],nr[7],nr[8],nr[9],nr[10],nr[11],nr[12],nr[13],nr[14],nr[15]),or=0;or<cr;or+=1)Be[or]=this.matrix.props[or];this.matrix.reset()}else for(this.matrix.reset(),or=0;or<cr;or+=1)Be[or]=this.matrix.props[or];lr+=1,qe-=1,Ue+=ze}}else for(qe=this._currentCopies,Ue=0,ze=1;qe;)$e=this.elemsData[Ue].it,Be=$e[$e.length-1].transform.mProps.v.props,$e[$e.length-1].transform.mProps._mdf=!1,$e[$e.length-1].transform.op._mdf=!1,qe-=1,Ue+=ze;return He},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(Ve,$e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(Ve,$e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(Ve,$e){var Be=shapePool.newElement();Be.c=Ve.c;var Ue,ze=Ve._length,qe,He,We,Ge,Ye,Xe,Je=0,er,Ze,rr,nr,ar,sr;for(Ue=0;Ue<ze;Ue+=1)qe=Ve.v[Ue],We=Ve.o[Ue],He=Ve.i[Ue],qe[0]===We[0]&&qe[1]===We[1]&&qe[0]===He[0]&&qe[1]===He[1]?(Ue===0||Ue===ze-1)&&!Ve.c?(Be.setTripleAt(qe[0],qe[1],We[0],We[1],He[0],He[1],Je),Je+=1):(Ue===0?Ge=Ve.v[ze-1]:Ge=Ve.v[Ue-1],Ye=Math.sqrt(Math.pow(qe[0]-Ge[0],2)+Math.pow(qe[1]-Ge[1],2)),Xe=Ye?Math.min(Ye/2,$e)/Ye:0,ar=qe[0]+(Ge[0]-qe[0])*Xe,er=ar,sr=qe[1]-(qe[1]-Ge[1])*Xe,Ze=sr,rr=er-(er-qe[0])*roundCorner,nr=Ze-(Ze-qe[1])*roundCorner,Be.setTripleAt(er,Ze,rr,nr,ar,sr,Je),Je+=1,Ue===ze-1?Ge=Ve.v[0]:Ge=Ve.v[Ue+1],Ye=Math.sqrt(Math.pow(qe[0]-Ge[0],2)+Math.pow(qe[1]-Ge[1],2)),Xe=Ye?Math.min(Ye/2,$e)/Ye:0,rr=qe[0]+(Ge[0]-qe[0])*Xe,er=rr,nr=qe[1]+(Ge[1]-qe[1])*Xe,Ze=nr,ar=er-(er-qe[0])*roundCorner,sr=Ze-(Ze-qe[1])*roundCorner,Be.setTripleAt(er,Ze,rr,nr,ar,sr,Je),Je+=1):(Be.setTripleAt(Ve.v[Ue][0],Ve.v[Ue][1],Ve.o[Ue][0],Ve.o[Ue][1],Ve.i[Ue][0],Ve.i[Ue][1],Je),Je+=1);return Be},RoundCornersModifier.prototype.processShapes=function(Ve){var $e,Be,Ue=this.shapes.length,ze,qe,He=this.rd.v;if(He!==0){var We,Ge;for(Be=0;Be<Ue;Be+=1){if(We=this.shapes[Be],Ge=We.localShapeCollection,!(!We.shape._mdf&&!this._mdf&&!Ve))for(Ge.releaseShapes(),We.shape._mdf=!0,$e=We.shape.paths.shapes,qe=We.shape.paths._length,ze=0;ze<qe;ze+=1)Ge.addShape(this.processPath($e[ze],He));We.shape.paths=We.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(Ve,$e){return Math.abs(Ve-$e)*1e5<=Math.min(Math.abs(Ve),Math.abs($e))}function floatZero(Ve){return Math.abs(Ve)<=1e-5}function lerp(Ve,$e,Be){return Ve*(1-Be)+$e*Be}function lerpPoint(Ve,$e,Be){return[lerp(Ve[0],$e[0],Be),lerp(Ve[1],$e[1],Be)]}function quadRoots(Ve,$e,Be){if(Ve===0)return[];var Ue=$e*$e-4*Ve*Be;if(Ue<0)return[];var ze=-$e/(2*Ve);if(Ue===0)return[ze];var qe=Math.sqrt(Ue)/(2*Ve);return[ze-qe,ze+qe]}function polynomialCoefficients(Ve,$e,Be,Ue){return[-Ve+3*$e-3*Be+Ue,3*Ve-6*$e+3*Be,-3*Ve+3*$e,Ve]}function singlePoint(Ve){return new PolynomialBezier(Ve,Ve,Ve,Ve,!1)}function PolynomialBezier(Ve,$e,Be,Ue,ze){ze&&pointEqual(Ve,$e)&&($e=lerpPoint(Ve,Ue,1/3)),ze&&pointEqual(Be,Ue)&&(Be=lerpPoint(Ve,Ue,2/3));var qe=polynomialCoefficients(Ve[0],$e[0],Be[0],Ue[0]),He=polynomialCoefficients(Ve[1],$e[1],Be[1],Ue[1]);this.a=[qe[0],He[0]],this.b=[qe[1],He[1]],this.c=[qe[2],He[2]],this.d=[qe[3],He[3]],this.points=[Ve,$e,Be,Ue]}PolynomialBezier.prototype.point=function(Ve){return[((this.a[0]*Ve+this.b[0])*Ve+this.c[0])*Ve+this.d[0],((this.a[1]*Ve+this.b[1])*Ve+this.c[1])*Ve+this.d[1]]},PolynomialBezier.prototype.derivative=function(Ve){return[(3*Ve*this.a[0]+2*this.b[0])*Ve+this.c[0],(3*Ve*this.a[1]+2*this.b[1])*Ve+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(Ve){var $e=this.derivative(Ve);return Math.atan2($e[1],$e[0])},PolynomialBezier.prototype.normalAngle=function(Ve){var $e=this.derivative(Ve);return Math.atan2($e[0],$e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var Ve=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(Ve))return[];var $e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/Ve,Be=$e*$e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/Ve;if(Be<0)return[];var Ue=Math.sqrt(Be);return floatZero(Ue)?Ue>0&&Ue<1?[$e]:[]:[$e-Ue,$e+Ue].filter(function(ze){return ze>0&&ze<1})},PolynomialBezier.prototype.split=function(Ve){if(Ve<=0)return[singlePoint(this.points[0]),this];if(Ve>=1)return[this,singlePoint(this.points[this.points.length-1])];var $e=lerpPoint(this.points[0],this.points[1],Ve),Be=lerpPoint(this.points[1],this.points[2],Ve),Ue=lerpPoint(this.points[2],this.points[3],Ve),ze=lerpPoint($e,Be,Ve),qe=lerpPoint(Be,Ue,Ve),He=lerpPoint(ze,qe,Ve);return[new PolynomialBezier(this.points[0],$e,ze,He,!0),new PolynomialBezier(He,qe,Ue,this.points[3],!0)]};function extrema(Ve,$e){var Be=Ve.points[0][$e],Ue=Ve.points[Ve.points.length-1][$e];if(Be>Ue){var ze=Ue;Ue=Be,Be=ze}for(var qe=quadRoots(3*Ve.a[$e],2*Ve.b[$e],Ve.c[$e]),He=0;He<qe.length;He+=1)if(qe[He]>0&&qe[He]<1){var We=Ve.point(qe[He])[$e];We<Be?Be=We:We>Ue&&(Ue=We)}return{min:Be,max:Ue}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var Ve=this.bounds();return{left:Ve.x.min,right:Ve.x.max,top:Ve.y.min,bottom:Ve.y.max,width:Ve.x.max-Ve.x.min,height:Ve.y.max-Ve.y.min,cx:(Ve.x.max+Ve.x.min)/2,cy:(Ve.y.max+Ve.y.min)/2}};function intersectData(Ve,$e,Be){var Ue=Ve.boundingBox();return{cx:Ue.cx,cy:Ue.cy,width:Ue.width,height:Ue.height,bez:Ve,t:($e+Be)/2,t1:$e,t2:Be}}function splitData(Ve){var $e=Ve.bez.split(.5);return[intersectData($e[0],Ve.t1,Ve.t),intersectData($e[1],Ve.t,Ve.t2)]}function boxIntersect(Ve,$e){return Math.abs(Ve.cx-$e.cx)*2<Ve.width+$e.width&&Math.abs(Ve.cy-$e.cy)*2<Ve.height+$e.height}function intersectsImpl(Ve,$e,Be,Ue,ze,qe){if(boxIntersect(Ve,$e)){if(Be>=qe||Ve.width<=Ue&&Ve.height<=Ue&&$e.width<=Ue&&$e.height<=Ue){ze.push([Ve.t,$e.t]);return}var He=splitData(Ve),We=splitData($e);intersectsImpl(He[0],We[0],Be+1,Ue,ze,qe),intersectsImpl(He[0],We[1],Be+1,Ue,ze,qe),intersectsImpl(He[1],We[0],Be+1,Ue,ze,qe),intersectsImpl(He[1],We[1],Be+1,Ue,ze,qe)}}PolynomialBezier.prototype.intersections=function(Ve,$e,Be){$e===void 0&&($e=2),Be===void 0&&(Be=7);var Ue=[];return intersectsImpl(intersectData(this,0,1),intersectData(Ve,0,1),0,$e,Ue,Be),Ue},PolynomialBezier.shapeSegment=function(Ve,$e){var Be=($e+1)%Ve.length();return new PolynomialBezier(Ve.v[$e],Ve.o[$e],Ve.i[Be],Ve.v[Be],!0)},PolynomialBezier.shapeSegmentInverted=function(Ve,$e){var Be=($e+1)%Ve.length();return new PolynomialBezier(Ve.v[Be],Ve.i[Be],Ve.o[$e],Ve.v[$e],!0)};function crossProduct(Ve,$e){return[Ve[1]*$e[2]-Ve[2]*$e[1],Ve[2]*$e[0]-Ve[0]*$e[2],Ve[0]*$e[1]-Ve[1]*$e[0]]}function lineIntersection(Ve,$e,Be,Ue){var ze=[Ve[0],Ve[1],1],qe=[$e[0],$e[1],1],He=[Be[0],Be[1],1],We=[Ue[0],Ue[1],1],Ge=crossProduct(crossProduct(ze,qe),crossProduct(He,We));return floatZero(Ge[2])?null:[Ge[0]/Ge[2],Ge[1]/Ge[2]]}function polarOffset(Ve,$e,Be){return[Ve[0]+Math.cos($e)*Be,Ve[1]-Math.sin($e)*Be]}function pointDistance(Ve,$e){return Math.hypot(Ve[0]-$e[0],Ve[1]-$e[1])}function pointEqual(Ve,$e){return floatEqual(Ve[0],$e[0])&&floatEqual(Ve[1],$e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(Ve,$e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(Ve,$e.s,0,null,this),this.frequency=PropertyFactory.getProp(Ve,$e.r,0,null,this),this.pointsType=PropertyFactory.getProp(Ve,$e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(Ve,$e,Be,Ue,ze,qe,He){var We=Be-Math.PI/2,Ge=Be+Math.PI/2,Ye=$e[0]+Math.cos(Be)*Ue*ze,Xe=$e[1]-Math.sin(Be)*Ue*ze;Ve.setTripleAt(Ye,Xe,Ye+Math.cos(We)*qe,Xe-Math.sin(We)*qe,Ye+Math.cos(Ge)*He,Xe-Math.sin(Ge)*He,Ve.length())}function getPerpendicularVector(Ve,$e){var Be=[$e[0]-Ve[0],$e[1]-Ve[1]],Ue=-Math.PI*.5,ze=[Math.cos(Ue)*Be[0]-Math.sin(Ue)*Be[1],Math.sin(Ue)*Be[0]+Math.cos(Ue)*Be[1]];return ze}function getProjectingAngle(Ve,$e){var Be=$e===0?Ve.length()-1:$e-1,Ue=($e+1)%Ve.length(),ze=Ve.v[Be],qe=Ve.v[Ue],He=getPerpendicularVector(ze,qe);return Math.atan2(0,1)-Math.atan2(He[1],He[0])}function zigZagCorner(Ve,$e,Be,Ue,ze,qe,He){var We=getProjectingAngle($e,Be),Ge=$e.v[Be%$e._length],Ye=$e.v[Be===0?$e._length-1:Be-1],Xe=$e.v[(Be+1)%$e._length],Je=qe===2?Math.sqrt(Math.pow(Ge[0]-Ye[0],2)+Math.pow(Ge[1]-Ye[1],2)):0,er=qe===2?Math.sqrt(Math.pow(Ge[0]-Xe[0],2)+Math.pow(Ge[1]-Xe[1],2)):0;setPoint(Ve,$e.v[Be%$e._length],We,He,Ue,er/((ze+1)*2),Je/((ze+1)*2))}function zigZagSegment(Ve,$e,Be,Ue,ze,qe){for(var He=0;He<Ue;He+=1){var We=(He+1)/(Ue+1),Ge=ze===2?Math.sqrt(Math.pow($e.points[3][0]-$e.points[0][0],2)+Math.pow($e.points[3][1]-$e.points[0][1],2)):0,Ye=$e.normalAngle(We),Xe=$e.point(We);setPoint(Ve,Xe,Ye,qe,Be,Ge/((Ue+1)*2),Ge/((Ue+1)*2)),qe=-qe}return qe}ZigZagModifier.prototype.processPath=function(Ve,$e,Be,Ue){var ze=Ve._length,qe=shapePool.newElement();if(qe.c=Ve.c,Ve.c||(ze-=1),ze===0)return qe;var He=-1,We=PolynomialBezier.shapeSegment(Ve,0);zigZagCorner(qe,Ve,0,$e,Be,Ue,He);for(var Ge=0;Ge<ze;Ge+=1)He=zigZagSegment(qe,We,$e,Be,Ue,-He),Ge===ze-1&&!Ve.c?We=null:We=PolynomialBezier.shapeSegment(Ve,(Ge+1)%ze),zigZagCorner(qe,Ve,Ge+1,$e,Be,Ue,He);return qe},ZigZagModifier.prototype.processShapes=function(Ve){var $e,Be,Ue=this.shapes.length,ze,qe,He=this.amplitude.v,We=Math.max(0,Math.round(this.frequency.v)),Ge=this.pointsType.v;if(He!==0){var Ye,Xe;for(Be=0;Be<Ue;Be+=1){if(Ye=this.shapes[Be],Xe=Ye.localShapeCollection,!(!Ye.shape._mdf&&!this._mdf&&!Ve))for(Xe.releaseShapes(),Ye.shape._mdf=!0,$e=Ye.shape.paths.shapes,qe=Ye.shape.paths._length,ze=0;ze<qe;ze+=1)Xe.addShape(this.processPath($e[ze],He,We,Ge));Ye.shape.paths=Ye.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(Ve,$e,Be){var Ue=Math.atan2($e[0]-Ve[0],$e[1]-Ve[1]);return[polarOffset(Ve,Ue,Be),polarOffset($e,Ue,Be)]}function offsetSegment(Ve,$e){var Be,Ue,ze,qe,He,We,Ge;Ge=linearOffset(Ve.points[0],Ve.points[1],$e),Be=Ge[0],Ue=Ge[1],Ge=linearOffset(Ve.points[1],Ve.points[2],$e),ze=Ge[0],qe=Ge[1],Ge=linearOffset(Ve.points[2],Ve.points[3],$e),He=Ge[0],We=Ge[1];var Ye=lineIntersection(Be,Ue,ze,qe);Ye===null&&(Ye=Ue);var Xe=lineIntersection(He,We,ze,qe);return Xe===null&&(Xe=He),new PolynomialBezier(Be,Ye,Xe,We)}function joinLines(Ve,$e,Be,Ue,ze){var qe=$e.points[3],He=Be.points[0];if(Ue===3||pointEqual(qe,He))return qe;if(Ue===2){var We=-$e.tangentAngle(1),Ge=-Be.tangentAngle(0)+Math.PI,Ye=lineIntersection(qe,polarOffset(qe,We+Math.PI/2,100),He,polarOffset(He,We+Math.PI/2,100)),Xe=Ye?pointDistance(Ye,qe):pointDistance(qe,He)/2,Je=polarOffset(qe,We,2*Xe*roundCorner);return Ve.setXYAt(Je[0],Je[1],"o",Ve.length()-1),Je=polarOffset(He,Ge,2*Xe*roundCorner),Ve.setTripleAt(He[0],He[1],He[0],He[1],Je[0],Je[1],Ve.length()),He}var er=pointEqual(qe,$e.points[2])?$e.points[0]:$e.points[2],Ze=pointEqual(He,Be.points[1])?Be.points[3]:Be.points[1],rr=lineIntersection(er,qe,He,Ze);return rr&&pointDistance(rr,qe)<ze?(Ve.setTripleAt(rr[0],rr[1],rr[0],rr[1],rr[0],rr[1],Ve.length()),rr):qe}function getIntersection(Ve,$e){var Be=Ve.intersections($e);return Be.length&&floatEqual(Be[0][0],1)&&Be.shift(),Be.length?Be[0]:null}function pruneSegmentIntersection(Ve,$e){var Be=Ve.slice(),Ue=$e.slice(),ze=getIntersection(Ve[Ve.length-1],$e[0]);return ze&&(Be[Ve.length-1]=Ve[Ve.length-1].split(ze[0])[0],Ue[0]=$e[0].split(ze[1])[1]),Ve.length>1&&$e.length>1&&(ze=getIntersection(Ve[0],$e[$e.length-1]),ze)?[[Ve[0].split(ze[0])[0]],[$e[$e.length-1].split(ze[1])[1]]]:[Be,Ue]}function pruneIntersections(Ve){for(var $e,Be=1;Be<Ve.length;Be+=1)$e=pruneSegmentIntersection(Ve[Be-1],Ve[Be]),Ve[Be-1]=$e[0],Ve[Be]=$e[1];return Ve.length>1&&($e=pruneSegmentIntersection(Ve[Ve.length-1],Ve[0]),Ve[Ve.length-1]=$e[0],Ve[0]=$e[1]),Ve}function offsetSegmentSplit(Ve,$e){var Be=Ve.inflectionPoints(),Ue,ze,qe,He;if(Be.length===0)return[offsetSegment(Ve,$e)];if(Be.length===1||floatEqual(Be[1],1))return qe=Ve.split(Be[0]),Ue=qe[0],ze=qe[1],[offsetSegment(Ue,$e),offsetSegment(ze,$e)];qe=Ve.split(Be[0]),Ue=qe[0];var We=(Be[1]-Be[0])/(1-Be[0]);return qe=qe[1].split(We),He=qe[0],ze=qe[1],[offsetSegment(Ue,$e),offsetSegment(He,$e),offsetSegment(ze,$e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(Ve,$e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Ve,$e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(Ve,$e.ml,0,null,this),this.lineJoin=$e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(Ve,$e,Be,Ue){var ze=shapePool.newElement();ze.c=Ve.c;var qe=Ve.length();Ve.c||(qe-=1);var He,We,Ge,Ye=[];for(He=0;He<qe;He+=1)Ge=PolynomialBezier.shapeSegment(Ve,He),Ye.push(offsetSegmentSplit(Ge,$e));if(!Ve.c)for(He=qe-1;He>=0;He-=1)Ge=PolynomialBezier.shapeSegmentInverted(Ve,He),Ye.push(offsetSegmentSplit(Ge,$e));Ye=pruneIntersections(Ye);var Xe=null,Je=null;for(He=0;He<Ye.length;He+=1){var er=Ye[He];for(Je&&(Xe=joinLines(ze,Je,er[0],Be,Ue)),Je=er[er.length-1],We=0;We<er.length;We+=1)Ge=er[We],Xe&&pointEqual(Ge.points[0],Xe)?ze.setXYAt(Ge.points[1][0],Ge.points[1][1],"o",ze.length()-1):ze.setTripleAt(Ge.points[0][0],Ge.points[0][1],Ge.points[1][0],Ge.points[1][1],Ge.points[0][0],Ge.points[0][1],ze.length()),ze.setTripleAt(Ge.points[3][0],Ge.points[3][1],Ge.points[3][0],Ge.points[3][1],Ge.points[2][0],Ge.points[2][1],ze.length()),Xe=Ge.points[3]}return Ye.length&&joinLines(ze,Je,Ye[0][0],Be,Ue),ze},OffsetPathModifier.prototype.processShapes=function(Ve){var $e,Be,Ue=this.shapes.length,ze,qe,He=this.amount.v,We=this.miterLimit.v,Ge=this.lineJoin;if(He!==0){var Ye,Xe;for(Be=0;Be<Ue;Be+=1){if(Ye=this.shapes[Be],Xe=Ye.localShapeCollection,!(!Ye.shape._mdf&&!this._mdf&&!Ve))for(Xe.releaseShapes(),Ye.shape._mdf=!0,$e=Ye.shape.paths.shapes,qe=Ye.shape.paths._length,ze=0;ze<qe;ze+=1)Xe.addShape(this.processPath($e[ze],He,Ge,We));Ye.shape.paths=Ye.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(Ve){for(var $e=Ve.fStyle?Ve.fStyle.split(" "):[],Be="normal",Ue="normal",ze=$e.length,qe,He=0;He<ze;He+=1)switch(qe=$e[He].toLowerCase(),qe){case"italic":Ue="italic";break;case"bold":Be="700";break;case"black":Be="900";break;case"medium":Be="500";break;case"regular":case"normal":Be="400";break;case"light":case"thin":Be="200";break}return{style:Ue,weight:Ve.fWeight||Be}}var FontManager=(function(){var Ve=5e3,$e={w:0,size:0,shapes:[],data:{shapes:[]}},Be=[];Be=Be.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var Ue=127988,ze=917631,qe=917601,He=917626,We=65039,Ge=8205,Ye=127462,Xe=127487,Je=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function er(Er){var Nr=Er.split(","),wr,Ar=Nr.length,Lr=[];for(wr=0;wr<Ar;wr+=1)Nr[wr]!=="sans-serif"&&Nr[wr]!=="monospace"&&Lr.push(Nr[wr]);return Lr.join(",")}function Ze(Er,Nr){var wr=createTag("span");wr.setAttribute("aria-hidden",!0),wr.style.fontFamily=Nr;var Ar=createTag("span");Ar.innerText="giItT1WQy@!-/#",wr.style.position="absolute",wr.style.left="-10000px",wr.style.top="-10000px",wr.style.fontSize="300px",wr.style.fontVariant="normal",wr.style.fontStyle="normal",wr.style.fontWeight="normal",wr.style.letterSpacing="0",wr.appendChild(Ar),document.body.appendChild(wr);var Lr=Ar.offsetWidth;return Ar.style.fontFamily=er(Er)+", "+Nr,{node:Ar,w:Lr,parent:wr}}function rr(){var Er,Nr=this.fonts.length,wr,Ar,Lr=Nr;for(Er=0;Er<Nr;Er+=1)this.fonts[Er].loaded?Lr-=1:this.fonts[Er].fOrigin==="n"||this.fonts[Er].origin===0?this.fonts[Er].loaded=!0:(wr=this.fonts[Er].monoCase.node,Ar=this.fonts[Er].monoCase.w,wr.offsetWidth!==Ar?(Lr-=1,this.fonts[Er].loaded=!0):(wr=this.fonts[Er].sansCase.node,Ar=this.fonts[Er].sansCase.w,wr.offsetWidth!==Ar&&(Lr-=1,this.fonts[Er].loaded=!0)),this.fonts[Er].loaded&&(this.fonts[Er].sansCase.parent.parentNode.removeChild(this.fonts[Er].sansCase.parent),this.fonts[Er].monoCase.parent.parentNode.removeChild(this.fonts[Er].monoCase.parent)));Lr!==0&&Date.now()-this.initTime<Ve?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function nr(Er,Nr){var wr=document.body&&Nr?"svg":"canvas",Ar,Lr=getFontProperties(Er);if(wr==="svg"){var Pr=createNS("text");Pr.style.fontSize="100px",Pr.setAttribute("font-family",Er.fFamily),Pr.setAttribute("font-style",Lr.style),Pr.setAttribute("font-weight",Lr.weight),Pr.textContent="1",Er.fClass?(Pr.style.fontFamily="inherit",Pr.setAttribute("class",Er.fClass)):Pr.style.fontFamily=Er.fFamily,Nr.appendChild(Pr),Ar=Pr}else{var Tr=new OffscreenCanvas(500,500).getContext("2d");Tr.font=Lr.style+" "+Lr.weight+" 100px "+Er.fFamily,Ar=Tr}function Vr(Ur){return wr==="svg"?(Ar.textContent=Ur,Ar.getComputedTextLength()):Ar.measureText(Ur).width}return{measureText:Vr}}function ar(Er,Nr){if(!Er){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Er.list;return}if(!document.body){this.isLoaded=!0,Er.list.forEach(function(An){An.helper=nr(An),An.cache={}}),this.fonts=Er.list;return}var wr=Er.list,Ar,Lr=wr.length,Pr=Lr;for(Ar=0;Ar<Lr;Ar+=1){var Tr=!0,Vr,Ur;if(wr[Ar].loaded=!1,wr[Ar].monoCase=Ze(wr[Ar].fFamily,"monospace"),wr[Ar].sansCase=Ze(wr[Ar].fFamily,"sans-serif"),!wr[Ar].fPath)wr[Ar].loaded=!0,Pr-=1;else if(wr[Ar].fOrigin==="p"||wr[Ar].origin===3){if(Vr=document.querySelectorAll('style[f-forigin="p"][f-family="'+wr[Ar].fFamily+'"], style[f-origin="3"][f-family="'+wr[Ar].fFamily+'"]'),Vr.length>0&&(Tr=!1),Tr){var Yr=createTag("style");Yr.setAttribute("f-forigin",wr[Ar].fOrigin),Yr.setAttribute("f-origin",wr[Ar].origin),Yr.setAttribute("f-family",wr[Ar].fFamily),Yr.type="text/css",Yr.innerText="@font-face {font-family: "+wr[Ar].fFamily+"; font-style: normal; src: url('"+wr[Ar].fPath+"');}",Nr.appendChild(Yr)}}else if(wr[Ar].fOrigin==="g"||wr[Ar].origin===1){for(Vr=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Ur=0;Ur<Vr.length;Ur+=1)Vr[Ur].href.indexOf(wr[Ar].fPath)!==-1&&(Tr=!1);if(Tr){var Qr=createTag("link");Qr.setAttribute("f-forigin",wr[Ar].fOrigin),Qr.setAttribute("f-origin",wr[Ar].origin),Qr.type="text/css",Qr.rel="stylesheet",Qr.href=wr[Ar].fPath,document.body.appendChild(Qr)}}else if(wr[Ar].fOrigin==="t"||wr[Ar].origin===2){for(Vr=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Ur=0;Ur<Vr.length;Ur+=1)wr[Ar].fPath===Vr[Ur].src&&(Tr=!1);if(Tr){var mn=createTag("link");mn.setAttribute("f-forigin",wr[Ar].fOrigin),mn.setAttribute("f-origin",wr[Ar].origin),mn.setAttribute("rel","stylesheet"),mn.setAttribute("href",wr[Ar].fPath),Nr.appendChild(mn)}}wr[Ar].helper=nr(wr[Ar],Nr),wr[Ar].cache={},this.fonts.push(wr[Ar])}Pr===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function sr(Er){if(Er){this.chars||(this.chars=[]);var Nr,wr=Er.length,Ar,Lr=this.chars.length,Pr;for(Nr=0;Nr<wr;Nr+=1){for(Ar=0,Pr=!1;Ar<Lr;)this.chars[Ar].style===Er[Nr].style&&this.chars[Ar].fFamily===Er[Nr].fFamily&&this.chars[Ar].ch===Er[Nr].ch&&(Pr=!0),Ar+=1;Pr||(this.chars.push(Er[Nr]),Lr+=1)}}}function lr(Er,Nr,wr){for(var Ar=0,Lr=this.chars.length;Ar<Lr;){if(this.chars[Ar].ch===Er&&this.chars[Ar].style===Nr&&this.chars[Ar].fFamily===wr)return this.chars[Ar];Ar+=1}return(typeof Er=="string"&&Er.charCodeAt(0)!==13||!Er)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Er,Nr,wr)),$e}function or(Er,Nr,wr){var Ar=this.getFontByName(Nr),Lr=Er;if(!Ar.cache[Lr]){var Pr=Ar.helper;if(Er===" "){var Tr=Pr.measureText("|"+Er+"|"),Vr=Pr.measureText("||");Ar.cache[Lr]=(Tr-Vr)/100}else Ar.cache[Lr]=Pr.measureText(Er)/100}return Ar.cache[Lr]*wr}function cr(Er){for(var Nr=0,wr=this.fonts.length;Nr<wr;){if(this.fonts[Nr].fName===Er)return this.fonts[Nr];Nr+=1}return this.fonts[0]}function hr(Er){var Nr=0,wr=Er.charCodeAt(0);if(wr>=55296&&wr<=56319){var Ar=Er.charCodeAt(1);Ar>=56320&&Ar<=57343&&(Nr=(wr-55296)*1024+Ar-56320+65536)}return Nr}function yr(Er,Nr){var wr=Er.toString(16)+Nr.toString(16);return Je.indexOf(wr)!==-1}function mr(Er){return Er===Ge}function vr(Er){return Er===We}function _r(Er){var Nr=hr(Er);return Nr>=Ye&&Nr<=Xe}function Cr(Er){return _r(Er.substr(0,2))&&_r(Er.substr(2,2))}function br(Er){return Be.indexOf(Er)!==-1}function fr(Er,Nr){var wr=hr(Er.substr(Nr,2));if(wr!==Ue)return!1;var Ar=0;for(Nr+=2;Ar<5;){if(wr=hr(Er.substr(Nr,2)),wr<qe||wr>He)return!1;Ar+=1,Nr+=2}return hr(Er.substr(Nr,2))===ze}function Sr(){this.isLoaded=!0}var Dr=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Dr.isModifier=yr,Dr.isZeroWidthJoiner=mr,Dr.isFlagEmoji=Cr,Dr.isRegionalCode=_r,Dr.isCombinedCharacter=br,Dr.isRegionalFlag=fr,Dr.isVariationSelector=vr,Dr.BLACK_FLAG_CODE_POINT=Ue;var Or={addChars:sr,addFonts:ar,getCharData:lr,getFontByName:cr,measureText:or,checkLoadedFonts:rr,setIsLoaded:Sr};return Dr.prototype=Or,Dr})();function SlotManager(Ve){this.animationData=Ve}SlotManager.prototype.getProp=function(Ve){return this.animationData.slots&&this.animationData.slots[Ve.sid]?Object.assign(Ve,this.animationData.slots[Ve.sid].p):Ve};function slotFactory(Ve){return new SlotManager(Ve)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function($e){this.renderableComponents.indexOf($e)===-1&&this.renderableComponents.push($e)},removeRenderableComponent:function($e){this.renderableComponents.indexOf($e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf($e),1)},prepareRenderableFrame:function($e){this.checkLayerLimits($e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function($e){this.data.ip-this.data.st<=$e&&this.data.op-this.data.st>$e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var $e,Be=this.renderableComponents.length;for($e=0;$e<Be;$e+=1)this.renderableComponents[$e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var Ve={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function($e){return Ve[$e]||""}})();function SliderEffect(Ve,$e,Be){this.p=PropertyFactory.getProp($e,Ve.v,0,0,Be)}function AngleEffect(Ve,$e,Be){this.p=PropertyFactory.getProp($e,Ve.v,0,0,Be)}function ColorEffect(Ve,$e,Be){this.p=PropertyFactory.getProp($e,Ve.v,1,0,Be)}function PointEffect(Ve,$e,Be){this.p=PropertyFactory.getProp($e,Ve.v,1,0,Be)}function LayerIndexEffect(Ve,$e,Be){this.p=PropertyFactory.getProp($e,Ve.v,0,0,Be)}function MaskIndexEffect(Ve,$e,Be){this.p=PropertyFactory.getProp($e,Ve.v,0,0,Be)}function CheckboxEffect(Ve,$e,Be){this.p=PropertyFactory.getProp($e,Ve.v,0,0,Be)}function NoValueEffect(){this.p={}}function EffectsManager(Ve,$e){var Be=Ve.ef||[];this.effectElements=[];var Ue,ze=Be.length,qe;for(Ue=0;Ue<ze;Ue+=1)qe=new GroupEffect(Be[Ue],$e),this.effectElements.push(qe)}function GroupEffect(Ve,$e){this.init(Ve,$e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(Ve,$e){this.data=Ve,this.effectElements=[],this.initDynamicPropertyContainer($e);var Be,Ue=this.data.ef.length,ze,qe=this.data.ef;for(Be=0;Be<Ue;Be+=1){switch(ze=null,qe[Be].ty){case 0:ze=new SliderEffect(qe[Be],$e,this);break;case 1:ze=new AngleEffect(qe[Be],$e,this);break;case 2:ze=new ColorEffect(qe[Be],$e,this);break;case 3:ze=new PointEffect(qe[Be],$e,this);break;case 4:case 7:ze=new CheckboxEffect(qe[Be],$e,this);break;case 10:ze=new LayerIndexEffect(qe[Be],$e,this);break;case 11:ze=new MaskIndexEffect(qe[Be],$e,this);break;case 5:ze=new EffectsManager(qe[Be],$e);break;default:ze=new NoValueEffect(qe[Be]);break}ze&&this.effectElements.push(ze)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var $e=0,Be=this.data.masksProperties.length;$e<Be;){if(this.data.masksProperties[$e].mode!=="n"&&this.data.masksProperties[$e].cl!==!1)return!0;$e+=1}return!1},initExpressions:function(){var $e=getExpressionInterfaces();if($e){var Be=$e("layer"),Ue=$e("effects"),ze=$e("shape"),qe=$e("text"),He=$e("comp");this.layerInterface=Be(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var We=Ue.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(We),this.data.ty===0||this.data.xt?this.compInterface=He(this):this.data.ty===4?(this.layerInterface.shapeInterface=ze(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=qe(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var $e=getBlendMode(this.data.bm),Be=this.baseElement||this.layerElement;Be.style["mix-blend-mode"]=$e},initBaseData:function($e,Be,Ue){this.globalData=Be,this.comp=Ue,this.data=$e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function($e,Be){var Ue,ze=this.dynamicProperties.length;for(Ue=0;Ue<ze;Ue+=1)(Be||this._isParent&&this.dynamicProperties[Ue].propType==="transform")&&(this.dynamicProperties[Ue].getValue(),this.dynamicProperties[Ue]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function($e){this.dynamicProperties.indexOf($e)===-1&&this.dynamicProperties.push($e)}};function FootageElement(Ve,$e,Be){this.initFrame(),this.initRenderable(),this.assetData=$e.getAssetData(Ve.refId),this.footageData=$e.imageLoader.getAsset(this.assetData),this.initBaseData(Ve,$e,Be)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var Ve=getExpressionInterfaces();if(Ve){var $e=Ve("footage");this.layerInterface=$e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(Ve,$e,Be){this.initFrame(),this.initRenderable(),this.assetData=$e.getAssetData(Ve.refId),this.initBaseData(Ve,$e,Be),this._isPlaying=!1,this._canPlay=!1;var Ue=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(Ue),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=Ve.tm?PropertyFactory.getProp(this,Ve.tm,0,$e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,Ve.au&&Ve.au.lv?Ve.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(Ve){if(this.prepareRenderableFrame(Ve,!0),this.prepareProperties(Ve,!0),this.tm._placeholder)this._currentTime=Ve/this.data.sr;else{var $e=this.tm.v;this._currentTime=$e}this._volume=this.lv.v[0];var Be=this._volume*this._volumeMultiplier;this._previousVolume!==Be&&(this._previousVolume=Be,this.audio.volume(Be))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(Ve){this.audio.rate(Ve)},AudioElement.prototype.volume=function(Ve){this._volumeMultiplier=Ve,this._previousVolume=Ve*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(Ve){var $e,Be=this.layers.length,Ue;for(this.completeLayers=!0,$e=Be-1;$e>=0;$e-=1)this.elements[$e]||(Ue=this.layers[$e],Ue.ip-Ue.st<=Ve-this.layers[$e].st&&Ue.op-Ue.st>Ve-this.layers[$e].st&&this.buildItem($e)),this.completeLayers=this.elements[$e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(Ve){switch(Ve.ty){case 2:return this.createImage(Ve);case 0:return this.createComp(Ve);case 1:return this.createSolid(Ve);case 3:return this.createNull(Ve);case 4:return this.createShape(Ve);case 5:return this.createText(Ve);case 6:return this.createAudio(Ve);case 13:return this.createCamera(Ve);case 15:return this.createFootage(Ve);default:return this.createNull(Ve)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(Ve){return new AudioElement(Ve,this.globalData,this)},BaseRenderer.prototype.createFootage=function(Ve){return new FootageElement(Ve,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var Ve,$e=this.layers.length;for(Ve=0;Ve<$e;Ve+=1)this.buildItem(Ve);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(Ve){this.completeLayers=!1;var $e,Be=Ve.length,Ue,ze=this.layers.length;for($e=0;$e<Be;$e+=1)for(Ue=0;Ue<ze;){if(this.layers[Ue].id===Ve[$e].id){this.layers[Ue]=Ve[$e];break}Ue+=1}},BaseRenderer.prototype.setProjectInterface=function(Ve){this.globalData.projectInterface=Ve},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(Ve,$e,Be){for(var Ue=this.elements,ze=this.layers,qe=0,He=ze.length;qe<He;)ze[qe].ind==$e&&(!Ue[qe]||Ue[qe]===!0?(this.buildItem(qe),this.addPendingElement(Ve)):(Be.push(Ue[qe]),Ue[qe].setAsParent(),ze[qe].parent!==void 0?this.buildElementParenting(Ve,ze[qe].parent,Be):Ve.setHierarchy(Be))),qe+=1},BaseRenderer.prototype.addPendingElement=function(Ve){this.pendingElements.push(Ve)},BaseRenderer.prototype.searchExtraCompositions=function(Ve){var $e,Be=Ve.length;for($e=0;$e<Be;$e+=1)if(Ve[$e].xt){var Ue=this.createComp(Ve[$e]);Ue.initExpressions(),this.globalData.projectInterface.registerComposition(Ue)}},BaseRenderer.prototype.getElementById=function(Ve){var $e,Be=this.elements.length;for($e=0;$e<Be;$e+=1)if(this.elements[$e].data.ind===Ve)return this.elements[$e];return null},BaseRenderer.prototype.getElementByPath=function(Ve){var $e=Ve.shift(),Be;if(typeof $e=="number")Be=this.elements[$e];else{var Ue,ze=this.elements.length;for(Ue=0;Ue<ze;Ue+=1)if(this.elements[Ue].data.nm===$e){Be=this.elements[Ue];break}}return Ve.length===0?Be:Be.getElementByPath(Ve)},BaseRenderer.prototype.setupGlobalData=function(Ve,$e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(Ve),this.globalData.fontManager.addChars(Ve.chars),this.globalData.fontManager.addFonts(Ve.fonts,$e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=Ve.fr,this.globalData.nm=Ve.nm,this.globalData.compSize={w:Ve.w,h:Ve.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var $e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:$e,localMat:$e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var $e,Be=this.finalTransform.mat,Ue=0,ze=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;Ue<ze;){if(this.hierarchy[Ue].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}Ue+=1}if(this.finalTransform._matMdf)for($e=this.finalTransform.mProp.v.props,Be.cloneFromProps($e),Ue=0;Ue<ze;Ue+=1)Be.multiply(this.hierarchy[Ue].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var $e=0,Be=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;$e<Be;)this.localTransforms[$e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[$e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),$e+=1;if(this.finalTransform._localMatMdf){var Ue=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(Ue),$e=1;$e<Be;$e+=1){var ze=this.localTransforms[$e].matrix;Ue.multiply(ze)}Ue.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var qe=this.finalTransform.localOpacity;for($e=0;$e<Be;$e+=1)qe*=this.localTransforms[$e].opacity*.01;this.finalTransform.localOpacity=qe}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var $e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if($e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var Be=0,Ue=$e.length;for(Be=0;Be<Ue;Be+=1)this.localTransforms.push($e[Be])}}},globalToLocal:function($e){var Be=[];Be.push(this.finalTransform);for(var Ue=!0,ze=this.comp;Ue;)ze.finalTransform?(ze.data.hasMask&&Be.splice(0,0,ze.finalTransform),ze=ze.comp):Ue=!1;var qe,He=Be.length,We;for(qe=0;qe<He;qe+=1)We=Be[qe].mat.applyToPointArray(0,0,0),$e=[$e[0]-We[0],$e[1]-We[1],0];return $e},mHelper:new Matrix};function MaskElement(Ve,$e,Be){this.data=Ve,this.element=$e,this.globalData=Be,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var Ue=this.globalData.defs,ze,qe=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(qe),this.solidPath="";var He,We=this.masksProperties,Ge=0,Ye=[],Xe,Je,er=createElementID(),Ze,rr,nr,ar,sr="clipPath",lr="clip-path";for(ze=0;ze<qe;ze+=1)if((We[ze].mode!=="a"&&We[ze].mode!=="n"||We[ze].inv||We[ze].o.k!==100||We[ze].o.x)&&(sr="mask",lr="mask"),(We[ze].mode==="s"||We[ze].mode==="i")&&Ge===0?(Ze=createNS("rect"),Ze.setAttribute("fill","#ffffff"),Ze.setAttribute("width",this.element.comp.data.w||0),Ze.setAttribute("height",this.element.comp.data.h||0),Ye.push(Ze)):Ze=null,He=createNS("path"),We[ze].mode==="n")this.viewData[ze]={op:PropertyFactory.getProp(this.element,We[ze].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,We[ze],3),elem:He,lastPath:""},Ue.appendChild(He);else{Ge+=1,He.setAttribute("fill",We[ze].mode==="s"?"#000000":"#ffffff"),He.setAttribute("clip-rule","nonzero");var or;if(We[ze].x.k!==0?(sr="mask",lr="mask",ar=PropertyFactory.getProp(this.element,We[ze].x,0,null,this.element),or=createElementID(),rr=createNS("filter"),rr.setAttribute("id",or),nr=createNS("feMorphology"),nr.setAttribute("operator","erode"),nr.setAttribute("in","SourceGraphic"),nr.setAttribute("radius","0"),rr.appendChild(nr),Ue.appendChild(rr),He.setAttribute("stroke",We[ze].mode==="s"?"#000000":"#ffffff")):(nr=null,ar=null),this.storedData[ze]={elem:He,x:ar,expan:nr,lastPath:"",lastOperator:"",filterId:or,lastRadius:0},We[ze].mode==="i"){Je=Ye.length;var cr=createNS("g");for(Xe=0;Xe<Je;Xe+=1)cr.appendChild(Ye[Xe]);var hr=createNS("mask");hr.setAttribute("mask-type","alpha"),hr.setAttribute("id",er+"_"+Ge),hr.appendChild(He),Ue.appendChild(hr),cr.setAttribute("mask","url("+getLocationHref()+"#"+er+"_"+Ge+")"),Ye.length=0,Ye.push(cr)}else Ye.push(He);We[ze].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[ze]={elem:He,lastPath:"",op:PropertyFactory.getProp(this.element,We[ze].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,We[ze],3),invRect:Ze},this.viewData[ze].prop.k||this.drawPath(We[ze],this.viewData[ze].prop.v,this.viewData[ze])}for(this.maskElement=createNS(sr),qe=Ye.length,ze=0;ze<qe;ze+=1)this.maskElement.appendChild(Ye[ze]);Ge>0&&(this.maskElement.setAttribute("id",er),this.element.maskedElement.setAttribute(lr,"url("+getLocationHref()+"#"+er+")"),Ue.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(Ve){return this.viewData[Ve].prop},MaskElement.prototype.renderFrame=function(Ve){var $e=this.element.finalTransform.mat,Be,Ue=this.masksProperties.length;for(Be=0;Be<Ue;Be+=1)if((this.viewData[Be].prop._mdf||Ve)&&this.drawPath(this.masksProperties[Be],this.viewData[Be].prop.v,this.viewData[Be]),(this.viewData[Be].op._mdf||Ve)&&this.viewData[Be].elem.setAttribute("fill-opacity",this.viewData[Be].op.v),this.masksProperties[Be].mode!=="n"&&(this.viewData[Be].invRect&&(this.element.finalTransform.mProp._mdf||Ve)&&this.viewData[Be].invRect.setAttribute("transform",$e.getInverseMatrix().to2dCSS()),this.storedData[Be].x&&(this.storedData[Be].x._mdf||Ve))){var ze=this.storedData[Be].expan;this.storedData[Be].x.v<0?(this.storedData[Be].lastOperator!=="erode"&&(this.storedData[Be].lastOperator="erode",this.storedData[Be].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[Be].filterId+")")),ze.setAttribute("radius",-this.storedData[Be].x.v)):(this.storedData[Be].lastOperator!=="dilate"&&(this.storedData[Be].lastOperator="dilate",this.storedData[Be].elem.setAttribute("filter",null)),this.storedData[Be].elem.setAttribute("stroke-width",this.storedData[Be].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var Ve="M0,0 ";return Ve+=" h"+this.globalData.compSize.w,Ve+=" v"+this.globalData.compSize.h,Ve+=" h-"+this.globalData.compSize.w,Ve+=" v-"+this.globalData.compSize.h+" ",Ve},MaskElement.prototype.drawPath=function(Ve,$e,Be){var Ue=" M"+$e.v[0][0]+","+$e.v[0][1],ze,qe;for(qe=$e._length,ze=1;ze<qe;ze+=1)Ue+=" C"+$e.o[ze-1][0]+","+$e.o[ze-1][1]+" "+$e.i[ze][0]+","+$e.i[ze][1]+" "+$e.v[ze][0]+","+$e.v[ze][1];if($e.c&&qe>1&&(Ue+=" C"+$e.o[ze-1][0]+","+$e.o[ze-1][1]+" "+$e.i[0][0]+","+$e.i[0][1]+" "+$e.v[0][0]+","+$e.v[0][1]),Be.lastPath!==Ue){var He="";Be.elem&&($e.c&&(He=Ve.inv?this.solidPath+Ue:Ue),Be.elem.setAttribute("d",He)),Be.lastPath=Ue}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var Ve={};Ve.createFilter=$e,Ve.createAlphaToLuminanceFilter=Be;function $e(Ue,ze){var qe=createNS("filter");return qe.setAttribute("id",Ue),ze!==!0&&(qe.setAttribute("filterUnits","objectBoundingBox"),qe.setAttribute("x","0%"),qe.setAttribute("y","0%"),qe.setAttribute("width","100%"),qe.setAttribute("height","100%")),qe}function Be(){var Ue=createNS("feColorMatrix");return Ue.setAttribute("type","matrix"),Ue.setAttribute("color-interpolation-filters","sRGB"),Ue.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),Ue}return Ve})(),featureSupport=(function(){var Ve={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(Ve.maskType=!1),/firefox/i.test(navigator.userAgent)&&(Ve.svgLumaHidden=!1),Ve})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(Ve){var $e,Be="SourceGraphic",Ue=Ve.data.ef?Ve.data.ef.length:0,ze=createElementID(),qe=filtersFactory.createFilter(ze,!0),He=0;this.filters=[];var We;for($e=0;$e<Ue;$e+=1){We=null;var Ge=Ve.data.ef[$e].ty;if(registeredEffects$1[Ge]){var Ye=registeredEffects$1[Ge].effect;We=new Ye(qe,Ve.effectsManager.effectElements[$e],Ve,idPrefix+He,Be),Be=idPrefix+He,registeredEffects$1[Ge].countsAsEffect&&(He+=1)}We&&this.filters.push(We)}He&&(Ve.globalData.defs.appendChild(qe),Ve.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+ze+")")),this.filters.length&&Ve.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(Ve){var $e,Be=this.filters.length;for($e=0;$e<Be;$e+=1)this.filters[$e].renderFrame(Ve)},SVGEffects.prototype.getEffects=function(Ve){var $e,Be=this.filters.length,Ue=[];for($e=0;$e<Be;$e+=1)this.filters[$e].type===Ve&&Ue.push(this.filters[$e]);return Ue};function registerEffect$1(Ve,$e,Be){registeredEffects$1[Ve]={effect:$e,countsAsEffect:Be}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var $e=null;if(this.data.td){this.matteMasks={};var Be=createNS("g");Be.setAttribute("id",this.layerId),Be.appendChild(this.layerElement),$e=Be,this.globalData.defs.appendChild(Be)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),$e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Ue=createNS("clipPath"),ze=createNS("path");ze.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var qe=createElementID();if(Ue.setAttribute("id",qe),Ue.appendChild(ze),this.globalData.defs.appendChild(Ue),this.checkMasks()){var He=createNS("g");He.setAttribute("clip-path","url("+getLocationHref()+"#"+qe+")"),He.appendChild(this.layerElement),this.transformedElement=He,$e?$e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+qe+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function($e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[$e]){var Be=this.layerId+"_"+$e,Ue,ze,qe,He;if($e===1||$e===3){var We=createNS("mask");We.setAttribute("id",Be),We.setAttribute("mask-type",$e===3?"luminance":"alpha"),qe=createNS("use"),qe.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),We.appendChild(qe),this.globalData.defs.appendChild(We),!featureSupport.maskType&&$e===1&&(We.setAttribute("mask-type","luminance"),Ue=createElementID(),ze=filtersFactory.createFilter(Ue),this.globalData.defs.appendChild(ze),ze.appendChild(filtersFactory.createAlphaToLuminanceFilter()),He=createNS("g"),He.appendChild(qe),We.appendChild(He),He.setAttribute("filter","url("+getLocationHref()+"#"+Ue+")"))}else if($e===2){var Ge=createNS("mask");Ge.setAttribute("id",Be),Ge.setAttribute("mask-type","alpha");var Ye=createNS("g");Ge.appendChild(Ye),Ue=createElementID(),ze=filtersFactory.createFilter(Ue);var Xe=createNS("feComponentTransfer");Xe.setAttribute("in","SourceGraphic"),ze.appendChild(Xe);var Je=createNS("feFuncA");Je.setAttribute("type","table"),Je.setAttribute("tableValues","1.0 0.0"),Xe.appendChild(Je),this.globalData.defs.appendChild(ze);var er=createNS("rect");er.setAttribute("width",this.comp.data.w),er.setAttribute("height",this.comp.data.h),er.setAttribute("x","0"),er.setAttribute("y","0"),er.setAttribute("fill","#ffffff"),er.setAttribute("opacity","0"),Ye.setAttribute("filter","url("+getLocationHref()+"#"+Ue+")"),Ye.appendChild(er),qe=createNS("use"),qe.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Ye.appendChild(qe),featureSupport.maskType||(Ge.setAttribute("mask-type","luminance"),ze.appendChild(filtersFactory.createAlphaToLuminanceFilter()),He=createNS("g"),Ye.appendChild(er),He.appendChild(this.layerElement),Ye.appendChild(He)),this.globalData.defs.appendChild(Ge)}this.matteMasks[$e]=Be}return this.matteMasks[$e]},setMatte:function($e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+$e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function($e){this.hierarchy=$e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var Ve={initElement:function(Be,Ue,ze){this.initFrame(),this.initBaseData(Be,Ue,ze),this.initTransform(Be,Ue,ze),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var Be=this.baseElement||this.layerElement;Be.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var Be=this.baseElement||this.layerElement;Be.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(Be){this._mdf=!1,this.prepareRenderableFrame(Be),this.prepareProperties(Be,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(Ve)],RenderableDOMElement)})();function IImageElement(Ve,$e,Be){this.assetData=$e.getAssetData(Ve.refId),this.assetData&&this.assetData.sid&&(this.assetData=$e.slotManager.getProp(this.assetData)),this.initElement(Ve,$e,Be),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var Ve=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Ve),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(Ve,$e){this.elem=Ve,this.pos=$e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function($e){var Be,Ue=this.shapeModifiers.length;for(Be=0;Be<Ue;Be+=1)this.shapeModifiers[Be].addShape($e)},isShapeInAnimatedModifiers:function($e){for(var Be=0,Ue=this.shapeModifiers.length;Be<Ue;)if(this.shapeModifiers[Be].isAnimatedWithShape($e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var $e,Be=this.shapes.length;for($e=0;$e<Be;$e+=1)this.shapes[$e].sh.reset();Be=this.shapeModifiers.length;var Ue;for($e=Be-1;$e>=0&&(Ue=this.shapeModifiers[$e].processShapes(this._isFirstFrame),!Ue);$e-=1);}},searchProcessedElement:function($e){for(var Be=this.processedElements,Ue=0,ze=Be.length;Ue<ze;){if(Be[Ue].elem===$e)return Be[Ue].pos;Ue+=1}return 0},addProcessedElement:function($e,Be){for(var Ue=this.processedElements,ze=Ue.length;ze;)if(ze-=1,Ue[ze].elem===$e){Ue[ze].pos=Be;return}Ue.push(new ProcessedElement($e,Be))},prepareFrame:function($e){this.prepareRenderableFrame($e),this.prepareProperties($e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(Ve,$e,Be){this.caches=[],this.styles=[],this.transformers=Ve,this.lStr="",this.sh=Be,this.lvl=$e,this._isAnimated=!!Be.k;for(var Ue=0,ze=Ve.length;Ue<ze;){if(Ve[Ue].mProps.dynamicProperties.length){this._isAnimated=!0;break}Ue+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(Ve,$e){this.data=Ve,this.type=Ve.ty,this.d="",this.lvl=$e,this._mdf=!1,this.closed=Ve.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(Ve,$e,Be,Ue){this.elem=Ve,this.frameId=-1,this.dataProps=createSizedArray($e.length),this.renderer=Be,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",$e.length?$e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(Ue);var ze,qe=$e.length||0,He;for(ze=0;ze<qe;ze+=1)He=PropertyFactory.getProp(Ve,$e[ze].v,0,0,this),this.k=He.k||this.k,this.dataProps[ze]={n:$e[ze].n,p:He};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(Ve){if(!(this.elem.globalData.frameId===this.frameId&&!Ve)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||Ve,this._mdf)){var $e=0,Be=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),$e=0;$e<Be;$e+=1)this.dataProps[$e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[$e].p.v:this.dashArray[$e]=this.dataProps[$e].p.v:this.dashoffset[0]=this.dataProps[$e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(Ve,$e,Be){this.initDynamicPropertyContainer(Ve),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Ve,$e.o,0,.01,this),this.w=PropertyFactory.getProp(Ve,$e.w,0,null,this),this.d=new DashProperty(Ve,$e.d||{},"svg",this),this.c=PropertyFactory.getProp(Ve,$e.c,1,255,this),this.style=Be,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(Ve,$e,Be){this.initDynamicPropertyContainer(Ve),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Ve,$e.o,0,.01,this),this.c=PropertyFactory.getProp(Ve,$e.c,1,255,this),this.style=Be}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(Ve,$e,Be){this.initDynamicPropertyContainer(Ve),this.getValue=this.iterateDynamicProperties,this.style=Be}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(Ve,$e,Be){this.data=$e,this.c=createTypedArray("uint8c",$e.p*4);var Ue=$e.k.k[0].s?$e.k.k[0].s.length-$e.p*4:$e.k.k.length-$e.p*4;this.o=createTypedArray("float32",Ue),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=Ue,this.initDynamicPropertyContainer(Be),this.prop=PropertyFactory.getProp(Ve,$e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(Ve,$e){for(var Be=0,Ue=this.o.length/2,ze;Be<Ue;){if(ze=Math.abs(Ve[Be*4]-Ve[$e*4+Be*2]),ze>.01)return!1;Be+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var Ve=0,$e=this.data.k.k.length;Ve<$e;){if(!this.comparePoints(this.data.k.k[Ve].s,this.data.p))return!1;Ve+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(Ve){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||Ve){var $e,Be=this.data.p*4,Ue,ze;for($e=0;$e<Be;$e+=1)Ue=$e%4===0?100:255,ze=Math.round(this.prop.v[$e]*Ue),this.c[$e]!==ze&&(this.c[$e]=ze,this._cmdf=!Ve);if(this.o.length)for(Be=this.prop.v.length,$e=this.data.p*4;$e<Be;$e+=1)Ue=$e%2===0?100:1,ze=$e%2===0?Math.round(this.prop.v[$e]*100):this.prop.v[$e],this.o[$e-this.data.p*4]!==ze&&(this.o[$e-this.data.p*4]=ze,this._omdf=!Ve);this._mdf=!Ve}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(Ve,$e,Be){this.initDynamicPropertyContainer(Ve),this.getValue=this.iterateDynamicProperties,this.initGradientData(Ve,$e,Be)}SVGGradientFillStyleData.prototype.initGradientData=function(Ve,$e,Be){this.o=PropertyFactory.getProp(Ve,$e.o,0,.01,this),this.s=PropertyFactory.getProp(Ve,$e.s,1,null,this),this.e=PropertyFactory.getProp(Ve,$e.e,1,null,this),this.h=PropertyFactory.getProp(Ve,$e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(Ve,$e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(Ve,$e.g,this),this.style=Be,this.stops=[],this.setGradientData(Be.pElem,$e),this.setGradientOpacity($e,Be),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(Ve,$e){var Be=createElementID(),Ue=createNS($e.t===1?"linearGradient":"radialGradient");Ue.setAttribute("id",Be),Ue.setAttribute("spreadMethod","pad"),Ue.setAttribute("gradientUnits","userSpaceOnUse");var ze=[],qe,He,We;for(We=$e.g.p*4,He=0;He<We;He+=4)qe=createNS("stop"),Ue.appendChild(qe),ze.push(qe);Ve.setAttribute($e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Be+")"),this.gf=Ue,this.cst=ze},SVGGradientFillStyleData.prototype.setGradientOpacity=function(Ve,$e){if(this.g._hasOpacity&&!this.g._collapsable){var Be,Ue,ze,qe=createNS("mask"),He=createNS("path");qe.appendChild(He);var We=createElementID(),Ge=createElementID();qe.setAttribute("id",Ge);var Ye=createNS(Ve.t===1?"linearGradient":"radialGradient");Ye.setAttribute("id",We),Ye.setAttribute("spreadMethod","pad"),Ye.setAttribute("gradientUnits","userSpaceOnUse"),ze=Ve.g.k.k[0].s?Ve.g.k.k[0].s.length:Ve.g.k.k.length;var Xe=this.stops;for(Ue=Ve.g.p*4;Ue<ze;Ue+=2)Be=createNS("stop"),Be.setAttribute("stop-color","rgb(255,255,255)"),Ye.appendChild(Be),Xe.push(Be);He.setAttribute(Ve.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+We+")"),Ve.ty==="gs"&&(He.setAttribute("stroke-linecap",lineCapEnum[Ve.lc||2]),He.setAttribute("stroke-linejoin",lineJoinEnum[Ve.lj||2]),Ve.lj===1&&He.setAttribute("stroke-miterlimit",Ve.ml)),this.of=Ye,this.ms=qe,this.ost=Xe,this.maskId=Ge,$e.msElem=He}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(Ve,$e,Be){this.initDynamicPropertyContainer(Ve),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(Ve,$e.w,0,null,this),this.d=new DashProperty(Ve,$e.d||{},"svg",this),this.initGradientData(Ve,$e,Be),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(Ve,$e,Be){this.transform={mProps:Ve,op:$e,container:Be},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function($e,Be,Ue,ze){if(Be===0)return"";var qe=$e.o,He=$e.i,We=$e.v,Ge,Ye=" M"+ze.applyToPointStringified(We[0][0],We[0][1]);for(Ge=1;Ge<Be;Ge+=1)Ye+=" C"+ze.applyToPointStringified(qe[Ge-1][0],qe[Ge-1][1])+" "+ze.applyToPointStringified(He[Ge][0],He[Ge][1])+" "+ze.applyToPointStringified(We[Ge][0],We[Ge][1]);return Ue&&Be&&(Ye+=" C"+ze.applyToPointStringified(qe[Ge-1][0],qe[Ge-1][1])+" "+ze.applyToPointStringified(He[0][0],He[0][1])+" "+ze.applyToPointStringified(We[0][0],We[0][1]),Ye+="z"),Ye},SVGElementsRenderer=(function(){var Ve=new Matrix,$e=new Matrix,Be={createRenderFunction:Ue};function Ue(Je){switch(Je.ty){case"fl":return We;case"gf":return Ye;case"gs":return Ge;case"st":return Xe;case"sh":case"el":case"rc":case"sr":return He;case"tr":return ze;case"no":return qe;default:return null}}function ze(Je,er,Ze){(Ze||er.transform.op._mdf)&&er.transform.container.setAttribute("opacity",er.transform.op.v),(Ze||er.transform.mProps._mdf)&&er.transform.container.setAttribute("transform",er.transform.mProps.v.to2dCSS())}function qe(){}function He(Je,er,Ze){var rr,nr,ar,sr,lr,or,cr=er.styles.length,hr=er.lvl,yr,mr,vr,_r;for(or=0;or<cr;or+=1){if(sr=er.sh._mdf||Ze,er.styles[or].lvl<hr){for(mr=$e.reset(),vr=hr-er.styles[or].lvl,_r=er.transformers.length-1;!sr&&vr>0;)sr=er.transformers[_r].mProps._mdf||sr,vr-=1,_r-=1;if(sr)for(vr=hr-er.styles[or].lvl,_r=er.transformers.length-1;vr>0;)mr.multiply(er.transformers[_r].mProps.v),vr-=1,_r-=1}else mr=Ve;if(yr=er.sh.paths,nr=yr._length,sr){for(ar="",rr=0;rr<nr;rr+=1)lr=yr.shapes[rr],lr&&lr._length&&(ar+=buildShapeString(lr,lr._length,lr.c,mr));er.caches[or]=ar}else ar=er.caches[or];er.styles[or].d+=Je.hd===!0?"":ar,er.styles[or]._mdf=sr||er.styles[or]._mdf}}function We(Je,er,Ze){var rr=er.style;(er.c._mdf||Ze)&&rr.pElem.setAttribute("fill","rgb("+bmFloor(er.c.v[0])+","+bmFloor(er.c.v[1])+","+bmFloor(er.c.v[2])+")"),(er.o._mdf||Ze)&&rr.pElem.setAttribute("fill-opacity",er.o.v)}function Ge(Je,er,Ze){Ye(Je,er,Ze),Xe(Je,er,Ze)}function Ye(Je,er,Ze){var rr=er.gf,nr=er.g._hasOpacity,ar=er.s.v,sr=er.e.v;if(er.o._mdf||Ze){var lr=Je.ty==="gf"?"fill-opacity":"stroke-opacity";er.style.pElem.setAttribute(lr,er.o.v)}if(er.s._mdf||Ze){var or=Je.t===1?"x1":"cx",cr=or==="x1"?"y1":"cy";rr.setAttribute(or,ar[0]),rr.setAttribute(cr,ar[1]),nr&&!er.g._collapsable&&(er.of.setAttribute(or,ar[0]),er.of.setAttribute(cr,ar[1]))}var hr,yr,mr,vr;if(er.g._cmdf||Ze){hr=er.cst;var _r=er.g.c;for(mr=hr.length,yr=0;yr<mr;yr+=1)vr=hr[yr],vr.setAttribute("offset",_r[yr*4]+"%"),vr.setAttribute("stop-color","rgb("+_r[yr*4+1]+","+_r[yr*4+2]+","+_r[yr*4+3]+")")}if(nr&&(er.g._omdf||Ze)){var Cr=er.g.o;for(er.g._collapsable?hr=er.cst:hr=er.ost,mr=hr.length,yr=0;yr<mr;yr+=1)vr=hr[yr],er.g._collapsable||vr.setAttribute("offset",Cr[yr*2]+"%"),vr.setAttribute("stop-opacity",Cr[yr*2+1])}if(Je.t===1)(er.e._mdf||Ze)&&(rr.setAttribute("x2",sr[0]),rr.setAttribute("y2",sr[1]),nr&&!er.g._collapsable&&(er.of.setAttribute("x2",sr[0]),er.of.setAttribute("y2",sr[1])));else{var br;if((er.s._mdf||er.e._mdf||Ze)&&(br=Math.sqrt(Math.pow(ar[0]-sr[0],2)+Math.pow(ar[1]-sr[1],2)),rr.setAttribute("r",br),nr&&!er.g._collapsable&&er.of.setAttribute("r",br)),er.s._mdf||er.e._mdf||er.h._mdf||er.a._mdf||Ze){br||(br=Math.sqrt(Math.pow(ar[0]-sr[0],2)+Math.pow(ar[1]-sr[1],2)));var fr=Math.atan2(sr[1]-ar[1],sr[0]-ar[0]),Sr=er.h.v;Sr>=1?Sr=.99:Sr<=-1&&(Sr=-.99);var Dr=br*Sr,Or=Math.cos(fr+er.a.v)*Dr+ar[0],Er=Math.sin(fr+er.a.v)*Dr+ar[1];rr.setAttribute("fx",Or),rr.setAttribute("fy",Er),nr&&!er.g._collapsable&&(er.of.setAttribute("fx",Or),er.of.setAttribute("fy",Er))}}}function Xe(Je,er,Ze){var rr=er.style,nr=er.d;nr&&(nr._mdf||Ze)&&nr.dashStr&&(rr.pElem.setAttribute("stroke-dasharray",nr.dashStr),rr.pElem.setAttribute("stroke-dashoffset",nr.dashoffset[0])),er.c&&(er.c._mdf||Ze)&&rr.pElem.setAttribute("stroke","rgb("+bmFloor(er.c.v[0])+","+bmFloor(er.c.v[1])+","+bmFloor(er.c.v[2])+")"),(er.o._mdf||Ze)&&rr.pElem.setAttribute("stroke-opacity",er.o.v),(er.w._mdf||Ze)&&(rr.pElem.setAttribute("stroke-width",er.w.v),rr.msElem&&rr.msElem.setAttribute("stroke-width",er.w.v))}return Be})();function SVGShapeElement(Ve,$e,Be){this.shapes=[],this.shapesData=Ve.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(Ve,$e,Be),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var Ve,$e=this.shapes.length,Be,Ue,ze=this.stylesList.length,qe,He=[],We=!1;for(Ue=0;Ue<ze;Ue+=1){for(qe=this.stylesList[Ue],We=!1,He.length=0,Ve=0;Ve<$e;Ve+=1)Be=this.shapes[Ve],Be.styles.indexOf(qe)!==-1&&(He.push(Be),We=Be._isAnimated||We);He.length>1&&We&&this.setShapesAsAnimated(He)}},SVGShapeElement.prototype.setShapesAsAnimated=function(Ve){var $e,Be=Ve.length;for($e=0;$e<Be;$e+=1)Ve[$e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(Ve,$e){var Be,Ue=new SVGStyleData(Ve,$e),ze=Ue.pElem;if(Ve.ty==="st")Be=new SVGStrokeStyleData(this,Ve,Ue);else if(Ve.ty==="fl")Be=new SVGFillStyleData(this,Ve,Ue);else if(Ve.ty==="gf"||Ve.ty==="gs"){var qe=Ve.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;Be=new qe(this,Ve,Ue),this.globalData.defs.appendChild(Be.gf),Be.maskId&&(this.globalData.defs.appendChild(Be.ms),this.globalData.defs.appendChild(Be.of),ze.setAttribute("mask","url("+getLocationHref()+"#"+Be.maskId+")"))}else Ve.ty==="no"&&(Be=new SVGNoStyleData(this,Ve,Ue));return(Ve.ty==="st"||Ve.ty==="gs")&&(ze.setAttribute("stroke-linecap",lineCapEnum[Ve.lc||2]),ze.setAttribute("stroke-linejoin",lineJoinEnum[Ve.lj||2]),ze.setAttribute("fill-opacity","0"),Ve.lj===1&&ze.setAttribute("stroke-miterlimit",Ve.ml)),Ve.r===2&&ze.setAttribute("fill-rule","evenodd"),Ve.ln&&ze.setAttribute("id",Ve.ln),Ve.cl&&ze.setAttribute("class",Ve.cl),Ve.bm&&(ze.style["mix-blend-mode"]=getBlendMode(Ve.bm)),this.stylesList.push(Ue),this.addToAnimatedContents(Ve,Be),Be},SVGShapeElement.prototype.createGroupElement=function(Ve){var $e=new ShapeGroupData;return Ve.ln&&$e.gr.setAttribute("id",Ve.ln),Ve.cl&&$e.gr.setAttribute("class",Ve.cl),Ve.bm&&($e.gr.style["mix-blend-mode"]=getBlendMode(Ve.bm)),$e},SVGShapeElement.prototype.createTransformElement=function(Ve,$e){var Be=TransformPropertyFactory.getTransformProperty(this,Ve,this),Ue=new SVGTransformData(Be,Be.o,$e);return this.addToAnimatedContents(Ve,Ue),Ue},SVGShapeElement.prototype.createShapeElement=function(Ve,$e,Be){var Ue=4;Ve.ty==="rc"?Ue=5:Ve.ty==="el"?Ue=6:Ve.ty==="sr"&&(Ue=7);var ze=ShapePropertyFactory.getShapeProp(this,Ve,Ue,this),qe=new SVGShapeData($e,Be,ze);return this.shapes.push(qe),this.addShapeToModifiers(qe),this.addToAnimatedContents(Ve,qe),qe},SVGShapeElement.prototype.addToAnimatedContents=function(Ve,$e){for(var Be=0,Ue=this.animatedContents.length;Be<Ue;){if(this.animatedContents[Be].element===$e)return;Be+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(Ve),element:$e,data:Ve})},SVGShapeElement.prototype.setElementStyles=function(Ve){var $e=Ve.styles,Be,Ue=this.stylesList.length;for(Be=0;Be<Ue;Be+=1)$e.indexOf(this.stylesList[Be])===-1&&!this.stylesList[Be].closed&&$e.push(this.stylesList[Be])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Ve,$e=this.itemsData.length;for(Ve=0;Ve<$e;Ve+=1)this.prevViewData[Ve]=this.itemsData[Ve];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),$e=this.dynamicProperties.length,Ve=0;Ve<$e;Ve+=1)this.dynamicProperties[Ve].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(Ve,$e,Be,Ue,ze,qe,He){var We=[].concat(qe),Ge,Ye=Ve.length-1,Xe,Je,er=[],Ze=[],rr,nr,ar;for(Ge=Ye;Ge>=0;Ge-=1){if(ar=this.searchProcessedElement(Ve[Ge]),ar?$e[Ge]=Be[ar-1]:Ve[Ge]._render=He,Ve[Ge].ty==="fl"||Ve[Ge].ty==="st"||Ve[Ge].ty==="gf"||Ve[Ge].ty==="gs"||Ve[Ge].ty==="no")ar?$e[Ge].style.closed=Ve[Ge].hd:$e[Ge]=this.createStyleElement(Ve[Ge],ze),Ve[Ge]._render&&$e[Ge].style.pElem.parentNode!==Ue&&Ue.appendChild($e[Ge].style.pElem),er.push($e[Ge].style);else if(Ve[Ge].ty==="gr"){if(!ar)$e[Ge]=this.createGroupElement(Ve[Ge]);else for(Je=$e[Ge].it.length,Xe=0;Xe<Je;Xe+=1)$e[Ge].prevViewData[Xe]=$e[Ge].it[Xe];this.searchShapes(Ve[Ge].it,$e[Ge].it,$e[Ge].prevViewData,$e[Ge].gr,ze+1,We,He),Ve[Ge]._render&&$e[Ge].gr.parentNode!==Ue&&Ue.appendChild($e[Ge].gr)}else Ve[Ge].ty==="tr"?(ar||($e[Ge]=this.createTransformElement(Ve[Ge],Ue)),rr=$e[Ge].transform,We.push(rr)):Ve[Ge].ty==="sh"||Ve[Ge].ty==="rc"||Ve[Ge].ty==="el"||Ve[Ge].ty==="sr"?(ar||($e[Ge]=this.createShapeElement(Ve[Ge],We,ze)),this.setElementStyles($e[Ge])):Ve[Ge].ty==="tm"||Ve[Ge].ty==="rd"||Ve[Ge].ty==="ms"||Ve[Ge].ty==="pb"||Ve[Ge].ty==="zz"||Ve[Ge].ty==="op"?(ar?(nr=$e[Ge],nr.closed=!1):(nr=ShapeModifiers.getModifier(Ve[Ge].ty),nr.init(this,Ve[Ge]),$e[Ge]=nr,this.shapeModifiers.push(nr)),Ze.push(nr)):Ve[Ge].ty==="rp"&&(ar?(nr=$e[Ge],nr.closed=!0):(nr=ShapeModifiers.getModifier(Ve[Ge].ty),$e[Ge]=nr,nr.init(this,Ve,Ge,$e),this.shapeModifiers.push(nr),He=!1),Ze.push(nr));this.addProcessedElement(Ve[Ge],Ge+1)}for(Ye=er.length,Ge=0;Ge<Ye;Ge+=1)er[Ge].closed=!0;for(Ye=Ze.length,Ge=0;Ge<Ye;Ge+=1)Ze[Ge].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var Ve,$e=this.stylesList.length;for(Ve=0;Ve<$e;Ve+=1)this.stylesList[Ve].reset();for(this.renderShape(),Ve=0;Ve<$e;Ve+=1)(this.stylesList[Ve]._mdf||this._isFirstFrame)&&(this.stylesList[Ve].msElem&&(this.stylesList[Ve].msElem.setAttribute("d",this.stylesList[Ve].d),this.stylesList[Ve].d="M0 0"+this.stylesList[Ve].d),this.stylesList[Ve].pElem.setAttribute("d",this.stylesList[Ve].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var Ve,$e=this.animatedContents.length,Be;for(Ve=0;Ve<$e;Ve+=1)Be=this.animatedContents[Ve],(this._isFirstFrame||Be.element._isAnimated)&&Be.data!==!0&&Be.fn(Be.data,Be.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(Ve,$e,Be,Ue,ze,qe){this.o=Ve,this.sw=$e,this.sc=Be,this.fc=Ue,this.m=ze,this.p=qe,this._mdf={o:!0,sw:!!$e,sc:!!Be,fc:!!Ue,m:!0,p:!0}}LetterProps.prototype.update=function(Ve,$e,Be,Ue,ze,qe){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var He=!1;return this.o!==Ve&&(this.o=Ve,this._mdf.o=!0,He=!0),this.sw!==$e&&(this.sw=$e,this._mdf.sw=!0,He=!0),this.sc!==Be&&(this.sc=Be,this._mdf.sc=!0,He=!0),this.fc!==Ue&&(this.fc=Ue,this._mdf.fc=!0,He=!0),this.m!==ze&&(this.m=ze,this._mdf.m=!0,He=!0),qe.length&&(this.p[0]!==qe[0]||this.p[1]!==qe[1]||this.p[4]!==qe[4]||this.p[5]!==qe[5]||this.p[12]!==qe[12]||this.p[13]!==qe[13])&&(this.p=qe,this._mdf.p=!0,He=!0),He};function TextProperty(Ve,$e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,$e.d&&$e.d.sid&&($e.d=Ve.globalData.slotManager.getProp($e.d)),this.data=$e,this.elem=Ve,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(Ve,$e){for(var Be in $e)Object.prototype.hasOwnProperty.call($e,Be)&&(Ve[Be]=$e[Be]);return Ve},TextProperty.prototype.setCurrentData=function(Ve){Ve.__complete||this.completeTextData(Ve),this.currentData=Ve,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(Ve){this.effectsSequence.push(Ve),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(Ve){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!Ve)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var $e=this.currentData,Be=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var Ue,ze=this.effectsSequence.length,qe=Ve||this.data.d.k[this.keysIndex].s;for(Ue=0;Ue<ze;Ue+=1)Be!==this.keysIndex?qe=this.effectsSequence[Ue](qe,qe.t):qe=this.effectsSequence[Ue](this.currentData,qe.t);$e!==qe&&this.setCurrentData(qe),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var Ve=this.data.d.k,$e=this.elem.comp.renderedFrame,Be=0,Ue=Ve.length;Be<=Ue-1&&!(Be===Ue-1||Ve[Be+1].t>$e);)Be+=1;return this.keysIndex!==Be&&(this.keysIndex=Be),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(Ve){for(var $e=[],Be=0,Ue=Ve.length,ze,qe,He=!1,We=!1,Ge="";Be<Ue;)He=We,We=!1,ze=Ve.charCodeAt(Be),Ge=Ve.charAt(Be),FontManager.isCombinedCharacter(ze)?He=!0:ze>=55296&&ze<=56319?FontManager.isRegionalFlag(Ve,Be)?Ge=Ve.substr(Be,14):(qe=Ve.charCodeAt(Be+1),qe>=56320&&qe<=57343&&(FontManager.isModifier(ze,qe)?(Ge=Ve.substr(Be,2),He=!0):FontManager.isFlagEmoji(Ve.substr(Be,4))?Ge=Ve.substr(Be,4):Ge=Ve.substr(Be,2))):ze>56319?(qe=Ve.charCodeAt(Be+1),FontManager.isVariationSelector(ze)&&(He=!0)):FontManager.isZeroWidthJoiner(ze)&&(He=!0,We=!0),He?($e[$e.length-1]+=Ge,He=!1):$e.push(Ge),Be+=Ge.length;return $e},TextProperty.prototype.completeTextData=function(Ve){Ve.__complete=!0;var $e=this.elem.globalData.fontManager,Be=this.data,Ue=[],ze,qe,He,We=0,Ge,Ye=Be.m.g,Xe=0,Je=0,er=0,Ze=[],rr=0,nr=0,ar,sr,lr=$e.getFontByName(Ve.f),or,cr=0,hr=getFontProperties(lr);Ve.fWeight=hr.weight,Ve.fStyle=hr.style,Ve.finalSize=Ve.s,Ve.finalText=this.buildFinalText(Ve.t),qe=Ve.finalText.length,Ve.finalLineHeight=Ve.lh;var yr=Ve.tr/1e3*Ve.finalSize,mr;if(Ve.sz)for(var vr=!0,_r=Ve.sz[0],Cr=Ve.sz[1],br,fr;vr;){fr=this.buildFinalText(Ve.t),br=0,rr=0,qe=fr.length,yr=Ve.tr/1e3*Ve.finalSize;var Sr=-1;for(ze=0;ze<qe;ze+=1)mr=fr[ze].charCodeAt(0),He=!1,fr[ze]===" "?Sr=ze:(mr===13||mr===3)&&(rr=0,He=!0,br+=Ve.finalLineHeight||Ve.finalSize*1.2),$e.chars?(or=$e.getCharData(fr[ze],lr.fStyle,lr.fFamily),cr=He?0:or.w*Ve.finalSize/100):cr=$e.measureText(fr[ze],Ve.f,Ve.finalSize),rr+cr>_r&&fr[ze]!==" "?(Sr===-1?qe+=1:ze=Sr,br+=Ve.finalLineHeight||Ve.finalSize*1.2,fr.splice(ze,Sr===ze?1:0,"\r"),Sr=-1,rr=0):(rr+=cr,rr+=yr);br+=lr.ascent*Ve.finalSize/100,this.canResize&&Ve.finalSize>this.minimumFontSize&&Cr<br?(Ve.finalSize-=1,Ve.finalLineHeight=Ve.finalSize*Ve.lh/Ve.s):(Ve.finalText=fr,qe=Ve.finalText.length,vr=!1)}rr=-yr,cr=0;var Dr=0,Or;for(ze=0;ze<qe;ze+=1)if(He=!1,Or=Ve.finalText[ze],mr=Or.charCodeAt(0),mr===13||mr===3?(Dr=0,Ze.push(rr),nr=rr>nr?rr:nr,rr=-2*yr,Ge="",He=!0,er+=1):Ge=Or,$e.chars?(or=$e.getCharData(Or,lr.fStyle,$e.getFontByName(Ve.f).fFamily),cr=He?0:or.w*Ve.finalSize/100):cr=$e.measureText(Ge,Ve.f,Ve.finalSize),Or===" "?Dr+=cr+yr:(rr+=cr+yr+Dr,Dr=0),Ue.push({l:cr,an:cr,add:Xe,n:He,anIndexes:[],val:Ge,line:er,animatorJustifyOffset:0}),Ye==2){if(Xe+=cr,Ge===""||Ge===" "||ze===qe-1){for((Ge===""||Ge===" ")&&(Xe-=cr);Je<=ze;)Ue[Je].an=Xe,Ue[Je].ind=We,Ue[Je].extra=cr,Je+=1;We+=1,Xe=0}}else if(Ye==3){if(Xe+=cr,Ge===""||ze===qe-1){for(Ge===""&&(Xe-=cr);Je<=ze;)Ue[Je].an=Xe,Ue[Je].ind=We,Ue[Je].extra=cr,Je+=1;Xe=0,We+=1}}else Ue[We].ind=We,Ue[We].extra=0,We+=1;if(Ve.l=Ue,nr=rr>nr?rr:nr,Ze.push(rr),Ve.sz)Ve.boxWidth=Ve.sz[0],Ve.justifyOffset=0;else switch(Ve.boxWidth=nr,Ve.j){case 1:Ve.justifyOffset=-Ve.boxWidth;break;case 2:Ve.justifyOffset=-Ve.boxWidth/2;break;default:Ve.justifyOffset=0}Ve.lineWidths=Ze;var Er=Be.a,Nr,wr;sr=Er.length;var Ar,Lr,Pr=[];for(ar=0;ar<sr;ar+=1){for(Nr=Er[ar],Nr.a.sc&&(Ve.strokeColorAnim=!0),Nr.a.sw&&(Ve.strokeWidthAnim=!0),(Nr.a.fc||Nr.a.fh||Nr.a.fs||Nr.a.fb)&&(Ve.fillColorAnim=!0),Lr=0,Ar=Nr.s.b,ze=0;ze<qe;ze+=1)wr=Ue[ze],wr.anIndexes[ar]=Lr,(Ar==1&&wr.val!==""||Ar==2&&wr.val!==""&&wr.val!==" "||Ar==3&&(wr.n||wr.val==" "||ze==qe-1)||Ar==4&&(wr.n||ze==qe-1))&&(Nr.s.rn===1&&Pr.push(Lr),Lr+=1);Be.a[ar].s.totalChars=Lr;var Tr=-1,Vr;if(Nr.s.rn===1)for(ze=0;ze<qe;ze+=1)wr=Ue[ze],Tr!=wr.anIndexes[ar]&&(Tr=wr.anIndexes[ar],Vr=Pr.splice(Math.floor(Math.random()*Pr.length),1)[0]),wr.anIndexes[ar]=Vr}Ve.yOffset=Ve.finalLineHeight||Ve.finalSize*1.2,Ve.ls=Ve.ls||0,Ve.ascent=lr.ascent*Ve.finalSize/100},TextProperty.prototype.updateDocumentData=function(Ve,$e){$e=$e===void 0?this.keysIndex:$e;var Be=this.copyData({},this.data.d.k[$e].s);Be=this.copyData(Be,Ve),this.data.d.k[$e].s=Be,this.recalculate($e),this.setCurrentData(Be),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(Ve){var $e=this.data.d.k[Ve].s;$e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue($e)},TextProperty.prototype.canResizeFont=function(Ve){this.canResize=Ve,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(Ve){this.minimumFontSize=Math.floor(Ve)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var Ve=Math.max,$e=Math.min,Be=Math.floor;function Ue(qe,He){this._currentTextLength=-1,this.k=!1,this.data=He,this.elem=qe,this.comp=qe.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(qe),this.s=PropertyFactory.getProp(qe,He.s||{k:0},0,0,this),"e"in He?this.e=PropertyFactory.getProp(qe,He.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(qe,He.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(qe,He.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(qe,He.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(qe,He.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(qe,He.a,0,.01,this),this.dynamicProperties.length||this.getValue()}Ue.prototype={getMult:function(He){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var We=0,Ge=0,Ye=1,Xe=1;this.ne.v>0?We=this.ne.v/100:Ge=-this.ne.v/100,this.xe.v>0?Ye=1-this.xe.v/100:Xe=1+this.xe.v/100;var Je=BezierFactory.getBezierEasing(We,Ge,Ye,Xe).get,er=0,Ze=this.finalS,rr=this.finalE,nr=this.data.sh;if(nr===2)rr===Ze?er=He>=rr?1:0:er=Ve(0,$e(.5/(rr-Ze)+(He-Ze)/(rr-Ze),1)),er=Je(er);else if(nr===3)rr===Ze?er=He>=rr?0:1:er=1-Ve(0,$e(.5/(rr-Ze)+(He-Ze)/(rr-Ze),1)),er=Je(er);else if(nr===4)rr===Ze?er=0:(er=Ve(0,$e(.5/(rr-Ze)+(He-Ze)/(rr-Ze),1)),er<.5?er*=2:er=1-2*(er-.5)),er=Je(er);else if(nr===5){if(rr===Ze)er=0;else{var ar=rr-Ze;He=$e(Ve(0,He+.5-Ze),rr-Ze);var sr=-ar/2+He,lr=ar/2;er=Math.sqrt(1-sr*sr/(lr*lr))}er=Je(er)}else nr===6?(rr===Ze?er=0:(He=$e(Ve(0,He+.5-Ze),rr-Ze),er=(1+Math.cos(Math.PI+Math.PI*2*He/(rr-Ze)))/2),er=Je(er)):(He>=Be(Ze)&&(He-Ze<0?er=Ve(0,$e($e(rr,1)-(Ze-He),1)):er=Ve(0,$e(rr-He,1))),er=Je(er));if(this.sm.v!==100){var or=this.sm.v*.01;or===0&&(or=1e-8);var cr=.5-or*.5;er<cr?er=0:(er=(er-cr)/or,er>1&&(er=1))}return er*this.a.v},getValue:function(He){this.iterateDynamicProperties(),this._mdf=He||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,He&&this.data.r===2&&(this.e.v=this._currentTextLength);var We=this.data.r===2?1:100/this.data.totalChars,Ge=this.o.v/We,Ye=this.s.v/We+Ge,Xe=this.e.v/We+Ge;if(Ye>Xe){var Je=Ye;Ye=Xe,Xe=Je}this.finalS=Ye,this.finalE=Xe}},extendPrototype([DynamicPropertyContainer],Ue);function ze(qe,He,We){return new Ue(qe,He)}return{getTextSelectorProp:ze}})();function TextAnimatorDataProperty(Ve,$e,Be){var Ue={propType:!1},ze=PropertyFactory.getProp,qe=$e.a;this.a={r:qe.r?ze(Ve,qe.r,0,degToRads,Be):Ue,rx:qe.rx?ze(Ve,qe.rx,0,degToRads,Be):Ue,ry:qe.ry?ze(Ve,qe.ry,0,degToRads,Be):Ue,sk:qe.sk?ze(Ve,qe.sk,0,degToRads,Be):Ue,sa:qe.sa?ze(Ve,qe.sa,0,degToRads,Be):Ue,s:qe.s?ze(Ve,qe.s,1,.01,Be):Ue,a:qe.a?ze(Ve,qe.a,1,0,Be):Ue,o:qe.o?ze(Ve,qe.o,0,.01,Be):Ue,p:qe.p?ze(Ve,qe.p,1,0,Be):Ue,sw:qe.sw?ze(Ve,qe.sw,0,0,Be):Ue,sc:qe.sc?ze(Ve,qe.sc,1,0,Be):Ue,fc:qe.fc?ze(Ve,qe.fc,1,0,Be):Ue,fh:qe.fh?ze(Ve,qe.fh,0,0,Be):Ue,fs:qe.fs?ze(Ve,qe.fs,0,.01,Be):Ue,fb:qe.fb?ze(Ve,qe.fb,0,.01,Be):Ue,t:qe.t?ze(Ve,qe.t,0,0,Be):Ue},this.s=TextSelectorProp.getTextSelectorProp(Ve,$e.s,Be),this.s.t=$e.s.t}function TextAnimatorProperty(Ve,$e,Be){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=Ve,this._renderType=$e,this._elem=Be,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(Be)}TextAnimatorProperty.prototype.searchProperties=function(){var Ve,$e=this._textData.a.length,Be,Ue=PropertyFactory.getProp;for(Ve=0;Ve<$e;Ve+=1)Be=this._textData.a[Ve],this._animatorsData[Ve]=new TextAnimatorDataProperty(this._elem,Be,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:Ue(this._elem,this._textData.p.a,0,0,this),f:Ue(this._elem,this._textData.p.f,0,0,this),l:Ue(this._elem,this._textData.p.l,0,0,this),r:Ue(this._elem,this._textData.p.r,0,0,this),p:Ue(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=Ue(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(Ve,$e){if(this.lettersChangedFlag=$e,!(!this._mdf&&!this._isFirstFrame&&!$e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var Be=this._moreOptions.alignment.v,Ue=this._animatorsData,ze=this._textData,qe=this.mHelper,He=this._renderType,We=this.renderedLetters.length,Ge,Ye,Xe,Je,er=Ve.l,Ze,rr,nr,ar,sr,lr,or,cr,hr,yr,mr,vr,_r,Cr,br;if(this._hasMaskedPath){if(br=this._pathData.m,!this._pathData.n||this._pathData._mdf){var fr=br.v;this._pathData.r.v&&(fr=fr.reverse()),Ze={tLength:0,segments:[]},Je=fr._length-1;var Sr;for(vr=0,Xe=0;Xe<Je;Xe+=1)Sr=bez.buildBezierData(fr.v[Xe],fr.v[Xe+1],[fr.o[Xe][0]-fr.v[Xe][0],fr.o[Xe][1]-fr.v[Xe][1]],[fr.i[Xe+1][0]-fr.v[Xe+1][0],fr.i[Xe+1][1]-fr.v[Xe+1][1]]),Ze.tLength+=Sr.segmentLength,Ze.segments.push(Sr),vr+=Sr.segmentLength;Xe=Je,br.v.c&&(Sr=bez.buildBezierData(fr.v[Xe],fr.v[0],[fr.o[Xe][0]-fr.v[Xe][0],fr.o[Xe][1]-fr.v[Xe][1]],[fr.i[0][0]-fr.v[0][0],fr.i[0][1]-fr.v[0][1]]),Ze.tLength+=Sr.segmentLength,Ze.segments.push(Sr),vr+=Sr.segmentLength),this._pathData.pi=Ze}if(Ze=this._pathData.pi,rr=this._pathData.f.v,or=0,lr=1,ar=0,sr=!0,yr=Ze.segments,rr<0&&br.v.c)for(Ze.tLength<Math.abs(rr)&&(rr=-Math.abs(rr)%Ze.tLength),or=yr.length-1,hr=yr[or].points,lr=hr.length-1;rr<0;)rr+=hr[lr].partialLength,lr-=1,lr<0&&(or-=1,hr=yr[or].points,lr=hr.length-1);hr=yr[or].points,cr=hr[lr-1],nr=hr[lr],mr=nr.partialLength}Je=er.length,Ge=0,Ye=0;var Dr=Ve.finalSize*1.2*.714,Or=!0,Er,Nr,wr,Ar,Lr;Ar=Ue.length;var Pr,Tr=-1,Vr,Ur,Yr,Qr=rr,mn=or,An=lr,Zr=-1,bn,jn,gn,In,Sn,Gr,Un,di,ii="",Vn=this.defaultPropsArray,zn;if(Ve.j===2||Ve.j===1){var Qn=0,Yn=0,vi=Ve.j===2?-.5:-1,xn=0,ei=!0;for(Xe=0;Xe<Je;Xe+=1)if(er[Xe].n){for(Qn&&(Qn+=Yn);xn<Xe;)er[xn].animatorJustifyOffset=Qn,xn+=1;Qn=0,ei=!0}else{for(wr=0;wr<Ar;wr+=1)Er=Ue[wr].a,Er.t.propType&&(ei&&Ve.j===2&&(Yn+=Er.t.v*vi),Nr=Ue[wr].s,Pr=Nr.getMult(er[Xe].anIndexes[wr],ze.a[wr].s.totalChars),Pr.length?Qn+=Er.t.v*Pr[0]*vi:Qn+=Er.t.v*Pr*vi);ei=!1}for(Qn&&(Qn+=Yn);xn<Xe;)er[xn].animatorJustifyOffset=Qn,xn+=1}for(Xe=0;Xe<Je;Xe+=1){if(qe.reset(),bn=1,er[Xe].n)Ge=0,Ye+=Ve.yOffset,Ye+=Or?1:0,rr=Qr,Or=!1,this._hasMaskedPath&&(or=mn,lr=An,hr=yr[or].points,cr=hr[lr-1],nr=hr[lr],mr=nr.partialLength,ar=0),ii="",di="",Gr="",zn="",Vn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Zr!==er[Xe].line){switch(Ve.j){case 1:rr+=vr-Ve.lineWidths[er[Xe].line];break;case 2:rr+=(vr-Ve.lineWidths[er[Xe].line])/2;break}Zr=er[Xe].line}Tr!==er[Xe].ind&&(er[Tr]&&(rr+=er[Tr].extra),rr+=er[Xe].an/2,Tr=er[Xe].ind),rr+=Be[0]*er[Xe].an*.005;var ni=0;for(wr=0;wr<Ar;wr+=1)Er=Ue[wr].a,Er.p.propType&&(Nr=Ue[wr].s,Pr=Nr.getMult(er[Xe].anIndexes[wr],ze.a[wr].s.totalChars),Pr.length?ni+=Er.p.v[0]*Pr[0]:ni+=Er.p.v[0]*Pr),Er.a.propType&&(Nr=Ue[wr].s,Pr=Nr.getMult(er[Xe].anIndexes[wr],ze.a[wr].s.totalChars),Pr.length?ni+=Er.a.v[0]*Pr[0]:ni+=Er.a.v[0]*Pr);for(sr=!0,this._pathData.a.v&&(rr=er[0].an*.5+(vr-this._pathData.f.v-er[0].an*.5-er[er.length-1].an*.5)*Tr/(Je-1),rr+=this._pathData.f.v);sr;)ar+mr>=rr+ni||!hr?(_r=(rr+ni-ar)/nr.partialLength,Ur=cr.point[0]+(nr.point[0]-cr.point[0])*_r,Yr=cr.point[1]+(nr.point[1]-cr.point[1])*_r,qe.translate(-Be[0]*er[Xe].an*.005,-(Be[1]*Dr)*.01),sr=!1):hr&&(ar+=nr.partialLength,lr+=1,lr>=hr.length&&(lr=0,or+=1,yr[or]?hr=yr[or].points:br.v.c?(lr=0,or=0,hr=yr[or].points):(ar-=nr.partialLength,hr=null)),hr&&(cr=nr,nr=hr[lr],mr=nr.partialLength));Vr=er[Xe].an/2-er[Xe].add,qe.translate(-Vr,0,0)}else Vr=er[Xe].an/2-er[Xe].add,qe.translate(-Vr,0,0),qe.translate(-Be[0]*er[Xe].an*.005,-Be[1]*Dr*.01,0);for(wr=0;wr<Ar;wr+=1)Er=Ue[wr].a,Er.t.propType&&(Nr=Ue[wr].s,Pr=Nr.getMult(er[Xe].anIndexes[wr],ze.a[wr].s.totalChars),(Ge!==0||Ve.j!==0)&&(this._hasMaskedPath?Pr.length?rr+=Er.t.v*Pr[0]:rr+=Er.t.v*Pr:Pr.length?Ge+=Er.t.v*Pr[0]:Ge+=Er.t.v*Pr));for(Ve.strokeWidthAnim&&(gn=Ve.sw||0),Ve.strokeColorAnim&&(Ve.sc?jn=[Ve.sc[0],Ve.sc[1],Ve.sc[2]]:jn=[0,0,0]),Ve.fillColorAnim&&Ve.fc&&(In=[Ve.fc[0],Ve.fc[1],Ve.fc[2]]),wr=0;wr<Ar;wr+=1)Er=Ue[wr].a,Er.a.propType&&(Nr=Ue[wr].s,Pr=Nr.getMult(er[Xe].anIndexes[wr],ze.a[wr].s.totalChars),Pr.length?qe.translate(-Er.a.v[0]*Pr[0],-Er.a.v[1]*Pr[1],Er.a.v[2]*Pr[2]):qe.translate(-Er.a.v[0]*Pr,-Er.a.v[1]*Pr,Er.a.v[2]*Pr));for(wr=0;wr<Ar;wr+=1)Er=Ue[wr].a,Er.s.propType&&(Nr=Ue[wr].s,Pr=Nr.getMult(er[Xe].anIndexes[wr],ze.a[wr].s.totalChars),Pr.length?qe.scale(1+(Er.s.v[0]-1)*Pr[0],1+(Er.s.v[1]-1)*Pr[1],1):qe.scale(1+(Er.s.v[0]-1)*Pr,1+(Er.s.v[1]-1)*Pr,1));for(wr=0;wr<Ar;wr+=1){if(Er=Ue[wr].a,Nr=Ue[wr].s,Pr=Nr.getMult(er[Xe].anIndexes[wr],ze.a[wr].s.totalChars),Er.sk.propType&&(Pr.length?qe.skewFromAxis(-Er.sk.v*Pr[0],Er.sa.v*Pr[1]):qe.skewFromAxis(-Er.sk.v*Pr,Er.sa.v*Pr)),Er.r.propType&&(Pr.length?qe.rotateZ(-Er.r.v*Pr[2]):qe.rotateZ(-Er.r.v*Pr)),Er.ry.propType&&(Pr.length?qe.rotateY(Er.ry.v*Pr[1]):qe.rotateY(Er.ry.v*Pr)),Er.rx.propType&&(Pr.length?qe.rotateX(Er.rx.v*Pr[0]):qe.rotateX(Er.rx.v*Pr)),Er.o.propType&&(Pr.length?bn+=(Er.o.v*Pr[0]-bn)*Pr[0]:bn+=(Er.o.v*Pr-bn)*Pr),Ve.strokeWidthAnim&&Er.sw.propType&&(Pr.length?gn+=Er.sw.v*Pr[0]:gn+=Er.sw.v*Pr),Ve.strokeColorAnim&&Er.sc.propType)for(Sn=0;Sn<3;Sn+=1)Pr.length?jn[Sn]+=(Er.sc.v[Sn]-jn[Sn])*Pr[0]:jn[Sn]+=(Er.sc.v[Sn]-jn[Sn])*Pr;if(Ve.fillColorAnim&&Ve.fc){if(Er.fc.propType)for(Sn=0;Sn<3;Sn+=1)Pr.length?In[Sn]+=(Er.fc.v[Sn]-In[Sn])*Pr[0]:In[Sn]+=(Er.fc.v[Sn]-In[Sn])*Pr;Er.fh.propType&&(Pr.length?In=addHueToRGB(In,Er.fh.v*Pr[0]):In=addHueToRGB(In,Er.fh.v*Pr)),Er.fs.propType&&(Pr.length?In=addSaturationToRGB(In,Er.fs.v*Pr[0]):In=addSaturationToRGB(In,Er.fs.v*Pr)),Er.fb.propType&&(Pr.length?In=addBrightnessToRGB(In,Er.fb.v*Pr[0]):In=addBrightnessToRGB(In,Er.fb.v*Pr))}}for(wr=0;wr<Ar;wr+=1)Er=Ue[wr].a,Er.p.propType&&(Nr=Ue[wr].s,Pr=Nr.getMult(er[Xe].anIndexes[wr],ze.a[wr].s.totalChars),this._hasMaskedPath?Pr.length?qe.translate(0,Er.p.v[1]*Pr[0],-Er.p.v[2]*Pr[1]):qe.translate(0,Er.p.v[1]*Pr,-Er.p.v[2]*Pr):Pr.length?qe.translate(Er.p.v[0]*Pr[0],Er.p.v[1]*Pr[1],-Er.p.v[2]*Pr[2]):qe.translate(Er.p.v[0]*Pr,Er.p.v[1]*Pr,-Er.p.v[2]*Pr));if(Ve.strokeWidthAnim&&(Gr=gn<0?0:gn),Ve.strokeColorAnim&&(Un="rgb("+Math.round(jn[0]*255)+","+Math.round(jn[1]*255)+","+Math.round(jn[2]*255)+")"),Ve.fillColorAnim&&Ve.fc&&(di="rgb("+Math.round(In[0]*255)+","+Math.round(In[1]*255)+","+Math.round(In[2]*255)+")"),this._hasMaskedPath){if(qe.translate(0,-Ve.ls),qe.translate(0,Be[1]*Dr*.01+Ye,0),this._pathData.p.v){Cr=(nr.point[1]-cr.point[1])/(nr.point[0]-cr.point[0]);var ui=Math.atan(Cr)*180/Math.PI;nr.point[0]<cr.point[0]&&(ui+=180),qe.rotate(-ui*Math.PI/180)}qe.translate(Ur,Yr,0),rr-=Be[0]*er[Xe].an*.005,er[Xe+1]&&Tr!==er[Xe+1].ind&&(rr+=er[Xe].an/2,rr+=Ve.tr*.001*Ve.finalSize)}else{switch(qe.translate(Ge,Ye,0),Ve.ps&&qe.translate(Ve.ps[0],Ve.ps[1]+Ve.ascent,0),Ve.j){case 1:qe.translate(er[Xe].animatorJustifyOffset+Ve.justifyOffset+(Ve.boxWidth-Ve.lineWidths[er[Xe].line]),0,0);break;case 2:qe.translate(er[Xe].animatorJustifyOffset+Ve.justifyOffset+(Ve.boxWidth-Ve.lineWidths[er[Xe].line])/2,0,0);break}qe.translate(0,-Ve.ls),qe.translate(Vr,0,0),qe.translate(Be[0]*er[Xe].an*.005,Be[1]*Dr*.01,0),Ge+=er[Xe].l+Ve.tr*.001*Ve.finalSize}He==="html"?ii=qe.toCSS():He==="svg"?ii=qe.to2dCSS():Vn=[qe.props[0],qe.props[1],qe.props[2],qe.props[3],qe.props[4],qe.props[5],qe.props[6],qe.props[7],qe.props[8],qe.props[9],qe.props[10],qe.props[11],qe.props[12],qe.props[13],qe.props[14],qe.props[15]],zn=bn}We<=Xe?(Lr=new LetterProps(zn,Gr,Un,di,ii,Vn),this.renderedLetters.push(Lr),We+=1,this.lettersChangedFlag=!0):(Lr=this.renderedLetters[Xe],this.lettersChangedFlag=Lr.update(zn,Gr,Un,di,ii,Vn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(Ve,$e,Be){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(Ve,$e,Be),this.textProperty=new TextProperty(this,Ve.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(Ve.t,this.renderType,this),this.initTransform(Ve,$e,Be),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(Ve){this._mdf=!1,this.prepareRenderableFrame(Ve),this.prepareProperties(Ve,this.isInRange)},ITextElement.prototype.createPathShape=function(Ve,$e){var Be,Ue=$e.length,ze,qe="";for(Be=0;Be<Ue;Be+=1)$e[Be].ty==="sh"&&(ze=$e[Be].ks.k,qe+=buildShapeString(ze,ze.i.length,!0,Ve));return qe},ITextElement.prototype.updateDocumentData=function(Ve,$e){this.textProperty.updateDocumentData(Ve,$e)},ITextElement.prototype.canResizeFont=function(Ve){this.textProperty.canResizeFont(Ve)},ITextElement.prototype.setMinimumFontSize=function(Ve){this.textProperty.setMinimumFontSize(Ve)},ITextElement.prototype.applyTextPropertiesToMatrix=function(Ve,$e,Be,Ue,ze){switch(Ve.ps&&$e.translate(Ve.ps[0],Ve.ps[1]+Ve.ascent,0),$e.translate(0,-Ve.ls,0),Ve.j){case 1:$e.translate(Ve.justifyOffset+(Ve.boxWidth-Ve.lineWidths[Be]),0,0);break;case 2:$e.translate(Ve.justifyOffset+(Ve.boxWidth-Ve.lineWidths[Be])/2,0,0);break}$e.translate(Ue,ze,0)},ITextElement.prototype.buildColor=function(Ve){return"rgb("+Math.round(Ve[0]*255)+","+Math.round(Ve[1]*255)+","+Math.round(Ve[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(Ve,$e,Be){this.textSpans=[],this.renderType="svg",this.initElement(Ve,$e,Be)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(Ve){for(var $e=0,Be=Ve.length,Ue=[],ze="";$e<Be;)Ve[$e]==="\r"||Ve[$e]===""?(Ue.push(ze),ze=""):ze+=Ve[$e],$e+=1;return Ue.push(ze),Ue},SVGTextLottieElement.prototype.buildShapeData=function(Ve,$e){if(Ve.shapes&&Ve.shapes.length){var Be=Ve.shapes[0];if(Be.it){var Ue=Be.it[Be.it.length-1];Ue.s&&(Ue.s.k[0]=$e,Ue.s.k[1]=$e)}}return Ve},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var Ve,$e,Be=this.textProperty.currentData;this.renderedLetters=createSizedArray(Be?Be.l.length:0),Be.fc?this.layerElement.setAttribute("fill",this.buildColor(Be.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),Be.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(Be.sc)),this.layerElement.setAttribute("stroke-width",Be.sw)),this.layerElement.setAttribute("font-size",Be.finalSize);var Ue=this.globalData.fontManager.getFontByName(Be.f);if(Ue.fClass)this.layerElement.setAttribute("class",Ue.fClass);else{this.layerElement.setAttribute("font-family",Ue.fFamily);var ze=Be.fWeight,qe=Be.fStyle;this.layerElement.setAttribute("font-style",qe),this.layerElement.setAttribute("font-weight",ze)}this.layerElement.setAttribute("aria-label",Be.t);var He=Be.l||[],We=!!this.globalData.fontManager.chars;$e=He.length;var Ge,Ye=this.mHelper,Xe="",Je=this.data.singleShape,er=0,Ze=0,rr=!0,nr=Be.tr*.001*Be.finalSize;if(Je&&!We&&!Be.sz){var ar=this.textContainer,sr="start";switch(Be.j){case 1:sr="end";break;case 2:sr="middle";break;default:sr="start";break}ar.setAttribute("text-anchor",sr),ar.setAttribute("letter-spacing",nr);var lr=this.buildTextContents(Be.finalText);for($e=lr.length,Ze=Be.ps?Be.ps[1]+Be.ascent:0,Ve=0;Ve<$e;Ve+=1)Ge=this.textSpans[Ve].span||createNS("tspan"),Ge.textContent=lr[Ve],Ge.setAttribute("x",0),Ge.setAttribute("y",Ze),Ge.style.display="inherit",ar.appendChild(Ge),this.textSpans[Ve]||(this.textSpans[Ve]={span:null,glyph:null}),this.textSpans[Ve].span=Ge,Ze+=Be.finalLineHeight;this.layerElement.appendChild(ar)}else{var or=this.textSpans.length,cr;for(Ve=0;Ve<$e;Ve+=1){if(this.textSpans[Ve]||(this.textSpans[Ve]={span:null,childSpan:null,glyph:null}),!We||!Je||Ve===0){if(Ge=or>Ve?this.textSpans[Ve].span:createNS(We?"g":"text"),or<=Ve){if(Ge.setAttribute("stroke-linecap","butt"),Ge.setAttribute("stroke-linejoin","round"),Ge.setAttribute("stroke-miterlimit","4"),this.textSpans[Ve].span=Ge,We){var hr=createNS("g");Ge.appendChild(hr),this.textSpans[Ve].childSpan=hr}this.textSpans[Ve].span=Ge,this.layerElement.appendChild(Ge)}Ge.style.display="inherit"}if(Ye.reset(),Je&&(He[Ve].n&&(er=-nr,Ze+=Be.yOffset,Ze+=rr?1:0,rr=!1),this.applyTextPropertiesToMatrix(Be,Ye,He[Ve].line,er,Ze),er+=He[Ve].l||0,er+=nr),We){cr=this.globalData.fontManager.getCharData(Be.finalText[Ve],Ue.fStyle,this.globalData.fontManager.getFontByName(Be.f).fFamily);var yr;if(cr.t===1)yr=new SVGCompElement(cr.data,this.globalData,this);else{var mr=emptyShapeData;cr.data&&cr.data.shapes&&(mr=this.buildShapeData(cr.data,Be.finalSize)),yr=new SVGShapeElement(mr,this.globalData,this)}if(this.textSpans[Ve].glyph){var vr=this.textSpans[Ve].glyph;this.textSpans[Ve].childSpan.removeChild(vr.layerElement),vr.destroy()}this.textSpans[Ve].glyph=yr,yr._debug=!0,yr.prepareFrame(0),yr.renderFrame(),this.textSpans[Ve].childSpan.appendChild(yr.layerElement),cr.t===1&&this.textSpans[Ve].childSpan.setAttribute("transform","scale("+Be.finalSize/100+","+Be.finalSize/100+")")}else Je&&Ge.setAttribute("transform","translate("+Ye.props[12]+","+Ye.props[13]+")"),Ge.textContent=He[Ve].val,Ge.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Je&&Ge&&Ge.setAttribute("d",Xe)}for(;Ve<this.textSpans.length;)this.textSpans[Ve].span.style.display="none",Ve+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var Ve=this.layerElement.getBBox();this.bbox={top:Ve.y,left:Ve.x,width:Ve.width,height:Ve.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var Ve,$e=this.textSpans.length,Be;for(this.renderedFrame=this.comp.renderedFrame,Ve=0;Ve<$e;Ve+=1)Be=this.textSpans[Ve].glyph,Be&&(Be.prepareFrame(this.comp.renderedFrame-this.data.st),Be._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var Ve,$e,Be=this.textAnimator.renderedLetters,Ue=this.textProperty.currentData.l;$e=Ue.length;var ze,qe,He;for(Ve=0;Ve<$e;Ve+=1)Ue[Ve].n||(ze=Be[Ve],qe=this.textSpans[Ve].span,He=this.textSpans[Ve].glyph,He&&He.renderFrame(),ze._mdf.m&&qe.setAttribute("transform",ze.m),ze._mdf.o&&qe.setAttribute("opacity",ze.o),ze._mdf.sw&&qe.setAttribute("stroke-width",ze.sw),ze._mdf.sc&&qe.setAttribute("stroke",ze.sc),ze._mdf.fc&&qe.setAttribute("fill",ze.fc))}};function ISolidElement(Ve,$e,Be){this.initElement(Ve,$e,Be)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var Ve=createNS("rect");Ve.setAttribute("width",this.data.sw),Ve.setAttribute("height",this.data.sh),Ve.setAttribute("fill",this.data.sc),this.layerElement.appendChild(Ve)};function NullElement(Ve,$e,Be){this.initFrame(),this.initBaseData(Ve,$e,Be),this.initFrame(),this.initTransform(Ve,$e,Be),this.initHierarchy()}NullElement.prototype.prepareFrame=function(Ve){this.prepareProperties(Ve,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(Ve){return new NullElement(Ve,this.globalData,this)},SVGRendererBase.prototype.createShape=function(Ve){return new SVGShapeElement(Ve,this.globalData,this)},SVGRendererBase.prototype.createText=function(Ve){return new SVGTextLottieElement(Ve,this.globalData,this)},SVGRendererBase.prototype.createImage=function(Ve){return new IImageElement(Ve,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(Ve){return new ISolidElement(Ve,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(Ve){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+Ve.w+" "+Ve.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",Ve.w),this.svgElement.setAttribute("height",Ve.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var $e=this.globalData.defs;this.setupGlobalData(Ve,$e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=Ve;var Be=createNS("clipPath"),Ue=createNS("rect");Ue.setAttribute("width",Ve.w),Ue.setAttribute("height",Ve.h),Ue.setAttribute("x",0),Ue.setAttribute("y",0);var ze=createElementID();Be.setAttribute("id",ze),Be.appendChild(Ue),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+ze+")"),$e.appendChild(Be),this.layers=Ve.layers,this.elements=createSizedArray(Ve.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var Ve,$e=this.layers?this.layers.length:0;for(Ve=0;Ve<$e;Ve+=1)this.elements[Ve]&&this.elements[Ve].destroy&&this.elements[Ve].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(Ve){var $e=0,Be=this.layers.length;for($e=0;$e<Be;$e+=1)if(this.layers[$e].ind===Ve)return $e;return-1},SVGRendererBase.prototype.buildItem=function(Ve){var $e=this.elements;if(!($e[Ve]||this.layers[Ve].ty===99)){$e[Ve]=!0;var Be=this.createItem(this.layers[Ve]);if($e[Ve]=Be,getExpressionsPlugin()&&(this.layers[Ve].ty===0&&this.globalData.projectInterface.registerComposition(Be),Be.initExpressions()),this.appendElementInPos(Be,Ve),this.layers[Ve].tt){var Ue="tp"in this.layers[Ve]?this.findIndexByInd(this.layers[Ve].tp):Ve-1;if(Ue===-1)return;if(!this.elements[Ue]||this.elements[Ue]===!0)this.buildItem(Ue),this.addPendingElement(Be);else{var ze=$e[Ue],qe=ze.getMatte(this.layers[Ve].tt);Be.setMatte(qe)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ve=this.pendingElements.pop();if(Ve.checkParenting(),Ve.data.tt)for(var $e=0,Be=this.elements.length;$e<Be;){if(this.elements[$e]===Ve){var Ue="tp"in Ve.data?this.findIndexByInd(Ve.data.tp):$e-1,ze=this.elements[Ue],qe=ze.getMatte(this.layers[$e].tt);Ve.setMatte(qe);break}$e+=1}}},SVGRendererBase.prototype.renderFrame=function(Ve){if(!(this.renderedFrame===Ve||this.destroyed)){Ve===null?Ve=this.renderedFrame:this.renderedFrame=Ve,this.globalData.frameNum=Ve,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=Ve,this.globalData._mdf=!1;var $e,Be=this.layers.length;for(this.completeLayers||this.checkLayers(Ve),$e=Be-1;$e>=0;$e-=1)(this.completeLayers||this.elements[$e])&&this.elements[$e].prepareFrame(Ve-this.layers[$e].st);if(this.globalData._mdf)for($e=0;$e<Be;$e+=1)(this.completeLayers||this.elements[$e])&&this.elements[$e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(Ve,$e){var Be=Ve.getBaseElement();if(Be){for(var Ue=0,ze;Ue<$e;)this.elements[Ue]&&this.elements[Ue]!==!0&&this.elements[Ue].getBaseElement()&&(ze=this.elements[Ue].getBaseElement()),Ue+=1;ze?this.layerElement.insertBefore(Be,ze):this.layerElement.appendChild(Be)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(Ve,$e,Be){this.initFrame(),this.initBaseData(Ve,$e,Be),this.initTransform(Ve,$e,Be),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!$e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(Ve){if(this._mdf=!1,this.prepareRenderableFrame(Ve),this.prepareProperties(Ve,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=Ve/this.data.sr;else{var $e=this.tm.v;$e===this.data.op&&($e=this.data.op-1),this.renderedFrame=$e}var Be,Ue=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),Be=Ue-1;Be>=0;Be-=1)(this.completeLayers||this.elements[Be])&&(this.elements[Be].prepareFrame(this.renderedFrame-this.layers[Be].st),this.elements[Be]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var Ve,$e=this.layers.length;for(Ve=0;Ve<$e;Ve+=1)(this.completeLayers||this.elements[Ve])&&this.elements[Ve].renderFrame()},ICompElement.prototype.setElements=function(Ve){this.elements=Ve},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var Ve,$e=this.layers.length;for(Ve=0;Ve<$e;Ve+=1)this.elements[Ve]&&this.elements[Ve].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(Ve,$e,Be){this.layers=Ve.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Ve,$e,Be),this.tm=Ve.tm?PropertyFactory.getProp(this,Ve.tm,0,$e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(Ve){return new SVGCompElement(Ve,this.globalData,this)};function SVGRenderer(Ve,$e){this.animationItem=Ve,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var Be="";if($e&&$e.title){var Ue=createNS("title"),ze=createElementID();Ue.setAttribute("id",ze),Ue.textContent=$e.title,this.svgElement.appendChild(Ue),Be+=ze}if($e&&$e.description){var qe=createNS("desc"),He=createElementID();qe.setAttribute("id",He),qe.textContent=$e.description,this.svgElement.appendChild(qe),Be+=" "+He}Be&&this.svgElement.setAttribute("aria-labelledby",Be);var We=createNS("defs");this.svgElement.appendChild(We);var Ge=createNS("g");this.svgElement.appendChild(Ge),this.layerElement=Ge,this.renderConfig={preserveAspectRatio:$e&&$e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:$e&&$e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:$e&&$e.contentVisibility||"visible",progressiveLoad:$e&&$e.progressiveLoad||!1,hideOnTransparent:!($e&&$e.hideOnTransparent===!1),viewBoxOnly:$e&&$e.viewBoxOnly||!1,viewBoxSize:$e&&$e.viewBoxSize||!1,className:$e&&$e.className||"",id:$e&&$e.id||"",focusable:$e&&$e.focusable,filterSize:{width:$e&&$e.filterSize&&$e.filterSize.width||"100%",height:$e&&$e.filterSize&&$e.filterSize.height||"100%",x:$e&&$e.filterSize&&$e.filterSize.x||"0%",y:$e&&$e.filterSize&&$e.filterSize.y||"0%"},width:$e&&$e.width,height:$e&&$e.height,runExpressions:!$e||$e.runExpressions===void 0||$e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:We,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(Ve){return new SVGCompElement(Ve,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function($e){var Be,Ue=$e.length,ze="_";for(Be=0;Be<Ue;Be+=1)ze+=$e[Be].transform.key+"_";var qe=this.sequences[ze];return qe||(qe={transforms:[].concat($e),finalTransform:new Matrix,_mdf:!1},this.sequences[ze]=qe,this.sequenceList.push(qe)),qe},processSequence:function($e,Be){for(var Ue=0,ze=$e.transforms.length,qe=Be;Ue<ze&&!Be;){if($e.transforms[Ue].transform.mProps._mdf){qe=!0;break}Ue+=1}if(qe)for($e.finalTransform.reset(),Ue=ze-1;Ue>=0;Ue-=1)$e.finalTransform.multiply($e.transforms[Ue].transform.mProps.v);$e._mdf=qe},processSequences:function($e){var Be,Ue=this.sequenceList.length;for(Be=0;Be<Ue;Be+=1)this.processSequence(this.sequenceList[Be],$e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var $e="__lottie_element_luma_buffer",Be=null,Ue=null,ze=null;function qe(){var Ge=createNS("svg"),Ye=createNS("filter"),Xe=createNS("feColorMatrix");return Ye.setAttribute("id",$e),Xe.setAttribute("type","matrix"),Xe.setAttribute("color-interpolation-filters","sRGB"),Xe.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Ye.appendChild(Xe),Ge.appendChild(Ye),Ge.setAttribute("id",$e+"_svg"),featureSupport.svgLumaHidden&&(Ge.style.display="none"),Ge}function He(){Be||(ze=qe(),document.body.appendChild(ze),Be=createTag("canvas"),Ue=Be.getContext("2d"),Ue.filter="url(#"+$e+")",Ue.fillStyle="rgba(0,0,0,0)",Ue.fillRect(0,0,1,1))}function We(Ge){return Be||He(),Be.width=Ge.width,Be.height=Ge.height,Ue.filter="url(#"+$e+")",Be}return{load:He,get:We}};function createCanvas(Ve,$e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(Ve,$e);var Be=createTag("canvas");return Be.width=Ve,Be.height=$e,Be}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(Ve){var $e,Be=Ve.data.ef?Ve.data.ef.length:0;this.filters=[];var Ue;for($e=0;$e<Be;$e+=1){Ue=null;var ze=Ve.data.ef[$e].ty;if(registeredEffects[ze]){var qe=registeredEffects[ze].effect;Ue=new qe(Ve.effectsManager.effectElements[$e],Ve)}Ue&&this.filters.push(Ue)}this.filters.length&&Ve.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(Ve){var $e,Be=this.filters.length;for($e=0;$e<Be;$e+=1)this.filters[$e].renderFrame(Ve)},CVEffects.prototype.getEffects=function(Ve){var $e,Be=this.filters.length,Ue=[];for($e=0;$e<Be;$e+=1)this.filters[$e].type===Ve&&Ue.push(this.filters[$e]);return Ue};function registerEffect(Ve,$e){registeredEffects[Ve]={effect:$e}}function CVMaskElement(Ve,$e){this.data=Ve,this.element=$e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var Be,Ue=this.masksProperties.length,ze=!1;for(Be=0;Be<Ue;Be+=1)this.masksProperties[Be].mode!=="n"&&(ze=!0),this.viewData[Be]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[Be],3);this.hasMasks=ze,ze&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var Ve=this.element.finalTransform.mat,$e=this.element.canvasContext,Be,Ue=this.masksProperties.length,ze,qe,He;for($e.beginPath(),Be=0;Be<Ue;Be+=1)if(this.masksProperties[Be].mode!=="n"){this.masksProperties[Be].inv&&($e.moveTo(0,0),$e.lineTo(this.element.globalData.compSize.w,0),$e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),$e.lineTo(0,this.element.globalData.compSize.h),$e.lineTo(0,0)),He=this.viewData[Be].v,ze=Ve.applyToPointArray(He.v[0][0],He.v[0][1],0),$e.moveTo(ze[0],ze[1]);var We,Ge=He._length;for(We=1;We<Ge;We+=1)qe=Ve.applyToTriplePoints(He.o[We-1],He.i[We],He.v[We]),$e.bezierCurveTo(qe[0],qe[1],qe[2],qe[3],qe[4],qe[5]);qe=Ve.applyToTriplePoints(He.o[We-1],He.i[0],He.v[0]),$e.bezierCurveTo(qe[0],qe[1],qe[2],qe[3],qe[4],qe[5])}this.element.globalData.renderer.save(!0),$e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var $e=this.globalData.canvasContext,Be=assetLoader.createCanvas($e.canvas.width,$e.canvas.height);this.buffers.push(Be);var Ue=assetLoader.createCanvas($e.canvas.width,$e.canvas.height);this.buffers.push(Ue),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var $e=this.globalData;if($e.blendMode!==this.data.bm){$e.blendMode=this.data.bm;var Be=getBlendMode(this.data.bm);$e.canvasContext.globalCompositeOperation=Be}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function($e){$e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var $e=this.buffers[0],Be=$e.getContext("2d");this.clearCanvas(Be),Be.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var $e=this.buffers[1],Be=$e.getContext("2d");this.clearCanvas(Be),Be.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var Ue=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(Ue.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var ze=assetLoader.getLumaCanvas(this.canvasContext.canvas),qe=ze.getContext("2d");qe.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(ze,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage($e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function($e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!$e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var Be=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(Be),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(Be),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(Ve,$e,Be,Ue){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var ze=4;$e.ty==="rc"?ze=5:$e.ty==="el"?ze=6:$e.ty==="sr"&&(ze=7),this.sh=ShapePropertyFactory.getShapeProp(Ve,$e,ze,Ve);var qe,He=Be.length,We;for(qe=0;qe<He;qe+=1)Be[qe].closed||(We={transforms:Ue.addTransformSequence(Be[qe].transforms),trNodes:[]},this.styledShapes.push(We),Be[qe].elements.push(We))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(Ve,$e,Be){this.shapes=[],this.shapesData=Ve.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(Ve,$e,Be)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(Ve,$e){var Be={data:Ve,type:Ve.ty,preTransforms:this.transformsManager.addTransformSequence($e),transforms:[],elements:[],closed:Ve.hd===!0},Ue={};if(Ve.ty==="fl"||Ve.ty==="st"?(Ue.c=PropertyFactory.getProp(this,Ve.c,1,255,this),Ue.c.k||(Be.co="rgb("+bmFloor(Ue.c.v[0])+","+bmFloor(Ue.c.v[1])+","+bmFloor(Ue.c.v[2])+")")):(Ve.ty==="gf"||Ve.ty==="gs")&&(Ue.s=PropertyFactory.getProp(this,Ve.s,1,null,this),Ue.e=PropertyFactory.getProp(this,Ve.e,1,null,this),Ue.h=PropertyFactory.getProp(this,Ve.h||{k:0},0,.01,this),Ue.a=PropertyFactory.getProp(this,Ve.a||{k:0},0,degToRads,this),Ue.g=new GradientProperty(this,Ve.g,this)),Ue.o=PropertyFactory.getProp(this,Ve.o,0,.01,this),Ve.ty==="st"||Ve.ty==="gs"){if(Be.lc=lineCapEnum[Ve.lc||2],Be.lj=lineJoinEnum[Ve.lj||2],Ve.lj==1&&(Be.ml=Ve.ml),Ue.w=PropertyFactory.getProp(this,Ve.w,0,null,this),Ue.w.k||(Be.wi=Ue.w.v),Ve.d){var ze=new DashProperty(this,Ve.d,"canvas",this);Ue.d=ze,Ue.d.k||(Be.da=Ue.d.dashArray,Be.do=Ue.d.dashoffset[0])}}else Be.r=Ve.r===2?"evenodd":"nonzero";return this.stylesList.push(Be),Ue.style=Be,Ue},CVShapeElement.prototype.createGroupElement=function(){var Ve={it:[],prevViewData:[]};return Ve},CVShapeElement.prototype.createTransformElement=function(Ve){var $e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,Ve.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,Ve,this)}};return $e},CVShapeElement.prototype.createShapeElement=function(Ve){var $e=new CVShapeData(this,Ve,this.stylesList,this.transformsManager);return this.shapes.push($e),this.addShapeToModifiers($e),$e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Ve,$e=this.itemsData.length;for(Ve=0;Ve<$e;Ve+=1)this.prevViewData[Ve]=this.itemsData[Ve];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),$e=this.dynamicProperties.length,Ve=0;Ve<$e;Ve+=1)this.dynamicProperties[Ve].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(Ve){var $e,Be=this.stylesList.length;for($e=0;$e<Be;$e+=1)this.stylesList[$e].closed||this.stylesList[$e].transforms.push(Ve)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var Ve,$e=this.stylesList.length;for(Ve=0;Ve<$e;Ve+=1)this.stylesList[Ve].closed||this.stylesList[Ve].transforms.pop()},CVShapeElement.prototype.closeStyles=function(Ve){var $e,Be=Ve.length;for($e=0;$e<Be;$e+=1)Ve[$e].closed=!0},CVShapeElement.prototype.searchShapes=function(Ve,$e,Be,Ue,ze){var qe,He=Ve.length-1,We,Ge,Ye=[],Xe=[],Je,er,Ze,rr=[].concat(ze);for(qe=He;qe>=0;qe-=1){if(Je=this.searchProcessedElement(Ve[qe]),Je?$e[qe]=Be[Je-1]:Ve[qe]._shouldRender=Ue,Ve[qe].ty==="fl"||Ve[qe].ty==="st"||Ve[qe].ty==="gf"||Ve[qe].ty==="gs")Je?$e[qe].style.closed=!1:$e[qe]=this.createStyleElement(Ve[qe],rr),Ye.push($e[qe].style);else if(Ve[qe].ty==="gr"){if(!Je)$e[qe]=this.createGroupElement(Ve[qe]);else for(Ge=$e[qe].it.length,We=0;We<Ge;We+=1)$e[qe].prevViewData[We]=$e[qe].it[We];this.searchShapes(Ve[qe].it,$e[qe].it,$e[qe].prevViewData,Ue,rr)}else Ve[qe].ty==="tr"?(Je||(Ze=this.createTransformElement(Ve[qe]),$e[qe]=Ze),rr.push($e[qe]),this.addTransformToStyleList($e[qe])):Ve[qe].ty==="sh"||Ve[qe].ty==="rc"||Ve[qe].ty==="el"||Ve[qe].ty==="sr"?Je||($e[qe]=this.createShapeElement(Ve[qe])):Ve[qe].ty==="tm"||Ve[qe].ty==="rd"||Ve[qe].ty==="pb"||Ve[qe].ty==="zz"||Ve[qe].ty==="op"?(Je?(er=$e[qe],er.closed=!1):(er=ShapeModifiers.getModifier(Ve[qe].ty),er.init(this,Ve[qe]),$e[qe]=er,this.shapeModifiers.push(er)),Xe.push(er)):Ve[qe].ty==="rp"&&(Je?(er=$e[qe],er.closed=!0):(er=ShapeModifiers.getModifier(Ve[qe].ty),$e[qe]=er,er.init(this,Ve,qe,$e),this.shapeModifiers.push(er),Ue=!1),Xe.push(er));this.addProcessedElement(Ve[qe],qe+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Ye),He=Xe.length,qe=0;qe<He;qe+=1)Xe[qe].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(Ve,$e){(Ve._opMdf||$e.op._mdf||this._isFirstFrame)&&($e.opacity=Ve.opacity,$e.opacity*=$e.op.v,$e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var Ve,$e=this.stylesList.length,Be,Ue,ze,qe,He,We,Ge=this.globalData.renderer,Ye=this.globalData.canvasContext,Xe,Je;for(Ve=0;Ve<$e;Ve+=1)if(Je=this.stylesList[Ve],Xe=Je.type,!((Xe==="st"||Xe==="gs")&&Je.wi===0||!Je.data._shouldRender||Je.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Ge.save(),He=Je.elements,Xe==="st"||Xe==="gs"?(Ge.ctxStrokeStyle(Xe==="st"?Je.co:Je.grd),Ge.ctxLineWidth(Je.wi),Ge.ctxLineCap(Je.lc),Ge.ctxLineJoin(Je.lj),Ge.ctxMiterLimit(Je.ml||0)):Ge.ctxFillStyle(Xe==="fl"?Je.co:Je.grd),Ge.ctxOpacity(Je.coOp),Xe!=="st"&&Xe!=="gs"&&Ye.beginPath(),Ge.ctxTransform(Je.preTransforms.finalTransform.props),Ue=He.length,Be=0;Be<Ue;Be+=1){for((Xe==="st"||Xe==="gs")&&(Ye.beginPath(),Je.da&&(Ye.setLineDash(Je.da),Ye.lineDashOffset=Je.do)),We=He[Be].trNodes,qe=We.length,ze=0;ze<qe;ze+=1)We[ze].t==="m"?Ye.moveTo(We[ze].p[0],We[ze].p[1]):We[ze].t==="c"?Ye.bezierCurveTo(We[ze].pts[0],We[ze].pts[1],We[ze].pts[2],We[ze].pts[3],We[ze].pts[4],We[ze].pts[5]):Ye.closePath();(Xe==="st"||Xe==="gs")&&(Ge.ctxStroke(),Je.da&&Ye.setLineDash(this.dashResetter))}Xe!=="st"&&Xe!=="gs"&&this.globalData.renderer.ctxFill(Je.r),Ge.restore()}},CVShapeElement.prototype.renderShape=function(Ve,$e,Be,Ue){var ze,qe=$e.length-1,He;for(He=Ve,ze=qe;ze>=0;ze-=1)$e[ze].ty==="tr"?(He=Be[ze].transform,this.renderShapeTransform(Ve,He)):$e[ze].ty==="sh"||$e[ze].ty==="el"||$e[ze].ty==="rc"||$e[ze].ty==="sr"?this.renderPath($e[ze],Be[ze]):$e[ze].ty==="fl"?this.renderFill($e[ze],Be[ze],He):$e[ze].ty==="st"?this.renderStroke($e[ze],Be[ze],He):$e[ze].ty==="gf"||$e[ze].ty==="gs"?this.renderGradientFill($e[ze],Be[ze],He):$e[ze].ty==="gr"?this.renderShape(He,$e[ze].it,Be[ze].it):$e[ze].ty;Ue&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(Ve,$e){if(this._isFirstFrame||$e._mdf||Ve.transforms._mdf){var Be=Ve.trNodes,Ue=$e.paths,ze,qe,He,We=Ue._length;Be.length=0;var Ge=Ve.transforms.finalTransform;for(He=0;He<We;He+=1){var Ye=Ue.shapes[He];if(Ye&&Ye.v){for(qe=Ye._length,ze=1;ze<qe;ze+=1)ze===1&&Be.push({t:"m",p:Ge.applyToPointArray(Ye.v[0][0],Ye.v[0][1],0)}),Be.push({t:"c",pts:Ge.applyToTriplePoints(Ye.o[ze-1],Ye.i[ze],Ye.v[ze])});qe===1&&Be.push({t:"m",p:Ge.applyToPointArray(Ye.v[0][0],Ye.v[0][1],0)}),Ye.c&&qe&&(Be.push({t:"c",pts:Ge.applyToTriplePoints(Ye.o[ze-1],Ye.i[0],Ye.v[0])}),Be.push({t:"z"}))}}Ve.trNodes=Be}},CVShapeElement.prototype.renderPath=function(Ve,$e){if(Ve.hd!==!0&&Ve._shouldRender){var Be,Ue=$e.styledShapes.length;for(Be=0;Be<Ue;Be+=1)this.renderStyledShape($e.styledShapes[Be],$e.sh)}},CVShapeElement.prototype.renderFill=function(Ve,$e,Be){var Ue=$e.style;($e.c._mdf||this._isFirstFrame)&&(Ue.co="rgb("+bmFloor($e.c.v[0])+","+bmFloor($e.c.v[1])+","+bmFloor($e.c.v[2])+")"),($e.o._mdf||Be._opMdf||this._isFirstFrame)&&(Ue.coOp=$e.o.v*Be.opacity)},CVShapeElement.prototype.renderGradientFill=function(Ve,$e,Be){var Ue=$e.style,ze;if(!Ue.grd||$e.g._mdf||$e.s._mdf||$e.e._mdf||Ve.t!==1&&($e.h._mdf||$e.a._mdf)){var qe=this.globalData.canvasContext,He=$e.s.v,We=$e.e.v;if(Ve.t===1)ze=qe.createLinearGradient(He[0],He[1],We[0],We[1]);else{var Ge=Math.sqrt(Math.pow(He[0]-We[0],2)+Math.pow(He[1]-We[1],2)),Ye=Math.atan2(We[1]-He[1],We[0]-He[0]),Xe=$e.h.v;Xe>=1?Xe=.99:Xe<=-1&&(Xe=-.99);var Je=Ge*Xe,er=Math.cos(Ye+$e.a.v)*Je+He[0],Ze=Math.sin(Ye+$e.a.v)*Je+He[1];ze=qe.createRadialGradient(er,Ze,0,He[0],He[1],Ge)}var rr,nr=Ve.g.p,ar=$e.g.c,sr=1;for(rr=0;rr<nr;rr+=1)$e.g._hasOpacity&&$e.g._collapsable&&(sr=$e.g.o[rr*2+1]),ze.addColorStop(ar[rr*4]/100,"rgba("+ar[rr*4+1]+","+ar[rr*4+2]+","+ar[rr*4+3]+","+sr+")");Ue.grd=ze}Ue.coOp=$e.o.v*Be.opacity},CVShapeElement.prototype.renderStroke=function(Ve,$e,Be){var Ue=$e.style,ze=$e.d;ze&&(ze._mdf||this._isFirstFrame)&&(Ue.da=ze.dashArray,Ue.do=ze.dashoffset[0]),($e.c._mdf||this._isFirstFrame)&&(Ue.co="rgb("+bmFloor($e.c.v[0])+","+bmFloor($e.c.v[1])+","+bmFloor($e.c.v[2])+")"),($e.o._mdf||Be._opMdf||this._isFirstFrame)&&(Ue.coOp=$e.o.v*Be.opacity),($e.w._mdf||this._isFirstFrame)&&(Ue.wi=$e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(Ve,$e,Be){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(Ve,$e,Be)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var Ve=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ve.l?Ve.l.length:0);var $e=!1;Ve.fc?($e=!0,this.values.fill=this.buildColor(Ve.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=$e;var Be=!1;Ve.sc&&(Be=!0,this.values.stroke=this.buildColor(Ve.sc),this.values.sWidth=Ve.sw);var Ue=this.globalData.fontManager.getFontByName(Ve.f),ze,qe,He=Ve.l,We=this.mHelper;this.stroke=Be,this.values.fValue=Ve.finalSize+"px "+this.globalData.fontManager.getFontByName(Ve.f).fFamily,qe=Ve.finalText.length;var Ge,Ye,Xe,Je,er,Ze,rr,nr,ar,sr,lr=this.data.singleShape,or=Ve.tr*.001*Ve.finalSize,cr=0,hr=0,yr=!0,mr=0;for(ze=0;ze<qe;ze+=1){Ge=this.globalData.fontManager.getCharData(Ve.finalText[ze],Ue.fStyle,this.globalData.fontManager.getFontByName(Ve.f).fFamily),Ye=Ge&&Ge.data||{},We.reset(),lr&&He[ze].n&&(cr=-or,hr+=Ve.yOffset,hr+=yr?1:0,yr=!1),er=Ye.shapes?Ye.shapes[0].it:[],rr=er.length,We.scale(Ve.finalSize/100,Ve.finalSize/100),lr&&this.applyTextPropertiesToMatrix(Ve,We,He[ze].line,cr,hr),ar=createSizedArray(rr-1);var vr=0;for(Ze=0;Ze<rr;Ze+=1)if(er[Ze].ty==="sh"){for(Je=er[Ze].ks.k.i.length,nr=er[Ze].ks.k,sr=[],Xe=1;Xe<Je;Xe+=1)Xe===1&&sr.push(We.applyToX(nr.v[0][0],nr.v[0][1],0),We.applyToY(nr.v[0][0],nr.v[0][1],0)),sr.push(We.applyToX(nr.o[Xe-1][0],nr.o[Xe-1][1],0),We.applyToY(nr.o[Xe-1][0],nr.o[Xe-1][1],0),We.applyToX(nr.i[Xe][0],nr.i[Xe][1],0),We.applyToY(nr.i[Xe][0],nr.i[Xe][1],0),We.applyToX(nr.v[Xe][0],nr.v[Xe][1],0),We.applyToY(nr.v[Xe][0],nr.v[Xe][1],0));sr.push(We.applyToX(nr.o[Xe-1][0],nr.o[Xe-1][1],0),We.applyToY(nr.o[Xe-1][0],nr.o[Xe-1][1],0),We.applyToX(nr.i[0][0],nr.i[0][1],0),We.applyToY(nr.i[0][0],nr.i[0][1],0),We.applyToX(nr.v[0][0],nr.v[0][1],0),We.applyToY(nr.v[0][0],nr.v[0][1],0)),ar[vr]=sr,vr+=1}lr&&(cr+=He[ze].l,cr+=or),this.textSpans[mr]?this.textSpans[mr].elem=ar:this.textSpans[mr]={elem:ar},mr+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var Ve=this.canvasContext;Ve.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var $e,Be,Ue,ze,qe,He,We=this.textAnimator.renderedLetters,Ge=this.textProperty.currentData.l;Be=Ge.length;var Ye,Xe=null,Je=null,er=null,Ze,rr,nr=this.globalData.renderer;for($e=0;$e<Be;$e+=1)if(!Ge[$e].n){if(Ye=We[$e],Ye&&(nr.save(),nr.ctxTransform(Ye.p),nr.ctxOpacity(Ye.o)),this.fill){for(Ye&&Ye.fc?Xe!==Ye.fc&&(nr.ctxFillStyle(Ye.fc),Xe=Ye.fc):Xe!==this.values.fill&&(Xe=this.values.fill,nr.ctxFillStyle(this.values.fill)),Ze=this.textSpans[$e].elem,ze=Ze.length,this.globalData.canvasContext.beginPath(),Ue=0;Ue<ze;Ue+=1)for(rr=Ze[Ue],He=rr.length,this.globalData.canvasContext.moveTo(rr[0],rr[1]),qe=2;qe<He;qe+=6)this.globalData.canvasContext.bezierCurveTo(rr[qe],rr[qe+1],rr[qe+2],rr[qe+3],rr[qe+4],rr[qe+5]);this.globalData.canvasContext.closePath(),nr.ctxFill()}if(this.stroke){for(Ye&&Ye.sw?er!==Ye.sw&&(er=Ye.sw,nr.ctxLineWidth(Ye.sw)):er!==this.values.sWidth&&(er=this.values.sWidth,nr.ctxLineWidth(this.values.sWidth)),Ye&&Ye.sc?Je!==Ye.sc&&(Je=Ye.sc,nr.ctxStrokeStyle(Ye.sc)):Je!==this.values.stroke&&(Je=this.values.stroke,nr.ctxStrokeStyle(this.values.stroke)),Ze=this.textSpans[$e].elem,ze=Ze.length,this.globalData.canvasContext.beginPath(),Ue=0;Ue<ze;Ue+=1)for(rr=Ze[Ue],He=rr.length,this.globalData.canvasContext.moveTo(rr[0],rr[1]),qe=2;qe<He;qe+=6)this.globalData.canvasContext.bezierCurveTo(rr[qe],rr[qe+1],rr[qe+2],rr[qe+3],rr[qe+4],rr[qe+5]);this.globalData.canvasContext.closePath(),nr.ctxStroke()}Ye&&this.globalData.renderer.restore()}};function CVImageElement(Ve,$e,Be){this.assetData=$e.getAssetData(Ve.refId),this.img=$e.imageLoader.getAsset(this.assetData),this.initElement(Ve,$e,Be)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var Ve=createTag("canvas");Ve.width=this.assetData.w,Ve.height=this.assetData.h;var $e=Ve.getContext("2d"),Be=this.img.width,Ue=this.img.height,ze=Be/Ue,qe=this.assetData.w/this.assetData.h,He,We,Ge=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;ze>qe&&Ge==="xMidYMid slice"||ze<qe&&Ge!=="xMidYMid slice"?(We=Ue,He=We*qe):(He=Be,We=He/qe),$e.drawImage(this.img,(Be-He)/2,(Ue-We)/2,He,We,0,0,this.assetData.w,this.assetData.h),this.img=Ve}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(Ve,$e,Be){this.initElement(Ve,$e,Be)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(Ve){return new CVShapeElement(Ve,this.globalData,this)},CanvasRendererBase.prototype.createText=function(Ve){return new CVTextElement(Ve,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(Ve){return new CVImageElement(Ve,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(Ve){return new CVSolidElement(Ve,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(Ve){Ve[0]===1&&Ve[1]===0&&Ve[4]===0&&Ve[5]===1&&Ve[12]===0&&Ve[13]===0||this.canvasContext.transform(Ve[0],Ve[1],Ve[4],Ve[5],Ve[12],Ve[13])},CanvasRendererBase.prototype.ctxOpacity=function(Ve){this.canvasContext.globalAlpha*=Ve<0?0:Ve},CanvasRendererBase.prototype.ctxFillStyle=function(Ve){this.canvasContext.fillStyle=Ve},CanvasRendererBase.prototype.ctxStrokeStyle=function(Ve){this.canvasContext.strokeStyle=Ve},CanvasRendererBase.prototype.ctxLineWidth=function(Ve){this.canvasContext.lineWidth=Ve},CanvasRendererBase.prototype.ctxLineCap=function(Ve){this.canvasContext.lineCap=Ve},CanvasRendererBase.prototype.ctxLineJoin=function(Ve){this.canvasContext.lineJoin=Ve},CanvasRendererBase.prototype.ctxMiterLimit=function(Ve){this.canvasContext.miterLimit=Ve},CanvasRendererBase.prototype.ctxFill=function(Ve){this.canvasContext.fill(Ve)},CanvasRendererBase.prototype.ctxFillRect=function(Ve,$e,Be,Ue){this.canvasContext.fillRect(Ve,$e,Be,Ue)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(Ve){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}Ve&&(this.globalData.blendMode="source-over"),this.contextData.restore(Ve)},CanvasRendererBase.prototype.configAnimation=function(Ve){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var $e=this.animationItem.container.style;$e.width="100%",$e.height="100%";var Be="0px 0px 0px";$e.transformOrigin=Be,$e.mozTransformOrigin=Be,$e.webkitTransformOrigin=Be,$e["-webkit-transform"]=Be,$e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=Ve,this.layers=Ve.layers,this.transformCanvas={w:Ve.w,h:Ve.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(Ve,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(Ve.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(Ve,$e){this.reset();var Be,Ue;Ve?(Be=Ve,Ue=$e,this.canvasContext.canvas.width=Be,this.canvasContext.canvas.height=Ue):(this.animationItem.wrapper&&this.animationItem.container?(Be=this.animationItem.wrapper.offsetWidth,Ue=this.animationItem.wrapper.offsetHeight):(Be=this.canvasContext.canvas.width,Ue=this.canvasContext.canvas.height),this.canvasContext.canvas.width=Be*this.renderConfig.dpr,this.canvasContext.canvas.height=Ue*this.renderConfig.dpr);var ze,qe;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var He=this.renderConfig.preserveAspectRatio.split(" "),We=He[1]||"meet",Ge=He[0]||"xMidYMid",Ye=Ge.substr(0,4),Xe=Ge.substr(4);ze=Be/Ue,qe=this.transformCanvas.w/this.transformCanvas.h,qe>ze&&We==="meet"||qe<ze&&We==="slice"?(this.transformCanvas.sx=Be/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Be/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=Ue/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=Ue/(this.transformCanvas.h/this.renderConfig.dpr)),Ye==="xMid"&&(qe<ze&&We==="meet"||qe>ze&&We==="slice")?this.transformCanvas.tx=(Be-this.transformCanvas.w*(Ue/this.transformCanvas.h))/2*this.renderConfig.dpr:Ye==="xMax"&&(qe<ze&&We==="meet"||qe>ze&&We==="slice")?this.transformCanvas.tx=(Be-this.transformCanvas.w*(Ue/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Xe==="YMid"&&(qe>ze&&We==="meet"||qe<ze&&We==="slice")?this.transformCanvas.ty=(Ue-this.transformCanvas.h*(Be/this.transformCanvas.w))/2*this.renderConfig.dpr:Xe==="YMax"&&(qe>ze&&We==="meet"||qe<ze&&We==="slice")?this.transformCanvas.ty=(Ue-this.transformCanvas.h*(Be/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=Be/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Ue/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var Ve,$e=this.layers?this.layers.length:0;for(Ve=$e-1;Ve>=0;Ve-=1)this.elements[Ve]&&this.elements[Ve].destroy&&this.elements[Ve].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(Ve,$e){if(!(this.renderedFrame===Ve&&this.renderConfig.clearCanvas===!0&&!$e||this.destroyed||Ve===-1)){this.renderedFrame=Ve,this.globalData.frameNum=Ve-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||$e,this.globalData.projectInterface.currentFrame=Ve;var Be,Ue=this.layers.length;for(this.completeLayers||this.checkLayers(Ve),Be=Ue-1;Be>=0;Be-=1)(this.completeLayers||this.elements[Be])&&this.elements[Be].prepareFrame(Ve-this.layers[Be].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),Be=Ue-1;Be>=0;Be-=1)(this.completeLayers||this.elements[Be])&&this.elements[Be].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(Ve){var $e=this.elements;if(!($e[Ve]||this.layers[Ve].ty===99)){var Be=this.createItem(this.layers[Ve],this,this.globalData);$e[Ve]=Be,Be.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ve=this.pendingElements.pop();Ve.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var Ve,$e=15;for(Ve=0;Ve<$e;Ve+=1){var Be=new CanvasContext;this.stack[Ve]=Be}this._length=$e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var Ve=this._length*2,$e=0;for($e=this._length;$e<Ve;$e+=1)this.stack[$e]=new CanvasContext;this._length=Ve},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(Ve){this.cArrPos-=1;var $e=this.stack[this.cArrPos],Be=$e.transform,Ue,ze=this.cTr.props;for(Ue=0;Ue<16;Ue+=1)ze[Ue]=Be[Ue];if(Ve){this.nativeContext.restore();var qe=this.stack[this.cArrPos+1];this.appliedFillStyle=qe.fillStyle,this.appliedStrokeStyle=qe.strokeStyle,this.appliedLineWidth=qe.lineWidth,this.appliedLineCap=qe.lineCap,this.appliedLineJoin=qe.lineJoin,this.appliedMiterLimit=qe.miterLimit}this.nativeContext.setTransform(Be[0],Be[1],Be[4],Be[5],Be[12],Be[13]),(Ve||$e.opacity!==-1&&this.currentOpacity!==$e.opacity)&&(this.nativeContext.globalAlpha=$e.opacity,this.currentOpacity=$e.opacity),this.currentFillStyle=$e.fillStyle,this.currentStrokeStyle=$e.strokeStyle,this.currentLineWidth=$e.lineWidth,this.currentLineCap=$e.lineCap,this.currentLineJoin=$e.lineJoin,this.currentMiterLimit=$e.miterLimit},CVContextData.prototype.save=function(Ve){Ve&&this.nativeContext.save();var $e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var Be=this.stack[this.cArrPos],Ue;for(Ue=0;Ue<16;Ue+=1)Be.transform[Ue]=$e[Ue];this.cArrPos+=1;var ze=this.stack[this.cArrPos];ze.opacity=Be.opacity,ze.fillStyle=Be.fillStyle,ze.strokeStyle=Be.strokeStyle,ze.lineWidth=Be.lineWidth,ze.lineCap=Be.lineCap,ze.lineJoin=Be.lineJoin,ze.miterLimit=Be.miterLimit},CVContextData.prototype.setOpacity=function(Ve){this.stack[this.cArrPos].opacity=Ve},CVContextData.prototype.setContext=function(Ve){this.nativeContext=Ve},CVContextData.prototype.fillStyle=function(Ve){this.stack[this.cArrPos].fillStyle!==Ve&&(this.currentFillStyle=Ve,this.stack[this.cArrPos].fillStyle=Ve)},CVContextData.prototype.strokeStyle=function(Ve){this.stack[this.cArrPos].strokeStyle!==Ve&&(this.currentStrokeStyle=Ve,this.stack[this.cArrPos].strokeStyle=Ve)},CVContextData.prototype.lineWidth=function(Ve){this.stack[this.cArrPos].lineWidth!==Ve&&(this.currentLineWidth=Ve,this.stack[this.cArrPos].lineWidth=Ve)},CVContextData.prototype.lineCap=function(Ve){this.stack[this.cArrPos].lineCap!==Ve&&(this.currentLineCap=Ve,this.stack[this.cArrPos].lineCap=Ve)},CVContextData.prototype.lineJoin=function(Ve){this.stack[this.cArrPos].lineJoin!==Ve&&(this.currentLineJoin=Ve,this.stack[this.cArrPos].lineJoin=Ve)},CVContextData.prototype.miterLimit=function(Ve){this.stack[this.cArrPos].miterLimit!==Ve&&(this.currentMiterLimit=Ve,this.stack[this.cArrPos].miterLimit=Ve)},CVContextData.prototype.transform=function(Ve){this.transformMat.cloneFromProps(Ve);var $e=this.cTr;this.transformMat.multiply($e),$e.cloneFromProps(this.transformMat.props);var Be=$e.props;this.nativeContext.setTransform(Be[0],Be[1],Be[4],Be[5],Be[12],Be[13])},CVContextData.prototype.opacity=function(Ve){var $e=this.stack[this.cArrPos].opacity;$e*=Ve<0?0:Ve,this.stack[this.cArrPos].opacity!==$e&&(this.currentOpacity!==Ve&&(this.nativeContext.globalAlpha=Ve,this.currentOpacity=Ve),this.stack[this.cArrPos].opacity=$e)},CVContextData.prototype.fill=function(Ve){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(Ve)},CVContextData.prototype.fillRect=function(Ve,$e,Be,Ue){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(Ve,$e,Be,Ue)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(Ve,$e,Be){this.completeLayers=!1,this.layers=Ve.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(Ve,$e,Be),this.tm=Ve.tm?PropertyFactory.getProp(this,Ve.tm,0,$e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var Ve=this.canvasContext;Ve.beginPath(),Ve.moveTo(0,0),Ve.lineTo(this.data.w,0),Ve.lineTo(this.data.w,this.data.h),Ve.lineTo(0,this.data.h),Ve.lineTo(0,0),Ve.clip();var $e,Be=this.layers.length;for($e=Be-1;$e>=0;$e-=1)(this.completeLayers||this.elements[$e])&&this.elements[$e].renderFrame()},CVCompElement.prototype.destroy=function(){var Ve,$e=this.layers.length;for(Ve=$e-1;Ve>=0;Ve-=1)this.elements[Ve]&&this.elements[Ve].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(Ve){return new CVCompElement(Ve,this.globalData,this)};function CanvasRenderer(Ve,$e){this.animationItem=Ve,this.renderConfig={clearCanvas:$e&&$e.clearCanvas!==void 0?$e.clearCanvas:!0,context:$e&&$e.context||null,progressiveLoad:$e&&$e.progressiveLoad||!1,preserveAspectRatio:$e&&$e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:$e&&$e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:$e&&$e.contentVisibility||"visible",className:$e&&$e.className||"",id:$e&&$e.id||"",runExpressions:!$e||$e.runExpressions===void 0||$e.runExpressions},this.renderConfig.dpr=$e&&$e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=$e&&$e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(Ve){return new CVCompElement(Ve,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var $e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var Be=this.finalTransform.mat.toCSS();$e.transform=Be,$e.webkitTransform=Be}this.finalTransform._opMdf&&($e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(Ve,$e,Be){this.initElement(Ve,$e,Be)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var Ve;this.data.hasMask?(Ve=createNS("rect"),Ve.setAttribute("width",this.data.sw),Ve.setAttribute("height",this.data.sh),Ve.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(Ve=createTag("div"),Ve.style.width=this.data.sw+"px",Ve.style.height=this.data.sh+"px",Ve.style.backgroundColor=this.data.sc),this.layerElement.appendChild(Ve)};function HShapeElement(Ve,$e,Be){this.shapes=[],this.shapesData=Ve.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(Ve,$e,Be),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var Ve;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),Ve=this.svgElement;else{Ve=createNS("svg");var $e=this.comp.data?this.comp.data:this.globalData.compSize;Ve.setAttribute("width",$e.w),Ve.setAttribute("height",$e.h),Ve.appendChild(this.shapesContainer),this.layerElement.appendChild(Ve)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=Ve},HShapeElement.prototype.getTransformedPoint=function(Ve,$e){var Be,Ue=Ve.length;for(Be=0;Be<Ue;Be+=1)$e=Ve[Be].mProps.v.applyToPointArray($e[0],$e[1],0);return $e},HShapeElement.prototype.calculateShapeBoundingBox=function(Ve,$e){var Be=Ve.sh.v,Ue=Ve.transformers,ze,qe=Be._length,He,We,Ge,Ye;if(!(qe<=1)){for(ze=0;ze<qe-1;ze+=1)He=this.getTransformedPoint(Ue,Be.v[ze]),We=this.getTransformedPoint(Ue,Be.o[ze]),Ge=this.getTransformedPoint(Ue,Be.i[ze+1]),Ye=this.getTransformedPoint(Ue,Be.v[ze+1]),this.checkBounds(He,We,Ge,Ye,$e);Be.c&&(He=this.getTransformedPoint(Ue,Be.v[ze]),We=this.getTransformedPoint(Ue,Be.o[ze]),Ge=this.getTransformedPoint(Ue,Be.i[0]),Ye=this.getTransformedPoint(Ue,Be.v[0]),this.checkBounds(He,We,Ge,Ye,$e))}},HShapeElement.prototype.checkBounds=function(Ve,$e,Be,Ue,ze){this.getBoundsOfCurve(Ve,$e,Be,Ue);var qe=this.shapeBoundingBox;ze.x=bmMin(qe.left,ze.x),ze.xMax=bmMax(qe.right,ze.xMax),ze.y=bmMin(qe.top,ze.y),ze.yMax=bmMax(qe.bottom,ze.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(Ve,$e,Be,Ue){for(var ze=[[Ve[0],Ue[0]],[Ve[1],Ue[1]]],qe,He,We,Ge,Ye,Xe,Je,er=0;er<2;++er)He=6*Ve[er]-12*$e[er]+6*Be[er],qe=-3*Ve[er]+9*$e[er]-9*Be[er]+3*Ue[er],We=3*$e[er]-3*Ve[er],He|=0,qe|=0,We|=0,qe===0&&He===0||(qe===0?(Ge=-We/He,Ge>0&&Ge<1&&ze[er].push(this.calculateF(Ge,Ve,$e,Be,Ue,er))):(Ye=He*He-4*We*qe,Ye>=0&&(Xe=(-He+bmSqrt(Ye))/(2*qe),Xe>0&&Xe<1&&ze[er].push(this.calculateF(Xe,Ve,$e,Be,Ue,er)),Je=(-He-bmSqrt(Ye))/(2*qe),Je>0&&Je<1&&ze[er].push(this.calculateF(Je,Ve,$e,Be,Ue,er)))));this.shapeBoundingBox.left=bmMin.apply(null,ze[0]),this.shapeBoundingBox.top=bmMin.apply(null,ze[1]),this.shapeBoundingBox.right=bmMax.apply(null,ze[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,ze[1])},HShapeElement.prototype.calculateF=function(Ve,$e,Be,Ue,ze,qe){return bmPow(1-Ve,3)*$e[qe]+3*bmPow(1-Ve,2)*Ve*Be[qe]+3*(1-Ve)*bmPow(Ve,2)*Ue[qe]+bmPow(Ve,3)*ze[qe]},HShapeElement.prototype.calculateBoundingBox=function(Ve,$e){var Be,Ue=Ve.length;for(Be=0;Be<Ue;Be+=1)Ve[Be]&&Ve[Be].sh?this.calculateShapeBoundingBox(Ve[Be],$e):Ve[Be]&&Ve[Be].it?this.calculateBoundingBox(Ve[Be].it,$e):Ve[Be]&&Ve[Be].style&&Ve[Be].w&&this.expandStrokeBoundingBox(Ve[Be].w,$e)},HShapeElement.prototype.expandStrokeBoundingBox=function(Ve,$e){var Be=0;if(Ve.keyframes){for(var Ue=0;Ue<Ve.keyframes.length;Ue+=1){var ze=Ve.keyframes[Ue].s;ze>Be&&(Be=ze)}Be*=Ve.mult}else Be=Ve.v*Ve.mult;$e.x-=Be,$e.xMax+=Be,$e.y-=Be,$e.yMax+=Be},HShapeElement.prototype.currentBoxContains=function(Ve){return this.currentBBox.x<=Ve.x&&this.currentBBox.y<=Ve.y&&this.currentBBox.width+this.currentBBox.x>=Ve.x+Ve.width&&this.currentBBox.height+this.currentBBox.y>=Ve.y+Ve.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var Ve=this.tempBoundingBox,$e=999999;if(Ve.x=$e,Ve.xMax=-$e,Ve.y=$e,Ve.yMax=-$e,this.calculateBoundingBox(this.itemsData,Ve),Ve.width=Ve.xMax<Ve.x?0:Ve.xMax-Ve.x,Ve.height=Ve.yMax<Ve.y?0:Ve.yMax-Ve.y,this.currentBoxContains(Ve))return;var Be=!1;if(this.currentBBox.w!==Ve.width&&(this.currentBBox.w=Ve.width,this.shapeCont.setAttribute("width",Ve.width),Be=!0),this.currentBBox.h!==Ve.height&&(this.currentBBox.h=Ve.height,this.shapeCont.setAttribute("height",Ve.height),Be=!0),Be||this.currentBBox.x!==Ve.x||this.currentBBox.y!==Ve.y){this.currentBBox.w=Ve.width,this.currentBBox.h=Ve.height,this.currentBBox.x=Ve.x,this.currentBBox.y=Ve.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var Ue=this.shapeCont.style,ze="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Ue.transform=ze,Ue.webkitTransform=ze}}};function HTextElement(Ve,$e,Be){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(Ve,$e,Be)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var Ve=createNS("g");this.maskedElement.appendChild(Ve),this.innerElem=Ve}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var Ve=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ve.l?Ve.l.length:0);var $e=this.innerElem.style,Be=Ve.fc?this.buildColor(Ve.fc):"rgba(0,0,0,0)";$e.fill=Be,$e.color=Be,Ve.sc&&($e.stroke=this.buildColor(Ve.sc),$e.strokeWidth=Ve.sw+"px");var Ue=this.globalData.fontManager.getFontByName(Ve.f);if(!this.globalData.fontManager.chars)if($e.fontSize=Ve.finalSize+"px",$e.lineHeight=Ve.finalSize+"px",Ue.fClass)this.innerElem.className=Ue.fClass;else{$e.fontFamily=Ue.fFamily;var ze=Ve.fWeight,qe=Ve.fStyle;$e.fontStyle=qe,$e.fontWeight=ze}var He,We,Ge=Ve.l;We=Ge.length;var Ye,Xe,Je,er=this.mHelper,Ze,rr="",nr=0;for(He=0;He<We;He+=1){if(this.globalData.fontManager.chars?(this.textPaths[nr]?Ye=this.textPaths[nr]:(Ye=createNS("path"),Ye.setAttribute("stroke-linecap",lineCapEnum[1]),Ye.setAttribute("stroke-linejoin",lineJoinEnum[2]),Ye.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[nr]?(Xe=this.textSpans[nr],Je=Xe.children[0]):(Xe=createTag("div"),Xe.style.lineHeight=0,Je=createNS("svg"),Je.appendChild(Ye),styleDiv(Xe)))):this.isMasked?Ye=this.textPaths[nr]?this.textPaths[nr]:createNS("text"):this.textSpans[nr]?(Xe=this.textSpans[nr],Ye=this.textPaths[nr]):(Xe=createTag("span"),styleDiv(Xe),Ye=createTag("span"),styleDiv(Ye),Xe.appendChild(Ye)),this.globalData.fontManager.chars){var ar=this.globalData.fontManager.getCharData(Ve.finalText[He],Ue.fStyle,this.globalData.fontManager.getFontByName(Ve.f).fFamily),sr;if(ar?sr=ar.data:sr=null,er.reset(),sr&&sr.shapes&&sr.shapes.length&&(Ze=sr.shapes[0].it,er.scale(Ve.finalSize/100,Ve.finalSize/100),rr=this.createPathShape(er,Ze),Ye.setAttribute("d",rr)),this.isMasked)this.innerElem.appendChild(Ye);else{if(this.innerElem.appendChild(Xe),sr&&sr.shapes){document.body.appendChild(Je);var lr=Je.getBBox();Je.setAttribute("width",lr.width+2),Je.setAttribute("height",lr.height+2),Je.setAttribute("viewBox",lr.x-1+" "+(lr.y-1)+" "+(lr.width+2)+" "+(lr.height+2));var or=Je.style,cr="translate("+(lr.x-1)+"px,"+(lr.y-1)+"px)";or.transform=cr,or.webkitTransform=cr,Ge[He].yOffset=lr.y-1}else Je.setAttribute("width",1),Je.setAttribute("height",1);Xe.appendChild(Je)}}else if(Ye.textContent=Ge[He].val,Ye.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Ye);else{this.innerElem.appendChild(Xe);var hr=Ye.style,yr="translate3d(0,"+-Ve.finalSize/1.2+"px,0)";hr.transform=yr,hr.webkitTransform=yr}this.isMasked?this.textSpans[nr]=Ye:this.textSpans[nr]=Xe,this.textSpans[nr].style.display="block",this.textPaths[nr]=Ye,nr+=1}for(;nr<this.textSpans.length;)this.textSpans[nr].style.display="none",nr+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var Ve;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),Ve=this.svgElement.style;var $e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";Ve.transform=$e,Ve.webkitTransform=$e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var Be,Ue,ze=0,qe=this.textAnimator.renderedLetters,He=this.textProperty.currentData.l;Ue=He.length;var We,Ge,Ye;for(Be=0;Be<Ue;Be+=1)He[Be].n?ze+=1:(Ge=this.textSpans[Be],Ye=this.textPaths[Be],We=qe[ze],ze+=1,We._mdf.m&&(this.isMasked?Ge.setAttribute("transform",We.m):(Ge.style.webkitTransform=We.m,Ge.style.transform=We.m)),Ge.style.opacity=We.o,We.sw&&We._mdf.sw&&Ye.setAttribute("stroke-width",We.sw),We.sc&&We._mdf.sc&&Ye.setAttribute("stroke",We.sc),We.fc&&We._mdf.fc&&(Ye.setAttribute("fill",We.fc),Ye.style.color=We.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Xe=this.innerElem.getBBox();this.currentBBox.w!==Xe.width&&(this.currentBBox.w=Xe.width,this.svgElement.setAttribute("width",Xe.width)),this.currentBBox.h!==Xe.height&&(this.currentBBox.h=Xe.height,this.svgElement.setAttribute("height",Xe.height));var Je=1;if(this.currentBBox.w!==Xe.width+Je*2||this.currentBBox.h!==Xe.height+Je*2||this.currentBBox.x!==Xe.x-Je||this.currentBBox.y!==Xe.y-Je){this.currentBBox.w=Xe.width+Je*2,this.currentBBox.h=Xe.height+Je*2,this.currentBBox.x=Xe.x-Je,this.currentBBox.y=Xe.y-Je,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),Ve=this.svgElement.style;var er="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Ve.transform=er,Ve.webkitTransform=er}}}};function HCameraElement(Ve,$e,Be){this.initFrame(),this.initBaseData(Ve,$e,Be),this.initHierarchy();var Ue=PropertyFactory.getProp;if(this.pe=Ue(this,Ve.pe,0,0,this),Ve.ks.p.s?(this.px=Ue(this,Ve.ks.p.x,1,0,this),this.py=Ue(this,Ve.ks.p.y,1,0,this),this.pz=Ue(this,Ve.ks.p.z,1,0,this)):this.p=Ue(this,Ve.ks.p,1,0,this),Ve.ks.a&&(this.a=Ue(this,Ve.ks.a,1,0,this)),Ve.ks.or.k.length&&Ve.ks.or.k[0].to){var ze,qe=Ve.ks.or.k.length;for(ze=0;ze<qe;ze+=1)Ve.ks.or.k[ze].to=null,Ve.ks.or.k[ze].ti=null}this.or=Ue(this,Ve.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=Ue(this,Ve.ks.rx,0,degToRads,this),this.ry=Ue(this,Ve.ks.ry,0,degToRads,this),this.rz=Ue(this,Ve.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var Ve,$e=this.comp.threeDElements.length,Be,Ue,ze;for(Ve=0;Ve<$e;Ve+=1)if(Be=this.comp.threeDElements[Ve],Be.type==="3d"){Ue=Be.perspectiveElem.style,ze=Be.container.style;var qe=this.pe.v+"px",He="0px 0px 0px",We="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Ue.perspective=qe,Ue.webkitPerspective=qe,ze.transformOrigin=He,ze.mozTransformOrigin=He,ze.webkitTransformOrigin=He,Ue.transform=We,Ue.webkitTransform=We}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var Ve=this._isFirstFrame,$e,Be;if(this.hierarchy)for(Be=this.hierarchy.length,$e=0;$e<Be;$e+=1)Ve=this.hierarchy[$e].finalTransform.mProp._mdf||Ve;if(Ve||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(Be=this.hierarchy.length-1,$e=Be;$e>=0;$e-=1){var Ue=this.hierarchy[$e].finalTransform.mProp;this.mat.translate(-Ue.p.v[0],-Ue.p.v[1],Ue.p.v[2]),this.mat.rotateX(-Ue.or.v[0]).rotateY(-Ue.or.v[1]).rotateZ(Ue.or.v[2]),this.mat.rotateX(-Ue.rx.v).rotateY(-Ue.ry.v).rotateZ(Ue.rz.v),this.mat.scale(1/Ue.s.v[0],1/Ue.s.v[1],1/Ue.s.v[2]),this.mat.translate(Ue.a.v[0],Ue.a.v[1],Ue.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var ze;this.p?ze=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:ze=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var qe=Math.sqrt(Math.pow(ze[0],2)+Math.pow(ze[1],2)+Math.pow(ze[2],2)),He=[ze[0]/qe,ze[1]/qe,ze[2]/qe],We=Math.sqrt(He[2]*He[2]+He[0]*He[0]),Ge=Math.atan2(He[1],We),Ye=Math.atan2(He[0],-He[2]);this.mat.rotateY(Ye).rotateX(-Ge)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Xe=!this._prevMat.equals(this.mat);if((Xe||this.pe._mdf)&&this.comp.threeDElements){Be=this.comp.threeDElements.length;var Je,er,Ze;for($e=0;$e<Be;$e+=1)if(Je=this.comp.threeDElements[$e],Je.type==="3d"){if(Xe){var rr=this.mat.toCSS();Ze=Je.container.style,Ze.transform=rr,Ze.webkitTransform=rr}this.pe._mdf&&(er=Je.perspectiveElem.style,er.perspective=this.pe.v+"px",er.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(Ve){this.prepareProperties(Ve,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(Ve,$e,Be){this.assetData=$e.getAssetData(Ve.refId),this.initElement(Ve,$e,Be)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var Ve=this.globalData.getAssetsPath(this.assetData),$e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Ve),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild($e),$e.crossOrigin="anonymous",$e.src=Ve,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(Ve,$e){this.animationItem=Ve,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:$e&&$e.className||"",imagePreserveAspectRatio:$e&&$e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!($e&&$e.hideOnTransparent===!1),filterSize:{width:$e&&$e.filterSize&&$e.filterSize.width||"400%",height:$e&&$e.filterSize&&$e.filterSize.height||"400%",x:$e&&$e.filterSize&&$e.filterSize.x||"-100%",y:$e&&$e.filterSize&&$e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Ve=this.pendingElements.pop();Ve.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(Ve,$e){var Be=Ve.getBaseElement();if(Be){var Ue=this.layers[$e];if(!Ue.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(Be,$e);else{for(var ze=0,qe,He,We;ze<$e;)this.elements[ze]&&this.elements[ze]!==!0&&this.elements[ze].getBaseElement&&(He=this.elements[ze],We=this.layers[ze].ddd?this.getThreeDContainerByPos(ze):He.getBaseElement(),qe=We||qe),ze+=1;qe?(!Ue.ddd||!this.supports3d)&&this.layerElement.insertBefore(Be,qe):(!Ue.ddd||!this.supports3d)&&this.layerElement.appendChild(Be)}else this.addTo3dContainer(Be,$e)}},HybridRendererBase.prototype.createShape=function(Ve){return this.supports3d?new HShapeElement(Ve,this.globalData,this):new SVGShapeElement(Ve,this.globalData,this)},HybridRendererBase.prototype.createText=function(Ve){return this.supports3d?new HTextElement(Ve,this.globalData,this):new SVGTextLottieElement(Ve,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(Ve){return this.camera=new HCameraElement(Ve,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(Ve){return this.supports3d?new HImageElement(Ve,this.globalData,this):new IImageElement(Ve,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(Ve){return this.supports3d?new HSolidElement(Ve,this.globalData,this):new ISolidElement(Ve,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(Ve){for(var $e=0,Be=this.threeDElements.length;$e<Be;){if(this.threeDElements[$e].startPos<=Ve&&this.threeDElements[$e].endPos>=Ve)return this.threeDElements[$e].perspectiveElem;$e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(Ve,$e){var Be=createTag("div"),Ue,ze;styleDiv(Be);var qe=createTag("div");if(styleDiv(qe),$e==="3d"){Ue=Be.style,Ue.width=this.globalData.compSize.w+"px",Ue.height=this.globalData.compSize.h+"px";var He="50% 50%";Ue.webkitTransformOrigin=He,Ue.mozTransformOrigin=He,Ue.transformOrigin=He,ze=qe.style;var We="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";ze.transform=We,ze.webkitTransform=We}Be.appendChild(qe);var Ge={container:qe,perspectiveElem:Be,startPos:Ve,endPos:Ve,type:$e};return this.threeDElements.push(Ge),Ge},HybridRendererBase.prototype.build3dContainers=function(){var Ve,$e=this.layers.length,Be,Ue="";for(Ve=0;Ve<$e;Ve+=1)this.layers[Ve].ddd&&this.layers[Ve].ty!==3?(Ue!=="3d"&&(Ue="3d",Be=this.createThreeDContainer(Ve,"3d")),Be.endPos=Math.max(Be.endPos,Ve)):(Ue!=="2d"&&(Ue="2d",Be=this.createThreeDContainer(Ve,"2d")),Be.endPos=Math.max(Be.endPos,Ve));for($e=this.threeDElements.length,Ve=$e-1;Ve>=0;Ve-=1)this.resizerElem.appendChild(this.threeDElements[Ve].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(Ve,$e){for(var Be=0,Ue=this.threeDElements.length;Be<Ue;){if($e<=this.threeDElements[Be].endPos){for(var ze=this.threeDElements[Be].startPos,qe;ze<$e;)this.elements[ze]&&this.elements[ze].getBaseElement&&(qe=this.elements[ze].getBaseElement()),ze+=1;qe?this.threeDElements[Be].container.insertBefore(Ve,qe):this.threeDElements[Be].container.appendChild(Ve);break}Be+=1}},HybridRendererBase.prototype.configAnimation=function(Ve){var $e=createTag("div"),Be=this.animationItem.wrapper,Ue=$e.style;Ue.width=Ve.w+"px",Ue.height=Ve.h+"px",this.resizerElem=$e,styleDiv($e),Ue.transformStyle="flat",Ue.mozTransformStyle="flat",Ue.webkitTransformStyle="flat",this.renderConfig.className&&$e.setAttribute("class",this.renderConfig.className),Be.appendChild($e),Ue.overflow="hidden";var ze=createNS("svg");ze.setAttribute("width","1"),ze.setAttribute("height","1"),styleDiv(ze),this.resizerElem.appendChild(ze);var qe=createNS("defs");ze.appendChild(qe),this.data=Ve,this.setupGlobalData(Ve,ze),this.globalData.defs=qe,this.layers=Ve.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var Ve,$e=this.layers?this.layers.length:0;for(Ve=0;Ve<$e;Ve+=1)this.elements[Ve]&&this.elements[Ve].destroy&&this.elements[Ve].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var Ve=this.animationItem.wrapper.offsetWidth,$e=this.animationItem.wrapper.offsetHeight,Be=Ve/$e,Ue=this.globalData.compSize.w/this.globalData.compSize.h,ze,qe,He,We;Ue>Be?(ze=Ve/this.globalData.compSize.w,qe=Ve/this.globalData.compSize.w,He=0,We=($e-this.globalData.compSize.h*(Ve/this.globalData.compSize.w))/2):(ze=$e/this.globalData.compSize.h,qe=$e/this.globalData.compSize.h,He=(Ve-this.globalData.compSize.w*($e/this.globalData.compSize.h))/2,We=0);var Ge=this.resizerElem.style;Ge.webkitTransform="matrix3d("+ze+",0,0,0,0,"+qe+",0,0,0,0,1,0,"+He+","+We+",0,1)",Ge.transform=Ge.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var Ve=this.globalData.compSize.w,$e=this.globalData.compSize.h,Be,Ue=this.threeDElements.length;for(Be=0;Be<Ue;Be+=1){var ze=this.threeDElements[Be].perspectiveElem.style;ze.webkitPerspective=Math.sqrt(Math.pow(Ve,2)+Math.pow($e,2))+"px",ze.perspective=ze.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(Ve){var $e,Be=Ve.length,Ue=createTag("div");for($e=0;$e<Be;$e+=1)if(Ve[$e].xt){var ze=this.createComp(Ve[$e],Ue,this.globalData.comp,null);ze.initExpressions(),this.globalData.projectInterface.registerComposition(ze)}};function HCompElement(Ve,$e,Be){this.layers=Ve.layers,this.supports3d=!Ve.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Ve,$e,Be),this.tm=Ve.tm?PropertyFactory.getProp(this,Ve.tm,0,$e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(Ve,$e){for(var Be=0,Ue;Be<$e;)this.elements[Be]&&this.elements[Be].getBaseElement&&(Ue=this.elements[Be].getBaseElement()),Be+=1;Ue?this.layerElement.insertBefore(Ve,Ue):this.layerElement.appendChild(Ve)},HCompElement.prototype.createComp=function(Ve){return this.supports3d?new HCompElement(Ve,this.globalData,this):new SVGCompElement(Ve,this.globalData,this)};function HybridRenderer(Ve,$e){this.animationItem=Ve,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:$e&&$e.className||"",imagePreserveAspectRatio:$e&&$e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!($e&&$e.hideOnTransparent===!1),filterSize:{width:$e&&$e.filterSize&&$e.filterSize.width||"400%",height:$e&&$e.filterSize&&$e.filterSize.height||"400%",x:$e&&$e.filterSize&&$e.filterSize.x||"-100%",y:$e&&$e.filterSize&&$e.filterSize.y||"-100%"},runExpressions:!$e||$e.runExpressions===void 0||$e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(Ve){return this.supports3d?new HCompElement(Ve,this.globalData,this):new SVGCompElement(Ve,this.globalData,this)};var CompExpressionInterface=(function(){return function(Ve){function $e(Be){for(var Ue=0,ze=Ve.layers.length;Ue<ze;){if(Ve.layers[Ue].nm===Be||Ve.layers[Ue].ind===Be)return Ve.elements[Ue].layerInterface;Ue+=1}return null}return Object.defineProperty($e,"_name",{value:Ve.data.nm}),$e.layer=$e,$e.pixelAspect=1,$e.height=Ve.data.h||Ve.globalData.compSize.h,$e.width=Ve.data.w||Ve.globalData.compSize.w,$e.pixelAspect=1,$e.frameDuration=1/Ve.globalData.frameRate,$e.displayStartTime=0,$e.numLayers=Ve.layers.length,$e}})();function _typeof$2(Ve){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_typeof$2(Ve)}function seedRandom(Ve,$e){var Be=this,Ue=256,ze=6,qe=52,He="random",We=$e.pow(Ue,ze),Ge=$e.pow(2,qe),Ye=Ge*2,Xe=Ue-1,Je;function er(or,cr,hr){var yr=[];cr=cr===!0?{entropy:!0}:cr||{};var mr=ar(nr(cr.entropy?[or,lr(Ve)]:or===null?sr():or,3),yr),vr=new Ze(yr),_r=function(){for(var br=vr.g(ze),fr=We,Sr=0;br<Ge;)br=(br+Sr)*Ue,fr*=Ue,Sr=vr.g(1);for(;br>=Ye;)br/=2,fr/=2,Sr>>>=1;return(br+Sr)/fr};return _r.int32=function(){return vr.g(4)|0},_r.quick=function(){return vr.g(4)/4294967296},_r.double=_r,ar(lr(vr.S),Ve),(cr.pass||hr||function(Cr,br,fr,Sr){return Sr&&(Sr.S&&rr(Sr,vr),Cr.state=function(){return rr(vr,{})}),fr?($e[He]=Cr,br):Cr})(_r,mr,"global"in cr?cr.global:this==$e,cr.state)}$e["seed"+He]=er;function Ze(or){var cr,hr=or.length,yr=this,mr=0,vr=yr.i=yr.j=0,_r=yr.S=[];for(hr||(or=[hr++]);mr<Ue;)_r[mr]=mr++;for(mr=0;mr<Ue;mr++)_r[mr]=_r[vr=Xe&vr+or[mr%hr]+(cr=_r[mr])],_r[vr]=cr;yr.g=function(Cr){for(var br,fr=0,Sr=yr.i,Dr=yr.j,Or=yr.S;Cr--;)br=Or[Sr=Xe&Sr+1],fr=fr*Ue+Or[Xe&(Or[Sr]=Or[Dr=Xe&Dr+br])+(Or[Dr]=br)];return yr.i=Sr,yr.j=Dr,fr}}function rr(or,cr){return cr.i=or.i,cr.j=or.j,cr.S=or.S.slice(),cr}function nr(or,cr){var hr=[],yr=_typeof$2(or),mr;if(cr&&yr=="object")for(mr in or)try{hr.push(nr(or[mr],cr-1))}catch{}return hr.length?hr:yr=="string"?or:or+"\0"}function ar(or,cr){for(var hr=or+"",yr,mr=0;mr<hr.length;)cr[Xe&mr]=Xe&(yr^=cr[Xe&mr]*19)+hr.charCodeAt(mr++);return lr(cr)}function sr(){try{var or=new Uint8Array(Ue);return(Be.crypto||Be.msCrypto).getRandomValues(or),lr(or)}catch{var cr=Be.navigator,hr=cr&&cr.plugins;return[+new Date,Be,hr,Be.screen,lr(Ve)]}}function lr(or){return String.fromCharCode.apply(0,or)}ar($e.random(),Ve)}function initialize$2(Ve){seedRandom([],Ve)}var propTypes={SHAPE:"shape"};function _typeof$1(Ve){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_typeof$1(Ve)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(Ve){return Ve.constructor===Array||Ve.constructor===Float32Array}function isNumerable(Ve,$e){return Ve==="number"||$e instanceof Number||Ve==="boolean"||Ve==="string"}function $bm_neg(Ve){var $e=_typeof$1(Ve);if($e==="number"||Ve instanceof Number||$e==="boolean")return-Ve;if($bm_isInstanceOfArray(Ve)){var Be,Ue=Ve.length,ze=[];for(Be=0;Be<Ue;Be+=1)ze[Be]=-Ve[Be];return ze}return Ve.propType?Ve.v:-Ve}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(Ve,$e){var Be=_typeof$1(Ve),Ue=_typeof$1($e);if(isNumerable(Be,Ve)&&isNumerable(Ue,$e)||Be==="string"||Ue==="string")return Ve+$e;if($bm_isInstanceOfArray(Ve)&&isNumerable(Ue,$e))return Ve=Ve.slice(0),Ve[0]+=$e,Ve;if(isNumerable(Be,Ve)&&$bm_isInstanceOfArray($e))return $e=$e.slice(0),$e[0]=Ve+$e[0],$e;if($bm_isInstanceOfArray(Ve)&&$bm_isInstanceOfArray($e)){for(var ze=0,qe=Ve.length,He=$e.length,We=[];ze<qe||ze<He;)(typeof Ve[ze]=="number"||Ve[ze]instanceof Number)&&(typeof $e[ze]=="number"||$e[ze]instanceof Number)?We[ze]=Ve[ze]+$e[ze]:We[ze]=$e[ze]===void 0?Ve[ze]:Ve[ze]||$e[ze],ze+=1;return We}return 0}var add=sum;function sub(Ve,$e){var Be=_typeof$1(Ve),Ue=_typeof$1($e);if(isNumerable(Be,Ve)&&isNumerable(Ue,$e))return Be==="string"&&(Ve=parseInt(Ve,10)),Ue==="string"&&($e=parseInt($e,10)),Ve-$e;if($bm_isInstanceOfArray(Ve)&&isNumerable(Ue,$e))return Ve=Ve.slice(0),Ve[0]-=$e,Ve;if(isNumerable(Be,Ve)&&$bm_isInstanceOfArray($e))return $e=$e.slice(0),$e[0]=Ve-$e[0],$e;if($bm_isInstanceOfArray(Ve)&&$bm_isInstanceOfArray($e)){for(var ze=0,qe=Ve.length,He=$e.length,We=[];ze<qe||ze<He;)(typeof Ve[ze]=="number"||Ve[ze]instanceof Number)&&(typeof $e[ze]=="number"||$e[ze]instanceof Number)?We[ze]=Ve[ze]-$e[ze]:We[ze]=$e[ze]===void 0?Ve[ze]:Ve[ze]||$e[ze],ze+=1;return We}return 0}function mul(Ve,$e){var Be=_typeof$1(Ve),Ue=_typeof$1($e),ze;if(isNumerable(Be,Ve)&&isNumerable(Ue,$e))return Ve*$e;var qe,He;if($bm_isInstanceOfArray(Ve)&&isNumerable(Ue,$e)){for(He=Ve.length,ze=createTypedArray("float32",He),qe=0;qe<He;qe+=1)ze[qe]=Ve[qe]*$e;return ze}if(isNumerable(Be,Ve)&&$bm_isInstanceOfArray($e)){for(He=$e.length,ze=createTypedArray("float32",He),qe=0;qe<He;qe+=1)ze[qe]=Ve*$e[qe];return ze}return 0}function div(Ve,$e){var Be=_typeof$1(Ve),Ue=_typeof$1($e),ze;if(isNumerable(Be,Ve)&&isNumerable(Ue,$e))return Ve/$e;var qe,He;if($bm_isInstanceOfArray(Ve)&&isNumerable(Ue,$e)){for(He=Ve.length,ze=createTypedArray("float32",He),qe=0;qe<He;qe+=1)ze[qe]=Ve[qe]/$e;return ze}if(isNumerable(Be,Ve)&&$bm_isInstanceOfArray($e)){for(He=$e.length,ze=createTypedArray("float32",He),qe=0;qe<He;qe+=1)ze[qe]=Ve/$e[qe];return ze}return 0}function mod(Ve,$e){return typeof Ve=="string"&&(Ve=parseInt(Ve,10)),typeof $e=="string"&&($e=parseInt($e,10)),Ve%$e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(Ve,$e,Be){if($e>Be){var Ue=Be;Be=$e,$e=Ue}return Math.min(Math.max(Ve,$e),Be)}function radiansToDegrees(Ve){return Ve/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(Ve){return Ve*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(Ve,$e){if(typeof Ve=="number"||Ve instanceof Number)return $e=$e||0,Math.abs(Ve-$e);$e||($e=helperLengthArray);var Be,Ue=Math.min(Ve.length,$e.length),ze=0;for(Be=0;Be<Ue;Be+=1)ze+=Math.pow($e[Be]-Ve[Be],2);return Math.sqrt(ze)}function normalize(Ve){return div(Ve,length(Ve))}function rgbToHsl(Ve){var $e=Ve[0],Be=Ve[1],Ue=Ve[2],ze=Math.max($e,Be,Ue),qe=Math.min($e,Be,Ue),He,We,Ge=(ze+qe)/2;if(ze===qe)He=0,We=0;else{var Ye=ze-qe;switch(We=Ge>.5?Ye/(2-ze-qe):Ye/(ze+qe),ze){case $e:He=(Be-Ue)/Ye+(Be<Ue?6:0);break;case Be:He=(Ue-$e)/Ye+2;break;case Ue:He=($e-Be)/Ye+4;break}He/=6}return[He,We,Ge,Ve[3]]}function hue2rgb(Ve,$e,Be){return Be<0&&(Be+=1),Be>1&&(Be-=1),Be<1/6?Ve+($e-Ve)*6*Be:Be<1/2?$e:Be<2/3?Ve+($e-Ve)*(2/3-Be)*6:Ve}function hslToRgb(Ve){var $e=Ve[0],Be=Ve[1],Ue=Ve[2],ze,qe,He;if(Be===0)ze=Ue,He=Ue,qe=Ue;else{var We=Ue<.5?Ue*(1+Be):Ue+Be-Ue*Be,Ge=2*Ue-We;ze=hue2rgb(Ge,We,$e+1/3),qe=hue2rgb(Ge,We,$e),He=hue2rgb(Ge,We,$e-1/3)}return[ze,qe,He,Ve[3]]}function linear(Ve,$e,Be,Ue,ze){if((Ue===void 0||ze===void 0)&&(Ue=$e,ze=Be,$e=0,Be=1),Be<$e){var qe=Be;Be=$e,$e=qe}if(Ve<=$e)return Ue;if(Ve>=Be)return ze;var He=Be===$e?0:(Ve-$e)/(Be-$e);if(!Ue.length)return Ue+(ze-Ue)*He;var We,Ge=Ue.length,Ye=createTypedArray("float32",Ge);for(We=0;We<Ge;We+=1)Ye[We]=Ue[We]+(ze[We]-Ue[We])*He;return Ye}function random(Ve,$e){if($e===void 0&&(Ve===void 0?(Ve=0,$e=1):($e=Ve,Ve=void 0)),$e.length){var Be,Ue=$e.length;Ve||(Ve=createTypedArray("float32",Ue));var ze=createTypedArray("float32",Ue),qe=BMMath.random();for(Be=0;Be<Ue;Be+=1)ze[Be]=Ve[Be]+qe*($e[Be]-Ve[Be]);return ze}Ve===void 0&&(Ve=0);var He=BMMath.random();return Ve+He*($e-Ve)}function createPath(Ve,$e,Be,Ue){var ze,qe=Ve.length,He=shapePool.newElement();He.setPathData(!!Ue,qe);var We=[0,0],Ge,Ye;for(ze=0;ze<qe;ze+=1)Ge=$e&&$e[ze]?$e[ze]:We,Ye=Be&&Be[ze]?Be[ze]:We,He.setTripleAt(Ve[ze][0],Ve[ze][1],Ye[0]+Ve[ze][0],Ye[1]+Ve[ze][1],Ge[0]+Ve[ze][0],Ge[1]+Ve[ze][1],ze,!0);return He}function initiateExpression(elem,data,property){function noOp(Ve){return Ve}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function Ve($e,Be){var Ue,ze,qe=this.pv.length?this.pv.length:1,He=createTypedArray("float32",qe);$e=5;var We=Math.floor(time*$e);for(Ue=0,ze=0;Ue<We;){for(ze=0;ze<qe;ze+=1)He[ze]+=-Be+Be*2*BMMath.random();Ue+=1}var Ge=time*$e,Ye=Ge-Math.floor(Ge),Xe=createTypedArray("float32",qe);if(qe>1){for(ze=0;ze<qe;ze+=1)Xe[ze]=this.pv[ze]+He[ze]+(-Be+Be*2*BMMath.random())*Ye;return Xe}return this.pv+He[0]+(-Be+Be*2*BMMath.random())*Ye}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(Ve,$e){return loopIn(Ve,$e,!0)}function loopOutDuration(Ve,$e){return loopOut(Ve,$e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(Ve,$e){var Be=[$e[0]-Ve[0],$e[1]-Ve[1],$e[2]-Ve[2]],Ue=Math.atan2(Be[0],Math.sqrt(Be[1]*Be[1]+Be[2]*Be[2]))/degToRads,ze=-Math.atan2(Be[1],Be[2])/degToRads;return[ze,Ue,0]}function easeOut(Ve,$e,Be,Ue,ze){return applyEase(easeOutBez,Ve,$e,Be,Ue,ze)}function easeIn(Ve,$e,Be,Ue,ze){return applyEase(easeInBez,Ve,$e,Be,Ue,ze)}function ease(Ve,$e,Be,Ue,ze){return applyEase(easeInOutBez,Ve,$e,Be,Ue,ze)}function applyEase(Ve,$e,Be,Ue,ze,qe){ze===void 0?(ze=Be,qe=Ue):$e=($e-Be)/(Ue-Be),$e>1?$e=1:$e<0&&($e=0);var He=Ve($e);if($bm_isInstanceOfArray(ze)){var We,Ge=ze.length,Ye=createTypedArray("float32",Ge);for(We=0;We<Ge;We+=1)Ye[We]=(qe[We]-ze[We])*He+ze[We];return Ye}return(qe-ze)*He+ze}function nearestKey(Ve){var $e,Be=data.k.length,Ue,ze;if(!data.k.length||typeof data.k[0]=="number")Ue=0,ze=0;else if(Ue=-1,Ve*=elem.comp.globalData.frameRate,Ve<data.k[0].t)Ue=1,ze=data.k[0].t;else{for($e=0;$e<Be-1;$e+=1)if(Ve===data.k[$e].t){Ue=$e+1,ze=data.k[$e].t;break}else if(Ve>data.k[$e].t&&Ve<data.k[$e+1].t){Ve-data.k[$e].t>data.k[$e+1].t-Ve?(Ue=$e+2,ze=data.k[$e+1].t):(Ue=$e+1,ze=data.k[$e].t);break}Ue===-1&&(Ue=$e+1,ze=data.k[$e].t)}var qe={};return qe.index=Ue,qe.time=ze/elem.comp.globalData.frameRate,qe}function key(Ve){var $e,Be,Ue;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+Ve);Ve-=1,$e={time:data.k[Ve].t/elem.comp.globalData.frameRate,value:[]};var ze=Object.prototype.hasOwnProperty.call(data.k[Ve],"s")?data.k[Ve].s:data.k[Ve-1].e;for(Ue=ze.length,Be=0;Be<Ue;Be+=1)$e[Be]=ze[Be],$e.value[Be]=ze[Be];return $e}function framesToTime(Ve,$e){return $e||($e=elem.comp.globalData.frameRate),Ve/$e}function timeToFrames(Ve,$e){return!Ve&&Ve!==0&&(Ve=time),$e||($e=elem.comp.globalData.frameRate),Ve*$e}function seedRandom(Ve){BMMath.seedrandom(randSeed+Ve)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(Ve,$e){return typeof value=="string"?$e===void 0?value.substring(Ve):value.substring(Ve,$e):""}function substr(Ve,$e){return typeof value=="string"?$e===void 0?value.substr(Ve):value.substr(Ve,$e):""}function posterizeTime(Ve){time=Ve===0?0:Math.floor(time*Ve)/Ve,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(Ve){return value=Ve,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var Ve={};Ve.initExpressions=$e,Ve.resetFrame=ExpressionManager.resetFrame;function $e(Be){var Ue=0,ze=[];function qe(){Ue+=1}function He(){Ue-=1,Ue===0&&Ge()}function We(Ye){ze.indexOf(Ye)===-1&&ze.push(Ye)}function Ge(){var Ye,Xe=ze.length;for(Ye=0;Ye<Xe;Ye+=1)ze[Ye].release();ze.length=0}Be.renderer.compInterface=CompExpressionInterface(Be.renderer),Be.renderer.globalData.projectInterface.registerComposition(Be.renderer),Be.renderer.globalData.pushExpression=qe,Be.renderer.globalData.popExpression=He,Be.renderer.globalData.registerExpressionProperty=We}return Ve})(),MaskManagerInterface=(function(){function Ve(Be,Ue){this._mask=Be,this._data=Ue}Object.defineProperty(Ve.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(Ve.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var $e=function(Ue){var ze=createSizedArray(Ue.viewData.length),qe,He=Ue.viewData.length;for(qe=0;qe<He;qe+=1)ze[qe]=new Ve(Ue.viewData[qe],Ue.masksProperties[qe]);var We=function(Ye){for(qe=0;qe<He;){if(Ue.masksProperties[qe].nm===Ye)return ze[qe];qe+=1}return null};return We};return $e})(),ExpressionPropertyInterface=(function(){var Ve={pv:0,v:0,mult:1},$e={pv:[0,0,0],v:[0,0,0],mult:1};function Be(He,We,Ge){Object.defineProperty(He,"velocity",{get:function(){return We.getVelocityAtTime(We.comp.currentFrame)}}),He.numKeys=We.keyframes?We.keyframes.length:0,He.key=function(Ye){if(!He.numKeys)return 0;var Xe="";"s"in We.keyframes[Ye-1]?Xe=We.keyframes[Ye-1].s:"e"in We.keyframes[Ye-2]?Xe=We.keyframes[Ye-2].e:Xe=We.keyframes[Ye-2].s;var Je=Ge==="unidimensional"?new Number(Xe):Object.assign({},Xe);return Je.time=We.keyframes[Ye-1].t/We.elem.comp.globalData.frameRate,Je.value=Ge==="unidimensional"?Xe[0]:Xe,Je},He.valueAtTime=We.getValueAtTime,He.speedAtTime=We.getSpeedAtTime,He.velocityAtTime=We.getVelocityAtTime,He.propertyGroup=We.propertyGroup}function Ue(He){(!He||!("pv"in He))&&(He=Ve);var We=1/He.mult,Ge=He.pv*We,Ye=new Number(Ge);return Ye.value=Ge,Be(Ye,He,"unidimensional"),function(){return He.k&&He.getValue(),Ge=He.v*We,Ye.value!==Ge&&(Ye=new Number(Ge),Ye.value=Ge,Ye[0]=Ge,Be(Ye,He,"unidimensional")),Ye}}function ze(He){(!He||!("pv"in He))&&(He=$e);var We=1/He.mult,Ge=He.data&&He.data.l||He.pv.length,Ye=createTypedArray("float32",Ge),Xe=createTypedArray("float32",Ge);return Ye.value=Xe,Be(Ye,He,"multidimensional"),function(){He.k&&He.getValue();for(var Je=0;Je<Ge;Je+=1)Xe[Je]=He.v[Je]*We,Ye[Je]=Xe[Je];return Ye}}function qe(){return Ve}return function(He){return He?He.propType==="unidimensional"?Ue(He):ze(He):qe}})(),TransformExpressionInterface=(function(){return function(Ve){function $e(He){switch(He){case"scale":case"Scale":case"ADBE Scale":case 6:return $e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return $e.rotation;case"ADBE Rotate X":return $e.xRotation;case"ADBE Rotate Y":return $e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return $e.position;case"ADBE Position_0":return $e.xPosition;case"ADBE Position_1":return $e.yPosition;case"ADBE Position_2":return $e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return $e.anchorPoint;case"opacity":case"Opacity":case 11:return $e.opacity;default:return null}}Object.defineProperty($e,"rotation",{get:ExpressionPropertyInterface(Ve.r||Ve.rz)}),Object.defineProperty($e,"zRotation",{get:ExpressionPropertyInterface(Ve.rz||Ve.r)}),Object.defineProperty($e,"xRotation",{get:ExpressionPropertyInterface(Ve.rx)}),Object.defineProperty($e,"yRotation",{get:ExpressionPropertyInterface(Ve.ry)}),Object.defineProperty($e,"scale",{get:ExpressionPropertyInterface(Ve.s)});var Be,Ue,ze,qe;return Ve.p?qe=ExpressionPropertyInterface(Ve.p):(Be=ExpressionPropertyInterface(Ve.px),Ue=ExpressionPropertyInterface(Ve.py),Ve.pz&&(ze=ExpressionPropertyInterface(Ve.pz))),Object.defineProperty($e,"position",{get:function(){return Ve.p?qe():[Be(),Ue(),ze?ze():0]}}),Object.defineProperty($e,"xPosition",{get:ExpressionPropertyInterface(Ve.px)}),Object.defineProperty($e,"yPosition",{get:ExpressionPropertyInterface(Ve.py)}),Object.defineProperty($e,"zPosition",{get:ExpressionPropertyInterface(Ve.pz)}),Object.defineProperty($e,"anchorPoint",{get:ExpressionPropertyInterface(Ve.a)}),Object.defineProperty($e,"opacity",{get:ExpressionPropertyInterface(Ve.o)}),Object.defineProperty($e,"skew",{get:ExpressionPropertyInterface(Ve.sk)}),Object.defineProperty($e,"skewAxis",{get:ExpressionPropertyInterface(Ve.sa)}),Object.defineProperty($e,"orientation",{get:ExpressionPropertyInterface(Ve.or)}),$e}})(),LayerExpressionInterface=(function(){function Ve(Ye){var Xe=new Matrix;if(Ye!==void 0){var Je=this._elem.finalTransform.mProp.getValueAtTime(Ye);Je.clone(Xe)}else{var er=this._elem.finalTransform.mProp;er.applyToMatrix(Xe)}return Xe}function $e(Ye,Xe){var Je=this.getMatrix(Xe);return Je.props[12]=0,Je.props[13]=0,Je.props[14]=0,this.applyPoint(Je,Ye)}function Be(Ye,Xe){var Je=this.getMatrix(Xe);return this.applyPoint(Je,Ye)}function Ue(Ye,Xe){var Je=this.getMatrix(Xe);return Je.props[12]=0,Je.props[13]=0,Je.props[14]=0,this.invertPoint(Je,Ye)}function ze(Ye,Xe){var Je=this.getMatrix(Xe);return this.invertPoint(Je,Ye)}function qe(Ye,Xe){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Je,er=this._elem.hierarchy.length;for(Je=0;Je<er;Je+=1)this._elem.hierarchy[Je].finalTransform.mProp.applyToMatrix(Ye)}return Ye.applyToPointArray(Xe[0],Xe[1],Xe[2]||0)}function He(Ye,Xe){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Je,er=this._elem.hierarchy.length;for(Je=0;Je<er;Je+=1)this._elem.hierarchy[Je].finalTransform.mProp.applyToMatrix(Ye)}return Ye.inversePoint(Xe)}function We(Ye){var Xe=new Matrix;if(Xe.reset(),this._elem.finalTransform.mProp.applyToMatrix(Xe),this._elem.hierarchy&&this._elem.hierarchy.length){var Je,er=this._elem.hierarchy.length;for(Je=0;Je<er;Je+=1)this._elem.hierarchy[Je].finalTransform.mProp.applyToMatrix(Xe);return Xe.inversePoint(Ye)}return Xe.inversePoint(Ye)}function Ge(){return[1,1,1,1]}return function(Ye){var Xe;function Je(nr){Ze.mask=new MaskManagerInterface(nr,Ye)}function er(nr){Ze.effect=nr}function Ze(nr){switch(nr){case"ADBE Root Vectors Group":case"Contents":case 2:return Ze.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Xe;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return Ze.effect;case"ADBE Text Properties":return Ze.textInterface;default:return null}}Ze.getMatrix=Ve,Ze.invertPoint=He,Ze.applyPoint=qe,Ze.toWorld=Be,Ze.toWorldVec=$e,Ze.fromWorld=ze,Ze.fromWorldVec=Ue,Ze.toComp=Be,Ze.fromComp=We,Ze.sampleImage=Ge,Ze.sourceRectAtTime=Ye.sourceRectAtTime.bind(Ye),Ze._elem=Ye,Xe=TransformExpressionInterface(Ye.finalTransform.mProp);var rr=getDescriptor(Xe,"anchorPoint");return Object.defineProperties(Ze,{hasParent:{get:function(){return Ye.hierarchy.length}},parent:{get:function(){return Ye.hierarchy[0].layerInterface}},rotation:getDescriptor(Xe,"rotation"),scale:getDescriptor(Xe,"scale"),position:getDescriptor(Xe,"position"),opacity:getDescriptor(Xe,"opacity"),anchorPoint:rr,anchor_point:rr,transform:{get:function(){return Xe}},active:{get:function(){return Ye.isInRange}}}),Ze.startTime=Ye.data.st,Ze.index=Ye.data.ind,Ze.source=Ye.data.refId,Ze.height=Ye.data.ty===0?Ye.data.h:100,Ze.width=Ye.data.ty===0?Ye.data.w:100,Ze.inPoint=Ye.data.ip/Ye.comp.globalData.frameRate,Ze.outPoint=Ye.data.op/Ye.comp.globalData.frameRate,Ze._name=Ye.data.nm,Ze.registerMaskInterface=Je,Ze.registerEffectsInterface=er,Ze}})(),propertyGroupFactory=(function(){return function(Ve,$e){return function(Be){return Be=Be===void 0?1:Be,Be<=0?Ve:$e(Be-1)}}})(),PropertyInterface=(function(){return function(Ve,$e){var Be={_name:Ve};function Ue(ze){return ze=ze===void 0?1:ze,ze<=0?Be:$e(ze-1)}return Ue}})(),EffectsExpressionInterface=(function(){var Ve={createEffectsInterface:$e};function $e(ze,qe){if(ze.effectsManager){var He=[],We=ze.data.ef,Ge,Ye=ze.effectsManager.effectElements.length;for(Ge=0;Ge<Ye;Ge+=1)He.push(Be(We[Ge],ze.effectsManager.effectElements[Ge],qe,ze));var Xe=ze.data.ef||[],Je=function(Ze){for(Ge=0,Ye=Xe.length;Ge<Ye;){if(Ze===Xe[Ge].nm||Ze===Xe[Ge].mn||Ze===Xe[Ge].ix)return He[Ge];Ge+=1}return null};return Object.defineProperty(Je,"numProperties",{get:function(){return Xe.length}}),Je}return null}function Be(ze,qe,He,We){function Ge(Ze){for(var rr=ze.ef,nr=0,ar=rr.length;nr<ar;){if(Ze===rr[nr].nm||Ze===rr[nr].mn||Ze===rr[nr].ix)return rr[nr].ty===5?Xe[nr]:Xe[nr]();nr+=1}throw new Error}var Ye=propertyGroupFactory(Ge,He),Xe=[],Je,er=ze.ef.length;for(Je=0;Je<er;Je+=1)ze.ef[Je].ty===5?Xe.push(Be(ze.ef[Je],qe.effectElements[Je],qe.effectElements[Je].propertyGroup,We)):Xe.push(Ue(qe.effectElements[Je],ze.ef[Je].ty,We,Ye));return ze.mn==="ADBE Color Control"&&Object.defineProperty(Ge,"color",{get:function(){return Xe[0]()}}),Object.defineProperties(Ge,{numProperties:{get:function(){return ze.np}},_name:{value:ze.nm},propertyGroup:{value:Ye}}),Ge.enabled=ze.en!==0,Ge.active=Ge.enabled,Ge}function Ue(ze,qe,He,We){var Ge=ExpressionPropertyInterface(ze.p);function Ye(){return qe===10?He.comp.compInterface(ze.p.v):Ge()}return ze.p.setGroupProperty&&ze.p.setGroupProperty(PropertyInterface("",We)),Ye}return Ve})(),ShapePathInterface=(function(){return function($e,Be,Ue){var ze=Be.sh;function qe(We){return We==="Shape"||We==="shape"||We==="Path"||We==="path"||We==="ADBE Vector Shape"||We===2?qe.path:null}var He=propertyGroupFactory(qe,Ue);return ze.setGroupProperty(PropertyInterface("Path",He)),Object.defineProperties(qe,{path:{get:function(){return ze.k&&ze.getValue(),ze}},shape:{get:function(){return ze.k&&ze.getValue(),ze}},_name:{value:$e.nm},ix:{value:$e.ix},propertyIndex:{value:$e.ix},mn:{value:$e.mn},propertyGroup:{value:Ue}}),qe}})(),ShapeExpressionInterface=(function(){function Ve(rr,nr,ar){var sr=[],lr,or=rr?rr.length:0;for(lr=0;lr<or;lr+=1)rr[lr].ty==="gr"?sr.push(Be(rr[lr],nr[lr],ar)):rr[lr].ty==="fl"?sr.push(Ue(rr[lr],nr[lr],ar)):rr[lr].ty==="st"?sr.push(He(rr[lr],nr[lr],ar)):rr[lr].ty==="tm"?sr.push(We(rr[lr],nr[lr],ar)):rr[lr].ty==="tr"||(rr[lr].ty==="el"?sr.push(Ye(rr[lr],nr[lr],ar)):rr[lr].ty==="sr"?sr.push(Xe(rr[lr],nr[lr],ar)):rr[lr].ty==="sh"?sr.push(ShapePathInterface(rr[lr],nr[lr],ar)):rr[lr].ty==="rc"?sr.push(Je(rr[lr],nr[lr],ar)):rr[lr].ty==="rd"?sr.push(er(rr[lr],nr[lr],ar)):rr[lr].ty==="rp"?sr.push(Ze(rr[lr],nr[lr],ar)):rr[lr].ty==="gf"?sr.push(ze(rr[lr],nr[lr],ar)):sr.push(qe(rr[lr],nr[lr])));return sr}function $e(rr,nr,ar){var sr,lr=function(hr){for(var yr=0,mr=sr.length;yr<mr;){if(sr[yr]._name===hr||sr[yr].mn===hr||sr[yr].propertyIndex===hr||sr[yr].ix===hr||sr[yr].ind===hr)return sr[yr];yr+=1}return typeof hr=="number"?sr[hr-1]:null};lr.propertyGroup=propertyGroupFactory(lr,ar),sr=Ve(rr.it,nr.it,lr.propertyGroup),lr.numProperties=sr.length;var or=Ge(rr.it[rr.it.length-1],nr.it[nr.it.length-1],lr.propertyGroup);return lr.transform=or,lr.propertyIndex=rr.cix,lr._name=rr.nm,lr}function Be(rr,nr,ar){var sr=function(hr){switch(hr){case"ADBE Vectors Group":case"Contents":case 2:return sr.content;default:return sr.transform}};sr.propertyGroup=propertyGroupFactory(sr,ar);var lr=$e(rr,nr,sr.propertyGroup),or=Ge(rr.it[rr.it.length-1],nr.it[nr.it.length-1],sr.propertyGroup);return sr.content=lr,sr.transform=or,Object.defineProperty(sr,"_name",{get:function(){return rr.nm}}),sr.numProperties=rr.np,sr.propertyIndex=rr.ix,sr.nm=rr.nm,sr.mn=rr.mn,sr}function Ue(rr,nr,ar){function sr(lr){return lr==="Color"||lr==="color"?sr.color:lr==="Opacity"||lr==="opacity"?sr.opacity:null}return Object.defineProperties(sr,{color:{get:ExpressionPropertyInterface(nr.c)},opacity:{get:ExpressionPropertyInterface(nr.o)},_name:{value:rr.nm},mn:{value:rr.mn}}),nr.c.setGroupProperty(PropertyInterface("Color",ar)),nr.o.setGroupProperty(PropertyInterface("Opacity",ar)),sr}function ze(rr,nr,ar){function sr(lr){return lr==="Start Point"||lr==="start point"?sr.startPoint:lr==="End Point"||lr==="end point"?sr.endPoint:lr==="Opacity"||lr==="opacity"?sr.opacity:null}return Object.defineProperties(sr,{startPoint:{get:ExpressionPropertyInterface(nr.s)},endPoint:{get:ExpressionPropertyInterface(nr.e)},opacity:{get:ExpressionPropertyInterface(nr.o)},type:{get:function(){return"a"}},_name:{value:rr.nm},mn:{value:rr.mn}}),nr.s.setGroupProperty(PropertyInterface("Start Point",ar)),nr.e.setGroupProperty(PropertyInterface("End Point",ar)),nr.o.setGroupProperty(PropertyInterface("Opacity",ar)),sr}function qe(){function rr(){return null}return rr}function He(rr,nr,ar){var sr=propertyGroupFactory(mr,ar),lr=propertyGroupFactory(yr,sr);function or(vr){Object.defineProperty(yr,rr.d[vr].nm,{get:ExpressionPropertyInterface(nr.d.dataProps[vr].p)})}var cr,hr=rr.d?rr.d.length:0,yr={};for(cr=0;cr<hr;cr+=1)or(cr),nr.d.dataProps[cr].p.setGroupProperty(lr);function mr(vr){return vr==="Color"||vr==="color"?mr.color:vr==="Opacity"||vr==="opacity"?mr.opacity:vr==="Stroke Width"||vr==="stroke width"?mr.strokeWidth:null}return Object.defineProperties(mr,{color:{get:ExpressionPropertyInterface(nr.c)},opacity:{get:ExpressionPropertyInterface(nr.o)},strokeWidth:{get:ExpressionPropertyInterface(nr.w)},dash:{get:function(){return yr}},_name:{value:rr.nm},mn:{value:rr.mn}}),nr.c.setGroupProperty(PropertyInterface("Color",sr)),nr.o.setGroupProperty(PropertyInterface("Opacity",sr)),nr.w.setGroupProperty(PropertyInterface("Stroke Width",sr)),mr}function We(rr,nr,ar){function sr(or){return or===rr.e.ix||or==="End"||or==="end"?sr.end:or===rr.s.ix?sr.start:or===rr.o.ix?sr.offset:null}var lr=propertyGroupFactory(sr,ar);return sr.propertyIndex=rr.ix,nr.s.setGroupProperty(PropertyInterface("Start",lr)),nr.e.setGroupProperty(PropertyInterface("End",lr)),nr.o.setGroupProperty(PropertyInterface("Offset",lr)),sr.propertyIndex=rr.ix,sr.propertyGroup=ar,Object.defineProperties(sr,{start:{get:ExpressionPropertyInterface(nr.s)},end:{get:ExpressionPropertyInterface(nr.e)},offset:{get:ExpressionPropertyInterface(nr.o)},_name:{value:rr.nm}}),sr.mn=rr.mn,sr}function Ge(rr,nr,ar){function sr(or){return rr.a.ix===or||or==="Anchor Point"?sr.anchorPoint:rr.o.ix===or||or==="Opacity"?sr.opacity:rr.p.ix===or||or==="Position"?sr.position:rr.r.ix===or||or==="Rotation"||or==="ADBE Vector Rotation"?sr.rotation:rr.s.ix===or||or==="Scale"?sr.scale:rr.sk&&rr.sk.ix===or||or==="Skew"?sr.skew:rr.sa&&rr.sa.ix===or||or==="Skew Axis"?sr.skewAxis:null}var lr=propertyGroupFactory(sr,ar);return nr.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",lr)),nr.transform.mProps.p.setGroupProperty(PropertyInterface("Position",lr)),nr.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",lr)),nr.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",lr)),nr.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",lr)),nr.transform.mProps.sk&&(nr.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",lr)),nr.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",lr))),nr.transform.op.setGroupProperty(PropertyInterface("Opacity",lr)),Object.defineProperties(sr,{opacity:{get:ExpressionPropertyInterface(nr.transform.mProps.o)},position:{get:ExpressionPropertyInterface(nr.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(nr.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(nr.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(nr.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(nr.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(nr.transform.mProps.sa)},_name:{value:rr.nm}}),sr.ty="tr",sr.mn=rr.mn,sr.propertyGroup=ar,sr}function Ye(rr,nr,ar){function sr(cr){return rr.p.ix===cr?sr.position:rr.s.ix===cr?sr.size:null}var lr=propertyGroupFactory(sr,ar);sr.propertyIndex=rr.ix;var or=nr.sh.ty==="tm"?nr.sh.prop:nr.sh;return or.s.setGroupProperty(PropertyInterface("Size",lr)),or.p.setGroupProperty(PropertyInterface("Position",lr)),Object.defineProperties(sr,{size:{get:ExpressionPropertyInterface(or.s)},position:{get:ExpressionPropertyInterface(or.p)},_name:{value:rr.nm}}),sr.mn=rr.mn,sr}function Xe(rr,nr,ar){function sr(cr){return rr.p.ix===cr?sr.position:rr.r.ix===cr?sr.rotation:rr.pt.ix===cr?sr.points:rr.or.ix===cr||cr==="ADBE Vector Star Outer Radius"?sr.outerRadius:rr.os.ix===cr?sr.outerRoundness:rr.ir&&(rr.ir.ix===cr||cr==="ADBE Vector Star Inner Radius")?sr.innerRadius:rr.is&&rr.is.ix===cr?sr.innerRoundness:null}var lr=propertyGroupFactory(sr,ar),or=nr.sh.ty==="tm"?nr.sh.prop:nr.sh;return sr.propertyIndex=rr.ix,or.or.setGroupProperty(PropertyInterface("Outer Radius",lr)),or.os.setGroupProperty(PropertyInterface("Outer Roundness",lr)),or.pt.setGroupProperty(PropertyInterface("Points",lr)),or.p.setGroupProperty(PropertyInterface("Position",lr)),or.r.setGroupProperty(PropertyInterface("Rotation",lr)),rr.ir&&(or.ir.setGroupProperty(PropertyInterface("Inner Radius",lr)),or.is.setGroupProperty(PropertyInterface("Inner Roundness",lr))),Object.defineProperties(sr,{position:{get:ExpressionPropertyInterface(or.p)},rotation:{get:ExpressionPropertyInterface(or.r)},points:{get:ExpressionPropertyInterface(or.pt)},outerRadius:{get:ExpressionPropertyInterface(or.or)},outerRoundness:{get:ExpressionPropertyInterface(or.os)},innerRadius:{get:ExpressionPropertyInterface(or.ir)},innerRoundness:{get:ExpressionPropertyInterface(or.is)},_name:{value:rr.nm}}),sr.mn=rr.mn,sr}function Je(rr,nr,ar){function sr(cr){return rr.p.ix===cr?sr.position:rr.r.ix===cr?sr.roundness:rr.s.ix===cr||cr==="Size"||cr==="ADBE Vector Rect Size"?sr.size:null}var lr=propertyGroupFactory(sr,ar),or=nr.sh.ty==="tm"?nr.sh.prop:nr.sh;return sr.propertyIndex=rr.ix,or.p.setGroupProperty(PropertyInterface("Position",lr)),or.s.setGroupProperty(PropertyInterface("Size",lr)),or.r.setGroupProperty(PropertyInterface("Rotation",lr)),Object.defineProperties(sr,{position:{get:ExpressionPropertyInterface(or.p)},roundness:{get:ExpressionPropertyInterface(or.r)},size:{get:ExpressionPropertyInterface(or.s)},_name:{value:rr.nm}}),sr.mn=rr.mn,sr}function er(rr,nr,ar){function sr(cr){return rr.r.ix===cr||cr==="Round Corners 1"?sr.radius:null}var lr=propertyGroupFactory(sr,ar),or=nr;return sr.propertyIndex=rr.ix,or.rd.setGroupProperty(PropertyInterface("Radius",lr)),Object.defineProperties(sr,{radius:{get:ExpressionPropertyInterface(or.rd)},_name:{value:rr.nm}}),sr.mn=rr.mn,sr}function Ze(rr,nr,ar){function sr(cr){return rr.c.ix===cr||cr==="Copies"?sr.copies:rr.o.ix===cr||cr==="Offset"?sr.offset:null}var lr=propertyGroupFactory(sr,ar),or=nr;return sr.propertyIndex=rr.ix,or.c.setGroupProperty(PropertyInterface("Copies",lr)),or.o.setGroupProperty(PropertyInterface("Offset",lr)),Object.defineProperties(sr,{copies:{get:ExpressionPropertyInterface(or.c)},offset:{get:ExpressionPropertyInterface(or.o)},_name:{value:rr.nm}}),sr.mn=rr.mn,sr}return function(rr,nr,ar){var sr;function lr(cr){if(typeof cr=="number")return cr=cr===void 0?1:cr,cr===0?ar:sr[cr-1];for(var hr=0,yr=sr.length;hr<yr;){if(sr[hr]._name===cr)return sr[hr];hr+=1}return null}function or(){return ar}return lr.propertyGroup=propertyGroupFactory(lr,or),sr=Ve(rr,nr,lr.propertyGroup),lr.numProperties=sr.length,lr._name="Contents",lr}})(),TextExpressionInterface=(function(){return function(Ve){var $e;function Be(Ue){switch(Ue){case"ADBE Text Document":return Be.sourceText;default:return null}}return Object.defineProperty(Be,"sourceText",{get:function(){Ve.textProperty.getValue();var ze=Ve.textProperty.currentData.t;return(!$e||ze!==$e.value)&&($e=new String(ze),$e.value=ze||new String(ze),Object.defineProperty($e,"style",{get:function(){return{fillColor:Ve.textProperty.currentData.fc}}})),$e}}),Be}})();function _typeof(Ve){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_typeof(Ve)}var FootageInterface=(function(){var Ve=function(Ue){var ze="",qe=Ue.getFootageData();function He(){return ze="",qe=Ue.getFootageData(),We}function We(Ge){if(qe[Ge])return ze=Ge,qe=qe[Ge],_typeof(qe)==="object"?We:qe;var Ye=Ge.indexOf(ze);if(Ye!==-1){var Xe=parseInt(Ge.substr(Ye+ze.length),10);return qe=qe[Xe],_typeof(qe)==="object"?We:qe}return""}return He},$e=function(Ue){function ze(qe){return qe==="Outline"?ze.outlineInterface():null}return ze._name="Outline",ze.outlineInterface=Ve(Ue),ze};return function(Be){function Ue(ze){return ze==="Data"?Ue.dataInterface:null}return Ue._name="Data",Ue.dataInterface=$e(Be),Ue}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(Ve){return interfaces[Ve]||null}var expressionHelpers=(function(){function Ve(He,We,Ge){We.x&&(Ge.k=!0,Ge.x=!0,Ge.initiateExpression=ExpressionManager.initiateExpression,Ge.effectsSequence.push(Ge.initiateExpression(He,We,Ge).bind(Ge)))}function $e(He){return He*=this.elem.globalData.frameRate,He-=this.offsetTime,He!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<He?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(He,this._cachingAtTime),this._cachingAtTime.lastFrame=He),this._cachingAtTime.value}function Be(He){var We=-.01,Ge=this.getValueAtTime(He),Ye=this.getValueAtTime(He+We),Xe=0;if(Ge.length){var Je;for(Je=0;Je<Ge.length;Je+=1)Xe+=Math.pow(Ye[Je]-Ge[Je],2);Xe=Math.sqrt(Xe)*100}else Xe=0;return Xe}function Ue(He){if(this.vel!==void 0)return this.vel;var We=-.001,Ge=this.getValueAtTime(He),Ye=this.getValueAtTime(He+We),Xe;if(Ge.length){Xe=createTypedArray("float32",Ge.length);var Je;for(Je=0;Je<Ge.length;Je+=1)Xe[Je]=(Ye[Je]-Ge[Je])/We}else Xe=(Ye-Ge)/We;return Xe}function ze(){return this.pv}function qe(He){this.propertyGroup=He}return{searchExpressions:Ve,getSpeedAtTime:Be,getVelocityAtTime:Ue,getValueAtTime:$e,getStaticValueAtTime:ze,setGroupProperty:qe}})();function addPropertyDecorator(){function Ve(er,Ze,rr){if(!this.k||!this.keyframes)return this.pv;er=er?er.toLowerCase():"";var nr=this.comp.renderedFrame,ar=this.keyframes,sr=ar[ar.length-1].t;if(nr<=sr)return this.pv;var lr,or;rr?(Ze?lr=Math.abs(sr-this.elem.comp.globalData.frameRate*Ze):lr=Math.max(0,sr-this.elem.data.ip),or=sr-lr):((!Ze||Ze>ar.length-1)&&(Ze=ar.length-1),or=ar[ar.length-1-Ze].t,lr=sr-or);var cr,hr,yr;if(er==="pingpong"){var mr=Math.floor((nr-or)/lr);if(mr%2!==0)return this.getValueAtTime((lr-(nr-or)%lr+or)/this.comp.globalData.frameRate,0)}else if(er==="offset"){var vr=this.getValueAtTime(or/this.comp.globalData.frameRate,0),_r=this.getValueAtTime(sr/this.comp.globalData.frameRate,0),Cr=this.getValueAtTime(((nr-or)%lr+or)/this.comp.globalData.frameRate,0),br=Math.floor((nr-or)/lr);if(this.pv.length){for(yr=new Array(vr.length),hr=yr.length,cr=0;cr<hr;cr+=1)yr[cr]=(_r[cr]-vr[cr])*br+Cr[cr];return yr}return(_r-vr)*br+Cr}else if(er==="continue"){var fr=this.getValueAtTime(sr/this.comp.globalData.frameRate,0),Sr=this.getValueAtTime((sr-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(yr=new Array(fr.length),hr=yr.length,cr=0;cr<hr;cr+=1)yr[cr]=fr[cr]+(fr[cr]-Sr[cr])*((nr-sr)/this.comp.globalData.frameRate)/5e-4;return yr}return fr+(fr-Sr)*((nr-sr)/.001)}return this.getValueAtTime(((nr-or)%lr+or)/this.comp.globalData.frameRate,0)}function $e(er,Ze,rr){if(!this.k)return this.pv;er=er?er.toLowerCase():"";var nr=this.comp.renderedFrame,ar=this.keyframes,sr=ar[0].t;if(nr>=sr)return this.pv;var lr,or;rr?(Ze?lr=Math.abs(this.elem.comp.globalData.frameRate*Ze):lr=Math.max(0,this.elem.data.op-sr),or=sr+lr):((!Ze||Ze>ar.length-1)&&(Ze=ar.length-1),or=ar[Ze].t,lr=or-sr);var cr,hr,yr;if(er==="pingpong"){var mr=Math.floor((sr-nr)/lr);if(mr%2===0)return this.getValueAtTime(((sr-nr)%lr+sr)/this.comp.globalData.frameRate,0)}else if(er==="offset"){var vr=this.getValueAtTime(sr/this.comp.globalData.frameRate,0),_r=this.getValueAtTime(or/this.comp.globalData.frameRate,0),Cr=this.getValueAtTime((lr-(sr-nr)%lr+sr)/this.comp.globalData.frameRate,0),br=Math.floor((sr-nr)/lr)+1;if(this.pv.length){for(yr=new Array(vr.length),hr=yr.length,cr=0;cr<hr;cr+=1)yr[cr]=Cr[cr]-(_r[cr]-vr[cr])*br;return yr}return Cr-(_r-vr)*br}else if(er==="continue"){var fr=this.getValueAtTime(sr/this.comp.globalData.frameRate,0),Sr=this.getValueAtTime((sr+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(yr=new Array(fr.length),hr=yr.length,cr=0;cr<hr;cr+=1)yr[cr]=fr[cr]+(fr[cr]-Sr[cr])*(sr-nr)/.001;return yr}return fr+(fr-Sr)*(sr-nr)/.001}return this.getValueAtTime((lr-((sr-nr)%lr+sr))/this.comp.globalData.frameRate,0)}function Be(er,Ze){if(!this.k)return this.pv;if(er=(er||.4)*.5,Ze=Math.floor(Ze||5),Ze<=1)return this.pv;var rr=this.comp.renderedFrame/this.comp.globalData.frameRate,nr=rr-er,ar=rr+er,sr=Ze>1?(ar-nr)/(Ze-1):1,lr=0,or=0,cr;this.pv.length?cr=createTypedArray("float32",this.pv.length):cr=0;for(var hr;lr<Ze;){if(hr=this.getValueAtTime(nr+lr*sr),this.pv.length)for(or=0;or<this.pv.length;or+=1)cr[or]+=hr[or];else cr+=hr;lr+=1}if(this.pv.length)for(or=0;or<this.pv.length;or+=1)cr[or]/=Ze;else cr/=Ze;return cr}function Ue(er){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var Ze=this._transformCachingAtTime.v;if(Ze.cloneFromProps(this.pre.props),this.appliedTransformations<1){var rr=this.a.getValueAtTime(er);Ze.translate(-rr[0]*this.a.mult,-rr[1]*this.a.mult,rr[2]*this.a.mult)}if(this.appliedTransformations<2){var nr=this.s.getValueAtTime(er);Ze.scale(nr[0]*this.s.mult,nr[1]*this.s.mult,nr[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ar=this.sk.getValueAtTime(er),sr=this.sa.getValueAtTime(er);Ze.skewFromAxis(-ar*this.sk.mult,sr*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var lr=this.r.getValueAtTime(er);Ze.rotate(-lr*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var or=this.rz.getValueAtTime(er),cr=this.ry.getValueAtTime(er),hr=this.rx.getValueAtTime(er),yr=this.or.getValueAtTime(er);Ze.rotateZ(-or*this.rz.mult).rotateY(cr*this.ry.mult).rotateX(hr*this.rx.mult).rotateZ(-yr[2]*this.or.mult).rotateY(yr[1]*this.or.mult).rotateX(yr[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var mr=this.px.getValueAtTime(er),vr=this.py.getValueAtTime(er);if(this.data.p.z){var _r=this.pz.getValueAtTime(er);Ze.translate(mr*this.px.mult,vr*this.py.mult,-_r*this.pz.mult)}else Ze.translate(mr*this.px.mult,vr*this.py.mult,0)}else{var Cr=this.p.getValueAtTime(er);Ze.translate(Cr[0]*this.p.mult,Cr[1]*this.p.mult,-Cr[2]*this.p.mult)}return Ze}function ze(){return this.v.clone(new Matrix)}var qe=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(er,Ze,rr){var nr=qe(er,Ze,rr);return nr.dynamicProperties.length?nr.getValueAtTime=Ue.bind(nr):nr.getValueAtTime=ze.bind(nr),nr.setGroupProperty=expressionHelpers.setGroupProperty,nr};var He=PropertyFactory.getProp;PropertyFactory.getProp=function(er,Ze,rr,nr,ar){var sr=He(er,Ze,rr,nr,ar);sr.kf?sr.getValueAtTime=expressionHelpers.getValueAtTime.bind(sr):sr.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(sr),sr.setGroupProperty=expressionHelpers.setGroupProperty,sr.loopOut=Ve,sr.loopIn=$e,sr.smooth=Be,sr.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(sr),sr.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(sr),sr.numKeys=Ze.a===1?Ze.k.length:0,sr.propertyIndex=Ze.ix;var lr=0;return rr!==0&&(lr=createTypedArray("float32",Ze.a===1?Ze.k[0].s.length:Ze.k.length)),sr._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:lr},expressionHelpers.searchExpressions(er,Ze,sr),sr.k&&ar.addDynamicProperty(sr),sr};function We(er){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),er*=this.elem.globalData.frameRate,er-=this.offsetTime,er!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<er?this._caching.lastIndex:0,this._cachingAtTime.lastTime=er,this.interpolateShape(er,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Ge=ShapePropertyFactory.getConstructorFunction(),Ye=ShapePropertyFactory.getKeyframedConstructorFunction();function Xe(){}Xe.prototype={vertices:function(Ze,rr){this.k&&this.getValue();var nr=this.v;rr!==void 0&&(nr=this.getValueAtTime(rr,0));var ar,sr=nr._length,lr=nr[Ze],or=nr.v,cr=createSizedArray(sr);for(ar=0;ar<sr;ar+=1)Ze==="i"||Ze==="o"?cr[ar]=[lr[ar][0]-or[ar][0],lr[ar][1]-or[ar][1]]:cr[ar]=[lr[ar][0],lr[ar][1]];return cr},points:function(Ze){return this.vertices("v",Ze)},inTangents:function(Ze){return this.vertices("i",Ze)},outTangents:function(Ze){return this.vertices("o",Ze)},isClosed:function(){return this.v.c},pointOnPath:function(Ze,rr){var nr=this.v;rr!==void 0&&(nr=this.getValueAtTime(rr,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(nr));for(var ar=this._segmentsLength,sr=ar.lengths,lr=ar.totalLength*Ze,or=0,cr=sr.length,hr=0,yr;or<cr;){if(hr+sr[or].addedLength>lr){var mr=or,vr=nr.c&&or===cr-1?0:or+1,_r=(lr-hr)/sr[or].addedLength;yr=bez.getPointInSegment(nr.v[mr],nr.v[vr],nr.o[mr],nr.i[vr],_r,sr[or]);break}else hr+=sr[or].addedLength;or+=1}return yr||(yr=nr.c?[nr.v[0][0],nr.v[0][1]]:[nr.v[nr._length-1][0],nr.v[nr._length-1][1]]),yr},vectorOnPath:function(Ze,rr,nr){Ze==1?Ze=this.v.c:Ze==0&&(Ze=.999);var ar=this.pointOnPath(Ze,rr),sr=this.pointOnPath(Ze+.001,rr),lr=sr[0]-ar[0],or=sr[1]-ar[1],cr=Math.sqrt(Math.pow(lr,2)+Math.pow(or,2));if(cr===0)return[0,0];var hr=nr==="tangent"?[lr/cr,or/cr]:[-or/cr,lr/cr];return hr},tangentOnPath:function(Ze,rr){return this.vectorOnPath(Ze,rr,"tangent")},normalOnPath:function(Ze,rr){return this.vectorOnPath(Ze,rr,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Xe],Ge),extendPrototype([Xe],Ye),Ye.prototype.getValueAtTime=We,Ye.prototype.initiateExpression=ExpressionManager.initiateExpression;var Je=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(er,Ze,rr,nr,ar){var sr=Je(er,Ze,rr,nr,ar);return sr.propertyIndex=Ze.ix,sr.lock=!1,rr===3?expressionHelpers.searchExpressions(er,Ze.pt,sr):rr===4&&expressionHelpers.searchExpressions(er,Ze.ks,sr),sr.k&&er.addDynamicProperty(sr),sr}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function Ve(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function($e,Be){var Ue=this.calculateExpression(Be);if($e.t!==Ue){var ze={};return this.copyData(ze,$e),ze.t=Ue.toString(),ze.__complete=!1,ze}return $e},TextProperty.prototype.searchProperty=function(){var $e=this.searchKeyframes(),Be=this.searchExpressions();return this.kf=$e||Be,this.kf},TextProperty.prototype.searchExpressions=Ve}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function Ve($e,Be){var Ue=createNS("feMerge");Ue.setAttribute("result",$e);var ze,qe;for(qe=0;qe<Be.length;qe+=1)ze=createNS("feMergeNode"),ze.setAttribute("in",Be[qe]),Ue.appendChild(ze),Ue.appendChild(ze);return Ue}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(Ve,$e,Be,Ue,ze){this.filterManager=$e;var qe=createNS("feColorMatrix");qe.setAttribute("type","matrix"),qe.setAttribute("color-interpolation-filters","linearRGB"),qe.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=qe,qe.setAttribute("result",Ue+"_tint_1"),Ve.appendChild(qe),qe=createNS("feColorMatrix"),qe.setAttribute("type","matrix"),qe.setAttribute("color-interpolation-filters","sRGB"),qe.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),qe.setAttribute("result",Ue+"_tint_2"),Ve.appendChild(qe),this.matrixFilter=qe;var He=this.createMergeNode(Ue,[ze,Ue+"_tint_1",Ue+"_tint_2"]);Ve.appendChild(He)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(Ve){if(Ve||this.filterManager._mdf){var $e=this.filterManager.effectElements[0].p.v,Be=this.filterManager.effectElements[1].p.v,Ue=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+Ue+" 0"),this.matrixFilter.setAttribute("values",Be[0]-$e[0]+" 0 0 0 "+$e[0]+" "+(Be[1]-$e[1])+" 0 0 0 "+$e[1]+" "+(Be[2]-$e[2])+" 0 0 0 "+$e[2]+" 0 0 0 1 0")}};function SVGFillFilter(Ve,$e,Be,Ue){this.filterManager=$e;var ze=createNS("feColorMatrix");ze.setAttribute("type","matrix"),ze.setAttribute("color-interpolation-filters","sRGB"),ze.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),ze.setAttribute("result",Ue),Ve.appendChild(ze),this.matrixFilter=ze}SVGFillFilter.prototype.renderFrame=function(Ve){if(Ve||this.filterManager._mdf){var $e=this.filterManager.effectElements[2].p.v,Be=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+$e[0]+" 0 0 0 0 "+$e[1]+" 0 0 0 0 "+$e[2]+" 0 0 0 "+Be+" 0")}};function SVGStrokeEffect(Ve,$e,Be){this.initialized=!1,this.filterManager=$e,this.elem=Be,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var Ve=this.elem.layerElement.children||this.elem.layerElement.childNodes,$e,Be,Ue,ze;for(this.filterManager.effectElements[1].p.v===1?(ze=this.elem.maskManager.masksProperties.length,Ue=0):(Ue=this.filterManager.effectElements[0].p.v-1,ze=Ue+1),Be=createNS("g"),Be.setAttribute("fill","none"),Be.setAttribute("stroke-linecap","round"),Be.setAttribute("stroke-dashoffset",1),Ue;Ue<ze;Ue+=1)$e=createNS("path"),Be.appendChild($e),this.paths.push({p:$e,m:Ue});if(this.filterManager.effectElements[10].p.v===3){var qe=createNS("mask"),He=createElementID();qe.setAttribute("id",He),qe.setAttribute("mask-type","alpha"),qe.appendChild(Be),this.elem.globalData.defs.appendChild(qe);var We=createNS("g");for(We.setAttribute("mask","url("+getLocationHref()+"#"+He+")");Ve[0];)We.appendChild(Ve[0]);this.elem.layerElement.appendChild(We),this.masker=qe,Be.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(Ve=this.elem.layerElement.children||this.elem.layerElement.childNodes;Ve.length;)this.elem.layerElement.removeChild(Ve[0]);this.elem.layerElement.appendChild(Be),this.elem.layerElement.removeAttribute("mask"),Be.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=Be},SVGStrokeEffect.prototype.renderFrame=function(Ve){this.initialized||this.initialize();var $e,Be=this.paths.length,Ue,ze;for($e=0;$e<Be;$e+=1)if(this.paths[$e].m!==-1&&(Ue=this.elem.maskManager.viewData[this.paths[$e].m],ze=this.paths[$e].p,(Ve||this.filterManager._mdf||Ue.prop._mdf)&&ze.setAttribute("d",Ue.lastPath),Ve||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||Ue.prop._mdf)){var qe;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var He=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,We=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ge=ze.getTotalLength();qe="0 0 0 "+Ge*He+" ";var Ye=Ge*(We-He),Xe=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,Je=Math.floor(Ye/Xe),er;for(er=0;er<Je;er+=1)qe+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";qe+="0 "+Ge*10+" 0 0"}else qe="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;ze.setAttribute("stroke-dasharray",qe)}if((Ve||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(Ve||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(Ve||this.filterManager.effectElements[3].p._mdf)){var Ze=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(Ze[0]*255)+","+bmFloor(Ze[1]*255)+","+bmFloor(Ze[2]*255)+")")}};function SVGTritoneFilter(Ve,$e,Be,Ue){this.filterManager=$e;var ze=createNS("feColorMatrix");ze.setAttribute("type","matrix"),ze.setAttribute("color-interpolation-filters","linearRGB"),ze.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),Ve.appendChild(ze);var qe=createNS("feComponentTransfer");qe.setAttribute("color-interpolation-filters","sRGB"),qe.setAttribute("result",Ue),this.matrixFilter=qe;var He=createNS("feFuncR");He.setAttribute("type","table"),qe.appendChild(He),this.feFuncR=He;var We=createNS("feFuncG");We.setAttribute("type","table"),qe.appendChild(We),this.feFuncG=We;var Ge=createNS("feFuncB");Ge.setAttribute("type","table"),qe.appendChild(Ge),this.feFuncB=Ge,Ve.appendChild(qe)}SVGTritoneFilter.prototype.renderFrame=function(Ve){if(Ve||this.filterManager._mdf){var $e=this.filterManager.effectElements[0].p.v,Be=this.filterManager.effectElements[1].p.v,Ue=this.filterManager.effectElements[2].p.v,ze=Ue[0]+" "+Be[0]+" "+$e[0],qe=Ue[1]+" "+Be[1]+" "+$e[1],He=Ue[2]+" "+Be[2]+" "+$e[2];this.feFuncR.setAttribute("tableValues",ze),this.feFuncG.setAttribute("tableValues",qe),this.feFuncB.setAttribute("tableValues",He)}};function SVGProLevelsFilter(Ve,$e,Be,Ue){this.filterManager=$e;var ze=this.filterManager.effectElements,qe=createNS("feComponentTransfer");(ze[10].p.k||ze[10].p.v!==0||ze[11].p.k||ze[11].p.v!==1||ze[12].p.k||ze[12].p.v!==1||ze[13].p.k||ze[13].p.v!==0||ze[14].p.k||ze[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",qe)),(ze[17].p.k||ze[17].p.v!==0||ze[18].p.k||ze[18].p.v!==1||ze[19].p.k||ze[19].p.v!==1||ze[20].p.k||ze[20].p.v!==0||ze[21].p.k||ze[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",qe)),(ze[24].p.k||ze[24].p.v!==0||ze[25].p.k||ze[25].p.v!==1||ze[26].p.k||ze[26].p.v!==1||ze[27].p.k||ze[27].p.v!==0||ze[28].p.k||ze[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",qe)),(ze[31].p.k||ze[31].p.v!==0||ze[32].p.k||ze[32].p.v!==1||ze[33].p.k||ze[33].p.v!==1||ze[34].p.k||ze[34].p.v!==0||ze[35].p.k||ze[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",qe)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(qe.setAttribute("color-interpolation-filters","sRGB"),Ve.appendChild(qe)),(ze[3].p.k||ze[3].p.v!==0||ze[4].p.k||ze[4].p.v!==1||ze[5].p.k||ze[5].p.v!==1||ze[6].p.k||ze[6].p.v!==0||ze[7].p.k||ze[7].p.v!==1)&&(qe=createNS("feComponentTransfer"),qe.setAttribute("color-interpolation-filters","sRGB"),qe.setAttribute("result",Ue),Ve.appendChild(qe),this.feFuncRComposed=this.createFeFunc("feFuncR",qe),this.feFuncGComposed=this.createFeFunc("feFuncG",qe),this.feFuncBComposed=this.createFeFunc("feFuncB",qe))}SVGProLevelsFilter.prototype.createFeFunc=function(Ve,$e){var Be=createNS(Ve);return Be.setAttribute("type","table"),$e.appendChild(Be),Be},SVGProLevelsFilter.prototype.getTableValue=function(Ve,$e,Be,Ue,ze){for(var qe=0,He=256,We,Ge=Math.min(Ve,$e),Ye=Math.max(Ve,$e),Xe=Array.call(null,{length:He}),Je,er=0,Ze=ze-Ue,rr=$e-Ve;qe<=256;)We=qe/256,We<=Ge?Je=rr<0?ze:Ue:We>=Ye?Je=rr<0?Ue:ze:Je=Ue+Ze*Math.pow((We-Ve)/rr,1/Be),Xe[er]=Je,er+=1,qe+=256/(He-1);return Xe.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(Ve){if(Ve||this.filterManager._mdf){var $e,Be=this.filterManager.effectElements;this.feFuncRComposed&&(Ve||Be[3].p._mdf||Be[4].p._mdf||Be[5].p._mdf||Be[6].p._mdf||Be[7].p._mdf)&&($e=this.getTableValue(Be[3].p.v,Be[4].p.v,Be[5].p.v,Be[6].p.v,Be[7].p.v),this.feFuncRComposed.setAttribute("tableValues",$e),this.feFuncGComposed.setAttribute("tableValues",$e),this.feFuncBComposed.setAttribute("tableValues",$e)),this.feFuncR&&(Ve||Be[10].p._mdf||Be[11].p._mdf||Be[12].p._mdf||Be[13].p._mdf||Be[14].p._mdf)&&($e=this.getTableValue(Be[10].p.v,Be[11].p.v,Be[12].p.v,Be[13].p.v,Be[14].p.v),this.feFuncR.setAttribute("tableValues",$e)),this.feFuncG&&(Ve||Be[17].p._mdf||Be[18].p._mdf||Be[19].p._mdf||Be[20].p._mdf||Be[21].p._mdf)&&($e=this.getTableValue(Be[17].p.v,Be[18].p.v,Be[19].p.v,Be[20].p.v,Be[21].p.v),this.feFuncG.setAttribute("tableValues",$e)),this.feFuncB&&(Ve||Be[24].p._mdf||Be[25].p._mdf||Be[26].p._mdf||Be[27].p._mdf||Be[28].p._mdf)&&($e=this.getTableValue(Be[24].p.v,Be[25].p.v,Be[26].p.v,Be[27].p.v,Be[28].p.v),this.feFuncB.setAttribute("tableValues",$e)),this.feFuncA&&(Ve||Be[31].p._mdf||Be[32].p._mdf||Be[33].p._mdf||Be[34].p._mdf||Be[35].p._mdf)&&($e=this.getTableValue(Be[31].p.v,Be[32].p.v,Be[33].p.v,Be[34].p.v,Be[35].p.v),this.feFuncA.setAttribute("tableValues",$e))}};function SVGDropShadowEffect(Ve,$e,Be,Ue,ze){var qe=$e.container.globalData.renderConfig.filterSize,He=$e.data.fs||qe;Ve.setAttribute("x",He.x||qe.x),Ve.setAttribute("y",He.y||qe.y),Ve.setAttribute("width",He.width||qe.width),Ve.setAttribute("height",He.height||qe.height),this.filterManager=$e;var We=createNS("feGaussianBlur");We.setAttribute("in","SourceAlpha"),We.setAttribute("result",Ue+"_drop_shadow_1"),We.setAttribute("stdDeviation","0"),this.feGaussianBlur=We,Ve.appendChild(We);var Ge=createNS("feOffset");Ge.setAttribute("dx","25"),Ge.setAttribute("dy","0"),Ge.setAttribute("in",Ue+"_drop_shadow_1"),Ge.setAttribute("result",Ue+"_drop_shadow_2"),this.feOffset=Ge,Ve.appendChild(Ge);var Ye=createNS("feFlood");Ye.setAttribute("flood-color","#00ff00"),Ye.setAttribute("flood-opacity","1"),Ye.setAttribute("result",Ue+"_drop_shadow_3"),this.feFlood=Ye,Ve.appendChild(Ye);var Xe=createNS("feComposite");Xe.setAttribute("in",Ue+"_drop_shadow_3"),Xe.setAttribute("in2",Ue+"_drop_shadow_2"),Xe.setAttribute("operator","in"),Xe.setAttribute("result",Ue+"_drop_shadow_4"),Ve.appendChild(Xe);var Je=this.createMergeNode(Ue,[Ue+"_drop_shadow_4",ze]);Ve.appendChild(Je)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(Ve){if(Ve||this.filterManager._mdf){if((Ve||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),Ve||this.filterManager.effectElements[0].p._mdf){var $e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round($e[0]*255),Math.round($e[1]*255),Math.round($e[2]*255)))}if((Ve||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),Ve||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var Be=this.filterManager.effectElements[3].p.v,Ue=(this.filterManager.effectElements[2].p.v-90)*degToRads,ze=Be*Math.cos(Ue),qe=Be*Math.sin(Ue);this.feOffset.setAttribute("dx",ze),this.feOffset.setAttribute("dy",qe)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(Ve,$e,Be){this.initialized=!1,this.filterManager=$e,this.filterElem=Ve,this.elem=Be,Be.matteElement=createNS("g"),Be.matteElement.appendChild(Be.layerElement),Be.matteElement.appendChild(Be.transformedElement),Be.baseElement=Be.matteElement}SVGMatte3Effect.prototype.findSymbol=function(Ve){for(var $e=0,Be=_svgMatteSymbols.length;$e<Be;){if(_svgMatteSymbols[$e]===Ve)return _svgMatteSymbols[$e];$e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(Ve,$e){var Be=Ve.layerElement.parentNode;if(Be){for(var Ue=Be.children,ze=0,qe=Ue.length;ze<qe&&Ue[ze]!==Ve.layerElement;)ze+=1;var He;ze<=qe-2&&(He=Ue[ze+1]);var We=createNS("use");We.setAttribute("href","#"+$e),He?Be.insertBefore(We,He):Be.appendChild(We)}},SVGMatte3Effect.prototype.setElementAsMask=function(Ve,$e){if(!this.findSymbol($e)){var Be=createElementID(),Ue=createNS("mask");Ue.setAttribute("id",$e.layerId),Ue.setAttribute("mask-type","alpha"),_svgMatteSymbols.push($e);var ze=Ve.globalData.defs;ze.appendChild(Ue);var qe=createNS("symbol");qe.setAttribute("id",Be),this.replaceInParent($e,Be),qe.appendChild($e.layerElement),ze.appendChild(qe);var He=createNS("use");He.setAttribute("href","#"+Be),Ue.appendChild(He),$e.data.hd=!1,$e.show()}Ve.setMatte($e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var Ve=this.filterManager.effectElements[0].p.v,$e=this.elem.comp.elements,Be=0,Ue=$e.length;Be<Ue;)$e[Be]&&$e[Be].data.ind===Ve&&this.setElementAsMask(this.elem,$e[Be]),Be+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(Ve,$e,Be,Ue){Ve.setAttribute("x","-100%"),Ve.setAttribute("y","-100%"),Ve.setAttribute("width","300%"),Ve.setAttribute("height","300%"),this.filterManager=$e;var ze=createNS("feGaussianBlur");ze.setAttribute("result",Ue),Ve.appendChild(ze),this.feGaussianBlur=ze}SVGGaussianBlurEffect.prototype.renderFrame=function(Ve){if(Ve||this.filterManager._mdf){var $e=.3,Be=this.filterManager.effectElements[0].p.v*$e,Ue=this.filterManager.effectElements[1].p.v,ze=Ue==3?0:Be,qe=Ue==2?0:Be;this.feGaussianBlur.setAttribute("stdDeviation",ze+" "+qe);var He=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",He)}};function TransformEffect(){}TransformEffect.prototype.init=function(Ve){this.effectsManager=Ve,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(Ve){if(this._opMdf=!1,this._mdf=!1,Ve||this.effectsManager._mdf){var $e=this.effectsManager.effectElements,Be=$e[0].p.v,Ue=$e[1].p.v,ze=$e[2].p.v===1,qe=$e[3].p.v,He=ze?qe:$e[4].p.v,We=$e[5].p.v,Ge=$e[6].p.v,Ye=$e[7].p.v;this.matrix.reset(),this.matrix.translate(-Be[0],-Be[1],Be[2]),this.matrix.scale(He*.01,qe*.01,1),this.matrix.rotate(-Ye*degToRads),this.matrix.skewFromAxis(-We*degToRads,(Ge+90)*degToRads),this.matrix.translate(Ue[0],Ue[1],0),this._mdf=!0,this.opacity!==$e[8].p.v&&(this.opacity=$e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(Ve,$e){this.init($e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(Ve){this.init(Ve)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray$1(Ve,$e){($e==null||$e>Ve.length)&&($e=Ve.length);for(var Be=0,Ue=Array($e);Be<$e;Be++)Ue[Be]=Ve[Be];return Ue}function _arrayWithHoles$1(Ve){if(Array.isArray(Ve))return Ve}function _defineProperty$C(Ve,$e,Be){return($e=_toPropertyKey$C($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _iterableToArrayLimit$1(Ve,$e){var Be=Ve==null?null:typeof Symbol<"u"&&Ve[Symbol.iterator]||Ve["@@iterator"];if(Be!=null){var Ue,ze,qe,He,We=[],Ge=!0,Ye=!1;try{if(qe=(Be=Be.call(Ve)).next,$e!==0)for(;!(Ge=(Ue=qe.call(Be)).done)&&(We.push(Ue.value),We.length!==$e);Ge=!0);}catch(Xe){Ye=!0,ze=Xe}finally{try{if(!Ge&&Be.return!=null&&(He=Be.return(),Object(He)!==He))return}finally{if(Ye)throw ze}}return We}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$B(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread2(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$B(Object(Be),!0).forEach(function(Ue){_defineProperty$C(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$B(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _objectWithoutProperties$m(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$m(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.includes(Be)||{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$m(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.includes(Ue))continue;Be[Ue]=Ve[Ue]}return Be}function _slicedToArray$1(Ve,$e){return _arrayWithHoles$1(Ve)||_iterableToArrayLimit$1(Ve,$e)||_unsupportedIterableToArray$1(Ve,$e)||_nonIterableRest$1()}function _toPrimitive$C(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _toPropertyKey$C(Ve){var $e=_toPrimitive$C(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _unsupportedIterableToArray$1(Ve,$e){if(Ve){if(typeof Ve=="string")return _arrayLikeToArray$1(Ve,$e);var Be={}.toString.call(Ve).slice(8,-1);return Be==="Object"&&Ve.constructor&&(Be=Ve.constructor.name),Be==="Map"||Be==="Set"?Array.from(Ve):Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be)?_arrayLikeToArray$1(Ve,$e):void 0}}var _excluded$1$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function Ve($e,Be){var Ue=$e.animationData,ze=$e.loop,qe=$e.autoplay,He=$e.initialSegment,We=$e.onComplete,Ge=$e.onLoopComplete,Ye=$e.onEnterFrame,Xe=$e.onSegmentStart,Je=$e.onConfigReady,er=$e.onDataReady,Ze=$e.onDataFailed,rr=$e.onLoadedImages,nr=$e.onDOMLoaded,ar=$e.onDestroy;$e.lottieRef,$e.renderer,$e.name,$e.assetsPath,$e.rendererSettings;var sr=_objectWithoutProperties$m($e,_excluded$1$1),lr=reactExports.useState(!1),or=_slicedToArray$1(lr,2),cr=or[0],hr=or[1],yr=reactExports.useRef(),mr=reactExports.useRef(null),vr=function(){var Tr;(Tr=yr.current)===null||Tr===void 0||Tr.play()},_r=function(){var Tr;(Tr=yr.current)===null||Tr===void 0||Tr.stop()},Cr=function(){var Tr;(Tr=yr.current)===null||Tr===void 0||Tr.pause()},br=function(Tr){var Vr;(Vr=yr.current)===null||Vr===void 0||Vr.setSpeed(Tr)},fr=function(Tr,Vr){var Ur;(Ur=yr.current)===null||Ur===void 0||Ur.goToAndPlay(Tr,Vr)},Sr=function(Tr,Vr){var Ur;(Ur=yr.current)===null||Ur===void 0||Ur.goToAndStop(Tr,Vr)},Dr=function(Tr){var Vr;(Vr=yr.current)===null||Vr===void 0||Vr.setDirection(Tr)},Or=function(Tr,Vr){var Ur;(Ur=yr.current)===null||Ur===void 0||Ur.playSegments(Tr,Vr)},Er=function(Tr){var Vr;(Vr=yr.current)===null||Vr===void 0||Vr.setSubframe(Tr)},Nr=function(Tr){var Vr;return(Vr=yr.current)===null||Vr===void 0?void 0:Vr.getDuration(Tr)},wr=function(){var Tr;(Tr=yr.current)===null||Tr===void 0||Tr.destroy(),yr.current=void 0},Ar=function(){var Tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Vr;if(mr.current){(Vr=yr.current)===null||Vr===void 0||Vr.destroy();var Ur=_objectSpread2(_objectSpread2(_objectSpread2({},$e),Tr),{},{container:mr.current});return yr.current=lottie.loadAnimation(Ur),hr(!!yr.current),function(){var Yr;(Yr=yr.current)===null||Yr===void 0||Yr.destroy(),yr.current=void 0}}};reactExports.useEffect(function(){var Pr=Ar();return function(){return Pr?.()}},[Ue,ze]),reactExports.useEffect(function(){yr.current&&(yr.current.autoplay=!!qe)},[qe]),reactExports.useEffect(function(){if(yr.current){if(!He){yr.current.resetSegments(!0);return}!Array.isArray(He)||!He.length||((yr.current.currentRawFrame<He[0]||yr.current.currentRawFrame>He[1])&&(yr.current.currentRawFrame=He[0]),yr.current.setSegment(He[0],He[1]))}},[He]),reactExports.useEffect(function(){var Pr=[{name:"complete",handler:We},{name:"loopComplete",handler:Ge},{name:"enterFrame",handler:Ye},{name:"segmentStart",handler:Xe},{name:"config_ready",handler:Je},{name:"data_ready",handler:er},{name:"data_failed",handler:Ze},{name:"loaded_images",handler:rr},{name:"DOMLoaded",handler:nr},{name:"destroy",handler:ar}],Tr=Pr.filter(function(Ur){return Ur.handler!=null});if(Tr.length){var Vr=Tr.map(function(Ur){var Yr;return(Yr=yr.current)===null||Yr===void 0||Yr.addEventListener(Ur.name,Ur.handler),function(){var Qr;(Qr=yr.current)===null||Qr===void 0||Qr.removeEventListener(Ur.name,Ur.handler)}});return function(){Vr.forEach(function(Ur){return Ur()})}}},[We,Ge,Ye,Xe,Je,er,Ze,rr,nr,ar]);var Lr=React.createElement("div",_objectSpread2({style:Be,ref:mr},sr));return{View:Lr,play:vr,stop:_r,pause:Cr,setSpeed:br,goToAndStop:Sr,goToAndPlay:fr,setDirection:Dr,playSegments:Or,setSubframe:Er,getDuration:Nr,destroy:wr,animationContainerRef:mr,animationLoaded:cr,animationItem:yr.current}};function getContainerVisibility(Ve){var $e=Ve.getBoundingClientRect(),Be=$e.top,Ue=$e.height,ze=window.innerHeight-Be,qe=window.innerHeight+Ue;return ze/qe}function getContainerCursorPosition(Ve,$e,Be){var Ue=Ve.getBoundingClientRect(),ze=Ue.top,qe=Ue.left,He=Ue.width,We=Ue.height,Ge=($e-qe)/He,Ye=(Be-ze)/We;return{x:Ge,y:Ye}}var useInitInteractivity=function Ve($e){var Be=$e.wrapperRef,Ue=$e.animationItem,ze=$e.mode,qe=$e.actions;reactExports.useEffect(function(){var He=Be.current;if(!(!He||!Ue||!qe.length)){Ue.stop();var We=function(){var Xe=null,Je=function(){var Ze=getContainerVisibility(He),rr=qe.find(function(ar){var sr=ar.visibility;return sr&&Ze>=sr[0]&&Ze<=sr[1]});if(rr){if(rr.type==="seek"&&rr.visibility&&rr.frames.length===2){var nr=rr.frames[0]+Math.ceil((Ze-rr.visibility[0])/(rr.visibility[1]-rr.visibility[0])*rr.frames[1]);//! goToAndStop must be relative to the start of the current segment
Ue.goToAndStop(nr-Ue.firstFrame-1,!0)}rr.type==="loop"&&(Xe===null||Xe!==rr.frames||Ue.isPaused)&&(Ue.playSegments(rr.frames,!0),Xe=rr.frames),rr.type==="play"&&Ue.isPaused&&(Ue.resetSegments(!0),Ue.play()),rr.type==="stop"&&Ue.goToAndStop(rr.frames[0]-Ue.firstFrame-1,!0)}};return document.addEventListener("scroll",Je),function(){document.removeEventListener("scroll",Je)}},Ge=function(){var Xe=function(rr,nr){var ar=rr,sr=nr;if(ar!==-1&&sr!==-1){var lr=getContainerCursorPosition(He,ar,sr);ar=lr.x,sr=lr.y}var or=qe.find(function(yr){var mr=yr.position;return mr&&Array.isArray(mr.x)&&Array.isArray(mr.y)?ar>=mr.x[0]&&ar<=mr.x[1]&&sr>=mr.y[0]&&sr<=mr.y[1]:mr&&!Number.isNaN(mr.x)&&!Number.isNaN(mr.y)?ar===mr.x&&sr===mr.y:!1});if(or){if(or.type==="seek"&&or.position&&Array.isArray(or.position.x)&&Array.isArray(or.position.y)&&or.frames.length===2){var cr=(ar-or.position.x[0])/(or.position.x[1]-or.position.x[0]),hr=(sr-or.position.y[0])/(or.position.y[1]-or.position.y[0]);Ue.playSegments(or.frames,!0),Ue.goToAndStop(Math.ceil((cr+hr)/2*(or.frames[1]-or.frames[0])),!0)}or.type==="loop"&&Ue.playSegments(or.frames,!0),or.type==="play"&&(Ue.isPaused&&Ue.resetSegments(!1),Ue.playSegments(or.frames)),or.type==="stop"&&Ue.goToAndStop(or.frames[0],!0)}},Je=function(rr){Xe(rr.clientX,rr.clientY)},er=function(){Xe(-1,-1)};return He.addEventListener("mousemove",Je),He.addEventListener("mouseout",er),function(){He.removeEventListener("mousemove",Je),He.removeEventListener("mouseout",er)}};switch(ze){case"scroll":return We();case"cursor":return Ge()}}},[ze,Ue])},useLottieInteractivity=function Ve($e){var Be=$e.actions,Ue=$e.mode,ze=$e.lottieObj,qe=ze.animationItem,He=ze.View,We=ze.animationContainerRef;return useInitInteractivity({actions:Be,animationItem:qe,mode:Ue,wrapperRef:We}),He},_excluded$m=["style","interactivity"],Lottie=function Ve($e){var Be,Ue,ze,qe=$e.style,He=$e.interactivity,We=_objectWithoutProperties$m($e,_excluded$m),Ge=useLottie(We,qe),Ye=Ge.View,Xe=Ge.play,Je=Ge.stop,er=Ge.pause,Ze=Ge.setSpeed,rr=Ge.goToAndStop,nr=Ge.goToAndPlay,ar=Ge.setDirection,sr=Ge.playSegments,lr=Ge.setSubframe,or=Ge.getDuration,cr=Ge.destroy,hr=Ge.animationContainerRef,yr=Ge.animationLoaded,mr=Ge.animationItem;return reactExports.useEffect(function(){$e.lottieRef&&($e.lottieRef.current={play:Xe,stop:Je,pause:er,setSpeed:Ze,goToAndPlay:nr,goToAndStop:rr,setDirection:ar,playSegments:sr,setSubframe:lr,getDuration:or,destroy:cr,animationContainerRef:hr,animationLoaded:yr,animationItem:mr})},[(Be=$e.lottieRef)===null||Be===void 0?void 0:Be.current]),useLottieInteractivity({lottieObj:{View:Ye,play:Xe,stop:Je,pause:er,setSpeed:Ze,goToAndStop:rr,goToAndPlay:nr,setDirection:ar,playSegments:sr,setSubframe:lr,getDuration:or,destroy:cr,animationContainerRef:hr,animationLoaded:yr,animationItem:mr},actions:(Ue=He?.actions)!==null&&Ue!==void 0?Ue:[],mode:(ze=He?.mode)!==null&&ze!==void 0?ze:"scroll"})};console.log("[RainbowButton] File loaded");function RainbowButton({to:Ve="/member",children:$e=" ",className:Be="",onClick:Ue}){const ze=qe=>{console.log("[RainbowButton] click",{to:Ve}),Ue&&Ue(qe)};return jsxRuntimeExports.jsx(Link,{to:Ve,onClick:ze,className:`magic-rainbow-btn ${Be}`,"aria-label":" ",children:jsxRuntimeExports.jsx("span",{className:"magic-rainbow-inner",children:$e})})}const SPHERE_MATH={degreesToRadians:Ve=>Ve*(Math.PI/180),radiansToDegrees:Ve=>Ve*(180/Math.PI),sphericalToCartesian:(Ve,$e,Be)=>({x:Ve*Math.sin(Be)*Math.cos($e),y:Ve*Math.cos(Be),z:Ve*Math.sin(Be)*Math.sin($e)}),calculateDistance:(Ve,$e={x:0,y:0,z:0})=>{const Be=Ve.x-$e.x,Ue=Ve.y-$e.y,ze=Ve.z-$e.z;return Math.sqrt(Be*Be+Ue*Ue+ze*ze)},normalizeAngle:Ve=>{for(;Ve>180;)Ve-=360;for(;Ve<-180;)Ve+=360;return Ve}},SphereImageGrid=({images:Ve=[],containerSize:$e=400,sphereRadius:Be=200,dragSensitivity:Ue=.5,momentumDecay:ze=.95,maxRotationSpeed:qe=5,baseImageScale:He=.12,hoverScale:We=1.2,perspective:Ge=1e3,autoRotate:Ye=!1,autoRotateSpeed:Xe=.3,className:Je="",onImageClick:er,disableSpotlight:Ze=!1,performanceMode:rr=!1})=>{const[nr,ar]=reactExports.useState(!1),[sr,lr]=reactExports.useState({x:15,y:15,z:0}),[or,cr]=reactExports.useState({x:0,y:0}),[hr,yr]=reactExports.useState(!1),[mr,vr]=reactExports.useState(null),[_r,Cr]=reactExports.useState([]),[br,fr]=reactExports.useState(null),Sr=reactExports.useRef(null),Dr=reactExports.useRef({x:0,y:0}),Or=reactExports.useRef(null),Er=reactExports.useRef(0),Nr=Be||$e*.5,wr=$e*He,Ar=reactExports.useCallback(()=>{const gn=[],In=Ve.length,Sn=(1+Math.sqrt(5))/2,Gr=2*Math.PI/Sn;for(let Un=0;Un<In;Un++){const di=Un/In,ii=Math.acos(1-2*di),Vn=Gr*Un;let zn=ii*(180/Math.PI),Qn=Vn*(180/Math.PI)%360;const Yn=Math.pow(Math.abs(zn-90)/90,.6)*35;zn<90?zn=Math.max(5,zn-Yn):zn=Math.min(175,zn+Yn),zn=15+zn/180*150;const vi=(Math.random()-.5)*20;Qn=(Qn+vi)%360,zn=Math.max(0,Math.min(180,zn+(Math.random()-.5)*10)),gn.push({theta:Qn,phi:zn,radius:Nr})}return gn},[Ve.length,Nr]),Lr=reactExports.useCallback(()=>{const gn=_r.map((Sn,Gr)=>{const Un=SPHERE_MATH.degreesToRadians(Sn.theta),di=SPHERE_MATH.degreesToRadians(Sn.phi),ii=SPHERE_MATH.degreesToRadians(sr.x),Vn=SPHERE_MATH.degreesToRadians(sr.y);let zn=Sn.radius*Math.sin(di)*Math.cos(Un),Qn=Sn.radius*Math.cos(di),Yn=Sn.radius*Math.sin(di)*Math.sin(Un);const vi=zn*Math.cos(Vn)+Yn*Math.sin(Vn),xn=-zn*Math.sin(Vn)+Yn*Math.cos(Vn);zn=vi,Yn=xn;const ei=Qn*Math.cos(ii)-Yn*Math.sin(ii),ni=Qn*Math.sin(ii)+Yn*Math.cos(ii);Qn=ei,Yn=ni;const ui={x:zn,y:Qn,z:Yn},oi=rr?-5:-10,fi=rr?-20:-30,yi=ui.z>fi;let mi=1;ui.z<=oi&&(mi=Math.max(0,(ui.z-fi)/(oi-fi)));const as=Sn.phi<30||Sn.phi>150,Ui=Math.sqrt(ui.x*ui.x+ui.y*ui.y),Di=Math.min(Ui/Nr,1),Ai=Math.max(.3,1-Di*(as?.4:.7)),ps=(ui.z+Nr)/(2*Nr),Ni=Ai*Math.max(.5,.8+ps*.3);return{...ui,scale:Ni,zIndex:Math.round(1e3+ui.z),isVisible:yi,fadeOpacity:mi,originalIndex:Gr}});if(rr)return gn;const In=[...gn];for(let Sn=0;Sn<In.length;Sn++){const Gr=In[Sn];if(!Gr.isVisible)continue;let Un=Gr.scale;const di=wr*Un;for(let ii=0;ii<In.length;ii++){if(Sn===ii)continue;const Vn=In[ii];if(!Vn.isVisible)continue;const zn=wr*Vn.scale,Qn=Gr.x-Vn.x,Yn=Gr.y-Vn.y,vi=Math.sqrt(Qn*Qn+Yn*Yn),xn=(di+zn)/2+25;if(vi<xn&&vi>0){const ei=xn-vi,ni=Math.max(.4,1-ei/xn*.6);Un=Math.min(Un,Un*ni)}}In[Sn]={...Gr,scale:Math.max(.25,Un)}}return In},[_r,sr,Nr,wr,rr]),Pr=reactExports.useCallback(gn=>Math.max(-qe,Math.min(qe,gn)),[qe]),Tr=reactExports.useCallback(()=>{hr||(cr(gn=>{const In={x:gn.x*ze,y:gn.y*ze};return!Ye&&Math.abs(In.x)<.01&&Math.abs(In.y)<.01?{x:0,y:0}:In}),lr(gn=>{let In=gn.y;return Ye&&(In+=Xe),In+=Pr(or.y),{x:SPHERE_MATH.normalizeAngle(gn.x+Pr(or.x)),y:SPHERE_MATH.normalizeAngle(In),z:gn.z}}))},[hr,ze,or,Pr,Ye,Xe]),Vr=reactExports.useCallback(gn=>{gn.preventDefault(),yr(!0),cr({x:0,y:0}),Dr.current={x:gn.clientX,y:gn.clientY}},[]),Ur=reactExports.useCallback(gn=>{if(!hr)return;const In=gn.clientX-Dr.current.x,Gr={x:-(gn.clientY-Dr.current.y)*Ue,y:In*Ue};lr(Un=>({x:SPHERE_MATH.normalizeAngle(Un.x+Pr(Gr.x)),y:SPHERE_MATH.normalizeAngle(Un.y+Pr(Gr.y)),z:Un.z})),cr({x:Pr(Gr.x),y:Pr(Gr.y)}),Dr.current={x:gn.clientX,y:gn.clientY}},[hr,Ue,Pr]),Yr=reactExports.useCallback(()=>{yr(!1)},[]),Qr=reactExports.useCallback(gn=>{gn.preventDefault();const In=gn.touches[0];yr(!0),cr({x:0,y:0}),Dr.current={x:In.clientX,y:In.clientY}},[]),mn=reactExports.useCallback(gn=>{if(!hr)return;gn.preventDefault();const In=gn.touches[0],Sn=In.clientX-Dr.current.x,Un={x:-(In.clientY-Dr.current.y)*Ue,y:Sn*Ue};lr(di=>({x:SPHERE_MATH.normalizeAngle(di.x+Pr(Un.x)),y:SPHERE_MATH.normalizeAngle(di.y+Pr(Un.y)),z:di.z})),cr({x:Pr(Un.x),y:Pr(Un.y)}),Dr.current={x:In.clientX,y:In.clientY}},[hr,Ue,Pr]),An=reactExports.useCallback(()=>{yr(!1)},[]);reactExports.useEffect(()=>{ar(!0)},[]),reactExports.useEffect(()=>{Cr(Ar())},[Ar]),reactExports.useEffect(()=>{console.log("[ImgSphere] performance mode",{performanceMode:rr});const gn=()=>{const In=performance.now();(!rr||In-Er.current>=16)&&(Er.current=In,Tr()),Or.current=requestAnimationFrame(gn)};return nr&&(Or.current=requestAnimationFrame(gn)),()=>{Or.current&&cancelAnimationFrame(Or.current)}},[nr,Tr,rr]),reactExports.useEffect(()=>{if(!nr)return;const gn=Sr.current;if(!gn)return;const In=rr?gn:document;return In.addEventListener("mousemove",Ur),In.addEventListener("mouseup",Yr),In.addEventListener("touchmove",mn,{passive:!1}),In.addEventListener("touchend",An),()=>{In.removeEventListener("mousemove",Ur),In.removeEventListener("mouseup",Yr),In.removeEventListener("touchmove",mn),In.removeEventListener("touchend",An)}},[nr,Ur,Yr,mn,An,rr]);const Zr=Lr(),bn=reactExports.useCallback((gn,In)=>{const Sn=Zr[In];if(!Sn||!Sn.isVisible)return null;const Gr=wr*Sn.scale,di=br===In&&!rr?Math.min(1.2,1.2/Sn.scale):1;return jsxRuntimeExports.jsx("div",{className:rr?"absolute cursor-pointer select-none":"absolute cursor-pointer select-none transition-transform duration-200 ease-out",style:{width:`${Gr}px`,height:`${Gr}px`,left:`${$e/2+Sn.x}px`,top:`${$e/2+Sn.y}px`,opacity:Sn.fadeOpacity,transform:`translate3d(-50%, -50%, 0) scale(${di})`,willChange:"transform, opacity",zIndex:Sn.zIndex},onMouseEnter:()=>fr(In),onMouseLeave:()=>fr(null),onClick:()=>{if(console.log("[ImgSphere] image clicked",{id:gn.id,alt:gn.alt}),Ze?console.log("[ImgSphere] spotlight disabled, delegating click"):vr(gn),typeof er=="function")try{er(gn)}catch(ii){console.error("[ImgSphere] onImageClick error",ii)}},children:jsxRuntimeExports.jsx("div",{className:"relative w-full h-full rounded-full overflow-hidden shadow-lg border-2 border-white/20",children:jsxRuntimeExports.jsx("img",{src:gn.src,alt:gn.alt,className:"w-full h-full object-cover",draggable:!1,loading:In<3?"eager":"lazy"})})},gn.id)},[Zr,wr,$e,br,rr]),jn=()=>Ze||!mr?null:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30",onClick:()=>vr(null),style:{animation:"fadeIn 0.3s ease-out"},children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full overflow-hidden",onClick:gn=>gn.stopPropagation(),style:{animation:"scaleIn 0.3s ease-out"},children:[jsxRuntimeExports.jsxs("div",{className:"relative aspect-square",children:[jsxRuntimeExports.jsx("img",{src:mr.src,alt:mr.alt,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("button",{onClick:()=>vr(null),className:"absolute top-2 right-2 w-8 h-8 bg-black bg-opacity-50 rounded-full text-white flex items-center justify-center hover:bg-opacity-70 transition-all cursor-pointer",children:jsxRuntimeExports.jsx(X$1,{size:16})})]}),(mr.title||mr.description)&&jsxRuntimeExports.jsxs("div",{className:"p-6",children:[mr.title&&jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:mr.title}),mr.description&&jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:mr.description})]})]})});return nr?Ve.length?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes scaleIn {
          from { transform: scale(0.8); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
        }
      `}),jsxRuntimeExports.jsx("div",{ref:Sr,className:`relative select-none cursor-grab active:cursor-grabbing ${Je}`,style:{width:$e,height:$e,perspective:`${Ge}px`},onMouseDown:Vr,onTouchStart:Qr,children:jsxRuntimeExports.jsx("div",{className:"relative w-full h-full",style:{zIndex:10},children:Ve.map((gn,In)=>bn(gn,In))})}),jn()]}):(console.log("[ImgSphere] placeholder showing (no images)"),jsxRuntimeExports.jsx("div",{className:"relative select-none",style:{width:$e,height:$e},children:jsxRuntimeExports.jsx("div",{className:"img-sphere-placeholder",children:jsxRuntimeExports.jsx("div",{className:"img-sphere-spinner"})})})):(console.log("[ImgSphere] placeholder showing (mounting)"),jsxRuntimeExports.jsx("div",{className:"relative select-none",style:{width:$e,height:$e},children:jsxRuntimeExports.jsx("div",{className:"img-sphere-placeholder",children:jsxRuntimeExports.jsx("div",{className:"img-sphere-spinner"})})}))},FeedbackModal=({isOpen:Ve,onClose:$e,onSubmitted:Be})=>{const[Ue,ze]=reactExports.useState(""),[qe,He]=reactExports.useState(!1);if(!Ve)return null;const We=async Ge=>{if(Ge.preventDefault(),!!Ue.trim()){He(!0);try{console.log("FeedbackModal: submitting feedback"),await addDoc(collection(db,"feedbacks"),{message:Ue.trim(),createdAt:serverTimestamp(),userAgent:navigator.userAgent,page:window.location.pathname}),zt$1.success("   !"),ze(""),console.log("FeedbackModal: feedback submitted successfully"),typeof Be=="function"&&Be(),$e()}catch(Ye){console.error("Error adding feedback: ",Ye),zt$1.error(",    ")}finally{He(!1)}}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",onClick:Ge=>Ge.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/50 rounded-lg text-green-600 dark:text-green-400",children:jsxRuntimeExports.jsx(MessageSquare,{size:20})}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-100",children:" "})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{console.log("FeedbackModal: close clicked"),$e()},className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:We,className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"   "}),jsxRuntimeExports.jsx("textarea",{value:Ue,onChange:Ge=>ze(Ge.target.value),placeholder:" ...",className:"w-full min-h-[120px] p-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all resize-none text-gray-800 dark:text-gray-200 placeholder-gray-400",required:!0})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end pt-2",children:jsxRuntimeExports.jsx("button",{type:"submit",disabled:qe||!Ue.trim(),className:"flex items-center gap-2 px-6 py-2.5 bg-green-600 hover:bg-green-700 text-white font-medium rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-green-600/20 active:scale-95",children:qe?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{className:"ml-1",children:" ..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx(Send,{size:18})]})})})]})]})})},FeedbackButton=()=>{const[Ve,$e]=reactExports.useState(!1),[Be,Ue]=reactExports.useState(!1),ze=reactExports.useRef(null);return reactExports.useEffect(()=>()=>{ze.current&&clearTimeout(ze.current)},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{console.log("FeedbackButton: open modal"),$e(!0)},className:"fixed bottom-6 right-6 z-40 relative p-0 bg-transparent shadow-none border-0","aria-label":"Feedback",title:" ",children:[jsxRuntimeExports.jsx("img",{src:"/feedback_icon.png",alt:"Feedback",className:"w-12 h-12 select-none",draggable:"false",onLoad:()=>console.log("FeedbackButton: PNG icon loaded")}),jsxRuntimeExports.jsx("span",{className:"absolute right-full mr-3 px-3 py-1 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:" "})]}),jsxRuntimeExports.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center pointer-events-none transition-opacity duration-300 ${Be?"opacity-100":"opacity-0"}`,role:"status","aria-live":"polite",children:jsxRuntimeExports.jsxs("div",{className:"px-5 py-3 rounded-2xl shadow-2xl border border-green-700 bg-green-600 text-white flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"!   "})]})}),jsxRuntimeExports.jsx(FeedbackModal,{isOpen:Ve,onClose:()=>{console.log("FeedbackButton: close modal"),$e(!1)},onSubmitted:()=>{console.log("FeedbackButton: feedback submitted"),ze.current&&clearTimeout(ze.current),Ue(!0),ze.current=setTimeout(()=>{Ue(!1)},2500)}})]})},FaqAccordion=React.lazy(()=>__vitePreload(()=>import("./FaqAccordion-HOGVWgAG.js"),[])),Testimonials=React.lazy(()=>__vitePreload(()=>import("./Testimonials-8MuZpPWA.js"),[])),StatsCounter=React.lazy(()=>__vitePreload(()=>import("./StatsCounter-sg_FN2UC.js"),[])),InfoGrid=React.lazy(()=>__vitePreload(()=>import("./InfoGrid-ClYyG5QC.js"),[])),MapBlock=React.lazy(()=>__vitePreload(()=>import("./MapBlock-BZDcOBLi.js"),[]));function LandingPage(){const{user:Ve,isAuthenticated:$e}=useAuth(),Be=reactExports.useRef(null),Ue=reactExports.useRef(null),ze=reactExports.useRef(null),qe=reactExports.useRef(null),[He,We]=reactExports.useState(null),[Ge,Ye]=reactExports.useState(null),[Xe,Je]=reactExports.useState(!0),[er,Ze]=reactExports.useState(!1),[rr,nr]=reactExports.useState(!1),[ar,sr]=reactExports.useState(!1),[lr,or]=reactExports.useState([]),cr=(fr,Sr=128)=>{const Or=(String(fr||"").trim().split(/\s+/).filter(Boolean).slice(0,2).map(Lr=>Lr[0]||"").join("")||"M").toUpperCase(),Er="#e2e8f0",wr=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="${Sr}" height="${Sr}" viewBox="0 0 ${Sr} ${Sr}">
  <defs>
    <clipPath id="clip">
      <circle cx="${Sr/2}" cy="${Sr/2}" r="${Sr/2}" />
    </clipPath>
  </defs>
  <rect width="${Sr}" height="${Sr}" fill="${Er}"/>
  <g clip-path="url(#clip)">
    <rect width="${Sr}" height="${Sr}" fill="${Er}"/>
  </g>
  <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="${Math.round(Sr*.4)}" font-weight="700" fill="#1e293b">${Or}</text>
</svg>`;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(wr)};reactExports.useEffect(()=>{let fr=!0;return console.log("[LandingPage] fetching members for sphere images"),MemberService.getActiveMembers().then(Sr=>{if(fr)if(Sr.success){const Or=[...Sr.data||[]].sort((Er,Nr)=>{const wr=Er.createdAt?.toDate?.()||new Date(Er.createdAt)||new Date(0),Ar=Nr.createdAt?.toDate?.()||new Date(Nr.createdAt)||new Date(0);return wr.getTime()!==Ar.getTime()?Ar-wr:(Nr.id||"").localeCompare(Er.id||"")}).map(Er=>({id:Er.id,src:Er.photoURL||Er.avatar||cr(Er.name),alt:Er.name||Er.membershipId||"",title:Er.name,description:Er.membershipId?`: ${Er.membershipId}`:void 0}));console.log("[LandingPage] sphere images prepared",{count:Or.length}),or(Or)}else console.log("[LandingPage] members fetch failed, using minimal assets"),or([{id:"footer_logo",src:"/footer_logo.svg",alt:"",title:""},{id:"vite",src:"/vite.svg",alt:"",title:""},{id:"pdf_logo",src:"/logo_pdf.png",alt:" ",title:""}])}).catch(Sr=>{console.log("[LandingPage] members fetch error",Sr)}),()=>{fr=!1}},[]),reactExports.useEffect(()=>{if(!Xe){console.log("[LandingPage] skip auto scroll due to reduced motion");return}const fr=qe.current;if(!fr){console.log("[LandingPage] sphere ref not ready");return}const Sr=parseInt(localStorage.getItem("lpSphereScrollCount")||"0",10)||0;if(Sr>=3){console.log("[LandingPage] auto scroll skipped (limit reached)",{current:Sr});return}const Dr=()=>{try{const Ar=fr.getBoundingClientRect(),Lr=Ar.top+Ar.height/2,Pr=window.innerHeight/2,Tr=Lr-Pr;window.scrollBy({top:Tr,behavior:"smooth"});const Vr=Sr+1;localStorage.setItem("lpSphereScrollCount",String(Vr)),console.log("[LandingPage] auto scrolled to sphere center",{delta:Tr,next:Vr})}catch(Ar){console.log("[LandingPage] auto scroll failed, using scrollIntoView",Ar);try{fr.scrollIntoView({behavior:"smooth",block:"center"});const Lr=Sr+1;localStorage.setItem("lpSphereScrollCount",String(Lr))}catch{}}},Or=2e3;let Er=null;const Nr=()=>{console.log("[LandingPage] auto-scroll scheduled with delay",{delayMs:Or}),Er=setTimeout(()=>{requestAnimationFrame(Dr)},Or)},wr=()=>Nr();return document.readyState==="complete"?Nr():window.addEventListener("load",wr,{once:!0}),()=>{Er&&(clearTimeout(Er),console.log("[LandingPage] auto-scroll timer cleared")),window.removeEventListener("load",wr)}},[Xe]),reactExports.useEffect(()=>{console.log("[LandingPage] mounted"),console.log("[LandingPage] UI tweak applied: season card slightly enlarged"),console.log("[LandingPage] UI tweak applied: season card enlarged a bit more"),console.log("[LandingPage] viewport",{width:window.innerWidth,height:window.innerHeight,dpr:window.devicePixelRatio})},[]),reactExports.useEffect(()=>{try{const fr=window.matchMedia("(prefers-reduced-motion: reduce)"),Sr=!(fr&&fr.matches);Je(Sr),console.log("[LandingPage] motion preference",{shouldAnimate:Sr})}catch{}},[]),reactExports.useEffect(()=>{if(console.log("[LandingPage] Lottie speed update requested: make even slower"),He&&Ue.current){Ue.current.setSpeed(.35);try{Ue.current.setSubframe?.(!0),console.log("[LandingPage] Lottie subframe enabled",{type:"rain"})}catch{}console.log("[LandingPage] Lottie speed set",{type:"rain",speed:.35})}else He&&!Ue.current&&setTimeout(()=>{if(Ue.current){Ue.current.setSpeed(.35);try{Ue.current.setSubframe?.(!0),console.log("[LandingPage] Lottie subframe enabled (retry)",{type:"rain"})}catch{}console.log("[LandingPage] Lottie speed set (retry)",{type:"rain",speed:.35})}},150);if(Ge&&ze.current){ze.current.setSpeed(.35);try{ze.current.setSubframe?.(!0),console.log("[LandingPage] Lottie subframe enabled",{type:"leaves"})}catch{}console.log("[LandingPage] Lottie speed set",{type:"leaves",speed:.35})}else Ge&&!ze.current&&setTimeout(()=>{if(ze.current){ze.current.setSpeed(.35);try{ze.current.setSubframe?.(!0),console.log("[LandingPage] Lottie subframe enabled (retry)",{type:"leaves"})}catch{}console.log("[LandingPage] Lottie speed set (retry)",{type:"leaves",speed:.35})}},150)},[He,Ge]),reactExports.useEffect(()=>{console.log("[LandingPage] footer section configured")},[]),reactExports.useEffect(()=>{let fr=!1;console.log("[LandingPage] Lottie fetch start");const Sr="/____.json",Dr="/____.json";return console.log("[LandingPage] asset urls",{rainUrl:Sr,leavesUrl:Dr}),Xe?(fetch(Sr).then(Or=>Or.json()).then(Or=>{fr||(We(Or),console.log("[LandingPage] rain JSON loaded",{layers:Array.isArray(Or.layers)?Or.layers.length:void 0}))}).catch(Or=>console.log("[LandingPage] rain JSON load error",Or)),fetch(Dr).then(Or=>Or.json()).then(Or=>{fr||(Ye(Or),console.log("[LandingPage] leaves JSON loaded",{layers:Array.isArray(Or.layers)?Or.layers.length:void 0}))}).catch(Or=>console.log("[LandingPage] leaves JSON load error",Or)),()=>{fr=!0,console.log("[LandingPage] Lottie fetch aborted")}):(console.log("[LandingPage] skip Lottie fetch due to reduced motion"),()=>{fr=!0})},[Xe]),reactExports.useEffect(()=>{const fr=Be.current;if(!fr){console.log("[LandingPage] seasons section not found");return}console.log("[LandingPage] init IntersectionObserver for seasons (one-time start)");const Sr=Array.from(fr.querySelectorAll(".season-item")),Dr=new IntersectionObserver(Or=>{Or.forEach(Er=>{if(Er.isIntersecting){const Nr=Er.target;Nr.classList.contains("animated")||(Nr.classList.add("animated"),console.log("[LandingPage] season animated-start",{text:Nr.textContent?.trim()}));const wr=Nr.getAttribute("data-season");wr===""&&Ze(!0),wr===""&&nr(!0),Dr.unobserve(Nr)}})},{root:null,threshold:.6,rootMargin:"0px"});return Sr.forEach(Or=>Dr.observe(Or)),()=>{Sr.forEach(Or=>Dr.unobserve(Or)),Dr.disconnect(),console.log("[LandingPage] seasons observer disconnected")}},[]),Ve?.role&&`${Ve.role}`;const hr=reactExports.useMemo(()=>"   ,   |  ",[]),yr=reactExports.useMemo(()=>"     ,  ,  ,  ,     , , ,     ",[]),mr=reactExports.useMemo(()=>"https://fulmurigram.site/",[]),vr=reactExports.useMemo(()=>" , ,  ,  ,  ,  ,  , , , , , , , , -, , ",[]),_r=reactExports.useMemo(()=>({"@context":"https://schema.org","@graph":[{"@type":"Place",name:"",address:{"@type":"PostalAddress",addressLocality:"Fulmuri",addressRegion:"Cumilla",addressCountry:"BD"},containedInPlace:{"@type":"AdministrativeArea",name:"Chauddagram (Upazila)",containedInPlace:{"@type":"AdministrativeArea",name:"Cumilla (District)",containedInPlace:{"@type":"AdministrativeArea",name:"Chattogram (Division)"}}},sameAs:["https://amargram.org/fulmuree"]},{"@type":"WebSite",name:" ",url:mr,inLanguage:"bn-BD",potentialAction:{"@type":"SearchAction",target:"https://fulmurigram.site/?q={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:mr},{"@type":"ListItem",position:2,name:"Explore",item:mr+"#features"},{"@type":"ListItem",position:3,name:"Profile",item:mr+"#profile"},{"@type":"ListItem",position:4,name:"Map",item:mr+"#contact"}]}]}),[mr]),Cr=reactExports.useMemo(()=>({type:"website",title:hr,description:yr,url:mr,siteName:"  | ",locale:"bn_BD",image:mr+" .svg"}),[hr,yr,mr]),br=reactExports.useMemo(()=>({card:"summary_large_image",title:hr,description:yr,image:mr+"logo_pdf.png"}),[hr,yr,mr]);return console.log("[LandingPage] SEO prepared",{seoTitle:hr,seoCanonical:mr}),jsxRuntimeExports.jsx(BubbleBackground,{interactive:!0,isDark:ar,children:jsxRuntimeExports.jsxs("div",{className:`landing-root ${ar?"dark":""}`,children:[jsxRuntimeExports.jsx(Meta,{title:hr,description:yr,keywords:vr,canonicalUrl:mr,jsonLd:_r,openGraph:Cr,twitterCard:br}),jsxRuntimeExports.jsxs("header",{className:"landing-hero","aria-label":"Village hero",onMouseEnter:()=>console.log("[LandingPage] hover hero header"),onMouseLeave:()=>console.log("[LandingPage] leave hero header"),children:[jsxRuntimeExports.jsx("div",{className:"hero-theme-toggle hero-theme-toggle-fixed",children:jsxRuntimeExports.jsx(ThemeSwitcher,{isDark:ar,onToggle:fr=>{console.log("[LandingPage] theme toggle",{next:fr}),sr(fr)}})}),jsxRuntimeExports.jsxs("div",{className:"hero-content",onMouseEnter:()=>console.log("[LandingPage] hover hero-content"),onMouseLeave:()=>console.log("[LandingPage] leave hero-content"),children:[jsxRuntimeExports.jsxs("div",{className:"hero-headers",onMouseEnter:()=>console.log("[LandingPage] hover hero-headers"),onMouseLeave:()=>console.log("[LandingPage] leave hero-headers"),children:[jsxRuntimeExports.jsx("h1",{className:"landing-title",children:"  "}),jsxRuntimeExports.jsx("h2",{className:"landing-subtitle",children:" ,       "}),jsxRuntimeExports.jsx("p",{className:"landing-intro",children:"        "})]}),jsxRuntimeExports.jsxs("ul",{className:"landing-highlights",role:"list","aria-label":"Village values",children:[jsxRuntimeExports.jsx("li",{className:"pill",children:""}),jsxRuntimeExports.jsx("li",{className:"pill",children:""}),jsxRuntimeExports.jsx("li",{className:"pill",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"landing-actions",children:[jsxRuntimeExports.jsx("a",{href:"#history",className:"btn-primary",onClick:fr=>{fr.preventDefault(),document.getElementById("history").scrollIntoView({behavior:"smooth"})},children:" "}),jsxRuntimeExports.jsx(RainbowButton,{to:"/mode-selector",onClick:()=>console.log("[LandingPage] CTA click: RainbowButton",{to:"/mode-selector"}),children:" "})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"history",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" : "}),jsxRuntimeExports.jsxs("div",{className:"section-content",children:[jsxRuntimeExports.jsxs("p",{className:"section-text",children:[jsxRuntimeExports.jsx("strong",{children:" "}),"       ,                 "]}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"              ,          "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"  ,            "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"        -, -                    ,          ;         "}),jsxRuntimeExports.jsxs("blockquote",{className:"quote-box",children:["   ,        ,    ",jsxRuntimeExports.jsx("footer",{children:"  "})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"geography-nature",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"   "}),jsxRuntimeExports.jsxs("div",{className:"section-content",children:[jsxRuntimeExports.jsx("p",{className:"section-text",children:"       ,             "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"   ,     ,        "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"  ,               "})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"vision",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"   "}),jsxRuntimeExports.jsxs("div",{className:"section-content",style:{marginBottom:"2rem"},children:[jsxRuntimeExports.jsx("p",{className:"section-text",children:"                       ,       ,       "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"  ,      ,     ,                         "})]}),jsxRuntimeExports.jsxs("div",{className:"landing-features",children:[jsxRuntimeExports.jsxs("div",{className:"feature-card",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(BookOpen,{size:20})}),jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{children:"            "})]}),jsxRuntimeExports.jsxs("div",{className:"feature-card",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(Sprout,{size:20})}),jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{children:" ,          "})]}),jsxRuntimeExports.jsxs("div",{className:"feature-card",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(Users,{size:20})}),jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{children:"          "})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"seasons",ref:Be,children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:""}),jsxRuntimeExports.jsxs("div",{className:"season-grid",children:[jsxRuntimeExports.jsxs("div",{className:"season-item season-summer",style:{"--fx-delay":".1s","--fx-speed":"2.6s"},"data-season":"",onMouseEnter:()=>console.debug("[LandingPage] hover season",{season:""}),onMouseLeave:()=>console.debug("[LandingPage] leave season",{season:""}),children:[jsxRuntimeExports.jsx("span",{className:"season-icon",children:jsxRuntimeExports.jsx(Sun,{size:22})}),"",jsxRuntimeExports.jsx("span",{className:"fx fx-sun","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"season-item season-monsoon",style:{"--fx-delay":"0s","--fx-speed":"2.2s"},"data-season":"",onMouseEnter:()=>console.debug("[LandingPage] hover season",{season:""}),onMouseLeave:()=>console.debug("[LandingPage] leave season",{season:""}),children:[jsxRuntimeExports.jsx("span",{className:"season-icon",children:jsxRuntimeExports.jsx(CloudRain,{size:22})}),"",Xe&&He&&er&&jsxRuntimeExports.jsx(Lottie,{animationData:He,loop:!0,autoplay:!0,className:"fx fx-rain-lottie",lottieRef:Ue,renderer:"canvas",rendererSettings:{preserveAspectRatio:"xMidYMid slice",progressiveLoad:!0},onDOMLoaded:()=>{console.log("[LandingPage] rain Lottie DOM loaded");try{Ue.current?.setSpeed(.35),Ue.current?.setSubframe?.(!0),Ue.current?.goToAndPlay?.(0,!0),console.log("[LandingPage] Lottie speed set (DOM load)",{type:"rain",speed:.35})}catch(fr){console.log("[LandingPage] rain speed set error",fr)}}})]}),jsxRuntimeExports.jsxs("div",{className:"season-item season-autumn",style:{"--fx-delay":".2s","--fx-speed":"6.5s"},"data-season":"",onMouseEnter:()=>console.debug("[LandingPage] hover season",{season:""}),onMouseLeave:()=>console.debug("[LandingPage] leave season",{season:""}),children:["",Xe&&Ge&&rr&&jsxRuntimeExports.jsx(Lottie,{animationData:Ge,loop:!0,autoplay:!0,className:"fx fx-leaves-lottie",lottieRef:ze,renderer:"canvas",rendererSettings:{preserveAspectRatio:"xMidYMid slice",progressiveLoad:!0},onDOMLoaded:()=>{console.log("[LandingPage] leaves Lottie DOM loaded");try{ze.current?.setSpeed(.35),ze.current?.setSubframe?.(!0),ze.current?.goToAndPlay?.(0,!0),console.log("[LandingPage] Lottie speed set (DOM load)",{type:"leaves",speed:.35})}catch(fr){console.log("[LandingPage] leaves speed set error",fr)}}})]}),jsxRuntimeExports.jsxs("div",{className:"season-item season-hemanta",style:{"--fx-delay":".15s","--fx-speed":"10s"},"data-season":"",onMouseEnter:()=>console.debug("[LandingPage] hover season",{season:""}),onMouseLeave:()=>console.debug("[LandingPage] leave season",{season:""}),children:["",jsxRuntimeExports.jsx("span",{className:"fx fx-stripes","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"season-item season-winter",style:{"--fx-delay":".3s","--fx-speed":"6.8s"},"data-season":"",onMouseEnter:()=>console.debug("[LandingPage] hover season",{season:""}),onMouseLeave:()=>console.debug("[LandingPage] leave season",{season:""}),children:["",jsxRuntimeExports.jsx("span",{className:"fx fx-snow","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"season-item season-spring",style:{"--fx-delay":".25s","--fx-speed":"6s"},"data-season":"",onMouseEnter:()=>console.debug("[LandingPage] hover season",{season:""}),onMouseLeave:()=>console.debug("[LandingPage] leave season",{season:""}),children:["",jsxRuntimeExports.jsx("span",{className:"fx fx-blossom","aria-hidden":"true"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"gallery",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"        "}),jsxRuntimeExports.jsxs("div",{className:"gallery-tabs",children:[jsxRuntimeExports.jsx("button",{className:"pill active",children:""}),jsxRuntimeExports.jsx("button",{className:"pill",children:""}),jsxRuntimeExports.jsx("button",{className:"pill",children:""}),jsxRuntimeExports.jsx("button",{className:"pill",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"gallery-grid-new",children:[jsxRuntimeExports.jsxs("div",{className:"gallery-card",children:[jsxRuntimeExports.jsx("div",{className:"gallery-img-placeholder nature",children:jsxRuntimeExports.jsx(Sun,{})}),jsxRuntimeExports.jsx("div",{className:"gallery-caption",children:"  "})]}),jsxRuntimeExports.jsxs("div",{className:"gallery-card",children:[jsxRuntimeExports.jsx("div",{className:"gallery-img-placeholder life",children:jsxRuntimeExports.jsx(Sprout,{})}),jsxRuntimeExports.jsx("div",{className:"gallery-caption",children:"  "})]}),jsxRuntimeExports.jsxs("div",{className:"gallery-card",children:[jsxRuntimeExports.jsx("div",{className:"gallery-img-placeholder festival",children:jsxRuntimeExports.jsx(Users,{})}),jsxRuntimeExports.jsx("div",{className:"gallery-caption",children:" "})]}),jsxRuntimeExports.jsxs("div",{className:"gallery-card",children:[jsxRuntimeExports.jsx("div",{className:"gallery-img-placeholder nature",children:jsxRuntimeExports.jsx(Sprout,{})}),jsxRuntimeExports.jsx("div",{className:"gallery-caption",children:" "})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"tourism",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" "}),jsxRuntimeExports.jsxs("div",{className:"tourism-grid",children:[jsxRuntimeExports.jsxs("div",{className:"tourism-card",children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("ul",{className:"check-list",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:" :"}),"       "]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:" :"}),"    "]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:" :"}),"    "]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"  :"}),"     "]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:" :"}),"   "]})]})]}),jsxRuntimeExports.jsxs("div",{className:"tourism-card highlight",children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"  :"}),"  (-)     ,   (-)   "]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:" :"}),"      "]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:":"}),"           "]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"agriculture-details",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"   "}),jsxRuntimeExports.jsxs("div",{className:"crop-grid",children:[jsxRuntimeExports.jsxs("div",{className:"crop-item crop-summer","data-season":"",onMouseEnter:()=>console.debug("[LandingPage] hover crop",{season:""}),onMouseLeave:()=>console.debug("[LandingPage] leave crop",{season:""}),children:[jsxRuntimeExports.jsxs("div",{className:"crop-title",children:[jsxRuntimeExports.jsx("span",{className:"crop-icon",children:jsxRuntimeExports.jsx(Sun,{size:18})}),""]}),jsxRuntimeExports.jsx("div",{className:"crop-body",children:", , , "}),jsxRuntimeExports.jsx("span",{className:"crop-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"crop-item crop-monsoon","data-season":"",onMouseEnter:()=>console.debug("[LandingPage] hover crop",{season:""}),onMouseLeave:()=>console.debug("[LandingPage] leave crop",{season:""}),children:[jsxRuntimeExports.jsxs("div",{className:"crop-title",children:[jsxRuntimeExports.jsx("span",{className:"crop-icon",children:jsxRuntimeExports.jsx(CloudRain,{size:18})}),""]}),jsxRuntimeExports.jsx("div",{className:"crop-body",children:", ,  "}),jsxRuntimeExports.jsx("span",{className:"crop-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"crop-item crop-autumn","data-season":"/",onMouseEnter:()=>console.debug("[LandingPage] hover crop",{season:"/"}),onMouseLeave:()=>console.debug("[LandingPage] leave crop",{season:"/"}),children:[jsxRuntimeExports.jsxs("div",{className:"crop-title",children:[jsxRuntimeExports.jsx("span",{className:"crop-icon",children:jsxRuntimeExports.jsx(Sprout,{size:18})}),"/"]}),jsxRuntimeExports.jsx("div",{className:"crop-body",children:"  ,  "}),jsxRuntimeExports.jsx("span",{className:"crop-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"crop-item crop-winter","data-season":"",onMouseEnter:()=>console.debug("[LandingPage] hover crop",{season:""}),onMouseLeave:()=>console.debug("[LandingPage] leave crop",{season:""}),children:[jsxRuntimeExports.jsxs("div",{className:"crop-title",children:[jsxRuntimeExports.jsx("span",{className:"crop-icon",children:jsxRuntimeExports.jsx(Sprout,{size:18})}),""]}),jsxRuntimeExports.jsx("div",{className:"crop-body",children:", , "}),jsxRuntimeExports.jsx("span",{className:"crop-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"crop-item crop-spring","data-season":"",onMouseEnter:()=>console.debug("[LandingPage] hover crop",{season:""}),onMouseLeave:()=>console.debug("[LandingPage] leave crop",{season:""}),children:[jsxRuntimeExports.jsxs("div",{className:"crop-title",children:[jsxRuntimeExports.jsx("span",{className:"crop-icon",children:jsxRuntimeExports.jsx(Sprout,{size:18})}),""]}),jsxRuntimeExports.jsx("div",{className:"crop-body",children:" "}),jsxRuntimeExports.jsx("span",{className:"crop-fx","aria-hidden":"true"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"economy",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"  "}),jsxRuntimeExports.jsxs("div",{className:"section-content",children:[jsxRuntimeExports.jsx("p",{className:"section-text",children:"                                 ,          "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"            -     ,                       "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"               , ,    -                          "})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"youth",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"   "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"          ,      "}),jsxRuntimeExports.jsxs("div",{className:"landing-features",children:[jsxRuntimeExports.jsxs("div",{className:"feature-card",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(Users,{size:20})}),jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{children:" ,        "})]}),jsxRuntimeExports.jsxs("div",{className:"feature-card",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(ShieldCheck,{size:20})}),jsxRuntimeExports.jsx("h3",{children:"  "}),jsxRuntimeExports.jsx("p",{children:" -        "})]}),jsxRuntimeExports.jsxs("div",{className:"feature-card",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(Megaphone,{size:20})}),jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{children:",         "})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"cuisine",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" "}),jsxRuntimeExports.jsxs("div",{className:"crop-grid",children:[jsxRuntimeExports.jsxs("div",{className:"crop-item crop-winter",children:[jsxRuntimeExports.jsxs("div",{className:"crop-title",children:[jsxRuntimeExports.jsx("span",{className:"crop-icon",children:jsxRuntimeExports.jsx(Sun,{size:18})})," "]}),jsxRuntimeExports.jsx("div",{className:"crop-body",children:" ,     "}),jsxRuntimeExports.jsx("span",{className:"crop-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"crop-item crop-monsoon",children:[jsxRuntimeExports.jsxs("div",{className:"crop-title",children:[jsxRuntimeExports.jsx("span",{className:"crop-icon",children:jsxRuntimeExports.jsx(CloudRain,{size:18})})," "]}),jsxRuntimeExports.jsx("div",{className:"crop-body",children:" ,     "}),jsxRuntimeExports.jsx("span",{className:"crop-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"crop-item crop-summer",children:[jsxRuntimeExports.jsxs("div",{className:"crop-title",children:[jsxRuntimeExports.jsx("span",{className:"crop-icon",children:jsxRuntimeExports.jsx(Sprout,{size:18})})," "]}),jsxRuntimeExports.jsx("div",{className:"crop-body",children:",    "}),jsxRuntimeExports.jsx("span",{className:"crop-fx","aria-hidden":"true"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"smart-services",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"section-text",style:{marginBottom:"2rem"},children:"            "}),jsxRuntimeExports.jsxs("div",{className:"landing-features",children:[jsxRuntimeExports.jsxs("div",{className:"feature-card",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(Wifi,{size:20})}),jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{children:"-      "})]}),jsxRuntimeExports.jsxs("div",{className:"feature-card",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(HeartPulse,{size:20})}),jsxRuntimeExports.jsx("h3",{children:"- "}),jsxRuntimeExports.jsx("p",{children:"    "})]}),jsxRuntimeExports.jsxs("div",{className:"feature-card",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(Monitor,{size:20})}),jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{children:"     "})]}),jsxRuntimeExports.jsxs("div",{className:"feature-card",children:[jsxRuntimeExports.jsx("div",{className:"feature-icon",children:jsxRuntimeExports.jsx(Sprout,{size:20})}),jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{children:"     "})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"institutions",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"   "}),jsxRuntimeExports.jsxs("div",{className:"section-content",style:{marginBottom:"2rem"},children:[jsxRuntimeExports.jsx("p",{className:"section-text",children:'"  "               ,           -          '}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"   ,                              "})]}),jsxRuntimeExports.jsxs("ul",{className:"inst-list",children:[jsxRuntimeExports.jsxs("li",{className:"ui-card card-institutions",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"institutions",item:" "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"institutions",item:" "}),children:[jsxRuntimeExports.jsxs("h5",{children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(BookOpen,{size:18})})," "]}),jsxRuntimeExports.jsx("p",{children:"    "}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-institutions",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"institutions",item:""}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"institutions",item:""}),children:[jsxRuntimeExports.jsxs("h5",{children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(BookOpen,{size:18})}),""]}),jsxRuntimeExports.jsx("p",{children:"    "}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-institutions",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"institutions",item:"/"}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"institutions",item:"/"}),children:[jsxRuntimeExports.jsxs("h5",{children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Landmark,{size:18})}),"/"]}),jsxRuntimeExports.jsx("p",{children:"    "}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-institutions",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"institutions",item:" "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"institutions",item:" "}),children:[jsxRuntimeExports.jsxs("h5",{children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(ShieldCheck,{size:18})})," "]}),jsxRuntimeExports.jsx("p",{children:"    "}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-institutions",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"institutions",item:"-"}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"institutions",item:"-"}),children:[jsxRuntimeExports.jsxs("h5",{children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Megaphone,{size:18})}),"-"]}),jsxRuntimeExports.jsx("p",{children:"    "}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"language",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"  "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"       ,           "})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"crafts",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"  "}),jsxRuntimeExports.jsxs("ul",{className:"why-list",children:[jsxRuntimeExports.jsx("li",{children:"  "}),jsxRuntimeExports.jsx("li",{children:"  -"}),jsxRuntimeExports.jsx("li",{children:",    "})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"people",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"  "}),jsxRuntimeExports.jsxs("div",{className:"notable-grid",children:[jsxRuntimeExports.jsxs("div",{className:"notable-item ui-card card-people",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"people",item:""}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"people",item:""}),onClick:()=>console.log("[LandingPage] click notable: teacher"),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Users,{size:18})}),"  ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"notable-item ui-card card-people",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"people",item:""}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"people",item:""}),onClick:()=>console.log("[LandingPage] click notable: farmer"),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Users,{size:18})}),"  ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"notable-item ui-card card-people",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"people",item:""}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"people",item:""}),onClick:()=>console.log("[LandingPage] click notable: artisan"),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Users,{size:18})})," ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel transparent-panel",id:"community-sphere",ref:qe,onMouseEnter:()=>console.log("[LandingPage] hover community-sphere"),onMouseLeave:()=>console.log("[LandingPage] leave community-sphere"),children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" "}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"360px",overflow:"hidden",padding:"0.5rem 0"},children:[(console.log("[LandingPage] render ImgSphere block",{count:lr.length}),null),lr.length>0?jsxRuntimeExports.jsx(SphereImageGrid,{images:lr,containerSize:320,sphereRadius:150,autoRotate:!0,autoRotateSpeed:.5}):jsxRuntimeExports.jsx("div",{className:"section-text",children:"  ..."})]})]}),jsxRuntimeExports.jsxs("section",{id:"profile",className:"panel",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"   -, , ,     ,         "}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"section-text",children:"Loading info"}),children:jsxRuntimeExports.jsx(InfoGrid,{facts:[{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""},{label:"",value:""}]})})]}),jsxRuntimeExports.jsxs("section",{className:"panel",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"   "}),jsxRuntimeExports.jsxs("ul",{className:"why-list",children:[jsxRuntimeExports.jsxs("li",{className:"ui-card card-why",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"why",item:" "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"why",item:" "}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(ShieldCheck,{size:18})}),"   ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-why",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"why",item:"  "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"why",item:"  "}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(MapPin,{size:18})}),"  ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-why",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"why",item:"  "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"why",item:"  "}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Landmark,{size:18})}),"  ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-why",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"why",item:"  "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"why",item:"  "}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Sprout,{size:18})}),"  ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-why",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"why",item:"   "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"why",item:"   "}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(BookOpen,{size:18})}),"   ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"testimonials",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"  "}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"section-text",children:"Loading testimonials"}),children:jsxRuntimeExports.jsx(Testimonials,{items:[{quote:"      ",author:", "},{quote:"      ",author:", "},{quote:"       ",author:", "}]})})]}),jsxRuntimeExports.jsxs("section",{className:"landing-stats",children:[jsxRuntimeExports.jsxs("div",{className:"stat-card ui-card card-stats",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"stats",item:""}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"stats",item:""}),children:[jsxRuntimeExports.jsxs("div",{className:"stat-value",children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Users,{size:18})}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("span",{children:""}),children:jsxRuntimeExports.jsx(StatsCounter,{value:1403,suffix:""})})]}),jsxRuntimeExports.jsx("div",{className:"stat-label",children:""}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card ui-card card-stats",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"stats",item:" "}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"stats",item:" "}),children:[jsxRuntimeExports.jsxs("div",{className:"stat-value",children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(BookOpen,{size:18})}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("span",{children:""}),children:jsxRuntimeExports.jsx(StatsCounter,{value:3,suffix:"+"})})]}),jsxRuntimeExports.jsx("div",{className:"stat-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"faq",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:""}),jsxRuntimeExports.jsx("div",{className:"section-text",children:"  , ,      "}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"section-text",children:"Loading FAQ"}),children:jsxRuntimeExports.jsx(FaqAccordion,{items:[{question:"  ?",answer:" ,  ,  ,  "},{question:"   ?",answer:"  ;     "},{question:"    ?",answer:",       "},{question:"  ?",answer:"      "}]})})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"contact",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"  "}),jsxRuntimeExports.jsxs("div",{className:"contact-layout",children:[jsxRuntimeExports.jsxs("div",{className:"contact-form-wrapper",children:[jsxRuntimeExports.jsx("p",{className:"section-text",children:"    !   ,       "}),jsxRuntimeExports.jsxs("form",{className:"contact-form",onSubmit:fr=>{fr.preventDefault(),console.log("[LandingPage] contact form submit")},children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"c-name",children:" "}),jsxRuntimeExports.jsx("input",{type:"text",id:"c-name",className:"form-input",placeholder:"  "})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"c-email",children:" "}),jsxRuntimeExports.jsx("input",{type:"email",id:"c-email",className:"form-input",placeholder:" "})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"c-msg",children:" "}),jsxRuntimeExports.jsx("textarea",{id:"c-msg",className:"form-input",rows:"4",placeholder:"  ..."})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary full-width",children:" "})]}),jsxRuntimeExports.jsxs("div",{className:"social-links",children:[jsxRuntimeExports.jsxs("a",{href:"#",className:"social-btn fb",onClick:fr=>fr.preventDefault(),children:[jsxRuntimeExports.jsx(Globe,{size:18,style:{marginRight:"8px"}})," Facebook"]}),jsxRuntimeExports.jsxs("a",{href:"#",className:"social-btn wa",onClick:fr=>fr.preventDefault(),children:[jsxRuntimeExports.jsx(MessageCircle,{size:18,style:{marginRight:"8px"}})," WhatsApp"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"map-wrapper",children:[jsxRuntimeExports.jsx("h3",{className:"section-subtitle",children:" "}),jsxRuntimeExports.jsx("p",{className:"section-text-sm",children:"  , , "}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"section-text",children:"Loading map"}),children:jsxRuntimeExports.jsx(MapBlock,{})})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"culture",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"  "}),jsxRuntimeExports.jsxs("div",{className:"section-content",style:{marginBottom:"2rem"},children:[jsxRuntimeExports.jsx("p",{className:"section-text",children:"           ,   ,                -                 "}),jsxRuntimeExports.jsx("p",{className:"section-text",children:"        -              ,         ,       "})]}),jsxRuntimeExports.jsxs("ul",{className:"why-list",children:[jsxRuntimeExports.jsxs("li",{className:"ui-card card-culture",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"culture",item:""}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"culture",item:""}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Sprout,{size:18})}),jsxRuntimeExports.jsx("a",{href:"#",onClick:fr=>{fr.preventDefault(),console.log("[LandingPage] click culture: folk-song")},children:"  "}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-culture",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"culture",item:""}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"culture",item:""}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Sprout,{size:18})}),jsxRuntimeExports.jsx("a",{href:"#",onClick:fr=>{fr.preventDefault(),console.log("[LandingPage] click culture: nakshi-katha")},children:"  "}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-culture",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"culture",item:" "}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"culture",item:" "}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Sprout,{size:18})}),jsxRuntimeExports.jsx("a",{href:"#",onClick:fr=>{fr.preventDefault(),console.log("[LandingPage] click culture: village-games")},children:" "}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-culture",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"culture",item:""}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"culture",item:""}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Sprout,{size:18})}),jsxRuntimeExports.jsx("a",{href:"#",onClick:fr=>{fr.preventDefault(),console.log("[LandingPage] click culture: festivals")},children:"  "}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"nature",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" "}),jsxRuntimeExports.jsxs("ul",{className:"why-list",children:[jsxRuntimeExports.jsxs("li",{className:"ui-card card-nature",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"nature",item:""}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"nature",item:""}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Sun,{size:18})}),"   ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-nature",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"nature",item:""}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"nature",item:""}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(CloudRain,{size:18})}),",   ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-nature",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"nature",item:""}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"nature",item:""}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(Sun,{size:18})}),",    ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-nature",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"nature",item:""}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"nature",item:""}),children:[jsxRuntimeExports.jsx("span",{className:"ui-card-icon",children:jsxRuntimeExports.jsx(CloudRain,{size:18})}),"    ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"market",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:"- "}),jsxRuntimeExports.jsxs("ul",{className:"step-list",children:[jsxRuntimeExports.jsxs("li",{className:"ui-card card-market",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"market",item:"Mon"}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"market",item:"Mon"}),children:[jsxRuntimeExports.jsx("span",{className:"step-badge",children:"Mon"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{children:""}),jsxRuntimeExports.jsx("p",{children:"      "})]}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-market",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"market",item:"Thu"}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"market",item:"Thu"}),children:[jsxRuntimeExports.jsx("span",{className:"step-badge",children:"Thu"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{children:""}),jsxRuntimeExports.jsx("p",{children:"       "})]}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("li",{className:"ui-card card-market",onMouseEnter:()=>console.log("[LandingPage] hover card",{section:"market",item:"Sat"}),onMouseLeave:()=>console.log("[LandingPage] leave card",{section:"market",item:"Sat"}),children:[jsxRuntimeExports.jsx("span",{className:"step-badge",children:"Sat"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{children:" "}),jsxRuntimeExports.jsx("p",{children:"     "})]}),jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"panel",id:"festival",children:[jsxRuntimeExports.jsx("h2",{className:"section-title",children:" "}),jsxRuntimeExports.jsxs("div",{className:"festival-grid",children:[jsxRuntimeExports.jsxs("div",{className:"festival-item ui-card card-festival",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"festival",item:" "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"festival",item:" "}),children:[" ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"festival-item ui-card card-festival",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"festival",item:" "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"festival",item:" "}),children:[" ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"festival-item ui-card card-festival",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"festival",item:"/  "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"festival",item:"/  "}),children:["/  ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]}),jsxRuntimeExports.jsxs("div",{className:"festival-item ui-card card-festival",onMouseEnter:()=>console.debug("[LandingPage] hover card",{section:"festival",item:"  "}),onMouseLeave:()=>console.debug("[LandingPage] leave card",{section:"festival",item:"  "}),children:["  ",jsxRuntimeExports.jsx("span",{className:"ui-card-fx","aria-hidden":"true"})]})]})]}),jsxRuntimeExports.jsx("footer",{className:"landing-footer",children:jsxRuntimeExports.jsxs("div",{className:"footer-bottom",children:[jsxRuntimeExports.jsx("img",{src:"/_.svg",alt:"  ",className:"footer-logo",onClick:()=>console.log("[LandingPage] footer logo click")}),jsxRuntimeExports.jsx("div",{className:"footer-copy",children:" 2026  "}),jsxRuntimeExports.jsx("div",{className:"footer-meta",children:"  |  "})]})}),jsxRuntimeExports.jsx(FeedbackButton,{})]})})}var EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(Ve){if(typeof Ve!="string")return!1;var $e=EventKeys;return $e.includes(Ve)}var SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function isSvgElementPropKey(Ve){if(typeof Ve!="string")return!1;var $e=SVGElementPropKeys;return $e.includes(Ve)}function isDataAttribute(Ve){return typeof Ve=="string"&&Ve.startsWith("data-")}function svgPropertiesNoEvents(Ve){var $e=Object.entries(Ve).filter(Be=>{var[Ue]=Be;return isSvgElementPropKey(Ue)||isDataAttribute(Ue)});return Object.fromEntries($e)}function svgPropertiesNoEventsFromUnknown(Ve){if(Ve==null)return null;if(reactExports.isValidElement(Ve)&&typeof Ve.props=="object"&&Ve.props!==null){var $e=Ve.props;return svgPropertiesNoEvents($e)}return typeof Ve=="object"&&!Array.isArray(Ve)?svgPropertiesNoEvents(Ve):null}function svgPropertiesAndEvents(Ve){var $e=Object.entries(Ve).filter(Be=>{var[Ue]=Be;return isSvgElementPropKey(Ue)||isDataAttribute(Ue)||isEventKey(Ue)});return Object.fromEntries($e)}function svgPropertiesAndEventsFromUnknown(Ve){return Ve==null?null:reactExports.isValidElement(Ve)?svgPropertiesAndEvents(Ve.props):typeof Ve=="object"&&!Array.isArray(Ve)?svgPropertiesAndEvents(Ve):null}var _excluded$l=["children","width","height","viewBox","className","style","title","desc"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$q.apply(null,arguments)}function _objectWithoutProperties$l(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$l(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$l(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var Surface=reactExports.forwardRef((Ve,$e)=>{var{children:Be,width:Ue,height:ze,viewBox:qe,className:He,style:We,title:Ge,desc:Ye}=Ve,Xe=_objectWithoutProperties$l(Ve,_excluded$l),Je=qe||{width:Ue,height:ze,x:0,y:0},er=clsx("recharts-surface",He);return reactExports.createElement("svg",_extends$q({},svgPropertiesAndEvents(Xe),{className:er,width:Ue,height:ze,style:We,viewBox:"".concat(Je.x," ").concat(Je.y," ").concat(Je.width," ").concat(Je.height),ref:$e}),reactExports.createElement("title",null,Ge),reactExports.createElement("desc",null,Ye),Be)}),_excluded$k=["children","className"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$p.apply(null,arguments)}function _objectWithoutProperties$k(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$k(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$k(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var Layer=reactExports.forwardRef((Ve,$e)=>{var{children:Be,className:Ue}=Ve,ze=_objectWithoutProperties$k(Ve,_excluded$k),qe=clsx("recharts-layer",Ue);return reactExports.createElement("g",_extends$p({className:qe},svgPropertiesAndEvents(ze),{ref:$e}),Be)}),LegendPortalContext=reactExports.createContext(null);function constant$1(Ve){return function(){return Ve}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(Ve){this._+=Ve[0];for(let $e=1,Be=Ve.length;$e<Be;++$e)this._+=arguments[$e]+Ve[$e]}function appendRound(Ve){let $e=Math.floor(Ve);if(!($e>=0))throw new Error(`invalid digits: ${Ve}`);if($e>15)return append;const Be=10**$e;return function(Ue){this._+=Ue[0];for(let ze=1,qe=Ue.length;ze<qe;++ze)this._+=Math.round(arguments[ze]*Be)/Be+Ue[ze]}}class Path{constructor($e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=$e==null?append:appendRound($e)}moveTo($e,Be){this._append`M${this._x0=this._x1=+$e},${this._y0=this._y1=+Be}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo($e,Be){this._append`L${this._x1=+$e},${this._y1=+Be}`}quadraticCurveTo($e,Be,Ue,ze){this._append`Q${+$e},${+Be},${this._x1=+Ue},${this._y1=+ze}`}bezierCurveTo($e,Be,Ue,ze,qe,He){this._append`C${+$e},${+Be},${+Ue},${+ze},${this._x1=+qe},${this._y1=+He}`}arcTo($e,Be,Ue,ze,qe){if($e=+$e,Be=+Be,Ue=+Ue,ze=+ze,qe=+qe,qe<0)throw new Error(`negative radius: ${qe}`);let He=this._x1,We=this._y1,Ge=Ue-$e,Ye=ze-Be,Xe=He-$e,Je=We-Be,er=Xe*Xe+Je*Je;if(this._x1===null)this._append`M${this._x1=$e},${this._y1=Be}`;else if(er>epsilon)if(!(Math.abs(Je*Ge-Ye*Xe)>epsilon)||!qe)this._append`L${this._x1=$e},${this._y1=Be}`;else{let Ze=Ue-He,rr=ze-We,nr=Ge*Ge+Ye*Ye,ar=Ze*Ze+rr*rr,sr=Math.sqrt(nr),lr=Math.sqrt(er),or=qe*Math.tan((pi-Math.acos((nr+er-ar)/(2*sr*lr)))/2),cr=or/lr,hr=or/sr;Math.abs(cr-1)>epsilon&&this._append`L${$e+cr*Xe},${Be+cr*Je}`,this._append`A${qe},${qe},0,0,${+(Je*Ze>Xe*rr)},${this._x1=$e+hr*Ge},${this._y1=Be+hr*Ye}`}}arc($e,Be,Ue,ze,qe,He){if($e=+$e,Be=+Be,Ue=+Ue,He=!!He,Ue<0)throw new Error(`negative radius: ${Ue}`);let We=Ue*Math.cos(ze),Ge=Ue*Math.sin(ze),Ye=$e+We,Xe=Be+Ge,Je=1^He,er=He?ze-qe:qe-ze;this._x1===null?this._append`M${Ye},${Xe}`:(Math.abs(this._x1-Ye)>epsilon||Math.abs(this._y1-Xe)>epsilon)&&this._append`L${Ye},${Xe}`,Ue&&(er<0&&(er=er%tau+tau),er>tauEpsilon?this._append`A${Ue},${Ue},0,1,${Je},${$e-We},${Be-Ge}A${Ue},${Ue},0,1,${Je},${this._x1=Ye},${this._y1=Xe}`:er>epsilon&&this._append`A${Ue},${Ue},0,${+(er>=pi)},${Je},${this._x1=$e+Ue*Math.cos(qe)},${this._y1=Be+Ue*Math.sin(qe)}`)}rect($e,Be,Ue,ze){this._append`M${this._x0=this._x1=+$e},${this._y0=this._y1=+Be}h${Ue=+Ue}v${+ze}h${-Ue}Z`}toString(){return this._}}function withPath(Ve){let $e=3;return Ve.digits=function(Be){if(!arguments.length)return $e;if(Be==null)$e=null;else{const Ue=Math.floor(Be);if(!(Ue>=0))throw new RangeError(`invalid digits: ${Be}`);$e=Ue}return Ve},()=>new Path($e)}function array(Ve){return typeof Ve=="object"&&"length"in Ve?Ve:Array.from(Ve)}function Linear(Ve){this._context=Ve}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ve,$e){switch(Ve=+Ve,$e=+$e,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ve,$e):this._context.moveTo(Ve,$e);break;case 1:this._point=2;default:this._context.lineTo(Ve,$e);break}}};function curveLinear(Ve){return new Linear(Ve)}function x$2(Ve){return Ve[0]}function y$1(Ve){return Ve[1]}function shapeLine(Ve,$e){var Be=constant$1(!0),Ue=null,ze=curveLinear,qe=null,He=withPath(We);Ve=typeof Ve=="function"?Ve:Ve===void 0?x$2:constant$1(Ve),$e=typeof $e=="function"?$e:$e===void 0?y$1:constant$1($e);function We(Ge){var Ye,Xe=(Ge=array(Ge)).length,Je,er=!1,Ze;for(Ue==null&&(qe=ze(Ze=He())),Ye=0;Ye<=Xe;++Ye)!(Ye<Xe&&Be(Je=Ge[Ye],Ye,Ge))===er&&((er=!er)?qe.lineStart():qe.lineEnd()),er&&qe.point(+Ve(Je,Ye,Ge),+$e(Je,Ye,Ge));if(Ze)return qe=null,Ze+""||null}return We.x=function(Ge){return arguments.length?(Ve=typeof Ge=="function"?Ge:constant$1(+Ge),We):Ve},We.y=function(Ge){return arguments.length?($e=typeof Ge=="function"?Ge:constant$1(+Ge),We):$e},We.defined=function(Ge){return arguments.length?(Be=typeof Ge=="function"?Ge:constant$1(!!Ge),We):Be},We.curve=function(Ge){return arguments.length?(ze=Ge,Ue!=null&&(qe=ze(Ue)),We):ze},We.context=function(Ge){return arguments.length?(Ge==null?Ue=qe=null:qe=ze(Ue=Ge),We):Ue},We}function shapeArea(Ve,$e,Be){var Ue=null,ze=constant$1(!0),qe=null,He=curveLinear,We=null,Ge=withPath(Ye);Ve=typeof Ve=="function"?Ve:Ve===void 0?x$2:constant$1(+Ve),$e=typeof $e=="function"?$e:constant$1($e===void 0?0:+$e),Be=typeof Be=="function"?Be:Be===void 0?y$1:constant$1(+Be);function Ye(Je){var er,Ze,rr,nr=(Je=array(Je)).length,ar,sr=!1,lr,or=new Array(nr),cr=new Array(nr);for(qe==null&&(We=He(lr=Ge())),er=0;er<=nr;++er){if(!(er<nr&&ze(ar=Je[er],er,Je))===sr)if(sr=!sr)Ze=er,We.areaStart(),We.lineStart();else{for(We.lineEnd(),We.lineStart(),rr=er-1;rr>=Ze;--rr)We.point(or[rr],cr[rr]);We.lineEnd(),We.areaEnd()}sr&&(or[er]=+Ve(ar,er,Je),cr[er]=+$e(ar,er,Je),We.point(Ue?+Ue(ar,er,Je):or[er],Be?+Be(ar,er,Je):cr[er]))}if(lr)return We=null,lr+""||null}function Xe(){return shapeLine().defined(ze).curve(He).context(qe)}return Ye.x=function(Je){return arguments.length?(Ve=typeof Je=="function"?Je:constant$1(+Je),Ue=null,Ye):Ve},Ye.x0=function(Je){return arguments.length?(Ve=typeof Je=="function"?Je:constant$1(+Je),Ye):Ve},Ye.x1=function(Je){return arguments.length?(Ue=Je==null?null:typeof Je=="function"?Je:constant$1(+Je),Ye):Ue},Ye.y=function(Je){return arguments.length?($e=typeof Je=="function"?Je:constant$1(+Je),Be=null,Ye):$e},Ye.y0=function(Je){return arguments.length?($e=typeof Je=="function"?Je:constant$1(+Je),Ye):$e},Ye.y1=function(Je){return arguments.length?(Be=Je==null?null:typeof Je=="function"?Je:constant$1(+Je),Ye):Be},Ye.lineX0=Ye.lineY0=function(){return Xe().x(Ve).y($e)},Ye.lineY1=function(){return Xe().x(Ve).y(Be)},Ye.lineX1=function(){return Xe().x(Ue).y($e)},Ye.defined=function(Je){return arguments.length?(ze=typeof Je=="function"?Je:constant$1(!!Je),Ye):ze},Ye.curve=function(Je){return arguments.length?(He=Je,qe!=null&&(We=He(qe)),Ye):He},Ye.context=function(Je){return arguments.length?(Je==null?qe=We=null:We=He(qe=Je),Ye):qe},Ye}class Bump{constructor($e,Be){this._context=$e,this._x=Be}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point($e,Be){switch($e=+$e,Be=+Be,this._point){case 0:{this._point=1,this._line?this._context.lineTo($e,Be):this._context.moveTo($e,Be);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+$e)/2,this._y0,this._x0,Be,$e,Be):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+Be)/2,$e,this._y0,$e,Be);break}}this._x0=$e,this._y0=Be}}function bumpX(Ve){return new Bump(Ve,!0)}function bumpY(Ve){return new Bump(Ve,!1)}const symbolCircle={draw(Ve,$e){const Be=sqrt$1($e/pi$1);Ve.moveTo(Be,0),Ve.arc(0,0,Be,0,tau$1)}},symbolCross={draw(Ve,$e){const Be=sqrt$1($e/5)/2;Ve.moveTo(-3*Be,-Be),Ve.lineTo(-Be,-Be),Ve.lineTo(-Be,-3*Be),Ve.lineTo(Be,-3*Be),Ve.lineTo(Be,-Be),Ve.lineTo(3*Be,-Be),Ve.lineTo(3*Be,Be),Ve.lineTo(Be,Be),Ve.lineTo(Be,3*Be),Ve.lineTo(-Be,3*Be),Ve.lineTo(-Be,Be),Ve.lineTo(-3*Be,Be),Ve.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(Ve,$e){const Be=sqrt$1($e/tan30_2),Ue=Be*tan30;Ve.moveTo(0,-Be),Ve.lineTo(Ue,0),Ve.lineTo(0,Be),Ve.lineTo(-Ue,0),Ve.closePath()}},symbolSquare={draw(Ve,$e){const Be=sqrt$1($e),Ue=-Be/2;Ve.rect(Ue,Ue,Be,Be)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(Ve,$e){const Be=sqrt$1($e*ka),Ue=kx*Be,ze=ky*Be;Ve.moveTo(0,-Be),Ve.lineTo(Ue,ze);for(let qe=1;qe<5;++qe){const He=tau$1*qe/5,We=cos(He),Ge=sin(He);Ve.lineTo(Ge*Be,-We*Be),Ve.lineTo(We*Ue-Ge*ze,Ge*Ue+We*ze)}Ve.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(Ve,$e){const Be=-sqrt$1($e/(sqrt3*3));Ve.moveTo(0,Be*2),Ve.lineTo(-sqrt3*Be,-Be),Ve.lineTo(sqrt3*Be,-Be),Ve.closePath()}},c$1=-.5,s$1=sqrt$1(3)/2,k$1=1/sqrt$1(12),a$1=(k$1/2+1)*3,symbolWye={draw(Ve,$e){const Be=sqrt$1($e/a$1),Ue=Be/2,ze=Be*k$1,qe=Ue,He=Be*k$1+Be,We=-qe,Ge=He;Ve.moveTo(Ue,ze),Ve.lineTo(qe,He),Ve.lineTo(We,Ge),Ve.lineTo(c$1*Ue-s$1*ze,s$1*Ue+c$1*ze),Ve.lineTo(c$1*qe-s$1*He,s$1*qe+c$1*He),Ve.lineTo(c$1*We-s$1*Ge,s$1*We+c$1*Ge),Ve.lineTo(c$1*Ue+s$1*ze,c$1*ze-s$1*Ue),Ve.lineTo(c$1*qe+s$1*He,c$1*He-s$1*qe),Ve.lineTo(c$1*We+s$1*Ge,c$1*Ge-s$1*We),Ve.closePath()}};function Symbol$1(Ve,$e){let Be=null,Ue=withPath(ze);Ve=typeof Ve=="function"?Ve:constant$1(Ve||symbolCircle),$e=typeof $e=="function"?$e:constant$1($e===void 0?64:+$e);function ze(){let qe;if(Be||(Be=qe=Ue()),Ve.apply(this,arguments).draw(Be,+$e.apply(this,arguments)),qe)return Be=null,qe+""||null}return ze.type=function(qe){return arguments.length?(Ve=typeof qe=="function"?qe:constant$1(qe),ze):Ve},ze.size=function(qe){return arguments.length?($e=typeof qe=="function"?qe:constant$1(+qe),ze):$e},ze.context=function(qe){return arguments.length?(Be=qe??null,ze):Be},ze}function noop$7(){}function point$2(Ve,$e,Be){Ve._context.bezierCurveTo((2*Ve._x0+Ve._x1)/3,(2*Ve._y0+Ve._y1)/3,(Ve._x0+2*Ve._x1)/3,(Ve._y0+2*Ve._y1)/3,(Ve._x0+4*Ve._x1+$e)/6,(Ve._y0+4*Ve._y1+Be)/6)}function Basis(Ve){this._context=Ve}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ve,$e){switch(Ve=+Ve,$e=+$e,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ve,$e):this._context.moveTo(Ve,$e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,Ve,$e);break}this._x0=this._x1,this._x1=Ve,this._y0=this._y1,this._y1=$e}};function curveBasis(Ve){return new Basis(Ve)}function BasisClosed(Ve){this._context=Ve}BasisClosed.prototype={areaStart:noop$7,areaEnd:noop$7,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Ve,$e){switch(Ve=+Ve,$e=+$e,this._point){case 0:this._point=1,this._x2=Ve,this._y2=$e;break;case 1:this._point=2,this._x3=Ve,this._y3=$e;break;case 2:this._point=3,this._x4=Ve,this._y4=$e,this._context.moveTo((this._x0+4*this._x1+Ve)/6,(this._y0+4*this._y1+$e)/6);break;default:point$2(this,Ve,$e);break}this._x0=this._x1,this._x1=Ve,this._y0=this._y1,this._y1=$e}};function curveBasisClosed(Ve){return new BasisClosed(Ve)}function BasisOpen(Ve){this._context=Ve}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Ve,$e){switch(Ve=+Ve,$e=+$e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Be=(this._x0+4*this._x1+Ve)/6,Ue=(this._y0+4*this._y1+$e)/6;this._line?this._context.lineTo(Be,Ue):this._context.moveTo(Be,Ue);break;case 3:this._point=4;default:point$2(this,Ve,$e);break}this._x0=this._x1,this._x1=Ve,this._y0=this._y1,this._y1=$e}};function curveBasisOpen(Ve){return new BasisOpen(Ve)}function LinearClosed(Ve){this._context=Ve}LinearClosed.prototype={areaStart:noop$7,areaEnd:noop$7,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Ve,$e){Ve=+Ve,$e=+$e,this._point?this._context.lineTo(Ve,$e):(this._point=1,this._context.moveTo(Ve,$e))}};function curveLinearClosed(Ve){return new LinearClosed(Ve)}function sign(Ve){return Ve<0?-1:1}function slope3(Ve,$e,Be){var Ue=Ve._x1-Ve._x0,ze=$e-Ve._x1,qe=(Ve._y1-Ve._y0)/(Ue||ze<0&&-0),He=(Be-Ve._y1)/(ze||Ue<0&&-0),We=(qe*ze+He*Ue)/(Ue+ze);return(sign(qe)+sign(He))*Math.min(Math.abs(qe),Math.abs(He),.5*Math.abs(We))||0}function slope2(Ve,$e){var Be=Ve._x1-Ve._x0;return Be?(3*(Ve._y1-Ve._y0)/Be-$e)/2:$e}function point$1(Ve,$e,Be){var Ue=Ve._x0,ze=Ve._y0,qe=Ve._x1,He=Ve._y1,We=(qe-Ue)/3;Ve._context.bezierCurveTo(Ue+We,ze+We*$e,qe-We,He-We*Be,qe,He)}function MonotoneX(Ve){this._context=Ve}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Ve,$e){var Be=NaN;if(Ve=+Ve,$e=+$e,!(Ve===this._x1&&$e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Ve,$e):this._context.moveTo(Ve,$e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,Be=slope3(this,Ve,$e)),Be);break;default:point$1(this,this._t0,Be=slope3(this,Ve,$e));break}this._x0=this._x1,this._x1=Ve,this._y0=this._y1,this._y1=$e,this._t0=Be}}};function MonotoneY(Ve){this._context=new ReflectContext(Ve)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(Ve,$e){MonotoneX.prototype.point.call(this,$e,Ve)};function ReflectContext(Ve){this._context=Ve}ReflectContext.prototype={moveTo:function(Ve,$e){this._context.moveTo($e,Ve)},closePath:function(){this._context.closePath()},lineTo:function(Ve,$e){this._context.lineTo($e,Ve)},bezierCurveTo:function(Ve,$e,Be,Ue,ze,qe){this._context.bezierCurveTo($e,Ve,Ue,Be,qe,ze)}};function monotoneX(Ve){return new MonotoneX(Ve)}function monotoneY(Ve){return new MonotoneY(Ve)}function Natural(Ve){this._context=Ve}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Ve=this._x,$e=this._y,Be=Ve.length;if(Be)if(this._line?this._context.lineTo(Ve[0],$e[0]):this._context.moveTo(Ve[0],$e[0]),Be===2)this._context.lineTo(Ve[1],$e[1]);else for(var Ue=controlPoints(Ve),ze=controlPoints($e),qe=0,He=1;He<Be;++qe,++He)this._context.bezierCurveTo(Ue[0][qe],ze[0][qe],Ue[1][qe],ze[1][qe],Ve[He],$e[He]);(this._line||this._line!==0&&Be===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(Ve,$e){this._x.push(+Ve),this._y.push(+$e)}};function controlPoints(Ve){var $e,Be=Ve.length-1,Ue,ze=new Array(Be),qe=new Array(Be),He=new Array(Be);for(ze[0]=0,qe[0]=2,He[0]=Ve[0]+2*Ve[1],$e=1;$e<Be-1;++$e)ze[$e]=1,qe[$e]=4,He[$e]=4*Ve[$e]+2*Ve[$e+1];for(ze[Be-1]=2,qe[Be-1]=7,He[Be-1]=8*Ve[Be-1]+Ve[Be],$e=1;$e<Be;++$e)Ue=ze[$e]/qe[$e-1],qe[$e]-=Ue,He[$e]-=Ue*He[$e-1];for(ze[Be-1]=He[Be-1]/qe[Be-1],$e=Be-2;$e>=0;--$e)ze[$e]=(He[$e]-ze[$e+1])/qe[$e];for(qe[Be-1]=(Ve[Be]+ze[Be-1])/2,$e=0;$e<Be-1;++$e)qe[$e]=2*Ve[$e+1]-ze[$e+1];return[ze,qe]}function curveNatural(Ve){return new Natural(Ve)}function Step(Ve,$e){this._context=Ve,this._t=$e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Ve,$e){switch(Ve=+Ve,$e=+$e,this._point){case 0:this._point=1,this._line?this._context.lineTo(Ve,$e):this._context.moveTo(Ve,$e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,$e),this._context.lineTo(Ve,$e);else{var Be=this._x*(1-this._t)+Ve*this._t;this._context.lineTo(Be,this._y),this._context.lineTo(Be,$e)}break}}this._x=Ve,this._y=$e}};function curveStep(Ve){return new Step(Ve,.5)}function stepBefore(Ve){return new Step(Ve,0)}function stepAfter(Ve){return new Step(Ve,1)}function stackOffsetNone(Ve,$e){if((He=Ve.length)>1)for(var Be=1,Ue,ze,qe=Ve[$e[0]],He,We=qe.length;Be<He;++Be)for(ze=qe,qe=Ve[$e[Be]],Ue=0;Ue<We;++Ue)qe[Ue][1]+=qe[Ue][0]=isNaN(ze[Ue][1])?ze[Ue][0]:ze[Ue][1]}function stackOrderNone(Ve){for(var $e=Ve.length,Be=new Array($e);--$e>=0;)Be[$e]=$e;return Be}function stackValue(Ve,$e){return Ve[$e]}function stackSeries(Ve){const $e=[];return $e.key=Ve,$e}function shapeStack(){var Ve=constant$1([]),$e=stackOrderNone,Be=stackOffsetNone,Ue=stackValue;function ze(qe){var He=Array.from(Ve.apply(this,arguments),stackSeries),We,Ge=He.length,Ye=-1,Xe;for(const Je of qe)for(We=0,++Ye;We<Ge;++We)(He[We][Ye]=[0,+Ue(Je,He[We].key,Ye,qe)]).data=Je;for(We=0,Xe=array($e(He));We<Ge;++We)He[Xe[We]].index=We;return Be(He,Xe),He}return ze.keys=function(qe){return arguments.length?(Ve=typeof qe=="function"?qe:constant$1(Array.from(qe)),ze):Ve},ze.value=function(qe){return arguments.length?(Ue=typeof qe=="function"?qe:constant$1(+qe),ze):Ue},ze.order=function(qe){return arguments.length?($e=qe==null?stackOrderNone:typeof qe=="function"?qe:constant$1(Array.from(qe)),ze):$e},ze.offset=function(qe){return arguments.length?(Be=qe??stackOffsetNone,ze):Be},ze}function stackOffsetExpand(Ve,$e){if((Ue=Ve.length)>0){for(var Be,Ue,ze=0,qe=Ve[0].length,He;ze<qe;++ze){for(He=Be=0;Be<Ue;++Be)He+=Ve[Be][ze][1]||0;if(He)for(Be=0;Be<Ue;++Be)Ve[Be][ze][1]/=He}stackOffsetNone(Ve,$e)}}function stackOffsetSilhouette(Ve,$e){if((ze=Ve.length)>0){for(var Be=0,Ue=Ve[$e[0]],ze,qe=Ue.length;Be<qe;++Be){for(var He=0,We=0;He<ze;++He)We+=Ve[He][Be][1]||0;Ue[Be][1]+=Ue[Be][0]=-We/2}stackOffsetNone(Ve,$e)}}function stackOffsetWiggle(Ve,$e){if(!(!((He=Ve.length)>0)||!((qe=(ze=Ve[$e[0]]).length)>0))){for(var Be=0,Ue=1,ze,qe,He;Ue<qe;++Ue){for(var We=0,Ge=0,Ye=0;We<He;++We){for(var Xe=Ve[$e[We]],Je=Xe[Ue][1]||0,er=Xe[Ue-1][1]||0,Ze=(Je-er)/2,rr=0;rr<We;++rr){var nr=Ve[$e[rr]],ar=nr[Ue][1]||0,sr=nr[Ue-1][1]||0;Ze+=ar-sr}Ge+=Je,Ye+=Ze*Je}ze[Ue-1][1]+=ze[Ue-1][0]=Be,Ge&&(Be-=Ye/Ge)}ze[Ue-1][1]+=ze[Ue-1][0]=Be,stackOffsetNone(Ve,$e)}}var get$3={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return Be==="__proto__"}Ve.isUnsafeProperty=$e})(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){switch(typeof Be){case"number":case"symbol":return!1;case"string":return Be.includes(".")||Be.includes("[")||Be.includes("]")}}Ve.isDeepKey=$e})(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return typeof Be=="string"||typeof Be=="symbol"?Be:Object.is(Be?.valueOf?.(),-0)?"-0":String(Be)}Ve.toKey=$e})(toKey)),toKey}var toPath={},toString$2={},hasRequiredToString;function requireToString(){return hasRequiredToString||(hasRequiredToString=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){if(Be==null)return"";if(typeof Be=="string")return Be;if(Array.isArray(Be))return Be.map($e).join(",");const Ue=String(Be);return Ue==="0"&&Object.is(Number(Be),-0)?"-0":Ue}Ve.toString=$e})(toString$2)),toString$2}var hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireToString(),Be=requireToKey();function Ue(ze){if(Array.isArray(ze))return ze.map(Be.toKey);if(typeof ze=="symbol")return[ze];ze=$e.toString(ze);const qe=[],He=ze.length;if(He===0)return qe;let We=0,Ge="",Ye="",Xe=!1;for(ze.charCodeAt(0)===46&&(qe.push(""),We++);We<He;){const Je=ze[We];Ye?Je==="\\"&&We+1<He?(We++,Ge+=ze[We]):Je===Ye?Ye="":Ge+=Je:Xe?Je==='"'||Je==="'"?Ye=Je:Je==="]"?(Xe=!1,qe.push(Ge),Ge=""):Ge+=Je:Je==="["?(Xe=!0,Ge&&(qe.push(Ge),Ge="")):Je==="."?Ge&&(qe.push(Ge),Ge=""):Ge+=Je,We++}return Ge&&qe.push(Ge),qe}Ve.toPath=Ue})(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsUnsafeProperty(),Be=requireIsDeepKey(),Ue=requireToKey(),ze=requireToPath();function qe(We,Ge,Ye){if(We==null)return Ye;switch(typeof Ge){case"string":{if($e.isUnsafeProperty(Ge))return Ye;const Xe=We[Ge];return Xe===void 0?Be.isDeepKey(Ge)?qe(We,ze.toPath(Ge),Ye):Ye:Xe}case"number":case"symbol":{typeof Ge=="number"&&(Ge=Ue.toKey(Ge));const Xe=We[Ge];return Xe===void 0?Ye:Xe}default:{if(Array.isArray(Ge))return He(We,Ge,Ye);if(Object.is(Ge?.valueOf(),-0)?Ge="-0":Ge=String(Ge),$e.isUnsafeProperty(Ge))return Ye;const Xe=We[Ge];return Xe===void 0?Ye:Xe}}}function He(We,Ge,Ye){if(Ge.length===0)return Ye;let Xe=We;for(let Je=0;Je<Ge.length;Je++){if(Xe==null||$e.isUnsafeProperty(Ge[Je]))return Ye;Xe=Xe[Ge[Je]]}return Xe===void 0?Ye:Xe}Ve.get=qe})(get$3)),get$3}var get$2,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$2=requireGet$1().get),get$2}var getExports=requireGet();const get$1=getDefaultExportFromCjs(getExports);var mathSign=Ve=>Ve===0?0:Ve>0?1:-1,isNan=Ve=>typeof Ve=="number"&&Ve!=+Ve,isPercent=Ve=>typeof Ve=="string"&&Ve.indexOf("%")===Ve.length-1,isNumber=Ve=>(typeof Ve=="number"||Ve instanceof Number)&&!isNan(Ve),isNumOrStr=Ve=>isNumber(Ve)||typeof Ve=="string",idCounter=0,uniqueId=Ve=>{var $e=++idCounter;return"".concat(Ve||"").concat($e)},getPercentValue=function Ve($e,Be){var Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber($e)&&typeof $e!="string")return Ue;var qe;if(isPercent($e)){if(Be==null)return Ue;var He=$e.indexOf("%");qe=Be*parseFloat($e.slice(0,He))/100}else qe=+$e;return isNan(qe)&&(qe=Ue),ze&&Be!=null&&qe>Be&&(qe=Be),qe},hasDuplicate=Ve=>{if(!Array.isArray(Ve))return!1;for(var $e=Ve.length,Be={},Ue=0;Ue<$e;Ue++)if(!Be[Ve[Ue]])Be[Ve[Ue]]=!0;else return!0;return!1};function interpolate$1(Ve,$e,Be){return isNumber(Ve)&&isNumber($e)?Ve+Be*($e-Ve):$e}function findEntryInArray(Ve,$e,Be){if(!(!Ve||!Ve.length))return Ve.find(Ue=>Ue&&(typeof $e=="function"?$e(Ue):get$1(Ue,$e))===Be)}var isNullish=Ve=>Ve===null||typeof Ve>"u",upperFirst=Ve=>isNullish(Ve)?Ve:"".concat(Ve.charAt(0).toUpperCase()).concat(Ve.slice(1)),_excluded$j=["type","size","sizeType"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$o.apply(null,arguments)}function ownKeys$A(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$z(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$A(Object(Be),!0).forEach(function(Ue){_defineProperty$B(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$A(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$B(Ve,$e,Be){return($e=_toPropertyKey$B($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$B(Ve){var $e=_toPrimitive$B(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$B(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _objectWithoutProperties$j(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$j(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$j(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=Ve=>{var $e="symbol".concat(upperFirst(Ve));return symbolFactories[$e]||symbolCircle},calculateAreaSize=(Ve,$e,Be)=>{if($e==="area")return Ve;switch(Be){case"cross":return 5*Ve*Ve/9;case"diamond":return .5*Ve*Ve/Math.sqrt(3);case"square":return Ve*Ve;case"star":{var Ue=18*RADIAN$1;return 1.25*Ve*Ve*(Math.tan(Ue)-Math.tan(Ue*2)*Math.tan(Ue)**2)}case"triangle":return Math.sqrt(3)*Ve*Ve/4;case"wye":return(21-10*Math.sqrt(3))*Ve*Ve/8;default:return Math.PI*Ve*Ve/4}},registerSymbol=(Ve,$e)=>{symbolFactories["symbol".concat(upperFirst(Ve))]=$e},Symbols=Ve=>{var{type:$e="circle",size:Be=64,sizeType:Ue="area"}=Ve,ze=_objectWithoutProperties$j(Ve,_excluded$j),qe=_objectSpread$z(_objectSpread$z({},ze),{},{type:$e,size:Be,sizeType:Ue}),He="circle";typeof $e=="string"&&(He=$e);var We=()=>{var er=getSymbolFactory(He),Ze=Symbol$1().type(er).size(calculateAreaSize(Be,Ue,He)),rr=Ze();if(rr!==null)return rr},{className:Ge,cx:Ye,cy:Xe}=qe,Je=svgPropertiesAndEvents(qe);return Ye===+Ye&&Xe===+Xe&&Be===+Be?reactExports.createElement("path",_extends$o({},Je,{className:clsx("recharts-symbols",Ge),transform:"translate(".concat(Ye,", ").concat(Xe,")"),d:We()})):null};Symbols.registerSymbol=registerSymbol;var adaptEventHandlers=(Ve,$e)=>{if(!Ve||typeof Ve=="function"||typeof Ve=="boolean")return null;var Be=Ve;if(reactExports.isValidElement(Ve)&&(Be=Ve.props),typeof Be!="object"&&typeof Be!="function")return null;var Ue={};return Object.keys(Be).forEach(ze=>{isEventKey(ze)&&(Ue[ze]=(qe=>Be[ze](Be,qe)))}),Ue},getEventHandlerOfChild=(Ve,$e,Be)=>Ue=>(Ve($e,Be,Ue),null),adaptEventsOfChild=(Ve,$e,Be)=>{if(Ve===null||typeof Ve!="object"&&typeof Ve!="function")return null;var Ue=null;return Object.keys(Ve).forEach(ze=>{var qe=Ve[ze];isEventKey(ze)&&typeof qe=="function"&&(Ue||(Ue={}),Ue[ze]=getEventHandlerOfChild(qe,$e,Be))}),Ue},uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be,Ue){const ze=new Map;for(let qe=0;qe<Be.length;qe++){const He=Be[qe],We=Ue(He);ze.has(We)||ze.set(We,He)}return Array.from(ze.values())}Ve.uniqBy=$e})(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return Be}Ve.identity=$e})(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return Number.isSafeInteger(Be)&&Be>=0}Ve.isLength=$e})(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsLength();function Be(Ue){return Ue!=null&&typeof Ue!="function"&&$e.isLength(Ue.length)}Ve.isArrayLike=Be})(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return typeof Be=="object"&&Be!==null}Ve.isObjectLike=$e})(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsArrayLike(),Be=requireIsObjectLike();function Ue(ze){return Be.isObjectLike(ze)&&$e.isArrayLike(ze)}Ve.isArrayLikeObject=Ue})(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireGet$1();function Be(Ue){return function(ze){return $e.get(ze,Ue)}}Ve.property=Be})(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return Be!==null&&(typeof Be=="object"||typeof Be=="function")}Ve.isObject=$e})(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return Be==null||typeof Be!="object"&&typeof Be!="function"}Ve.isPrimitive=$e})(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be,Ue){return Be===Ue||Number.isNaN(Be)&&Number.isNaN(Ue)}Ve.eq=$e})(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsObject(),Be=requireIsPrimitive(),Ue=requireEq();function ze(Xe,Je,er){return typeof er!="function"?ze(Xe,Je,()=>{}):qe(Xe,Je,function Ze(rr,nr,ar,sr,lr,or){const cr=er(rr,nr,ar,sr,lr,or);return cr!==void 0?!!cr:qe(rr,nr,Ze,or)},new Map)}function qe(Xe,Je,er,Ze){if(Je===Xe)return!0;switch(typeof Je){case"object":return He(Xe,Je,er,Ze);case"function":return Object.keys(Je).length>0?qe(Xe,{...Je},er,Ze):Ue.eq(Xe,Je);default:return $e.isObject(Xe)?typeof Je=="string"?Je==="":!0:Ue.eq(Xe,Je)}}function He(Xe,Je,er,Ze){if(Je==null)return!0;if(Array.isArray(Je))return Ge(Xe,Je,er,Ze);if(Je instanceof Map)return We(Xe,Je,er,Ze);if(Je instanceof Set)return Ye(Xe,Je,er,Ze);const rr=Object.keys(Je);if(Xe==null)return rr.length===0;if(rr.length===0)return!0;if(Ze?.has(Je))return Ze.get(Je)===Xe;Ze?.set(Je,Xe);try{for(let nr=0;nr<rr.length;nr++){const ar=rr[nr];if(!Be.isPrimitive(Xe)&&!(ar in Xe)||Je[ar]===void 0&&Xe[ar]!==void 0||Je[ar]===null&&Xe[ar]!==null||!er(Xe[ar],Je[ar],ar,Xe,Je,Ze))return!1}return!0}finally{Ze?.delete(Je)}}function We(Xe,Je,er,Ze){if(Je.size===0)return!0;if(!(Xe instanceof Map))return!1;for(const[rr,nr]of Je.entries()){const ar=Xe.get(rr);if(er(ar,nr,rr,Xe,Je,Ze)===!1)return!1}return!0}function Ge(Xe,Je,er,Ze){if(Je.length===0)return!0;if(!Array.isArray(Xe))return!1;const rr=new Set;for(let nr=0;nr<Je.length;nr++){const ar=Je[nr];let sr=!1;for(let lr=0;lr<Xe.length;lr++){if(rr.has(lr))continue;const or=Xe[lr];let cr=!1;if(er(or,ar,nr,Xe,Je,Ze)&&(cr=!0),cr){rr.add(lr),sr=!0;break}}if(!sr)return!1}return!0}function Ye(Xe,Je,er,Ze){return Je.size===0?!0:Xe instanceof Set?Ge([...Xe],[...Je],er,Ze):!1}Ve.isMatchWith=ze,Ve.isSetMatch=Ye})(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsMatchWith();function Be(Ue,ze){return $e.isMatchWith(Ue,ze,()=>{})}Ve.isMatch=Be})(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return Object.getOwnPropertySymbols(Be).filter(Ue=>Object.prototype.propertyIsEnumerable.call(Be,Ue))}Ve.getSymbols=$e})(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return Be==null?Be===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(Be)}Ve.getTag=$e})(getTag)),getTag}var tags={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e="[object RegExp]",Be="[object String]",Ue="[object Number]",ze="[object Boolean]",qe="[object Arguments]",He="[object Symbol]",We="[object Date]",Ge="[object Map]",Ye="[object Set]",Xe="[object Array]",Je="[object Function]",er="[object ArrayBuffer]",Ze="[object Object]",rr="[object Error]",nr="[object DataView]",ar="[object Uint8Array]",sr="[object Uint8ClampedArray]",lr="[object Uint16Array]",or="[object Uint32Array]",cr="[object BigUint64Array]",hr="[object Int8Array]",yr="[object Int16Array]",mr="[object Int32Array]",vr="[object BigInt64Array]",_r="[object Float32Array]",Cr="[object Float64Array]";Ve.argumentsTag=qe,Ve.arrayBufferTag=er,Ve.arrayTag=Xe,Ve.bigInt64ArrayTag=vr,Ve.bigUint64ArrayTag=cr,Ve.booleanTag=ze,Ve.dataViewTag=nr,Ve.dateTag=We,Ve.errorTag=rr,Ve.float32ArrayTag=_r,Ve.float64ArrayTag=Cr,Ve.functionTag=Je,Ve.int16ArrayTag=yr,Ve.int32ArrayTag=mr,Ve.int8ArrayTag=hr,Ve.mapTag=Ge,Ve.numberTag=Ue,Ve.objectTag=Ze,Ve.regexpTag=$e,Ve.setTag=Ye,Ve.stringTag=Be,Ve.symbolTag=He,Ve.uint16ArrayTag=lr,Ve.uint32ArrayTag=or,Ve.uint8ArrayTag=ar,Ve.uint8ClampedArrayTag=sr})(tags)),tags}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return ArrayBuffer.isView(Be)&&!(Be instanceof DataView)}Ve.isTypedArray=$e})(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireGetSymbols(),Be=requireGetTag(),Ue=requireTags(),ze=requireIsPrimitive(),qe=requireIsTypedArray();function He(Xe,Je){return We(Xe,void 0,Xe,new Map,Je)}function We(Xe,Je,er,Ze=new Map,rr=void 0){const nr=rr?.(Xe,Je,er,Ze);if(nr!==void 0)return nr;if(ze.isPrimitive(Xe))return Xe;if(Ze.has(Xe))return Ze.get(Xe);if(Array.isArray(Xe)){const ar=new Array(Xe.length);Ze.set(Xe,ar);for(let sr=0;sr<Xe.length;sr++)ar[sr]=We(Xe[sr],sr,er,Ze,rr);return Object.hasOwn(Xe,"index")&&(ar.index=Xe.index),Object.hasOwn(Xe,"input")&&(ar.input=Xe.input),ar}if(Xe instanceof Date)return new Date(Xe.getTime());if(Xe instanceof RegExp){const ar=new RegExp(Xe.source,Xe.flags);return ar.lastIndex=Xe.lastIndex,ar}if(Xe instanceof Map){const ar=new Map;Ze.set(Xe,ar);for(const[sr,lr]of Xe)ar.set(sr,We(lr,sr,er,Ze,rr));return ar}if(Xe instanceof Set){const ar=new Set;Ze.set(Xe,ar);for(const sr of Xe)ar.add(We(sr,void 0,er,Ze,rr));return ar}if(typeof Buffer<"u"&&Buffer.isBuffer(Xe))return Xe.subarray();if(qe.isTypedArray(Xe)){const ar=new(Object.getPrototypeOf(Xe)).constructor(Xe.length);Ze.set(Xe,ar);for(let sr=0;sr<Xe.length;sr++)ar[sr]=We(Xe[sr],sr,er,Ze,rr);return ar}if(Xe instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&Xe instanceof SharedArrayBuffer)return Xe.slice(0);if(Xe instanceof DataView){const ar=new DataView(Xe.buffer.slice(0),Xe.byteOffset,Xe.byteLength);return Ze.set(Xe,ar),Ge(ar,Xe,er,Ze,rr),ar}if(typeof File<"u"&&Xe instanceof File){const ar=new File([Xe],Xe.name,{type:Xe.type});return Ze.set(Xe,ar),Ge(ar,Xe,er,Ze,rr),ar}if(typeof Blob<"u"&&Xe instanceof Blob){const ar=new Blob([Xe],{type:Xe.type});return Ze.set(Xe,ar),Ge(ar,Xe,er,Ze,rr),ar}if(Xe instanceof Error){const ar=new Xe.constructor;return Ze.set(Xe,ar),ar.message=Xe.message,ar.name=Xe.name,ar.stack=Xe.stack,ar.cause=Xe.cause,Ge(ar,Xe,er,Ze,rr),ar}if(Xe instanceof Boolean){const ar=new Boolean(Xe.valueOf());return Ze.set(Xe,ar),Ge(ar,Xe,er,Ze,rr),ar}if(Xe instanceof Number){const ar=new Number(Xe.valueOf());return Ze.set(Xe,ar),Ge(ar,Xe,er,Ze,rr),ar}if(Xe instanceof String){const ar=new String(Xe.valueOf());return Ze.set(Xe,ar),Ge(ar,Xe,er,Ze,rr),ar}if(typeof Xe=="object"&&Ye(Xe)){const ar=Object.create(Object.getPrototypeOf(Xe));return Ze.set(Xe,ar),Ge(ar,Xe,er,Ze,rr),ar}return Xe}function Ge(Xe,Je,er=Xe,Ze,rr){const nr=[...Object.keys(Je),...$e.getSymbols(Je)];for(let ar=0;ar<nr.length;ar++){const sr=nr[ar],lr=Object.getOwnPropertyDescriptor(Xe,sr);(lr==null||lr.writable)&&(Xe[sr]=We(Je[sr],sr,er,Ze,rr))}}function Ye(Xe){switch(Be.getTag(Xe)){case Ue.argumentsTag:case Ue.arrayTag:case Ue.arrayBufferTag:case Ue.dataViewTag:case Ue.booleanTag:case Ue.dateTag:case Ue.float32ArrayTag:case Ue.float64ArrayTag:case Ue.int8ArrayTag:case Ue.int16ArrayTag:case Ue.int32ArrayTag:case Ue.mapTag:case Ue.numberTag:case Ue.objectTag:case Ue.regexpTag:case Ue.setTag:case Ue.stringTag:case Ue.symbolTag:case Ue.uint8ArrayTag:case Ue.uint8ClampedArrayTag:case Ue.uint16ArrayTag:case Ue.uint32ArrayTag:return!0;default:return!1}}Ve.cloneDeepWith=He,Ve.cloneDeepWithImpl=We,Ve.copyProperties=Ge})(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireCloneDeepWith$1();function Be(Ue){return $e.cloneDeepWithImpl(Ue,void 0,Ue,new Map,void 0)}Ve.cloneDeep=Be})(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsMatch(),Be=requireCloneDeep$1();function Ue(ze){return ze=Be.cloneDeep(ze),qe=>$e.isMatch(qe,ze)}Ve.matches=Ue})(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireCloneDeepWith$1(),Be=requireTags();function Ue(ze,qe){return $e.cloneDeepWith(ze,(He,We,Ge,Ye)=>{const Xe=qe?.(He,We,Ge,Ye);if(Xe!==void 0)return Xe;if(typeof ze=="object")switch(Object.prototype.toString.call(ze)){case Be.numberTag:case Be.stringTag:case Be.booleanTag:{const Je=new ze.constructor(ze?.valueOf());return $e.copyProperties(Je,ze),Je}case Be.argumentsTag:{const Je={};return $e.copyProperties(Je,ze),Je.length=ze.length,Je[Symbol.iterator]=ze[Symbol.iterator],Je}default:return}})}Ve.cloneDeepWith=Ue})(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireCloneDeepWith();function Be(Ue){return $e.cloneDeepWith(Ue)}Ve.cloneDeep=Be})(cloneDeep)),cloneDeep}var has$1={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=/^(?:0|[1-9]\d*)$/;function Be(Ue,ze=Number.MAX_SAFE_INTEGER){switch(typeof Ue){case"number":return Number.isInteger(Ue)&&Ue>=0&&Ue<ze;case"symbol":return!1;case"string":return $e.test(Ue)}}Ve.isIndex=Be})(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireGetTag();function Be(Ue){return Ue!==null&&typeof Ue=="object"&&$e.getTag(Ue)==="[object Arguments]"}Ve.isArguments=Be})(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsDeepKey(),Be=requireIsIndex(),Ue=requireIsArguments(),ze=requireToPath();function qe(He,We){let Ge;if(Array.isArray(We)?Ge=We:typeof We=="string"&&$e.isDeepKey(We)&&He?.[We]==null?Ge=ze.toPath(We):Ge=[We],Ge.length===0)return!1;let Ye=He;for(let Xe=0;Xe<Ge.length;Xe++){const Je=Ge[Xe];if((Ye==null||!Object.hasOwn(Ye,Je))&&!((Array.isArray(Ye)||Ue.isArguments(Ye))&&Be.isIndex(Je)&&Je<Ye.length))return!1;Ye=Ye[Je]}return!0}Ve.has=qe})(has$1)),has$1}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsMatch(),Be=requireToKey(),Ue=requireCloneDeep(),ze=requireGet$1(),qe=requireHas();function He(We,Ge){switch(typeof We){case"object":{Object.is(We?.valueOf(),-0)&&(We="-0");break}case"number":{We=Be.toKey(We);break}}return Ge=Ue.cloneDeep(Ge),function(Ye){const Xe=ze.get(Ye,We);return Xe===void 0?qe.has(Ye,We):Ge===void 0?Xe===void 0:$e.isMatch(Xe,Ge)}}Ve.matchesProperty=He})(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIdentity(),Be=requireProperty(),Ue=requireMatches(),ze=requireMatchesProperty();function qe(He){if(He==null)return $e.identity;switch(typeof He){case"function":return He;case"object":return Array.isArray(He)&&He.length===2?ze.matchesProperty(He[0],He[1]):Ue.matches(He);case"string":case"symbol":case"number":return Be.property(He)}}Ve.iteratee=qe})(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireUniqBy$2(),Be=requireIdentity(),Ue=requireIsArrayLikeObject(),ze=requireIteratee();function qe(He,We=Be.identity){return Ue.isArrayLikeObject(He)?$e.uniqBy(Array.from(He),ze.iteratee(We)):[]}Ve.uniqBy=qe})(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(Ve,$e,Be){return $e===!0?uniqBy(Ve,Be):typeof $e=="function"?uniqBy(Ve,$e):Ve}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var Ve=requireReact();function $e(Je,er){return Je===er&&(Je!==0||1/Je===1/er)||Je!==Je&&er!==er}var Be=typeof Object.is=="function"?Object.is:$e,Ue=Ve.useState,ze=Ve.useEffect,qe=Ve.useLayoutEffect,He=Ve.useDebugValue;function We(Je,er){var Ze=er(),rr=Ue({inst:{value:Ze,getSnapshot:er}}),nr=rr[0].inst,ar=rr[1];return qe(function(){nr.value=Ze,nr.getSnapshot=er,Ge(nr)&&ar({inst:nr})},[Je,Ze,er]),ze(function(){return Ge(nr)&&ar({inst:nr}),Je(function(){Ge(nr)&&ar({inst:nr})})},[Je]),He(Ze),Ze}function Ge(Je){var er=Je.getSnapshot;Je=Je.value;try{var Ze=er();return!Be(Je,Ze)}catch{return!0}}function Ye(Je,er){return er()}var Xe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ye:We;return useSyncExternalStoreShim_production.useSyncExternalStore=Ve.useSyncExternalStore!==void 0?Ve.useSyncExternalStore:Xe,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var Ve=requireReact(),$e=requireShim();function Be(Ye,Xe){return Ye===Xe&&(Ye!==0||1/Ye===1/Xe)||Ye!==Ye&&Xe!==Xe}var Ue=typeof Object.is=="function"?Object.is:Be,ze=$e.useSyncExternalStore,qe=Ve.useRef,He=Ve.useEffect,We=Ve.useMemo,Ge=Ve.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(Ye,Xe,Je,er,Ze){var rr=qe(null);if(rr.current===null){var nr={hasValue:!1,value:null};rr.current=nr}else nr=rr.current;rr=We(function(){function sr(yr){if(!lr){if(lr=!0,or=yr,yr=er(yr),Ze!==void 0&&nr.hasValue){var mr=nr.value;if(Ze(mr,yr))return cr=mr}return cr=yr}if(mr=cr,Ue(or,yr))return mr;var vr=er(yr);return Ze!==void 0&&Ze(mr,vr)?(or=yr,mr):(or=yr,cr=vr)}var lr=!1,or,cr,hr=Je===void 0?null:Je;return[function(){return sr(Xe())},hr===null?void 0:function(){return sr(hr())}]},[Xe,Je,er,Ze]);var ar=ze(Ye,rr[0],rr[1]);return He(function(){nr.hasValue=!0,nr.value=ar},[ar]),Ge(ar),ar},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=Ve=>Ve,useAppDispatch=()=>{var Ve=reactExports.useContext(RechartsReduxContext);return Ve?Ve.store.dispatch:noopDispatch},noop$6=()=>{},addNestedSubNoop=()=>noop$6,refEquality=(Ve,$e)=>Ve===$e;function useAppSelector(Ve){var $e=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector($e?$e.subscription.addNestedSub:addNestedSubNoop,$e?$e.store.getState:noop$6,$e?$e.store.getState:noop$6,$e?Ve:noop$6,refEquality)}function assertIsFunction(Ve,$e=`expected a function, instead received ${typeof Ve}`){if(typeof Ve!="function")throw new TypeError($e)}function assertIsObject(Ve,$e=`expected an object, instead received ${typeof Ve}`){if(typeof Ve!="object")throw new TypeError($e)}function assertIsArrayOfFunctions(Ve,$e="expected all items to be functions, instead received the following types: "){if(!Ve.every(Be=>typeof Be=="function")){const Be=Ve.map(Ue=>typeof Ue=="function"?`function ${Ue.name||"unnamed"}()`:typeof Ue).join(", ");throw new TypeError(`${$e}[${Be}]`)}}var ensureIsArray=Ve=>Array.isArray(Ve)?Ve:[Ve];function getDependencies(Ve){const $e=Array.isArray(Ve[0])?Ve[0]:Ve;return assertIsArrayOfFunctions($e,"createSelector expects all input-selectors to be functions, but received the following types: "),$e}function collectInputSelectorResults(Ve,$e){const Be=[],{length:Ue}=Ve;for(let ze=0;ze<Ue;ze++)Be.push(Ve[ze].apply(null,$e));return Be}var StrongRef=class{constructor(Ve){this.value=Ve}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(Ve,$e={}){let Be=createCacheNode();const{resultEqualityCheck:Ue}=$e;let ze,qe=0;function He(){let We=Be;const{length:Ge}=arguments;for(let Je=0,er=Ge;Je<er;Je++){const Ze=arguments[Je];if(typeof Ze=="function"||typeof Ze=="object"&&Ze!==null){let rr=We.o;rr===null&&(We.o=rr=new WeakMap);const nr=rr.get(Ze);nr===void 0?(We=createCacheNode(),rr.set(Ze,We)):We=nr}else{let rr=We.p;rr===null&&(We.p=rr=new Map);const nr=rr.get(Ze);nr===void 0?(We=createCacheNode(),rr.set(Ze,We)):We=nr}}const Ye=We;let Xe;if(We.s===TERMINATED)Xe=We.v;else if(Xe=Ve.apply(null,arguments),qe++,Ue){const Je=ze?.deref?.()??ze;Je!=null&&Ue(Je,Xe)&&(Xe=Je,qe!==0&&qe--),ze=typeof Xe=="object"&&Xe!==null||typeof Xe=="function"?new Ref(Xe):Xe}return Ye.s=TERMINATED,Ye.v=Xe,Xe}return He.clearCache=()=>{Be=createCacheNode(),He.resetResultsCount()},He.resultsCount=()=>qe,He.resetResultsCount=()=>{qe=0},He}function createSelectorCreator(Ve,...$e){const Be=typeof Ve=="function"?{memoize:Ve,memoizeOptions:$e}:Ve,Ue=(...ze)=>{let qe=0,He=0,We,Ge={},Ye=ze.pop();typeof Ye=="object"&&(Ge=Ye,Ye=ze.pop()),assertIsFunction(Ye,`createSelector expects an output function after the inputs, but received: [${typeof Ye}]`);const Xe={...Be,...Ge},{memoize:Je,memoizeOptions:er=[],argsMemoize:Ze=weakMapMemoize,argsMemoizeOptions:rr=[]}=Xe,nr=ensureIsArray(er),ar=ensureIsArray(rr),sr=getDependencies(ze),lr=Je(function(){return qe++,Ye.apply(null,arguments)},...nr),or=Ze(function(){He++;const hr=collectInputSelectorResults(sr,arguments);return We=lr.apply(null,hr),We},...ar);return Object.assign(or,{resultFunc:Ye,memoizedResultFunc:lr,dependencies:sr,dependencyRecomputations:()=>He,resetDependencyRecomputations:()=>{He=0},lastResult:()=>We,recomputations:()=>qe,resetRecomputations:()=>{qe=0},memoize:Je,argsMemoize:Ze})};return Object.assign(Ue,{withTypes:()=>Ue}),Ue}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((Ve,$e=createSelector)=>{assertIsObject(Ve,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof Ve}`);const Be=Object.keys(Ve),Ue=Be.map(qe=>Ve[qe]);return $e(Ue,(...qe)=>qe.reduce((He,We,Ge)=>(He[Be[Ge]]=We,He),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Ue){return typeof Ue=="symbol"?1:Ue===null?2:Ue===void 0?3:Ue!==Ue?4:0}const Be=(Ue,ze,qe)=>{if(Ue!==ze){const He=$e(Ue),We=$e(ze);if(He===We&&He===0){if(Ue<ze)return qe==="desc"?1:-1;if(Ue>ze)return qe==="desc"?-1:1}return qe==="desc"?We-He:He-We}return 0};Ve.compareValues=Be})(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return typeof Be=="symbol"||Be instanceof Symbol}Ve.isSymbol=$e})(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsSymbol(),Be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ue=/^\w*$/;function ze(qe,He){return Array.isArray(qe)?!1:typeof qe=="number"||typeof qe=="boolean"||qe==null||$e.isSymbol(qe)?!0:typeof qe=="string"&&(Ue.test(qe)||!Be.test(qe))||He!=null&&Object.hasOwn(He,qe)}Ve.isKey=ze})(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireCompareValues(),Be=requireIsKey(),Ue=requireToPath();function ze(qe,He,We,Ge){if(qe==null)return[];We=Ge?void 0:We,Array.isArray(qe)||(qe=Object.values(qe)),Array.isArray(He)||(He=He==null?[null]:[He]),He.length===0&&(He=[null]),Array.isArray(We)||(We=We==null?[]:[We]),We=We.map(Ze=>String(Ze));const Ye=(Ze,rr)=>{let nr=Ze;for(let ar=0;ar<rr.length&&nr!=null;++ar)nr=nr[rr[ar]];return nr},Xe=(Ze,rr)=>rr==null||Ze==null?rr:typeof Ze=="object"&&"key"in Ze?Object.hasOwn(rr,Ze.key)?rr[Ze.key]:Ye(rr,Ze.path):typeof Ze=="function"?Ze(rr):Array.isArray(Ze)?Ye(rr,Ze):typeof rr=="object"?rr[Ze]:rr,Je=He.map(Ze=>(Array.isArray(Ze)&&Ze.length===1&&(Ze=Ze[0]),Ze==null||typeof Ze=="function"||Array.isArray(Ze)||Be.isKey(Ze)?Ze:{key:Ze,path:Ue.toPath(Ze)}));return qe.map(Ze=>({original:Ze,criteria:Je.map(rr=>Xe(rr,Ze))})).slice().sort((Ze,rr)=>{for(let nr=0;nr<Je.length;nr++){const ar=$e.compareValues(Ze.criteria[nr],rr.criteria[nr],We[nr]);if(ar!==0)return ar}return 0}).map(Ze=>Ze.original)}Ve.orderBy=ze})(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be,Ue=1){const ze=[],qe=Math.floor(Ue),He=(We,Ge)=>{for(let Ye=0;Ye<We.length;Ye++){const Xe=We[Ye];Array.isArray(Xe)&&Ge<qe?He(Xe,Ge+1):ze.push(Xe)}};return He(Be,0),ze}Ve.flatten=$e})(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsIndex(),Be=requireIsArrayLike(),Ue=requireIsObject(),ze=requireEq();function qe(He,We,Ge){return Ue.isObject(Ge)&&(typeof We=="number"&&Be.isArrayLike(Ge)&&$e.isIndex(We)&&We<Ge.length||typeof We=="string"&&We in Ge)?ze.eq(Ge[We],He):!1}Ve.isIterateeCall=qe})(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireOrderBy(),Be=requireFlatten(),Ue=requireIsIterateeCall();function ze(qe,...He){const We=He.length;return We>1&&Ue.isIterateeCall(qe,He[0],He[1])?He=[]:We>2&&Ue.isIterateeCall(He[0],He[1],He[2])&&(He=[He[0]]),$e.orderBy(qe,Be.flatten(He),["asc"])}Ve.sortBy=ze})(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=Ve=>Ve.legend.settings,selectLegendSize=Ve=>Ve.legend.size,selectAllLegendPayload2DArray=Ve=>Ve.legend.payload;createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(Ve,$e)=>{var{itemSorter:Be}=$e,Ue=Ve.flat(1);return Be?sortBy(Ue,Be):Ue});var EPS$1=1;function useElementOffset(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[$e,Be]=reactExports.useState({height:0,left:0,top:0,width:0}),Ue=reactExports.useCallback(ze=>{if(ze!=null){var qe=ze.getBoundingClientRect(),He={height:qe.height,left:qe.left,top:qe.top,width:qe.width};(Math.abs(He.height-$e.height)>EPS$1||Math.abs(He.left-$e.left)>EPS$1||Math.abs(He.top-$e.top)>EPS$1||Math.abs(He.width-$e.width)>EPS$1)&&Be({height:He.height,left:He.left,top:He.top,width:He.width})}},[$e.width,$e.height,$e.top,$e.left,...Ve]);return[$e,Ue]}function formatProdErrorMessage$1(Ve){return`Minified Redux error #${Ve}; visit https://redux.js.org/Errors?code=${Ve} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$6(Ve){if(typeof Ve!="object"||Ve===null)return!1;let $e=Ve;for(;Object.getPrototypeOf($e)!==null;)$e=Object.getPrototypeOf($e);return Object.getPrototypeOf(Ve)===$e||Object.getPrototypeOf(Ve)===null}function createStore(Ve,$e,Be){if(typeof Ve!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof $e=="function"&&typeof Be=="function"||typeof Be=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof $e=="function"&&typeof Be>"u"&&(Be=$e,$e=void 0),typeof Be<"u"){if(typeof Be!="function")throw new Error(formatProdErrorMessage$1(1));return Be(createStore)(Ve,$e)}let Ue=Ve,ze=$e,qe=new Map,He=qe,We=0,Ge=!1;function Ye(){He===qe&&(He=new Map,qe.forEach((ar,sr)=>{He.set(sr,ar)}))}function Xe(){if(Ge)throw new Error(formatProdErrorMessage$1(3));return ze}function Je(ar){if(typeof ar!="function")throw new Error(formatProdErrorMessage$1(4));if(Ge)throw new Error(formatProdErrorMessage$1(5));let sr=!0;Ye();const lr=We++;return He.set(lr,ar),function(){if(sr){if(Ge)throw new Error(formatProdErrorMessage$1(6));sr=!1,Ye(),He.delete(lr),qe=null}}}function er(ar){if(!isPlainObject$6(ar))throw new Error(formatProdErrorMessage$1(7));if(typeof ar.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof ar.type!="string")throw new Error(formatProdErrorMessage$1(17));if(Ge)throw new Error(formatProdErrorMessage$1(9));try{Ge=!0,ze=Ue(ze,ar)}finally{Ge=!1}return(qe=He).forEach(lr=>{lr()}),ar}function Ze(ar){if(typeof ar!="function")throw new Error(formatProdErrorMessage$1(10));Ue=ar,er({type:actionTypes_default.REPLACE})}function rr(){const ar=Je;return{subscribe(sr){if(typeof sr!="object"||sr===null)throw new Error(formatProdErrorMessage$1(11));function lr(){const cr=sr;cr.next&&cr.next(Xe())}return lr(),{unsubscribe:ar(lr)}},[symbol_observable_default](){return this}}}return er({type:actionTypes_default.INIT}),{dispatch:er,subscribe:Je,getState:Xe,replaceReducer:Ze,[symbol_observable_default]:rr}}function assertReducerShape(Ve){Object.keys(Ve).forEach($e=>{const Be=Ve[$e];if(typeof Be(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof Be(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(Ve){const $e=Object.keys(Ve),Be={};for(let qe=0;qe<$e.length;qe++){const He=$e[qe];typeof Ve[He]=="function"&&(Be[He]=Ve[He])}const Ue=Object.keys(Be);let ze;try{assertReducerShape(Be)}catch(qe){ze=qe}return function(He={},We){if(ze)throw ze;let Ge=!1;const Ye={};for(let Xe=0;Xe<Ue.length;Xe++){const Je=Ue[Xe],er=Be[Je],Ze=He[Je],rr=er(Ze,We);if(typeof rr>"u")throw We&&We.type,new Error(formatProdErrorMessage$1(14));Ye[Je]=rr,Ge=Ge||rr!==Ze}return Ge=Ge||Ue.length!==Object.keys(He).length,Ge?Ye:He}}function compose$1(...Ve){return Ve.length===0?$e=>$e:Ve.length===1?Ve[0]:Ve.reduce(($e,Be)=>(...Ue)=>$e(Be(...Ue)))}function applyMiddleware(...Ve){return $e=>(Be,Ue)=>{const ze=$e(Be,Ue);let qe=()=>{throw new Error(formatProdErrorMessage$1(15))};const He={getState:ze.getState,dispatch:(Ge,...Ye)=>qe(Ge,...Ye)},We=Ve.map(Ge=>Ge(He));return qe=compose$1(...We)(ze.dispatch),{...ze,dispatch:qe}}}function isAction(Ve){return isPlainObject$6(Ve)&&"type"in Ve&&typeof Ve.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(Ve,...$e){throw new Error(`[Immer] minified error nr: ${Ve}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(Ve){return!!Ve&&!!Ve[DRAFT_STATE]}function isDraftable(Ve){return Ve?isPlainObject$5(Ve)||Array.isArray(Ve)||!!Ve[DRAFTABLE]||!!Ve.constructor?.[DRAFTABLE]||isMap(Ve)||isSet(Ve):!1}var objectCtorString=Object.prototype.constructor.toString(),cachedCtorStrings=new WeakMap;function isPlainObject$5(Ve){if(!Ve||typeof Ve!="object")return!1;const $e=Object.getPrototypeOf(Ve);if($e===null||$e===Object.prototype)return!0;const Be=Object.hasOwnProperty.call($e,"constructor")&&$e.constructor;if(Be===Object)return!0;if(typeof Be!="function")return!1;let Ue=cachedCtorStrings.get(Be);return Ue===void 0&&(Ue=Function.toString.call(Be),cachedCtorStrings.set(Be,Ue)),Ue===objectCtorString}function each(Ve,$e,Be=!0){getArchtype(Ve)===0?(Be?Reflect.ownKeys(Ve):Object.keys(Ve)).forEach(ze=>{$e(ze,Ve[ze],Ve)}):Ve.forEach((Ue,ze)=>$e(ze,Ue,Ve))}function getArchtype(Ve){const $e=Ve[DRAFT_STATE];return $e?$e.type_:Array.isArray(Ve)?1:isMap(Ve)?2:isSet(Ve)?3:0}function has(Ve,$e){return getArchtype(Ve)===2?Ve.has($e):Object.prototype.hasOwnProperty.call(Ve,$e)}function set(Ve,$e,Be){const Ue=getArchtype(Ve);Ue===2?Ve.set($e,Be):Ue===3?Ve.add(Be):Ve[$e]=Be}function is(Ve,$e){return Ve===$e?Ve!==0||1/Ve===1/$e:Ve!==Ve&&$e!==$e}function isMap(Ve){return Ve instanceof Map}function isSet(Ve){return Ve instanceof Set}function latest(Ve){return Ve.copy_||Ve.base_}function shallowCopy(Ve,$e){if(isMap(Ve))return new Map(Ve);if(isSet(Ve))return new Set(Ve);if(Array.isArray(Ve))return Array.prototype.slice.call(Ve);const Be=isPlainObject$5(Ve);if($e===!0||$e==="class_only"&&!Be){const Ue=Object.getOwnPropertyDescriptors(Ve);delete Ue[DRAFT_STATE];let ze=Reflect.ownKeys(Ue);for(let qe=0;qe<ze.length;qe++){const He=ze[qe],We=Ue[He];We.writable===!1&&(We.writable=!0,We.configurable=!0),(We.get||We.set)&&(Ue[He]={configurable:!0,writable:!0,enumerable:We.enumerable,value:Ve[He]})}return Object.create(getPrototypeOf(Ve),Ue)}else{const Ue=getPrototypeOf(Ve);if(Ue!==null&&Be)return{...Ve};const ze=Object.create(Ue);return Object.assign(ze,Ve)}}function freeze(Ve,$e=!1){return isFrozen(Ve)||isDraft(Ve)||!isDraftable(Ve)||(getArchtype(Ve)>1&&Object.defineProperties(Ve,{set:dontMutateMethodOverride,add:dontMutateMethodOverride,clear:dontMutateMethodOverride,delete:dontMutateMethodOverride}),Object.freeze(Ve),$e&&Object.values(Ve).forEach(Be=>freeze(Be,!0))),Ve}function dontMutateFrozenCollections(){die(2)}var dontMutateMethodOverride={value:dontMutateFrozenCollections};function isFrozen(Ve){return Ve===null||typeof Ve!="object"?!0:Object.isFrozen(Ve)}var plugins={};function getPlugin(Ve){const $e=plugins[Ve];return $e||die(0,Ve),$e}var currentScope;function getCurrentScope(){return currentScope}function createScope(Ve,$e){return{drafts_:[],parent_:Ve,immer_:$e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(Ve,$e){$e&&(getPlugin("Patches"),Ve.patches_=[],Ve.inversePatches_=[],Ve.patchListener_=$e)}function revokeScope(Ve){leaveScope(Ve),Ve.drafts_.forEach(revokeDraft),Ve.drafts_=null}function leaveScope(Ve){Ve===currentScope&&(currentScope=Ve.parent_)}function enterScope(Ve){return currentScope=createScope(currentScope,Ve)}function revokeDraft(Ve){const $e=Ve[DRAFT_STATE];$e.type_===0||$e.type_===1?$e.revoke_():$e.revoked_=!0}function processResult(Ve,$e){$e.unfinalizedDrafts_=$e.drafts_.length;const Be=$e.drafts_[0];return Ve!==void 0&&Ve!==Be?(Be[DRAFT_STATE].modified_&&(revokeScope($e),die(4)),isDraftable(Ve)&&(Ve=finalize($e,Ve),$e.parent_||maybeFreeze($e,Ve)),$e.patches_&&getPlugin("Patches").generateReplacementPatches_(Be[DRAFT_STATE].base_,Ve,$e.patches_,$e.inversePatches_)):Ve=finalize($e,Be,[]),revokeScope($e),$e.patches_&&$e.patchListener_($e.patches_,$e.inversePatches_),Ve!==NOTHING?Ve:void 0}function finalize(Ve,$e,Be){if(isFrozen($e))return $e;const Ue=Ve.immer_.shouldUseStrictIteration(),ze=$e[DRAFT_STATE];if(!ze)return each($e,(qe,He)=>finalizeProperty(Ve,ze,$e,qe,He,Be),Ue),$e;if(ze.scope_!==Ve)return $e;if(!ze.modified_)return maybeFreeze(Ve,ze.base_,!0),ze.base_;if(!ze.finalized_){ze.finalized_=!0,ze.scope_.unfinalizedDrafts_--;const qe=ze.copy_;let He=qe,We=!1;ze.type_===3&&(He=new Set(qe),qe.clear(),We=!0),each(He,(Ge,Ye)=>finalizeProperty(Ve,ze,qe,Ge,Ye,Be,We),Ue),maybeFreeze(Ve,qe,!1),Be&&Ve.patches_&&getPlugin("Patches").generatePatches_(ze,Be,Ve.patches_,Ve.inversePatches_)}return ze.copy_}function finalizeProperty(Ve,$e,Be,Ue,ze,qe,He){if(ze==null||typeof ze!="object"&&!He)return;const We=isFrozen(ze);if(!(We&&!He)){if(isDraft(ze)){const Ge=qe&&$e&&$e.type_!==3&&!has($e.assigned_,Ue)?qe.concat(Ue):void 0,Ye=finalize(Ve,ze,Ge);if(set(Be,Ue,Ye),isDraft(Ye))Ve.canAutoFreeze_=!1;else return}else He&&Be.add(ze);if(isDraftable(ze)&&!We){if(!Ve.immer_.autoFreeze_&&Ve.unfinalizedDrafts_<1||$e&&$e.base_&&$e.base_[Ue]===ze&&We)return;finalize(Ve,ze),(!$e||!$e.scope_.parent_)&&typeof Ue!="symbol"&&(isMap(Be)?Be.has(Ue):Object.prototype.propertyIsEnumerable.call(Be,Ue))&&maybeFreeze(Ve,ze)}}}function maybeFreeze(Ve,$e,Be=!1){!Ve.parent_&&Ve.immer_.autoFreeze_&&Ve.canAutoFreeze_&&freeze($e,Be)}function createProxyProxy(Ve,$e){const Be=Array.isArray(Ve),Ue={type_:Be?1:0,scope_:$e?$e.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:$e,base_:Ve,draft_:null,copy_:null,revoke_:null,isManual_:!1};let ze=Ue,qe=objectTraps;Be&&(ze=[Ue],qe=arrayTraps);const{revoke:He,proxy:We}=Proxy.revocable(ze,qe);return Ue.draft_=We,Ue.revoke_=He,We}var objectTraps={get(Ve,$e){if($e===DRAFT_STATE)return Ve;const Be=latest(Ve);if(!has(Be,$e))return readPropFromProto(Ve,Be,$e);const Ue=Be[$e];return Ve.finalized_||!isDraftable(Ue)?Ue:Ue===peek(Ve.base_,$e)?(prepareCopy(Ve),Ve.copy_[$e]=createProxy(Ue,Ve)):Ue},has(Ve,$e){return $e in latest(Ve)},ownKeys(Ve){return Reflect.ownKeys(latest(Ve))},set(Ve,$e,Be){const Ue=getDescriptorFromProto(latest(Ve),$e);if(Ue?.set)return Ue.set.call(Ve.draft_,Be),!0;if(!Ve.modified_){const ze=peek(latest(Ve),$e),qe=ze?.[DRAFT_STATE];if(qe&&qe.base_===Be)return Ve.copy_[$e]=Be,Ve.assigned_[$e]=!1,!0;if(is(Be,ze)&&(Be!==void 0||has(Ve.base_,$e)))return!0;prepareCopy(Ve),markChanged(Ve)}return Ve.copy_[$e]===Be&&(Be!==void 0||$e in Ve.copy_)||Number.isNaN(Be)&&Number.isNaN(Ve.copy_[$e])||(Ve.copy_[$e]=Be,Ve.assigned_[$e]=!0),!0},deleteProperty(Ve,$e){return peek(Ve.base_,$e)!==void 0||$e in Ve.base_?(Ve.assigned_[$e]=!1,prepareCopy(Ve),markChanged(Ve)):delete Ve.assigned_[$e],Ve.copy_&&delete Ve.copy_[$e],!0},getOwnPropertyDescriptor(Ve,$e){const Be=latest(Ve),Ue=Reflect.getOwnPropertyDescriptor(Be,$e);return Ue&&{writable:!0,configurable:Ve.type_!==1||$e!=="length",enumerable:Ue.enumerable,value:Be[$e]}},defineProperty(){die(11)},getPrototypeOf(Ve){return getPrototypeOf(Ve.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(Ve,$e)=>{arrayTraps[Ve]=function(){return arguments[0]=arguments[0][0],$e.apply(this,arguments)}});arrayTraps.deleteProperty=function(Ve,$e){return arrayTraps.set.call(this,Ve,$e,void 0)};arrayTraps.set=function(Ve,$e,Be){return objectTraps.set.call(this,Ve[0],$e,Be,Ve[0])};function peek(Ve,$e){const Be=Ve[DRAFT_STATE];return(Be?latest(Be):Ve)[$e]}function readPropFromProto(Ve,$e,Be){const Ue=getDescriptorFromProto($e,Be);return Ue?"value"in Ue?Ue.value:Ue.get?.call(Ve.draft_):void 0}function getDescriptorFromProto(Ve,$e){if(!($e in Ve))return;let Be=getPrototypeOf(Ve);for(;Be;){const Ue=Object.getOwnPropertyDescriptor(Be,$e);if(Ue)return Ue;Be=getPrototypeOf(Be)}}function markChanged(Ve){Ve.modified_||(Ve.modified_=!0,Ve.parent_&&markChanged(Ve.parent_))}function prepareCopy(Ve){Ve.copy_||(Ve.copy_=shallowCopy(Ve.base_,Ve.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(Ve){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=($e,Be,Ue)=>{if(typeof $e=="function"&&typeof Be!="function"){const qe=Be;Be=$e;const He=this;return function(Ge=qe,...Ye){return He.produce(Ge,Xe=>Be.call(this,Xe,...Ye))}}typeof Be!="function"&&die(6),Ue!==void 0&&typeof Ue!="function"&&die(7);let ze;if(isDraftable($e)){const qe=enterScope(this),He=createProxy($e,void 0);let We=!0;try{ze=Be(He),We=!1}finally{We?revokeScope(qe):leaveScope(qe)}return usePatchesInScope(qe,Ue),processResult(ze,qe)}else if(!$e||typeof $e!="object"){if(ze=Be($e),ze===void 0&&(ze=$e),ze===NOTHING&&(ze=void 0),this.autoFreeze_&&freeze(ze,!0),Ue){const qe=[],He=[];getPlugin("Patches").generateReplacementPatches_($e,ze,qe,He),Ue(qe,He)}return ze}else die(1,$e)},this.produceWithPatches=($e,Be)=>{if(typeof $e=="function")return(He,...We)=>this.produceWithPatches(He,Ge=>$e(Ge,...We));let Ue,ze;return[this.produce($e,Be,(He,We)=>{Ue=He,ze=We}),Ue,ze]},typeof Ve?.autoFreeze=="boolean"&&this.setAutoFreeze(Ve.autoFreeze),typeof Ve?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(Ve.useStrictShallowCopy),typeof Ve?.useStrictIteration=="boolean"&&this.setUseStrictIteration(Ve.useStrictIteration)}createDraft(Ve){isDraftable(Ve)||die(8),isDraft(Ve)&&(Ve=current(Ve));const $e=enterScope(this),Be=createProxy(Ve,void 0);return Be[DRAFT_STATE].isManual_=!0,leaveScope($e),Be}finishDraft(Ve,$e){const Be=Ve&&Ve[DRAFT_STATE];(!Be||!Be.isManual_)&&die(9);const{scope_:Ue}=Be;return usePatchesInScope(Ue,$e),processResult(void 0,Ue)}setAutoFreeze(Ve){this.autoFreeze_=Ve}setUseStrictShallowCopy(Ve){this.useStrictShallowCopy_=Ve}setUseStrictIteration(Ve){this.useStrictIteration_=Ve}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(Ve,$e){let Be;for(Be=$e.length-1;Be>=0;Be--){const ze=$e[Be];if(ze.path.length===0&&ze.op==="replace"){Ve=ze.value;break}}Be>-1&&($e=$e.slice(Be+1));const Ue=getPlugin("Patches").applyPatches_;return isDraft(Ve)?Ue(Ve,$e):this.produce(Ve,ze=>Ue(ze,$e))}};function createProxy(Ve,$e){const Be=isMap(Ve)?getPlugin("MapSet").proxyMap_(Ve,$e):isSet(Ve)?getPlugin("MapSet").proxySet_(Ve,$e):createProxyProxy(Ve,$e);return($e?$e.scope_:getCurrentScope()).drafts_.push(Be),Be}function current(Ve){return isDraft(Ve)||die(10,Ve),currentImpl(Ve)}function currentImpl(Ve){if(!isDraftable(Ve)||isFrozen(Ve))return Ve;const $e=Ve[DRAFT_STATE];let Be,Ue=!0;if($e){if(!$e.modified_)return $e.base_;$e.finalized_=!0,Be=shallowCopy(Ve,$e.scope_.immer_.useStrictShallowCopy_),Ue=$e.scope_.immer_.shouldUseStrictIteration()}else Be=shallowCopy(Ve,!0);return each(Be,(ze,qe)=>{set(Be,ze,currentImpl(qe))},Ue),$e&&($e.finalized_=!1),Be}var immer=new Immer2,produce=immer.produce,setUseStrictIteration=immer.setUseStrictIteration.bind(immer);function castDraft(Ve){return Ve}function createThunkMiddleware(Ve){return({dispatch:Be,getState:Ue})=>ze=>qe=>typeof qe=="function"?qe(Be,Ue,Ve):ze(qe)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(Ve,$e){function Be(...Ue){if($e){let ze=$e(...Ue);if(!ze)throw new Error(formatProdErrorMessage(0));return{type:Ve,payload:ze.payload,..."meta"in ze&&{meta:ze.meta},..."error"in ze&&{error:ze.error}}}return{type:Ve,payload:Ue[0]}}return Be.toString=()=>`${Ve}`,Be.type=Ve,Be.match=Ue=>isAction(Ue)&&Ue.type===Ve,Be}var Tuple=class sh extends Array{constructor(...$e){super(...$e),Object.setPrototypeOf(this,sh.prototype)}static get[Symbol.species](){return sh}concat(...$e){return super.concat.apply(this,$e)}prepend(...$e){return $e.length===1&&Array.isArray($e[0])?new sh(...$e[0].concat(this)):new sh(...$e.concat(this))}};function freezeDraftable(Ve){return isDraftable(Ve)?produce(Ve,()=>{}):Ve}function getOrInsertComputed(Ve,$e,Be){return Ve.has($e)?Ve.get($e):Ve.set($e,Be($e)).get($e)}function isBoolean(Ve){return typeof Ve=="boolean"}var buildGetDefaultMiddleware=()=>function($e){const{thunk:Be=!0,immutableCheck:Ue=!0,serializableCheck:ze=!0,actionCreatorCheck:qe=!0}=$e??{};let He=new Tuple;return Be&&(isBoolean(Be)?He.push(thunk):He.push(withExtraArgument(Be.extraArgument))),He},SHOULD_AUTOBATCH="RTK_autoBatch",prepareAutoBatched=()=>Ve=>({payload:Ve,meta:{[SHOULD_AUTOBATCH]:!0}}),createQueueWithTimer=Ve=>$e=>{setTimeout($e,Ve)},autoBatchEnhancer=(Ve={type:"raf"})=>$e=>(...Be)=>{const Ue=$e(...Be);let ze=!0,qe=!1,He=!1;const We=new Set,Ge=Ve.type==="tick"?queueMicrotask:Ve.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):Ve.type==="callback"?Ve.queueNotification:createQueueWithTimer(Ve.timeout),Ye=()=>{He=!1,qe&&(qe=!1,We.forEach(Xe=>Xe()))};return Object.assign({},Ue,{subscribe(Xe){const Je=()=>ze&&Xe(),er=Ue.subscribe(Je);return We.add(Xe),()=>{er(),We.delete(Xe)}},dispatch(Xe){try{return ze=!Xe?.meta?.[SHOULD_AUTOBATCH],qe=!ze,qe&&(He||(He=!0,Ge(Ye))),Ue.dispatch(Xe)}finally{ze=!0}}})},buildGetDefaultEnhancers=Ve=>function(Be){const{autoBatch:Ue=!0}=Be??{};let ze=new Tuple(Ve);return Ue&&ze.push(autoBatchEnhancer(typeof Ue=="object"?Ue:void 0)),ze};function configureStore(Ve){const $e=buildGetDefaultMiddleware(),{reducer:Be=void 0,middleware:Ue,devTools:ze=!0,preloadedState:qe=void 0,enhancers:He=void 0}=Ve||{};let We;if(typeof Be=="function")We=Be;else if(isPlainObject$6(Be))We=combineReducers(Be);else throw new Error(formatProdErrorMessage(1));let Ge;typeof Ue=="function"?Ge=Ue($e):Ge=$e();let Ye=compose$1;ze&&(Ye=composeWithDevTools({trace:!1,...typeof ze=="object"&&ze}));const Xe=applyMiddleware(...Ge),Je=buildGetDefaultEnhancers(Xe);let er=typeof He=="function"?He(Je):Je();const Ze=Ye(...er);return createStore(We,qe,Ze)}function executeReducerBuilderCallback(Ve){const $e={},Be=[];let Ue;const ze={addCase(qe,He){const We=typeof qe=="string"?qe:qe.type;if(!We)throw new Error(formatProdErrorMessage(28));if(We in $e)throw new Error(formatProdErrorMessage(29));return $e[We]=He,ze},addAsyncThunk(qe,He){return He.pending&&($e[qe.pending.type]=He.pending),He.rejected&&($e[qe.rejected.type]=He.rejected),He.fulfilled&&($e[qe.fulfilled.type]=He.fulfilled),He.settled&&Be.push({matcher:qe.settled,reducer:He.settled}),ze},addMatcher(qe,He){return Be.push({matcher:qe,reducer:He}),ze},addDefaultCase(qe){return Ue=qe,ze}};return Ve(ze),[$e,Be,Ue]}setUseStrictIteration(!1);function isStateFunction(Ve){return typeof Ve=="function"}function createReducer(Ve,$e){let[Be,Ue,ze]=executeReducerBuilderCallback($e),qe;if(isStateFunction(Ve))qe=()=>freezeDraftable(Ve());else{const We=freezeDraftable(Ve);qe=()=>We}function He(We=qe(),Ge){let Ye=[Be[Ge.type],...Ue.filter(({matcher:Xe})=>Xe(Ge)).map(({reducer:Xe})=>Xe)];return Ye.filter(Xe=>!!Xe).length===0&&(Ye=[ze]),Ye.reduce((Xe,Je)=>{if(Je)if(isDraft(Xe)){const Ze=Je(Xe,Ge);return Ze===void 0?Xe:Ze}else{if(isDraftable(Xe))return produce(Xe,er=>Je(er,Ge));{const er=Je(Xe,Ge);if(er===void 0){if(Xe===null)return Xe;throw Error("A case reducer on a non-draftable value must not return undefined")}return er}}return Xe},We)}return He.getInitialState=qe,He}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(Ve=21)=>{let $e="",Be=Ve;for(;Be--;)$e+=urlAlphabet[Math.random()*64|0];return $e},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(Ve,$e){return`${Ve}/${$e}`}function buildCreateSlice({creators:Ve}={}){const $e=Ve?.asyncThunk?.[asyncThunkSymbol];return function(Ue){const{name:ze,reducerPath:qe=ze}=Ue;if(!ze)throw new Error(formatProdErrorMessage(11));const He=(typeof Ue.reducers=="function"?Ue.reducers(buildReducerCreators()):Ue.reducers)||{},We=Object.keys(He),Ge={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},Ye={addCase(or,cr){const hr=typeof or=="string"?or:or.type;if(!hr)throw new Error(formatProdErrorMessage(12));if(hr in Ge.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return Ge.sliceCaseReducersByType[hr]=cr,Ye},addMatcher(or,cr){return Ge.sliceMatchers.push({matcher:or,reducer:cr}),Ye},exposeAction(or,cr){return Ge.actionCreators[or]=cr,Ye},exposeCaseReducer(or,cr){return Ge.sliceCaseReducersByName[or]=cr,Ye}};We.forEach(or=>{const cr=He[or],hr={reducerName:or,type:getType(ze,or),createNotation:typeof Ue.reducers=="function"};isAsyncThunkSliceReducerDefinition(cr)?handleThunkCaseReducerDefinition(hr,cr,Ye,$e):handleNormalReducerDefinition(hr,cr,Ye)});function Xe(){const[or={},cr=[],hr=void 0]=typeof Ue.extraReducers=="function"?executeReducerBuilderCallback(Ue.extraReducers):[Ue.extraReducers],yr={...or,...Ge.sliceCaseReducersByType};return createReducer(Ue.initialState,mr=>{for(let vr in yr)mr.addCase(vr,yr[vr]);for(let vr of Ge.sliceMatchers)mr.addMatcher(vr.matcher,vr.reducer);for(let vr of cr)mr.addMatcher(vr.matcher,vr.reducer);hr&&mr.addDefaultCase(hr)})}const Je=or=>or,er=new Map,Ze=new WeakMap;let rr;function nr(or,cr){return rr||(rr=Xe()),rr(or,cr)}function ar(){return rr||(rr=Xe()),rr.getInitialState()}function sr(or,cr=!1){function hr(mr){let vr=mr[or];return typeof vr>"u"&&cr&&(vr=getOrInsertComputed(Ze,hr,ar)),vr}function yr(mr=Je){const vr=getOrInsertComputed(er,cr,()=>new WeakMap);return getOrInsertComputed(vr,mr,()=>{const _r={};for(const[Cr,br]of Object.entries(Ue.selectors??{}))_r[Cr]=wrapSelector(br,mr,()=>getOrInsertComputed(Ze,mr,ar),cr);return _r})}return{reducerPath:or,getSelectors:yr,get selectors(){return yr(hr)},selectSlice:hr}}const lr={name:ze,reducer:nr,actions:Ge.actionCreators,caseReducers:Ge.sliceCaseReducersByName,getInitialState:ar,...sr(qe),injectInto(or,{reducerPath:cr,...hr}={}){const yr=cr??qe;return or.inject({reducerPath:yr,reducer:nr},hr),{...lr,...sr(yr,!0)}}};return lr}}function wrapSelector(Ve,$e,Be,Ue){function ze(qe,...He){let We=$e(qe);return typeof We>"u"&&Ue&&(We=Be()),Ve(We,...He)}return ze.unwrapped=Ve,ze}var createSlice=buildCreateSlice();function buildReducerCreators(){function Ve($e,Be){return{_reducerDefinitionType:"asyncThunk",payloadCreator:$e,...Be}}return Ve.withTypes=()=>Ve,{reducer($e){return Object.assign({[$e.name](...Be){return $e(...Be)}}[$e.name],{_reducerDefinitionType:"reducer"})},preparedReducer($e,Be){return{_reducerDefinitionType:"reducerWithPrepare",prepare:$e,reducer:Be}},asyncThunk:Ve}}function handleNormalReducerDefinition({type:Ve,reducerName:$e,createNotation:Be},Ue,ze){let qe,He;if("reducer"in Ue){if(Be&&!isCaseReducerWithPrepareDefinition(Ue))throw new Error(formatProdErrorMessage(17));qe=Ue.reducer,He=Ue.prepare}else qe=Ue;ze.addCase(Ve,qe).exposeCaseReducer($e,qe).exposeAction($e,He?createAction(Ve,He):createAction(Ve))}function isAsyncThunkSliceReducerDefinition(Ve){return Ve._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(Ve){return Ve._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:Ve,reducerName:$e},Be,Ue,ze){if(!ze)throw new Error(formatProdErrorMessage(18));const{payloadCreator:qe,fulfilled:He,pending:We,rejected:Ge,settled:Ye,options:Xe}=Be,Je=ze(Ve,qe,Xe);Ue.exposeAction($e,Je),He&&Ue.addCase(Je.fulfilled,He),We&&Ue.addCase(Je.pending,We),Ge&&Ue.addCase(Je.rejected,Ge),Ye&&Ue.addMatcher(Je.settled,Ye),Ue.exposeCaseReducer($e,{fulfilled:He||noop$5,pending:We||noop$5,rejected:Ge||noop$5,settled:Ye||noop$5})}function noop$5(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(Ve){this.code=Ve,this.message=`${task} ${cancelled} (reason: ${Ve})`}name="TaskAbortError";message},assertFunction=(Ve,$e)=>{if(typeof Ve!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(Ve,$e=noop2)=>(Ve.catch($e),Ve),addAbortSignalListener=(Ve,$e)=>(Ve.addEventListener("abort",$e,{once:!0}),()=>Ve.removeEventListener("abort",$e)),abortControllerWithReason=(Ve,$e)=>{const Be=Ve.signal;Be.aborted||("reason"in Be||Object.defineProperty(Be,"reason",{enumerable:!0,value:$e,configurable:!0,writable:!0}),Ve.abort($e))},validateActive=Ve=>{if(Ve.aborted){const{reason:$e}=Ve;throw new TaskAbortError($e)}};function raceWithSignal(Ve,$e){let Be=noop2;return new Promise((Ue,ze)=>{const qe=()=>ze(new TaskAbortError(Ve.reason));if(Ve.aborted){qe();return}Be=addAbortSignalListener(Ve,qe),$e.finally(()=>Be()).then(Ue,ze)}).finally(()=>{Be=noop2})}var runTask=async(Ve,$e)=>{try{return await Promise.resolve(),{status:"ok",value:await Ve()}}catch(Be){return{status:Be instanceof TaskAbortError?"cancelled":"rejected",error:Be}}finally{$e?.()}},createPause=Ve=>$e=>catchRejection(raceWithSignal(Ve,$e).then(Be=>(validateActive(Ve),Be))),createDelay=Ve=>{const $e=createPause(Ve);return Be=>$e(new Promise(Ue=>setTimeout(Ue,Be)))},{assign:assign$1}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(Ve,$e)=>{const Be=Ue=>addAbortSignalListener(Ve,()=>abortControllerWithReason(Ue,Ve.reason));return(Ue,ze)=>{assertFunction(Ue);const qe=new AbortController;Be(qe);const He=runTask(async()=>{validateActive(Ve),validateActive(qe.signal);const We=await Ue({pause:createPause(qe.signal),delay:createDelay(qe.signal),signal:qe.signal});return validateActive(qe.signal),We},()=>abortControllerWithReason(qe,taskCompleted));return ze?.autoJoin&&$e.push(He.catch(noop2)),{result:createPause(Ve)(He),cancel(){abortControllerWithReason(qe,taskCancelled)}}}},createTakePattern=(Ve,$e)=>{const Be=async(Ue,ze)=>{validateActive($e);let qe=()=>{};const We=[new Promise((Ge,Ye)=>{let Xe=Ve({predicate:Ue,effect:(Je,er)=>{er.unsubscribe(),Ge([Je,er.getState(),er.getOriginalState()])}});qe=()=>{Xe(),Ye()}})];ze!=null&&We.push(new Promise(Ge=>setTimeout(Ge,ze,null)));try{const Ge=await raceWithSignal($e,Promise.race(We));return validateActive($e),Ge}finally{qe()}};return(Ue,ze)=>catchRejection(Be(Ue,ze))},getListenerEntryPropsFrom=Ve=>{let{type:$e,actionCreator:Be,matcher:Ue,predicate:ze,effect:qe}=Ve;if($e)ze=createAction($e).match;else if(Be)$e=Be.type,ze=Be.match;else if(Ue)ze=Ue;else if(!ze)throw new Error(formatProdErrorMessage(21));return assertFunction(qe),{predicate:ze,type:$e,effect:qe}},createListenerEntry=assign$1(Ve=>{const{type:$e,predicate:Be,effect:Ue}=getListenerEntryPropsFrom(Ve);return{id:nanoid(),effect:Ue,type:$e,predicate:Be,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(Ve,$e)=>{const{type:Be,effect:Ue,predicate:ze}=getListenerEntryPropsFrom($e);return Array.from(Ve.values()).find(qe=>(typeof Be=="string"?qe.type===Be:qe.predicate===ze)&&qe.effect===Ue)},cancelActiveListeners=Ve=>{Ve.pending.forEach($e=>{abortControllerWithReason($e,listenerCancelled)})},createClearListenerMiddleware=(Ve,$e)=>()=>{for(const Be of $e.keys())cancelActiveListeners(Be);Ve.clear()},safelyNotifyError=(Ve,$e,Be)=>{try{Ve($e,Be)}catch(Ue){setTimeout(()=>{throw Ue},0)}},addListener=assign$1(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign$1(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...Ve)=>{console.error(`${alm}/error`,...Ve)},createListenerMiddleware=(Ve={})=>{const $e=new Map,Be=new Map,Ue=Ze=>{const rr=Be.get(Ze)??0;Be.set(Ze,rr+1)},ze=Ze=>{const rr=Be.get(Ze)??1;rr===1?Be.delete(Ze):Be.set(Ze,rr-1)},{extra:qe,onError:He=defaultErrorHandler}=Ve;assertFunction(He);const We=Ze=>(Ze.unsubscribe=()=>$e.delete(Ze.id),$e.set(Ze.id,Ze),rr=>{Ze.unsubscribe(),rr?.cancelActive&&cancelActiveListeners(Ze)}),Ge=Ze=>{const rr=findListenerEntry($e,Ze)??createListenerEntry(Ze);return We(rr)};assign$1(Ge,{withTypes:()=>Ge});const Ye=Ze=>{const rr=findListenerEntry($e,Ze);return rr&&(rr.unsubscribe(),Ze.cancelActive&&cancelActiveListeners(rr)),!!rr};assign$1(Ye,{withTypes:()=>Ye});const Xe=async(Ze,rr,nr,ar)=>{const sr=new AbortController,lr=createTakePattern(Ge,sr.signal),or=[];try{Ze.pending.add(sr),Ue(Ze),await Promise.resolve(Ze.effect(rr,assign$1({},nr,{getOriginalState:ar,condition:(cr,hr)=>lr(cr,hr).then(Boolean),take:lr,delay:createDelay(sr.signal),pause:createPause(sr.signal),extra:qe,signal:sr.signal,fork:createFork(sr.signal,or),unsubscribe:Ze.unsubscribe,subscribe:()=>{$e.set(Ze.id,Ze)},cancelActiveListeners:()=>{Ze.pending.forEach((cr,hr,yr)=>{cr!==sr&&(abortControllerWithReason(cr,listenerCancelled),yr.delete(cr))})},cancel:()=>{abortControllerWithReason(sr,listenerCancelled),Ze.pending.delete(sr)},throwIfCancelled:()=>{validateActive(sr.signal)}})))}catch(cr){cr instanceof TaskAbortError||safelyNotifyError(He,cr,{raisedBy:"effect"})}finally{await Promise.all(or),abortControllerWithReason(sr,listenerCompleted),ze(Ze),Ze.pending.delete(sr)}},Je=createClearListenerMiddleware($e,Be);return{middleware:Ze=>rr=>nr=>{if(!isAction(nr))return rr(nr);if(addListener.match(nr))return Ge(nr.payload);if(clearAllListeners.match(nr)){Je();return}if(removeListener.match(nr))return Ye(nr.payload);let ar=Ze.getState();const sr=()=>{if(ar===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return ar};let lr;try{if(lr=rr(nr),$e.size>0){const or=Ze.getState(),cr=Array.from($e.values());for(const hr of cr){let yr=!1;try{yr=hr.predicate(nr,or,ar)}catch(mr){yr=!1,safelyNotifyError(He,mr,{raisedBy:"predicate"})}yr&&Xe(hr,nr,Ze,sr)}}}finally{ar=INTERNAL_NIL_TOKEN}return lr},startListening:Ge,stopListening:Ye,clearListeners:Je}};function formatProdErrorMessage(Ve){return`Minified Redux Toolkit error #${Ve}; visit https://redux-toolkit.js.org/Errors?code=${Ve} for the full message or use the non-minified dev environment for full errors. `}var initialState$a={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$a,reducers:{setLayout(Ve,$e){Ve.layoutType=$e.payload},setChartSize(Ve,$e){Ve.width=$e.payload.width,Ve.height=$e.payload.height},setMargin(Ve,$e){var Be,Ue,ze,qe;Ve.margin.top=(Be=$e.payload.top)!==null&&Be!==void 0?Be:0,Ve.margin.right=(Ue=$e.payload.right)!==null&&Ue!==void 0?Ue:0,Ve.margin.bottom=(ze=$e.payload.bottom)!==null&&ze!==void 0?ze:0,Ve.margin.left=(qe=$e.payload.left)!==null&&qe!==void 0?qe:0},setScale(Ve,$e){Ve.scale=$e.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function ownKeys$z(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$y(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$z(Object(Be),!0).forEach(function(Ue){_defineProperty$A(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$z(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$A(Ve,$e,Be){return($e=_toPropertyKey$A($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$A(Ve){var $e=_toPrimitive$A(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$A(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var RADIAN=Math.PI/180,radianToDegree=Ve=>Ve*180/Math.PI,polarToCartesian=(Ve,$e,Be,Ue)=>({x:Ve+Math.cos(-RADIAN*Ue)*Be,y:$e+Math.sin(-RADIAN*Ue)*Be}),getMaxRadius=function Ve($e,Be){var Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs($e-(Ue.left||0)-(Ue.right||0)),Math.abs(Be-(Ue.top||0)-(Ue.bottom||0)))/2},distanceBetweenPoints=(Ve,$e)=>{var{x:Be,y:Ue}=Ve,{x:ze,y:qe}=$e;return Math.sqrt((Be-ze)**2+(Ue-qe)**2)},getAngleOfPoint=(Ve,$e)=>{var{x:Be,y:Ue}=Ve,{cx:ze,cy:qe}=$e,He=distanceBetweenPoints({x:Be,y:Ue},{x:ze,y:qe});if(He<=0)return{radius:He,angle:0};var We=(Be-ze)/He,Ge=Math.acos(We);return Ue>qe&&(Ge=2*Math.PI-Ge),{radius:He,angle:radianToDegree(Ge),angleInRadian:Ge}},formatAngleOfSector=Ve=>{var{startAngle:$e,endAngle:Be}=Ve,Ue=Math.floor($e/360),ze=Math.floor(Be/360),qe=Math.min(Ue,ze);return{startAngle:$e-qe*360,endAngle:Be-qe*360}},reverseFormatAngleOfSector=(Ve,$e)=>{var{startAngle:Be,endAngle:Ue}=$e,ze=Math.floor(Be/360),qe=Math.floor(Ue/360),He=Math.min(ze,qe);return Ve+He*360},inRangeOfSector=(Ve,$e)=>{var{x:Be,y:Ue}=Ve,{radius:ze,angle:qe}=getAngleOfPoint({x:Be,y:Ue},$e),{innerRadius:He,outerRadius:We}=$e;if(ze<He||ze>We||ze===0)return null;var{startAngle:Ge,endAngle:Ye}=formatAngleOfSector($e),Xe=qe,Je;if(Ge<=Ye){for(;Xe>Ye;)Xe-=360;for(;Xe<Ge;)Xe+=360;Je=Xe>=Ge&&Xe<=Ye}else{for(;Xe>Ge;)Xe-=360;for(;Xe<Ye;)Xe+=360;Je=Xe>=Ye&&Xe<=Ge}return Je?_objectSpread$y(_objectSpread$y({},$e),{},{radius:ze,angle:reverseFormatAngleOfSector(Xe,$e)}):null};function getSliced(Ve,$e,Be){return Array.isArray(Ve)&&Ve&&$e+Be!==0?Ve.slice($e,Be+1):Ve}function ownKeys$y(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$x(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$y(Object(Be),!0).forEach(function(Ue){_defineProperty$z(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$y(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$z(Ve,$e,Be){return($e=_toPropertyKey$z($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$z(Ve){var $e=_toPrimitive$z(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$z(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function getValueByDataKey(Ve,$e,Be){return isNullish(Ve)||isNullish($e)?Be:isNumOrStr($e)?get$1(Ve,$e,Be):typeof $e=="function"?$e(Ve):Be}var calculateActiveTickIndex=(Ve,$e,Be,Ue,ze)=>{var qe,He=-1,We=(qe=$e?.length)!==null&&qe!==void 0?qe:0;if(We<=1||Ve==null)return 0;if(Ue==="angleAxis"&&ze!=null&&Math.abs(Math.abs(ze[1]-ze[0])-360)<=1e-6)for(var Ge=0;Ge<We;Ge++){var Ye=Ge>0?Be[Ge-1].coordinate:Be[We-1].coordinate,Xe=Be[Ge].coordinate,Je=Ge>=We-1?Be[0].coordinate:Be[Ge+1].coordinate,er=void 0;if(mathSign(Xe-Ye)!==mathSign(Je-Xe)){var Ze=[];if(mathSign(Je-Xe)===mathSign(ze[1]-ze[0])){er=Je;var rr=Xe+ze[1]-ze[0];Ze[0]=Math.min(rr,(rr+Ye)/2),Ze[1]=Math.max(rr,(rr+Ye)/2)}else{er=Ye;var nr=Je+ze[1]-ze[0];Ze[0]=Math.min(Xe,(nr+Xe)/2),Ze[1]=Math.max(Xe,(nr+Xe)/2)}var ar=[Math.min(Xe,(er+Xe)/2),Math.max(Xe,(er+Xe)/2)];if(Ve>ar[0]&&Ve<=ar[1]||Ve>=Ze[0]&&Ve<=Ze[1]){({index:He}=Be[Ge]);break}}else{var sr=Math.min(Ye,Je),lr=Math.max(Ye,Je);if(Ve>(sr+Xe)/2&&Ve<=(lr+Xe)/2){({index:He}=Be[Ge]);break}}}else if($e){for(var or=0;or<We;or++)if(or===0&&Ve<=($e[or].coordinate+$e[or+1].coordinate)/2||or>0&&or<We-1&&Ve>($e[or].coordinate+$e[or-1].coordinate)/2&&Ve<=($e[or].coordinate+$e[or+1].coordinate)/2||or===We-1&&Ve>($e[or].coordinate+$e[or-1].coordinate)/2){({index:He}=$e[or]);break}}return He},appendOffsetOfLegend=(Ve,$e,Be)=>{if($e&&Be){var{width:Ue,height:ze}=Be,{align:qe,verticalAlign:He,layout:We}=$e;if((We==="vertical"||We==="horizontal"&&He==="middle")&&qe!=="center"&&isNumber(Ve[qe]))return _objectSpread$x(_objectSpread$x({},Ve),{},{[qe]:Ve[qe]+(Ue||0)});if((We==="horizontal"||We==="vertical"&&qe==="center")&&He!=="middle"&&isNumber(Ve[He]))return _objectSpread$x(_objectSpread$x({},Ve),{},{[He]:Ve[He]+(ze||0)})}return Ve},isCategoricalAxis=(Ve,$e)=>Ve==="horizontal"&&$e==="xAxis"||Ve==="vertical"&&$e==="yAxis"||Ve==="centric"&&$e==="angleAxis"||Ve==="radial"&&$e==="radiusAxis",getCoordinatesOfGrid=(Ve,$e,Be,Ue)=>{if(Ue)return Ve.map(We=>We.coordinate);var ze,qe,He=Ve.map(We=>(We.coordinate===$e&&(ze=!0),We.coordinate===Be&&(qe=!0),We.coordinate));return ze||He.push($e),qe||He.push(Be),He},getTicksOfAxis=(Ve,$e,Be)=>{if(!Ve)return null;var{duplicateDomain:Ue,type:ze,range:qe,scale:He,realScaleType:We,isCategorical:Ge,categoricalDomain:Ye,tickCount:Xe,ticks:Je,niceTicks:er,axisType:Ze}=Ve;if(!He)return null;var rr=We==="scaleBand"&&He.bandwidth?He.bandwidth()/2:2,nr=ze==="category"&&He.bandwidth?He.bandwidth()/rr:0;if(nr=Ze==="angleAxis"&&qe&&qe.length>=2?mathSign(qe[0]-qe[1])*2*nr:nr,Je||er){var ar=(Je||er||[]).map((sr,lr)=>{var or=Ue?Ue.indexOf(sr):sr;return{coordinate:He(or)+nr,value:sr,offset:nr,index:lr}});return ar.filter(sr=>!isNan(sr.coordinate))}return Ge&&Ye?Ye.map((sr,lr)=>({coordinate:He(sr)+nr,value:sr,index:lr,offset:nr})):He.ticks&&Xe!=null?He.ticks(Xe).map((sr,lr)=>({coordinate:He(sr)+nr,value:sr,offset:nr,index:lr})):He.domain().map((sr,lr)=>({coordinate:He(sr)+nr,value:Ue?Ue[sr]:sr,index:lr,offset:nr}))},EPS=1e-4,checkDomainOfScale=Ve=>{var $e=Ve.domain();if(!(!$e||$e.length<=2)){var Be=$e.length,Ue=Ve.range(),ze=Math.min(Ue[0],Ue[1])-EPS,qe=Math.max(Ue[0],Ue[1])+EPS,He=Ve($e[0]),We=Ve($e[Be-1]);(He<ze||He>qe||We<ze||We>qe)&&Ve.domain([$e[0],$e[Be-1]])}},truncateByDomain=(Ve,$e)=>{if(!$e||$e.length!==2||!isNumber($e[0])||!isNumber($e[1]))return Ve;var Be=Math.min($e[0],$e[1]),Ue=Math.max($e[0],$e[1]),ze=[Ve[0],Ve[1]];return(!isNumber(Ve[0])||Ve[0]<Be)&&(ze[0]=Be),(!isNumber(Ve[1])||Ve[1]>Ue)&&(ze[1]=Ue),ze[0]>Ue&&(ze[0]=Ue),ze[1]<Be&&(ze[1]=Be),ze},offsetSign=Ve=>{var $e=Ve.length;if(!($e<=0))for(var Be=0,Ue=Ve[0].length;Be<Ue;++Be)for(var ze=0,qe=0,He=0;He<$e;++He){var We=isNan(Ve[He][Be][1])?Ve[He][Be][0]:Ve[He][Be][1];We>=0?(Ve[He][Be][0]=ze,Ve[He][Be][1]=ze+We,ze=Ve[He][Be][1]):(Ve[He][Be][0]=qe,Ve[He][Be][1]=qe+We,qe=Ve[He][Be][1])}},offsetPositive=Ve=>{var $e=Ve.length;if(!($e<=0))for(var Be=0,Ue=Ve[0].length;Be<Ue;++Be)for(var ze=0,qe=0;qe<$e;++qe){var He=isNan(Ve[qe][Be][1])?Ve[qe][Be][0]:Ve[qe][Be][1];He>=0?(Ve[qe][Be][0]=ze,Ve[qe][Be][1]=ze+He,ze=Ve[qe][Be][1]):(Ve[qe][Be][0]=0,Ve[qe][Be][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(Ve,$e,Be)=>{var Ue=STACK_OFFSET_MAP[Be],ze=shapeStack().keys($e).value((qe,He)=>+getValueByDataKey(qe,He,0)).order(stackOrderNone).offset(Ue);return ze(Ve)};function getNormalizedStackId(Ve){return Ve==null?void 0:String(Ve)}function getCateCoordinateOfLine(Ve){var{axis:$e,ticks:Be,bandSize:Ue,entry:ze,index:qe,dataKey:He}=Ve;if($e.type==="category"){if(!$e.allowDuplicatedCategory&&$e.dataKey&&!isNullish(ze[$e.dataKey])){var We=findEntryInArray(Be,"value",ze[$e.dataKey]);if(We)return We.coordinate+Ue/2}return Be[qe]?Be[qe].coordinate+Ue/2:null}var Ge=getValueByDataKey(ze,isNullish(He)?$e.dataKey:He);return isNullish(Ge)?null:$e.scale(Ge)}var getCateCoordinateOfBar=Ve=>{var{axis:$e,ticks:Be,offset:Ue,bandSize:ze,entry:qe,index:He}=Ve;if($e.type==="category")return Be[He]?Be[He].coordinate+Ue:null;var We=getValueByDataKey(qe,$e.dataKey,$e.scale.domain()[He]);return isNullish(We)?null:$e.scale(We)-ze/2+Ue},getBaseValueOfBar=Ve=>{var{numericAxis:$e}=Ve,Be=$e.scale.domain();if($e.type==="number"){var Ue=Math.min(Be[0],Be[1]),ze=Math.max(Be[0],Be[1]);return Ue<=0&&ze>=0?0:ze<0?ze:Ue}return Be[0]},getDomainOfSingle=Ve=>{var $e=Ve.flat(2).filter(isNumber);return[Math.min(...$e),Math.max(...$e)]},makeDomainFinite=Ve=>[Ve[0]===1/0?0:Ve[0],Ve[1]===-1/0?0:Ve[1]],getDomainOfStackGroups=(Ve,$e,Be)=>{if(Ve!=null)return makeDomainFinite(Object.keys(Ve).reduce((Ue,ze)=>{var qe=Ve[ze],{stackedData:He}=qe,We=He.reduce((Ge,Ye)=>{var Xe=getSliced(Ye,$e,Be),Je=getDomainOfSingle(Xe);return[Math.min(Ge[0],Je[0]),Math.max(Ge[1],Je[1])]},[1/0,-1/0]);return[Math.min(We[0],Ue[0]),Math.max(We[1],Ue[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(Ve,$e,Be)=>{if(Ve&&Ve.scale&&Ve.scale.bandwidth){var Ue=Ve.scale.bandwidth();if(!Be||Ue>0)return Ue}if(Ve&&$e&&$e.length>=2){for(var ze=sortBy($e,Xe=>Xe.coordinate),qe=1/0,He=1,We=ze.length;He<We;He++){var Ge=ze[He],Ye=ze[He-1];qe=Math.min((Ge.coordinate||0)-(Ye.coordinate||0),qe)}return qe===1/0?0:qe}return Be?void 0:0};function getTooltipEntry(Ve){var{tooltipEntrySettings:$e,dataKey:Be,payload:Ue,value:ze,name:qe}=Ve;return _objectSpread$x(_objectSpread$x({},$e),{},{dataKey:Be,payload:Ue,value:ze,name:qe})}function getTooltipNameProp(Ve,$e){if(Ve)return String(Ve);if(typeof $e=="string")return $e}function inRange(Ve,$e,Be,Ue,ze){if(Be==="horizontal"||Be==="vertical"){var qe=Ve>=ze.left&&Ve<=ze.left+ze.width&&$e>=ze.top&&$e<=ze.top+ze.height;return qe?{x:Ve,y:$e}:null}return Ue?inRangeOfSector({x:Ve,y:$e},Ue):null}var getActiveCoordinate=(Ve,$e,Be,Ue)=>{var ze=$e.find(Ye=>Ye&&Ye.index===Be);if(ze){if(Ve==="horizontal")return{x:ze.coordinate,y:Ue.y};if(Ve==="vertical")return{x:Ue.x,y:ze.coordinate};if(Ve==="centric"){var qe=ze.coordinate,{radius:He}=Ue;return _objectSpread$x(_objectSpread$x(_objectSpread$x({},Ue),polarToCartesian(Ue.cx,Ue.cy,He,qe)),{},{angle:qe,radius:He})}var We=ze.coordinate,{angle:Ge}=Ue;return _objectSpread$x(_objectSpread$x(_objectSpread$x({},Ue),polarToCartesian(Ue.cx,Ue.cy,We,Ge)),{},{angle:Ge,radius:We})}return{x:0,y:0}},calculateTooltipPos=(Ve,$e)=>$e==="horizontal"?Ve.x:$e==="vertical"?Ve.y:$e==="centric"?Ve.angle:Ve.radius,selectChartWidth=Ve=>Ve.layout.width,selectChartHeight=Ve=>Ve.layout.height,selectContainerScale=Ve=>Ve.layout.scale,selectMargin=Ve=>Ve.layout.margin,selectAllXAxes=createSelector(Ve=>Ve.cartesianAxis.xAxis,Ve=>Object.values(Ve)),selectAllYAxes=createSelector(Ve=>Ve.cartesianAxis.yAxis,Ve=>Object.values(Ve)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$x(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$w(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$x(Object(Be),!0).forEach(function(Ue){_defineProperty$y(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$x(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$y(Ve,$e,Be){return($e=_toPropertyKey$y($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$y(Ve){var $e=_toPrimitive$y(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$y(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var selectBrushHeight=Ve=>Ve.brush.height;function selectLeftAxesOffset(Ve){var $e=selectAllYAxes(Ve);return $e.reduce((Be,Ue)=>{if(Ue.orientation==="left"&&!Ue.mirror&&!Ue.hide){var ze=typeof Ue.width=="number"?Ue.width:DEFAULT_Y_AXIS_WIDTH;return Be+ze}return Be},0)}function selectRightAxesOffset(Ve){var $e=selectAllYAxes(Ve);return $e.reduce((Be,Ue)=>{if(Ue.orientation==="right"&&!Ue.mirror&&!Ue.hide){var ze=typeof Ue.width=="number"?Ue.width:DEFAULT_Y_AXIS_WIDTH;return Be+ze}return Be},0)}function selectTopAxesOffset(Ve){var $e=selectAllXAxes(Ve);return $e.reduce((Be,Ue)=>Ue.orientation==="top"&&!Ue.mirror&&!Ue.hide?Be+Ue.height:Be,0)}function selectBottomAxesOffset(Ve){var $e=selectAllXAxes(Ve);return $e.reduce((Be,Ue)=>Ue.orientation==="bottom"&&!Ue.mirror&&!Ue.hide?Be+Ue.height:Be,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(Ve,$e,Be,Ue,ze,qe,He,We,Ge,Ye)=>{var Xe={left:(Be.left||0)+ze,right:(Be.right||0)+qe},Je={top:(Be.top||0)+He,bottom:(Be.bottom||0)+We},er=_objectSpread$w(_objectSpread$w({},Je),Xe),Ze=er.bottom;er.bottom+=Ue,er=appendOffsetOfLegend(er,Ge,Ye);var rr=Ve-er.left-er.right,nr=$e-er.top-er.bottom;return _objectSpread$w(_objectSpread$w({brushBottom:Ze},er),{},{width:Math.max(rr,0),height:Math.max(nr,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,Ve=>({x:Ve.left,y:Ve.top,width:Ve.width,height:Ve.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(Ve,$e)=>({x:0,y:0,width:Ve,height:$e})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=Ve=>Ve.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(Ve,$e,Be)=>({height:Ve.height,x:isNumber(Ve.x)?Ve.x:$e.left,y:isNumber(Ve.y)?Ve.y:$e.top+$e.height+$e.brushBottom-(Be?.bottom||0),width:isNumber(Ve.width)?Ve.width:$e.width})),throttle$2={},debounce$1={},debounce={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be,Ue,{signal:ze,edges:qe}={}){let He,We=null;const Ge=qe!=null&&qe.includes("leading"),Ye=qe==null||qe.includes("trailing"),Xe=()=>{We!==null&&(Be.apply(He,We),He=void 0,We=null)},Je=()=>{Ye&&Xe(),nr()};let er=null;const Ze=()=>{er!=null&&clearTimeout(er),er=setTimeout(()=>{er=null,Je()},Ue)},rr=()=>{er!==null&&(clearTimeout(er),er=null)},nr=()=>{rr(),He=void 0,We=null},ar=()=>{Xe()},sr=function(...lr){if(ze?.aborted)return;He=this,We=lr;const or=er==null;Ze(),Ge&&or&&Xe()};return sr.schedule=Ze,sr.cancel=nr,sr.flush=ar,ze?.addEventListener("abort",nr,{once:!0}),sr}Ve.debounce=$e})(debounce)),debounce}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireDebounce$1();function Be(Ue,ze=0,qe={}){typeof qe!="object"&&(qe={});const{leading:He=!1,trailing:We=!0,maxWait:Ge}=qe,Ye=Array(2);He&&(Ye[0]="leading"),We&&(Ye[1]="trailing");let Xe,Je=null;const er=$e.debounce(function(...nr){Xe=Ue.apply(this,nr),Je=null},ze,{edges:Ye}),Ze=function(...nr){return Ge!=null&&(Je===null&&(Je=Date.now()),Date.now()-Je>=Ge)?(Xe=Ue.apply(this,nr),Je=Date.now(),er.cancel(),er.schedule(),Xe):(er.apply(this,nr),Xe)},rr=()=>(er.flush(),Xe);return Ze.cancel=er.cancel,Ze.flush=rr,Ze}Ve.debounce=Be})(debounce$1)),debounce$1}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireDebounce();function Be(Ue,ze=0,qe={}){const{leading:He=!0,trailing:We=!0}=qe;return $e.debounce(Ue,ze,{leading:He,maxWait:ze,trailing:We})}Ve.throttle=Be})(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function Ve($e,Be){for(var Ue=arguments.length,ze=new Array(Ue>2?Ue-2:0),qe=2;qe<Ue;qe++)ze[qe-2]=arguments[qe]},calculateChartDimensions=(Ve,$e,Be)=>{var{width:Ue="100%",height:ze="100%",aspect:qe,maxHeight:He}=Be,We=isPercent(Ue)?Ve:Number(Ue),Ge=isPercent(ze)?$e:Number(ze);return qe&&qe>0&&(We?Ge=We/qe:Ge&&(We=Ge*qe),He&&Ge>He&&(Ge=He)),{calculatedWidth:We,calculatedHeight:Ge}},bothOverflow={width:0,height:0,overflow:"visible"},overflowX={width:0,overflowX:"visible"},overflowY={height:0,overflowY:"visible"},noStyle={},getInnerDivStyle=Ve=>{var{width:$e,height:Be}=Ve,Ue=isPercent($e),ze=isPercent(Be);return Ue&&ze?bothOverflow:Ue?overflowX:ze?overflowY:noStyle};function getDefaultWidthAndHeight(Ve){var{width:$e,height:Be,aspect:Ue}=Ve,ze=$e,qe=Be;return ze===void 0&&qe===void 0?(ze="100%",qe="100%"):ze===void 0?ze=Ue&&Ue>0?void 0:"100%":qe===void 0&&(qe=Ue&&Ue>0?void 0:"100%"),{width:ze,height:qe}}function isWellBehavedNumber(Ve){return Number.isFinite(Ve)}function isPositiveNumber(Ve){return typeof Ve=="number"&&Ve>0&&Number.isFinite(Ve)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$n.apply(null,arguments)}function ownKeys$w(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$v(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$w(Object(Be),!0).forEach(function(Ue){_defineProperty$x(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$w(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$x(Ve,$e,Be){return($e=_toPropertyKey$x($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$x(Ve){var $e=_toPrimitive$x(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$x(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var ResponsiveContainerContext=reactExports.createContext({width:-1,height:-1});function ResponsiveContainerContextProvider(Ve){var{children:$e,width:Be,height:Ue}=Ve,ze=reactExports.useMemo(()=>({width:Be,height:Ue}),[Be,Ue]);return Be<=0||Ue<=0?null:reactExports.createElement(ResponsiveContainerContext.Provider,{value:ze},$e)}var useResponsiveContainerContext=()=>reactExports.useContext(ResponsiveContainerContext),SizeDetectorContainer=reactExports.forwardRef((Ve,$e)=>{var{aspect:Be,initialDimension:Ue={width:-1,height:-1},width:ze,height:qe,minWidth:He=0,minHeight:We,maxHeight:Ge,children:Ye,debounce:Xe=0,id:Je,className:er,onResize:Ze,style:rr={}}=Ve,nr=reactExports.useRef(null),ar=reactExports.useRef();ar.current=Ze,reactExports.useImperativeHandle($e,()=>nr.current);var[sr,lr]=reactExports.useState({containerWidth:Ue.width,containerHeight:Ue.height}),or=reactExports.useCallback((vr,_r)=>{lr(Cr=>{var br=Math.round(vr),fr=Math.round(_r);return Cr.containerWidth===br&&Cr.containerHeight===fr?Cr:{containerWidth:br,containerHeight:fr}})},[]);reactExports.useEffect(()=>{var vr=fr=>{var Sr,{width:Dr,height:Or}=fr[0].contentRect;or(Dr,Or),(Sr=ar.current)===null||Sr===void 0||Sr.call(ar,Dr,Or)};Xe>0&&(vr=throttle(vr,Xe,{trailing:!0,leading:!1}));var _r=new ResizeObserver(vr),{width:Cr,height:br}=nr.current.getBoundingClientRect();return or(Cr,br),_r.observe(nr.current),()=>{_r.disconnect()}},[or,Xe]);var{containerWidth:cr,containerHeight:hr}=sr;warn(!Be||Be>0,"The aspect(%s) must be greater than zero.",Be);var{calculatedWidth:yr,calculatedHeight:mr}=calculateChartDimensions(cr,hr,{width:ze,height:qe,aspect:Be,maxHeight:Ge});return warn(yr>0||mr>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,yr,mr,ze,qe,He,We,Be),reactExports.createElement("div",{id:Je?"".concat(Je):void 0,className:clsx("recharts-responsive-container",er),style:_objectSpread$v(_objectSpread$v({},rr),{},{width:ze,height:qe,minWidth:He,minHeight:We,maxHeight:Ge}),ref:nr},reactExports.createElement("div",{style:getInnerDivStyle({width:ze,height:qe})},reactExports.createElement(ResponsiveContainerContextProvider,{width:yr,height:mr},Ye)))}),ResponsiveContainer=reactExports.forwardRef((Ve,$e)=>{var Be=useResponsiveContainerContext();if(isPositiveNumber(Be.width)&&isPositiveNumber(Be.height))return Ve.children;var{width:Ue,height:ze}=getDefaultWidthAndHeight({width:Ve.width,height:Ve.height,aspect:Ve.aspect}),{calculatedWidth:qe,calculatedHeight:He}=calculateChartDimensions(void 0,void 0,{width:Ue,height:ze,aspect:Ve.aspect,maxHeight:Ve.maxHeight});return isNumber(qe)&&isNumber(He)?reactExports.createElement(ResponsiveContainerContextProvider,{width:qe,height:He},Ve.children):reactExports.createElement(SizeDetectorContainer,_extends$n({},Ve,{width:Ue,height:ze,ref:$e}))}),useViewBox=()=>{var Ve,$e=useIsPanorama(),Be=useAppSelector(selectChartViewBox),Ue=useAppSelector(selectBrushDimensions),ze=(Ve=useAppSelector(selectBrushSettings))===null||Ve===void 0?void 0:Ve.padding;return!$e||!Ue||!ze?Be:{width:Ue.width-ze.left-ze.right,height:Ue.height-ze.top-ze.bottom,x:ze.left,y:ze.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var Ve;return(Ve=useAppSelector(selectChartOffsetInternal))!==null&&Ve!==void 0?Ve:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),selectChartLayout=Ve=>Ve.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),ReportChartSize=Ve=>{var $e=useAppDispatch(),Be=useIsPanorama(),{width:Ue,height:ze}=Ve,qe=useResponsiveContainerContext(),He=Ue,We=ze;return qe&&(He=qe.width>0?qe.width:Ue,We=qe.height>0?qe.height:ze),reactExports.useEffect(()=>{!Be&&isPositiveNumber(He)&&isPositiveNumber(We)&&$e(setChartSize({width:He,height:We}))},[$e,Be,He,We]),null},initialState$9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$9,reducers:{setLegendSize(Ve,$e){Ve.size.width=$e.payload.width,Ve.size.height=$e.payload.height},setLegendSettings(Ve,$e){Ve.settings.align=$e.payload.align,Ve.settings.layout=$e.payload.layout,Ve.settings.verticalAlign=$e.payload.verticalAlign,Ve.settings.itemSorter=$e.payload.itemSorter},addLegendPayload:{reducer(Ve,$e){Ve.payload.push($e.payload)},prepare:prepareAutoBatched()},removeLegendPayload:{reducer(Ve,$e){var Be=current(Ve).payload.indexOf($e.payload);Be>-1&&Ve.payload.splice(Be,1)},prepare:prepareAutoBatched()}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer;function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$m.apply(null,arguments)}function ownKeys$v(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$u(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$v(Object(Be),!0).forEach(function(Ue){_defineProperty$w(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$v(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$w(Ve,$e,Be){return($e=_toPropertyKey$w($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$w(Ve){var $e=_toPrimitive$w(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$w(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function defaultFormatter(Ve){return Array.isArray(Ve)&&isNumOrStr(Ve[0])&&isNumOrStr(Ve[1])?Ve.join(" ~ "):Ve}var DefaultTooltipContent=Ve=>{var{separator:$e=" : ",contentStyle:Be={},itemStyle:Ue={},labelStyle:ze={},payload:qe,formatter:He,itemSorter:We,wrapperClassName:Ge,labelClassName:Ye,label:Xe,labelFormatter:Je,accessibilityLayer:er=!1}=Ve,Ze=()=>{if(qe&&qe.length){var hr={padding:0,margin:0},yr=(We?sortBy(qe,We):qe).map((mr,vr)=>{if(mr.type==="none")return null;var _r=mr.formatter||He||defaultFormatter,{value:Cr,name:br}=mr,fr=Cr,Sr=br;if(_r){var Dr=_r(Cr,br,mr,vr,qe);if(Array.isArray(Dr))[fr,Sr]=Dr;else if(Dr!=null)fr=Dr;else return null}var Or=_objectSpread$u({display:"block",paddingTop:4,paddingBottom:4,color:mr.color||"#000"},Ue);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(vr),style:Or},isNumOrStr(Sr)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},Sr):null,isNumOrStr(Sr)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},$e):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},fr),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},mr.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:hr},yr)}return null},rr=_objectSpread$u({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},Be),nr=_objectSpread$u({margin:0},ze),ar=!isNullish(Xe),sr=ar?Xe:"",lr=clsx("recharts-default-tooltip",Ge),or=clsx("recharts-tooltip-label",Ye);ar&&Je&&qe!==void 0&&qe!==null&&(sr=Je(Xe,qe));var cr=er?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$m({className:lr,style:rr},cr),reactExports.createElement("p",{className:or,style:nr},reactExports.isValidElement(sr)?sr:"".concat(sr)),Ze())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(Ve){var{coordinate:$e,translateX:Be,translateY:Ue}=Ve;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(Be)&&$e&&isNumber($e.x)&&Be>=$e.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(Be)&&$e&&isNumber($e.x)&&Be<$e.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(Ue)&&$e&&isNumber($e.y)&&Ue>=$e.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(Ue)&&$e&&isNumber($e.y)&&Ue<$e.y})}function getTooltipTranslateXY(Ve){var{allowEscapeViewBox:$e,coordinate:Be,key:Ue,offsetTopLeft:ze,position:qe,reverseDirection:He,tooltipDimension:We,viewBox:Ge,viewBoxDimension:Ye}=Ve;if(qe&&isNumber(qe[Ue]))return qe[Ue];var Xe=Be[Ue]-We-(ze>0?ze:0),Je=Be[Ue]+ze;if($e[Ue])return He[Ue]?Xe:Je;var er=Ge[Ue];if(er==null)return 0;if(He[Ue]){var Ze=Xe,rr=er;return Ze<rr?Math.max(Je,er):Math.max(Xe,er)}if(Ye==null)return 0;var nr=Je+We,ar=er+Ye;return nr>ar?Math.max(Xe,er):Math.max(Je,er)}function getTransformStyle(Ve){var{translateX:$e,translateY:Be,useTranslate3d:Ue}=Ve;return{transform:Ue?"translate3d(".concat($e,"px, ").concat(Be,"px, 0)"):"translate(".concat($e,"px, ").concat(Be,"px)")}}function getTooltipTranslate(Ve){var{allowEscapeViewBox:$e,coordinate:Be,offsetTopLeft:Ue,position:ze,reverseDirection:qe,tooltipBox:He,useTranslate3d:We,viewBox:Ge}=Ve,Ye,Xe,Je;return He.height>0&&He.width>0&&Be?(Xe=getTooltipTranslateXY({allowEscapeViewBox:$e,coordinate:Be,key:"x",offsetTopLeft:Ue,position:ze,reverseDirection:qe,tooltipDimension:He.width,viewBox:Ge,viewBoxDimension:Ge.width}),Je=getTooltipTranslateXY({allowEscapeViewBox:$e,coordinate:Be,key:"y",offsetTopLeft:Ue,position:ze,reverseDirection:qe,tooltipDimension:He.height,viewBox:Ge,viewBoxDimension:Ge.height}),Ye=getTransformStyle({translateX:Xe,translateY:Je,useTranslate3d:We})):Ye=TOOLTIP_HIDDEN,{cssProperties:Ye,cssClasses:getTooltipCSSClassName({translateX:Xe,translateY:Je,coordinate:Be})}}function ownKeys$u(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$t(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$u(Object(Be),!0).forEach(function(Ue){_defineProperty$v(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$u(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$v(Ve,$e,Be){return($e=_toPropertyKey$v($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$v(Ve){var $e=_toPrimitive$v(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$v(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$v(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$v(this,"handleKeyDown",$e=>{if($e.key==="Escape"){var Be,Ue,ze,qe;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(Be=(Ue=this.props.coordinate)===null||Ue===void 0?void 0:Ue.x)!==null&&Be!==void 0?Be:0,y:(ze=(qe=this.props.coordinate)===null||qe===void 0?void 0:qe.y)!==null&&ze!==void 0?ze:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var $e,Be;this.state.dismissed&&((($e=this.props.coordinate)===null||$e===void 0?void 0:$e.x)!==this.state.dismissedAtCoordinate.x||((Be=this.props.coordinate)===null||Be===void 0?void 0:Be.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:$e,allowEscapeViewBox:Be,animationDuration:Ue,animationEasing:ze,children:qe,coordinate:He,hasPayload:We,isAnimationActive:Ge,offset:Ye,position:Xe,reverseDirection:Je,useTranslate3d:er,viewBox:Ze,wrapperStyle:rr,lastBoundingBox:nr,innerRef:ar,hasPortalFromProps:sr}=this.props,{cssClasses:lr,cssProperties:or}=getTooltipTranslate({allowEscapeViewBox:Be,coordinate:He,offsetTopLeft:Ye,position:Xe,reverseDirection:Je,tooltipBox:{height:nr.height,width:nr.width},useTranslate3d:er,viewBox:Ze}),cr=sr?{}:_objectSpread$t(_objectSpread$t({transition:Ge&&$e?"transform ".concat(Ue,"ms ").concat(ze):void 0},or),{},{pointerEvents:"none",visibility:!this.state.dismissed&&$e&&We?"visible":"hidden",position:"absolute",top:0,left:0}),hr=_objectSpread$t(_objectSpread$t({},cr),{},{visibility:!this.state.dismissed&&$e&&We?"visible":"hidden"},rr);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:lr,style:hr,ref:ar},qe)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={devToolsEnabled:!1,isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>useAppSelector(Ve=>Ve.rootProps.accessibilityLayer);function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$l.apply(null,arguments)}function ownKeys$t(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$s(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$t(Object(Be),!0).forEach(function(Ue){_defineProperty$u(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$t(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$u(Ve,$e,Be){return($e=_toPropertyKey$u($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$u(Ve){var $e=_toPrimitive$u(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$u(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=Ve=>isWellBehavedNumber(Ve.x)&&isWellBehavedNumber(Ve.y),getX=Ve=>Ve.x,getY=Ve=>Ve.y,getCurveFactory=(Ve,$e)=>{if(typeof Ve=="function")return Ve;var Be="curve".concat(upperFirst(Ve));return(Be==="curveMonotone"||Be==="curveBump")&&$e?CURVE_FACTORIES["".concat(Be).concat($e==="vertical"?"Y":"X")]:CURVE_FACTORIES[Be]||curveLinear},getPath$1=Ve=>{var{type:$e="linear",points:Be=[],baseLine:Ue,layout:ze,connectNulls:qe=!1}=Ve,He=getCurveFactory($e,ze),We=qe?Be.filter(defined):Be,Ge;if(Array.isArray(Ue)){var Ye=qe?Ue.filter(Je=>defined(Je)):Ue,Xe=We.map((Je,er)=>_objectSpread$s(_objectSpread$s({},Je),{},{base:Ye[er]}));return ze==="vertical"?Ge=shapeArea().y(getY).x1(getX).x0(Je=>Je.base.x):Ge=shapeArea().x(getX).y1(getY).y0(Je=>Je.base.y),Ge.defined(defined).curve(He),Ge(Xe)}return ze==="vertical"&&isNumber(Ue)?Ge=shapeArea().y(getY).x1(getX).x0(Ue):isNumber(Ue)?Ge=shapeArea().x(getX).y1(getY).y0(Ue):Ge=shapeLine().x(getX).y(getY),Ge.defined(defined).curve(He),Ge(We)},Curve=Ve=>{var{className:$e,points:Be,path:Ue,pathRef:ze}=Ve;if((!Be||!Be.length)&&!Ue)return null;var qe=Be&&Be.length?getPath$1(Ve):Ue;return reactExports.createElement("path",_extends$l({},svgPropertiesNoEvents(Ve),adaptEventHandlers(Ve),{className:clsx("recharts-curve",$e),d:qe===null?void 0:qe,ref:ze}))},_excluded$i=["x","y","top","left","width","height","className"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$k.apply(null,arguments)}function ownKeys$s(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$r(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$s(Object(Be),!0).forEach(function(Ue){_defineProperty$t(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$s(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$t(Ve,$e,Be){return($e=_toPropertyKey$t($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$t(Ve){var $e=_toPrimitive$t(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$t(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _objectWithoutProperties$i(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$i(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$i(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var getPath=(Ve,$e,Be,Ue,ze,qe)=>"M".concat(Ve,",").concat(ze,"v").concat(Ue,"M").concat(qe,",").concat($e,"h").concat(Be),Cross=Ve=>{var{x:$e=0,y:Be=0,top:Ue=0,left:ze=0,width:qe=0,height:He=0,className:We}=Ve,Ge=_objectWithoutProperties$i(Ve,_excluded$i),Ye=_objectSpread$r({x:$e,y:Be,top:Ue,left:ze,width:qe,height:He},Ge);return!isNumber($e)||!isNumber(Be)||!isNumber(qe)||!isNumber(He)||!isNumber(Ue)||!isNumber(ze)?null:reactExports.createElement("path",_extends$k({},svgPropertiesAndEvents(Ye),{className:clsx("recharts-cross",We),d:getPath($e,Be,qe,He,Ue,ze)}))};function getCursorRectangle(Ve,$e,Be,Ue){var ze=Ue/2;return{stroke:"none",fill:"#ccc",x:Ve==="horizontal"?$e.x-ze:Be.left+.5,y:Ve==="horizontal"?Be.top+.5:$e.y-ze,width:Ve==="horizontal"?Ue:Be.width-1,height:Ve==="horizontal"?Be.height-1:Ue}}function ownKeys$r(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$q(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$r(Object(Be),!0).forEach(function(Ue){_defineProperty$s(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$r(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$s(Ve,$e,Be){return($e=_toPropertyKey$s($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$s(Ve){var $e=_toPrimitive$s(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$s(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function resolveDefaultProps(Ve,$e){var Be=_objectSpread$q({},Ve),Ue=$e,ze=Object.keys($e),qe=ze.reduce((He,We)=>(He[We]===void 0&&Ue[We]!==void 0&&(He[We]=Ue[We]),He),Be);return qe}function noop$4(){}function isNotNil(Ve){return Ve!=null}function ownKeys$q(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$p(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$q(Object(Be),!0).forEach(function(Ue){_defineProperty$r(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$q(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$r(Ve,$e,Be){return($e=_toPropertyKey$r($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$r(Ve){var $e=_toPrimitive$r(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$r(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var getDashCase=Ve=>Ve.replace(/([A-Z])/g,$e=>"-".concat($e.toLowerCase())),getTransitionVal=(Ve,$e,Be)=>Ve.map(Ue=>"".concat(getDashCase(Ue)," ").concat($e,"ms ").concat(Be)).join(","),getIntersectionKeys=(Ve,$e)=>[Object.keys(Ve),Object.keys($e)].reduce((Be,Ue)=>Be.filter(ze=>Ue.includes(ze))),mapObject=(Ve,$e)=>Object.keys($e).reduce((Be,Ue)=>_objectSpread$p(_objectSpread$p({},Be),{},{[Ue]:Ve(Ue,$e[Ue])}),{});function ownKeys$p(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$o(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$p(Object(Be),!0).forEach(function(Ue){_defineProperty$q(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$p(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$q(Ve,$e,Be){return($e=_toPropertyKey$q($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$q(Ve){var $e=_toPrimitive$q(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$q(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var alpha=(Ve,$e,Be)=>Ve+($e-Ve)*Be,needContinue=Ve=>{var{from:$e,to:Be}=Ve;return $e!==Be},calStepperVals=(Ve,$e,Be)=>{var Ue=mapObject((ze,qe)=>{if(needContinue(qe)){var[He,We]=Ve(qe.from,qe.to,qe.velocity);return _objectSpread$o(_objectSpread$o({},qe),{},{from:He,velocity:We})}return qe},$e);return Be<1?mapObject((ze,qe)=>needContinue(qe)?_objectSpread$o(_objectSpread$o({},qe),{},{velocity:alpha(qe.velocity,Ue[ze].velocity,Be),from:alpha(qe.from,Ue[ze].from,Be)}):qe,$e):calStepperVals(Ve,Ue,Be-1)};function createStepperUpdate(Ve,$e,Be,Ue,ze,qe){var He,We=Ue.reduce((er,Ze)=>_objectSpread$o(_objectSpread$o({},er),{},{[Ze]:{from:Ve[Ze],velocity:0,to:$e[Ze]}}),{}),Ge=()=>mapObject((er,Ze)=>Ze.from,We),Ye=()=>!Object.values(We).filter(needContinue).length,Xe=null,Je=er=>{He||(He=er);var Ze=er-He,rr=Ze/Be.dt;We=calStepperVals(Be,We,rr),ze(_objectSpread$o(_objectSpread$o(_objectSpread$o({},Ve),$e),Ge())),He=er,Ye()||(Xe=qe.setTimeout(Je))};return()=>(Xe=qe.setTimeout(Je),()=>{Xe()})}function createTimingUpdate(Ve,$e,Be,Ue,ze,qe,He){var We=null,Ge=ze.reduce((Je,er)=>_objectSpread$o(_objectSpread$o({},Je),{},{[er]:[Ve[er],$e[er]]}),{}),Ye,Xe=Je=>{Ye||(Ye=Je);var er=(Je-Ye)/Ue,Ze=mapObject((nr,ar)=>alpha(...ar,Be(er)),Ge);if(qe(_objectSpread$o(_objectSpread$o(_objectSpread$o({},Ve),$e),Ze)),er<1)We=He.setTimeout(Xe);else{var rr=mapObject((nr,ar)=>alpha(...ar,Be(1)),Ge);qe(_objectSpread$o(_objectSpread$o(_objectSpread$o({},Ve),$e),rr))}};return()=>(We=He.setTimeout(Xe),()=>{We()})}const configUpdate=(Ve,$e,Be,Ue,ze,qe)=>{var He=getIntersectionKeys(Ve,$e);return Be.isStepper===!0?createStepperUpdate(Ve,$e,Be,He,ze,qe):createTimingUpdate(Ve,$e,Be,Ue,He,ze,qe)};var ACCURACY=1e-4,cubicBezierFactor=(Ve,$e)=>[0,3*Ve,3*$e-6*Ve,3*Ve-3*$e+1],evaluatePolynomial=(Ve,$e)=>Ve.map((Be,Ue)=>Be*$e**Ue).reduce((Be,Ue)=>Be+Ue),cubicBezier=(Ve,$e)=>Be=>{var Ue=cubicBezierFactor(Ve,$e);return evaluatePolynomial(Ue,Be)},derivativeCubicBezier=(Ve,$e)=>Be=>{var Ue=cubicBezierFactor(Ve,$e),ze=[...Ue.map((qe,He)=>qe*He).slice(1),0];return evaluatePolynomial(ze,Be)},configBezier=function Ve(){for(var $e,Be,Ue,ze,qe=arguments.length,He=new Array(qe),We=0;We<qe;We++)He[We]=arguments[We];if(He.length===1)switch(He[0]){case"linear":[$e,Ue,Be,ze]=[0,0,1,1];break;case"ease":[$e,Ue,Be,ze]=[.25,.1,.25,1];break;case"ease-in":[$e,Ue,Be,ze]=[.42,0,1,1];break;case"ease-out":[$e,Ue,Be,ze]=[.42,0,.58,1];break;case"ease-in-out":[$e,Ue,Be,ze]=[0,0,.58,1];break;default:{var Ge=He[0].split("(");Ge[0]==="cubic-bezier"&&Ge[1].split(")")[0].split(",").length===4&&([$e,Ue,Be,ze]=Ge[1].split(")")[0].split(",").map(rr=>parseFloat(rr)))}}else He.length===4&&([$e,Ue,Be,ze]=He);var Ye=cubicBezier($e,Be),Xe=cubicBezier(Ue,ze),Je=derivativeCubicBezier($e,Be),er=rr=>rr>1?1:rr<0?0:rr,Ze=rr=>{for(var nr=rr>1?1:rr,ar=nr,sr=0;sr<8;++sr){var lr=Ye(ar)-nr,or=Je(ar);if(Math.abs(lr-nr)<ACCURACY||or<ACCURACY)return Xe(ar);ar=er(ar-lr/or)}return Xe(ar)};return Ze.isStepper=!1,Ze},configSpring=function Ve(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:Be=100,damping:Ue=8,dt:ze=17}=$e,qe=(He,We,Ge)=>{var Ye=-(He-We)*Be,Xe=Ge*Ue,Je=Ge+(Ye-Xe)*ze/1e3,er=Ge*ze/1e3+He;return Math.abs(er-We)<ACCURACY&&Math.abs(Je)<ACCURACY?[We,0]:[er,Je]};return qe.isStepper=!0,qe.dt=ze,qe},configEasing=Ve=>{if(typeof Ve=="string")switch(Ve){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(Ve);case"spring":return configSpring();default:if(Ve.split("(")[0]==="cubic-bezier")return configBezier(Ve)}return typeof Ve=="function"?Ve:null};function createAnimateManager(Ve){var $e,Be=()=>null,Ue=!1,ze=null,qe=He=>{if(!Ue){if(Array.isArray(He)){if(!He.length)return;var We=He,[Ge,...Ye]=We;if(typeof Ge=="number"){ze=Ve.setTimeout(qe.bind(null,Ye),Ge);return}qe(Ge),ze=Ve.setTimeout(qe.bind(null,Ye));return}typeof He=="string"&&($e=He,Be($e)),typeof He=="object"&&($e=He,Be($e)),typeof He=="function"&&He()}};return{stop:()=>{Ue=!0},start:He=>{Ue=!1,ze&&(ze(),ze=null),qe(He)},subscribe:He=>(Be=He,()=>{Be=()=>null}),getTimeoutController:()=>Ve}}class RequestAnimationFrameTimeoutController{setTimeout($e){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Ue=performance.now(),ze=null,qe=He=>{He-Ue>=Be?$e(He):typeof requestAnimationFrame=="function"&&(ze=requestAnimationFrame(qe))};return ze=requestAnimationFrame(qe),()=>{cancelAnimationFrame(ze)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(Ve,$e){var Be=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>$e??Be(Ve),[Ve,$e,Be])}var defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from={t:0},to={t:1};function JavascriptAnimate(Ve){var $e=resolveDefaultProps(Ve,defaultJavascriptAnimateProps),{isActive:Be,canBegin:Ue,duration:ze,easing:qe,begin:He,onAnimationEnd:We,onAnimationStart:Ge,children:Ye}=$e,Xe=useAnimationManager($e.animationId,$e.animationManager),[Je,er]=reactExports.useState(Be?from:to),Ze=reactExports.useRef(null);return reactExports.useEffect(()=>{Be||er(to)},[Be]),reactExports.useEffect(()=>{if(!Be||!Ue)return noop$4;var rr=configUpdate(from,to,configEasing(qe),ze,er,Xe.getTimeoutController()),nr=()=>{Ze.current=rr()};return Xe.start([Ge,He,nr,ze,We]),()=>{Xe.stop(),Ze.current&&Ze.current(),We()}},[Be,Ue,ze,qe,He,Ge,We,Xe]),Ye(Je.t)}function useAnimationId(Ve){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",Be=reactExports.useRef(uniqueId($e)),Ue=reactExports.useRef(Ve);return Ue.current!==Ve&&(Be.current=uniqueId($e),Ue.current=Ve),Be.current}var _excluded$h=["radius"],_excluded2$9=["radius"];function ownKeys$o(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$n(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$o(Object(Be),!0).forEach(function(Ue){_defineProperty$p(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$o(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$p(Ve,$e,Be){return($e=_toPropertyKey$p($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$p(Ve){var $e=_toPrimitive$p(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$p(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$j.apply(null,arguments)}function _objectWithoutProperties$h(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$h(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$h(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var getRectanglePath=(Ve,$e,Be,Ue,ze)=>{var qe=Math.min(Math.abs(Be)/2,Math.abs(Ue)/2),He=Ue>=0?1:-1,We=Be>=0?1:-1,Ge=Ue>=0&&Be>=0||Ue<0&&Be<0?1:0,Ye;if(qe>0&&ze instanceof Array){for(var Xe=[0,0,0,0],Je=0,er=4;Je<er;Je++)Xe[Je]=ze[Je]>qe?qe:ze[Je];Ye="M".concat(Ve,",").concat($e+He*Xe[0]),Xe[0]>0&&(Ye+="A ".concat(Xe[0],",").concat(Xe[0],",0,0,").concat(Ge,",").concat(Ve+We*Xe[0],",").concat($e)),Ye+="L ".concat(Ve+Be-We*Xe[1],",").concat($e),Xe[1]>0&&(Ye+="A ".concat(Xe[1],",").concat(Xe[1],",0,0,").concat(Ge,`,
        `).concat(Ve+Be,",").concat($e+He*Xe[1])),Ye+="L ".concat(Ve+Be,",").concat($e+Ue-He*Xe[2]),Xe[2]>0&&(Ye+="A ".concat(Xe[2],",").concat(Xe[2],",0,0,").concat(Ge,`,
        `).concat(Ve+Be-We*Xe[2],",").concat($e+Ue)),Ye+="L ".concat(Ve+We*Xe[3],",").concat($e+Ue),Xe[3]>0&&(Ye+="A ".concat(Xe[3],",").concat(Xe[3],",0,0,").concat(Ge,`,
        `).concat(Ve,",").concat($e+Ue-He*Xe[3])),Ye+="Z"}else if(qe>0&&ze===+ze&&ze>0){var Ze=Math.min(qe,ze);Ye="M ".concat(Ve,",").concat($e+He*Ze,`
            A `).concat(Ze,",").concat(Ze,",0,0,").concat(Ge,",").concat(Ve+We*Ze,",").concat($e,`
            L `).concat(Ve+Be-We*Ze,",").concat($e,`
            A `).concat(Ze,",").concat(Ze,",0,0,").concat(Ge,",").concat(Ve+Be,",").concat($e+He*Ze,`
            L `).concat(Ve+Be,",").concat($e+Ue-He*Ze,`
            A `).concat(Ze,",").concat(Ze,",0,0,").concat(Ge,",").concat(Ve+Be-We*Ze,",").concat($e+Ue,`
            L `).concat(Ve+We*Ze,",").concat($e+Ue,`
            A `).concat(Ze,",").concat(Ze,",0,0,").concat(Ge,",").concat(Ve,",").concat($e+Ue-He*Ze," Z")}else Ye="M ".concat(Ve,",").concat($e," h ").concat(Be," v ").concat(Ue," h ").concat(-Be," Z");return Ye},defaultProps$6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=Ve=>{var $e=resolveDefaultProps(Ve,defaultProps$6),Be=reactExports.useRef(null),[Ue,ze]=reactExports.useState(-1);reactExports.useEffect(()=>{if(Be.current&&Be.current.getTotalLength)try{var Nr=Be.current.getTotalLength();Nr&&ze(Nr)}catch{}},[]);var{x:qe,y:He,width:We,height:Ge,radius:Ye,className:Xe}=$e,{animationEasing:Je,animationDuration:er,animationBegin:Ze,isAnimationActive:rr,isUpdateAnimationActive:nr}=$e,ar=reactExports.useRef(We),sr=reactExports.useRef(Ge),lr=reactExports.useRef(qe),or=reactExports.useRef(He),cr=reactExports.useMemo(()=>({x:qe,y:He,width:We,height:Ge,radius:Ye}),[qe,He,We,Ge,Ye]),hr=useAnimationId(cr,"rectangle-");if(qe!==+qe||He!==+He||We!==+We||Ge!==+Ge||We===0||Ge===0)return null;var yr=clsx("recharts-rectangle",Xe);if(!nr){var mr=svgPropertiesAndEvents($e),{radius:vr}=mr,_r=_objectWithoutProperties$h(mr,_excluded$h);return reactExports.createElement("path",_extends$j({},_r,{radius:typeof Ye=="number"?Ye:void 0,className:yr,d:getRectanglePath(qe,He,We,Ge,Ye)}))}var Cr=ar.current,br=sr.current,fr=lr.current,Sr=or.current,Dr="0px ".concat(Ue===-1?1:Ue,"px"),Or="".concat(Ue,"px 0px"),Er=getTransitionVal(["strokeDasharray"],er,typeof Je=="string"?Je:void 0);return reactExports.createElement(JavascriptAnimate,{animationId:hr,key:hr,canBegin:Ue>0,duration:er,easing:Je,isActive:nr,begin:Ze},Nr=>{var wr=interpolate$1(Cr,We,Nr),Ar=interpolate$1(br,Ge,Nr),Lr=interpolate$1(fr,qe,Nr),Pr=interpolate$1(Sr,He,Nr);Be.current&&(ar.current=wr,sr.current=Ar,lr.current=Lr,or.current=Pr);var Tr;rr?Nr>0?Tr={transition:Er,strokeDasharray:Or}:Tr={strokeDasharray:Dr}:Tr={strokeDasharray:Or};var Vr=svgPropertiesAndEvents($e),{radius:Ur}=Vr,Yr=_objectWithoutProperties$h(Vr,_excluded2$9);return reactExports.createElement("path",_extends$j({},Yr,{radius:typeof Ye=="number"?Ye:void 0,className:yr,d:getRectanglePath(Lr,Pr,wr,Ar,Ye),ref:Be,style:_objectSpread$n(_objectSpread$n({},Tr),$e.style)}))})};function getRadialCursorPoints(Ve){var{cx:$e,cy:Be,radius:Ue,startAngle:ze,endAngle:qe}=Ve,He=polarToCartesian($e,Be,Ue,ze),We=polarToCartesian($e,Be,Ue,qe);return{points:[He,We],cx:$e,cy:Be,radius:Ue,startAngle:ze,endAngle:qe}}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$i.apply(null,arguments)}var getDeltaAngle$1=(Ve,$e)=>{var Be=mathSign($e-Ve),Ue=Math.min(Math.abs($e-Ve),359.999);return Be*Ue},getTangentCircle=Ve=>{var{cx:$e,cy:Be,radius:Ue,angle:ze,sign:qe,isExternal:He,cornerRadius:We,cornerIsExternal:Ge}=Ve,Ye=We*(He?1:-1)+Ue,Xe=Math.asin(We/Ye)/RADIAN,Je=Ge?ze:ze+qe*Xe,er=polarToCartesian($e,Be,Ye,Je),Ze=polarToCartesian($e,Be,Ue,Je),rr=Ge?ze-qe*Xe:ze,nr=polarToCartesian($e,Be,Ye*Math.cos(Xe*RADIAN),rr);return{center:er,circleTangency:Ze,lineTangency:nr,theta:Xe}},getSectorPath=Ve=>{var{cx:$e,cy:Be,innerRadius:Ue,outerRadius:ze,startAngle:qe,endAngle:He}=Ve,We=getDeltaAngle$1(qe,He),Ge=qe+We,Ye=polarToCartesian($e,Be,ze,qe),Xe=polarToCartesian($e,Be,ze,Ge),Je="M ".concat(Ye.x,",").concat(Ye.y,`
    A `).concat(ze,",").concat(ze,`,0,
    `).concat(+(Math.abs(We)>180),",").concat(+(qe>Ge),`,
    `).concat(Xe.x,",").concat(Xe.y,`
  `);if(Ue>0){var er=polarToCartesian($e,Be,Ue,qe),Ze=polarToCartesian($e,Be,Ue,Ge);Je+="L ".concat(Ze.x,",").concat(Ze.y,`
            A `).concat(Ue,",").concat(Ue,`,0,
            `).concat(+(Math.abs(We)>180),",").concat(+(qe<=Ge),`,
            `).concat(er.x,",").concat(er.y," Z")}else Je+="L ".concat($e,",").concat(Be," Z");return Je},getSectorWithCorner=Ve=>{var{cx:$e,cy:Be,innerRadius:Ue,outerRadius:ze,cornerRadius:qe,forceCornerRadius:He,cornerIsExternal:We,startAngle:Ge,endAngle:Ye}=Ve,Xe=mathSign(Ye-Ge),{circleTangency:Je,lineTangency:er,theta:Ze}=getTangentCircle({cx:$e,cy:Be,radius:ze,angle:Ge,sign:Xe,cornerRadius:qe,cornerIsExternal:We}),{circleTangency:rr,lineTangency:nr,theta:ar}=getTangentCircle({cx:$e,cy:Be,radius:ze,angle:Ye,sign:-Xe,cornerRadius:qe,cornerIsExternal:We}),sr=We?Math.abs(Ge-Ye):Math.abs(Ge-Ye)-Ze-ar;if(sr<0)return He?"M ".concat(er.x,",").concat(er.y,`
        a`).concat(qe,",").concat(qe,",0,0,1,").concat(qe*2,`,0
        a`).concat(qe,",").concat(qe,",0,0,1,").concat(-qe*2,`,0
      `):getSectorPath({cx:$e,cy:Be,innerRadius:Ue,outerRadius:ze,startAngle:Ge,endAngle:Ye});var lr="M ".concat(er.x,",").concat(er.y,`
    A`).concat(qe,",").concat(qe,",0,0,").concat(+(Xe<0),",").concat(Je.x,",").concat(Je.y,`
    A`).concat(ze,",").concat(ze,",0,").concat(+(sr>180),",").concat(+(Xe<0),",").concat(rr.x,",").concat(rr.y,`
    A`).concat(qe,",").concat(qe,",0,0,").concat(+(Xe<0),",").concat(nr.x,",").concat(nr.y,`
  `);if(Ue>0){var{circleTangency:or,lineTangency:cr,theta:hr}=getTangentCircle({cx:$e,cy:Be,radius:Ue,angle:Ge,sign:Xe,isExternal:!0,cornerRadius:qe,cornerIsExternal:We}),{circleTangency:yr,lineTangency:mr,theta:vr}=getTangentCircle({cx:$e,cy:Be,radius:Ue,angle:Ye,sign:-Xe,isExternal:!0,cornerRadius:qe,cornerIsExternal:We}),_r=We?Math.abs(Ge-Ye):Math.abs(Ge-Ye)-hr-vr;if(_r<0&&qe===0)return"".concat(lr,"L").concat($e,",").concat(Be,"Z");lr+="L".concat(mr.x,",").concat(mr.y,`
      A`).concat(qe,",").concat(qe,",0,0,").concat(+(Xe<0),",").concat(yr.x,",").concat(yr.y,`
      A`).concat(Ue,",").concat(Ue,",0,").concat(+(_r>180),",").concat(+(Xe>0),",").concat(or.x,",").concat(or.y,`
      A`).concat(qe,",").concat(qe,",0,0,").concat(+(Xe<0),",").concat(cr.x,",").concat(cr.y,"Z")}else lr+="L".concat($e,",").concat(Be,"Z");return lr},defaultProps$5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=Ve=>{var $e=resolveDefaultProps(Ve,defaultProps$5),{cx:Be,cy:Ue,innerRadius:ze,outerRadius:qe,cornerRadius:He,forceCornerRadius:We,cornerIsExternal:Ge,startAngle:Ye,endAngle:Xe,className:Je}=$e;if(qe<ze||Ye===Xe)return null;var er=clsx("recharts-sector",Je),Ze=qe-ze,rr=getPercentValue(He,Ze,0,!0),nr;return rr>0&&Math.abs(Ye-Xe)<360?nr=getSectorWithCorner({cx:Be,cy:Ue,innerRadius:ze,outerRadius:qe,cornerRadius:Math.min(rr,Ze/2),forceCornerRadius:We,cornerIsExternal:Ge,startAngle:Ye,endAngle:Xe}):nr=getSectorPath({cx:Be,cy:Ue,innerRadius:ze,outerRadius:qe,startAngle:Ye,endAngle:Xe}),reactExports.createElement("path",_extends$i({},svgPropertiesAndEvents($e),{className:er,d:nr}))};function getCursorPoints(Ve,$e,Be){var Ue,ze,qe,He;if(Ve==="horizontal")Ue=$e.x,qe=Ue,ze=Be.top,He=Be.top+Be.height;else if(Ve==="vertical")ze=$e.y,He=ze,Ue=Be.left,qe=Be.left+Be.width;else if($e.cx!=null&&$e.cy!=null)if(Ve==="centric"){var{cx:We,cy:Ge,innerRadius:Ye,outerRadius:Xe,angle:Je}=$e,er=polarToCartesian(We,Ge,Ye,Je),Ze=polarToCartesian(We,Ge,Xe,Je);Ue=er.x,ze=er.y,qe=Ze.x,He=Ze.y}else return getRadialCursorPoints($e);return[{x:Ue,y:ze},{x:qe,y:He}]}var range$4={},toFinite={},toNumber$1={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsSymbol();function Be(Ue){return $e.isSymbol(Ue)?NaN:Number(Ue)}Ve.toNumber=Be})(toNumber$1)),toNumber$1}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireToNumber();function Be(Ue){return Ue?(Ue=$e.toNumber(Ue),Ue===1/0||Ue===-1/0?(Ue<0?-1:1)*Number.MAX_VALUE:Ue===Ue?Ue:0):Ue===0?Ue:0}Ve.toFinite=Be})(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireIsIterateeCall(),Be=requireToFinite();function Ue(ze,qe,He){He&&typeof He!="number"&&$e.isIterateeCall(ze,qe,He)&&(qe=He=void 0),ze=Be.toFinite(ze),qe===void 0?(qe=ze,ze=0):qe=Be.toFinite(qe),He=He===void 0?ze<qe?1:-1:Be.toFinite(He);const We=Math.max(Math.ceil((qe-ze)/(He||1)),0),Ge=new Array(We);for(let Ye=0;Ye<We;Ye++)Ge[Ye]=ze,ze+=He;return Ge}Ve.range=Ue})(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(Ve,$e){return Ve==null||$e==null?NaN:Ve<$e?-1:Ve>$e?1:Ve>=$e?0:NaN}function descending(Ve,$e){return Ve==null||$e==null?NaN:$e<Ve?-1:$e>Ve?1:$e>=Ve?0:NaN}function bisector(Ve){let $e,Be,Ue;Ve.length!==2?($e=ascending,Be=(We,Ge)=>ascending(Ve(We),Ge),Ue=(We,Ge)=>Ve(We)-Ge):($e=Ve===ascending||Ve===descending?Ve:zero$2,Be=Ve,Ue=Ve);function ze(We,Ge,Ye=0,Xe=We.length){if(Ye<Xe){if($e(Ge,Ge)!==0)return Xe;do{const Je=Ye+Xe>>>1;Be(We[Je],Ge)<0?Ye=Je+1:Xe=Je}while(Ye<Xe)}return Ye}function qe(We,Ge,Ye=0,Xe=We.length){if(Ye<Xe){if($e(Ge,Ge)!==0)return Xe;do{const Je=Ye+Xe>>>1;Be(We[Je],Ge)<=0?Ye=Je+1:Xe=Je}while(Ye<Xe)}return Ye}function He(We,Ge,Ye=0,Xe=We.length){const Je=ze(We,Ge,Ye,Xe-1);return Je>Ye&&Ue(We[Je-1],Ge)>-Ue(We[Je],Ge)?Je-1:Je}return{left:ze,center:He,right:qe}}function zero$2(){return 0}function number$2(Ve){return Ve===null?NaN:+Ve}function*numbers(Ve,$e){for(let Be of Ve)Be!=null&&(Be=+Be)>=Be&&(yield Be)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor($e,Be=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Be}}),$e!=null)for(const[Ue,ze]of $e)this.set(Ue,ze)}get($e){return super.get(intern_get(this,$e))}has($e){return super.has(intern_get(this,$e))}set($e,Be){return super.set(intern_set(this,$e),Be)}delete($e){return super.delete(intern_delete(this,$e))}}function intern_get({_intern:Ve,_key:$e},Be){const Ue=$e(Be);return Ve.has(Ue)?Ve.get(Ue):Be}function intern_set({_intern:Ve,_key:$e},Be){const Ue=$e(Be);return Ve.has(Ue)?Ve.get(Ue):(Ve.set(Ue,Be),Be)}function intern_delete({_intern:Ve,_key:$e},Be){const Ue=$e(Be);return Ve.has(Ue)&&(Be=Ve.get(Ue),Ve.delete(Ue)),Be}function keyof(Ve){return Ve!==null&&typeof Ve=="object"?Ve.valueOf():Ve}function compareDefined(Ve=ascending){if(Ve===ascending)return ascendingDefined;if(typeof Ve!="function")throw new TypeError("compare is not a function");return($e,Be)=>{const Ue=Ve($e,Be);return Ue||Ue===0?Ue:(Ve(Be,Be)===0)-(Ve($e,$e)===0)}}function ascendingDefined(Ve,$e){return(Ve==null||!(Ve>=Ve))-($e==null||!($e>=$e))||(Ve<$e?-1:Ve>$e?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(Ve,$e,Be){const Ue=($e-Ve)/Math.max(0,Be),ze=Math.floor(Math.log10(Ue)),qe=Ue/Math.pow(10,ze),He=qe>=e10?10:qe>=e5?5:qe>=e2?2:1;let We,Ge,Ye;return ze<0?(Ye=Math.pow(10,-ze)/He,We=Math.round(Ve*Ye),Ge=Math.round($e*Ye),We/Ye<Ve&&++We,Ge/Ye>$e&&--Ge,Ye=-Ye):(Ye=Math.pow(10,ze)*He,We=Math.round(Ve/Ye),Ge=Math.round($e/Ye),We*Ye<Ve&&++We,Ge*Ye>$e&&--Ge),Ge<We&&.5<=Be&&Be<2?tickSpec(Ve,$e,Be*2):[We,Ge,Ye]}function ticks(Ve,$e,Be){if($e=+$e,Ve=+Ve,Be=+Be,!(Be>0))return[];if(Ve===$e)return[Ve];const Ue=$e<Ve,[ze,qe,He]=Ue?tickSpec($e,Ve,Be):tickSpec(Ve,$e,Be);if(!(qe>=ze))return[];const We=qe-ze+1,Ge=new Array(We);if(Ue)if(He<0)for(let Ye=0;Ye<We;++Ye)Ge[Ye]=(qe-Ye)/-He;else for(let Ye=0;Ye<We;++Ye)Ge[Ye]=(qe-Ye)*He;else if(He<0)for(let Ye=0;Ye<We;++Ye)Ge[Ye]=(ze+Ye)/-He;else for(let Ye=0;Ye<We;++Ye)Ge[Ye]=(ze+Ye)*He;return Ge}function tickIncrement(Ve,$e,Be){return $e=+$e,Ve=+Ve,Be=+Be,tickSpec(Ve,$e,Be)[2]}function tickStep(Ve,$e,Be){$e=+$e,Ve=+Ve,Be=+Be;const Ue=$e<Ve,ze=Ue?tickIncrement($e,Ve,Be):tickIncrement(Ve,$e,Be);return(Ue?-1:1)*(ze<0?1/-ze:ze)}function max(Ve,$e){let Be;for(const Ue of Ve)Ue!=null&&(Be<Ue||Be===void 0&&Ue>=Ue)&&(Be=Ue);return Be}function min(Ve,$e){let Be;for(const Ue of Ve)Ue!=null&&(Be>Ue||Be===void 0&&Ue>=Ue)&&(Be=Ue);return Be}function quickselect(Ve,$e,Be=0,Ue=1/0,ze){if($e=Math.floor($e),Be=Math.floor(Math.max(0,Be)),Ue=Math.floor(Math.min(Ve.length-1,Ue)),!(Be<=$e&&$e<=Ue))return Ve;for(ze=ze===void 0?ascendingDefined:compareDefined(ze);Ue>Be;){if(Ue-Be>600){const Ge=Ue-Be+1,Ye=$e-Be+1,Xe=Math.log(Ge),Je=.5*Math.exp(2*Xe/3),er=.5*Math.sqrt(Xe*Je*(Ge-Je)/Ge)*(Ye-Ge/2<0?-1:1),Ze=Math.max(Be,Math.floor($e-Ye*Je/Ge+er)),rr=Math.min(Ue,Math.floor($e+(Ge-Ye)*Je/Ge+er));quickselect(Ve,$e,Ze,rr,ze)}const qe=Ve[$e];let He=Be,We=Ue;for(swap(Ve,Be,$e),ze(Ve[Ue],qe)>0&&swap(Ve,Be,Ue);He<We;){for(swap(Ve,He,We),++He,--We;ze(Ve[He],qe)<0;)++He;for(;ze(Ve[We],qe)>0;)--We}ze(Ve[Be],qe)===0?swap(Ve,Be,We):(++We,swap(Ve,We,Ue)),We<=$e&&(Be=We+1),$e<=We&&(Ue=We-1)}return Ve}function swap(Ve,$e,Be){const Ue=Ve[$e];Ve[$e]=Ve[Be],Ve[Be]=Ue}function quantile$1(Ve,$e,Be){if(Ve=Float64Array.from(numbers(Ve)),!(!(Ue=Ve.length)||isNaN($e=+$e))){if($e<=0||Ue<2)return min(Ve);if($e>=1)return max(Ve);var Ue,ze=(Ue-1)*$e,qe=Math.floor(ze),He=max(quickselect(Ve,qe).subarray(0,qe+1)),We=min(Ve.subarray(qe+1));return He+(We-He)*(ze-qe)}}function quantileSorted(Ve,$e,Be=number$2){if(!(!(Ue=Ve.length)||isNaN($e=+$e))){if($e<=0||Ue<2)return+Be(Ve[0],0,Ve);if($e>=1)return+Be(Ve[Ue-1],Ue-1,Ve);var Ue,ze=(Ue-1)*$e,qe=Math.floor(ze),He=+Be(Ve[qe],qe,Ve),We=+Be(Ve[qe+1],qe+1,Ve);return He+(We-He)*(ze-qe)}}function range$1(Ve,$e,Be){Ve=+Ve,$e=+$e,Be=(ze=arguments.length)<2?($e=Ve,Ve=0,1):ze<3?1:+Be;for(var Ue=-1,ze=Math.max(0,Math.ceil(($e-Ve)/Be))|0,qe=new Array(ze);++Ue<ze;)qe[Ue]=Ve+Ue*Be;return qe}function initRange(Ve,$e){switch(arguments.length){case 0:break;case 1:this.range(Ve);break;default:this.range($e).domain(Ve);break}return this}function initInterpolator(Ve,$e){switch(arguments.length){case 0:break;case 1:{typeof Ve=="function"?this.interpolator(Ve):this.range(Ve);break}default:{this.domain(Ve),typeof $e=="function"?this.interpolator($e):this.range($e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var Ve=new InternMap,$e=[],Be=[],Ue=implicit;function ze(qe){let He=Ve.get(qe);if(He===void 0){if(Ue!==implicit)return Ue;Ve.set(qe,He=$e.push(qe)-1)}return Be[He%Be.length]}return ze.domain=function(qe){if(!arguments.length)return $e.slice();$e=[],Ve=new InternMap;for(const He of qe)Ve.has(He)||Ve.set(He,$e.push(He)-1);return ze},ze.range=function(qe){return arguments.length?(Be=Array.from(qe),ze):Be.slice()},ze.unknown=function(qe){return arguments.length?(Ue=qe,ze):Ue},ze.copy=function(){return ordinal($e,Be).unknown(Ue)},initRange.apply(ze,arguments),ze}function band(){var Ve=ordinal().unknown(void 0),$e=Ve.domain,Be=Ve.range,Ue=0,ze=1,qe,He,We=!1,Ge=0,Ye=0,Xe=.5;delete Ve.unknown;function Je(){var er=$e().length,Ze=ze<Ue,rr=Ze?ze:Ue,nr=Ze?Ue:ze;qe=(nr-rr)/Math.max(1,er-Ge+Ye*2),We&&(qe=Math.floor(qe)),rr+=(nr-rr-qe*(er-Ge))*Xe,He=qe*(1-Ge),We&&(rr=Math.round(rr),He=Math.round(He));var ar=range$1(er).map(function(sr){return rr+qe*sr});return Be(Ze?ar.reverse():ar)}return Ve.domain=function(er){return arguments.length?($e(er),Je()):$e()},Ve.range=function(er){return arguments.length?([Ue,ze]=er,Ue=+Ue,ze=+ze,Je()):[Ue,ze]},Ve.rangeRound=function(er){return[Ue,ze]=er,Ue=+Ue,ze=+ze,We=!0,Je()},Ve.bandwidth=function(){return He},Ve.step=function(){return qe},Ve.round=function(er){return arguments.length?(We=!!er,Je()):We},Ve.padding=function(er){return arguments.length?(Ge=Math.min(1,Ye=+er),Je()):Ge},Ve.paddingInner=function(er){return arguments.length?(Ge=Math.min(1,er),Je()):Ge},Ve.paddingOuter=function(er){return arguments.length?(Ye=+er,Je()):Ye},Ve.align=function(er){return arguments.length?(Xe=Math.max(0,Math.min(1,er)),Je()):Xe},Ve.copy=function(){return band($e(),[Ue,ze]).round(We).paddingInner(Ge).paddingOuter(Ye).align(Xe)},initRange.apply(Je(),arguments)}function pointish(Ve){var $e=Ve.copy;return Ve.padding=Ve.paddingOuter,delete Ve.paddingInner,delete Ve.paddingOuter,Ve.copy=function(){return pointish($e())},Ve}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(Ve,$e,Be){Ve.prototype=$e.prototype=Be,Be.constructor=Ve}function extend(Ve,$e){var Be=Object.create(Ve.prototype);for(var Ue in $e)Be[Ue]=$e[Ue];return Be}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(Ve){return Object.assign(new this.constructor,this,Ve)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(Ve){var $e,Be;return Ve=(Ve+"").trim().toLowerCase(),($e=reHex.exec(Ve))?(Be=$e[1].length,$e=parseInt($e[1],16),Be===6?rgbn($e):Be===3?new Rgb($e>>8&15|$e>>4&240,$e>>4&15|$e&240,($e&15)<<4|$e&15,1):Be===8?rgba($e>>24&255,$e>>16&255,$e>>8&255,($e&255)/255):Be===4?rgba($e>>12&15|$e>>8&240,$e>>8&15|$e>>4&240,$e>>4&15|$e&240,(($e&15)<<4|$e&15)/255):null):($e=reRgbInteger.exec(Ve))?new Rgb($e[1],$e[2],$e[3],1):($e=reRgbPercent.exec(Ve))?new Rgb($e[1]*255/100,$e[2]*255/100,$e[3]*255/100,1):($e=reRgbaInteger.exec(Ve))?rgba($e[1],$e[2],$e[3],$e[4]):($e=reRgbaPercent.exec(Ve))?rgba($e[1]*255/100,$e[2]*255/100,$e[3]*255/100,$e[4]):($e=reHslPercent.exec(Ve))?hsla($e[1],$e[2]/100,$e[3]/100,1):($e=reHslaPercent.exec(Ve))?hsla($e[1],$e[2]/100,$e[3]/100,$e[4]):named.hasOwnProperty(Ve)?rgbn(named[Ve]):Ve==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(Ve){return new Rgb(Ve>>16&255,Ve>>8&255,Ve&255,1)}function rgba(Ve,$e,Be,Ue){return Ue<=0&&(Ve=$e=Be=NaN),new Rgb(Ve,$e,Be,Ue)}function rgbConvert(Ve){return Ve instanceof Color||(Ve=color(Ve)),Ve?(Ve=Ve.rgb(),new Rgb(Ve.r,Ve.g,Ve.b,Ve.opacity)):new Rgb}function rgb$1(Ve,$e,Be,Ue){return arguments.length===1?rgbConvert(Ve):new Rgb(Ve,$e,Be,Ue??1)}function Rgb(Ve,$e,Be,Ue){this.r=+Ve,this.g=+$e,this.b=+Be,this.opacity=+Ue}define(Rgb,rgb$1,extend(Color,{brighter(Ve){return Ve=Ve==null?brighter:Math.pow(brighter,Ve),new Rgb(this.r*Ve,this.g*Ve,this.b*Ve,this.opacity)},darker(Ve){return Ve=Ve==null?darker:Math.pow(darker,Ve),new Rgb(this.r*Ve,this.g*Ve,this.b*Ve,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const Ve=clampa(this.opacity);return`${Ve===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${Ve===1?")":`, ${Ve})`}`}function clampa(Ve){return isNaN(Ve)?1:Math.max(0,Math.min(1,Ve))}function clampi(Ve){return Math.max(0,Math.min(255,Math.round(Ve)||0))}function hex(Ve){return Ve=clampi(Ve),(Ve<16?"0":"")+Ve.toString(16)}function hsla(Ve,$e,Be,Ue){return Ue<=0?Ve=$e=Be=NaN:Be<=0||Be>=1?Ve=$e=NaN:$e<=0&&(Ve=NaN),new Hsl(Ve,$e,Be,Ue)}function hslConvert(Ve){if(Ve instanceof Hsl)return new Hsl(Ve.h,Ve.s,Ve.l,Ve.opacity);if(Ve instanceof Color||(Ve=color(Ve)),!Ve)return new Hsl;if(Ve instanceof Hsl)return Ve;Ve=Ve.rgb();var $e=Ve.r/255,Be=Ve.g/255,Ue=Ve.b/255,ze=Math.min($e,Be,Ue),qe=Math.max($e,Be,Ue),He=NaN,We=qe-ze,Ge=(qe+ze)/2;return We?($e===qe?He=(Be-Ue)/We+(Be<Ue)*6:Be===qe?He=(Ue-$e)/We+2:He=($e-Be)/We+4,We/=Ge<.5?qe+ze:2-qe-ze,He*=60):We=Ge>0&&Ge<1?0:He,new Hsl(He,We,Ge,Ve.opacity)}function hsl(Ve,$e,Be,Ue){return arguments.length===1?hslConvert(Ve):new Hsl(Ve,$e,Be,Ue??1)}function Hsl(Ve,$e,Be,Ue){this.h=+Ve,this.s=+$e,this.l=+Be,this.opacity=+Ue}define(Hsl,hsl,extend(Color,{brighter(Ve){return Ve=Ve==null?brighter:Math.pow(brighter,Ve),new Hsl(this.h,this.s,this.l*Ve,this.opacity)},darker(Ve){return Ve=Ve==null?darker:Math.pow(darker,Ve),new Hsl(this.h,this.s,this.l*Ve,this.opacity)},rgb(){var Ve=this.h%360+(this.h<0)*360,$e=isNaN(Ve)||isNaN(this.s)?0:this.s,Be=this.l,Ue=Be+(Be<.5?Be:1-Be)*$e,ze=2*Be-Ue;return new Rgb(hsl2rgb(Ve>=240?Ve-240:Ve+120,ze,Ue),hsl2rgb(Ve,ze,Ue),hsl2rgb(Ve<120?Ve+240:Ve-120,ze,Ue),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const Ve=clampa(this.opacity);return`${Ve===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${Ve===1?")":`, ${Ve})`}`}}));function clamph(Ve){return Ve=(Ve||0)%360,Ve<0?Ve+360:Ve}function clampt(Ve){return Math.max(0,Math.min(1,Ve||0))}function hsl2rgb(Ve,$e,Be){return(Ve<60?$e+(Be-$e)*Ve/60:Ve<180?Be:Ve<240?$e+(Be-$e)*(240-Ve)/60:$e)*255}const constant=Ve=>()=>Ve;function linear$1(Ve,$e){return function(Be){return Ve+Be*$e}}function exponential(Ve,$e,Be){return Ve=Math.pow(Ve,Be),$e=Math.pow($e,Be)-Ve,Be=1/Be,function(Ue){return Math.pow(Ve+Ue*$e,Be)}}function gamma(Ve){return(Ve=+Ve)==1?nogamma:function($e,Be){return Be-$e?exponential($e,Be,Ve):constant(isNaN($e)?Be:$e)}}function nogamma(Ve,$e){var Be=$e-Ve;return Be?linear$1(Ve,Be):constant(isNaN(Ve)?$e:Ve)}const rgb=(function Ve($e){var Be=gamma($e);function Ue(ze,qe){var He=Be((ze=rgb$1(ze)).r,(qe=rgb$1(qe)).r),We=Be(ze.g,qe.g),Ge=Be(ze.b,qe.b),Ye=nogamma(ze.opacity,qe.opacity);return function(Xe){return ze.r=He(Xe),ze.g=We(Xe),ze.b=Ge(Xe),ze.opacity=Ye(Xe),ze+""}}return Ue.gamma=Ve,Ue})(1);function numberArray(Ve,$e){$e||($e=[]);var Be=Ve?Math.min($e.length,Ve.length):0,Ue=$e.slice(),ze;return function(qe){for(ze=0;ze<Be;++ze)Ue[ze]=Ve[ze]*(1-qe)+$e[ze]*qe;return Ue}}function isNumberArray(Ve){return ArrayBuffer.isView(Ve)&&!(Ve instanceof DataView)}function genericArray(Ve,$e){var Be=$e?$e.length:0,Ue=Ve?Math.min(Be,Ve.length):0,ze=new Array(Ue),qe=new Array(Be),He;for(He=0;He<Ue;++He)ze[He]=interpolate(Ve[He],$e[He]);for(;He<Be;++He)qe[He]=$e[He];return function(We){for(He=0;He<Ue;++He)qe[He]=ze[He](We);return qe}}function date$1(Ve,$e){var Be=new Date;return Ve=+Ve,$e=+$e,function(Ue){return Be.setTime(Ve*(1-Ue)+$e*Ue),Be}}function interpolateNumber(Ve,$e){return Ve=+Ve,$e=+$e,function(Be){return Ve*(1-Be)+$e*Be}}function object(Ve,$e){var Be={},Ue={},ze;(Ve===null||typeof Ve!="object")&&(Ve={}),($e===null||typeof $e!="object")&&($e={});for(ze in $e)ze in Ve?Be[ze]=interpolate(Ve[ze],$e[ze]):Ue[ze]=$e[ze];return function(qe){for(ze in Be)Ue[ze]=Be[ze](qe);return Ue}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(Ve){return function(){return Ve}}function one(Ve){return function($e){return Ve($e)+""}}function string(Ve,$e){var Be=reA.lastIndex=reB.lastIndex=0,Ue,ze,qe,He=-1,We=[],Ge=[];for(Ve=Ve+"",$e=$e+"";(Ue=reA.exec(Ve))&&(ze=reB.exec($e));)(qe=ze.index)>Be&&(qe=$e.slice(Be,qe),We[He]?We[He]+=qe:We[++He]=qe),(Ue=Ue[0])===(ze=ze[0])?We[He]?We[He]+=ze:We[++He]=ze:(We[++He]=null,Ge.push({i:He,x:interpolateNumber(Ue,ze)})),Be=reB.lastIndex;return Be<$e.length&&(qe=$e.slice(Be),We[He]?We[He]+=qe:We[++He]=qe),We.length<2?Ge[0]?one(Ge[0].x):zero($e):($e=Ge.length,function(Ye){for(var Xe=0,Je;Xe<$e;++Xe)We[(Je=Ge[Xe]).i]=Je.x(Ye);return We.join("")})}function interpolate(Ve,$e){var Be=typeof $e,Ue;return $e==null||Be==="boolean"?constant($e):(Be==="number"?interpolateNumber:Be==="string"?(Ue=color($e))?($e=Ue,rgb):string:$e instanceof color?rgb:$e instanceof Date?date$1:isNumberArray($e)?numberArray:Array.isArray($e)?genericArray:typeof $e.valueOf!="function"&&typeof $e.toString!="function"||isNaN($e)?object:interpolateNumber)(Ve,$e)}function interpolateRound(Ve,$e){return Ve=+Ve,$e=+$e,function(Be){return Math.round(Ve*(1-Be)+$e*Be)}}function piecewise(Ve,$e){$e===void 0&&($e=Ve,Ve=interpolate);for(var Be=0,Ue=$e.length-1,ze=$e[0],qe=new Array(Ue<0?0:Ue);Be<Ue;)qe[Be]=Ve(ze,ze=$e[++Be]);return function(He){var We=Math.max(0,Math.min(Ue-1,Math.floor(He*=Ue)));return qe[We](He-We)}}function constants(Ve){return function(){return Ve}}function number$1(Ve){return+Ve}var unit=[0,1];function identity$3(Ve){return Ve}function normalize(Ve,$e){return($e-=Ve=+Ve)?function(Be){return(Be-Ve)/$e}:constants(isNaN($e)?NaN:.5)}function clamper(Ve,$e){var Be;return Ve>$e&&(Be=Ve,Ve=$e,$e=Be),function(Ue){return Math.max(Ve,Math.min($e,Ue))}}function bimap(Ve,$e,Be){var Ue=Ve[0],ze=Ve[1],qe=$e[0],He=$e[1];return ze<Ue?(Ue=normalize(ze,Ue),qe=Be(He,qe)):(Ue=normalize(Ue,ze),qe=Be(qe,He)),function(We){return qe(Ue(We))}}function polymap(Ve,$e,Be){var Ue=Math.min(Ve.length,$e.length)-1,ze=new Array(Ue),qe=new Array(Ue),He=-1;for(Ve[Ue]<Ve[0]&&(Ve=Ve.slice().reverse(),$e=$e.slice().reverse());++He<Ue;)ze[He]=normalize(Ve[He],Ve[He+1]),qe[He]=Be($e[He],$e[He+1]);return function(We){var Ge=bisectRight(Ve,We,1,Ue)-1;return qe[Ge](ze[Ge](We))}}function copy$1(Ve,$e){return $e.domain(Ve.domain()).range(Ve.range()).interpolate(Ve.interpolate()).clamp(Ve.clamp()).unknown(Ve.unknown())}function transformer$2(){var Ve=unit,$e=unit,Be=interpolate,Ue,ze,qe,He=identity$3,We,Ge,Ye;function Xe(){var er=Math.min(Ve.length,$e.length);return He!==identity$3&&(He=clamper(Ve[0],Ve[er-1])),We=er>2?polymap:bimap,Ge=Ye=null,Je}function Je(er){return er==null||isNaN(er=+er)?qe:(Ge||(Ge=We(Ve.map(Ue),$e,Be)))(Ue(He(er)))}return Je.invert=function(er){return He(ze((Ye||(Ye=We($e,Ve.map(Ue),interpolateNumber)))(er)))},Je.domain=function(er){return arguments.length?(Ve=Array.from(er,number$1),Xe()):Ve.slice()},Je.range=function(er){return arguments.length?($e=Array.from(er),Xe()):$e.slice()},Je.rangeRound=function(er){return $e=Array.from(er),Be=interpolateRound,Xe()},Je.clamp=function(er){return arguments.length?(He=er?!0:identity$3,Xe()):He!==identity$3},Je.interpolate=function(er){return arguments.length?(Be=er,Xe()):Be},Je.unknown=function(er){return arguments.length?(qe=er,Je):qe},function(er,Ze){return Ue=er,ze=Ze,Xe()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(Ve){return Math.abs(Ve=Math.round(Ve))>=1e21?Ve.toLocaleString("en").replace(/,/g,""):Ve.toString(10)}function formatDecimalParts(Ve,$e){if((Be=(Ve=$e?Ve.toExponential($e-1):Ve.toExponential()).indexOf("e"))<0)return null;var Be,Ue=Ve.slice(0,Be);return[Ue.length>1?Ue[0]+Ue.slice(2):Ue,+Ve.slice(Be+1)]}function exponent(Ve){return Ve=formatDecimalParts(Math.abs(Ve)),Ve?Ve[1]:NaN}function formatGroup(Ve,$e){return function(Be,Ue){for(var ze=Be.length,qe=[],He=0,We=Ve[0],Ge=0;ze>0&&We>0&&(Ge+We+1>Ue&&(We=Math.max(1,Ue-Ge)),qe.push(Be.substring(ze-=We,ze+We)),!((Ge+=We+1)>Ue));)We=Ve[He=(He+1)%Ve.length];return qe.reverse().join($e)}}function formatNumerals(Ve){return function($e){return $e.replace(/[0-9]/g,function(Be){return Ve[+Be]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(Ve){if(!($e=re$1.exec(Ve)))throw new Error("invalid format: "+Ve);var $e;return new FormatSpecifier({fill:$e[1],align:$e[2],sign:$e[3],symbol:$e[4],zero:$e[5],width:$e[6],comma:$e[7],precision:$e[8]&&$e[8].slice(1),trim:$e[9],type:$e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(Ve){this.fill=Ve.fill===void 0?" ":Ve.fill+"",this.align=Ve.align===void 0?">":Ve.align+"",this.sign=Ve.sign===void 0?"-":Ve.sign+"",this.symbol=Ve.symbol===void 0?"":Ve.symbol+"",this.zero=!!Ve.zero,this.width=Ve.width===void 0?void 0:+Ve.width,this.comma=!!Ve.comma,this.precision=Ve.precision===void 0?void 0:+Ve.precision,this.trim=!!Ve.trim,this.type=Ve.type===void 0?"":Ve.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(Ve){e:for(var $e=Ve.length,Be=1,Ue=-1,ze;Be<$e;++Be)switch(Ve[Be]){case".":Ue=ze=Be;break;case"0":Ue===0&&(Ue=Be),ze=Be;break;default:if(!+Ve[Be])break e;Ue>0&&(Ue=0);break}return Ue>0?Ve.slice(0,Ue)+Ve.slice(ze+1):Ve}var prefixExponent;function formatPrefixAuto(Ve,$e){var Be=formatDecimalParts(Ve,$e);if(!Be)return Ve+"";var Ue=Be[0],ze=Be[1],qe=ze-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(ze/3)))*3)+1,He=Ue.length;return qe===He?Ue:qe>He?Ue+new Array(qe-He+1).join("0"):qe>0?Ue.slice(0,qe)+"."+Ue.slice(qe):"0."+new Array(1-qe).join("0")+formatDecimalParts(Ve,Math.max(0,$e+qe-1))[0]}function formatRounded(Ve,$e){var Be=formatDecimalParts(Ve,$e);if(!Be)return Ve+"";var Ue=Be[0],ze=Be[1];return ze<0?"0."+new Array(-ze).join("0")+Ue:Ue.length>ze+1?Ue.slice(0,ze+1)+"."+Ue.slice(ze+1):Ue+new Array(ze-Ue.length+2).join("0")}const formatTypes={"%":(Ve,$e)=>(Ve*100).toFixed($e),b:Ve=>Math.round(Ve).toString(2),c:Ve=>Ve+"",d:formatDecimal,e:(Ve,$e)=>Ve.toExponential($e),f:(Ve,$e)=>Ve.toFixed($e),g:(Ve,$e)=>Ve.toPrecision($e),o:Ve=>Math.round(Ve).toString(8),p:(Ve,$e)=>formatRounded(Ve*100,$e),r:formatRounded,s:formatPrefixAuto,X:Ve=>Math.round(Ve).toString(16).toUpperCase(),x:Ve=>Math.round(Ve).toString(16)};function identity$2(Ve){return Ve}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(Ve){var $e=Ve.grouping===void 0||Ve.thousands===void 0?identity$2:formatGroup(map$1.call(Ve.grouping,Number),Ve.thousands+""),Be=Ve.currency===void 0?"":Ve.currency[0]+"",Ue=Ve.currency===void 0?"":Ve.currency[1]+"",ze=Ve.decimal===void 0?".":Ve.decimal+"",qe=Ve.numerals===void 0?identity$2:formatNumerals(map$1.call(Ve.numerals,String)),He=Ve.percent===void 0?"%":Ve.percent+"",We=Ve.minus===void 0?"":Ve.minus+"",Ge=Ve.nan===void 0?"NaN":Ve.nan+"";function Ye(Je){Je=formatSpecifier(Je);var er=Je.fill,Ze=Je.align,rr=Je.sign,nr=Je.symbol,ar=Je.zero,sr=Je.width,lr=Je.comma,or=Je.precision,cr=Je.trim,hr=Je.type;hr==="n"?(lr=!0,hr="g"):formatTypes[hr]||(or===void 0&&(or=12),cr=!0,hr="g"),(ar||er==="0"&&Ze==="=")&&(ar=!0,er="0",Ze="=");var yr=nr==="$"?Be:nr==="#"&&/[boxX]/.test(hr)?"0"+hr.toLowerCase():"",mr=nr==="$"?Ue:/[%p]/.test(hr)?He:"",vr=formatTypes[hr],_r=/[defgprs%]/.test(hr);or=or===void 0?6:/[gprs]/.test(hr)?Math.max(1,Math.min(21,or)):Math.max(0,Math.min(20,or));function Cr(br){var fr=yr,Sr=mr,Dr,Or,Er;if(hr==="c")Sr=vr(br)+Sr,br="";else{br=+br;var Nr=br<0||1/br<0;if(br=isNaN(br)?Ge:vr(Math.abs(br),or),cr&&(br=formatTrim(br)),Nr&&+br==0&&rr!=="+"&&(Nr=!1),fr=(Nr?rr==="("?rr:We:rr==="-"||rr==="("?"":rr)+fr,Sr=(hr==="s"?prefixes[8+prefixExponent/3]:"")+Sr+(Nr&&rr==="("?")":""),_r){for(Dr=-1,Or=br.length;++Dr<Or;)if(Er=br.charCodeAt(Dr),48>Er||Er>57){Sr=(Er===46?ze+br.slice(Dr+1):br.slice(Dr))+Sr,br=br.slice(0,Dr);break}}}lr&&!ar&&(br=$e(br,1/0));var wr=fr.length+br.length+Sr.length,Ar=wr<sr?new Array(sr-wr+1).join(er):"";switch(lr&&ar&&(br=$e(Ar+br,Ar.length?sr-Sr.length:1/0),Ar=""),Ze){case"<":br=fr+br+Sr+Ar;break;case"=":br=fr+Ar+br+Sr;break;case"^":br=Ar.slice(0,wr=Ar.length>>1)+fr+br+Sr+Ar.slice(wr);break;default:br=Ar+fr+br+Sr;break}return qe(br)}return Cr.toString=function(){return Je+""},Cr}function Xe(Je,er){var Ze=Ye((Je=formatSpecifier(Je),Je.type="f",Je)),rr=Math.max(-8,Math.min(8,Math.floor(exponent(er)/3)))*3,nr=Math.pow(10,-rr),ar=prefixes[8+rr/3];return function(sr){return Ze(nr*sr)+ar}}return{format:Ye,formatPrefix:Xe}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(Ve){return locale$1=formatLocale$1(Ve),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(Ve){return Math.max(0,-exponent(Math.abs(Ve)))}function precisionPrefix(Ve,$e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent($e)/3)))*3-exponent(Math.abs(Ve)))}function precisionRound(Ve,$e){return Ve=Math.abs(Ve),$e=Math.abs($e)-Ve,Math.max(0,exponent($e)-exponent(Ve))+1}function tickFormat(Ve,$e,Be,Ue){var ze=tickStep(Ve,$e,Be),qe;switch(Ue=formatSpecifier(Ue??",f"),Ue.type){case"s":{var He=Math.max(Math.abs(Ve),Math.abs($e));return Ue.precision==null&&!isNaN(qe=precisionPrefix(ze,He))&&(Ue.precision=qe),formatPrefix(Ue,He)}case"":case"e":case"g":case"p":case"r":{Ue.precision==null&&!isNaN(qe=precisionRound(ze,Math.max(Math.abs(Ve),Math.abs($e))))&&(Ue.precision=qe-(Ue.type==="e"));break}case"f":case"%":{Ue.precision==null&&!isNaN(qe=precisionFixed(ze))&&(Ue.precision=qe-(Ue.type==="%")*2);break}}return format(Ue)}function linearish(Ve){var $e=Ve.domain;return Ve.ticks=function(Be){var Ue=$e();return ticks(Ue[0],Ue[Ue.length-1],Be??10)},Ve.tickFormat=function(Be,Ue){var ze=$e();return tickFormat(ze[0],ze[ze.length-1],Be??10,Ue)},Ve.nice=function(Be){Be==null&&(Be=10);var Ue=$e(),ze=0,qe=Ue.length-1,He=Ue[ze],We=Ue[qe],Ge,Ye,Xe=10;for(We<He&&(Ye=He,He=We,We=Ye,Ye=ze,ze=qe,qe=Ye);Xe-- >0;){if(Ye=tickIncrement(He,We,Be),Ye===Ge)return Ue[ze]=He,Ue[qe]=We,$e(Ue);if(Ye>0)He=Math.floor(He/Ye)*Ye,We=Math.ceil(We/Ye)*Ye;else if(Ye<0)He=Math.ceil(He*Ye)/Ye,We=Math.floor(We*Ye)/Ye;else break;Ge=Ye}return Ve},Ve}function linear(){var Ve=continuous();return Ve.copy=function(){return copy$1(Ve,linear())},initRange.apply(Ve,arguments),linearish(Ve)}function identity$1(Ve){var $e;function Be(Ue){return Ue==null||isNaN(Ue=+Ue)?$e:Ue}return Be.invert=Be,Be.domain=Be.range=function(Ue){return arguments.length?(Ve=Array.from(Ue,number$1),Be):Ve.slice()},Be.unknown=function(Ue){return arguments.length?($e=Ue,Be):$e},Be.copy=function(){return identity$1(Ve).unknown($e)},Ve=arguments.length?Array.from(Ve,number$1):[0,1],linearish(Be)}function nice(Ve,$e){Ve=Ve.slice();var Be=0,Ue=Ve.length-1,ze=Ve[Be],qe=Ve[Ue],He;return qe<ze&&(He=Be,Be=Ue,Ue=He,He=ze,ze=qe,qe=He),Ve[Be]=$e.floor(ze),Ve[Ue]=$e.ceil(qe),Ve}function transformLog(Ve){return Math.log(Ve)}function transformExp(Ve){return Math.exp(Ve)}function transformLogn(Ve){return-Math.log(-Ve)}function transformExpn(Ve){return-Math.exp(-Ve)}function pow10(Ve){return isFinite(Ve)?+("1e"+Ve):Ve<0?0:Ve}function powp(Ve){return Ve===10?pow10:Ve===Math.E?Math.exp:$e=>Math.pow(Ve,$e)}function logp(Ve){return Ve===Math.E?Math.log:Ve===10&&Math.log10||Ve===2&&Math.log2||(Ve=Math.log(Ve),$e=>Math.log($e)/Ve)}function reflect(Ve){return($e,Be)=>-Ve(-$e,Be)}function loggish(Ve){const $e=Ve(transformLog,transformExp),Be=$e.domain;let Ue=10,ze,qe;function He(){return ze=logp(Ue),qe=powp(Ue),Be()[0]<0?(ze=reflect(ze),qe=reflect(qe),Ve(transformLogn,transformExpn)):Ve(transformLog,transformExp),$e}return $e.base=function(We){return arguments.length?(Ue=+We,He()):Ue},$e.domain=function(We){return arguments.length?(Be(We),He()):Be()},$e.ticks=We=>{const Ge=Be();let Ye=Ge[0],Xe=Ge[Ge.length-1];const Je=Xe<Ye;Je&&([Ye,Xe]=[Xe,Ye]);let er=ze(Ye),Ze=ze(Xe),rr,nr;const ar=We==null?10:+We;let sr=[];if(!(Ue%1)&&Ze-er<ar){if(er=Math.floor(er),Ze=Math.ceil(Ze),Ye>0){for(;er<=Ze;++er)for(rr=1;rr<Ue;++rr)if(nr=er<0?rr/qe(-er):rr*qe(er),!(nr<Ye)){if(nr>Xe)break;sr.push(nr)}}else for(;er<=Ze;++er)for(rr=Ue-1;rr>=1;--rr)if(nr=er>0?rr/qe(-er):rr*qe(er),!(nr<Ye)){if(nr>Xe)break;sr.push(nr)}sr.length*2<ar&&(sr=ticks(Ye,Xe,ar))}else sr=ticks(er,Ze,Math.min(Ze-er,ar)).map(qe);return Je?sr.reverse():sr},$e.tickFormat=(We,Ge)=>{if(We==null&&(We=10),Ge==null&&(Ge=Ue===10?"s":","),typeof Ge!="function"&&(!(Ue%1)&&(Ge=formatSpecifier(Ge)).precision==null&&(Ge.trim=!0),Ge=format(Ge)),We===1/0)return Ge;const Ye=Math.max(1,Ue*We/$e.ticks().length);return Xe=>{let Je=Xe/qe(Math.round(ze(Xe)));return Je*Ue<Ue-.5&&(Je*=Ue),Je<=Ye?Ge(Xe):""}},$e.nice=()=>Be(nice(Be(),{floor:We=>qe(Math.floor(ze(We))),ceil:We=>qe(Math.ceil(ze(We)))})),$e}function log(){const Ve=loggish(transformer$2()).domain([1,10]);return Ve.copy=()=>copy$1(Ve,log()).base(Ve.base()),initRange.apply(Ve,arguments),Ve}function transformSymlog(Ve){return function($e){return Math.sign($e)*Math.log1p(Math.abs($e/Ve))}}function transformSymexp(Ve){return function($e){return Math.sign($e)*Math.expm1(Math.abs($e))*Ve}}function symlogish(Ve){var $e=1,Be=Ve(transformSymlog($e),transformSymexp($e));return Be.constant=function(Ue){return arguments.length?Ve(transformSymlog($e=+Ue),transformSymexp($e)):$e},linearish(Be)}function symlog(){var Ve=symlogish(transformer$2());return Ve.copy=function(){return copy$1(Ve,symlog()).constant(Ve.constant())},initRange.apply(Ve,arguments)}function transformPow(Ve){return function($e){return $e<0?-Math.pow(-$e,Ve):Math.pow($e,Ve)}}function transformSqrt(Ve){return Ve<0?-Math.sqrt(-Ve):Math.sqrt(Ve)}function transformSquare(Ve){return Ve<0?-Ve*Ve:Ve*Ve}function powish(Ve){var $e=Ve(identity$3,identity$3),Be=1;function Ue(){return Be===1?Ve(identity$3,identity$3):Be===.5?Ve(transformSqrt,transformSquare):Ve(transformPow(Be),transformPow(1/Be))}return $e.exponent=function(ze){return arguments.length?(Be=+ze,Ue()):Be},linearish($e)}function pow(){var Ve=powish(transformer$2());return Ve.copy=function(){return copy$1(Ve,pow()).exponent(Ve.exponent())},initRange.apply(Ve,arguments),Ve}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(Ve){return Math.sign(Ve)*Ve*Ve}function unsquare(Ve){return Math.sign(Ve)*Math.sqrt(Math.abs(Ve))}function radial(){var Ve=continuous(),$e=[0,1],Be=!1,Ue;function ze(qe){var He=unsquare(Ve(qe));return isNaN(He)?Ue:Be?Math.round(He):He}return ze.invert=function(qe){return Ve.invert(square(qe))},ze.domain=function(qe){return arguments.length?(Ve.domain(qe),ze):Ve.domain()},ze.range=function(qe){return arguments.length?(Ve.range(($e=Array.from(qe,number$1)).map(square)),ze):$e.slice()},ze.rangeRound=function(qe){return ze.range(qe).round(!0)},ze.round=function(qe){return arguments.length?(Be=!!qe,ze):Be},ze.clamp=function(qe){return arguments.length?(Ve.clamp(qe),ze):Ve.clamp()},ze.unknown=function(qe){return arguments.length?(Ue=qe,ze):Ue},ze.copy=function(){return radial(Ve.domain(),$e).round(Be).clamp(Ve.clamp()).unknown(Ue)},initRange.apply(ze,arguments),linearish(ze)}function quantile(){var Ve=[],$e=[],Be=[],Ue;function ze(){var He=0,We=Math.max(1,$e.length);for(Be=new Array(We-1);++He<We;)Be[He-1]=quantileSorted(Ve,He/We);return qe}function qe(He){return He==null||isNaN(He=+He)?Ue:$e[bisectRight(Be,He)]}return qe.invertExtent=function(He){var We=$e.indexOf(He);return We<0?[NaN,NaN]:[We>0?Be[We-1]:Ve[0],We<Be.length?Be[We]:Ve[Ve.length-1]]},qe.domain=function(He){if(!arguments.length)return Ve.slice();Ve=[];for(let We of He)We!=null&&!isNaN(We=+We)&&Ve.push(We);return Ve.sort(ascending),ze()},qe.range=function(He){return arguments.length?($e=Array.from(He),ze()):$e.slice()},qe.unknown=function(He){return arguments.length?(Ue=He,qe):Ue},qe.quantiles=function(){return Be.slice()},qe.copy=function(){return quantile().domain(Ve).range($e).unknown(Ue)},initRange.apply(qe,arguments)}function quantize(){var Ve=0,$e=1,Be=1,Ue=[.5],ze=[0,1],qe;function He(Ge){return Ge!=null&&Ge<=Ge?ze[bisectRight(Ue,Ge,0,Be)]:qe}function We(){var Ge=-1;for(Ue=new Array(Be);++Ge<Be;)Ue[Ge]=((Ge+1)*$e-(Ge-Be)*Ve)/(Be+1);return He}return He.domain=function(Ge){return arguments.length?([Ve,$e]=Ge,Ve=+Ve,$e=+$e,We()):[Ve,$e]},He.range=function(Ge){return arguments.length?(Be=(ze=Array.from(Ge)).length-1,We()):ze.slice()},He.invertExtent=function(Ge){var Ye=ze.indexOf(Ge);return Ye<0?[NaN,NaN]:Ye<1?[Ve,Ue[0]]:Ye>=Be?[Ue[Be-1],$e]:[Ue[Ye-1],Ue[Ye]]},He.unknown=function(Ge){return arguments.length&&(qe=Ge),He},He.thresholds=function(){return Ue.slice()},He.copy=function(){return quantize().domain([Ve,$e]).range(ze).unknown(qe)},initRange.apply(linearish(He),arguments)}function threshold(){var Ve=[.5],$e=[0,1],Be,Ue=1;function ze(qe){return qe!=null&&qe<=qe?$e[bisectRight(Ve,qe,0,Ue)]:Be}return ze.domain=function(qe){return arguments.length?(Ve=Array.from(qe),Ue=Math.min(Ve.length,$e.length-1),ze):Ve.slice()},ze.range=function(qe){return arguments.length?($e=Array.from(qe),Ue=Math.min(Ve.length,$e.length-1),ze):$e.slice()},ze.invertExtent=function(qe){var He=$e.indexOf(qe);return[Ve[He-1],Ve[He]]},ze.unknown=function(qe){return arguments.length?(Be=qe,ze):Be},ze.copy=function(){return threshold().domain(Ve).range($e).unknown(Be)},initRange.apply(ze,arguments)}const t0=new Date,t1=new Date;function timeInterval(Ve,$e,Be,Ue){function ze(qe){return Ve(qe=arguments.length===0?new Date:new Date(+qe)),qe}return ze.floor=qe=>(Ve(qe=new Date(+qe)),qe),ze.ceil=qe=>(Ve(qe=new Date(qe-1)),$e(qe,1),Ve(qe),qe),ze.round=qe=>{const He=ze(qe),We=ze.ceil(qe);return qe-He<We-qe?He:We},ze.offset=(qe,He)=>($e(qe=new Date(+qe),He==null?1:Math.floor(He)),qe),ze.range=(qe,He,We)=>{const Ge=[];if(qe=ze.ceil(qe),We=We==null?1:Math.floor(We),!(qe<He)||!(We>0))return Ge;let Ye;do Ge.push(Ye=new Date(+qe)),$e(qe,We),Ve(qe);while(Ye<qe&&qe<He);return Ge},ze.filter=qe=>timeInterval(He=>{if(He>=He)for(;Ve(He),!qe(He);)He.setTime(He-1)},(He,We)=>{if(He>=He)if(We<0)for(;++We<=0;)for(;$e(He,-1),!qe(He););else for(;--We>=0;)for(;$e(He,1),!qe(He););}),Be&&(ze.count=(qe,He)=>(t0.setTime(+qe),t1.setTime(+He),Ve(t0),Ve(t1),Math.floor(Be(t0,t1))),ze.every=qe=>(qe=Math.floor(qe),!isFinite(qe)||!(qe>0)?null:qe>1?ze.filter(Ue?He=>Ue(He)%qe===0:He=>ze.count(0,He)%qe===0):ze)),ze}const millisecond=timeInterval(()=>{},(Ve,$e)=>{Ve.setTime(+Ve+$e)},(Ve,$e)=>$e-Ve);millisecond.every=Ve=>(Ve=Math.floor(Ve),!isFinite(Ve)||!(Ve>0)?null:Ve>1?timeInterval($e=>{$e.setTime(Math.floor($e/Ve)*Ve)},($e,Be)=>{$e.setTime(+$e+Be*Ve)},($e,Be)=>(Be-$e)/Ve):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(Ve=>{Ve.setTime(Ve-Ve.getMilliseconds())},(Ve,$e)=>{Ve.setTime(+Ve+$e*durationSecond)},(Ve,$e)=>($e-Ve)/durationSecond,Ve=>Ve.getUTCSeconds());second.range;const timeMinute=timeInterval(Ve=>{Ve.setTime(Ve-Ve.getMilliseconds()-Ve.getSeconds()*durationSecond)},(Ve,$e)=>{Ve.setTime(+Ve+$e*durationMinute)},(Ve,$e)=>($e-Ve)/durationMinute,Ve=>Ve.getMinutes());timeMinute.range;const utcMinute=timeInterval(Ve=>{Ve.setUTCSeconds(0,0)},(Ve,$e)=>{Ve.setTime(+Ve+$e*durationMinute)},(Ve,$e)=>($e-Ve)/durationMinute,Ve=>Ve.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(Ve=>{Ve.setTime(Ve-Ve.getMilliseconds()-Ve.getSeconds()*durationSecond-Ve.getMinutes()*durationMinute)},(Ve,$e)=>{Ve.setTime(+Ve+$e*durationHour)},(Ve,$e)=>($e-Ve)/durationHour,Ve=>Ve.getHours());timeHour.range;const utcHour=timeInterval(Ve=>{Ve.setUTCMinutes(0,0,0)},(Ve,$e)=>{Ve.setTime(+Ve+$e*durationHour)},(Ve,$e)=>($e-Ve)/durationHour,Ve=>Ve.getUTCHours());utcHour.range;const timeDay=timeInterval(Ve=>Ve.setHours(0,0,0,0),(Ve,$e)=>Ve.setDate(Ve.getDate()+$e),(Ve,$e)=>($e-Ve-($e.getTimezoneOffset()-Ve.getTimezoneOffset())*durationMinute)/durationDay,Ve=>Ve.getDate()-1);timeDay.range;const utcDay=timeInterval(Ve=>{Ve.setUTCHours(0,0,0,0)},(Ve,$e)=>{Ve.setUTCDate(Ve.getUTCDate()+$e)},(Ve,$e)=>($e-Ve)/durationDay,Ve=>Ve.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(Ve=>{Ve.setUTCHours(0,0,0,0)},(Ve,$e)=>{Ve.setUTCDate(Ve.getUTCDate()+$e)},(Ve,$e)=>($e-Ve)/durationDay,Ve=>Math.floor(Ve/durationDay));unixDay.range;function timeWeekday(Ve){return timeInterval($e=>{$e.setDate($e.getDate()-($e.getDay()+7-Ve)%7),$e.setHours(0,0,0,0)},($e,Be)=>{$e.setDate($e.getDate()+Be*7)},($e,Be)=>(Be-$e-(Be.getTimezoneOffset()-$e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(Ve){return timeInterval($e=>{$e.setUTCDate($e.getUTCDate()-($e.getUTCDay()+7-Ve)%7),$e.setUTCHours(0,0,0,0)},($e,Be)=>{$e.setUTCDate($e.getUTCDate()+Be*7)},($e,Be)=>(Be-$e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(Ve=>{Ve.setDate(1),Ve.setHours(0,0,0,0)},(Ve,$e)=>{Ve.setMonth(Ve.getMonth()+$e)},(Ve,$e)=>$e.getMonth()-Ve.getMonth()+($e.getFullYear()-Ve.getFullYear())*12,Ve=>Ve.getMonth());timeMonth.range;const utcMonth=timeInterval(Ve=>{Ve.setUTCDate(1),Ve.setUTCHours(0,0,0,0)},(Ve,$e)=>{Ve.setUTCMonth(Ve.getUTCMonth()+$e)},(Ve,$e)=>$e.getUTCMonth()-Ve.getUTCMonth()+($e.getUTCFullYear()-Ve.getUTCFullYear())*12,Ve=>Ve.getUTCMonth());utcMonth.range;const timeYear=timeInterval(Ve=>{Ve.setMonth(0,1),Ve.setHours(0,0,0,0)},(Ve,$e)=>{Ve.setFullYear(Ve.getFullYear()+$e)},(Ve,$e)=>$e.getFullYear()-Ve.getFullYear(),Ve=>Ve.getFullYear());timeYear.every=Ve=>!isFinite(Ve=Math.floor(Ve))||!(Ve>0)?null:timeInterval($e=>{$e.setFullYear(Math.floor($e.getFullYear()/Ve)*Ve),$e.setMonth(0,1),$e.setHours(0,0,0,0)},($e,Be)=>{$e.setFullYear($e.getFullYear()+Be*Ve)});timeYear.range;const utcYear=timeInterval(Ve=>{Ve.setUTCMonth(0,1),Ve.setUTCHours(0,0,0,0)},(Ve,$e)=>{Ve.setUTCFullYear(Ve.getUTCFullYear()+$e)},(Ve,$e)=>$e.getUTCFullYear()-Ve.getUTCFullYear(),Ve=>Ve.getUTCFullYear());utcYear.every=Ve=>!isFinite(Ve=Math.floor(Ve))||!(Ve>0)?null:timeInterval($e=>{$e.setUTCFullYear(Math.floor($e.getUTCFullYear()/Ve)*Ve),$e.setUTCMonth(0,1),$e.setUTCHours(0,0,0,0)},($e,Be)=>{$e.setUTCFullYear($e.getUTCFullYear()+Be*Ve)});utcYear.range;function ticker(Ve,$e,Be,Ue,ze,qe){const He=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[qe,1,durationMinute],[qe,5,5*durationMinute],[qe,15,15*durationMinute],[qe,30,30*durationMinute],[ze,1,durationHour],[ze,3,3*durationHour],[ze,6,6*durationHour],[ze,12,12*durationHour],[Ue,1,durationDay],[Ue,2,2*durationDay],[Be,1,durationWeek],[$e,1,durationMonth],[$e,3,3*durationMonth],[Ve,1,durationYear]];function We(Ye,Xe,Je){const er=Xe<Ye;er&&([Ye,Xe]=[Xe,Ye]);const Ze=Je&&typeof Je.range=="function"?Je:Ge(Ye,Xe,Je),rr=Ze?Ze.range(Ye,+Xe+1):[];return er?rr.reverse():rr}function Ge(Ye,Xe,Je){const er=Math.abs(Xe-Ye)/Je,Ze=bisector(([,,ar])=>ar).right(He,er);if(Ze===He.length)return Ve.every(tickStep(Ye/durationYear,Xe/durationYear,Je));if(Ze===0)return millisecond.every(Math.max(tickStep(Ye,Xe,Je),1));const[rr,nr]=He[er/He[Ze-1][2]<He[Ze][2]/er?Ze-1:Ze];return rr.every(nr)}return[We,Ge]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(Ve){if(0<=Ve.y&&Ve.y<100){var $e=new Date(-1,Ve.m,Ve.d,Ve.H,Ve.M,Ve.S,Ve.L);return $e.setFullYear(Ve.y),$e}return new Date(Ve.y,Ve.m,Ve.d,Ve.H,Ve.M,Ve.S,Ve.L)}function utcDate(Ve){if(0<=Ve.y&&Ve.y<100){var $e=new Date(Date.UTC(-1,Ve.m,Ve.d,Ve.H,Ve.M,Ve.S,Ve.L));return $e.setUTCFullYear(Ve.y),$e}return new Date(Date.UTC(Ve.y,Ve.m,Ve.d,Ve.H,Ve.M,Ve.S,Ve.L))}function newDate(Ve,$e,Be){return{y:Ve,m:$e,d:Be,H:0,M:0,S:0,L:0}}function formatLocale(Ve){var $e=Ve.dateTime,Be=Ve.date,Ue=Ve.time,ze=Ve.periods,qe=Ve.days,He=Ve.shortDays,We=Ve.months,Ge=Ve.shortMonths,Ye=formatRe(ze),Xe=formatLookup(ze),Je=formatRe(qe),er=formatLookup(qe),Ze=formatRe(He),rr=formatLookup(He),nr=formatRe(We),ar=formatLookup(We),sr=formatRe(Ge),lr=formatLookup(Ge),or={a:Nr,A:wr,b:Ar,B:Lr,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Pr,q:Tr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},cr={a:Vr,A:Ur,b:Yr,B:Qr,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:mn,q:An,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},hr={a:Cr,A:br,b:fr,B:Sr,c:Dr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:_r,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Or,X:Er,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};or.x=yr(Be,or),or.X=yr(Ue,or),or.c=yr($e,or),cr.x=yr(Be,cr),cr.X=yr(Ue,cr),cr.c=yr($e,cr);function yr(Zr,bn){return function(jn){var gn=[],In=-1,Sn=0,Gr=Zr.length,Un,di,ii;for(jn instanceof Date||(jn=new Date(+jn));++In<Gr;)Zr.charCodeAt(In)===37&&(gn.push(Zr.slice(Sn,In)),(di=pads[Un=Zr.charAt(++In)])!=null?Un=Zr.charAt(++In):di=Un==="e"?" ":"0",(ii=bn[Un])&&(Un=ii(jn,di)),gn.push(Un),Sn=In+1);return gn.push(Zr.slice(Sn,In)),gn.join("")}}function mr(Zr,bn){return function(jn){var gn=newDate(1900,void 0,1),In=vr(gn,Zr,jn+="",0),Sn,Gr;if(In!=jn.length)return null;if("Q"in gn)return new Date(gn.Q);if("s"in gn)return new Date(gn.s*1e3+("L"in gn?gn.L:0));if(bn&&!("Z"in gn)&&(gn.Z=0),"p"in gn&&(gn.H=gn.H%12+gn.p*12),gn.m===void 0&&(gn.m="q"in gn?gn.q:0),"V"in gn){if(gn.V<1||gn.V>53)return null;"w"in gn||(gn.w=1),"Z"in gn?(Sn=utcDate(newDate(gn.y,0,1)),Gr=Sn.getUTCDay(),Sn=Gr>4||Gr===0?utcMonday.ceil(Sn):utcMonday(Sn),Sn=utcDay.offset(Sn,(gn.V-1)*7),gn.y=Sn.getUTCFullYear(),gn.m=Sn.getUTCMonth(),gn.d=Sn.getUTCDate()+(gn.w+6)%7):(Sn=localDate(newDate(gn.y,0,1)),Gr=Sn.getDay(),Sn=Gr>4||Gr===0?timeMonday.ceil(Sn):timeMonday(Sn),Sn=timeDay.offset(Sn,(gn.V-1)*7),gn.y=Sn.getFullYear(),gn.m=Sn.getMonth(),gn.d=Sn.getDate()+(gn.w+6)%7)}else("W"in gn||"U"in gn)&&("w"in gn||(gn.w="u"in gn?gn.u%7:"W"in gn?1:0),Gr="Z"in gn?utcDate(newDate(gn.y,0,1)).getUTCDay():localDate(newDate(gn.y,0,1)).getDay(),gn.m=0,gn.d="W"in gn?(gn.w+6)%7+gn.W*7-(Gr+5)%7:gn.w+gn.U*7-(Gr+6)%7);return"Z"in gn?(gn.H+=gn.Z/100|0,gn.M+=gn.Z%100,utcDate(gn)):localDate(gn)}}function vr(Zr,bn,jn,gn){for(var In=0,Sn=bn.length,Gr=jn.length,Un,di;In<Sn;){if(gn>=Gr)return-1;if(Un=bn.charCodeAt(In++),Un===37){if(Un=bn.charAt(In++),di=hr[Un in pads?bn.charAt(In++):Un],!di||(gn=di(Zr,jn,gn))<0)return-1}else if(Un!=jn.charCodeAt(gn++))return-1}return gn}function _r(Zr,bn,jn){var gn=Ye.exec(bn.slice(jn));return gn?(Zr.p=Xe.get(gn[0].toLowerCase()),jn+gn[0].length):-1}function Cr(Zr,bn,jn){var gn=Ze.exec(bn.slice(jn));return gn?(Zr.w=rr.get(gn[0].toLowerCase()),jn+gn[0].length):-1}function br(Zr,bn,jn){var gn=Je.exec(bn.slice(jn));return gn?(Zr.w=er.get(gn[0].toLowerCase()),jn+gn[0].length):-1}function fr(Zr,bn,jn){var gn=sr.exec(bn.slice(jn));return gn?(Zr.m=lr.get(gn[0].toLowerCase()),jn+gn[0].length):-1}function Sr(Zr,bn,jn){var gn=nr.exec(bn.slice(jn));return gn?(Zr.m=ar.get(gn[0].toLowerCase()),jn+gn[0].length):-1}function Dr(Zr,bn,jn){return vr(Zr,$e,bn,jn)}function Or(Zr,bn,jn){return vr(Zr,Be,bn,jn)}function Er(Zr,bn,jn){return vr(Zr,Ue,bn,jn)}function Nr(Zr){return He[Zr.getDay()]}function wr(Zr){return qe[Zr.getDay()]}function Ar(Zr){return Ge[Zr.getMonth()]}function Lr(Zr){return We[Zr.getMonth()]}function Pr(Zr){return ze[+(Zr.getHours()>=12)]}function Tr(Zr){return 1+~~(Zr.getMonth()/3)}function Vr(Zr){return He[Zr.getUTCDay()]}function Ur(Zr){return qe[Zr.getUTCDay()]}function Yr(Zr){return Ge[Zr.getUTCMonth()]}function Qr(Zr){return We[Zr.getUTCMonth()]}function mn(Zr){return ze[+(Zr.getUTCHours()>=12)]}function An(Zr){return 1+~~(Zr.getUTCMonth()/3)}return{format:function(Zr){var bn=yr(Zr+="",or);return bn.toString=function(){return Zr},bn},parse:function(Zr){var bn=mr(Zr+="",!1);return bn.toString=function(){return Zr},bn},utcFormat:function(Zr){var bn=yr(Zr+="",cr);return bn.toString=function(){return Zr},bn},utcParse:function(Zr){var bn=mr(Zr+="",!0);return bn.toString=function(){return Zr},bn}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(Ve,$e,Be){var Ue=Ve<0?"-":"",ze=(Ue?-Ve:Ve)+"",qe=ze.length;return Ue+(qe<Be?new Array(Be-qe+1).join($e)+ze:ze)}function requote(Ve){return Ve.replace(requoteRe,"\\$&")}function formatRe(Ve){return new RegExp("^(?:"+Ve.map(requote).join("|")+")","i")}function formatLookup(Ve){return new Map(Ve.map(($e,Be)=>[$e.toLowerCase(),Be]))}function parseWeekdayNumberSunday(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+1));return Ue?(Ve.w=+Ue[0],Be+Ue[0].length):-1}function parseWeekdayNumberMonday(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+1));return Ue?(Ve.u=+Ue[0],Be+Ue[0].length):-1}function parseWeekNumberSunday(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+2));return Ue?(Ve.U=+Ue[0],Be+Ue[0].length):-1}function parseWeekNumberISO(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+2));return Ue?(Ve.V=+Ue[0],Be+Ue[0].length):-1}function parseWeekNumberMonday(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+2));return Ue?(Ve.W=+Ue[0],Be+Ue[0].length):-1}function parseFullYear(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+4));return Ue?(Ve.y=+Ue[0],Be+Ue[0].length):-1}function parseYear(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+2));return Ue?(Ve.y=+Ue[0]+(+Ue[0]>68?1900:2e3),Be+Ue[0].length):-1}function parseZone(Ve,$e,Be){var Ue=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec($e.slice(Be,Be+6));return Ue?(Ve.Z=Ue[1]?0:-(Ue[2]+(Ue[3]||"00")),Be+Ue[0].length):-1}function parseQuarter(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+1));return Ue?(Ve.q=Ue[0]*3-3,Be+Ue[0].length):-1}function parseMonthNumber(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+2));return Ue?(Ve.m=Ue[0]-1,Be+Ue[0].length):-1}function parseDayOfMonth(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+2));return Ue?(Ve.d=+Ue[0],Be+Ue[0].length):-1}function parseDayOfYear(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+3));return Ue?(Ve.m=0,Ve.d=+Ue[0],Be+Ue[0].length):-1}function parseHour24(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+2));return Ue?(Ve.H=+Ue[0],Be+Ue[0].length):-1}function parseMinutes(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+2));return Ue?(Ve.M=+Ue[0],Be+Ue[0].length):-1}function parseSeconds(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+2));return Ue?(Ve.S=+Ue[0],Be+Ue[0].length):-1}function parseMilliseconds(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+3));return Ue?(Ve.L=+Ue[0],Be+Ue[0].length):-1}function parseMicroseconds(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be,Be+6));return Ue?(Ve.L=Math.floor(Ue[0]/1e3),Be+Ue[0].length):-1}function parseLiteralPercent(Ve,$e,Be){var Ue=percentRe.exec($e.slice(Be,Be+1));return Ue?Be+Ue[0].length:-1}function parseUnixTimestamp(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be));return Ue?(Ve.Q=+Ue[0],Be+Ue[0].length):-1}function parseUnixTimestampSeconds(Ve,$e,Be){var Ue=numberRe.exec($e.slice(Be));return Ue?(Ve.s=+Ue[0],Be+Ue[0].length):-1}function formatDayOfMonth(Ve,$e){return pad(Ve.getDate(),$e,2)}function formatHour24(Ve,$e){return pad(Ve.getHours(),$e,2)}function formatHour12(Ve,$e){return pad(Ve.getHours()%12||12,$e,2)}function formatDayOfYear(Ve,$e){return pad(1+timeDay.count(timeYear(Ve),Ve),$e,3)}function formatMilliseconds(Ve,$e){return pad(Ve.getMilliseconds(),$e,3)}function formatMicroseconds(Ve,$e){return formatMilliseconds(Ve,$e)+"000"}function formatMonthNumber(Ve,$e){return pad(Ve.getMonth()+1,$e,2)}function formatMinutes(Ve,$e){return pad(Ve.getMinutes(),$e,2)}function formatSeconds(Ve,$e){return pad(Ve.getSeconds(),$e,2)}function formatWeekdayNumberMonday(Ve){var $e=Ve.getDay();return $e===0?7:$e}function formatWeekNumberSunday(Ve,$e){return pad(timeSunday.count(timeYear(Ve)-1,Ve),$e,2)}function dISO(Ve){var $e=Ve.getDay();return $e>=4||$e===0?timeThursday(Ve):timeThursday.ceil(Ve)}function formatWeekNumberISO(Ve,$e){return Ve=dISO(Ve),pad(timeThursday.count(timeYear(Ve),Ve)+(timeYear(Ve).getDay()===4),$e,2)}function formatWeekdayNumberSunday(Ve){return Ve.getDay()}function formatWeekNumberMonday(Ve,$e){return pad(timeMonday.count(timeYear(Ve)-1,Ve),$e,2)}function formatYear(Ve,$e){return pad(Ve.getFullYear()%100,$e,2)}function formatYearISO(Ve,$e){return Ve=dISO(Ve),pad(Ve.getFullYear()%100,$e,2)}function formatFullYear(Ve,$e){return pad(Ve.getFullYear()%1e4,$e,4)}function formatFullYearISO(Ve,$e){var Be=Ve.getDay();return Ve=Be>=4||Be===0?timeThursday(Ve):timeThursday.ceil(Ve),pad(Ve.getFullYear()%1e4,$e,4)}function formatZone(Ve){var $e=Ve.getTimezoneOffset();return($e>0?"-":($e*=-1,"+"))+pad($e/60|0,"0",2)+pad($e%60,"0",2)}function formatUTCDayOfMonth(Ve,$e){return pad(Ve.getUTCDate(),$e,2)}function formatUTCHour24(Ve,$e){return pad(Ve.getUTCHours(),$e,2)}function formatUTCHour12(Ve,$e){return pad(Ve.getUTCHours()%12||12,$e,2)}function formatUTCDayOfYear(Ve,$e){return pad(1+utcDay.count(utcYear(Ve),Ve),$e,3)}function formatUTCMilliseconds(Ve,$e){return pad(Ve.getUTCMilliseconds(),$e,3)}function formatUTCMicroseconds(Ve,$e){return formatUTCMilliseconds(Ve,$e)+"000"}function formatUTCMonthNumber(Ve,$e){return pad(Ve.getUTCMonth()+1,$e,2)}function formatUTCMinutes(Ve,$e){return pad(Ve.getUTCMinutes(),$e,2)}function formatUTCSeconds(Ve,$e){return pad(Ve.getUTCSeconds(),$e,2)}function formatUTCWeekdayNumberMonday(Ve){var $e=Ve.getUTCDay();return $e===0?7:$e}function formatUTCWeekNumberSunday(Ve,$e){return pad(utcSunday.count(utcYear(Ve)-1,Ve),$e,2)}function UTCdISO(Ve){var $e=Ve.getUTCDay();return $e>=4||$e===0?utcThursday(Ve):utcThursday.ceil(Ve)}function formatUTCWeekNumberISO(Ve,$e){return Ve=UTCdISO(Ve),pad(utcThursday.count(utcYear(Ve),Ve)+(utcYear(Ve).getUTCDay()===4),$e,2)}function formatUTCWeekdayNumberSunday(Ve){return Ve.getUTCDay()}function formatUTCWeekNumberMonday(Ve,$e){return pad(utcMonday.count(utcYear(Ve)-1,Ve),$e,2)}function formatUTCYear(Ve,$e){return pad(Ve.getUTCFullYear()%100,$e,2)}function formatUTCYearISO(Ve,$e){return Ve=UTCdISO(Ve),pad(Ve.getUTCFullYear()%100,$e,2)}function formatUTCFullYear(Ve,$e){return pad(Ve.getUTCFullYear()%1e4,$e,4)}function formatUTCFullYearISO(Ve,$e){var Be=Ve.getUTCDay();return Ve=Be>=4||Be===0?utcThursday(Ve):utcThursday.ceil(Ve),pad(Ve.getUTCFullYear()%1e4,$e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(Ve){return+Ve}function formatUnixTimestampSeconds(Ve){return Math.floor(+Ve/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(Ve){return locale=formatLocale(Ve),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(Ve){return new Date(Ve)}function number(Ve){return Ve instanceof Date?+Ve:+new Date(+Ve)}function calendar(Ve,$e,Be,Ue,ze,qe,He,We,Ge,Ye){var Xe=continuous(),Je=Xe.invert,er=Xe.domain,Ze=Ye(".%L"),rr=Ye(":%S"),nr=Ye("%I:%M"),ar=Ye("%I %p"),sr=Ye("%a %d"),lr=Ye("%b %d"),or=Ye("%B"),cr=Ye("%Y");function hr(yr){return(Ge(yr)<yr?Ze:We(yr)<yr?rr:He(yr)<yr?nr:qe(yr)<yr?ar:Ue(yr)<yr?ze(yr)<yr?sr:lr:Be(yr)<yr?or:cr)(yr)}return Xe.invert=function(yr){return new Date(Je(yr))},Xe.domain=function(yr){return arguments.length?er(Array.from(yr,number)):er().map(date)},Xe.ticks=function(yr){var mr=er();return Ve(mr[0],mr[mr.length-1],yr??10)},Xe.tickFormat=function(yr,mr){return mr==null?hr:Ye(mr)},Xe.nice=function(yr){var mr=er();return(!yr||typeof yr.range!="function")&&(yr=$e(mr[0],mr[mr.length-1],yr??10)),yr?er(nice(mr,yr)):Xe},Xe.copy=function(){return copy$1(Xe,calendar(Ve,$e,Be,Ue,ze,qe,He,We,Ge,Ye))},Xe}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var Ve=0,$e=1,Be,Ue,ze,qe,He=identity$3,We=!1,Ge;function Ye(Je){return Je==null||isNaN(Je=+Je)?Ge:He(ze===0?.5:(Je=(qe(Je)-Be)*ze,We?Math.max(0,Math.min(1,Je)):Je))}Ye.domain=function(Je){return arguments.length?([Ve,$e]=Je,Be=qe(Ve=+Ve),Ue=qe($e=+$e),ze=Be===Ue?0:1/(Ue-Be),Ye):[Ve,$e]},Ye.clamp=function(Je){return arguments.length?(We=!!Je,Ye):We},Ye.interpolator=function(Je){return arguments.length?(He=Je,Ye):He};function Xe(Je){return function(er){var Ze,rr;return arguments.length?([Ze,rr]=er,He=Je(Ze,rr),Ye):[He(0),He(1)]}}return Ye.range=Xe(interpolate),Ye.rangeRound=Xe(interpolateRound),Ye.unknown=function(Je){return arguments.length?(Ge=Je,Ye):Ge},function(Je){return qe=Je,Be=Je(Ve),Ue=Je($e),ze=Be===Ue?0:1/(Ue-Be),Ye}}function copy(Ve,$e){return $e.domain(Ve.domain()).interpolator(Ve.interpolator()).clamp(Ve.clamp()).unknown(Ve.unknown())}function sequential(){var Ve=linearish(transformer$1()(identity$3));return Ve.copy=function(){return copy(Ve,sequential())},initInterpolator.apply(Ve,arguments)}function sequentialLog(){var Ve=loggish(transformer$1()).domain([1,10]);return Ve.copy=function(){return copy(Ve,sequentialLog()).base(Ve.base())},initInterpolator.apply(Ve,arguments)}function sequentialSymlog(){var Ve=symlogish(transformer$1());return Ve.copy=function(){return copy(Ve,sequentialSymlog()).constant(Ve.constant())},initInterpolator.apply(Ve,arguments)}function sequentialPow(){var Ve=powish(transformer$1());return Ve.copy=function(){return copy(Ve,sequentialPow()).exponent(Ve.exponent())},initInterpolator.apply(Ve,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var Ve=[],$e=identity$3;function Be(Ue){if(Ue!=null&&!isNaN(Ue=+Ue))return $e((bisectRight(Ve,Ue,1)-1)/(Ve.length-1))}return Be.domain=function(Ue){if(!arguments.length)return Ve.slice();Ve=[];for(let ze of Ue)ze!=null&&!isNaN(ze=+ze)&&Ve.push(ze);return Ve.sort(ascending),Be},Be.interpolator=function(Ue){return arguments.length?($e=Ue,Be):$e},Be.range=function(){return Ve.map((Ue,ze)=>$e(ze/(Ve.length-1)))},Be.quantiles=function(Ue){return Array.from({length:Ue+1},(ze,qe)=>quantile$1(Ve,qe/Ue))},Be.copy=function(){return sequentialQuantile($e).domain(Ve)},initInterpolator.apply(Be,arguments)}function transformer(){var Ve=0,$e=.5,Be=1,Ue=1,ze,qe,He,We,Ge,Ye=identity$3,Xe,Je=!1,er;function Ze(nr){return isNaN(nr=+nr)?er:(nr=.5+((nr=+Xe(nr))-qe)*(Ue*nr<Ue*qe?We:Ge),Ye(Je?Math.max(0,Math.min(1,nr)):nr))}Ze.domain=function(nr){return arguments.length?([Ve,$e,Be]=nr,ze=Xe(Ve=+Ve),qe=Xe($e=+$e),He=Xe(Be=+Be),We=ze===qe?0:.5/(qe-ze),Ge=qe===He?0:.5/(He-qe),Ue=qe<ze?-1:1,Ze):[Ve,$e,Be]},Ze.clamp=function(nr){return arguments.length?(Je=!!nr,Ze):Je},Ze.interpolator=function(nr){return arguments.length?(Ye=nr,Ze):Ye};function rr(nr){return function(ar){var sr,lr,or;return arguments.length?([sr,lr,or]=ar,Ye=piecewise(nr,[sr,lr,or]),Ze):[Ye(0),Ye(.5),Ye(1)]}}return Ze.range=rr(interpolate),Ze.rangeRound=rr(interpolateRound),Ze.unknown=function(nr){return arguments.length?(er=nr,Ze):er},function(nr){return Xe=nr,ze=nr(Ve),qe=nr($e),He=nr(Be),We=ze===qe?0:.5/(qe-ze),Ge=qe===He?0:.5/(He-qe),Ue=qe<ze?-1:1,Ze}}function diverging(){var Ve=linearish(transformer()(identity$3));return Ve.copy=function(){return copy(Ve,diverging())},initInterpolator.apply(Ve,arguments)}function divergingLog(){var Ve=loggish(transformer()).domain([.1,1,10]);return Ve.copy=function(){return copy(Ve,divergingLog()).base(Ve.base())},initInterpolator.apply(Ve,arguments)}function divergingSymlog(){var Ve=symlogish(transformer());return Ve.copy=function(){return copy(Ve,divergingSymlog()).constant(Ve.constant())},initInterpolator.apply(Ve,arguments)}function divergingPow(){var Ve=powish(transformer());return Ve.copy=function(){return copy(Ve,divergingPow()).exponent(Ve.exponent())},initInterpolator.apply(Ve,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=Ve=>Ve.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],Ve=>{var $e=Ve.chartData!=null?Ve.chartData.length-1:0;return{chartData:Ve.chartData,computedData:Ve.computedData,dataEndIndex:$e,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(Ve,$e,Be,Ue)=>Ue?selectChartDataAndAlwaysIgnoreIndexes(Ve):selectChartDataWithIndexes(Ve);function isWellFormedNumberDomain(Ve){if(Array.isArray(Ve)&&Ve.length===2){var[$e,Be]=Ve;if(isWellBehavedNumber($e)&&isWellBehavedNumber(Be))return!0}return!1}function extendDomain(Ve,$e,Be){return Be?Ve:[Math.min(Ve[0],$e[0]),Math.max(Ve[1],$e[1])]}function numericalDomainSpecifiedWithoutRequiringData(Ve,$e){if($e&&typeof Ve!="function"&&Array.isArray(Ve)&&Ve.length===2){var[Be,Ue]=Ve,ze,qe;if(isWellBehavedNumber(Be))ze=Be;else if(typeof Be=="function")return;if(isWellBehavedNumber(Ue))qe=Ue;else if(typeof Ue=="function")return;var He=[ze,qe];if(isWellFormedNumberDomain(He))return He}}function parseNumericalUserDomain(Ve,$e,Be){if(!(!Be&&$e==null)){if(typeof Ve=="function"&&$e!=null)try{var Ue=Ve($e,Be);if(isWellFormedNumberDomain(Ue))return extendDomain(Ue,$e,Be)}catch{}if(Array.isArray(Ve)&&Ve.length===2){var[ze,qe]=Ve,He,We;if(ze==="auto")$e!=null&&(He=Math.min(...$e));else if(isNumber(ze))He=ze;else if(typeof ze=="function")try{$e!=null&&(He=ze($e?.[0]))}catch{}else if(typeof ze=="string"&&MIN_VALUE_REG.test(ze)){var Ge=MIN_VALUE_REG.exec(ze);if(Ge==null||$e==null)He=void 0;else{var Ye=+Ge[1];He=$e[0]-Ye}}else He=$e?.[0];if(qe==="auto")$e!=null&&(We=Math.max(...$e));else if(isNumber(qe))We=qe;else if(typeof qe=="function")try{$e!=null&&(We=qe($e?.[1]))}catch{}else if(typeof qe=="string"&&MAX_VALUE_REG.test(qe)){var Xe=MAX_VALUE_REG.exec(qe);if(Xe==null||$e==null)We=void 0;else{var Je=+Xe[1];We=$e[1]+Je}}else We=$e?.[1];var er=[He,We];if(isWellFormedNumberDomain(er))return $e==null?er:extendDomain(er,$e,Be)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$1={};P$1.absoluteValue=P$1.abs=function(){var Ve=new this.constructor(this);return Ve.s&&(Ve.s=1),Ve};P$1.comparedTo=P$1.cmp=function(Ve){var $e,Be,Ue,ze,qe=this;if(Ve=new qe.constructor(Ve),qe.s!==Ve.s)return qe.s||-Ve.s;if(qe.e!==Ve.e)return qe.e>Ve.e^qe.s<0?1:-1;for(Ue=qe.d.length,ze=Ve.d.length,$e=0,Be=Ue<ze?Ue:ze;$e<Be;++$e)if(qe.d[$e]!==Ve.d[$e])return qe.d[$e]>Ve.d[$e]^qe.s<0?1:-1;return Ue===ze?0:Ue>ze^qe.s<0?1:-1};P$1.decimalPlaces=P$1.dp=function(){var Ve=this,$e=Ve.d.length-1,Be=($e-Ve.e)*LOG_BASE;if($e=Ve.d[$e],$e)for(;$e%10==0;$e/=10)Be--;return Be<0?0:Be};P$1.dividedBy=P$1.div=function(Ve){return divide(this,new this.constructor(Ve))};P$1.dividedToIntegerBy=P$1.idiv=function(Ve){var $e=this,Be=$e.constructor;return round(divide($e,new Be(Ve),0,1),Be.precision)};P$1.equals=P$1.eq=function(Ve){return!this.cmp(Ve)};P$1.exponent=function(){return getBase10Exponent(this)};P$1.greaterThan=P$1.gt=function(Ve){return this.cmp(Ve)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(Ve){return this.cmp(Ve)>=0};P$1.isInteger=P$1.isint=function(){return this.e>this.d.length-2};P$1.isNegative=P$1.isneg=function(){return this.s<0};P$1.isPositive=P$1.ispos=function(){return this.s>0};P$1.isZero=function(){return this.s===0};P$1.lessThan=P$1.lt=function(Ve){return this.cmp(Ve)<0};P$1.lessThanOrEqualTo=P$1.lte=function(Ve){return this.cmp(Ve)<1};P$1.logarithm=P$1.log=function(Ve){var $e,Be=this,Ue=Be.constructor,ze=Ue.precision,qe=ze+5;if(Ve===void 0)Ve=new Ue(10);else if(Ve=new Ue(Ve),Ve.s<1||Ve.eq(ONE))throw Error(decimalError+"NaN");if(Be.s<1)throw Error(decimalError+(Be.s?"NaN":"-Infinity"));return Be.eq(ONE)?new Ue(0):(external=!1,$e=divide(ln$1(Be,qe),ln$1(Ve,qe),qe),external=!0,round($e,ze))};P$1.minus=P$1.sub=function(Ve){var $e=this;return Ve=new $e.constructor(Ve),$e.s==Ve.s?subtract($e,Ve):add($e,(Ve.s=-Ve.s,Ve))};P$1.modulo=P$1.mod=function(Ve){var $e,Be=this,Ue=Be.constructor,ze=Ue.precision;if(Ve=new Ue(Ve),!Ve.s)throw Error(decimalError+"NaN");return Be.s?(external=!1,$e=divide(Be,Ve,0,1).times(Ve),external=!0,Be.minus($e)):round(new Ue(Be),ze)};P$1.naturalExponential=P$1.exp=function(){return exp(this)};P$1.naturalLogarithm=P$1.ln=function(){return ln$1(this)};P$1.negated=P$1.neg=function(){var Ve=new this.constructor(this);return Ve.s=-Ve.s||0,Ve};P$1.plus=P$1.add=function(Ve){var $e=this;return Ve=new $e.constructor(Ve),$e.s==Ve.s?add($e,Ve):subtract($e,(Ve.s=-Ve.s,Ve))};P$1.precision=P$1.sd=function(Ve){var $e,Be,Ue,ze=this;if(Ve!==void 0&&Ve!==!!Ve&&Ve!==1&&Ve!==0)throw Error(invalidArgument+Ve);if($e=getBase10Exponent(ze)+1,Ue=ze.d.length-1,Be=Ue*LOG_BASE+1,Ue=ze.d[Ue],Ue){for(;Ue%10==0;Ue/=10)Be--;for(Ue=ze.d[0];Ue>=10;Ue/=10)Be++}return Ve&&$e>Be?$e:Be};P$1.squareRoot=P$1.sqrt=function(){var Ve,$e,Be,Ue,ze,qe,He,We=this,Ge=We.constructor;if(We.s<1){if(!We.s)return new Ge(0);throw Error(decimalError+"NaN")}for(Ve=getBase10Exponent(We),external=!1,ze=Math.sqrt(+We),ze==0||ze==1/0?($e=digitsToString(We.d),($e.length+Ve)%2==0&&($e+="0"),ze=Math.sqrt($e),Ve=mathfloor((Ve+1)/2)-(Ve<0||Ve%2),ze==1/0?$e="5e"+Ve:($e=ze.toExponential(),$e=$e.slice(0,$e.indexOf("e")+1)+Ve),Ue=new Ge($e)):Ue=new Ge(ze.toString()),Be=Ge.precision,ze=He=Be+3;;)if(qe=Ue,Ue=qe.plus(divide(We,qe,He+2)).times(.5),digitsToString(qe.d).slice(0,He)===($e=digitsToString(Ue.d)).slice(0,He)){if($e=$e.slice(He-3,He+1),ze==He&&$e=="4999"){if(round(qe,Be+1,0),qe.times(qe).eq(We)){Ue=qe;break}}else if($e!="9999")break;He+=4}return external=!0,round(Ue,Be)};P$1.times=P$1.mul=function(Ve){var $e,Be,Ue,ze,qe,He,We,Ge,Ye,Xe=this,Je=Xe.constructor,er=Xe.d,Ze=(Ve=new Je(Ve)).d;if(!Xe.s||!Ve.s)return new Je(0);for(Ve.s*=Xe.s,Be=Xe.e+Ve.e,Ge=er.length,Ye=Ze.length,Ge<Ye&&(qe=er,er=Ze,Ze=qe,He=Ge,Ge=Ye,Ye=He),qe=[],He=Ge+Ye,Ue=He;Ue--;)qe.push(0);for(Ue=Ye;--Ue>=0;){for($e=0,ze=Ge+Ue;ze>Ue;)We=qe[ze]+Ze[Ue]*er[ze-Ue-1]+$e,qe[ze--]=We%BASE|0,$e=We/BASE|0;qe[ze]=(qe[ze]+$e)%BASE|0}for(;!qe[--He];)qe.pop();return $e?++Be:qe.shift(),Ve.d=qe,Ve.e=Be,external?round(Ve,Je.precision):Ve};P$1.toDecimalPlaces=P$1.todp=function(Ve,$e){var Be=this,Ue=Be.constructor;return Be=new Ue(Be),Ve===void 0?Be:(checkInt32(Ve,0,MAX_DIGITS),$e===void 0?$e=Ue.rounding:checkInt32($e,0,8),round(Be,Ve+getBase10Exponent(Be)+1,$e))};P$1.toExponential=function(Ve,$e){var Be,Ue=this,ze=Ue.constructor;return Ve===void 0?Be=toString$1(Ue,!0):(checkInt32(Ve,0,MAX_DIGITS),$e===void 0?$e=ze.rounding:checkInt32($e,0,8),Ue=round(new ze(Ue),Ve+1,$e),Be=toString$1(Ue,!0,Ve+1)),Be};P$1.toFixed=function(Ve,$e){var Be,Ue,ze=this,qe=ze.constructor;return Ve===void 0?toString$1(ze):(checkInt32(Ve,0,MAX_DIGITS),$e===void 0?$e=qe.rounding:checkInt32($e,0,8),Ue=round(new qe(ze),Ve+getBase10Exponent(ze)+1,$e),Be=toString$1(Ue.abs(),!1,Ve+getBase10Exponent(Ue)+1),ze.isneg()&&!ze.isZero()?"-"+Be:Be)};P$1.toInteger=P$1.toint=function(){var Ve=this,$e=Ve.constructor;return round(new $e(Ve),getBase10Exponent(Ve)+1,$e.rounding)};P$1.toNumber=function(){return+this};P$1.toPower=P$1.pow=function(Ve){var $e,Be,Ue,ze,qe,He,We=this,Ge=We.constructor,Ye=12,Xe=+(Ve=new Ge(Ve));if(!Ve.s)return new Ge(ONE);if(We=new Ge(We),!We.s){if(Ve.s<1)throw Error(decimalError+"Infinity");return We}if(We.eq(ONE))return We;if(Ue=Ge.precision,Ve.eq(ONE))return round(We,Ue);if($e=Ve.e,Be=Ve.d.length-1,He=$e>=Be,qe=We.s,He){if((Be=Xe<0?-Xe:Xe)<=MAX_SAFE_INTEGER){for(ze=new Ge(ONE),$e=Math.ceil(Ue/LOG_BASE+4),external=!1;Be%2&&(ze=ze.times(We),truncate(ze.d,$e)),Be=mathfloor(Be/2),Be!==0;)We=We.times(We),truncate(We.d,$e);return external=!0,Ve.s<0?new Ge(ONE).div(ze):round(ze,Ue)}}else if(qe<0)throw Error(decimalError+"NaN");return qe=qe<0&&Ve.d[Math.max($e,Be)]&1?-1:1,We.s=1,external=!1,ze=Ve.times(ln$1(We,Ue+Ye)),external=!0,ze=exp(ze),ze.s=qe,ze};P$1.toPrecision=function(Ve,$e){var Be,Ue,ze=this,qe=ze.constructor;return Ve===void 0?(Be=getBase10Exponent(ze),Ue=toString$1(ze,Be<=qe.toExpNeg||Be>=qe.toExpPos)):(checkInt32(Ve,1,MAX_DIGITS),$e===void 0?$e=qe.rounding:checkInt32($e,0,8),ze=round(new qe(ze),Ve,$e),Be=getBase10Exponent(ze),Ue=toString$1(ze,Ve<=Be||Be<=qe.toExpNeg,Ve)),Ue};P$1.toSignificantDigits=P$1.tosd=function(Ve,$e){var Be=this,Ue=Be.constructor;return Ve===void 0?(Ve=Ue.precision,$e=Ue.rounding):(checkInt32(Ve,1,MAX_DIGITS),$e===void 0?$e=Ue.rounding:checkInt32($e,0,8)),round(new Ue(Be),Ve,$e)};P$1.toString=P$1.valueOf=P$1.val=P$1.toJSON=P$1[Symbol.for("nodejs.util.inspect.custom")]=function(){var Ve=this,$e=getBase10Exponent(Ve),Be=Ve.constructor;return toString$1(Ve,$e<=Be.toExpNeg||$e>=Be.toExpPos)};function add(Ve,$e){var Be,Ue,ze,qe,He,We,Ge,Ye,Xe=Ve.constructor,Je=Xe.precision;if(!Ve.s||!$e.s)return $e.s||($e=new Xe(Ve)),external?round($e,Je):$e;if(Ge=Ve.d,Ye=$e.d,He=Ve.e,ze=$e.e,Ge=Ge.slice(),qe=He-ze,qe){for(qe<0?(Ue=Ge,qe=-qe,We=Ye.length):(Ue=Ye,ze=He,We=Ge.length),He=Math.ceil(Je/LOG_BASE),We=He>We?He+1:We+1,qe>We&&(qe=We,Ue.length=1),Ue.reverse();qe--;)Ue.push(0);Ue.reverse()}for(We=Ge.length,qe=Ye.length,We-qe<0&&(qe=We,Ue=Ye,Ye=Ge,Ge=Ue),Be=0;qe;)Be=(Ge[--qe]=Ge[qe]+Ye[qe]+Be)/BASE|0,Ge[qe]%=BASE;for(Be&&(Ge.unshift(Be),++ze),We=Ge.length;Ge[--We]==0;)Ge.pop();return $e.d=Ge,$e.e=ze,external?round($e,Je):$e}function checkInt32(Ve,$e,Be){if(Ve!==~~Ve||Ve<$e||Ve>Be)throw Error(invalidArgument+Ve)}function digitsToString(Ve){var $e,Be,Ue,ze=Ve.length-1,qe="",He=Ve[0];if(ze>0){for(qe+=He,$e=1;$e<ze;$e++)Ue=Ve[$e]+"",Be=LOG_BASE-Ue.length,Be&&(qe+=getZeroString(Be)),qe+=Ue;He=Ve[$e],Ue=He+"",Be=LOG_BASE-Ue.length,Be&&(qe+=getZeroString(Be))}else if(He===0)return"0";for(;He%10===0;)He/=10;return qe+He}var divide=(function(){function Ve(Ue,ze){var qe,He=0,We=Ue.length;for(Ue=Ue.slice();We--;)qe=Ue[We]*ze+He,Ue[We]=qe%BASE|0,He=qe/BASE|0;return He&&Ue.unshift(He),Ue}function $e(Ue,ze,qe,He){var We,Ge;if(qe!=He)Ge=qe>He?1:-1;else for(We=Ge=0;We<qe;We++)if(Ue[We]!=ze[We]){Ge=Ue[We]>ze[We]?1:-1;break}return Ge}function Be(Ue,ze,qe){for(var He=0;qe--;)Ue[qe]-=He,He=Ue[qe]<ze[qe]?1:0,Ue[qe]=He*BASE+Ue[qe]-ze[qe];for(;!Ue[0]&&Ue.length>1;)Ue.shift()}return function(Ue,ze,qe,He){var We,Ge,Ye,Xe,Je,er,Ze,rr,nr,ar,sr,lr,or,cr,hr,yr,mr,vr,_r=Ue.constructor,Cr=Ue.s==ze.s?1:-1,br=Ue.d,fr=ze.d;if(!Ue.s)return new _r(Ue);if(!ze.s)throw Error(decimalError+"Division by zero");for(Ge=Ue.e-ze.e,mr=fr.length,hr=br.length,Ze=new _r(Cr),rr=Ze.d=[],Ye=0;fr[Ye]==(br[Ye]||0);)++Ye;if(fr[Ye]>(br[Ye]||0)&&--Ge,qe==null?lr=qe=_r.precision:He?lr=qe+(getBase10Exponent(Ue)-getBase10Exponent(ze))+1:lr=qe,lr<0)return new _r(0);if(lr=lr/LOG_BASE+2|0,Ye=0,mr==1)for(Xe=0,fr=fr[0],lr++;(Ye<hr||Xe)&&lr--;Ye++)or=Xe*BASE+(br[Ye]||0),rr[Ye]=or/fr|0,Xe=or%fr|0;else{for(Xe=BASE/(fr[0]+1)|0,Xe>1&&(fr=Ve(fr,Xe),br=Ve(br,Xe),mr=fr.length,hr=br.length),cr=mr,nr=br.slice(0,mr),ar=nr.length;ar<mr;)nr[ar++]=0;vr=fr.slice(),vr.unshift(0),yr=fr[0],fr[1]>=BASE/2&&++yr;do Xe=0,We=$e(fr,nr,mr,ar),We<0?(sr=nr[0],mr!=ar&&(sr=sr*BASE+(nr[1]||0)),Xe=sr/yr|0,Xe>1?(Xe>=BASE&&(Xe=BASE-1),Je=Ve(fr,Xe),er=Je.length,ar=nr.length,We=$e(Je,nr,er,ar),We==1&&(Xe--,Be(Je,mr<er?vr:fr,er))):(Xe==0&&(We=Xe=1),Je=fr.slice()),er=Je.length,er<ar&&Je.unshift(0),Be(nr,Je,ar),We==-1&&(ar=nr.length,We=$e(fr,nr,mr,ar),We<1&&(Xe++,Be(nr,mr<ar?vr:fr,ar))),ar=nr.length):We===0&&(Xe++,nr=[0]),rr[Ye++]=Xe,We&&nr[0]?nr[ar++]=br[cr]||0:(nr=[br[cr]],ar=1);while((cr++<hr||nr[0]!==void 0)&&lr--)}return rr[0]||rr.shift(),Ze.e=Ge,round(Ze,He?qe+getBase10Exponent(Ze)+1:qe)}})();function exp(Ve,$e){var Be,Ue,ze,qe,He,We,Ge=0,Ye=0,Xe=Ve.constructor,Je=Xe.precision;if(getBase10Exponent(Ve)>16)throw Error(exponentOutOfRange+getBase10Exponent(Ve));if(!Ve.s)return new Xe(ONE);for(external=!1,We=Je,He=new Xe(.03125);Ve.abs().gte(.1);)Ve=Ve.times(He),Ye+=5;for(Ue=Math.log(mathpow(2,Ye))/Math.LN10*2+5|0,We+=Ue,Be=ze=qe=new Xe(ONE),Xe.precision=We;;){if(ze=round(ze.times(Ve),We),Be=Be.times(++Ge),He=qe.plus(divide(ze,Be,We)),digitsToString(He.d).slice(0,We)===digitsToString(qe.d).slice(0,We)){for(;Ye--;)qe=round(qe.times(qe),We);return Xe.precision=Je,$e==null?(external=!0,round(qe,Je)):qe}qe=He}}function getBase10Exponent(Ve){for(var $e=Ve.e*LOG_BASE,Be=Ve.d[0];Be>=10;Be/=10)$e++;return $e}function getLn10(Ve,$e,Be){if($e>Ve.LN10.sd())throw external=!0,Be&&(Ve.precision=Be),Error(decimalError+"LN10 precision limit exceeded");return round(new Ve(Ve.LN10),$e)}function getZeroString(Ve){for(var $e="";Ve--;)$e+="0";return $e}function ln$1(Ve,$e){var Be,Ue,ze,qe,He,We,Ge,Ye,Xe,Je=1,er=10,Ze=Ve,rr=Ze.d,nr=Ze.constructor,ar=nr.precision;if(Ze.s<1)throw Error(decimalError+(Ze.s?"NaN":"-Infinity"));if(Ze.eq(ONE))return new nr(0);if($e==null?(external=!1,Ye=ar):Ye=$e,Ze.eq(10))return $e==null&&(external=!0),getLn10(nr,Ye);if(Ye+=er,nr.precision=Ye,Be=digitsToString(rr),Ue=Be.charAt(0),qe=getBase10Exponent(Ze),Math.abs(qe)<15e14){for(;Ue<7&&Ue!=1||Ue==1&&Be.charAt(1)>3;)Ze=Ze.times(Ve),Be=digitsToString(Ze.d),Ue=Be.charAt(0),Je++;qe=getBase10Exponent(Ze),Ue>1?(Ze=new nr("0."+Be),qe++):Ze=new nr(Ue+"."+Be.slice(1))}else return Ge=getLn10(nr,Ye+2,ar).times(qe+""),Ze=ln$1(new nr(Ue+"."+Be.slice(1)),Ye-er).plus(Ge),nr.precision=ar,$e==null?(external=!0,round(Ze,ar)):Ze;for(We=He=Ze=divide(Ze.minus(ONE),Ze.plus(ONE),Ye),Xe=round(Ze.times(Ze),Ye),ze=3;;){if(He=round(He.times(Xe),Ye),Ge=We.plus(divide(He,new nr(ze),Ye)),digitsToString(Ge.d).slice(0,Ye)===digitsToString(We.d).slice(0,Ye))return We=We.times(2),qe!==0&&(We=We.plus(getLn10(nr,Ye+2,ar).times(qe+""))),We=divide(We,new nr(Je),Ye),nr.precision=ar,$e==null?(external=!0,round(We,ar)):We;We=Ge,ze+=2}}function parseDecimal(Ve,$e){var Be,Ue,ze;for((Be=$e.indexOf("."))>-1&&($e=$e.replace(".","")),(Ue=$e.search(/e/i))>0?(Be<0&&(Be=Ue),Be+=+$e.slice(Ue+1),$e=$e.substring(0,Ue)):Be<0&&(Be=$e.length),Ue=0;$e.charCodeAt(Ue)===48;)++Ue;for(ze=$e.length;$e.charCodeAt(ze-1)===48;)--ze;if($e=$e.slice(Ue,ze),$e){if(ze-=Ue,Be=Be-Ue-1,Ve.e=mathfloor(Be/LOG_BASE),Ve.d=[],Ue=(Be+1)%LOG_BASE,Be<0&&(Ue+=LOG_BASE),Ue<ze){for(Ue&&Ve.d.push(+$e.slice(0,Ue)),ze-=LOG_BASE;Ue<ze;)Ve.d.push(+$e.slice(Ue,Ue+=LOG_BASE));$e=$e.slice(Ue),Ue=LOG_BASE-$e.length}else Ue-=ze;for(;Ue--;)$e+="0";if(Ve.d.push(+$e),external&&(Ve.e>MAX_E||Ve.e<-MAX_E))throw Error(exponentOutOfRange+Be)}else Ve.s=0,Ve.e=0,Ve.d=[0];return Ve}function round(Ve,$e,Be){var Ue,ze,qe,He,We,Ge,Ye,Xe,Je=Ve.d;for(He=1,qe=Je[0];qe>=10;qe/=10)He++;if(Ue=$e-He,Ue<0)Ue+=LOG_BASE,ze=$e,Ye=Je[Xe=0];else{if(Xe=Math.ceil((Ue+1)/LOG_BASE),qe=Je.length,Xe>=qe)return Ve;for(Ye=qe=Je[Xe],He=1;qe>=10;qe/=10)He++;Ue%=LOG_BASE,ze=Ue-LOG_BASE+He}if(Be!==void 0&&(qe=mathpow(10,He-ze-1),We=Ye/qe%10|0,Ge=$e<0||Je[Xe+1]!==void 0||Ye%qe,Ge=Be<4?(We||Ge)&&(Be==0||Be==(Ve.s<0?3:2)):We>5||We==5&&(Be==4||Ge||Be==6&&(Ue>0?ze>0?Ye/mathpow(10,He-ze):0:Je[Xe-1])%10&1||Be==(Ve.s<0?8:7))),$e<1||!Je[0])return Ge?(qe=getBase10Exponent(Ve),Je.length=1,$e=$e-qe-1,Je[0]=mathpow(10,(LOG_BASE-$e%LOG_BASE)%LOG_BASE),Ve.e=mathfloor(-$e/LOG_BASE)||0):(Je.length=1,Je[0]=Ve.e=Ve.s=0),Ve;if(Ue==0?(Je.length=Xe,qe=1,Xe--):(Je.length=Xe+1,qe=mathpow(10,LOG_BASE-Ue),Je[Xe]=ze>0?(Ye/mathpow(10,He-ze)%mathpow(10,ze)|0)*qe:0),Ge)for(;;)if(Xe==0){(Je[0]+=qe)==BASE&&(Je[0]=1,++Ve.e);break}else{if(Je[Xe]+=qe,Je[Xe]!=BASE)break;Je[Xe--]=0,qe=1}for(Ue=Je.length;Je[--Ue]===0;)Je.pop();if(external&&(Ve.e>MAX_E||Ve.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(Ve));return Ve}function subtract(Ve,$e){var Be,Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er=Ve.constructor,Ze=er.precision;if(!Ve.s||!$e.s)return $e.s?$e.s=-$e.s:$e=new er(Ve),external?round($e,Ze):$e;if(Ge=Ve.d,Je=$e.d,Ue=$e.e,Ye=Ve.e,Ge=Ge.slice(),He=Ye-Ue,He){for(Xe=He<0,Xe?(Be=Ge,He=-He,We=Je.length):(Be=Je,Ue=Ye,We=Ge.length),ze=Math.max(Math.ceil(Ze/LOG_BASE),We)+2,He>ze&&(He=ze,Be.length=1),Be.reverse(),ze=He;ze--;)Be.push(0);Be.reverse()}else{for(ze=Ge.length,We=Je.length,Xe=ze<We,Xe&&(We=ze),ze=0;ze<We;ze++)if(Ge[ze]!=Je[ze]){Xe=Ge[ze]<Je[ze];break}He=0}for(Xe&&(Be=Ge,Ge=Je,Je=Be,$e.s=-$e.s),We=Ge.length,ze=Je.length-We;ze>0;--ze)Ge[We++]=0;for(ze=Je.length;ze>He;){if(Ge[--ze]<Je[ze]){for(qe=ze;qe&&Ge[--qe]===0;)Ge[qe]=BASE-1;--Ge[qe],Ge[ze]+=BASE}Ge[ze]-=Je[ze]}for(;Ge[--We]===0;)Ge.pop();for(;Ge[0]===0;Ge.shift())--Ue;return Ge[0]?($e.d=Ge,$e.e=Ue,external?round($e,Ze):$e):new er(0)}function toString$1(Ve,$e,Be){var Ue,ze=getBase10Exponent(Ve),qe=digitsToString(Ve.d),He=qe.length;return $e?(Be&&(Ue=Be-He)>0?qe=qe.charAt(0)+"."+qe.slice(1)+getZeroString(Ue):He>1&&(qe=qe.charAt(0)+"."+qe.slice(1)),qe=qe+(ze<0?"e":"e+")+ze):ze<0?(qe="0."+getZeroString(-ze-1)+qe,Be&&(Ue=Be-He)>0&&(qe+=getZeroString(Ue))):ze>=He?(qe+=getZeroString(ze+1-He),Be&&(Ue=Be-ze-1)>0&&(qe=qe+"."+getZeroString(Ue))):((Ue=ze+1)<He&&(qe=qe.slice(0,Ue)+"."+qe.slice(Ue)),Be&&(Ue=Be-He)>0&&(ze+1===He&&(qe+="."),qe+=getZeroString(Ue))),Ve.s<0?"-"+qe:qe}function truncate(Ve,$e){if(Ve.length>$e)return Ve.length=$e,!0}function clone(Ve){var $e,Be,Ue;function ze(qe){var He=this;if(!(He instanceof ze))return new ze(qe);if(He.constructor=ze,qe instanceof ze){He.s=qe.s,He.e=qe.e,He.d=(qe=qe.d)?qe.slice():qe;return}if(typeof qe=="number"){if(qe*0!==0)throw Error(invalidArgument+qe);if(qe>0)He.s=1;else if(qe<0)qe=-qe,He.s=-1;else{He.s=0,He.e=0,He.d=[0];return}if(qe===~~qe&&qe<1e7){He.e=0,He.d=[qe];return}return parseDecimal(He,qe.toString())}else if(typeof qe!="string")throw Error(invalidArgument+qe);if(qe.charCodeAt(0)===45?(qe=qe.slice(1),He.s=-1):He.s=1,isDecimal.test(qe))parseDecimal(He,qe);else throw Error(invalidArgument+qe)}if(ze.prototype=P$1,ze.ROUND_UP=0,ze.ROUND_DOWN=1,ze.ROUND_CEIL=2,ze.ROUND_FLOOR=3,ze.ROUND_HALF_UP=4,ze.ROUND_HALF_DOWN=5,ze.ROUND_HALF_EVEN=6,ze.ROUND_HALF_CEIL=7,ze.ROUND_HALF_FLOOR=8,ze.clone=clone,ze.config=ze.set=config,Ve===void 0&&(Ve={}),Ve)for(Ue=["precision","rounding","toExpNeg","toExpPos","LN10"],$e=0;$e<Ue.length;)Ve.hasOwnProperty(Be=Ue[$e++])||(Ve[Be]=this[Be]);return ze.config(Ve),ze}function config(Ve){if(!Ve||typeof Ve!="object")throw Error(decimalError+"Object expected");var $e,Be,Ue,ze=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for($e=0;$e<ze.length;$e+=3)if((Ue=Ve[Be=ze[$e]])!==void 0)if(mathfloor(Ue)===Ue&&Ue>=ze[$e+1]&&Ue<=ze[$e+2])this[Be]=Ue;else throw Error(invalidArgument+Be+": "+Ue);if((Ue=Ve[Be="LN10"])!==void 0)if(Ue==Math.LN10)this[Be]=new this(Ue);else throw Error(invalidArgument+Be+": "+Ue);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=Ve=>Ve,PLACE_HOLDER={},isPlaceHolder=Ve=>Ve===PLACE_HOLDER,curry0=Ve=>function $e(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?$e:Ve(...arguments)},curryN=(Ve,$e)=>Ve===1?$e:curry0(function(){for(var Be=arguments.length,Ue=new Array(Be),ze=0;ze<Be;ze++)Ue[ze]=arguments[ze];var qe=Ue.filter(He=>He!==PLACE_HOLDER).length;return qe>=Ve?$e(...Ue):curryN(Ve-qe,curry0(function(){for(var He=arguments.length,We=new Array(He),Ge=0;Ge<He;Ge++)We[Ge]=arguments[Ge];var Ye=Ue.map(Xe=>isPlaceHolder(Xe)?We.shift():Xe);return $e(...Ye,...We)}))}),curry=Ve=>curryN(Ve.length,Ve),range=(Ve,$e)=>{for(var Be=[],Ue=Ve;Ue<$e;++Ue)Be[Ue-Ve]=Ue;return Be},map=curry((Ve,$e)=>Array.isArray($e)?$e.map(Ve):Object.keys($e).map(Be=>$e[Be]).map(Ve)),compose=function Ve(){for(var $e=arguments.length,Be=new Array($e),Ue=0;Ue<$e;Ue++)Be[Ue]=arguments[Ue];if(!Be.length)return identity;var ze=Be.reverse(),qe=ze[0],He=ze.slice(1);return function(){return He.reduce((We,Ge)=>Ge(We),qe(...arguments))}},reverse=Ve=>Array.isArray(Ve)?Ve.reverse():Ve.split("").reverse().join(""),memoize=Ve=>{var $e=null,Be=null;return function(){for(var Ue=arguments.length,ze=new Array(Ue),qe=0;qe<Ue;qe++)ze[qe]=arguments[qe];return $e&&ze.every((He,We)=>{var Ge;return He===((Ge=$e)===null||Ge===void 0?void 0:Ge[We])})||($e=ze,Be=Ve(...ze)),Be}};function getDigitCount(Ve){var $e;return Ve===0?$e=1:$e=Math.floor(new Decimal$1(Ve).abs().log(10).toNumber())+1,$e}function rangeStep(Ve,$e,Be){for(var Ue=new Decimal$1(Ve),ze=0,qe=[];Ue.lt($e)&&ze<1e5;)qe.push(Ue.toNumber()),Ue=Ue.add(Be),ze++;return qe}curry((Ve,$e,Be)=>{var Ue=+Ve,ze=+$e;return Ue+Be*(ze-Ue)});curry((Ve,$e,Be)=>{var Ue=$e-+Ve;return Ue=Ue||1/0,(Be-Ve)/Ue});curry((Ve,$e,Be)=>{var Ue=$e-+Ve;return Ue=Ue||1/0,Math.max(0,Math.min(1,(Be-Ve)/Ue))});var getValidInterval=Ve=>{var[$e,Be]=Ve,[Ue,ze]=[$e,Be];return $e>Be&&([Ue,ze]=[Be,$e]),[Ue,ze]},getFormatStep=(Ve,$e,Be)=>{if(Ve.lte(0))return new Decimal$1(0);var Ue=getDigitCount(Ve.toNumber()),ze=new Decimal$1(10).pow(Ue),qe=Ve.div(ze),He=Ue!==1?.05:.1,We=new Decimal$1(Math.ceil(qe.div(He).toNumber())).add(Be).mul(He),Ge=We.mul(ze);return $e?new Decimal$1(Ge.toNumber()):new Decimal$1(Math.ceil(Ge.toNumber()))},getTickOfSingleValue=(Ve,$e,Be)=>{var Ue=new Decimal$1(1),ze=new Decimal$1(Ve);if(!ze.isint()&&Be){var qe=Math.abs(Ve);qe<1?(Ue=new Decimal$1(10).pow(getDigitCount(Ve)-1),ze=new Decimal$1(Math.floor(ze.div(Ue).toNumber())).mul(Ue)):qe>1&&(ze=new Decimal$1(Math.floor(Ve)))}else Ve===0?ze=new Decimal$1(Math.floor(($e-1)/2)):Be||(ze=new Decimal$1(Math.floor(Ve)));var He=Math.floor(($e-1)/2),We=compose(map(Ge=>ze.add(new Decimal$1(Ge-He).mul(Ue)).toNumber()),range);return We(0,$e)},_calculateStep=function Ve($e,Be,Ue,ze){var qe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((Be-$e)/(Ue-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var He=getFormatStep(new Decimal$1(Be).sub($e).div(Ue-1),ze,qe),We;$e<=0&&Be>=0?We=new Decimal$1(0):(We=new Decimal$1($e).add(Be).div(2),We=We.sub(new Decimal$1(We).mod(He)));var Ge=Math.ceil(We.sub($e).div(He).toNumber()),Ye=Math.ceil(new Decimal$1(Be).sub(We).div(He).toNumber()),Xe=Ge+Ye+1;return Xe>Ue?_calculateStep($e,Be,Ue,ze,qe+1):(Xe<Ue&&(Ye=Be>0?Ye+(Ue-Xe):Ye,Ge=Be>0?Ge:Ge+(Ue-Xe)),{step:He,tickMin:We.sub(new Decimal$1(Ge).mul(He)),tickMax:We.add(new Decimal$1(Ye).mul(He))})};function getNiceTickValuesFn(Ve){var[$e,Be]=Ve,Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,qe=Math.max(Ue,2),[He,We]=getValidInterval([$e,Be]);if(He===-1/0||We===1/0){var Ge=We===1/0?[He,...range(0,Ue-1).map(()=>1/0)]:[...range(0,Ue-1).map(()=>-1/0),We];return $e>Be?reverse(Ge):Ge}if(He===We)return getTickOfSingleValue(He,Ue,ze);var{step:Ye,tickMin:Xe,tickMax:Je}=_calculateStep(He,We,qe,ze,0),er=rangeStep(Xe,Je.add(new Decimal$1(.1).mul(Ye)),Ye);return $e>Be?reverse(er):er}function getTickValuesFixedDomainFn(Ve,$e){var[Be,Ue]=Ve,ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[qe,He]=getValidInterval([Be,Ue]);if(qe===-1/0||He===1/0)return[Be,Ue];if(qe===He)return[qe];var We=Math.max($e,2),Ge=getFormatStep(new Decimal$1(He).sub(qe).div(We-1),ze,0),Ye=[...rangeStep(new Decimal$1(qe),new Decimal$1(He),Ge),He];return ze===!1&&(Ye=Ye.map(Xe=>Math.round(Xe))),Be>Ue?reverse(Ye):Ye}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),selectRootMaxBarSize=Ve=>Ve.rootProps.maxBarSize,selectBarGap=Ve=>Ve.rootProps.barGap,selectBarCategoryGap=Ve=>Ve.rootProps.barCategoryGap,selectRootBarSize=Ve=>Ve.rootProps.barSize,selectStackOffsetType=Ve=>Ve.rootProps.stackOffset,selectChartName=Ve=>Ve.options.chartName,selectSyncId=Ve=>Ve.rootProps.syncId,selectSyncMethod=Ve=>Ve.rootProps.syncMethod,selectEventEmitter=Ve=>Ve.options.eventEmitter,defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(Ve,$e)=>{if(!(!Ve||!$e))return Ve!=null&&Ve.reversed?[$e[1],$e[0]]:$e},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(Ve,$e)=>Ve.polarAxis.angleAxis[$e]!=null?Ve.polarAxis.angleAxis[$e]:Ve.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(Ve,$e)=>Ve.polarAxis.radiusAxis[$e]!=null?Ve.polarAxis.radiusAxis[$e]:Ve.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=Ve=>Ve.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(Ve,$e)=>{if(Ve!=null)return getPercentValue(Ve.innerRadius,$e,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(Ve,$e)=>{if(Ve!=null)return getPercentValue(Ve.outerRadius,$e,$e*.8)}),combineAngleAxisRange=Ve=>{if(Ve==null)return[0,0];var{startAngle:$e,endAngle:Be}=Ve;return[$e,Be]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(Ve,$e,Be)=>{if(!(Ve==null||$e==null||Be==null))return[$e,Be]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(Ve,$e,Be,Ue,ze,qe)=>{if(!(Ve!=="centric"&&Ve!=="radial"||$e==null||Be==null||Ue==null)){var{cx:He,cy:We,startAngle:Ge,endAngle:Ye}=$e;return{cx:getPercentValue(He,ze,ze/2),cy:getPercentValue(We,qe,qe/2),innerRadius:Be,outerRadius:Ue,startAngle:Ge,endAngle:Ye,clockWise:!1}}}),pickAxisType=(Ve,$e)=>$e,pickAxisId=(Ve,$e,Be)=>Be;function getStackSeriesIdentifier(Ve){return Ve?.id}var selectTooltipAxisType=Ve=>{var $e=selectChartLayout(Ve);return $e==="horizontal"?"xAxis":$e==="vertical"?"yAxis":$e==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=Ve=>Ve.tooltip.settings.axisId,selectTooltipAxis=Ve=>{var $e=selectTooltipAxisType(Ve),Be=selectTooltipAxisId(Ve);return selectAxisSettings(Ve,$e,Be)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],Ve=>Ve?.dataKey);function combineDisplayedStackedData(Ve,$e,Be){var{chartData:Ue=[]}=$e,{allowDuplicatedCategory:ze,dataKey:qe}=Be,He=new Map;return Ve.forEach(We=>{var Ge,Ye=(Ge=We.data)!==null&&Ge!==void 0?Ge:Ue;if(!(Ye==null||Ye.length===0)){var Xe=getStackSeriesIdentifier(We);Ye.forEach((Je,er)=>{var Ze=qe==null||ze?er:String(getValueByDataKey(Je,qe,null)),rr=getValueByDataKey(Je,We.dataKey,0),nr;He.has(Ze)?nr=He.get(Ze):nr={},Object.assign(nr,{[Xe]:rr}),He.set(Ze,nr)})}}),Array.from(He.values())}function isStacked(Ve){return Ve.stackId!=null&&Ve.dataKey!=null}var numberDomainEqualityCheck=(Ve,$e)=>Ve===$e?!0:Ve==null||$e==null?!1:Ve[0]===$e[0]&&Ve[1]===$e[1];function arrayEqualityCheck(Ve,$e){return Array.isArray(Ve)&&Array.isArray($e)&&Ve.length===0&&$e.length===0?!0:Ve===$e}function ownKeys$n(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$m(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$n(Object(Be),!0).forEach(function(Ue){_defineProperty$o(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$n(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$o(Ve,$e,Be){return($e=_toPropertyKey$o($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$o(Ve){var $e=_toPrimitive$o(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$o(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(Ve,$e)=>Ve.cartesianAxis.xAxis[$e],selectXAxisSettings=(Ve,$e)=>{var Be=selectXAxisSettingsNoDefaults(Ve,$e);return Be??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(Ve,$e)=>Ve.cartesianAxis.yAxis[$e],selectYAxisSettings=(Ve,$e)=>{var Be=selectYAxisSettingsNoDefaults(Ve,$e);return Be??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(Ve,$e)=>{var Be=Ve.cartesianAxis.zAxis[$e];return Be??implicitZAxis},selectBaseAxis=(Ve,$e,Be)=>{switch($e){case"xAxis":return selectXAxisSettings(Ve,Be);case"yAxis":return selectYAxisSettings(Ve,Be);case"zAxis":return selectZAxisSettings(Ve,Be);case"angleAxis":return selectAngleAxis(Ve,Be);case"radiusAxis":return selectRadiusAxis(Ve,Be);default:throw new Error("Unexpected axis type: ".concat($e))}},selectCartesianAxisSettings=(Ve,$e,Be)=>{switch($e){case"xAxis":return selectXAxisSettings(Ve,Be);case"yAxis":return selectYAxisSettings(Ve,Be);default:throw new Error("Unexpected axis type: ".concat($e))}},selectAxisSettings=(Ve,$e,Be)=>{switch($e){case"xAxis":return selectXAxisSettings(Ve,Be);case"yAxis":return selectYAxisSettings(Ve,Be);case"angleAxis":return selectAngleAxis(Ve,Be);case"radiusAxis":return selectRadiusAxis(Ve,Be);default:throw new Error("Unexpected axis type: ".concat($e))}},selectHasBar=Ve=>Ve.graphicalItems.cartesianItems.some($e=>$e.type==="bar")||Ve.graphicalItems.polarItems.some($e=>$e.type==="radialBar");function itemAxisPredicate(Ve,$e){return Be=>{switch(Ve){case"xAxis":return"xAxisId"in Be&&Be.xAxisId===$e;case"yAxis":return"yAxisId"in Be&&Be.yAxisId===$e;case"zAxis":return"zAxisId"in Be&&Be.zAxisId===$e;case"angleAxis":return"angleAxisId"in Be&&Be.angleAxisId===$e;case"radiusAxis":return"radiusAxisId"in Be&&Be.radiusAxisId===$e;default:return!1}}}var selectUnfilteredCartesianItems=Ve=>Ve.graphicalItems.cartesianItems,selectAxisPredicate$1=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(Ve,$e,Be)=>Ve.filter(Be).filter(Ue=>$e?.includeHidden===!0?!0:!Ue.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate$1],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:arrayEqualityCheck}}),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],Ve=>Ve.filter($e=>$e.type==="area"||$e.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=Ve=>Ve.filter($e=>!("stackId"in $e)||$e.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=Ve=>Ve.map($e=>$e.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:arrayEqualityCheck}}),combineDisplayedData=(Ve,$e)=>{var{chartData:Be=[],dataStartIndex:Ue,dataEndIndex:ze}=$e;return Ve.length>0?Ve:Be.slice(Ue,ze+1)},selectDisplayedData$1=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(Ve,$e,Be)=>$e?.dataKey!=null?Ve.map(Ue=>({value:getValueByDataKey(Ue,$e.dataKey)})):Be.length>0?Be.map(Ue=>Ue.dataKey).flatMap(Ue=>Ve.map(ze=>({value:getValueByDataKey(ze,Ue)}))):Ve.map(Ue=>({value:Ue})),selectAllAppliedValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(Ve,$e){switch(Ve){case"xAxis":return $e.direction==="x";case"yAxis":return $e.direction==="y";default:return!1}}function makeNumber(Ve){if(isNumOrStr(Ve)||Ve instanceof Date){var $e=Number(Ve);if(isWellBehavedNumber($e))return $e}}function makeDomain(Ve){if(Array.isArray(Ve)){var $e=[makeNumber(Ve[0]),makeNumber(Ve[1])];return isWellFormedNumberDomain($e)?$e:void 0}var Be=makeNumber(Ve);if(Be!=null)return[Be,Be]}function onlyAllowNumbers(Ve){return Ve.map(makeNumber).filter(isNotNil)}function getErrorDomainByDataKey(Ve,$e,Be){return!Be||typeof $e!="number"||isNan($e)?[]:Be.length?onlyAllowNumbers(Be.flatMap(Ue=>{var ze=getValueByDataKey(Ve,Ue.dataKey),qe,He;if(Array.isArray(ze)?[qe,He]=ze:qe=He=ze,!(!isWellBehavedNumber(qe)||!isWellBehavedNumber(He)))return[$e-qe,$e+He]})):[]}var selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(Ve,$e,Be)=>{var Ue={},ze=$e.reduce((qe,He)=>(He.stackId==null||(qe[He.stackId]==null&&(qe[He.stackId]=[]),qe[He.stackId].push(He)),qe),Ue);return Object.fromEntries(Object.entries(ze).map(qe=>{var[He,We]=qe,Ge=We.map(getStackSeriesIdentifier);return[He,{stackedData:getStackedData(Ve,Ge,Be),graphicalItems:We}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(Ve,$e,Be,Ue)=>{var{dataStartIndex:ze,dataEndIndex:qe}=$e;if(Ue==null&&Be!=="zAxis"){var He=getDomainOfStackGroups(Ve,ze,qe);if(!(He!=null&&He[0]===0&&He[1]===0))return He}},selectAllowsDataOverflow=createSelector([selectBaseAxis],Ve=>Ve.allowDataOverflow),getDomainDefinition=Ve=>{var $e;if(Ve==null||!("domain"in Ve))return defaultNumericDomain;if(Ve.domain!=null)return Ve.domain;if(Ve.ticks!=null){if(Ve.type==="number"){var Be=onlyAllowNumbers(Ve.ticks);return[Math.min(...Be),Math.max(...Be)]}if(Ve.type==="category")return Ve.ticks.map(String)}return($e=Ve?.domain)!==null&&$e!==void 0?$e:defaultNumericDomain},selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),selectDomainFromUserPreference=createSelector([selectDomainDefinition,selectAllowsDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType,selectDomainFromUserPreference],combineDomainOfStackGroups,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectAllErrorBarSettings=Ve=>Ve.errorBars,combineRelevantErrorBarSettings=(Ve,$e,Be)=>Ve.flatMap(Ue=>$e[Ue.id]).filter(Boolean).filter(Ue=>isErrorBarRelevantForAxisType(Be,Ue)),mergeDomains=function Ve(){for(var $e=arguments.length,Be=new Array($e),Ue=0;Ue<$e;Ue++)Be[Ue]=arguments[Ue];var ze=Be.filter(Boolean);if(ze.length!==0){var qe=ze.flat(),He=Math.min(...qe),We=Math.max(...qe);return[He,We]}},combineDomainOfAllAppliedNumericalValuesIncludingErrorValues=(Ve,$e,Be,Ue,ze)=>{var qe,He;if(Be.length>0&&Ve.forEach(We=>{Be.forEach(Ge=>{var Ye,Xe,Je=(Ye=Ue[Ge.id])===null||Ye===void 0?void 0:Ye.filter(sr=>isErrorBarRelevantForAxisType(ze,sr)),er=getValueByDataKey(We,(Xe=$e.dataKey)!==null&&Xe!==void 0?Xe:Ge.dataKey),Ze=getErrorDomainByDataKey(We,er,Je);if(Ze.length>=2){var rr=Math.min(...Ze),nr=Math.max(...Ze);(qe==null||rr<qe)&&(qe=rr),(He==null||nr>He)&&(He=nr)}var ar=makeDomain(er);ar!=null&&(qe=qe==null?ar[0]:Math.min(qe,ar[0]),He=He==null?ar[1]:Math.max(He,ar[1]))})}),$e?.dataKey!=null&&Ve.forEach(We=>{var Ge=makeDomain(getValueByDataKey(We,$e.dataKey));Ge!=null&&(qe=qe==null?Ge[0]:Math.min(qe,Ge[0]),He=He==null?Ge[1]:Math.max(He,Ge[1]))}),isWellBehavedNumber(qe)&&isWellBehavedNumber(He))return[qe,He]},selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});function onlyAllowNumbersAndStringsAndDates(Ve){var{value:$e}=Ve;if(isNumOrStr($e)||$e instanceof Date)return $e}var computeDomainOfTypeCategory=(Ve,$e,Be)=>{var Ue=Ve.map(onlyAllowNumbersAndStringsAndDates).filter(ze=>ze!=null);return Be&&($e.dataKey==null||$e.allowDuplicatedCategory&&hasDuplicate(Ue))?range$2(0,Ve.length):$e.allowDuplicatedCategory?Ue:Array.from(new Set(Ue))},selectReferenceDots=Ve=>Ve.referenceElements.dots,filterReferenceElements=(Ve,$e,Be)=>Ve.filter(Ue=>Ue.ifOverflow==="extendDomain").filter(Ue=>$e==="xAxis"?Ue.xAxisId===Be:Ue.yAxisId===Be),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=Ve=>Ve.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=Ve=>Ve.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(Ve,$e)=>{var Be=onlyAllowNumbers(Ve.map(Ue=>$e==="xAxis"?Ue.x:Ue.y));if(Be.length!==0)return[Math.min(...Be),Math.max(...Be)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(Ve,$e)=>{var Be=onlyAllowNumbers(Ve.flatMap(Ue=>[$e==="xAxis"?Ue.x1:Ue.y1,$e==="xAxis"?Ue.x2:Ue.y2]));if(Be.length!==0)return[Math.min(...Be),Math.max(...Be)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain),combineLinesDomain=(Ve,$e)=>{var Be=onlyAllowNumbers(Ve.map(Ue=>$e==="xAxis"?Ue.x:Ue.y));if(Be.length!==0)return[Math.min(...Be),Math.max(...Be)]},selectReferenceLinesDomain=createSelector(selectReferenceLinesByAxis,pickAxisType,combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(Ve,$e,Be)=>mergeDomains(Ve,Be,$e)),combineNumericalDomain=(Ve,$e,Be,Ue,ze,qe,He,We)=>{if(Be!=null)return Be;var Ge=He==="vertical"&&We==="xAxis"||He==="horizontal"&&We==="yAxis",Ye=Ge?mergeDomains(Ue,qe,ze):mergeDomains(qe,ze);return parseNumericalUserDomain($e,Ye,Ve.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,selectDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),expandDomain=[0,1],combineAxisDomain=(Ve,$e,Be,Ue,ze,qe,He)=>{if(!((Ve==null||Be==null||Be.length===0)&&He===void 0)){var{dataKey:We,type:Ge}=Ve,Ye=isCategoricalAxis($e,qe);return Ye&&We==null?range$2(0,Be.length):Ge==="category"?computeDomainOfTypeCategory(Ue,Ve,Ye):ze==="expand"?expandDomain:He}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData$1,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(Ve,$e,Be,Ue,ze)=>{if(Ve!=null){var{scale:qe,type:He}=Ve;if(qe==="auto")return $e==="radial"&&ze==="radiusAxis"?"band":$e==="radial"&&ze==="angleAxis"?"linear":He==="category"&&Ue&&(Ue.indexOf("LineChart")>=0||Ue.indexOf("AreaChart")>=0||Ue.indexOf("ComposedChart")>=0&&!Be)?"point":He==="category"?"band":"linear";if(typeof qe=="string"){var We="scale".concat(upperFirst(qe));return We in d3Scales?We:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(Ve){if(Ve!=null){if(Ve in d3Scales)return d3Scales[Ve]();var $e="scale".concat(upperFirst(Ve));if($e in d3Scales)return d3Scales[$e]()}}function combineScaleFunction(Ve,$e,Be,Ue){if(!(Be==null||Ue==null)){if(typeof Ve.scale=="function")return Ve.scale.copy().domain(Be).range(Ue);var ze=getD3ScaleFromType($e);if(ze!=null){var qe=ze.domain(Be).range(Ue);return checkDomainOfScale(qe),qe}}}var combineNiceTicks=(Ve,$e,Be)=>{var Ue=getDomainDefinition($e);if(!(Be!=="auto"&&Be!=="linear")){if($e!=null&&$e.tickCount&&Array.isArray(Ue)&&(Ue[0]==="auto"||Ue[1]==="auto")&&isWellFormedNumberDomain(Ve))return getNiceTickValues(Ve,$e.tickCount,$e.allowDecimals);if($e!=null&&$e.tickCount&&$e.type==="number"&&isWellFormedNumberDomain(Ve))return getTickValuesFixedDomain(Ve,$e.tickCount,$e.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(Ve,$e,Be,Ue)=>{if(Ue!=="angleAxis"&&Ve?.type==="number"&&isWellFormedNumberDomain($e)&&Array.isArray(Be)&&Be.length>0){var ze=$e[0],qe=Be[0],He=$e[1],We=Be[Be.length-1];return[Math.min(ze,qe),Math.max(He,We)]}return $e},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(Ve,$e)=>{if(!(!$e||$e.type!=="number")){var Be=1/0,Ue=Array.from(onlyAllowNumbers(Ve.map(We=>We.value))).sort((We,Ge)=>We-Ge);if(Ue.length<2)return 1/0;var ze=Ue[Ue.length-1]-Ue[0];if(ze===0)return 1/0;for(var qe=0;qe<Ue.length-1;qe++){var He=Ue[qe+1]-Ue[qe];Be=Math.min(Be,He)}return Be/ze}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(Ve,$e,Be,Ue)=>Ue,(Ve,$e,Be,Ue,ze)=>{if(!isWellBehavedNumber(Ve))return 0;var qe=$e==="vertical"?Ue.height:Ue.width;if(ze==="gap")return Ve*qe/2;if(ze==="no-gap"){var He=getPercentValue(Be,Ve*qe),We=Ve*qe/2;return We-He-(We-He)/qe*He}return 0}),selectCalculatedXAxisPadding=(Ve,$e)=>{var Be=selectXAxisSettings(Ve,$e);return Be==null||typeof Be.padding!="string"?0:selectCalculatedPadding(Ve,"xAxis",$e,Be.padding)},selectCalculatedYAxisPadding=(Ve,$e)=>{var Be=selectYAxisSettings(Ve,$e);return Be==null||typeof Be.padding!="string"?0:selectCalculatedPadding(Ve,"yAxis",$e,Be.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(Ve,$e)=>{var Be,Ue;if(Ve==null)return{left:0,right:0};var{padding:ze}=Ve;return typeof ze=="string"?{left:$e,right:$e}:{left:((Be=ze.left)!==null&&Be!==void 0?Be:0)+$e,right:((Ue=ze.right)!==null&&Ue!==void 0?Ue:0)+$e}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(Ve,$e)=>{var Be,Ue;if(Ve==null)return{top:0,bottom:0};var{padding:ze}=Ve;return typeof ze=="string"?{top:$e,bottom:$e}:{top:((Be=ze.top)!==null&&Be!==void 0?Be:0)+$e,bottom:((Ue=ze.bottom)!==null&&Ue!==void 0?Ue:0)+$e}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(Ve,$e,Be)=>Be],(Ve,$e,Be,Ue,ze)=>{var{padding:qe}=Ue;return ze?[qe.left,Be.width-qe.right]:[Ve.left+$e.left,Ve.left+Ve.width-$e.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(Ve,$e,Be)=>Be],(Ve,$e,Be,Ue,ze,qe)=>{var{padding:He}=ze;return qe?[Ue.height-He.bottom,He.top]:$e==="horizontal"?[Ve.top+Ve.height-Be.bottom,Ve.top+Be.top]:[Ve.top+Be.top,Ve.top+Ve.height-Be.bottom]}),selectAxisRange=(Ve,$e,Be,Ue)=>{var ze;switch($e){case"xAxis":return combineXAxisRange(Ve,Be,Ue);case"yAxis":return combineYAxisRange(Ve,Be,Ue);case"zAxis":return(ze=selectZAxisSettings(Ve,Be))===null||ze===void 0?void 0:ze.range;case"angleAxis":return selectAngleAxisRange(Ve);case"radiusAxis":return selectRadiusAxisRange(Ve,Be);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(Ve,$e){return Ve.id<$e.id?-1:Ve.id>$e.id?1:0}var pickAxisOrientation=(Ve,$e)=>$e,pickMirror=(Ve,$e,Be)=>Be,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(Ve,$e,Be)=>Ve.filter(Ue=>Ue.orientation===$e).filter(Ue=>Ue.mirror===Be).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(Ve,$e,Be)=>Ve.filter(Ue=>Ue.orientation===$e).filter(Ue=>Ue.mirror===Be).sort(compareIds)),getXAxisSize=(Ve,$e)=>({width:Ve.width,height:$e.height}),getYAxisSize=(Ve,$e)=>{var Be=typeof $e.width=="number"?$e.width:DEFAULT_Y_AXIS_WIDTH;return{width:Be,height:Ve.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(Ve,$e,Be)=>{switch($e){case"top":return Ve.top;case"bottom":return Be-Ve.bottom;default:return 0}},combineYAxisPositionStartingPoint=(Ve,$e,Be)=>{switch($e){case"left":return Ve.left;case"right":return Be-Ve.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(Ve,$e,Be,Ue,ze)=>{var qe={},He;return Be.forEach(We=>{var Ge=getXAxisSize($e,We);He==null&&(He=combineXAxisPositionStartingPoint($e,Ue,Ve));var Ye=Ue==="top"&&!ze||Ue==="bottom"&&ze;qe[We.id]=He-Number(Ye)*Ge.height,He+=(Ye?-1:1)*Ge.height}),qe}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(Ve,$e,Be,Ue,ze)=>{var qe={},He;return Be.forEach(We=>{var Ge=getYAxisSize($e,We);He==null&&(He=combineYAxisPositionStartingPoint($e,Ue,Ve));var Ye=Ue==="left"&&!ze||Ue==="right"&&ze;qe[We.id]=He-Number(Ye)*Ge.width,He+=(Ye?-1:1)*Ge.width}),qe}),selectXAxisOffsetSteps=(Ve,$e)=>{var Be=selectXAxisSettings(Ve,$e);if(Be!=null)return selectAllXAxesOffsetSteps(Ve,Be.orientation,Be.mirror)},selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(Ve,$e)=>$e],(Ve,$e,Be,Ue)=>{if($e!=null){var ze=Be?.[Ue];return ze==null?{x:Ve.left,y:0}:{x:Ve.left,y:ze}}}),selectYAxisOffsetSteps=(Ve,$e)=>{var Be=selectYAxisSettings(Ve,$e);if(Be!=null)return selectAllYAxesOffsetSteps(Ve,Be.orientation,Be.mirror)},selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(Ve,$e)=>$e],(Ve,$e,Be,Ue)=>{if($e!=null){var ze=Be?.[Ue];return ze==null?{x:0,y:Ve.top}:{x:ze,y:Ve.top}}}),selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(Ve,$e)=>{var Be=typeof $e.width=="number"?$e.width:DEFAULT_Y_AXIS_WIDTH;return{width:Be,height:Ve.height}}),selectCartesianAxisSize=(Ve,$e,Be)=>{switch($e){case"xAxis":return selectXAxisSize(Ve,Be).width;case"yAxis":return selectYAxisSize(Ve,Be).height;default:return}},combineDuplicateDomain=(Ve,$e,Be,Ue)=>{if(Be!=null){var{allowDuplicatedCategory:ze,type:qe,dataKey:He}=Be,We=isCategoricalAxis(Ve,Ue),Ge=$e.map(Ye=>Ye.value);if(He&&We&&qe==="category"&&ze&&hasDuplicate(Ge))return Ge}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(Ve,$e,Be,Ue)=>{if(!(Be==null||Be.dataKey==null)){var{type:ze,scale:qe}=Be,He=isCategoricalAxis(Ve,Ue);if(He&&(ze==="number"||qe!=="auto"))return $e.map(We=>We.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(Ve,$e,Be,Ue,ze,qe,He,We,Ge)=>{if($e==null)return null;var Ye=isCategoricalAxis(Ve,Ge);return{angle:$e.angle,interval:$e.interval,minTickGap:$e.minTickGap,orientation:$e.orientation,tick:$e.tick,tickCount:$e.tickCount,tickFormatter:$e.tickFormatter,ticks:$e.ticks,type:$e.type,unit:$e.unit,axisType:Ge,categoricalDomain:qe,duplicateDomain:ze,isCategorical:Ye,niceTicks:We,range:He,realScaleType:Be,scale:Ue}}),combineAxisTicks=(Ve,$e,Be,Ue,ze,qe,He,We,Ge)=>{if(!($e==null||Ue==null)){var Ye=isCategoricalAxis(Ve,Ge),{type:Xe,ticks:Je,tickCount:er}=$e,Ze=Be==="scaleBand"&&typeof Ue.bandwidth=="function"?Ue.bandwidth()/2:2,rr=Xe==="category"&&Ue.bandwidth?Ue.bandwidth()/Ze:0;rr=Ge==="angleAxis"&&qe!=null&&qe.length>=2?mathSign(qe[0]-qe[1])*2*rr:rr;var nr=Je||ze;if(nr){var ar=nr.map((sr,lr)=>{var or=He?He.indexOf(sr):sr;return{index:lr,coordinate:Ue(or)+rr,value:sr,offset:rr}});return ar.filter(sr=>!isNan(sr.coordinate))}return Ye&&We?We.map((sr,lr)=>({coordinate:Ue(sr)+rr,value:sr,index:lr,offset:rr})):Ue.ticks?Ue.ticks(er).map(sr=>({coordinate:Ue(sr)+rr,value:sr,offset:rr})):Ue.domain().map((sr,lr)=>({coordinate:Ue(sr)+rr,value:He?He[sr]:sr,index:lr,offset:rr}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(Ve,$e,Be,Ue,ze,qe,He)=>{if(!($e==null||Be==null||Ue==null||Ue[0]===Ue[1])){var We=isCategoricalAxis(Ve,He),{tickCount:Ge}=$e,Ye=0;return Ye=He==="angleAxis"&&Ue?.length>=2?mathSign(Ue[0]-Ue[1])*2*Ye:Ye,We&&qe?qe.map((Xe,Je)=>({coordinate:Be(Xe)+Ye,value:Xe,index:Je,offset:Ye})):Be.ticks?Be.ticks(Ge).map(Xe=>({coordinate:Be(Xe)+Ye,value:Xe,offset:Ye})):Be.domain().map((Xe,Je)=>({coordinate:Be(Xe)+Ye,value:ze?ze[Xe]:Xe,index:Je,offset:Ye}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(Ve,$e)=>{if(!(Ve==null||$e==null))return _objectSpread$m(_objectSpread$m({},Ve),{},{scale:$e})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((Ve,$e,Be)=>selectZAxisSettings(Ve,Be),selectZAxisScale,(Ve,$e)=>{if(!(Ve==null||$e==null))return _objectSpread$m(_objectSpread$m({},Ve),{},{scale:$e})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(Ve,$e,Be)=>{switch(Ve){case"horizontal":return $e.some(Ue=>Ue.reversed)?"right-to-left":"left-to-right";case"vertical":return Be.some(Ue=>Ue.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=Ve=>Ve.options.defaultTooltipEventType,selectValidateTooltipEventTypes=Ve=>Ve.options.validateTooltipEventTypes;function combineTooltipEventType(Ve,$e,Be){if(Ve==null)return $e;var Ue=Ve?"axis":"item";return Be==null?$e:Be.includes(Ue)?Ue:$e}function selectTooltipEventType$1(Ve,$e){var Be=selectDefaultTooltipEventType(Ve),Ue=selectValidateTooltipEventTypes(Ve);return combineTooltipEventType($e,Be,Ue)}function useTooltipEventType(Ve){return useAppSelector($e=>selectTooltipEventType$1($e,Ve))}var combineActiveLabel=(Ve,$e)=>{var Be,Ue=Number($e);if(!(isNan(Ue)||$e==null))return Ue>=0?Ve==null||(Be=Ve[Ue])===null||Be===void 0?void 0:Be.value:void 0},selectTooltipSettings=Ve=>Ve.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$8={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$8,reducers:{addTooltipEntrySettings:{reducer(Ve,$e){Ve.tooltipItemPayloads.push($e.payload)},prepare:prepareAutoBatched()},removeTooltipEntrySettings:{reducer(Ve,$e){var Be=current(Ve).tooltipItemPayloads.indexOf($e.payload);Be>-1&&Ve.tooltipItemPayloads.splice(Be,1)},prepare:prepareAutoBatched()},setTooltipSettingsState(Ve,$e){Ve.settings=$e.payload},setActiveMouseOverItemIndex(Ve,$e){Ve.syncInteraction.active=!1,Ve.keyboardInteraction.active=!1,Ve.itemInteraction.hover.active=!0,Ve.itemInteraction.hover.index=$e.payload.activeIndex,Ve.itemInteraction.hover.dataKey=$e.payload.activeDataKey,Ve.itemInteraction.hover.coordinate=$e.payload.activeCoordinate},mouseLeaveChart(Ve){Ve.itemInteraction.hover.active=!1,Ve.axisInteraction.hover.active=!1},mouseLeaveItem(Ve){Ve.itemInteraction.hover.active=!1},setActiveClickItemIndex(Ve,$e){Ve.syncInteraction.active=!1,Ve.itemInteraction.click.active=!0,Ve.keyboardInteraction.active=!1,Ve.itemInteraction.click.index=$e.payload.activeIndex,Ve.itemInteraction.click.dataKey=$e.payload.activeDataKey,Ve.itemInteraction.click.coordinate=$e.payload.activeCoordinate},setMouseOverAxisIndex(Ve,$e){Ve.syncInteraction.active=!1,Ve.axisInteraction.hover.active=!0,Ve.keyboardInteraction.active=!1,Ve.axisInteraction.hover.index=$e.payload.activeIndex,Ve.axisInteraction.hover.dataKey=$e.payload.activeDataKey,Ve.axisInteraction.hover.coordinate=$e.payload.activeCoordinate},setMouseClickAxisIndex(Ve,$e){Ve.syncInteraction.active=!1,Ve.keyboardInteraction.active=!1,Ve.axisInteraction.click.active=!0,Ve.axisInteraction.click.index=$e.payload.activeIndex,Ve.axisInteraction.click.dataKey=$e.payload.activeDataKey,Ve.axisInteraction.click.coordinate=$e.payload.activeCoordinate},setSyncInteraction(Ve,$e){Ve.syncInteraction=$e.payload},setKeyboardInteraction(Ve,$e){Ve.keyboardInteraction.active=$e.payload.active,Ve.keyboardInteraction.index=$e.payload.activeIndex,Ve.keyboardInteraction.coordinate=$e.payload.activeCoordinate,Ve.keyboardInteraction.dataKey=$e.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$m(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$l(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$m(Object(Be),!0).forEach(function(Ue){_defineProperty$n(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$m(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$n(Ve,$e,Be){return($e=_toPropertyKey$n($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$n(Ve){var $e=_toPrimitive$n(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$n(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function chooseAppropriateMouseInteraction(Ve,$e,Be){return $e==="axis"?Be==="click"?Ve.axisInteraction.click:Ve.axisInteraction.hover:Be==="click"?Ve.itemInteraction.click:Ve.itemInteraction.hover}function hasBeenActivePreviously(Ve){return Ve.index!=null}var combineTooltipInteractionState=(Ve,$e,Be,Ue)=>{if($e==null)return noInteraction;var ze=chooseAppropriateMouseInteraction(Ve,$e,Be);if(ze==null)return noInteraction;if(ze.active)return ze;if(Ve.keyboardInteraction.active)return Ve.keyboardInteraction;if(Ve.syncInteraction.active&&Ve.syncInteraction.index!=null)return Ve.syncInteraction;var qe=Ve.settings.active===!0;if(hasBeenActivePreviously(ze)){if(qe)return _objectSpread$l(_objectSpread$l({},ze),{},{active:!0})}else if(Ue!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:Ue};return _objectSpread$l(_objectSpread$l({},noInteraction),{},{coordinate:ze.coordinate})},combineActiveTooltipIndex=(Ve,$e)=>{var Be=Ve?.index;if(Be==null)return null;var Ue=Number(Be);if(!isWellBehavedNumber(Ue))return Be;var ze=0,qe=1/0;return $e.length>0&&(qe=$e.length-1),String(Math.max(ze,Math.min(Ue,qe)))},combineCoordinateForDefaultIndex=(Ve,$e,Be,Ue,ze,qe,He,We)=>{if(!(qe==null||We==null)){var Ge=He[0],Ye=Ge==null?void 0:We(Ge.positions,qe);if(Ye!=null)return Ye;var Xe=ze?.[Number(qe)];if(Xe)switch(Be){case"horizontal":return{x:Xe.coordinate,y:(Ue.top+$e)/2};default:return{x:(Ue.left+Ve)/2,y:Xe.coordinate}}}},combineTooltipPayloadConfigurations=(Ve,$e,Be,Ue)=>{if($e==="axis")return Ve.tooltipItemPayloads;if(Ve.tooltipItemPayloads.length===0)return[];var ze;return Be==="hover"?ze=Ve.itemInteraction.hover.dataKey:ze=Ve.itemInteraction.click.dataKey,ze==null&&Ue!=null?[Ve.tooltipItemPayloads[0]]:Ve.tooltipItemPayloads.filter(qe=>{var He;return((He=qe.settings)===null||He===void 0?void 0:He.dataKey)===ze})},selectTooltipPayloadSearcher=Ve=>Ve.options.tooltipPayloadSearcher,selectTooltipState=Ve=>Ve.tooltip;function ownKeys$l(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$k(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$l(Object(Be),!0).forEach(function(Ue){_defineProperty$m(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$l(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$m(Ve,$e,Be){return($e=_toPropertyKey$m($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$m(Ve){var $e=_toPrimitive$m(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$m(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function selectFinalData(Ve,$e){return Ve??$e}var combineTooltipPayload=(Ve,$e,Be,Ue,ze,qe,He)=>{if(!($e==null||qe==null)){var{chartData:We,computedData:Ge,dataStartIndex:Ye,dataEndIndex:Xe}=Be,Je=[];return Ve.reduce((er,Ze)=>{var rr,{dataDefinedOnItem:nr,settings:ar}=Ze,sr=selectFinalData(nr,We),lr=Array.isArray(sr)?getSliced(sr,Ye,Xe):sr,or=(rr=ar?.dataKey)!==null&&rr!==void 0?rr:Ue,cr=ar?.nameKey,hr;if(Ue&&Array.isArray(lr)&&!Array.isArray(lr[0])&&He==="axis"?hr=findEntryInArray(lr,Ue,ze):hr=qe(lr,$e,Ge,cr),Array.isArray(hr))hr.forEach(mr=>{var vr=_objectSpread$k(_objectSpread$k({},ar),{},{name:mr.name,unit:mr.unit,color:void 0,fill:void 0});er.push(getTooltipEntry({tooltipEntrySettings:vr,dataKey:mr.dataKey,payload:mr.payload,value:getValueByDataKey(mr.payload,mr.dataKey),name:mr.name}))});else{var yr;er.push(getTooltipEntry({tooltipEntrySettings:ar,dataKey:or,payload:hr,value:getValueByDataKey(hr,or),name:(yr=getValueByDataKey(hr,cr))!==null&&yr!==void 0?yr:ar?.name}))}return er},Je)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([Ve=>Ve.graphicalItems.cartesianItems,Ve=>Ve.graphicalItems.polarItems],(Ve,$e)=>[...Ve,...$e]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:arrayEqualityCheck}}),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],Ve=>Ve.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:arrayEqualityCheck}}),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipDataOverflow=createSelector([selectTooltipAxis],Ve=>Ve.allowDataOverflow),selectTooltipDomainFromUserPreferences=createSelector([selectTooltipAxisDomainDefinition,selectTooltipDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],Ve=>Ve.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType,selectTooltipDomainFromUserPreferences],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectDomainOfAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainFromUserPreferences,selectTooltipDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=Ve=>{var $e=selectTooltipAxisType(Ve),Be=selectTooltipAxisId(Ve),Ue=!1;return selectAxisRange(Ve,$e,Be,Ue)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(Ve,$e,Be,Ue,ze,qe,He,We)=>{if($e){var{type:Ge}=$e,Ye=isCategoricalAxis(Ve,We);if(Ue){var Xe=Be==="scaleBand"&&Ue.bandwidth?Ue.bandwidth()/2:2,Je=Ge==="category"&&Ue.bandwidth?Ue.bandwidth()/Xe:0;return Je=We==="angleAxis"&&ze!=null&&ze?.length>=2?mathSign(ze[0]-ze[1])*2*Je:Je,Ye&&He?He.map((er,Ze)=>({coordinate:Ue(er)+Je,value:er,index:Ze,offset:Je})):Ue.domain().map((er,Ze)=>({coordinate:Ue(er)+Je,value:qe?qe[er]:er,index:Ze,offset:Je}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(Ve,$e,Be)=>combineTooltipEventType(Be.shared,Ve,$e)),selectTooltipTrigger=Ve=>Ve.tooltip.settings.trigger,selectDefaultIndex=Ve=>Ve.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],Ve=>{if(Ve)return Ve.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(Ve,$e)=>Ve!=null&&Ve.coordinate?Ve.coordinate:$e),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],Ve=>Ve.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],Ve=>{if(Ve!=null){var $e=Ve.map(Be=>Be.payload).filter(Be=>Be!=null);return Array.from(new Set($e))}});function ownKeys$k(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$j(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$k(Object(Be),!0).forEach(function(Ue){_defineProperty$l(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$k(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$l(Ve,$e,Be){return($e=_toPropertyKey$l($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$l(Ve){var $e=_toPrimitive$l(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$l(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var Ve=useTooltipAxis(),$e=useAppSelector(selectTooltipAxisTicks),Be=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(_objectSpread$j(_objectSpread$j({},Ve),{},{scale:Be}),$e)},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(Ve,$e)=>$e,pickTrigger=(Ve,$e,Be)=>Be,pickDefaultIndex=(Ve,$e,Be,Ue)=>Ue,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,Ve=>sortBy(Ve,$e=>$e.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(Ve,$e,Be)=>{if($e!=null){var Ue=selectTooltipState(Ve);return $e==="axis"?Be==="hover"?Ue.axisInteraction.hover.dataKey:Ue.axisInteraction.click.dataKey:Be==="hover"?Ue.itemInteraction.hover.dataKey:Ue.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(Ve,$e)=>{var Be;return(Be=Ve.coordinate)!==null&&Be!==void 0?Be:$e}),selectActiveLabel=createSelector(selectTooltipAxisTicks,selectActiveIndex,combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],Ve=>({isActive:Ve.active,activeIndex:Ve.index})),combineActiveProps=(Ve,$e,Be,Ue,ze,qe,He,We)=>{if(!(!Ve||!$e||!Ue||!ze||!qe)){var Ge=inRange(Ve.chartX,Ve.chartY,$e,Be,We);if(Ge){var Ye=calculateTooltipPos(Ge,$e),Xe=calculateActiveTickIndex(Ye,He,qe,Ue,ze),Je=getActiveCoordinate($e,qe,Xe,Ge);return{activeIndex:String(Xe),activeCoordinate:Je}}}};function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$h.apply(null,arguments)}function ownKeys$j(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$i(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$j(Object(Be),!0).forEach(function(Ue){_defineProperty$k(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$j(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$k(Ve,$e,Be){return($e=_toPropertyKey$k($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$k(Ve){var $e=_toPrimitive$k(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$k(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function CursorInternal(Ve){var{coordinate:$e,payload:Be,index:Ue,offset:ze,tooltipAxisBandSize:qe,layout:He,cursor:We,tooltipEventType:Ge,chartName:Ye}=Ve,Xe=$e,Je=Be,er=Ue;if(!We||!Xe||Ye!=="ScatterChart"&&Ge!=="axis")return null;var Ze,rr;if(Ye==="ScatterChart")Ze=Xe,rr=Cross;else if(Ye==="BarChart")Ze=getCursorRectangle(He,Xe,ze,qe),rr=Rectangle;else if(He==="radial"){var{cx:nr,cy:ar,radius:sr,startAngle:lr,endAngle:or}=getRadialCursorPoints(Xe);Ze={cx:nr,cy:ar,startAngle:lr,endAngle:or,innerRadius:sr,outerRadius:sr},rr=Sector}else Ze={points:getCursorPoints(He,Xe,ze)},rr=Curve;var cr=typeof We=="object"&&"className"in We?We.className:void 0,hr=_objectSpread$i(_objectSpread$i(_objectSpread$i(_objectSpread$i({stroke:"#ccc",pointerEvents:"none"},ze),Ze),svgPropertiesNoEventsFromUnknown(We)),{},{payload:Je,payloadIndex:er,className:clsx("recharts-tooltip-cursor",cr)});return reactExports.isValidElement(We)?reactExports.cloneElement(We,hr):reactExports.createElement(rr,hr)}function Cursor(Ve){var $e=useTooltipAxisBandSize(),Be=useOffsetInternal(),Ue=useChartLayout(),ze=useChartName();return reactExports.createElement(CursorInternal,_extends$h({},Ve,{coordinate:Ve.coordinate,index:Ve.index,payload:Ve.payload,offset:Be,layout:Ue,tooltipAxisBandSize:$e,chartName:ze}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(Ve){var $e=Object.prototype.hasOwnProperty,Be="~";function Ue(){}Object.create&&(Ue.prototype=Object.create(null),new Ue().__proto__||(Be=!1));function ze(Ge,Ye,Xe){this.fn=Ge,this.context=Ye,this.once=Xe||!1}function qe(Ge,Ye,Xe,Je,er){if(typeof Xe!="function")throw new TypeError("The listener must be a function");var Ze=new ze(Xe,Je||Ge,er),rr=Be?Be+Ye:Ye;return Ge._events[rr]?Ge._events[rr].fn?Ge._events[rr]=[Ge._events[rr],Ze]:Ge._events[rr].push(Ze):(Ge._events[rr]=Ze,Ge._eventsCount++),Ge}function He(Ge,Ye){--Ge._eventsCount===0?Ge._events=new Ue:delete Ge._events[Ye]}function We(){this._events=new Ue,this._eventsCount=0}We.prototype.eventNames=function(){var Ye=[],Xe,Je;if(this._eventsCount===0)return Ye;for(Je in Xe=this._events)$e.call(Xe,Je)&&Ye.push(Be?Je.slice(1):Je);return Object.getOwnPropertySymbols?Ye.concat(Object.getOwnPropertySymbols(Xe)):Ye},We.prototype.listeners=function(Ye){var Xe=Be?Be+Ye:Ye,Je=this._events[Xe];if(!Je)return[];if(Je.fn)return[Je.fn];for(var er=0,Ze=Je.length,rr=new Array(Ze);er<Ze;er++)rr[er]=Je[er].fn;return rr},We.prototype.listenerCount=function(Ye){var Xe=Be?Be+Ye:Ye,Je=this._events[Xe];return Je?Je.fn?1:Je.length:0},We.prototype.emit=function(Ye,Xe,Je,er,Ze,rr){var nr=Be?Be+Ye:Ye;if(!this._events[nr])return!1;var ar=this._events[nr],sr=arguments.length,lr,or;if(ar.fn){switch(ar.once&&this.removeListener(Ye,ar.fn,void 0,!0),sr){case 1:return ar.fn.call(ar.context),!0;case 2:return ar.fn.call(ar.context,Xe),!0;case 3:return ar.fn.call(ar.context,Xe,Je),!0;case 4:return ar.fn.call(ar.context,Xe,Je,er),!0;case 5:return ar.fn.call(ar.context,Xe,Je,er,Ze),!0;case 6:return ar.fn.call(ar.context,Xe,Je,er,Ze,rr),!0}for(or=1,lr=new Array(sr-1);or<sr;or++)lr[or-1]=arguments[or];ar.fn.apply(ar.context,lr)}else{var cr=ar.length,hr;for(or=0;or<cr;or++)switch(ar[or].once&&this.removeListener(Ye,ar[or].fn,void 0,!0),sr){case 1:ar[or].fn.call(ar[or].context);break;case 2:ar[or].fn.call(ar[or].context,Xe);break;case 3:ar[or].fn.call(ar[or].context,Xe,Je);break;case 4:ar[or].fn.call(ar[or].context,Xe,Je,er);break;default:if(!lr)for(hr=1,lr=new Array(sr-1);hr<sr;hr++)lr[hr-1]=arguments[hr];ar[or].fn.apply(ar[or].context,lr)}}return!0},We.prototype.on=function(Ye,Xe,Je){return qe(this,Ye,Xe,Je,!1)},We.prototype.once=function(Ye,Xe,Je){return qe(this,Ye,Xe,Je,!0)},We.prototype.removeListener=function(Ye,Xe,Je,er){var Ze=Be?Be+Ye:Ye;if(!this._events[Ze])return this;if(!Xe)return He(this,Ze),this;var rr=this._events[Ze];if(rr.fn)rr.fn===Xe&&(!er||rr.once)&&(!Je||rr.context===Je)&&He(this,Ze);else{for(var nr=0,ar=[],sr=rr.length;nr<sr;nr++)(rr[nr].fn!==Xe||er&&!rr[nr].once||Je&&rr[nr].context!==Je)&&ar.push(rr[nr]);ar.length?this._events[Ze]=ar.length===1?ar[0]:ar:He(this,Ze)}return this},We.prototype.removeAllListeners=function(Ye){var Xe;return Ye?(Xe=Be?Be+Ye:Ye,this._events[Xe]&&He(this,Xe)):(this._events=new Ue,this._eventsCount=0),this},We.prototype.off=We.prototype.removeListener,We.prototype.addListener=We.prototype.on,We.prefixed=Be,We.EventEmitter=We,Ve.exports=We})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(Ve,$e){if($e){var Be=Number.parseInt($e,10);if(!isNan(Be))return Ve?.[Be]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:Ve=>{Ve.eventEmitter==null&&(Ve.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(Ve){return Ve.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(Ve,$e){if(Ve.chartData=$e.payload,$e.payload==null){Ve.dataStartIndex=0,Ve.dataEndIndex=0;return}$e.payload.length>0&&Ve.dataEndIndex!==$e.payload.length-1&&(Ve.dataEndIndex=$e.payload.length-1)},setComputedData(Ve,$e){Ve.computedData=$e.payload},setDataStartEndIndexes(Ve,$e){var{startIndex:Be,endIndex:Ue}=$e.payload;Be!=null&&(Ve.dataStartIndex=Be),Ue!=null&&(Ve.dataEndIndex=Ue)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$g=["x","y"];function ownKeys$i(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$h(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$i(Object(Be),!0).forEach(function(Ue){_defineProperty$j(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$i(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$j(Ve,$e,Be){return($e=_toPropertyKey$j($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$j(Ve){var $e=_toPrimitive$j(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$j(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _objectWithoutProperties$g(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$g(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$g(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var noop$3=()=>{};function useTooltipSyncEventsListener(){var Ve=useAppSelector(selectSyncId),$e=useAppSelector(selectEventEmitter),Be=useAppDispatch(),Ue=useAppSelector(selectSyncMethod),ze=useAppSelector(selectTooltipAxisTicks),qe=useChartLayout(),He=useViewBox(),We=useAppSelector(Ge=>Ge.rootProps.className);reactExports.useEffect(()=>{if(Ve==null)return noop$3;var Ge=(Ye,Xe,Je)=>{if($e!==Je&&Ve===Ye){if(Ue==="index"){var er;if(He&&Xe!==null&&Xe!==void 0&&(er=Xe.payload)!==null&&er!==void 0&&er.coordinate&&Xe.payload.sourceViewBox){var Ze=Xe.payload.coordinate,{x:rr,y:nr}=Ze,ar=_objectWithoutProperties$g(Ze,_excluded$g),{x:sr,y:lr,width:or,height:cr}=Xe.payload.sourceViewBox,hr=_objectSpread$h(_objectSpread$h({},ar),{},{x:He.x+(or?(rr-sr)/or:0)*He.width,y:He.y+(cr?(nr-lr)/cr:0)*He.height});Be(_objectSpread$h(_objectSpread$h({},Xe),{},{payload:_objectSpread$h(_objectSpread$h({},Xe.payload),{},{coordinate:hr})}))}else Be(Xe);return}if(ze!=null){var yr;if(typeof Ue=="function"){var mr={activeTooltipIndex:Xe.payload.index==null?void 0:Number(Xe.payload.index),isTooltipActive:Xe.payload.active,activeIndex:Xe.payload.index==null?void 0:Number(Xe.payload.index),activeLabel:Xe.payload.label,activeDataKey:Xe.payload.dataKey,activeCoordinate:Xe.payload.coordinate},vr=Ue(ze,mr);yr=ze[vr]}else Ue==="value"&&(yr=ze.find(Er=>String(Er.value)===Xe.payload.label));var{coordinate:_r}=Xe.payload;if(yr==null||Xe.payload.active===!1||_r==null||He==null){Be(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:Cr,y:br}=_r,fr=Math.min(Cr,He.x+He.width),Sr=Math.min(br,He.y+He.height),Dr={x:qe==="horizontal"?yr.coordinate:fr,y:qe==="horizontal"?Sr:yr.coordinate},Or=setSyncInteraction({active:Xe.payload.active,coordinate:Dr,dataKey:Xe.payload.dataKey,index:String(yr.index),label:Xe.payload.label,sourceViewBox:Xe.payload.sourceViewBox});Be(Or)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,Ge),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,Ge)}},[We,Be,$e,Ve,Ue,ze,qe,He])}function useBrushSyncEventsListener(){var Ve=useAppSelector(selectSyncId),$e=useAppSelector(selectEventEmitter),Be=useAppDispatch();reactExports.useEffect(()=>{if(Ve==null)return noop$3;var Ue=(ze,qe,He)=>{$e!==He&&Ve===ze&&Be(setDataStartEndIndexes(qe))};return eventCenter.on(BRUSH_SYNC_EVENT,Ue),()=>{eventCenter.off(BRUSH_SYNC_EVENT,Ue)}},[Be,$e,Ve])}function useSynchronisedEventsFromOtherCharts(){var Ve=useAppDispatch();reactExports.useEffect(()=>{Ve(createEventEmitter())},[Ve]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(Ve,$e,Be,Ue,ze,qe){var He=useAppSelector(Ze=>selectTooltipDataKey(Ze,Ve,$e)),We=useAppSelector(selectEventEmitter),Ge=useAppSelector(selectSyncId),Ye=useAppSelector(selectSyncMethod),Xe=useAppSelector(selectSynchronisedTooltipState),Je=Xe?.active,er=useViewBox();reactExports.useEffect(()=>{if(!Je&&Ge!=null&&We!=null){var Ze=setSyncInteraction({active:qe,coordinate:Be,dataKey:He,index:ze,label:typeof Ue=="number"?String(Ue):Ue,sourceViewBox:er});eventCenter.emit(TOOLTIP_SYNC_EVENT,Ge,Ze,We)}},[Je,Be,He,ze,Ue,We,Ge,Ye,qe,er])}function ownKeys$h(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$g(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$h(Object(Be),!0).forEach(function(Ue){_defineProperty$i(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$h(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$i(Ve,$e,Be){return($e=_toPropertyKey$i($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$i(Ve){var $e=_toPrimitive$i(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$i(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function defaultUniqBy(Ve){return Ve.dataKey}function renderContent(Ve,$e){return reactExports.isValidElement(Ve)?reactExports.cloneElement(Ve,$e):typeof Ve=="function"?reactExports.createElement(Ve,$e):reactExports.createElement(DefaultTooltipContent,$e)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(Ve){var $e=resolveDefaultProps(Ve,defaultTooltipProps),{active:Be,allowEscapeViewBox:Ue,animationDuration:ze,animationEasing:qe,content:He,filterNull:We,isAnimationActive:Ge,offset:Ye,payloadUniqBy:Xe,position:Je,reverseDirection:er,useTranslate3d:Ze,wrapperStyle:rr,cursor:nr,shared:ar,trigger:sr,defaultIndex:lr,portal:or,axisId:cr}=$e,hr=useAppDispatch(),yr=typeof lr=="number"?String(lr):lr;reactExports.useEffect(()=>{hr(setTooltipSettingsState({shared:ar,trigger:sr,axisId:cr,active:Be,defaultIndex:yr}))},[hr,ar,sr,cr,Be,yr]);var mr=useViewBox(),vr=useAccessibilityLayer(),_r=useTooltipEventType(ar),{activeIndex:Cr,isActive:br}=useAppSelector(Yr=>selectIsTooltipActive(Yr,_r,sr,yr)),fr=useAppSelector(Yr=>selectTooltipPayload(Yr,_r,sr,yr)),Sr=useAppSelector(Yr=>selectActiveLabel(Yr,_r,sr,yr)),Dr=useAppSelector(Yr=>selectActiveCoordinate(Yr,_r,sr,yr)),Or=fr,Er=useTooltipPortal(),Nr=Be??br,[wr,Ar]=useElementOffset([Or,Nr]),Lr=_r==="axis"?Sr:void 0;useTooltipChartSynchronisation(_r,sr,Dr,Lr,Cr,Nr);var Pr=or??Er;if(Pr==null)return null;var Tr=Or??emptyPayload;Nr||(Tr=emptyPayload),We&&Tr.length&&(Tr=getUniqPayload(Or.filter(Yr=>Yr.value!=null&&(Yr.hide!==!0||$e.includeHidden)),Xe,defaultUniqBy));var Vr=Tr.length>0,Ur=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:Ue,animationDuration:ze,animationEasing:qe,isAnimationActive:Ge,active:Nr,coordinate:Dr,hasPayload:Vr,offset:Ye,position:Je,reverseDirection:er,useTranslate3d:Ze,viewBox:mr,wrapperStyle:rr,lastBoundingBox:wr,innerRef:Ar,hasPortalFromProps:!!or},renderContent(He,_objectSpread$g(_objectSpread$g({},$e),{},{payload:Tr,label:Lr,active:Nr,coordinate:Dr,accessibilityLayer:vr})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(Ur,Pr),Nr&&reactExports.createElement(Cursor,{cursor:nr,tooltipEventType:_r,coordinate:Dr,payload:Or,index:Cr}))}var Cell=Ve=>null;Cell.displayName="Cell";function _defineProperty$h(Ve,$e,Be){return($e=_toPropertyKey$h($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$h(Ve){var $e=_toPrimitive$h(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$h(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}class LRUCache{constructor($e){_defineProperty$h(this,"cache",new Map),this.maxSize=$e}get($e){var Be=this.cache.get($e);return Be!==void 0&&(this.cache.delete($e),this.cache.set($e,Be)),Be}set($e,Be){if(this.cache.has($e))this.cache.delete($e);else if(this.cache.size>=this.maxSize){var Ue=this.cache.keys().next().value;this.cache.delete(Ue)}this.cache.set($e,Be)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$g(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$f(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$g(Object(Be),!0).forEach(function(Ue){_defineProperty$g(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$g(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$g(Ve,$e,Be){return($e=_toPropertyKey$g($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$g(Ve){var $e=_toPrimitive$g(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$g(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$f({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(Ve,$e){var Be=$e.fontSize||"",Ue=$e.fontFamily||"",ze=$e.fontWeight||"",qe=$e.fontStyle||"",He=$e.letterSpacing||"",We=$e.textTransform||"";return"".concat(Ve,"|").concat(Be,"|").concat(Ue,"|").concat(ze,"|").concat(qe,"|").concat(He,"|").concat(We)}var measureTextWithDOM=(Ve,$e)=>{try{var Be=document.getElementById(MEASUREMENT_SPAN_ID);Be||(Be=document.createElement("span"),Be.setAttribute("id",MEASUREMENT_SPAN_ID),Be.setAttribute("aria-hidden","true"),document.body.appendChild(Be)),Object.assign(Be.style,SPAN_STYLE,$e),Be.textContent="".concat(Ve);var Ue=Be.getBoundingClientRect();return{width:Ue.width,height:Ue.height}}catch{return{width:0,height:0}}},getStringSize=function Ve($e){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($e==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM($e,Be);var Ue=createCacheKey($e,Be),ze=stringCache.get(Ue);if(ze)return ze;var qe=measureTextWithDOM($e,Be);return stringCache.set(Ue,qe),qe},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(Ve,$e){return Ve*CONVERSION_RATES[$e]}class DecimalCSS{static parse($e){var Be,[,Ue,ze]=(Be=NUM_SPLIT_REGEX.exec($e))!==null&&Be!==void 0?Be:[];return new DecimalCSS(parseFloat(Ue),ze??"")}constructor($e,Be){this.num=$e,this.unit=Be,this.num=$e,this.unit=Be,isNan($e)&&(this.unit=""),Be!==""&&!CSS_LENGTH_UNIT_REGEX.test(Be)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(Be)&&(this.num=convertToPx($e,Be),this.unit="px")}add($e){return this.unit!==$e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+$e.num,this.unit)}subtract($e){return this.unit!==$e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-$e.num,this.unit)}multiply($e){return this.unit!==""&&$e.unit!==""&&this.unit!==$e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*$e.num,this.unit||$e.unit)}divide($e){return this.unit!==""&&$e.unit!==""&&this.unit!==$e.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/$e.num,this.unit||$e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(Ve){if(Ve.includes(STR_NAN))return STR_NAN;for(var $e=Ve;$e.includes("*")||$e.includes("/");){var Be,[,Ue,ze,qe]=(Be=MULTIPLY_OR_DIVIDE_REGEX.exec($e))!==null&&Be!==void 0?Be:[],He=DecimalCSS.parse(Ue??""),We=DecimalCSS.parse(qe??""),Ge=ze==="*"?He.multiply(We):He.divide(We);if(Ge.isNaN())return STR_NAN;$e=$e.replace(MULTIPLY_OR_DIVIDE_REGEX,Ge.toString())}for(;$e.includes("+")||/.-\d+(?:\.\d+)?/.test($e);){var Ye,[,Xe,Je,er]=(Ye=ADD_OR_SUBTRACT_REGEX.exec($e))!==null&&Ye!==void 0?Ye:[],Ze=DecimalCSS.parse(Xe??""),rr=DecimalCSS.parse(er??""),nr=Je==="+"?Ze.add(rr):Ze.subtract(rr);if(nr.isNaN())return STR_NAN;$e=$e.replace(ADD_OR_SUBTRACT_REGEX,nr.toString())}return $e}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(Ve){for(var $e=Ve,Be;(Be=PARENTHESES_REGEX.exec($e))!=null;){var[,Ue]=Be;$e=$e.replace(PARENTHESES_REGEX,calculateArithmetic(Ue))}return $e}function evaluateExpression(Ve){var $e=Ve.replace(/\s+/g,"");return $e=calculateParentheses($e),$e=calculateArithmetic($e),$e}function safeEvaluateExpression(Ve){try{return evaluateExpression(Ve)}catch{return STR_NAN}}function reduceCSSCalc(Ve){var $e=safeEvaluateExpression(Ve.slice(5,-1));return $e===STR_NAN?"":$e}var _excluded$f=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$8=["dx","dy","angle","className","breakAll"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$g.apply(null,arguments)}function _objectWithoutProperties$f(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$f(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$f(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=Ve=>{var{children:$e,breakAll:Be,style:Ue}=Ve;try{var ze=[];isNullish($e)||(Be?ze=$e.toString().split(""):ze=$e.toString().split(BREAKING_SPACES));var qe=ze.map(We=>({word:We,width:getStringSize(We,Ue).width})),He=Be?0:getStringSize("",Ue).width;return{wordsWithComputedWidth:qe,spaceWidth:He}}catch{return null}},calculateWordsByLines=(Ve,$e,Be,Ue,ze)=>{var{maxLines:qe,children:He,style:We,breakAll:Ge}=Ve,Ye=isNumber(qe),Xe=He,Je=function(){var br=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return br.reduce((fr,Sr)=>{var{word:Dr,width:Or}=Sr,Er=fr[fr.length-1];if(Er&&(Ue==null||ze||Er.width+Or+Be<Number(Ue)))Er.words.push(Dr),Er.width+=Or+Be;else{var Nr={words:[Dr],width:Or};fr.push(Nr)}return fr},[])},er=Je($e),Ze=Cr=>Cr.reduce((br,fr)=>br.width>fr.width?br:fr);if(!Ye||ze)return er;var rr=er.length>qe||Ze(er).width>Number(Ue);if(!rr)return er;for(var nr="",ar=Cr=>{var br=Xe.slice(0,Cr),fr=calculateWordWidths({breakAll:Ge,style:We,children:br+nr}).wordsWithComputedWidth,Sr=Je(fr),Dr=Sr.length>qe||Ze(Sr).width>Number(Ue);return[Dr,Sr]},sr=0,lr=Xe.length-1,or=0,cr;sr<=lr&&or<=Xe.length-1;){var hr=Math.floor((sr+lr)/2),yr=hr-1,[mr,vr]=ar(yr),[_r]=ar(hr);if(!mr&&!_r&&(sr=hr+1),mr&&_r&&(lr=hr-1),!mr&&_r){cr=vr;break}or++}return cr||er},getWordsWithoutCalculate=Ve=>{var $e=isNullish(Ve)?[]:Ve.toString().split(BREAKING_SPACES);return[{words:$e}]},getWordsByLines=Ve=>{var{width:$e,scaleToFit:Be,children:Ue,style:ze,breakAll:qe,maxLines:He}=Ve;if(($e||Be)&&!Global.isSsr){var We,Ge,Ye=calculateWordWidths({breakAll:qe,children:Ue,style:ze});if(Ye){var{wordsWithComputedWidth:Xe,spaceWidth:Je}=Ye;We=Xe,Ge=Je}else return getWordsWithoutCalculate(Ue);return calculateWordsByLines({breakAll:qe,children:Ue,maxLines:He,style:ze},We,Ge,$e,Be)}return getWordsWithoutCalculate(Ue)},DEFAULT_FILL="#808080",Text=reactExports.forwardRef((Ve,$e)=>{var{x:Be=0,y:Ue=0,lineHeight:ze="1em",capHeight:qe="0.71em",scaleToFit:He=!1,textAnchor:We="start",verticalAnchor:Ge="end",fill:Ye=DEFAULT_FILL}=Ve,Xe=_objectWithoutProperties$f(Ve,_excluded$f),Je=reactExports.useMemo(()=>getWordsByLines({breakAll:Xe.breakAll,children:Xe.children,maxLines:Xe.maxLines,scaleToFit:He,style:Xe.style,width:Xe.width}),[Xe.breakAll,Xe.children,Xe.maxLines,He,Xe.style,Xe.width]),{dx:er,dy:Ze,angle:rr,className:nr,breakAll:ar}=Xe,sr=_objectWithoutProperties$f(Xe,_excluded2$8);if(!isNumOrStr(Be)||!isNumOrStr(Ue)||Je.length===0)return null;var lr=Be+(isNumber(er)?er:0),or=Ue+(isNumber(Ze)?Ze:0),cr;switch(Ge){case"start":cr=reduceCSSCalc("calc(".concat(qe,")"));break;case"middle":cr=reduceCSSCalc("calc(".concat((Je.length-1)/2," * -").concat(ze," + (").concat(qe," / 2))"));break;default:cr=reduceCSSCalc("calc(".concat(Je.length-1," * -").concat(ze,")"));break}var hr=[];if(He){var yr=Je[0].width,{width:mr}=Xe;hr.push("scale(".concat(isNumber(mr)?mr/yr:1,")"))}return rr&&hr.push("rotate(".concat(rr,", ").concat(lr,", ").concat(or,")")),hr.length&&(sr.transform=hr.join(" ")),reactExports.createElement("text",_extends$g({},svgPropertiesAndEvents(sr),{ref:$e,x:lr,y:or,className:clsx("recharts-text",nr),textAnchor:We,fill:Ye.includes("url")?DEFAULT_FILL:Ye}),Je.map((vr,_r)=>{var Cr=vr.words.join(ar?"":" ");return reactExports.createElement("tspan",{x:lr,dy:_r===0?cr:ze,key:"".concat(Cr,"-").concat(_r)},Cr)}))});Text.displayName="Text";var _excluded$e=["labelRef"];function _objectWithoutProperties$e(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$e(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$e(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}function ownKeys$f(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$e(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$f(Object(Be),!0).forEach(function(Ue){_defineProperty$f(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$f(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$f(Ve,$e,Be){return($e=_toPropertyKey$f($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$f(Ve){var $e=_toPrimitive$f(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$f(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$f.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=Ve=>{var{x:$e,y:Be,width:Ue,height:ze,children:qe}=Ve,He=reactExports.useMemo(()=>({x:$e,y:Be,width:Ue,height:ze}),[$e,Be,Ue,ze]);return reactExports.createElement(CartesianLabelContext.Provider,{value:He},qe)},useCartesianLabelContext=()=>{var Ve=reactExports.useContext(CartesianLabelContext),$e=useViewBox();return Ve||$e},PolarLabelContext=reactExports.createContext(null),usePolarLabelContext=()=>{var Ve=reactExports.useContext(PolarLabelContext),$e=useAppSelector(selectPolarViewBox);return Ve||$e},getLabel=Ve=>{var{value:$e,formatter:Be}=Ve,Ue=isNullish(Ve.children)?$e:Ve.children;return typeof Be=="function"?Be(Ue):Ue},isLabelContentAFunction=Ve=>Ve!=null&&typeof Ve=="function",getDeltaAngle=(Ve,$e)=>{var Be=mathSign($e-Ve),Ue=Math.min(Math.abs($e-Ve),360);return Be*Ue},renderRadialLabel=(Ve,$e,Be,Ue,ze)=>{var{offset:qe,className:He}=Ve,{cx:We,cy:Ge,innerRadius:Ye,outerRadius:Xe,startAngle:Je,endAngle:er,clockWise:Ze}=ze,rr=(Ye+Xe)/2,nr=getDeltaAngle(Je,er),ar=nr>=0?1:-1,sr,lr;switch($e){case"insideStart":sr=Je+ar*qe,lr=Ze;break;case"insideEnd":sr=er-ar*qe,lr=!Ze;break;case"end":sr=er+ar*qe,lr=Ze;break;default:throw new Error("Unsupported position ".concat($e))}lr=nr<=0?lr:!lr;var or=polarToCartesian(We,Ge,rr,sr),cr=polarToCartesian(We,Ge,rr,sr+(lr?1:-1)*359),hr="M".concat(or.x,",").concat(or.y,`
    A`).concat(rr,",").concat(rr,",0,1,").concat(lr?0:1,`,
    `).concat(cr.x,",").concat(cr.y),yr=isNullish(Ve.id)?uniqueId("recharts-radial-line-"):Ve.id;return reactExports.createElement("text",_extends$f({},Ue,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",He)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:yr,d:hr})),reactExports.createElement("textPath",{xlinkHref:"#".concat(yr)},Be))},getAttrsOfPolarLabel=(Ve,$e,Be)=>{var{cx:Ue,cy:ze,innerRadius:qe,outerRadius:He,startAngle:We,endAngle:Ge}=Ve,Ye=(We+Ge)/2;if(Be==="outside"){var{x:Xe,y:Je}=polarToCartesian(Ue,ze,He+$e,Ye);return{x:Xe,y:Je,textAnchor:Xe>=Ue?"start":"end",verticalAnchor:"middle"}}if(Be==="center")return{x:Ue,y:ze,textAnchor:"middle",verticalAnchor:"middle"};if(Be==="centerTop")return{x:Ue,y:ze,textAnchor:"middle",verticalAnchor:"start"};if(Be==="centerBottom")return{x:Ue,y:ze,textAnchor:"middle",verticalAnchor:"end"};var er=(qe+He)/2,{x:Ze,y:rr}=polarToCartesian(Ue,ze,er,Ye);return{x:Ze,y:rr,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=Ve=>"cx"in Ve&&isNumber(Ve.cx),getAttrsOfCartesianLabel=(Ve,$e)=>{var{parentViewBox:Be,offset:Ue,position:ze}=Ve,qe;Be!=null&&!isPolar(Be)&&(qe=Be);var{x:He,y:We,width:Ge,height:Ye}=$e,Xe=Ye>=0?1:-1,Je=Xe*Ue,er=Xe>0?"end":"start",Ze=Xe>0?"start":"end",rr=Ge>=0?1:-1,nr=rr*Ue,ar=rr>0?"end":"start",sr=rr>0?"start":"end";if(ze==="top"){var lr={x:He+Ge/2,y:We-Xe*Ue,textAnchor:"middle",verticalAnchor:er};return _objectSpread$e(_objectSpread$e({},lr),qe?{height:Math.max(We-qe.y,0),width:Ge}:{})}if(ze==="bottom"){var or={x:He+Ge/2,y:We+Ye+Je,textAnchor:"middle",verticalAnchor:Ze};return _objectSpread$e(_objectSpread$e({},or),qe?{height:Math.max(qe.y+qe.height-(We+Ye),0),width:Ge}:{})}if(ze==="left"){var cr={x:He-nr,y:We+Ye/2,textAnchor:ar,verticalAnchor:"middle"};return _objectSpread$e(_objectSpread$e({},cr),qe?{width:Math.max(cr.x-qe.x,0),height:Ye}:{})}if(ze==="right"){var hr={x:He+Ge+nr,y:We+Ye/2,textAnchor:sr,verticalAnchor:"middle"};return _objectSpread$e(_objectSpread$e({},hr),qe?{width:Math.max(qe.x+qe.width-hr.x,0),height:Ye}:{})}var yr=qe?{width:Ge,height:Ye}:{};return ze==="insideLeft"?_objectSpread$e({x:He+nr,y:We+Ye/2,textAnchor:sr,verticalAnchor:"middle"},yr):ze==="insideRight"?_objectSpread$e({x:He+Ge-nr,y:We+Ye/2,textAnchor:ar,verticalAnchor:"middle"},yr):ze==="insideTop"?_objectSpread$e({x:He+Ge/2,y:We+Je,textAnchor:"middle",verticalAnchor:Ze},yr):ze==="insideBottom"?_objectSpread$e({x:He+Ge/2,y:We+Ye-Je,textAnchor:"middle",verticalAnchor:er},yr):ze==="insideTopLeft"?_objectSpread$e({x:He+nr,y:We+Je,textAnchor:sr,verticalAnchor:Ze},yr):ze==="insideTopRight"?_objectSpread$e({x:He+Ge-nr,y:We+Je,textAnchor:ar,verticalAnchor:Ze},yr):ze==="insideBottomLeft"?_objectSpread$e({x:He+nr,y:We+Ye-Je,textAnchor:sr,verticalAnchor:er},yr):ze==="insideBottomRight"?_objectSpread$e({x:He+Ge-nr,y:We+Ye-Je,textAnchor:ar,verticalAnchor:er},yr):ze&&typeof ze=="object"&&(isNumber(ze.x)||isPercent(ze.x))&&(isNumber(ze.y)||isPercent(ze.y))?_objectSpread$e({x:He+getPercentValue(ze.x,Ge),y:We+getPercentValue(ze.y,Ye),textAnchor:"end",verticalAnchor:"end"},yr):_objectSpread$e({x:He+Ge/2,y:We+Ye/2,textAnchor:"middle",verticalAnchor:"middle"},yr)},defaultLabelProps={offset:5};function Label(Ve){var $e=resolveDefaultProps(Ve,defaultLabelProps),{viewBox:Be,position:Ue,value:ze,children:qe,content:He,className:We="",textBreakAll:Ge,labelRef:Ye}=$e,Xe=usePolarLabelContext(),Je=useCartesianLabelContext(),er=Ue==="center"?Je:Xe??Je,Ze=Be||er;if(!Ze||isNullish(ze)&&isNullish(qe)&&!reactExports.isValidElement(He)&&typeof He!="function")return null;var rr=_objectSpread$e(_objectSpread$e({},$e),{},{viewBox:Ze});if(reactExports.isValidElement(He)){var{labelRef:nr}=rr,ar=_objectWithoutProperties$e(rr,_excluded$e);return reactExports.cloneElement(He,ar)}var sr;if(typeof He=="function"){if(sr=reactExports.createElement(He,rr),reactExports.isValidElement(sr))return sr}else sr=getLabel($e);var lr=isPolar(Ze),or=svgPropertiesAndEvents($e);if(lr&&(Ue==="insideStart"||Ue==="insideEnd"||Ue==="end"))return renderRadialLabel($e,Ue,sr,or,Ze);var cr=lr?getAttrsOfPolarLabel(Ze,$e.offset,$e.position):getAttrsOfCartesianLabel($e,Ze);return reactExports.createElement(Text,_extends$f({ref:Ye,className:clsx("recharts-label",We)},or,cr,{breakAll:Ge}),sr)}Label.displayName="Label";var parseLabel=(Ve,$e,Be)=>{if(!Ve)return null;var Ue={viewBox:$e,labelRef:Be};return Ve===!0?reactExports.createElement(Label,_extends$f({key:"label-implicit"},Ue)):isNumOrStr(Ve)?reactExports.createElement(Label,_extends$f({key:"label-implicit",value:Ve},Ue)):reactExports.isValidElement(Ve)?Ve.type===Label?reactExports.cloneElement(Ve,_objectSpread$e({key:"label-implicit"},Ue)):reactExports.createElement(Label,_extends$f({key:"label-implicit",content:Ve},Ue)):isLabelContentAFunction(Ve)?reactExports.createElement(Label,_extends$f({key:"label-implicit",content:Ve},Ue)):Ve&&typeof Ve=="object"?reactExports.createElement(Label,_extends$f({},Ve,{key:"label-implicit"},Ue)):null};function CartesianLabelFromLabelProp(Ve){var{label:$e,labelRef:Be}=Ve,Ue=useCartesianLabelContext();return parseLabel($e,Ue,Be)||null}var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return Be[Be.length-1]}Ve.last=$e})(last$2)),last$2}var toArray$2={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){return Array.isArray(Be)?Be:Array.from(Be)}Ve.toArray=$e})(toArray$2)),toArray$2}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});const $e=requireLast$2(),Be=requireToArray(),Ue=requireIsArrayLike();function ze(qe){if(Ue.isArrayLike(qe))return $e.last(Be.toArray(qe))}Ve.last=ze})(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$d=["valueAccessor"],_excluded2$7=["dataKey","clockWise","id","textBreakAll"];function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$e.apply(null,arguments)}function _objectWithoutProperties$d(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$d(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$d(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var defaultAccessor=Ve=>Array.isArray(Ve.value)?last(Ve.value):Ve.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0),PolarLabelListContextProvider=PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(Ve){var{valueAccessor:$e=defaultAccessor}=Ve,Be=_objectWithoutProperties$d(Ve,_excluded$d),{dataKey:Ue,clockWise:ze,id:qe,textBreakAll:He}=Be,We=_objectWithoutProperties$d(Be,_excluded2$7),Ge=useCartesianLabelListContext(),Ye=usePolarLabelListContext(),Xe=Ge||Ye;return!Xe||!Xe.length?null:reactExports.createElement(Layer,{className:"recharts-label-list"},Xe.map((Je,er)=>{var Ze,rr=isNullish(Ue)?$e(Je,er):getValueByDataKey(Je&&Je.payload,Ue),nr=isNullish(qe)?{}:{id:"".concat(qe,"-").concat(er)};return reactExports.createElement(Label,_extends$e({key:"label-".concat(er)},svgPropertiesAndEvents(Je),We,nr,{fill:(Ze=Be.fill)!==null&&Ze!==void 0?Ze:Je.fill,parentViewBox:Je.parentViewBox,value:rr,textBreakAll:He,viewBox:Je.viewBox,index:er}))}))}LabelList.displayName="LabelList";function LabelListFromLabelProp(Ve){var{label:$e}=Ve;return $e?$e===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement($e)||isLabelContentAFunction($e)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:$e}):typeof $e=="object"?reactExports.createElement(LabelList,_extends$e({key:"labelList-implicit"},$e,{type:String($e.type)})):null:null}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$d.apply(null,arguments)}var Dot=Ve=>{var{cx:$e,cy:Be,r:Ue,className:ze}=Ve,qe=clsx("recharts-dot",ze);return $e===+$e&&Be===+Be&&Ue===+Ue?reactExports.createElement("circle",_extends$d({},svgPropertiesNoEvents(Ve),adaptEventHandlers(Ve),{className:qe,cx:$e,cy:Be,r:Ue})):null},selectUnfilteredPolarItems=Ve=>Ve.graphicalItems.polarItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),selectPolarItemsSettings=createSelector([selectUnfilteredPolarItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectPolarGraphicalItemsData=createSelector([selectPolarItemsSettings],combineGraphicalItemsData),selectPolarDisplayedData=createSelector([selectPolarGraphicalItemsData,selectChartDataAndAlwaysIgnoreIndexes],combineDisplayedData),selectPolarAppliedValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],combineAppliedValues);createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],(Ve,$e,Be)=>Be.length>0?Ve.flatMap(Ue=>Be.flatMap(ze=>{var qe,He=getValueByDataKey(Ue,(qe=$e.dataKey)!==null&&qe!==void 0?qe:ze.dataKey);return{value:He,errorDomain:[]}})).filter(Boolean):$e?.dataKey!=null?Ve.map(Ue=>({value:getValueByDataKey(Ue,$e.dataKey),errorDomain:[]})):Ve.map(Ue=>({value:Ue,errorDomain:[]})));var unsupportedInPolarChart=()=>{},selectDomainOfAllPolarAppliedNumericalValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),selectPolarNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,unsupportedInPolarChart,selectDomainOfAllPolarAppliedNumericalValues,unsupportedInPolarChart,selectChartLayout,pickAxisType],combineNumericalDomain),selectPolarAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectPolarDisplayedData,selectPolarAppliedValues,selectStackOffsetType,pickAxisType,selectPolarNumericalDomain],combineAxisDomain),selectPolarNiceTicks=createSelector([selectPolarAxisDomain,selectBaseAxis,selectRealScaleType],combineNiceTicks);createSelector([selectBaseAxis,selectPolarAxisDomain,selectPolarNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks);var initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(Ve,$e){Ve.radiusAxis[$e.payload.id]=$e.payload},removeRadiusAxis(Ve,$e){delete Ve.radiusAxis[$e.payload.id]},addAngleAxis(Ve,$e){Ve.angleAxis[$e.payload.id]=$e.payload},removeAngleAxis(Ve,$e){delete Ve.angleAxis[$e.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer;function ownKeys$e(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$d(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$e(Object(Be),!0).forEach(function(Ue){_defineProperty$e(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$e(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$e(Ve,$e,Be){return($e=_toPropertyKey$e($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$e(Ve){var $e=_toPrimitive$e(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$e(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var pickId=(Ve,$e)=>$e,selectSynchronisedPieSettings=createSelector([selectUnfilteredPolarItems,pickId],(Ve,$e)=>Ve.filter(Be=>Be.type==="pie").find(Be=>Be.id===$e)),emptyArray=[],pickCells$1=(Ve,$e,Be)=>Be?.length===0?emptyArray:Be,selectDisplayedData=createSelector([selectChartDataAndAlwaysIgnoreIndexes,selectSynchronisedPieSettings,pickCells$1],(Ve,$e,Be)=>{var{chartData:Ue}=Ve;if($e!=null){var ze;if($e?.data!=null&&$e.data.length>0?ze=$e.data:ze=Ue,(!ze||!ze.length)&&Be!=null&&(ze=Be.map(qe=>_objectSpread$d(_objectSpread$d({},$e.presentationProps),qe.props))),ze!=null)return ze}}),selectPieLegend=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1],(Ve,$e,Be)=>{if(!(Ve==null||$e==null))return Ve.map((Ue,ze)=>{var qe,He=getValueByDataKey(Ue,$e.nameKey,$e.name),We;return Be!=null&&(qe=Be[ze])!==null&&qe!==void 0&&(qe=qe.props)!==null&&qe!==void 0&&qe.fill?We=Be[ze].props.fill:typeof Ue=="object"&&Ue!=null&&"fill"in Ue?We=Ue.fill:We=$e.fill,{value:getTooltipNameProp(He,$e.dataKey),color:We,payload:Ue,type:$e.legendType}})}),selectPieSectors=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1,selectChartOffsetInternal],(Ve,$e,Be,Ue)=>{if(!($e==null||Ve==null))return computePieSectors({offset:Ue,pieSettings:$e,displayedData:Ve,cells:Be})}),getDisplayName=Ve=>typeof Ve=="string"?Ve:Ve?Ve.displayName||Ve.name||"Component":"",lastChildren=null,lastResult=null,toArray$1=Ve=>{if(Ve===lastChildren&&Array.isArray(lastResult))return lastResult;var $e=[];return reactExports.Children.forEach(Ve,Be=>{isNullish(Be)||(reactIsExports.isFragment(Be)?$e=$e.concat(toArray$1(Be.props.children)):$e.push(Be))}),lastResult=$e,lastChildren=Ve,$e};function findAllByType(Ve,$e){var Be=[],Ue=[];return Array.isArray($e)?Ue=$e.map(ze=>getDisplayName(ze)):Ue=[getDisplayName($e)],toArray$1(Ve).forEach(ze=>{var qe=get$1(ze,"type.displayName")||get$1(ze,"type.name");Ue.indexOf(qe)!==-1&&Be.push(ze)}),Be}var isClipDot=Ve=>Ve&&typeof Ve=="object"&&"clipDot"in Ve?!!Ve.clipDot:!0,isPlainObject$4={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,(function(Ve){Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"});function $e(Be){if(typeof Be!="object"||Be==null)return!1;if(Object.getPrototypeOf(Be)===null)return!0;if(Object.prototype.toString.call(Be)!=="[object Object]"){const ze=Be[Symbol.toStringTag];return ze==null||!Object.getOwnPropertyDescriptor(Be,Symbol.toStringTag)?.writable?!1:Be.toString()===`[object ${ze}]`}let Ue=Be;for(;Object.getPrototypeOf(Ue)!==null;)Ue=Object.getPrototypeOf(Ue);return Object.getPrototypeOf(Be)===Ue}Ve.isPlainObject=$e})(isPlainObject$4)),isPlainObject$4}var isPlainObject$3,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$3=requireIsPlainObject$1().isPlainObject),isPlainObject$3}var isPlainObjectExports=requireIsPlainObject();const isPlainObject$2=getDefaultExportFromCjs(isPlainObjectExports);function ownKeys$d(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$c(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$d(Object(Be),!0).forEach(function(Ue){_defineProperty$d(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$d(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$d(Ve,$e,Be){return($e=_toPropertyKey$d($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$d(Ve){var $e=_toPrimitive$d(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$d(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$c.apply(null,arguments)}var getTrapezoidPath=(Ve,$e,Be,Ue,ze)=>{var qe=Be-Ue,He;return He="M ".concat(Ve,",").concat($e),He+="L ".concat(Ve+Be,",").concat($e),He+="L ".concat(Ve+Be-qe/2,",").concat($e+ze),He+="L ".concat(Ve+Be-qe/2-Ue,",").concat($e+ze),He+="L ".concat(Ve,",").concat($e," Z"),He},defaultProps$4={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=Ve=>{var $e=resolveDefaultProps(Ve,defaultProps$4),{x:Be,y:Ue,upperWidth:ze,lowerWidth:qe,height:He,className:We}=$e,{animationEasing:Ge,animationDuration:Ye,animationBegin:Xe,isUpdateAnimationActive:Je}=$e,er=reactExports.useRef(null),[Ze,rr]=reactExports.useState(-1),nr=reactExports.useRef(ze),ar=reactExports.useRef(qe),sr=reactExports.useRef(He),lr=reactExports.useRef(Be),or=reactExports.useRef(Ue),cr=useAnimationId(Ve,"trapezoid-");if(reactExports.useEffect(()=>{if(er.current&&er.current.getTotalLength)try{var Dr=er.current.getTotalLength();Dr&&rr(Dr)}catch{}},[]),Be!==+Be||Ue!==+Ue||ze!==+ze||qe!==+qe||He!==+He||ze===0&&qe===0||He===0)return null;var hr=clsx("recharts-trapezoid",We);if(!Je)return reactExports.createElement("g",null,reactExports.createElement("path",_extends$c({},svgPropertiesAndEvents($e),{className:hr,d:getTrapezoidPath(Be,Ue,ze,qe,He)})));var yr=nr.current,mr=ar.current,vr=sr.current,_r=lr.current,Cr=or.current,br="0px ".concat(Ze===-1?1:Ze,"px"),fr="".concat(Ze,"px 0px"),Sr=getTransitionVal(["strokeDasharray"],Ye,Ge);return reactExports.createElement(JavascriptAnimate,{animationId:cr,key:cr,canBegin:Ze>0,duration:Ye,easing:Ge,isActive:Je,begin:Xe},Dr=>{var Or=interpolate$1(yr,ze,Dr),Er=interpolate$1(mr,qe,Dr),Nr=interpolate$1(vr,He,Dr),wr=interpolate$1(_r,Be,Dr),Ar=interpolate$1(Cr,Ue,Dr);er.current&&(nr.current=Or,ar.current=Er,sr.current=Nr,lr.current=wr,or.current=Ar);var Lr=Dr>0?{transition:Sr,strokeDasharray:fr}:{strokeDasharray:br};return reactExports.createElement("path",_extends$c({},svgPropertiesAndEvents($e),{className:hr,d:getTrapezoidPath(wr,Ar,Or,Er,Nr),ref:er,style:_objectSpread$c(_objectSpread$c({},Lr),$e.style)}))})},_excluded$c=["option","shapeType","propTransformer","activeClassName","isActive"];function _objectWithoutProperties$c(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$c(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$c(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}function ownKeys$c(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$b(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$c(Object(Be),!0).forEach(function(Ue){_defineProperty$c(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$c(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$c(Ve,$e,Be){return($e=_toPropertyKey$c($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$c(Ve){var $e=_toPrimitive$c(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$c(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function defaultPropTransformer(Ve,$e){return _objectSpread$b(_objectSpread$b({},$e),Ve)}function isSymbolsProps(Ve,$e){return Ve==="symbols"}function ShapeSelector(Ve){var{shapeType:$e,elementProps:Be}=Ve;switch($e){case"rectangle":return reactExports.createElement(Rectangle,Be);case"trapezoid":return reactExports.createElement(Trapezoid,Be);case"sector":return reactExports.createElement(Sector,Be);case"symbols":if(isSymbolsProps($e))return reactExports.createElement(Symbols,Be);break;default:return null}}function getPropsFromShapeOption(Ve){return reactExports.isValidElement(Ve)?Ve.props:Ve}function Shape(Ve){var{option:$e,shapeType:Be,propTransformer:Ue=defaultPropTransformer,activeClassName:ze="recharts-active-shape",isActive:qe}=Ve,He=_objectWithoutProperties$c(Ve,_excluded$c),We;if(reactExports.isValidElement($e))We=reactExports.cloneElement($e,_objectSpread$b(_objectSpread$b({},He),getPropsFromShapeOption($e)));else if(typeof $e=="function")We=$e(He);else if(isPlainObject$2($e)&&typeof $e!="boolean"){var Ge=Ue($e,He);We=reactExports.createElement(ShapeSelector,{shapeType:Be,elementProps:Ge})}else{var Ye=He;We=reactExports.createElement(ShapeSelector,{shapeType:Be,elementProps:Ye})}return qe?reactExports.createElement(Layer,{className:ze},We):We}var useMouseEnterItemDispatch=(Ve,$e)=>{var Be=useAppDispatch();return(Ue,ze)=>qe=>{Ve?.(Ue,ze,qe),Be(setActiveMouseOverItemIndex({activeIndex:String(ze),activeDataKey:$e,activeCoordinate:Ue.tooltipPosition}))}},useMouseLeaveItemDispatch=Ve=>{var $e=useAppDispatch();return(Be,Ue)=>ze=>{Ve?.(Be,Ue,ze),$e(mouseLeaveItem())}},useMouseClickItemDispatch=(Ve,$e)=>{var Be=useAppDispatch();return(Ue,ze)=>qe=>{Ve?.(Ue,ze,qe),Be(setActiveClickItemIndex({activeIndex:String(ze),activeDataKey:$e,activeCoordinate:Ue.tooltipPosition}))}};function SetTooltipEntrySettings(Ve){var{fn:$e,args:Be}=Ve,Ue=useAppDispatch(),ze=useIsPanorama();return reactExports.useLayoutEffect(()=>{if(!ze){var qe=$e(Be);return Ue(addTooltipEntrySettings(qe)),()=>{Ue(removeTooltipEntrySettings(qe))}}},[$e,Be,Ue,ze]),null}var noop$2=()=>{};function SetLegendPayload(Ve){var{legendPayload:$e}=Ve,Be=useAppDispatch(),Ue=useIsPanorama();return reactExports.useLayoutEffect(()=>Ue?noop$2:(Be(addLegendPayload($e)),()=>{Be(removeLegendPayload($e))}),[Be,Ue,$e]),null}function SetPolarLegendPayload(Ve){var{legendPayload:$e}=Ve,Be=useAppDispatch(),Ue=useAppSelector(selectChartLayout);return reactExports.useLayoutEffect(()=>Ue!=="centric"&&Ue!=="radial"?noop$2:(Be(addLegendPayload($e)),()=>{Be(removeLegendPayload($e))}),[Be,Ue,$e]),null}var _ref,useIdFallback=()=>{var[Ve]=reactExports.useState(()=>uniqueId("uid-"));return Ve},useId=(_ref=React$1.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(Ve,$e){var Be=useId();return $e||(Ve?"".concat(Ve,"-").concat(Be):Be)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=Ve=>{var{id:$e,type:Be,children:Ue}=Ve,ze=useUniqueId("recharts-".concat(Be),$e);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:ze},Ue(ze))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem:{reducer(Ve,$e){Ve.cartesianItems.push($e.payload)},prepare:prepareAutoBatched()},replaceCartesianGraphicalItem:{reducer(Ve,$e){var{prev:Be,next:Ue}=$e.payload,ze=current(Ve).cartesianItems.indexOf(Be);ze>-1&&(Ve.cartesianItems[ze]=Ue)},prepare:prepareAutoBatched()},removeCartesianGraphicalItem:{reducer(Ve,$e){var Be=current(Ve).cartesianItems.indexOf($e.payload);Be>-1&&Ve.cartesianItems.splice(Be,1)},prepare:prepareAutoBatched()},addPolarGraphicalItem:{reducer(Ve,$e){Ve.polarItems.push($e.payload)},prepare:prepareAutoBatched()},removePolarGraphicalItem:{reducer(Ve,$e){var Be=current(Ve).polarItems.indexOf($e.payload);Be>-1&&Ve.polarItems.splice(Be,1)},prepare:prepareAutoBatched()}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function SetCartesianGraphicalItem(Ve){var $e=useAppDispatch(),Be=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{Be.current===null?$e(addCartesianGraphicalItem(Ve)):Be.current!==Ve&&$e(replaceCartesianGraphicalItem({prev:Be.current,next:Ve})),Be.current=Ve},[$e,Ve]),reactExports.useLayoutEffect(()=>()=>{Be.current&&($e(removeCartesianGraphicalItem(Be.current)),Be.current=null)},[$e]),null}function SetPolarGraphicalItem(Ve){var $e=useAppDispatch();return reactExports.useLayoutEffect(()=>($e(addPolarGraphicalItem(Ve)),()=>{$e(removePolarGraphicalItem(Ve))}),[$e,Ve]),null}var _excluded$b=["onMouseEnter","onClick","onMouseLeave"],_excluded2$6=["id"],_excluded3$6=["id"];function _objectWithoutProperties$b(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$b(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$b(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}function ownKeys$b(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$a(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$b(Object(Be),!0).forEach(function(Ue){_defineProperty$b(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$b(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$b(Ve,$e,Be){return($e=_toPropertyKey$b($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$b(Ve){var $e=_toPrimitive$b(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$b(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$b.apply(null,arguments)}function SetPiePayloadLegend(Ve){var $e=reactExports.useMemo(()=>findAllByType(Ve.children,Cell),[Ve.children]),Be=useAppSelector(Ue=>selectPieLegend(Ue,Ve.id,$e));return Be==null?null:reactExports.createElement(SetPolarLegendPayload,{legendPayload:Be})}function getTooltipEntrySettings$2(Ve){var{dataKey:$e,nameKey:Be,sectors:Ue,stroke:ze,strokeWidth:qe,fill:He,name:We,hide:Ge,tooltipType:Ye}=Ve;return{dataDefinedOnItem:Ue.map(Xe=>Xe.tooltipPayload),positions:Ue.map(Xe=>Xe.tooltipPosition),settings:{stroke:ze,strokeWidth:qe,fill:He,dataKey:$e,nameKey:Be,name:getTooltipNameProp(We,$e),hide:Ge,type:Ye,color:He,unit:""}}}var getTextAnchor=(Ve,$e)=>Ve>$e?"start":Ve<$e?"end":"middle",getOuterRadius=(Ve,$e,Be)=>getPercentValue(typeof $e=="function"?$e(Ve):$e,Be,Be*.8),parseCoordinateOfPie=(Ve,$e,Be)=>{var{top:Ue,left:ze,width:qe,height:He}=$e,We=getMaxRadius(qe,He),Ge=ze+getPercentValue(Ve.cx,qe,qe/2),Ye=Ue+getPercentValue(Ve.cy,He,He/2),Xe=getPercentValue(Ve.innerRadius,We,0),Je=getOuterRadius(Be,Ve.outerRadius,We),er=Ve.maxRadius||Math.sqrt(qe*qe+He*He)/2;return{cx:Ge,cy:Ye,innerRadius:Xe,outerRadius:Je,maxRadius:er}},parseDeltaAngle=(Ve,$e)=>{var Be=mathSign($e-Ve),Ue=Math.min(Math.abs($e-Ve),360);return Be*Ue};function getClassNamePropertyIfExists(Ve){return Ve&&typeof Ve=="object"&&"className"in Ve&&typeof Ve.className=="string"?Ve.className:""}var renderLabelLineItem=(Ve,$e)=>{if(reactExports.isValidElement(Ve))return reactExports.cloneElement(Ve,$e);if(typeof Ve=="function")return Ve($e);var Be=clsx("recharts-pie-label-line",typeof Ve!="boolean"?Ve.className:"");return reactExports.createElement(Curve,_extends$b({},$e,{type:"linear",className:Be}))},renderLabelItem=(Ve,$e,Be)=>{if(reactExports.isValidElement(Ve))return reactExports.cloneElement(Ve,$e);var Ue=Be;if(typeof Ve=="function"&&(Ue=Ve($e),reactExports.isValidElement(Ue)))return Ue;var ze=clsx("recharts-pie-label-text",getClassNamePropertyIfExists(Ve));return reactExports.createElement(Text,_extends$b({},$e,{alignmentBaseline:"middle",className:ze}),Ue)};function PieLabels(Ve){var{sectors:$e,props:Be,showLabels:Ue}=Ve,{label:ze,labelLine:qe,dataKey:He}=Be;if(!Ue||!ze||!$e)return null;var We=svgPropertiesNoEvents(Be),Ge=svgPropertiesNoEventsFromUnknown(ze),Ye=svgPropertiesNoEventsFromUnknown(qe),Xe=typeof ze=="object"&&"offsetRadius"in ze&&typeof ze.offsetRadius=="number"&&ze.offsetRadius||20,Je=$e.map((er,Ze)=>{var rr=(er.startAngle+er.endAngle)/2,nr=polarToCartesian(er.cx,er.cy,er.outerRadius+Xe,rr),ar=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},We),er),{},{stroke:"none"},Ge),{},{index:Ze,textAnchor:getTextAnchor(nr.x,er.cx)},nr),sr=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},We),er),{},{fill:"none",stroke:er.fill},Ye),{},{index:Ze,points:[polarToCartesian(er.cx,er.cy,er.outerRadius,rr),nr],key:"line"});return reactExports.createElement(Layer,{key:"label-".concat(er.startAngle,"-").concat(er.endAngle,"-").concat(er.midAngle,"-").concat(Ze)},qe&&renderLabelLineItem(qe,sr),renderLabelItem(ze,ar,getValueByDataKey(er,He)))});return reactExports.createElement(Layer,{className:"recharts-pie-labels"},Je)}function PieLabelList(Ve){var{sectors:$e,props:Be,showLabels:Ue}=Ve,{label:ze}=Be;return typeof ze=="object"&&ze!=null&&"position"in ze?reactExports.createElement(LabelListFromLabelProp,{label:ze}):reactExports.createElement(PieLabels,{sectors:$e,props:Be,showLabels:Ue})}function PieSectors(Ve){var{sectors:$e,activeShape:Be,inactiveShape:Ue,allOtherPieProps:ze}=Ve,qe=useAppSelector(selectActiveTooltipIndex),{onMouseEnter:He,onClick:We,onMouseLeave:Ge}=ze,Ye=_objectWithoutProperties$b(ze,_excluded$b),Xe=useMouseEnterItemDispatch(He,ze.dataKey),Je=useMouseLeaveItemDispatch(Ge),er=useMouseClickItemDispatch(We,ze.dataKey);return $e==null||$e.length===0?null:reactExports.createElement(reactExports.Fragment,null,$e.map((Ze,rr)=>{if(Ze?.startAngle===0&&Ze?.endAngle===0&&$e.length!==1)return null;var nr=Be&&String(rr)===qe,ar=qe?Ue:null,sr=nr?Be:ar,lr=_objectSpread$a(_objectSpread$a({},Ze),{},{stroke:Ze.stroke,tabIndex:-1,[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:rr,[DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:ze.dataKey});return reactExports.createElement(Layer,_extends$b({key:"sector-".concat(Ze?.startAngle,"-").concat(Ze?.endAngle,"-").concat(Ze.midAngle,"-").concat(rr),tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(Ye,Ze,rr),{onMouseEnter:Xe(Ze,rr),onMouseLeave:Je(Ze,rr),onClick:er(Ze,rr)}),reactExports.createElement(Shape,_extends$b({option:sr,isActive:nr,shapeType:"sector"},lr)))}))}function computePieSectors(Ve){var $e,{pieSettings:Be,displayedData:Ue,cells:ze,offset:qe}=Ve,{cornerRadius:He,startAngle:We,endAngle:Ge,dataKey:Ye,nameKey:Xe,tooltipType:Je}=Be,er=Math.abs(Be.minAngle),Ze=parseDeltaAngle(We,Ge),rr=Math.abs(Ze),nr=Ue.length<=1?0:($e=Be.paddingAngle)!==null&&$e!==void 0?$e:0,ar=Ue.filter(yr=>getValueByDataKey(yr,Ye,0)!==0).length,sr=(rr>=360?ar:ar-1)*nr,lr=rr-ar*er-sr,or=Ue.reduce((yr,mr)=>{var vr=getValueByDataKey(mr,Ye,0);return yr+(isNumber(vr)?vr:0)},0),cr;if(or>0){var hr;cr=Ue.map((yr,mr)=>{var vr=getValueByDataKey(yr,Ye,0),_r=getValueByDataKey(yr,Xe,mr),Cr=parseCoordinateOfPie(Be,qe,yr),br=(isNumber(vr)?vr:0)/or,fr,Sr=_objectSpread$a(_objectSpread$a({},yr),ze&&ze[mr]&&ze[mr].props);mr?fr=hr.endAngle+mathSign(Ze)*nr*(vr!==0?1:0):fr=We;var Dr=fr+mathSign(Ze)*((vr!==0?er:0)+br*lr),Or=(fr+Dr)/2,Er=(Cr.innerRadius+Cr.outerRadius)/2,Nr=[{name:_r,value:vr,payload:Sr,dataKey:Ye,type:Je}],wr=polarToCartesian(Cr.cx,Cr.cy,Er,Or);return hr=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},Be.presentationProps),{},{percent:br,cornerRadius:He,name:_r,tooltipPayload:Nr,midAngle:Or,middleRadius:Er,tooltipPosition:wr},Sr),Cr),{},{value:vr,startAngle:fr,endAngle:Dr,payload:Sr,paddingAngle:mathSign(Ze)*nr}),hr})}return cr}function PieLabelListProvider(Ve){var{showLabels:$e,sectors:Be,children:Ue}=Ve,ze=reactExports.useMemo(()=>!$e||!Be?[]:Be.map(qe=>({value:qe.value,payload:qe.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:qe.cx,cy:qe.cy,innerRadius:qe.innerRadius,outerRadius:qe.outerRadius,startAngle:qe.startAngle,endAngle:qe.endAngle,clockWise:!1},fill:qe.fill})),[Be,$e]);return reactExports.createElement(PolarLabelListContextProvider,{value:$e?ze:void 0},Ue)}function SectorsWithAnimation(Ve){var{props:$e,previousSectorsRef:Be}=Ve,{sectors:Ue,isAnimationActive:ze,animationBegin:qe,animationDuration:He,animationEasing:We,activeShape:Ge,inactiveShape:Ye,onAnimationStart:Xe,onAnimationEnd:Je}=$e,er=useAnimationId($e,"recharts-pie-"),Ze=Be.current,[rr,nr]=reactExports.useState(!1),ar=reactExports.useCallback(()=>{typeof Je=="function"&&Je(),nr(!1)},[Je]),sr=reactExports.useCallback(()=>{typeof Xe=="function"&&Xe(),nr(!0)},[Xe]);return reactExports.createElement(PieLabelListProvider,{showLabels:!rr,sectors:Ue},reactExports.createElement(JavascriptAnimate,{animationId:er,begin:qe,duration:He,isActive:ze,easing:We,onAnimationStart:sr,onAnimationEnd:ar,key:er},lr=>{var or=[],cr=Ue&&Ue[0],hr=cr?.startAngle;return Ue?.forEach((yr,mr)=>{var vr=Ze&&Ze[mr],_r=mr>0?get$1(yr,"paddingAngle",0):0;if(vr){var Cr=interpolate$1(vr.endAngle-vr.startAngle,yr.endAngle-yr.startAngle,lr),br=_objectSpread$a(_objectSpread$a({},yr),{},{startAngle:hr+_r,endAngle:hr+Cr+_r});or.push(br),hr=br.endAngle}else{var{endAngle:fr,startAngle:Sr}=yr,Dr=interpolate$1(0,fr-Sr,lr),Or=_objectSpread$a(_objectSpread$a({},yr),{},{startAngle:hr+_r,endAngle:hr+Dr+_r});or.push(Or),hr=Or.endAngle}}),Be.current=or,reactExports.createElement(Layer,null,reactExports.createElement(PieSectors,{sectors:or,activeShape:Ge,inactiveShape:Ye,allOtherPieProps:$e}))}),reactExports.createElement(PieLabelList,{showLabels:!rr,sectors:Ue,props:$e}),$e.children)}var defaultPieProps={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Global.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function PieImpl(Ve){var{id:$e}=Ve,Be=_objectWithoutProperties$b(Ve,_excluded2$6),{hide:Ue,className:ze,rootTabIndex:qe}=Ve,He=reactExports.useMemo(()=>findAllByType(Ve.children,Cell),[Ve.children]),We=useAppSelector(Xe=>selectPieSectors(Xe,$e,He)),Ge=reactExports.useRef(null),Ye=clsx("recharts-pie",ze);return Ue||We==null?(Ge.current=null,reactExports.createElement(Layer,{tabIndex:qe,className:Ye})):reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$2,args:_objectSpread$a(_objectSpread$a({},Ve),{},{sectors:We})}),reactExports.createElement(Layer,{tabIndex:qe,className:Ye},reactExports.createElement(SectorsWithAnimation,{props:_objectSpread$a(_objectSpread$a({},Be),{},{sectors:We}),previousSectorsRef:Ge})))}function Pie(Ve){var $e=resolveDefaultProps(Ve,defaultPieProps),{id:Be}=$e,Ue=_objectWithoutProperties$b($e,_excluded3$6),ze=svgPropertiesNoEvents(Ue);return reactExports.createElement(RegisterGraphicalItemId,{id:Be,type:"pie"},qe=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{type:"pie",id:qe,data:Ue.data,dataKey:Ue.dataKey,hide:Ue.hide,angleAxisId:0,radiusAxisId:0,name:Ue.name,nameKey:Ue.nameKey,tooltipType:Ue.tooltipType,legendType:Ue.legendType,fill:Ue.fill,cx:Ue.cx,cy:Ue.cy,startAngle:Ue.startAngle,endAngle:Ue.endAngle,paddingAngle:Ue.paddingAngle,minAngle:Ue.minAngle,innerRadius:Ue.innerRadius,outerRadius:Ue.outerRadius,cornerRadius:Ue.cornerRadius,presentationProps:ze,maxRadius:$e.maxRadius}),reactExports.createElement(SetPiePayloadLegend,_extends$b({},Ue,{id:qe})),reactExports.createElement(PieImpl,_extends$b({},Ue,{id:qe}))))}Pie.displayName="Pie";function ownKeys$a(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$9(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$a(Object(Be),!0).forEach(function(Ue){_defineProperty$a(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$a(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$a(Ve,$e,Be){return($e=_toPropertyKey$a($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$a(Ve){var $e=_toPrimitive$a(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$a(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var initialState$4={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$4,reducers:{addXAxis:{reducer(Ve,$e){Ve.xAxis[$e.payload.id]=$e.payload},prepare:prepareAutoBatched()},removeXAxis:{reducer(Ve,$e){delete Ve.xAxis[$e.payload.id]},prepare:prepareAutoBatched()},addYAxis:{reducer(Ve,$e){Ve.yAxis[$e.payload.id]=$e.payload},prepare:prepareAutoBatched()},removeYAxis:{reducer(Ve,$e){delete Ve.yAxis[$e.payload.id]},prepare:prepareAutoBatched()},addZAxis:{reducer(Ve,$e){Ve.zAxis[$e.payload.id]=$e.payload},prepare:prepareAutoBatched()},removeZAxis:{reducer(Ve,$e){delete Ve.zAxis[$e.payload.id]},prepare:prepareAutoBatched()},updateYAxisWidth(Ve,$e){var{id:Be,width:Ue}=$e.payload,ze=Ve.yAxis[Be];if(ze){var qe=ze.widthHistory||[];if(qe.length===3&&qe[0]===qe[2]&&Ue===qe[1]&&Ue!==ze.width&&Math.abs(Ue-qe[0])<=1)return;var He=[...qe,Ue].slice(-3);Ve.yAxis[Be]=_objectSpread$9(_objectSpread$9({},Ve.yAxis[Be]),{},{width:Ue,widthHistory:He})}}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],Ve=>{if(Ve)return{top:Ve.top,bottom:Ve.bottom,left:Ve.left,right:Ve.right}}),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(Ve,$e,Be)=>{if(!(!Ve||$e==null||Be==null))return{x:Ve.left,y:Ve.top,width:Math.max(0,$e-Ve.left-Ve.right),height:Math.max(0,Be-Ve.top-Ve.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$9(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$8(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$9(Object(Be),!0).forEach(function(Ue){_defineProperty$9(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$9(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$9(Ve,$e,Be){return($e=_toPropertyKey$9($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$9(Ve){var $e=_toPrimitive$9(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$9(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var renderActivePoint=Ve=>{var{point:$e,childIndex:Be,mainColor:Ue,activeDot:ze,dataKey:qe}=Ve;if(ze===!1||$e.x==null||$e.y==null)return null;var He=_objectSpread$8(_objectSpread$8({index:Be,dataKey:qe,cx:$e.x,cy:$e.y,r:4,fill:Ue??"none",strokeWidth:2,stroke:"#fff",payload:$e.payload,value:$e.value},svgPropertiesNoEventsFromUnknown(ze)),adaptEventHandlers(ze)),We;return reactExports.isValidElement(ze)?We=reactExports.cloneElement(ze,He):typeof ze=="function"?We=ze(He):We=reactExports.createElement(Dot,He),reactExports.createElement(Layer,{className:"recharts-active-dot"},We)};function ActivePoints(Ve){var{points:$e,mainColor:Be,activeDot:Ue,itemDataKey:ze}=Ve,qe=useAppSelector(selectActiveTooltipIndex),He=useActiveTooltipDataPoints();if($e==null||He==null)return null;var We=$e.find(Ge=>He.includes(Ge.payload));return isNullish(We)?null:renderActivePoint({point:We,childIndex:Number(qe),mainColor:Be,dataKey:ze,activeDot:Ue})}var prefix="Invariant failed";function invariant(Ve,$e){throw new Error(prefix)}var _excluded$a=["x","y"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$a.apply(null,arguments)}function ownKeys$8(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$7(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$8(Object(Be),!0).forEach(function(Ue){_defineProperty$8(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$8(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$8(Ve,$e,Be){return($e=_toPropertyKey$8($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$8(Ve){var $e=_toPrimitive$8(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$8(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _objectWithoutProperties$a(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$a(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$a(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}function typeguardBarRectangleProps(Ve,$e){var{x:Be,y:Ue}=Ve,ze=_objectWithoutProperties$a(Ve,_excluded$a),qe="".concat(Be),He=parseInt(qe,10),We="".concat(Ue),Ge=parseInt(We,10),Ye="".concat($e.height||ze.height),Xe=parseInt(Ye,10),Je="".concat($e.width||ze.width),er=parseInt(Je,10);return _objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7({},$e),ze),He?{x:He}:{}),Ge?{y:Ge}:{}),{},{height:Xe,width:er,name:$e.name,radius:$e.radius})}function BarRectangle(Ve){return reactExports.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},Ve))}var minPointSizeCallback=function Ve($e){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(Ue,ze)=>{if(isNumber($e))return $e;var qe=isNumber(Ue)||isNullish(Ue);return qe?$e(Ue,ze):(qe||invariant(),Be)}},initialState$3={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$3,reducers:{addErrorBar:(Ve,$e)=>{var{itemId:Be,errorBar:Ue}=$e.payload;Ve[Be]||(Ve[Be]=[]),Ve[Be].push(Ue)},replaceErrorBar:(Ve,$e)=>{var{itemId:Be,prev:Ue,next:ze}=$e.payload;Ve[Be]&&(Ve[Be]=Ve[Be].map(qe=>qe.dataKey===Ue.dataKey&&qe.direction===Ue.direction?ze:qe))},removeErrorBar:(Ve,$e)=>{var{itemId:Be,errorBar:Ue}=$e.payload;Ve[Be]&&(Ve[Be]=Ve[Be].filter(ze=>ze.dataKey!==Ue.dataKey||ze.direction!==Ue.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$9=["children"];function _objectWithoutProperties$9(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$9(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$9(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(Ve){var{children:$e}=Ve,Be=_objectWithoutProperties$9(Ve,_excluded$9);return reactExports.createElement(ErrorBarContext.Provider,{value:Be},$e)}function useNeedsClip(Ve,$e){var Be,Ue,ze=useAppSelector(Ye=>selectXAxisSettings(Ye,Ve)),qe=useAppSelector(Ye=>selectYAxisSettings(Ye,$e)),He=(Be=ze?.allowDataOverflow)!==null&&Be!==void 0?Be:implicitXAxis.allowDataOverflow,We=(Ue=qe?.allowDataOverflow)!==null&&Ue!==void 0?Ue:implicitYAxis.allowDataOverflow,Ge=He||We;return{needClip:Ge,needClipX:He,needClipY:We}}function GraphicalItemClipPath(Ve){var{xAxisId:$e,yAxisId:Be,clipPathId:Ue}=Ve,ze=usePlotArea(),{needClipX:qe,needClipY:He,needClip:We}=useNeedsClip($e,Be);if(!We)return null;var{x:Ge,y:Ye,width:Xe,height:Je}=ze;return reactExports.createElement("clipPath",{id:"clipPath-".concat(Ue)},reactExports.createElement("rect",{x:qe?Ge:Ge-Xe/2,y:He?Ye:Ye-Je/2,width:qe?Xe:Xe*2,height:He?Je:Je*2}))}var _excluded$8=["onMouseEnter","onMouseLeave","onClick"],_excluded2$5=["value","background","tooltipPosition"],_excluded3$5=["id"],_excluded4$3=["onMouseEnter","onClick","onMouseLeave"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$9.apply(null,arguments)}function ownKeys$7(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$6(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$7(Object(Be),!0).forEach(function(Ue){_defineProperty$7(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$7(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$7(Ve,$e,Be){return($e=_toPropertyKey$7($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$7(Ve){var $e=_toPrimitive$7(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$7(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _objectWithoutProperties$8(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$8(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$8(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var computeLegendPayloadFromBarData=Ve=>{var{dataKey:$e,name:Be,fill:Ue,legendType:ze,hide:qe}=Ve;return[{inactive:qe,dataKey:$e,type:ze,color:Ue,value:getTooltipNameProp(Be,$e),payload:Ve}]};function getTooltipEntrySettings$1(Ve){var{dataKey:$e,stroke:Be,strokeWidth:Ue,fill:ze,name:qe,hide:He,unit:We}=Ve;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:Be,strokeWidth:Ue,fill:ze,dataKey:$e,nameKey:void 0,name:getTooltipNameProp(qe,$e),hide:He,type:Ve.tooltipType,color:Ve.fill,unit:We}}}function BarBackground(Ve){var $e=useAppSelector(selectActiveTooltipIndex),{data:Be,dataKey:Ue,background:ze,allOtherBarProps:qe}=Ve,{onMouseEnter:He,onMouseLeave:We,onClick:Ge}=qe,Ye=_objectWithoutProperties$8(qe,_excluded$8),Xe=useMouseEnterItemDispatch(He,Ue),Je=useMouseLeaveItemDispatch(We),er=useMouseClickItemDispatch(Ge,Ue);if(!ze||Be==null)return null;var Ze=svgPropertiesNoEventsFromUnknown(ze);return reactExports.createElement(reactExports.Fragment,null,Be.map((rr,nr)=>{var{value:ar,background:sr,tooltipPosition:lr}=rr,or=_objectWithoutProperties$8(rr,_excluded2$5);if(!sr)return null;var cr=Xe(rr,nr),hr=Je(rr,nr),yr=er(rr,nr),mr=_objectSpread$6(_objectSpread$6(_objectSpread$6(_objectSpread$6(_objectSpread$6({option:ze,isActive:String(nr)===$e},or),{},{fill:"#eee"},sr),Ze),adaptEventsOfChild(Ye,rr,nr)),{},{onMouseEnter:cr,onMouseLeave:hr,onClick:yr,dataKey:Ue,index:nr,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(nr)},mr))}))}function BarLabelListProvider(Ve){var{showLabels:$e,children:Be,rects:Ue}=Ve,ze=Ue?.map(qe=>{var He={x:qe.x,y:qe.y,width:qe.width,height:qe.height};return _objectSpread$6(_objectSpread$6({},He),{},{value:qe.value,payload:qe.payload,parentViewBox:qe.parentViewBox,viewBox:He,fill:qe.fill})});return reactExports.createElement(CartesianLabelListContextProvider,{value:$e?ze:void 0},Be)}function BarRectangleWithActiveState(Ve){var{shape:$e,activeBar:Be,baseProps:Ue,entry:ze,index:qe,dataKey:He}=Ve,We=useAppSelector(selectActiveTooltipIndex),Ge=useAppSelector(selectActiveTooltipDataKey),Ye=Be&&String(qe)===We&&(Ge==null||He===Ge),Xe=Ye?Be:$e;return reactExports.createElement(BarRectangle,_extends$9({},Ue,{name:String(Ue.name)},ze,{isActive:Ye,option:Xe,index:qe,dataKey:He}))}function BarRectangleNeverActive(Ve){var{shape:$e,baseProps:Be,entry:Ue,index:ze,dataKey:qe}=Ve;return reactExports.createElement(BarRectangle,_extends$9({},Be,{name:String(Be.name)},Ue,{isActive:!1,option:$e,index:ze,dataKey:qe}))}function BarRectangles(Ve){var{data:$e,props:Be}=Ve,Ue=svgPropertiesNoEvents(Be),{id:ze}=Ue,qe=_objectWithoutProperties$8(Ue,_excluded3$5),{shape:He,dataKey:We,activeBar:Ge}=Be,{onMouseEnter:Ye,onClick:Xe,onMouseLeave:Je}=Be,er=_objectWithoutProperties$8(Be,_excluded4$3),Ze=useMouseEnterItemDispatch(Ye,We),rr=useMouseLeaveItemDispatch(Je),nr=useMouseClickItemDispatch(Xe,We);return $e?reactExports.createElement(reactExports.Fragment,null,$e.map((ar,sr)=>reactExports.createElement(Layer,_extends$9({key:"rectangle-".concat(ar?.x,"-").concat(ar?.y,"-").concat(ar?.value,"-").concat(sr),className:"recharts-bar-rectangle"},adaptEventsOfChild(er,ar,sr),{onMouseEnter:Ze(ar,sr),onMouseLeave:rr(ar,sr),onClick:nr(ar,sr)}),Ge?reactExports.createElement(BarRectangleWithActiveState,{shape:He,activeBar:Ge,baseProps:qe,entry:ar,index:sr,dataKey:We}):reactExports.createElement(BarRectangleNeverActive,{shape:He,baseProps:qe,entry:ar,index:sr,dataKey:We})))):null}function RectanglesWithAnimation(Ve){var{props:$e,previousRectanglesRef:Be}=Ve,{data:Ue,layout:ze,isAnimationActive:qe,animationBegin:He,animationDuration:We,animationEasing:Ge,onAnimationEnd:Ye,onAnimationStart:Xe}=$e,Je=Be.current,er=useAnimationId($e,"recharts-bar-"),[Ze,rr]=reactExports.useState(!1),nr=!Ze,ar=reactExports.useCallback(()=>{typeof Ye=="function"&&Ye(),rr(!1)},[Ye]),sr=reactExports.useCallback(()=>{typeof Xe=="function"&&Xe(),rr(!0)},[Xe]);return reactExports.createElement(BarLabelListProvider,{showLabels:nr,rects:Ue},reactExports.createElement(JavascriptAnimate,{animationId:er,begin:He,duration:We,isActive:qe,easing:Ge,onAnimationEnd:ar,onAnimationStart:sr,key:er},lr=>{var or=lr===1?Ue:Ue?.map((cr,hr)=>{var yr=Je&&Je[hr];if(yr)return _objectSpread$6(_objectSpread$6({},cr),{},{x:interpolate$1(yr.x,cr.x,lr),y:interpolate$1(yr.y,cr.y,lr),width:interpolate$1(yr.width,cr.width,lr),height:interpolate$1(yr.height,cr.height,lr)});if(ze==="horizontal"){var mr=interpolate$1(0,cr.height,lr);return _objectSpread$6(_objectSpread$6({},cr),{},{y:cr.y+cr.height-mr,height:mr})}var vr=interpolate$1(0,cr.width,lr);return _objectSpread$6(_objectSpread$6({},cr),{},{width:vr})});return lr>0&&(Be.current=or??null),or==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:$e,data:or}))}),reactExports.createElement(LabelListFromLabelProp,{label:$e.label}),$e.children)}function RenderRectangles(Ve){var $e=reactExports.useRef(null);return reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:$e,props:Ve})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(Ve,$e)=>{var Be=Array.isArray(Ve.value)?Ve.value[1]:Ve.value;return{x:Ve.x,y:Ve.y,value:Be,errorVal:getValueByDataKey(Ve,$e)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:$e,data:Be,dataKey:Ue,className:ze,xAxisId:qe,yAxisId:He,needClip:We,background:Ge,id:Ye}=this.props;if($e||Be==null)return null;var Xe=clsx("recharts-bar",ze),Je=Ye;return reactExports.createElement(Layer,{className:Xe,id:Ye},We&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:Je,xAxisId:qe,yAxisId:He})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:We?"url(#clipPath-".concat(Je,")"):void 0},reactExports.createElement(BarBackground,{data:Be,dataKey:Ue,background:Ge,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Global.isSsr,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0};function BarImpl(Ve){var{xAxisId:$e,yAxisId:Be,hide:Ue,legendType:ze,minPointSize:qe,activeBar:He,animationBegin:We,animationDuration:Ge,animationEasing:Ye,isAnimationActive:Xe}=Ve,{needClip:Je}=useNeedsClip($e,Be),er=useChartLayout(),Ze=useIsPanorama(),rr=findAllByType(Ve.children,Cell),nr=useAppSelector(lr=>selectBarRectangles(lr,$e,Be,Ze,Ve.id,rr));if(er!=="vertical"&&er!=="horizontal")return null;var ar,sr=nr?.[0];return sr==null||sr.height==null||sr.width==null?ar=0:ar=er==="vertical"?sr.height/2:sr.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:$e,yAxisId:Be,data:nr,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:ar},reactExports.createElement(BarWithState,_extends$9({},Ve,{layout:er,needClip:Je,data:nr,xAxisId:$e,yAxisId:Be,hide:Ue,legendType:ze,minPointSize:qe,activeBar:He,animationBegin:We,animationDuration:Ge,animationEasing:Ye,isAnimationActive:Xe})))}function computeBarRectangles(Ve){var{layout:$e,barSettings:{dataKey:Be,minPointSize:Ue},pos:ze,bandSize:qe,xAxis:He,yAxis:We,xAxisTicks:Ge,yAxisTicks:Ye,stackedData:Xe,displayedData:Je,offset:er,cells:Ze,parentViewBox:rr}=Ve,nr=$e==="horizontal"?We:He,ar=Xe?nr.scale.domain():null,sr=getBaseValueOfBar({numericAxis:nr});return Je.map((lr,or)=>{var cr,hr,yr,mr,vr,_r;Xe?cr=truncateByDomain(Xe[or],ar):(cr=getValueByDataKey(lr,Be),Array.isArray(cr)||(cr=[sr,cr]));var Cr=minPointSizeCallback(Ue,defaultMinPointSize)(cr[1],or);if($e==="horizontal"){var br,[fr,Sr]=[We.scale(cr[0]),We.scale(cr[1])];hr=getCateCoordinateOfBar({axis:He,ticks:Ge,bandSize:qe,offset:ze.offset,entry:lr,index:or}),yr=(br=Sr??fr)!==null&&br!==void 0?br:void 0,mr=ze.size;var Dr=fr-Sr;if(vr=isNan(Dr)?0:Dr,_r={x:hr,y:er.top,width:mr,height:er.height},Math.abs(Cr)>0&&Math.abs(vr)<Math.abs(Cr)){var Or=mathSign(vr||Cr)*(Math.abs(Cr)-Math.abs(vr));yr-=Or,vr+=Or}}else{var[Er,Nr]=[He.scale(cr[0]),He.scale(cr[1])];if(hr=Er,yr=getCateCoordinateOfBar({axis:We,ticks:Ye,bandSize:qe,offset:ze.offset,entry:lr,index:or}),mr=Nr-Er,vr=ze.size,_r={x:er.left,y:yr,width:er.width,height:vr},Math.abs(Cr)>0&&Math.abs(mr)<Math.abs(Cr)){var wr=mathSign(mr||Cr)*(Math.abs(Cr)-Math.abs(mr));mr+=wr}}if(hr==null||yr==null||mr==null||vr==null)return null;var Ar=_objectSpread$6(_objectSpread$6({},lr),{},{x:hr,y:yr,width:mr,height:vr,value:Xe?cr:cr[1],payload:lr,background:_r,tooltipPosition:{x:hr+mr/2,y:yr+vr/2},parentViewBox:rr},Ze&&Ze[or]&&Ze[or].props);return Ar}).filter(Boolean)}function BarFn(Ve){var $e=resolveDefaultProps(Ve,defaultBarProps),Be=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:$e.id,type:"bar"},Ue=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData($e)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$1,args:$e}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:Ue,data:void 0,xAxisId:$e.xAxisId,yAxisId:$e.yAxisId,zAxisId:0,dataKey:$e.dataKey,stackId:getNormalizedStackId($e.stackId),hide:$e.hide,barSize:$e.barSize,minPointSize:$e.minPointSize,maxBarSize:$e.maxBarSize,isPanorama:Be}),reactExports.createElement(BarImpl,_extends$9({},$e,{id:Ue}))))}var Bar=reactExports.memo(BarFn);Bar.displayName="Bar";function ownKeys$6(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$5(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$6(Object(Be),!0).forEach(function(Ue){_defineProperty$6(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$6(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$6(Ve,$e,Be){return($e=_toPropertyKey$6($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$6(Ve){var $e=_toPrimitive$6(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$6(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var pickXAxisId=(Ve,$e)=>$e,pickYAxisId=(Ve,$e,Be)=>Be,pickIsPanorama=(Ve,$e,Be,Ue)=>Ue,pickBarId=(Ve,$e,Be,Ue,ze)=>ze,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(Ve,$e)=>Ve.filter(Be=>Be.type==="bar").find(Be=>Be.id===$e)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],Ve=>Ve?.maxBarSize),pickCells=(Ve,$e,Be,Ue,ze,qe)=>qe,getBarSize=(Ve,$e,Be)=>{var Ue=Be??Ve;if(!isNullish(Ue))return getPercentValue(Ue,$e,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(Ve,$e,Be,Ue,ze)=>$e.filter(qe=>Ve==="horizontal"?qe.xAxisId===Be:qe.yAxisId===Ue).filter(qe=>qe.isPanorama===ze).filter(qe=>qe.hide===!1).filter(qe=>qe.type==="bar")),selectBarStackGroups=(Ve,$e,Be,Ue)=>{var ze=selectChartLayout(Ve);return ze==="horizontal"?selectStackGroups(Ve,"yAxis",Be,Ue):selectStackGroups(Ve,"xAxis",$e,Ue)},selectBarCartesianAxisSize=(Ve,$e,Be)=>{var Ue=selectChartLayout(Ve);return Ue==="horizontal"?selectCartesianAxisSize(Ve,"xAxis",$e):selectCartesianAxisSize(Ve,"yAxis",Be)},combineBarSizeList=(Ve,$e,Be)=>{var Ue={},ze=Ve.filter(isStacked),qe=Ve.filter(Ye=>Ye.stackId==null),He=ze.reduce((Ye,Xe)=>(Ye[Xe.stackId]||(Ye[Xe.stackId]=[]),Ye[Xe.stackId].push(Xe),Ye),Ue),We=Object.entries(He).map(Ye=>{var[Xe,Je]=Ye,er=Je.map(rr=>rr.dataKey),Ze=getBarSize($e,Be,Je[0].barSize);return{stackId:Xe,dataKeys:er,barSize:Ze}}),Ge=qe.map(Ye=>{var Xe=[Ye.dataKey].filter(er=>er!=null),Je=getBarSize($e,Be,Ye.barSize);return{stackId:void 0,dataKeys:Xe,barSize:Je}});return[...We,...Ge]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(Ve,$e,Be,Ue,ze)=>{var qe,He,We=selectSynchronisedBarSettings(Ve,$e,Be,Ue,ze);if(We!=null){var Ge=selectChartLayout(Ve),Ye=selectRootMaxBarSize(Ve),{maxBarSize:Xe}=We,Je=isNullish(Xe)?Ye:Xe,er,Ze;return Ge==="horizontal"?(er=selectAxisWithScale(Ve,"xAxis",$e,Ue),Ze=selectTicksOfGraphicalItem(Ve,"xAxis",$e,Ue)):(er=selectAxisWithScale(Ve,"yAxis",Be,Ue),Ze=selectTicksOfGraphicalItem(Ve,"yAxis",Be,Ue)),(qe=(He=getBandSizeOfAxis(er,Ze,!0))!==null&&He!==void 0?He:Je)!==null&&qe!==void 0?qe:0}},selectAxisBandSize=(Ve,$e,Be,Ue)=>{var ze=selectChartLayout(Ve),qe,He;return ze==="horizontal"?(qe=selectAxisWithScale(Ve,"xAxis",$e,Ue),He=selectTicksOfGraphicalItem(Ve,"xAxis",$e,Ue)):(qe=selectAxisWithScale(Ve,"yAxis",Be,Ue),He=selectTicksOfGraphicalItem(Ve,"yAxis",Be,Ue)),getBandSizeOfAxis(qe,He)};function getBarPositions(Ve,$e,Be,Ue,ze){var qe=Ue.length;if(!(qe<1)){var He=getPercentValue(Ve,Be,0,!0),We,Ge=[];if(isWellBehavedNumber(Ue[0].barSize)){var Ye=!1,Xe=Be/qe,Je=Ue.reduce((sr,lr)=>sr+(lr.barSize||0),0);Je+=(qe-1)*He,Je>=Be&&(Je-=(qe-1)*He,He=0),Je>=Be&&Xe>0&&(Ye=!0,Xe*=.9,Je=qe*Xe);var er=(Be-Je)/2>>0,Ze={offset:er-He,size:0};We=Ue.reduce((sr,lr)=>{var or,cr={stackId:lr.stackId,dataKeys:lr.dataKeys,position:{offset:Ze.offset+Ze.size+He,size:Ye?Xe:(or=lr.barSize)!==null&&or!==void 0?or:0}},hr=[...sr,cr];return Ze=hr[hr.length-1].position,hr},Ge)}else{var rr=getPercentValue($e,Be,0,!0);Be-2*rr-(qe-1)*He<=0&&(He=0);var nr=(Be-2*rr-(qe-1)*He)/qe;nr>1&&(nr>>=0);var ar=isWellBehavedNumber(ze)?Math.min(nr,ze):nr;We=Ue.reduce((sr,lr,or)=>[...sr,{stackId:lr.stackId,dataKeys:lr.dataKeys,position:{offset:rr+(nr+He)*or+(nr-ar)/2,size:ar}}],Ge)}return We}}var combineAllBarPositions=(Ve,$e,Be,Ue,ze,qe,He)=>{var We=isNullish(He)?$e:He,Ge=getBarPositions(Be,Ue,ze!==qe?ze:qe,Ve,We);return ze!==qe&&Ge!=null&&(Ge=Ge.map(Ye=>_objectSpread$5(_objectSpread$5({},Ye),{},{position:_objectSpread$5(_objectSpread$5({},Ye.position),{},{offset:Ye.position.offset-ze/2})}))),Ge},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale$1=(Ve,$e,Be,Ue)=>selectAxisWithScale(Ve,"xAxis",$e,Ue),selectYAxisWithScale$1=(Ve,$e,Be,Ue)=>selectAxisWithScale(Ve,"yAxis",Be,Ue),selectXAxisTicks$1=(Ve,$e,Be,Ue)=>selectTicksOfGraphicalItem(Ve,"xAxis",$e,Ue),selectYAxisTicks$1=(Ve,$e,Be,Ue)=>selectTicksOfGraphicalItem(Ve,"yAxis",Be,Ue),selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(Ve,$e)=>{if(!(Ve==null||$e==null)){var Be=Ve.find(Ue=>Ue.stackId===$e.stackId&&$e.dataKey!=null&&Ue.dataKeys.includes($e.dataKey));if(Be!=null)return Be.position}}),combineStackedData=(Ve,$e)=>{var Be=getStackSeriesIdentifier($e);if(!(!Ve||Be==null||$e==null)){var{stackId:Ue}=$e;if(Ue!=null){var ze=Ve[Ue];if(ze){var{stackedData:qe}=ze;if(qe)return qe.find(He=>He.key===Be)}}}},selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectAxisViewBox,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(Ve,$e,Be,Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er)=>{var{chartData:Ze,dataStartIndex:rr,dataEndIndex:nr}=Ge;if(!(Je==null||He==null||$e==null||We!=="horizontal"&&We!=="vertical"||Be==null||Ue==null||ze==null||qe==null||Ye==null)){var{data:ar}=Je,sr;if(ar!=null&&ar.length>0?sr=ar:sr=Ze?.slice(rr,nr+1),sr!=null)return computeBarRectangles({layout:We,barSettings:Je,pos:He,parentViewBox:$e,bandSize:Ye,xAxis:Be,yAxis:Ue,xAxisTicks:ze,yAxisTicks:qe,stackedData:Xe,displayedData:sr,offset:Ve,cells:er})}}),ChartDataContextProvider=Ve=>{var{chartData:$e}=Ve,Be=useAppDispatch(),Ue=useIsPanorama();return reactExports.useEffect(()=>Ue?()=>{}:(Be(setChartData($e)),()=>{Be(setChartData(void 0))}),[$e,Be,Ue]),null},initialState$2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$2,reducers:{setBrushSettings(Ve,$e){return $e.payload==null?initialState$2:$e.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$5(Ve,$e,Be){return($e=_toPropertyKey$5($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$5(Ve){var $e=_toPrimitive$5(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$5(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}class ScaleHelper{static create($e){return new ScaleHelper($e)}constructor($e){this.scale=$e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply($e){var{bandAware:Be,position:Ue}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($e!==void 0){if(Ue)switch(Ue){case"start":return this.scale($e);case"middle":{var ze=this.bandwidth?this.bandwidth()/2:0;return this.scale($e)+ze}case"end":{var qe=this.bandwidth?this.bandwidth():0;return this.scale($e)+qe}default:return this.scale($e)}if(Be){var He=this.bandwidth?this.bandwidth()/2:0;return this.scale($e)+He}return this.scale($e)}}isInRange($e){var Be=this.range(),Ue=Be[0],ze=Be[Be.length-1];return Ue<=ze?$e>=Ue&&$e<=ze:$e>=ze&&$e<=Ue}}_defineProperty$5(ScaleHelper,"EPS",1e-4);function normalizeAngle(Ve){return(Ve%180+180)%180}var getAngledRectangleWidth=function Ve($e){var{width:Be,height:Ue}=$e,ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,qe=normalizeAngle(ze),He=qe*Math.PI/180,We=Math.atan(Ue/Be),Ge=He>We&&He<Math.PI-We?Ue/Math.sin(He):Be/Math.cos(He);return Math.abs(Ge)},initialState$1={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$1,reducers:{addDot:(Ve,$e)=>{Ve.dots.push($e.payload)},removeDot:(Ve,$e)=>{var Be=current(Ve).dots.findIndex(Ue=>Ue===$e.payload);Be!==-1&&Ve.dots.splice(Be,1)},addArea:(Ve,$e)=>{Ve.areas.push($e.payload)},removeArea:(Ve,$e)=>{var Be=current(Ve).areas.findIndex(Ue=>Ue===$e.payload);Be!==-1&&Ve.areas.splice(Be,1)},addLine:(Ve,$e)=>{Ve.lines.push($e.payload)},removeLine:(Ve,$e)=>{var Be=current(Ve).lines.findIndex(Ue=>Ue===$e.payload);Be!==-1&&Ve.lines.splice(Be,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=Ve=>{var{children:$e}=Ve,[Be]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),Ue=usePlotArea();if(Ue==null)return null;var{x:ze,y:qe,width:He,height:We}=Ue;return reactExports.createElement(ClipPathIdContext.Provider,{value:Be},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:Be},reactExports.createElement("rect",{x:ze,y:qe,height:We,width:He}))),$e)};function shallowEqual(Ve,$e){for(var Be in Ve)if({}.hasOwnProperty.call(Ve,Be)&&(!{}.hasOwnProperty.call($e,Be)||Ve[Be]!==$e[Be]))return!1;for(var Ue in $e)if({}.hasOwnProperty.call($e,Ue)&&!{}.hasOwnProperty.call(Ve,Ue))return!1;return!0}function getEveryNthWithCondition(Ve,$e,Be){if($e<1)return[];if($e===1&&Be===void 0)return Ve;for(var Ue=[],ze=0;ze<Ve.length;ze+=$e)Ue.push(Ve[ze]);return Ue}function getAngledTickWidth(Ve,$e,Be){var Ue={width:Ve.width+$e.width,height:Ve.height+$e.height};return getAngledRectangleWidth(Ue,Be)}function getTickBoundaries(Ve,$e,Be){var Ue=Be==="width",{x:ze,y:qe,width:He,height:We}=Ve;return $e===1?{start:Ue?ze:qe,end:Ue?ze+He:qe+We}:{start:Ue?ze+He:qe+We,end:Ue?ze:qe}}function isVisible(Ve,$e,Be,Ue,ze){if(Ve*$e<Ve*Ue||Ve*$e>Ve*ze)return!1;var qe=Be();return Ve*($e-Ve*qe/2-Ue)>=0&&Ve*($e+Ve*qe/2-ze)<=0}function getNumberIntervalTicks(Ve,$e){return getEveryNthWithCondition(Ve,$e+1)}function getEquidistantTicks(Ve,$e,Be,Ue,ze){for(var qe=(Ue||[]).slice(),{start:He,end:We}=$e,Ge=0,Ye=1,Xe=He,Je=function(){var rr=Ue?.[Ge];if(rr===void 0)return{v:getEveryNthWithCondition(Ue,Ye)};var nr=Ge,ar,sr=()=>(ar===void 0&&(ar=Be(rr,nr)),ar),lr=rr.coordinate,or=Ge===0||isVisible(Ve,lr,sr,Xe,We);or||(Ge=0,Xe=He,Ye+=1),or&&(Xe=lr+Ve*(sr()/2+ze),Ge+=Ye)},er;Ye<=qe.length;)if(er=Je(),er)return er.v;return[]}function ownKeys$5(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$4(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$5(Object(Be),!0).forEach(function(Ue){_defineProperty$4(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$5(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$4(Ve,$e,Be){return($e=_toPropertyKey$4($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$4(Ve){var $e=_toPrimitive$4(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$4(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function getTicksEnd(Ve,$e,Be,Ue,ze){for(var qe=(Ue||[]).slice(),He=qe.length,{start:We}=$e,{end:Ge}=$e,Ye=function(er){var Ze=qe[er],rr,nr=()=>(rr===void 0&&(rr=Be(Ze,er)),rr);if(er===He-1){var ar=Ve*(Ze.coordinate+Ve*nr()/2-Ge);qe[er]=Ze=_objectSpread$4(_objectSpread$4({},Ze),{},{tickCoord:ar>0?Ze.coordinate-ar*Ve:Ze.coordinate})}else qe[er]=Ze=_objectSpread$4(_objectSpread$4({},Ze),{},{tickCoord:Ze.coordinate});var sr=isVisible(Ve,Ze.tickCoord,nr,We,Ge);sr&&(Ge=Ze.tickCoord-Ve*(nr()/2+ze),qe[er]=_objectSpread$4(_objectSpread$4({},Ze),{},{isShow:!0}))},Xe=He-1;Xe>=0;Xe--)Ye(Xe);return qe}function getTicksStart(Ve,$e,Be,Ue,ze,qe){var He=(Ue||[]).slice(),We=He.length,{start:Ge,end:Ye}=$e;if(qe){var Xe=Ue[We-1],Je=Be(Xe,We-1),er=Ve*(Xe.coordinate+Ve*Je/2-Ye);He[We-1]=Xe=_objectSpread$4(_objectSpread$4({},Xe),{},{tickCoord:er>0?Xe.coordinate-er*Ve:Xe.coordinate});var Ze=isVisible(Ve,Xe.tickCoord,()=>Je,Ge,Ye);Ze&&(Ye=Xe.tickCoord-Ve*(Je/2+ze),He[We-1]=_objectSpread$4(_objectSpread$4({},Xe),{},{isShow:!0}))}for(var rr=qe?We-1:We,nr=function(lr){var or=He[lr],cr,hr=()=>(cr===void 0&&(cr=Be(or,lr)),cr);if(lr===0){var yr=Ve*(or.coordinate-Ve*hr()/2-Ge);He[lr]=or=_objectSpread$4(_objectSpread$4({},or),{},{tickCoord:yr<0?or.coordinate-yr*Ve:or.coordinate})}else He[lr]=or=_objectSpread$4(_objectSpread$4({},or),{},{tickCoord:or.coordinate});var mr=isVisible(Ve,or.tickCoord,hr,Ge,Ye);mr&&(Ge=or.tickCoord+Ve*(hr()/2+ze),He[lr]=_objectSpread$4(_objectSpread$4({},or),{},{isShow:!0}))},ar=0;ar<rr;ar++)nr(ar);return He}function getTicks(Ve,$e,Be){var{tick:Ue,ticks:ze,viewBox:qe,minTickGap:He,orientation:We,interval:Ge,tickFormatter:Ye,unit:Xe,angle:Je}=Ve;if(!ze||!ze.length||!Ue)return[];if(isNumber(Ge)||Global.isSsr){var er;return(er=getNumberIntervalTicks(ze,isNumber(Ge)?Ge:0))!==null&&er!==void 0?er:[]}var Ze=[],rr=We==="top"||We==="bottom"?"width":"height",nr=Xe&&rr==="width"?getStringSize(Xe,{fontSize:$e,letterSpacing:Be}):{width:0,height:0},ar=(or,cr)=>{var hr=typeof Ye=="function"?Ye(or.value,cr):or.value;return rr==="width"?getAngledTickWidth(getStringSize(hr,{fontSize:$e,letterSpacing:Be}),nr,Je):getStringSize(hr,{fontSize:$e,letterSpacing:Be})[rr]},sr=ze.length>=2?mathSign(ze[1].coordinate-ze[0].coordinate):1,lr=getTickBoundaries(qe,sr,rr);return Ge==="equidistantPreserveStart"?getEquidistantTicks(sr,lr,ar,ze,He):(Ge==="preserveStart"||Ge==="preserveStartEnd"?Ze=getTicksStart(sr,lr,ar,ze,He,Ge==="preserveStartEnd"):Ze=getTicksEnd(sr,lr,ar,ze,He),Ze.filter(or=>or.isShow))}var getCalculatedYAxisWidth=Ve=>{var{ticks:$e,label:Be,labelGapWithTick:Ue=5,tickSize:ze=0,tickMargin:qe=0}=Ve,He=0;if($e){Array.from($e).forEach(Xe=>{if(Xe){var Je=Xe.getBoundingClientRect();Je.width>He&&(He=Je.width)}});var We=Be?Be.getBoundingClientRect().width:0,Ge=ze+qe,Ye=He+Ge+We+(Be?Ue:0);return Math.round(Ye)}return 0},_excluded$7=["axisLine","width","height","className","hide","ticks"],_excluded2$4=["viewBox"],_excluded3$4=["viewBox"];function _objectWithoutProperties$7(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$7(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$7(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$8.apply(null,arguments)}function ownKeys$4(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$3(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$4(Object(Be),!0).forEach(function(Ue){_defineProperty$3(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$4(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$3(Ve,$e,Be){return($e=_toPropertyKey$3($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$3(Ve){var $e=_toPrimitive$3(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$3(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}var defaultCartesianAxisProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function AxisLine(Ve){var{x:$e,y:Be,width:Ue,height:ze,orientation:qe,mirror:He,axisLine:We,otherSvgProps:Ge}=Ve;if(!We)return null;var Ye=_objectSpread$3(_objectSpread$3(_objectSpread$3({},Ge),svgPropertiesNoEvents(We)),{},{fill:"none"});if(qe==="top"||qe==="bottom"){var Xe=+(qe==="top"&&!He||qe==="bottom"&&He);Ye=_objectSpread$3(_objectSpread$3({},Ye),{},{x1:$e,y1:Be+Xe*ze,x2:$e+Ue,y2:Be+Xe*ze})}else{var Je=+(qe==="left"&&!He||qe==="right"&&He);Ye=_objectSpread$3(_objectSpread$3({},Ye),{},{x1:$e+Je*Ue,y1:Be,x2:$e+Je*Ue,y2:Be+ze})}return reactExports.createElement("line",_extends$8({},Ye,{className:clsx("recharts-cartesian-axis-line",get$1(We,"className"))}))}function getTickLineCoord(Ve,$e,Be,Ue,ze,qe,He,We,Ge){var Ye,Xe,Je,er,Ze,rr,nr=We?-1:1,ar=Ve.tickSize||He,sr=isNumber(Ve.tickCoord)?Ve.tickCoord:Ve.coordinate;switch(qe){case"top":Ye=Xe=Ve.coordinate,er=Be+ +!We*ze,Je=er-nr*ar,rr=Je-nr*Ge,Ze=sr;break;case"left":Je=er=Ve.coordinate,Xe=$e+ +!We*Ue,Ye=Xe-nr*ar,Ze=Ye-nr*Ge,rr=sr;break;case"right":Je=er=Ve.coordinate,Xe=$e+ +We*Ue,Ye=Xe+nr*ar,Ze=Ye+nr*Ge,rr=sr;break;default:Ye=Xe=Ve.coordinate,er=Be+ +We*ze,Je=er+nr*ar,rr=Je+nr*Ge,Ze=sr;break}return{line:{x1:Ye,y1:Je,x2:Xe,y2:er},tick:{x:Ze,y:rr}}}function getTickTextAnchor(Ve,$e){switch(Ve){case"left":return $e?"start":"end";case"right":return $e?"end":"start";default:return"middle"}}function getTickVerticalAnchor(Ve,$e){switch(Ve){case"left":case"right":return"middle";case"top":return $e?"start":"end";default:return $e?"end":"start"}}function TickItem(Ve){var{option:$e,tickProps:Be,value:Ue}=Ve,ze,qe=clsx(Be.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement($e))ze=reactExports.cloneElement($e,_objectSpread$3(_objectSpread$3({},Be),{},{className:qe}));else if(typeof $e=="function")ze=$e(_objectSpread$3(_objectSpread$3({},Be),{},{className:qe}));else{var He="recharts-cartesian-axis-tick-value";typeof $e!="boolean"&&(He=clsx(He,$e?.className)),ze=reactExports.createElement(Text,_extends$8({},Be,{className:He}),Ue)}return ze}function Ticks(Ve){var{ticks:$e=[],tick:Be,tickLine:Ue,stroke:ze,tickFormatter:qe,unit:He,padding:We,tickTextProps:Ge,orientation:Ye,mirror:Xe,x:Je,y:er,width:Ze,height:rr,tickSize:nr,tickMargin:ar,fontSize:sr,letterSpacing:lr,getTicksConfig:or,events:cr}=Ve,hr=getTicks(_objectSpread$3(_objectSpread$3({},or),{},{ticks:$e}),sr,lr),yr=getTickTextAnchor(Ye,Xe),mr=getTickVerticalAnchor(Ye,Xe),vr=svgPropertiesNoEvents(or),_r=svgPropertiesNoEventsFromUnknown(Be),Cr={};typeof Ue=="object"&&(Cr=Ue);var br=_objectSpread$3(_objectSpread$3({},vr),{},{fill:"none"},Cr),fr=hr.map((Sr,Dr)=>{var{line:Or,tick:Er}=getTickLineCoord(Sr,Je,er,Ze,rr,Ye,nr,Xe,ar),Nr=_objectSpread$3(_objectSpread$3(_objectSpread$3(_objectSpread$3({textAnchor:yr,verticalAnchor:mr},vr),{},{stroke:"none",fill:ze},_r),Er),{},{index:Dr,payload:Sr,visibleTicksCount:hr.length,tickFormatter:qe,padding:We},Ge);return reactExports.createElement(Layer,_extends$8({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Sr.value,"-").concat(Sr.coordinate,"-").concat(Sr.tickCoord)},adaptEventsOfChild(cr,Sr,Dr)),Ue&&reactExports.createElement("line",_extends$8({},br,Or,{className:clsx("recharts-cartesian-axis-tick-line",get$1(Ue,"className"))})),Be&&reactExports.createElement(TickItem,{option:Be,tickProps:Nr,value:"".concat(typeof qe=="function"?qe(Sr.value,Dr):Sr.value).concat(He||"")}))});return fr.length>0?reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks"},fr):null}var CartesianAxisComponent=reactExports.forwardRef((Ve,$e)=>{var{axisLine:Be,width:Ue,height:ze,className:qe,hide:He,ticks:We}=Ve,Ge=_objectWithoutProperties$7(Ve,_excluded$7),[Ye,Xe]=reactExports.useState(""),[Je,er]=reactExports.useState(""),Ze=reactExports.useRef(null);reactExports.useImperativeHandle($e,()=>({getCalculatedWidth:()=>{var nr;return getCalculatedYAxisWidth({ticks:Ze.current,label:(nr=Ve.labelRef)===null||nr===void 0?void 0:nr.current,labelGapWithTick:5,tickSize:Ve.tickSize,tickMargin:Ve.tickMargin})}}));var rr=reactExports.useCallback(nr=>{if(nr){var ar=nr.getElementsByClassName("recharts-cartesian-axis-tick-value");Ze.current=ar;var sr=ar[0];if(sr){var lr=window.getComputedStyle(sr),or=lr.fontSize,cr=lr.letterSpacing;(or!==Ye||cr!==Je)&&(Xe(or),er(cr))}}},[Ye,Je]);return He||Ue!=null&&Ue<=0||ze!=null&&ze<=0?null:reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",qe),ref:rr},reactExports.createElement(AxisLine,{x:Ve.x,y:Ve.y,width:Ue,height:ze,orientation:Ve.orientation,mirror:Ve.mirror,axisLine:Be,otherSvgProps:svgPropertiesNoEvents(Ve)}),reactExports.createElement(Ticks,{ticks:We,tick:Ve.tick,tickLine:Ve.tickLine,stroke:Ve.stroke,tickFormatter:Ve.tickFormatter,unit:Ve.unit,padding:Ve.padding,tickTextProps:Ve.tickTextProps,orientation:Ve.orientation,mirror:Ve.mirror,x:Ve.x,y:Ve.y,width:Ve.width,height:Ve.height,tickSize:Ve.tickSize,tickMargin:Ve.tickMargin,fontSize:Ye,letterSpacing:Je,getTicksConfig:Ve,events:Ge}),reactExports.createElement(CartesianLabelContextProvider,{x:Ve.x,y:Ve.y,width:Ve.width,height:Ve.height},reactExports.createElement(CartesianLabelFromLabelProp,{label:Ve.label,labelRef:Ve.labelRef}),Ve.children))}),MemoCartesianAxis=reactExports.memo(CartesianAxisComponent,(Ve,$e)=>{var{viewBox:Be}=Ve,Ue=_objectWithoutProperties$7(Ve,_excluded2$4),{viewBox:ze}=$e,qe=_objectWithoutProperties$7($e,_excluded3$4);return shallowEqual(Be,ze)&&shallowEqual(Ue,qe)}),CartesianAxis=reactExports.forwardRef((Ve,$e)=>{var Be=resolveDefaultProps(Ve,defaultCartesianAxisProps);return reactExports.createElement(MemoCartesianAxis,_extends$8({},Be,{ref:$e}))});CartesianAxis.displayName="CartesianAxis";var _excluded$6=["x1","y1","x2","y2","key"],_excluded2$3=["offset"],_excluded3$3=["xAxisId","yAxisId"],_excluded4$2=["xAxisId","yAxisId"];function ownKeys$3(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$2(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$3(Object(Be),!0).forEach(function(Ue){_defineProperty$2(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$3(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$2(Ve,$e,Be){return($e=_toPropertyKey$2($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$2(Ve){var $e=_toPrimitive$2(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$2(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$7.apply(null,arguments)}function _objectWithoutProperties$6(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$6(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$6(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var Background=Ve=>{var{fill:$e}=Ve;if(!$e||$e==="none")return null;var{fillOpacity:Be,x:Ue,y:ze,width:qe,height:He,ry:We}=Ve;return reactExports.createElement("rect",{x:Ue,y:ze,ry:We,width:qe,height:He,stroke:"none",fill:$e,fillOpacity:Be,className:"recharts-cartesian-grid-bg"})};function renderLineItem(Ve,$e){var Be;if(reactExports.isValidElement(Ve))Be=reactExports.cloneElement(Ve,$e);else if(typeof Ve=="function")Be=Ve($e);else{var{x1:Ue,y1:ze,x2:qe,y2:He,key:We}=$e,Ge=_objectWithoutProperties$6($e,_excluded$6),Ye=svgPropertiesNoEvents(Ge),{offset:Xe}=Ye,Je=_objectWithoutProperties$6(Ye,_excluded2$3);Be=reactExports.createElement("line",_extends$7({},Je,{x1:Ue,y1:ze,x2:qe,y2:He,fill:"none",key:We}))}return Be}function HorizontalGridLines(Ve){var{x:$e,width:Be,horizontal:Ue=!0,horizontalPoints:ze}=Ve;if(!Ue||!ze||!ze.length)return null;var{xAxisId:qe,yAxisId:He}=Ve,We=_objectWithoutProperties$6(Ve,_excluded3$3),Ge=ze.map((Ye,Xe)=>{var Je=_objectSpread$2(_objectSpread$2({},We),{},{x1:$e,y1:Ye,x2:$e+Be,y2:Ye,key:"line-".concat(Xe),index:Xe});return renderLineItem(Ue,Je)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},Ge)}function VerticalGridLines(Ve){var{y:$e,height:Be,vertical:Ue=!0,verticalPoints:ze}=Ve;if(!Ue||!ze||!ze.length)return null;var{xAxisId:qe,yAxisId:He}=Ve,We=_objectWithoutProperties$6(Ve,_excluded4$2),Ge=ze.map((Ye,Xe)=>{var Je=_objectSpread$2(_objectSpread$2({},We),{},{x1:Ye,y1:$e,x2:Ye,y2:$e+Be,key:"line-".concat(Xe),index:Xe});return renderLineItem(Ue,Je)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},Ge)}function HorizontalStripes(Ve){var{horizontalFill:$e,fillOpacity:Be,x:Ue,y:ze,width:qe,height:He,horizontalPoints:We,horizontal:Ge=!0}=Ve;if(!Ge||!$e||!$e.length)return null;var Ye=We.map(Je=>Math.round(Je+ze-ze)).sort((Je,er)=>Je-er);ze!==Ye[0]&&Ye.unshift(0);var Xe=Ye.map((Je,er)=>{var Ze=!Ye[er+1],rr=Ze?ze+He-Je:Ye[er+1]-Je;if(rr<=0)return null;var nr=er%$e.length;return reactExports.createElement("rect",{key:"react-".concat(er),y:Je,x:Ue,height:rr,width:qe,stroke:"none",fill:$e[nr],fillOpacity:Be,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},Xe)}function VerticalStripes(Ve){var{vertical:$e=!0,verticalFill:Be,fillOpacity:Ue,x:ze,y:qe,width:He,height:We,verticalPoints:Ge}=Ve;if(!$e||!Be||!Be.length)return null;var Ye=Ge.map(Je=>Math.round(Je+ze-ze)).sort((Je,er)=>Je-er);ze!==Ye[0]&&Ye.unshift(0);var Xe=Ye.map((Je,er)=>{var Ze=!Ye[er+1],rr=Ze?ze+He-Je:Ye[er+1]-Je;if(rr<=0)return null;var nr=er%Be.length;return reactExports.createElement("rect",{key:"react-".concat(er),x:Je,y:qe,width:rr,height:We,stroke:"none",fill:Be[nr],fillOpacity:Ue,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},Xe)}var defaultVerticalCoordinatesGenerator=(Ve,$e)=>{var{xAxis:Be,width:Ue,height:ze,offset:qe}=Ve;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},defaultCartesianAxisProps),Be),{},{ticks:getTicksOfAxis(Be),viewBox:{x:0,y:0,width:Ue,height:ze}})),qe.left,qe.left+qe.width,$e)},defaultHorizontalCoordinatesGenerator=(Ve,$e)=>{var{yAxis:Be,width:Ue,height:ze,offset:qe}=Ve;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},defaultCartesianAxisProps),Be),{},{ticks:getTicksOfAxis(Be),viewBox:{x:0,y:0,width:Ue,height:ze}})),qe.top,qe.top+qe.height,$e)},defaultProps$3={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CartesianGrid(Ve){var $e=useChartWidth(),Be=useChartHeight(),Ue=useOffsetInternal(),ze=_objectSpread$2(_objectSpread$2({},resolveDefaultProps(Ve,defaultProps$3)),{},{x:isNumber(Ve.x)?Ve.x:Ue.left,y:isNumber(Ve.y)?Ve.y:Ue.top,width:isNumber(Ve.width)?Ve.width:Ue.width,height:isNumber(Ve.height)?Ve.height:Ue.height}),{xAxisId:qe,yAxisId:He,x:We,y:Ge,width:Ye,height:Xe,syncWithTicks:Je,horizontalValues:er,verticalValues:Ze}=ze,rr=useIsPanorama(),nr=useAppSelector(_r=>selectAxisPropsNeededForCartesianGridTicksGenerator(_r,"xAxis",qe,rr)),ar=useAppSelector(_r=>selectAxisPropsNeededForCartesianGridTicksGenerator(_r,"yAxis",He,rr));if(!isNumber(Ye)||Ye<=0||!isNumber(Xe)||Xe<=0||!isNumber(We)||We!==+We||!isNumber(Ge)||Ge!==+Ge)return null;var sr=ze.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,lr=ze.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:or,verticalPoints:cr}=ze;if((!or||!or.length)&&typeof lr=="function"){var hr=er&&er.length,yr=lr({yAxis:ar?_objectSpread$2(_objectSpread$2({},ar),{},{ticks:hr?er:ar.ticks}):void 0,width:$e,height:Be,offset:Ue},hr?!0:Je);warn(Array.isArray(yr),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof yr,"]")),Array.isArray(yr)&&(or=yr)}if((!cr||!cr.length)&&typeof sr=="function"){var mr=Ze&&Ze.length,vr=sr({xAxis:nr?_objectSpread$2(_objectSpread$2({},nr),{},{ticks:mr?Ze:nr.ticks}):void 0,width:$e,height:Be,offset:Ue},mr?!0:Je);warn(Array.isArray(vr),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof vr,"]")),Array.isArray(vr)&&(cr=vr)}return reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:ze.fill,fillOpacity:ze.fillOpacity,x:ze.x,y:ze.y,width:ze.width,height:ze.height,ry:ze.ry}),reactExports.createElement(HorizontalStripes,_extends$7({},ze,{horizontalPoints:or})),reactExports.createElement(VerticalStripes,_extends$7({},ze,{verticalPoints:cr})),reactExports.createElement(HorizontalGridLines,_extends$7({},ze,{offset:Ue,horizontalPoints:or,xAxis:nr,yAxis:ar})),reactExports.createElement(VerticalGridLines,_extends$7({},ze,{offset:Ue,verticalPoints:cr,xAxis:nr,yAxis:ar})))}CartesianGrid.displayName="CartesianGrid";var selectXAxisWithScale=(Ve,$e,Be,Ue)=>selectAxisWithScale(Ve,"xAxis",$e,Ue),selectXAxisTicks=(Ve,$e,Be,Ue)=>selectTicksOfGraphicalItem(Ve,"xAxis",$e,Ue),selectYAxisWithScale=(Ve,$e,Be,Ue)=>selectAxisWithScale(Ve,"yAxis",Be,Ue),selectYAxisTicks=(Ve,$e,Be,Ue)=>selectTicksOfGraphicalItem(Ve,"yAxis",Be,Ue),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(Ve,$e,Be,Ue,ze)=>isCategoricalAxis(Ve,"xAxis")?getBandSizeOfAxis($e,Ue,!1):getBandSizeOfAxis(Be,ze,!1)),pickLineId=(Ve,$e,Be,Ue,ze)=>ze;function isLineSettings(Ve){return Ve.type==="line"}var selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineId],(Ve,$e)=>Ve.filter(isLineSettings).find(Be=>Be.id===$e)),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectSynchronisedLineSettings,selectBandSize,selectChartDataWithIndexesIfNotInPanorama],(Ve,$e,Be,Ue,ze,qe,He,We)=>{var{chartData:Ge,dataStartIndex:Ye,dataEndIndex:Xe}=We;if(!(qe==null||$e==null||Be==null||Ue==null||ze==null||Ue.length===0||ze.length===0||He==null)){var{dataKey:Je,data:er}=qe,Ze;if(er!=null&&er.length>0?Ze=er:Ze=Ge?.slice(Ye,Xe+1),Ze!=null)return computeLinePoints({layout:Ve,xAxis:$e,yAxis:Be,xAxisTicks:Ue,yAxisTicks:ze,dataKey:Je,bandSize:He,displayedData:Ze})}});function getRadiusAndStrokeWidthFromDot(Ve){var $e=svgPropertiesNoEventsFromUnknown(Ve),Be=3,Ue=2;if($e!=null){var{r:ze,strokeWidth:qe}=$e,He=Number(ze),We=Number(qe);return(Number.isNaN(He)||He<0)&&(He=Be),(Number.isNaN(We)||We<0)&&(We=Ue),{r:He,strokeWidth:We}}return{r:Be,strokeWidth:Ue}}var _excluded$5=["id"],_excluded2$2=["type","layout","connectNulls","needClip"],_excluded3$2=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ownKeys$2(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread$1(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$2(Object(Be),!0).forEach(function(Ue){_defineProperty$1(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$2(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty$1(Ve,$e,Be){return($e=_toPropertyKey$1($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey$1(Ve){var $e=_toPrimitive$1(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive$1(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _objectWithoutProperties$5(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$5(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$5(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$6.apply(null,arguments)}var computeLegendPayloadFromAreaData=Ve=>{var{dataKey:$e,name:Be,stroke:Ue,legendType:ze,hide:qe}=Ve;return[{inactive:qe,dataKey:$e,type:ze,color:Ue,value:getTooltipNameProp(Be,$e),payload:Ve}]};function getTooltipEntrySettings(Ve){var{dataKey:$e,data:Be,stroke:Ue,strokeWidth:ze,fill:qe,name:He,hide:We,unit:Ge}=Ve;return{dataDefinedOnItem:Be,positions:void 0,settings:{stroke:Ue,strokeWidth:ze,fill:qe,dataKey:$e,nameKey:void 0,name:getTooltipNameProp(He,$e),hide:We,type:Ve.tooltipType,color:Ve.stroke,unit:Ge}}}var generateSimpleStrokeDasharray=(Ve,$e)=>"".concat($e,"px ").concat(Ve-$e,"px");function repeat(Ve,$e){for(var Be=Ve.length%2!==0?[...Ve,0]:Ve,Ue=[],ze=0;ze<$e;++ze)Ue=[...Ue,...Be];return Ue}var getStrokeDasharray=(Ve,$e,Be)=>{var Ue=Be.reduce((Je,er)=>Je+er);if(!Ue)return generateSimpleStrokeDasharray($e,Ve);for(var ze=Math.floor(Ve/Ue),qe=Ve%Ue,He=$e-Ve,We=[],Ge=0,Ye=0;Ge<Be.length;Ye+=Be[Ge],++Ge)if(Ye+Be[Ge]>qe){We=[...Be.slice(0,Ge),qe-Ye];break}var Xe=We.length%2===0?[0,He]:[He];return[...repeat(Be,ze),...We,...Xe].map(Je=>"".concat(Je,"px")).join(", ")};function renderDotItem(Ve,$e){var Be;if(reactExports.isValidElement(Ve))Be=reactExports.cloneElement(Ve,$e);else if(typeof Ve=="function")Be=Ve($e);else{var Ue=clsx("recharts-line-dot",typeof Ve!="boolean"?Ve.className:"");Be=reactExports.createElement(Dot,_extends$6({},$e,{className:Ue}))}return Be}function shouldRenderDots(Ve,$e){return Ve==null?!1:$e?!0:Ve.length===1}function Dots(Ve){var{clipPathId:$e,points:Be,props:Ue}=Ve,{dot:ze,dataKey:qe,needClip:He}=Ue;if(!shouldRenderDots(Be,ze))return null;var{id:We}=Ue,Ge=_objectWithoutProperties$5(Ue,_excluded$5),Ye=isClipDot(ze),Xe=svgPropertiesNoEvents(Ge),Je=svgPropertiesAndEventsFromUnknown(ze),er=Be.map((rr,nr)=>{var ar=_objectSpread$1(_objectSpread$1(_objectSpread$1({key:"dot-".concat(nr),r:3},Xe),Je),{},{index:nr,cx:rr.x,cy:rr.y,dataKey:qe,value:rr.value,payload:rr.payload,points:Be});return renderDotItem(ze,ar)}),Ze={clipPath:He?"url(#clipPath-".concat(Ye?"":"dots-").concat($e,")"):void 0};return reactExports.createElement(Layer,_extends$6({className:"recharts-line-dots",key:"dots"},Ze),er)}function LineLabelListProvider(Ve){var{showLabels:$e,children:Be,points:Ue}=Ve,ze=reactExports.useMemo(()=>Ue?.map(qe=>{var He={x:qe.x,y:qe.y,width:0,height:0};return _objectSpread$1(_objectSpread$1({},He),{},{value:qe.value,payload:qe.payload,viewBox:He,parentViewBox:void 0,fill:void 0})}),[Ue]);return reactExports.createElement(CartesianLabelListContextProvider,{value:$e?ze:null},Be)}function StaticCurve(Ve){var{clipPathId:$e,pathRef:Be,points:Ue,strokeDasharray:ze,props:qe}=Ve,{type:He,layout:We,connectNulls:Ge,needClip:Ye}=qe,Xe=_objectWithoutProperties$5(qe,_excluded2$2),Je=_objectSpread$1(_objectSpread$1({},svgPropertiesAndEvents(Xe)),{},{fill:"none",className:"recharts-line-curve",clipPath:Ye?"url(#clipPath-".concat($e,")"):void 0,points:Ue,type:He,layout:We,connectNulls:Ge,strokeDasharray:ze??qe.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,Ue?.length>1&&reactExports.createElement(Curve,_extends$6({},Je,{pathRef:Be})),reactExports.createElement(Dots,{points:Ue,clipPathId:$e,props:qe}))}function getTotalLength(Ve){try{return Ve&&Ve.getTotalLength&&Ve.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(Ve){var{clipPathId:$e,props:Be,pathRef:Ue,previousPointsRef:ze,longestAnimatedLengthRef:qe}=Ve,{points:He,strokeDasharray:We,isAnimationActive:Ge,animationBegin:Ye,animationDuration:Xe,animationEasing:Je,animateNewValues:er,width:Ze,height:rr,onAnimationEnd:nr,onAnimationStart:ar}=Be,sr=ze.current,lr=useAnimationId(Be,"recharts-line-"),[or,cr]=reactExports.useState(!1),hr=!or,yr=reactExports.useCallback(()=>{typeof nr=="function"&&nr(),cr(!1)},[nr]),mr=reactExports.useCallback(()=>{typeof ar=="function"&&ar(),cr(!0)},[ar]),vr=getTotalLength(Ue.current),_r=qe.current;return reactExports.createElement(LineLabelListProvider,{points:He,showLabels:hr},Be.children,reactExports.createElement(JavascriptAnimate,{animationId:lr,begin:Ye,duration:Xe,isActive:Ge,easing:Je,onAnimationEnd:yr,onAnimationStart:mr,key:lr},Cr=>{var br=interpolate$1(_r,vr+_r,Cr),fr=Math.min(br,vr),Sr;if(Ge)if(We){var Dr="".concat(We).split(/[,\s]+/gim).map(Nr=>parseFloat(Nr));Sr=getStrokeDasharray(fr,vr,Dr)}else Sr=generateSimpleStrokeDasharray(vr,fr);else Sr=We==null?void 0:String(We);if(sr){var Or=sr.length/He.length,Er=Cr===1?He:He.map((Nr,wr)=>{var Ar=Math.floor(wr*Or);if(sr[Ar]){var Lr=sr[Ar];return _objectSpread$1(_objectSpread$1({},Nr),{},{x:interpolate$1(Lr.x,Nr.x,Cr),y:interpolate$1(Lr.y,Nr.y,Cr)})}return er?_objectSpread$1(_objectSpread$1({},Nr),{},{x:interpolate$1(Ze*2,Nr.x,Cr),y:interpolate$1(rr/2,Nr.y,Cr)}):_objectSpread$1(_objectSpread$1({},Nr),{},{x:Nr.x,y:Nr.y})});return ze.current=Er,reactExports.createElement(StaticCurve,{props:Be,points:Er,clipPathId:$e,pathRef:Ue,strokeDasharray:Sr})}return Cr>0&&vr>0&&(ze.current=He,qe.current=fr),reactExports.createElement(StaticCurve,{props:Be,points:He,clipPathId:$e,pathRef:Ue,strokeDasharray:Sr})}),reactExports.createElement(LabelListFromLabelProp,{label:Be.label}))}function RenderCurve(Ve){var{clipPathId:$e,props:Be}=Ve,Ue=reactExports.useRef(null),ze=reactExports.useRef(0),qe=reactExports.useRef(null);return reactExports.createElement(CurveWithAnimation,{props:Be,clipPathId:$e,previousPointsRef:Ue,longestAnimatedLengthRef:ze,pathRef:qe})}var errorBarDataPointFormatter=(Ve,$e)=>({x:Ve.x,y:Ve.y,value:Ve.value,errorVal:getValueByDataKey(Ve.payload,$e)});class LineWithState extends reactExports.Component{render(){var{hide:$e,dot:Be,points:Ue,className:ze,xAxisId:qe,yAxisId:He,top:We,left:Ge,width:Ye,height:Xe,id:Je,needClip:er}=this.props;if($e)return null;var Ze=clsx("recharts-line",ze),rr=Je,{r:nr,strokeWidth:ar}=getRadiusAndStrokeWidthFromDot(Be),sr=isClipDot(Be),lr=nr*2+ar;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:Ze},er&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:rr,xAxisId:qe,yAxisId:He}),!sr&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(rr)},reactExports.createElement("rect",{x:Ge-lr/2,y:We-lr/2,width:Ye+lr,height:Xe+lr}))),reactExports.createElement(SetErrorBarContext,{xAxisId:qe,yAxisId:He,data:Ue,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},reactExports.createElement(RenderCurve,{props:this.props,clipPathId:rr}))),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:Ue,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LineImpl(Ve){var $e=resolveDefaultProps(Ve,defaultLineProps),{activeDot:Be,animateNewValues:Ue,animationBegin:ze,animationDuration:qe,animationEasing:He,connectNulls:We,dot:Ge,hide:Ye,isAnimationActive:Xe,label:Je,legendType:er,xAxisId:Ze,yAxisId:rr,id:nr}=$e,ar=_objectWithoutProperties$5($e,_excluded3$2),{needClip:sr}=useNeedsClip(Ze,rr),lr=usePlotArea(),or=useChartLayout(),cr=useIsPanorama(),hr=useAppSelector(Cr=>selectLinePoints(Cr,Ze,rr,cr,nr));if(or!=="horizontal"&&or!=="vertical"||hr==null||lr==null)return null;var{height:yr,width:mr,x:vr,y:_r}=lr;return reactExports.createElement(LineWithState,_extends$6({},ar,{id:nr,connectNulls:We,dot:Ge,activeDot:Be,animateNewValues:Ue,animationBegin:ze,animationDuration:qe,animationEasing:He,isAnimationActive:Xe,hide:Ye,label:Je,legendType:er,xAxisId:Ze,yAxisId:rr,points:hr,layout:or,height:yr,width:mr,left:vr,top:_r,needClip:sr}))}function computeLinePoints(Ve){var{layout:$e,xAxis:Be,yAxis:Ue,xAxisTicks:ze,yAxisTicks:qe,dataKey:He,bandSize:We,displayedData:Ge}=Ve;return Ge.map((Ye,Xe)=>{var Je=getValueByDataKey(Ye,He);if($e==="horizontal"){var er=getCateCoordinateOfLine({axis:Be,ticks:ze,bandSize:We,entry:Ye,index:Xe}),Ze=isNullish(Je)?null:Ue.scale(Je);return{x:er,y:Ze,value:Je,payload:Ye}}var rr=isNullish(Je)?null:Be.scale(Je),nr=getCateCoordinateOfLine({axis:Ue,ticks:qe,bandSize:We,entry:Ye,index:Xe});return rr==null||nr==null?null:{x:rr,y:nr,value:Je,payload:Ye}}).filter(Boolean)}function LineFn(Ve){var $e=resolveDefaultProps(Ve,defaultLineProps),Be=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:$e.id,type:"line"},Ue=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData($e)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:$e}),reactExports.createElement(SetCartesianGraphicalItem,{type:"line",id:Ue,data:$e.data,xAxisId:$e.xAxisId,yAxisId:$e.yAxisId,zAxisId:0,dataKey:$e.dataKey,hide:$e.hide,isPanorama:Be}),reactExports.createElement(LineImpl,_extends$6({},$e,{id:Ue}))))}var Line=reactExports.memo(LineFn);Line.displayName="Line";var _excluded$4=["dangerouslySetInnerHTML","ticks"],_excluded2$1=["id"],_excluded3$1=["domain"],_excluded4$1=["domain"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$5.apply(null,arguments)}function _objectWithoutProperties$4(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$4(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$4(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}function SetXAxisSettings(Ve){var $e=useAppDispatch();return reactExports.useLayoutEffect(()=>($e(addXAxis(Ve)),()=>{$e(removeXAxis(Ve))}),[Ve,$e]),null}var XAxisImpl=Ve=>{var{xAxisId:$e,className:Be}=Ve,Ue=useAppSelector(selectAxisViewBox),ze=useIsPanorama(),qe="xAxis",He=useAppSelector(ar=>selectAxisScale(ar,qe,$e,ze)),We=useAppSelector(ar=>selectTicksOfAxis(ar,qe,$e,ze)),Ge=useAppSelector(ar=>selectXAxisSize(ar,$e)),Ye=useAppSelector(ar=>selectXAxisPosition(ar,$e)),Xe=useAppSelector(ar=>selectXAxisSettingsNoDefaults(ar,$e));if(Ge==null||Ye==null||Xe==null)return null;var{dangerouslySetInnerHTML:Je,ticks:er}=Ve,Ze=_objectWithoutProperties$4(Ve,_excluded$4),{id:rr}=Xe,nr=_objectWithoutProperties$4(Xe,_excluded2$1);return reactExports.createElement(CartesianAxis,_extends$5({},Ze,nr,{scale:He,x:Ye.x,y:Ye.y,width:Ge.width,height:Ge.height,className:clsx("recharts-".concat(qe," ").concat(qe),Be),viewBox:Ue,ticks:We}))},xAxisDefaultProps={allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0},XAxisSettingsDispatcher=Ve=>{var $e,Be,Ue,ze,qe,He=resolveDefaultProps(Ve,xAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetXAxisSettings,{interval:($e=He.interval)!==null&&$e!==void 0?$e:"preserveEnd",id:He.xAxisId,scale:He.scale,type:He.type,padding:He.padding,allowDataOverflow:He.allowDataOverflow,domain:He.domain,dataKey:He.dataKey,allowDuplicatedCategory:He.allowDuplicatedCategory,allowDecimals:He.allowDecimals,tickCount:He.tickCount,includeHidden:(Be=He.includeHidden)!==null&&Be!==void 0?Be:!1,reversed:He.reversed,ticks:He.ticks,height:He.height,orientation:He.orientation,mirror:He.mirror,hide:He.hide,unit:He.unit,name:He.name,angle:(Ue=He.angle)!==null&&Ue!==void 0?Ue:0,minTickGap:(ze=He.minTickGap)!==null&&ze!==void 0?ze:5,tick:(qe=He.tick)!==null&&qe!==void 0?qe:!0,tickFormatter:He.tickFormatter}),reactExports.createElement(XAxisImpl,He))},XAxisMemoComparator=(Ve,$e)=>{var{domain:Be}=Ve,Ue=_objectWithoutProperties$4(Ve,_excluded3$1),{domain:ze}=$e,qe=_objectWithoutProperties$4($e,_excluded4$1);return shallowEqual(Ue,qe)?Array.isArray(Be)&&Be.length===2&&Array.isArray(ze)&&ze.length===2?Be[0]===ze[0]&&Be[1]===ze[1]:shallowEqual({domain:Be},{domain:ze}):!1},XAxis=reactExports.memo(XAxisSettingsDispatcher,XAxisMemoComparator);XAxis.displayName="XAxis";var _excluded$3=["dangerouslySetInnerHTML","ticks"],_excluded2=["id"],_excluded3=["domain"],_excluded4=["domain"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$4.apply(null,arguments)}function _objectWithoutProperties$3(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$3(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$3(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}function SetYAxisSettings(Ve){var $e=useAppDispatch();return reactExports.useLayoutEffect(()=>($e(addYAxis(Ve)),()=>{$e(removeYAxis(Ve))}),[Ve,$e]),null}var YAxisImpl=Ve=>{var{yAxisId:$e,className:Be,width:Ue,label:ze}=Ve,qe=reactExports.useRef(null),He=reactExports.useRef(null),We=useAppSelector(selectAxisViewBox),Ge=useIsPanorama(),Ye=useAppDispatch(),Xe="yAxis",Je=useAppSelector(hr=>selectAxisScale(hr,Xe,$e,Ge)),er=useAppSelector(hr=>selectYAxisSize(hr,$e)),Ze=useAppSelector(hr=>selectYAxisPosition(hr,$e)),rr=useAppSelector(hr=>selectTicksOfAxis(hr,Xe,$e,Ge)),nr=useAppSelector(hr=>selectYAxisSettingsNoDefaults(hr,$e));if(reactExports.useLayoutEffect(()=>{if(!(Ue!=="auto"||!er||isLabelContentAFunction(ze)||reactExports.isValidElement(ze)||nr==null)){var hr=qe.current;if(hr){var yr=hr.getCalculatedWidth();Math.round(er.width)!==Math.round(yr)&&Ye(updateYAxisWidth({id:$e,width:yr}))}}},[rr,er,Ye,ze,$e,Ue,nr]),er==null||Ze==null||nr==null)return null;var{dangerouslySetInnerHTML:ar,ticks:sr}=Ve,lr=_objectWithoutProperties$3(Ve,_excluded$3),{id:or}=nr,cr=_objectWithoutProperties$3(nr,_excluded2);return reactExports.createElement(CartesianAxis,_extends$4({},lr,cr,{ref:qe,labelRef:He,scale:Je,x:Ze.x,y:Ze.y,tickTextProps:Ue==="auto"?{width:void 0}:{width:Ue},width:er.width,height:er.height,className:clsx("recharts-".concat(Xe," ").concat(Xe),Be),viewBox:We,ticks:rr}))},yAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0},YAxisSettingsDispatcher=Ve=>{var $e,Be,Ue,ze,qe,He=resolveDefaultProps(Ve,yAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:($e=He.interval)!==null&&$e!==void 0?$e:"preserveEnd",id:He.yAxisId,scale:He.scale,type:He.type,domain:He.domain,allowDataOverflow:He.allowDataOverflow,dataKey:He.dataKey,allowDuplicatedCategory:He.allowDuplicatedCategory,allowDecimals:He.allowDecimals,tickCount:He.tickCount,padding:He.padding,includeHidden:(Be=He.includeHidden)!==null&&Be!==void 0?Be:!1,reversed:He.reversed,ticks:He.ticks,width:He.width,orientation:He.orientation,mirror:He.mirror,hide:He.hide,unit:He.unit,name:He.name,angle:(Ue=He.angle)!==null&&Ue!==void 0?Ue:0,minTickGap:(ze=He.minTickGap)!==null&&ze!==void 0?ze:5,tick:(qe=He.tick)!==null&&qe!==void 0?qe:!0,tickFormatter:He.tickFormatter}),reactExports.createElement(YAxisImpl,He))},YAxisMemoComparator=(Ve,$e)=>{var{domain:Be}=Ve,Ue=_objectWithoutProperties$3(Ve,_excluded3),{domain:ze}=$e,qe=_objectWithoutProperties$3($e,_excluded4);return shallowEqual(Ue,qe)?Array.isArray(Be)&&Be.length===2&&Array.isArray(ze)&&ze.length===2?Be[0]===ze[0]&&Be[1]===ze[1]:shallowEqual({domain:Be},{domain:ze}):!1},YAxis=reactExports.memo(YAxisSettingsDispatcher,YAxisMemoComparator);YAxis.displayName="YAxis";var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var Ve=requireReact();function $e(Ge,Ye){return Ge===Ye&&(Ge!==0||1/Ge===1/Ye)||Ge!==Ge&&Ye!==Ye}var Be=typeof Object.is=="function"?Object.is:$e,Ue=Ve.useSyncExternalStore,ze=Ve.useRef,qe=Ve.useEffect,He=Ve.useMemo,We=Ve.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(Ge,Ye,Xe,Je,er){var Ze=ze(null);if(Ze.current===null){var rr={hasValue:!1,value:null};Ze.current=rr}else rr=Ze.current;Ze=He(function(){function ar(hr){if(!sr){if(sr=!0,lr=hr,hr=Je(hr),er!==void 0&&rr.hasValue){var yr=rr.value;if(er(yr,hr))return or=yr}return or=hr}if(yr=or,Be(lr,hr))return yr;var mr=Je(hr);return er!==void 0&&er(yr,mr)?(lr=hr,yr):(lr=hr,or=mr)}var sr=!1,lr,or,cr=Xe===void 0?null:Xe;return[function(){return ar(Ye())},cr===null?void 0:function(){return ar(cr())}]},[Ye,Xe,Je,er]);var nr=Ue(Ge,Ze[0],Ze[1]);return qe(function(){rr.hasValue=!0,rr.value=nr},[nr]),We(nr),nr},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(Ve){Ve()}function createListenerCollection(){let Ve=null,$e=null;return{clear(){Ve=null,$e=null},notify(){defaultNoopBatch(()=>{let Be=Ve;for(;Be;)Be.callback(),Be=Be.next})},get(){const Be=[];let Ue=Ve;for(;Ue;)Be.push(Ue),Ue=Ue.next;return Be},subscribe(Be){let Ue=!0;const ze=$e={callback:Be,next:null,prev:$e};return ze.prev?ze.prev.next=ze:Ve=ze,function(){!Ue||Ve===null||(Ue=!1,ze.next?ze.next.prev=ze.prev:$e=ze.prev,ze.prev?ze.prev.next=ze.next:Ve=ze.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(Ve,$e){let Be,Ue=nullListeners,ze=0,qe=!1;function He(nr){Xe();const ar=Ue.subscribe(nr);let sr=!1;return()=>{sr||(sr=!0,ar(),Je())}}function We(){Ue.notify()}function Ge(){rr.onStateChange&&rr.onStateChange()}function Ye(){return qe}function Xe(){ze++,Be||(Be=Ve.subscribe(Ge),Ue=createListenerCollection())}function Je(){ze--,Be&&ze===0&&(Be(),Be=void 0,Ue.clear(),Ue=nullListeners)}function er(){qe||(qe=!0,Xe())}function Ze(){qe&&(qe=!1,Je())}const rr={addNestedSub:He,notifyNestedSubs:We,handleChangeWrapper:Ge,isSubscribed:Ye,trySubscribe:er,tryUnsubscribe:Ze,getListeners:()=>Ue};return rr}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const Ve=gT[ContextKey]??=new Map;let $e=Ve.get(reactExports.createContext);return $e||($e=reactExports.createContext(null),Ve.set(reactExports.createContext,$e)),$e}var ReactReduxContext=getContext();function Provider(Ve){const{children:$e,context:Be,serverState:Ue,store:ze}=Ve,qe=reactExports.useMemo(()=>{const Ge=createSubscription(ze);return{store:ze,subscription:Ge,getServerState:Ue?()=>Ue:void 0}},[ze,Ue]),He=reactExports.useMemo(()=>ze.getState(),[ze]);useIsomorphicLayoutEffect(()=>{const{subscription:Ge}=qe;return Ge.onStateChange=Ge.notifyNestedSubs,Ge.trySubscribe(),He!==ze.getState()&&Ge.notifyNestedSubs(),()=>{Ge.tryUnsubscribe(),Ge.onStateChange=void 0}},[qe,He]);const We=Be||ReactReduxContext;return reactExports.createElement(We.Provider,{value:qe},$e)}var Provider_default=Provider,pickChartPointer=(Ve,$e)=>$e,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=Ve=>{var $e=Ve.currentTarget.getBoundingClientRect(),Be=$e.width/Ve.currentTarget.offsetWidth,Ue=$e.height/Ve.currentTarget.offsetHeight;return{chartX:Math.round((Ve.clientX-$e.left)/Be),chartY:Math.round((Ve.clientY-$e.top)/Ue)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(Ve,$e)=>{var Be=Ve.payload,Ue=selectActivePropsFromChartPointer($e.getState(),getChartPointer(Be));Ue?.activeIndex!=null&&$e.dispatch(setMouseClickAxisIndex({activeIndex:Ue.activeIndex,activeDataKey:void 0,activeCoordinate:Ue.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(Ve,$e)=>{var Be=Ve.payload,Ue=$e.getState(),ze=selectTooltipEventType$1(Ue,Ue.tooltip.settings.shared),qe=selectActivePropsFromChartPointer(Ue,getChartPointer(Be));ze==="axis"&&(qe?.activeIndex!=null?$e.dispatch(setMouseOverAxisIndex({activeIndex:qe.activeIndex,activeDataKey:void 0,activeCoordinate:qe.activeCoordinate})):$e.dispatch(mouseLeaveChart()))}});var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(Ve,$e)=>{var Be;Ve.accessibilityLayer=$e.payload.accessibilityLayer,Ve.barCategoryGap=$e.payload.barCategoryGap,Ve.barGap=(Be=$e.payload.barGap)!==null&&Be!==void 0?Be:initialState.barGap,Ve.barSize=$e.payload.barSize,Ve.maxBarSize=$e.payload.maxBarSize,Ve.stackOffset=$e.payload.stackOffset,Ve.syncId=$e.payload.syncId,Ve.syncMethod=$e.payload.syncMethod,Ve.className=$e.payload.className}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(Ve,$e)=>$e.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(Ve,$e)=>{var Be=$e.getState(),Ue=Be.rootProps.accessibilityLayer!==!1;if(Ue){var{keyboardInteraction:ze}=Be.tooltip,qe=Ve.payload;if(!(qe!=="ArrowRight"&&qe!=="ArrowLeft"&&qe!=="Enter")){var He=Number(combineActiveTooltipIndex(ze,selectTooltipDisplayedData(Be))),We=selectTooltipAxisTicks(Be);if(qe==="Enter"){var Ge=selectCoordinateForDefaultIndex(Be,"axis","hover",String(ze.index));$e.dispatch(setKeyboardInteraction({active:!ze.active,activeIndex:ze.index,activeDataKey:ze.dataKey,activeCoordinate:Ge}));return}var Ye=selectChartDirection(Be),Xe=Ye==="left-to-right"?1:-1,Je=qe==="ArrowRight"?1:-1,er=He+Je*Xe;if(!(We==null||er>=We.length||er<0)){var Ze=selectCoordinateForDefaultIndex(Be,"axis","hover",String(er));$e.dispatch(setKeyboardInteraction({active:!0,activeIndex:er.toString(),activeDataKey:void 0,activeCoordinate:Ze}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(Ve,$e)=>{var Be=$e.getState(),Ue=Be.rootProps.accessibilityLayer!==!1;if(Ue){var{keyboardInteraction:ze}=Be.tooltip;if(!ze.active&&ze.index==null){var qe="0",He=selectCoordinateForDefaultIndex(Be,"axis","hover",String(qe));$e.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:qe,activeCoordinate:He}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(Ve,$e)=>{if(Ve.payload.handler!=null){var Be=$e.getState(),Ue={activeCoordinate:selectActiveTooltipCoordinate(Be),activeDataKey:selectActiveTooltipDataKey(Be),activeIndex:selectActiveTooltipIndex(Be),activeLabel:selectActiveLabel$1(Be),activeTooltipIndex:selectActiveTooltipIndex(Be),isTooltipActive:selectIsTooltipActive$1(Be)};Ve.payload.handler(Ue,Ve.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],Ve=>Ve.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(Ve,$e,Be)=>$e,(Ve,$e,Be)=>Be],(Ve,$e,Be,Ue)=>{var ze=Ve.find(We=>We.settings.dataKey===Ue);if(ze!=null){var{positions:qe}=ze;if(qe!=null){var He=$e(qe,Be);return He}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(Ve,$e)=>{var Be=Ve.payload,Ue=$e.getState(),ze=selectTooltipEventType$1(Ue,Ue.tooltip.settings.shared);if(ze==="axis"){var qe=selectActivePropsFromChartPointer(Ue,getChartPointer({clientX:Be.touches[0].clientX,clientY:Be.touches[0].clientY,currentTarget:Be.currentTarget}));qe?.activeIndex!=null&&$e.dispatch(setMouseOverAxisIndex({activeIndex:qe.activeIndex,activeDataKey:void 0,activeCoordinate:qe.activeCoordinate}))}else if(ze==="item"){var He,We=Be.touches[0],Ge=document.elementFromPoint(We.clientX,We.clientY);if(!Ge||!Ge.getAttribute)return;var Ye=Ge.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),Xe=(He=Ge.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&He!==void 0?He:void 0,Je=selectTooltipCoordinate($e.getState(),Ye,Xe);$e.dispatch(setActiveMouseOverItemIndex({activeDataKey:Xe,activeIndex:Ye,activeCoordinate:Je}))}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer}),createRechartsStore=function Ve($e){return configureStore({reducer:rootReducer,preloadedState:$e,middleware:Be=>Be({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),enhancers:Be=>{var Ue=Be;return typeof Be=="function"&&(Ue=Be()),Ue.concat(autoBatchEnhancer({type:"raf"}))},devTools:Global.devToolsEnabled})};function RechartsStoreProvider(Ve){var{preloadedState:$e,children:Be,reduxStoreName:Ue}=Ve,ze=useIsPanorama(),qe=reactExports.useRef(null);if(ze)return Be;qe.current==null&&(qe.current=createRechartsStore($e));var He=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:He,store:qe.current},Be)}function ReportMainChartProps(Ve){var{layout:$e,margin:Be}=Ve,Ue=useAppDispatch(),ze=useIsPanorama();return reactExports.useEffect(()=>{ze||(Ue(setLayout($e)),Ue(setMargin(Be)))},[Ue,ze,$e,Be]),null}function ReportChartProps(Ve){var $e=useAppDispatch();return reactExports.useEffect(()=>{$e(updateOptions(Ve))},[$e,Ve]),null}var _excluded$2=["children"];function _objectWithoutProperties$2(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$2(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$2(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%",display:"block"},MainChartSurface=reactExports.forwardRef((Ve,$e)=>{var Be=useChartWidth(),Ue=useChartHeight(),ze=useAccessibilityLayer();if(!isPositiveNumber(Be)||!isPositiveNumber(Ue))return null;var{children:qe,otherAttributes:He,title:We,desc:Ge}=Ve,Ye,Xe;return typeof He.tabIndex=="number"?Ye=He.tabIndex:Ye=ze?0:void 0,typeof He.role=="string"?Xe=He.role:Xe=ze?"application":void 0,reactExports.createElement(Surface,_extends$3({},He,{title:We,desc:Ge,role:Xe,tabIndex:Ye,width:Be,height:Ue,style:FULL_WIDTH_AND_HEIGHT,ref:$e}),qe)}),BrushPanoramaSurface=Ve=>{var{children:$e}=Ve,Be=useAppSelector(selectBrushDimensions);if(!Be)return null;var{width:Ue,height:ze,y:qe,x:He}=Be;return reactExports.createElement(Surface,{width:Ue,height:ze,x:He,y:qe},$e)},RootSurface=reactExports.forwardRef((Ve,$e)=>{var{children:Be}=Ve,Ue=_objectWithoutProperties$2(Ve,_excluded$2),ze=useIsPanorama();return ze?reactExports.createElement(BrushPanoramaSurface,null,Be):reactExports.createElement(MainChartSurface,_extends$3({ref:$e},Ue),Be)});function useReportScale(){var Ve=useAppDispatch(),[$e,Be]=reactExports.useState(null),Ue=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if($e!=null){var ze=$e.getBoundingClientRect(),qe=ze.width/$e.offsetWidth;isWellBehavedNumber(qe)&&qe!==Ue&&Ve(setScale(qe))}},[$e,Ve,Ue]),Be}function ownKeys$1(Ve,$e){var Be=Object.keys(Ve);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Ve);$e&&(Ue=Ue.filter(function(ze){return Object.getOwnPropertyDescriptor(Ve,ze).enumerable})),Be.push.apply(Be,Ue)}return Be}function _objectSpread(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e]!=null?arguments[$e]:{};$e%2?ownKeys$1(Object(Be),!0).forEach(function(Ue){_defineProperty(Ve,Ue,Be[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(Be)):ownKeys$1(Object(Be)).forEach(function(Ue){Object.defineProperty(Ve,Ue,Object.getOwnPropertyDescriptor(Be,Ue))})}return Ve}function _defineProperty(Ve,$e,Be){return($e=_toPropertyKey($e))in Ve?Object.defineProperty(Ve,$e,{value:Be,enumerable:!0,configurable:!0,writable:!0}):Ve[$e]=Be,Ve}function _toPropertyKey(Ve){var $e=_toPrimitive(Ve,"string");return typeof $e=="symbol"?$e:$e+""}function _toPrimitive(Ve,$e){if(typeof Ve!="object"||!Ve)return Ve;var Be=Ve[Symbol.toPrimitive];if(Be!==void 0){var Ue=Be.call(Ve,$e);if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return($e==="string"?String:Number)(Ve)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$2.apply(null,arguments)}var EventSynchronizer=()=>(useSynchronisedEventsFromOtherCharts(),null);function getNumberOrZero(Ve){if(typeof Ve=="number")return Ve;if(typeof Ve=="string"){var $e=parseFloat(Ve);if(!Number.isNaN($e))return $e}return 0}var ResponsiveDiv=reactExports.forwardRef((Ve,$e)=>{var Be,Ue,ze=reactExports.useRef(null),[qe,He]=reactExports.useState({containerWidth:getNumberOrZero((Be=Ve.style)===null||Be===void 0?void 0:Be.width),containerHeight:getNumberOrZero((Ue=Ve.style)===null||Ue===void 0?void 0:Ue.height)}),We=reactExports.useCallback((Ye,Xe)=>{He(Je=>{var er=Math.round(Ye),Ze=Math.round(Xe);return Je.containerWidth===er&&Je.containerHeight===Ze?Je:{containerWidth:er,containerHeight:Ze}})},[]),Ge=reactExports.useCallback(Ye=>{if(typeof $e=="function"&&$e(Ye),Ye!=null){var{width:Xe,height:Je}=Ye.getBoundingClientRect();We(Xe,Je);var er=rr=>{var{width:nr,height:ar}=rr[0].contentRect;We(nr,ar)},Ze=new ResizeObserver(er);Ze.observe(Ye),ze.current=Ze}},[$e,We]);return reactExports.useEffect(()=>()=>{var Ye=ze.current;Ye?.disconnect()},[We]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:qe.containerWidth,height:qe.containerHeight}),reactExports.createElement("div",_extends$2({ref:Ge},Ve)))}),ReadSizeOnceDiv=reactExports.forwardRef((Ve,$e)=>{var{width:Be,height:Ue}=Ve,[ze,qe]=reactExports.useState({containerWidth:getNumberOrZero(Be),containerHeight:getNumberOrZero(Ue)}),He=reactExports.useCallback((Ge,Ye)=>{qe(Xe=>{var Je=Math.round(Ge),er=Math.round(Ye);return Xe.containerWidth===Je&&Xe.containerHeight===er?Xe:{containerWidth:Je,containerHeight:er}})},[]),We=reactExports.useCallback(Ge=>{if(typeof $e=="function"&&$e(Ge),Ge!=null){var{width:Ye,height:Xe}=Ge.getBoundingClientRect();He(Ye,Xe)}},[$e,He]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:ze.containerWidth,height:ze.containerHeight}),reactExports.createElement("div",_extends$2({ref:We},Ve)))}),StaticDiv=reactExports.forwardRef((Ve,$e)=>{var{width:Be,height:Ue}=Ve;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:Be,height:Ue}),reactExports.createElement("div",_extends$2({ref:$e},Ve)))}),NonResponsiveDiv=reactExports.forwardRef((Ve,$e)=>{var{width:Be,height:Ue}=Ve;return isPercent(Be)||isPercent(Ue)?reactExports.createElement(ReadSizeOnceDiv,_extends$2({},Ve,{ref:$e})):reactExports.createElement(StaticDiv,_extends$2({},Ve,{ref:$e}))});function getWrapperDivComponent(Ve){return Ve===!0?ResponsiveDiv:NonResponsiveDiv}var RechartsWrapper=reactExports.forwardRef((Ve,$e)=>{var{children:Be,className:Ue,height:ze,onClick:qe,onContextMenu:He,onDoubleClick:We,onMouseDown:Ge,onMouseEnter:Ye,onMouseLeave:Xe,onMouseMove:Je,onMouseUp:er,onTouchEnd:Ze,onTouchMove:rr,onTouchStart:nr,style:ar,width:sr,responsive:lr,dispatchTouchEvents:or=!0}=Ve,cr=reactExports.useRef(null),hr=useAppDispatch(),[yr,mr]=reactExports.useState(null),[vr,_r]=reactExports.useState(null),Cr=useReportScale(),br=useResponsiveContainerContext(),fr=br?.width>0?br.width:sr,Sr=br?.height>0?br.height:ze,Dr=reactExports.useCallback(Zr=>{Cr(Zr),typeof $e=="function"&&$e(Zr),mr(Zr),_r(Zr),Zr!=null&&(cr.current=Zr)},[Cr,$e,mr,_r]),Or=reactExports.useCallback(Zr=>{hr(mouseClickAction(Zr)),hr(externalEventAction({handler:qe,reactEvent:Zr}))},[hr,qe]),Er=reactExports.useCallback(Zr=>{hr(mouseMoveAction(Zr)),hr(externalEventAction({handler:Ye,reactEvent:Zr}))},[hr,Ye]),Nr=reactExports.useCallback(Zr=>{hr(mouseLeaveChart()),hr(externalEventAction({handler:Xe,reactEvent:Zr}))},[hr,Xe]),wr=reactExports.useCallback(Zr=>{hr(mouseMoveAction(Zr)),hr(externalEventAction({handler:Je,reactEvent:Zr}))},[hr,Je]),Ar=reactExports.useCallback(()=>{hr(focusAction())},[hr]),Lr=reactExports.useCallback(Zr=>{hr(keyDownAction(Zr.key))},[hr]),Pr=reactExports.useCallback(Zr=>{hr(externalEventAction({handler:He,reactEvent:Zr}))},[hr,He]),Tr=reactExports.useCallback(Zr=>{hr(externalEventAction({handler:We,reactEvent:Zr}))},[hr,We]),Vr=reactExports.useCallback(Zr=>{hr(externalEventAction({handler:Ge,reactEvent:Zr}))},[hr,Ge]),Ur=reactExports.useCallback(Zr=>{hr(externalEventAction({handler:er,reactEvent:Zr}))},[hr,er]),Yr=reactExports.useCallback(Zr=>{hr(externalEventAction({handler:nr,reactEvent:Zr}))},[hr,nr]),Qr=reactExports.useCallback(Zr=>{or&&hr(touchEventAction(Zr)),hr(externalEventAction({handler:rr,reactEvent:Zr}))},[hr,or,rr]),mn=reactExports.useCallback(Zr=>{hr(externalEventAction({handler:Ze,reactEvent:Zr}))},[hr,Ze]),An=getWrapperDivComponent(lr);return reactExports.createElement(TooltipPortalContext.Provider,{value:yr},reactExports.createElement(LegendPortalContext.Provider,{value:vr},reactExports.createElement(An,{width:fr??ar?.width,height:Sr??ar?.height,className:clsx("recharts-wrapper",Ue),style:_objectSpread({position:"relative",cursor:"default",width:fr,height:Sr},ar),onClick:Or,onContextMenu:Pr,onDoubleClick:Tr,onFocus:Ar,onKeyDown:Lr,onMouseDown:Vr,onMouseEnter:Er,onMouseLeave:Nr,onMouseMove:wr,onMouseUp:Ur,onTouchEnd:mn,onTouchMove:Qr,onTouchStart:Yr,ref:Dr},reactExports.createElement(EventSynchronizer,null),Be)))}),_excluded$1=["width","height","responsive","children","className","style","compact","title","desc"];function _objectWithoutProperties$1(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose$1(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose$1(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var CategoricalChart=reactExports.forwardRef((Ve,$e)=>{var{width:Be,height:Ue,responsive:ze,children:qe,className:He,style:We,compact:Ge,title:Ye,desc:Xe}=Ve,Je=_objectWithoutProperties$1(Ve,_excluded$1),er=svgPropertiesNoEvents(Je);return Ge?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:Be,height:Ue}),reactExports.createElement(RootSurface,{otherAttributes:er,title:Ye,desc:Xe},qe)):reactExports.createElement(RechartsWrapper,{className:He,style:We,width:Be,height:Ue,responsive:ze,onClick:Ve.onClick,onMouseLeave:Ve.onMouseLeave,onMouseEnter:Ve.onMouseEnter,onMouseMove:Ve.onMouseMove,onMouseDown:Ve.onMouseDown,onMouseUp:Ve.onMouseUp,onContextMenu:Ve.onContextMenu,onDoubleClick:Ve.onDoubleClick,onTouchStart:Ve.onTouchStart,onTouchMove:Ve.onTouchMove,onTouchEnd:Ve.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:er,title:Ye,desc:Xe,ref:$e},reactExports.createElement(ClipPathProvider,null,qe)))});function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends$1.apply(null,arguments)}var defaultMargin$1={top:5,right:5,bottom:5,left:5},defaultProps$2={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin$1,reverseStackOrder:!1,syncMethod:"index",responsive:!1},CartesianChart=reactExports.forwardRef(function Ve($e,Be){var Ue,ze=resolveDefaultProps($e.categoricalChartProps,defaultProps$2),{chartName:qe,defaultTooltipEventType:He,validateTooltipEventTypes:We,tooltipPayloadSearcher:Ge,categoricalChartProps:Ye}=$e,Xe={chartName:qe,defaultTooltipEventType:He,validateTooltipEventTypes:We,tooltipPayloadSearcher:Ge,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:Xe},reduxStoreName:(Ue=Ye.id)!==null&&Ue!==void 0?Ue:qe},reactExports.createElement(ChartDataContextProvider,{chartData:Ye.data}),reactExports.createElement(ReportMainChartProps,{layout:ze.layout,margin:ze.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:ze.accessibilityLayer,barCategoryGap:ze.barCategoryGap,maxBarSize:ze.maxBarSize,stackOffset:ze.stackOffset,barGap:ze.barGap,barSize:ze.barSize,syncId:ze.syncId,syncMethod:ze.syncMethod,className:ze.className}),reactExports.createElement(CategoricalChart,_extends$1({},ze,{ref:Be})))}),allowedTooltipTypes$2=["axis"],LineChart=reactExports.forwardRef((Ve,$e)=>reactExports.createElement(CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$2,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:Ve,ref:$e})),allowedTooltipTypes$1=["axis","item"],BarChart=reactExports.forwardRef((Ve,$e)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:Ve,ref:$e}));function ReportPolarOptions(Ve){var $e=useAppDispatch();return reactExports.useEffect(()=>{$e(updatePolarOptions(Ve))},[$e,Ve]),null}var _excluded=["layout"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(Ve){for(var $e=1;$e<arguments.length;$e++){var Be=arguments[$e];for(var Ue in Be)({}).hasOwnProperty.call(Be,Ue)&&(Ve[Ue]=Be[Ue])}return Ve},_extends.apply(null,arguments)}function _objectWithoutProperties(Ve,$e){if(Ve==null)return{};var Be,Ue,ze=_objectWithoutPropertiesLoose(Ve,$e);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Ve);for(Ue=0;Ue<qe.length;Ue++)Be=qe[Ue],$e.indexOf(Be)===-1&&{}.propertyIsEnumerable.call(Ve,Be)&&(ze[Be]=Ve[Be])}return ze}function _objectWithoutPropertiesLoose(Ve,$e){if(Ve==null)return{};var Be={};for(var Ue in Ve)if({}.hasOwnProperty.call(Ve,Ue)){if($e.indexOf(Ue)!==-1)continue;Be[Ue]=Ve[Ue]}return Be}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps$1={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},PolarChart=reactExports.forwardRef(function Ve($e,Be){var Ue,ze=resolveDefaultProps($e.categoricalChartProps,defaultProps$1),{layout:qe}=ze,He=_objectWithoutProperties(ze,_excluded),{chartName:We,defaultTooltipEventType:Ge,validateTooltipEventTypes:Ye,tooltipPayloadSearcher:Xe}=$e,Je={chartName:We,defaultTooltipEventType:Ge,validateTooltipEventTypes:Ye,tooltipPayloadSearcher:Xe,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:Je},reduxStoreName:(Ue=ze.id)!==null&&Ue!==void 0?Ue:We},reactExports.createElement(ChartDataContextProvider,{chartData:ze.data}),reactExports.createElement(ReportMainChartProps,{layout:qe,margin:ze.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:ze.accessibilityLayer,barCategoryGap:ze.barCategoryGap,maxBarSize:ze.maxBarSize,stackOffset:ze.stackOffset,barGap:ze.barGap,barSize:ze.barSize,syncId:ze.syncId,syncMethod:ze.syncMethod,className:ze.className}),reactExports.createElement(ReportPolarOptions,{cx:ze.cx,cy:ze.cy,startAngle:ze.startAngle,endAngle:ze.endAngle,innerRadius:ze.innerRadius,outerRadius:ze.outerRadius}),reactExports.createElement(CategoricalChart,_extends({},He,{ref:Be})))}),allowedTooltipTypes=["item"],defaultProps={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PieChart$1=reactExports.forwardRef((Ve,$e)=>{var Be=resolveDefaultProps(Ve,defaultProps);return reactExports.createElement(PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:Be,ref:$e})});function _typeof(Ve){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_typeof(Ve)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Ve,$e){for(var Be=new u16(31),Ue=0;Ue<31;++Ue)Be[Ue]=$e+=1<<Ve[Ue-1];for(var ze=new i32(Be[30]),Ue=1;Ue<30;++Ue)for(var qe=Be[Ue];qe<Be[Ue+1];++qe)ze[qe]=qe-Be[Ue]<<5|Ue;return{b:Be,r:ze}},_a$1=freb(fleb,2),fl=_a$1.b,revfl=_a$1.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),revfd=_b.r,rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=(function(Ve,$e,Be){for(var Ue=Ve.length,ze=0,qe=new u16($e);ze<Ue;++ze)Ve[ze]&&++qe[Ve[ze]-1];var He=new u16($e);for(ze=1;ze<$e;++ze)He[ze]=He[ze-1]+qe[ze-1]<<1;var We;if(Be){We=new u16(1<<$e);var Ge=15-$e;for(ze=0;ze<Ue;++ze)if(Ve[ze])for(var Ye=ze<<4|Ve[ze],Xe=$e-Ve[ze],Je=He[Ve[ze]-1]++<<Xe,er=Je|(1<<Xe)-1;Je<=er;++Je)We[rev[Je]>>Ge]=Ye}else for(We=new u16(Ue),ze=0;ze<Ue;++ze)Ve[ze]&&(We[ze]=rev[He[Ve[ze]-1]++]>>15-Ve[ze]);return We}),flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),fdm=hMap(fdt,5,0),shft=function(Ve){return(Ve+7)/8|0},slc=function(Ve,$e,Be){return(Be==null||Be>Ve.length)&&(Be=Ve.length),new u8(Ve.subarray($e,Be))},wbits=function(Ve,$e,Be){Be<<=$e&7;var Ue=$e/8|0;Ve[Ue]|=Be,Ve[Ue+1]|=Be>>8},wbits16=function(Ve,$e,Be){Be<<=$e&7;var Ue=$e/8|0;Ve[Ue]|=Be,Ve[Ue+1]|=Be>>8,Ve[Ue+2]|=Be>>16},hTree=function(Ve,$e){for(var Be=[],Ue=0;Ue<Ve.length;++Ue)Ve[Ue]&&Be.push({s:Ue,f:Ve[Ue]});var ze=Be.length,qe=Be.slice();if(!ze)return{t:et$1,l:0};if(ze==1){var He=new u8(Be[0].s+1);return He[Be[0].s]=1,{t:He,l:1}}Be.sort(function(hr,yr){return hr.f-yr.f}),Be.push({s:-1,f:25001});var We=Be[0],Ge=Be[1],Ye=0,Xe=1,Je=2;for(Be[0]={s:-1,f:We.f+Ge.f,l:We,r:Ge};Xe!=ze-1;)We=Be[Be[Ye].f<Be[Je].f?Ye++:Je++],Ge=Be[Ye!=Xe&&Be[Ye].f<Be[Je].f?Ye++:Je++],Be[Xe++]={s:-1,f:We.f+Ge.f,l:We,r:Ge};for(var er=qe[0].s,Ue=1;Ue<ze;++Ue)qe[Ue].s>er&&(er=qe[Ue].s);var Ze=new u16(er+1),rr=ln(Be[Xe-1],Ze,0);if(rr>$e){var Ue=0,nr=0,ar=rr-$e,sr=1<<ar;for(qe.sort(function(yr,mr){return Ze[mr.s]-Ze[yr.s]||yr.f-mr.f});Ue<ze;++Ue){var lr=qe[Ue].s;if(Ze[lr]>$e)nr+=sr-(1<<rr-Ze[lr]),Ze[lr]=$e;else break}for(nr>>=ar;nr>0;){var or=qe[Ue].s;Ze[or]<$e?nr-=1<<$e-Ze[or]++-1:++Ue}for(;Ue>=0&&nr;--Ue){var cr=qe[Ue].s;Ze[cr]==$e&&(--Ze[cr],++nr)}rr=$e}return{t:new u8(Ze),l:rr}},ln=function(Ve,$e,Be){return Ve.s==-1?Math.max(ln(Ve.l,$e,Be+1),ln(Ve.r,$e,Be+1)):$e[Ve.s]=Be},lc=function(Ve){for(var $e=Ve.length;$e&&!Ve[--$e];);for(var Be=new u16(++$e),Ue=0,ze=Ve[0],qe=1,He=function(Ge){Be[Ue++]=Ge},We=1;We<=$e;++We)if(Ve[We]==ze&&We!=$e)++qe;else{if(!ze&&qe>2){for(;qe>138;qe-=138)He(32754);qe>2&&(He(qe>10?qe-11<<5|28690:qe-3<<5|12305),qe=0)}else if(qe>3){for(He(ze),--qe;qe>6;qe-=6)He(8304);qe>2&&(He(qe-3<<5|8208),qe=0)}for(;qe--;)He(ze);qe=1,ze=Ve[We]}return{c:Be.subarray(0,Ue),n:$e}},clen=function(Ve,$e){for(var Be=0,Ue=0;Ue<$e.length;++Ue)Be+=Ve[Ue]*$e[Ue];return Be},wfblk=function(Ve,$e,Be){var Ue=Be.length,ze=shft($e+2);Ve[ze]=Ue&255,Ve[ze+1]=Ue>>8,Ve[ze+2]=Ve[ze]^255,Ve[ze+3]=Ve[ze+1]^255;for(var qe=0;qe<Ue;++qe)Ve[ze+qe+4]=Be[qe];return(ze+4+Ue)*8},wblk=function(Ve,$e,Be,Ue,ze,qe,He,We,Ge,Ye,Xe){wbits($e,Xe++,Be),++ze[256];for(var Je=hTree(ze,15),er=Je.t,Ze=Je.l,rr=hTree(qe,15),nr=rr.t,ar=rr.l,sr=lc(er),lr=sr.c,or=sr.n,cr=lc(nr),hr=cr.c,yr=cr.n,mr=new u16(19),vr=0;vr<lr.length;++vr)++mr[lr[vr]&31];for(var vr=0;vr<hr.length;++vr)++mr[hr[vr]&31];for(var _r=hTree(mr,7),Cr=_r.t,br=_r.l,fr=19;fr>4&&!Cr[clim[fr-1]];--fr);var Sr=Ye+5<<3,Dr=clen(ze,flt)+clen(qe,fdt)+He,Or=clen(ze,er)+clen(qe,nr)+He+14+3*fr+clen(mr,Cr)+2*mr[16]+3*mr[17]+7*mr[18];if(Ge>=0&&Sr<=Dr&&Sr<=Or)return wfblk($e,Xe,Ve.subarray(Ge,Ge+Ye));var Er,Nr,wr,Ar;if(wbits($e,Xe,1+(Or<Dr)),Xe+=2,Or<Dr){Er=hMap(er,Ze,0),Nr=er,wr=hMap(nr,ar,0),Ar=nr;var Lr=hMap(Cr,br,0);wbits($e,Xe,or-257),wbits($e,Xe+5,yr-1),wbits($e,Xe+10,fr-4),Xe+=14;for(var vr=0;vr<fr;++vr)wbits($e,Xe+3*vr,Cr[clim[vr]]);Xe+=3*fr;for(var Pr=[lr,hr],Tr=0;Tr<2;++Tr)for(var Vr=Pr[Tr],vr=0;vr<Vr.length;++vr){var Ur=Vr[vr]&31;wbits($e,Xe,Lr[Ur]),Xe+=Cr[Ur],Ur>15&&(wbits($e,Xe,Vr[vr]>>5&127),Xe+=Vr[vr]>>12)}}else Er=flm,Nr=flt,wr=fdm,Ar=fdt;for(var vr=0;vr<We;++vr){var Yr=Ue[vr];if(Yr>255){var Ur=Yr>>18&31;wbits16($e,Xe,Er[Ur+257]),Xe+=Nr[Ur+257],Ur>7&&(wbits($e,Xe,Yr>>23&31),Xe+=fleb[Ur]);var Qr=Yr&31;wbits16($e,Xe,wr[Qr]),Xe+=Ar[Qr],Qr>3&&(wbits16($e,Xe,Yr>>5&8191),Xe+=fdeb[Qr])}else wbits16($e,Xe,Er[Yr]),Xe+=Nr[Yr]}return wbits16($e,Xe,Er[256]),Xe+Nr[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Ve,$e,Be,Ue,ze,qe){var He=qe.z||Ve.length,We=new u8(Ue+He+5*(1+Math.ceil(He/7e3))+ze),Ge=We.subarray(Ue,We.length-ze),Ye=qe.l,Xe=(qe.r||0)&7;if($e){Xe&&(Ge[0]=qe.r>>3);for(var Je=deo[$e-1],er=Je>>13,Ze=Je&8191,rr=(1<<Be)-1,nr=qe.p||new u16(32768),ar=qe.h||new u16(rr+1),sr=Math.ceil(Be/3),lr=2*sr,or=function(Sn){return(Ve[Sn]^Ve[Sn+1]<<sr^Ve[Sn+2]<<lr)&rr},cr=new i32(25e3),hr=new u16(288),yr=new u16(32),mr=0,vr=0,_r=qe.i||0,Cr=0,br=qe.w||0,fr=0;_r+2<He;++_r){var Sr=or(_r),Dr=_r&32767,Or=ar[Sr];if(nr[Dr]=Or,ar[Sr]=Dr,br<=_r){var Er=He-_r;if((mr>7e3||Cr>24576)&&(Er>423||!Ye)){Xe=wblk(Ve,Ge,0,cr,hr,yr,vr,Cr,fr,_r-fr,Xe),Cr=mr=vr=0,fr=_r;for(var Nr=0;Nr<286;++Nr)hr[Nr]=0;for(var Nr=0;Nr<30;++Nr)yr[Nr]=0}var wr=2,Ar=0,Lr=Ze,Pr=Dr-Or&32767;if(Er>2&&Sr==or(_r-Pr))for(var Tr=Math.min(er,Er)-1,Vr=Math.min(32767,_r),Ur=Math.min(258,Er);Pr<=Vr&&--Lr&&Dr!=Or;){if(Ve[_r+wr]==Ve[_r+wr-Pr]){for(var Yr=0;Yr<Ur&&Ve[_r+Yr]==Ve[_r+Yr-Pr];++Yr);if(Yr>wr){if(wr=Yr,Ar=Pr,Yr>Tr)break;for(var Qr=Math.min(Pr,Yr-2),mn=0,Nr=0;Nr<Qr;++Nr){var An=_r-Pr+Nr&32767,Zr=nr[An],bn=An-Zr&32767;bn>mn&&(mn=bn,Or=An)}}}Dr=Or,Or=nr[Dr],Pr+=Dr-Or&32767}if(Ar){cr[Cr++]=268435456|revfl[wr]<<18|revfd[Ar];var jn=revfl[wr]&31,gn=revfd[Ar]&31;vr+=fleb[jn]+fdeb[gn],++hr[257+jn],++yr[gn],br=_r+wr,++mr}else cr[Cr++]=Ve[_r],++hr[Ve[_r]]}}for(_r=Math.max(_r,br);_r<He;++_r)cr[Cr++]=Ve[_r],++hr[Ve[_r]];Xe=wblk(Ve,Ge,Ye,cr,hr,yr,vr,Cr,fr,_r-fr,Xe),Ye||(qe.r=Xe&7|Ge[Xe/8|0]<<3,Xe-=7,qe.h=ar,qe.p=nr,qe.i=_r,qe.w=br)}else{for(var _r=qe.w||0;_r<He+Ye;_r+=65535){var In=_r+65535;In>=He&&(Ge[Xe/8|0]=Ye,In=He),Xe=wfblk(Ge,Xe+1,Ve.subarray(_r,In))}qe.i=He}return slc(We,0,Ue+shft(Xe)+ze)},adler=function(){var Ve=1,$e=0;return{p:function(Be){for(var Ue=Ve,ze=$e,qe=Be.length|0,He=0;He!=qe;){for(var We=Math.min(He+2655,qe);He<We;++He)ze+=Ue+=Be[He];Ue=(Ue&65535)+15*(Ue>>16),ze=(ze&65535)+15*(ze>>16)}Ve=Ue,$e=ze},d:function(){return Ve%=65521,$e%=65521,(Ve&255)<<24|(Ve&65280)<<8|($e&255)<<8|$e>>8}}},dopt=function(Ve,$e,Be,Ue,ze){if(!ze&&(ze={l:1},$e.dictionary)){var qe=$e.dictionary.subarray(-32768),He=new u8(qe.length+Ve.length);He.set(qe),He.set(Ve,qe.length),Ve=He,ze.w=qe.length}return dflt(Ve,$e.level==null?6:$e.level,$e.mem==null?ze.l?Math.ceil(Math.max(8,Math.min(13,Math.log(Ve.length)))*1.5):20:12+$e.mem,Be,Ue,ze)},wbytes=function(Ve,$e,Be){for(;Be;++$e)Ve[$e]=Be,Be>>>=8},zlh=function(Ve,$e){var Be=$e.level,Ue=Be==0?0:Be<6?1:Be==9?3:2;if(Ve[0]=120,Ve[1]=Ue<<6|($e.dictionary&&32),Ve[1]|=31-(Ve[0]<<8|Ve[1])%31,$e.dictionary){var ze=adler();ze.p($e.dictionary),wbytes(Ve,2,ze.d())}};function zlibSync(Ve,$e){$e||($e={});var Be=adler();Be.p(Ve);var Ue=dopt(Ve,$e,$e.dictionary?6:2,4);return zlh(Ue,$e),wbytes(Ue,Ue.length-4,Be.d()),Ue}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(Ve){}function _arrayWithHoles(Ve){if(Array.isArray(Ve))return Ve}function _iterableToArrayLimit(Ve,$e){var Be=Ve==null?null:typeof Symbol<"u"&&Ve[Symbol.iterator]||Ve["@@iterator"];if(Be!=null){var Ue,ze,qe,He,We=[],Ge=!0,Ye=!1;try{if(qe=(Be=Be.call(Ve)).next,$e!==0)for(;!(Ge=(Ue=qe.call(Be)).done)&&(We.push(Ue.value),We.length!==$e);Ge=!0);}catch(Xe){Ye=!0,ze=Xe}finally{try{if(!Ge&&Be.return!=null&&(He=Be.return(),Object(He)!==He))return}finally{if(Ye)throw ze}}return We}}function _arrayLikeToArray(Ve,$e){($e==null||$e>Ve.length)&&($e=Ve.length);for(var Be=0,Ue=Array($e);Be<$e;Be++)Ue[Be]=Ve[Be];return Ue}function _unsupportedIterableToArray(Ve,$e){if(Ve){if(typeof Ve=="string")return _arrayLikeToArray(Ve,$e);var Be={}.toString.call(Ve).slice(8,-1);return Be==="Object"&&Ve.constructor&&(Be=Ve.constructor.name),Be==="Map"||Be==="Set"?Array.from(Ve):Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be)?_arrayLikeToArray(Ve,$e):void 0}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(Ve,$e){return _arrayWithHoles(Ve)||_iterableToArrayLimit(Ve,$e)||_unsupportedIterableToArray(Ve,$e)||_nonIterableRest()}function decode(Ve,$e="utf8"){return new TextDecoder($e).decode(Ve)}const encoder=new TextEncoder;function encode(Ve){return encoder.encode(Ve)}const defaultByteLength=1024*8,hostBigEndian=(()=>{const Ve=new Uint8Array(4),$e=new Uint32Array(Ve.buffer);return!(($e[0]=1)&Ve[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IOBuffer{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor($e=defaultByteLength,Be={}){let Ue=!1;typeof $e=="number"?$e=new ArrayBuffer($e):(Ue=!0,this.lastWrittenByte=$e.byteLength);const ze=Be.offset?Be.offset>>>0:0,qe=$e.byteLength-ze;let He=ze;(ArrayBuffer.isView($e)||$e instanceof IOBuffer)&&($e.byteLength!==$e.buffer.byteLength&&(He=$e.byteOffset+ze),$e=$e.buffer),Ue?this.lastWrittenByte=qe:this.lastWrittenByte=0,this.buffer=$e,this.length=qe,this.byteLength=qe,this.byteOffset=He,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,He,qe),this._mark=0,this._marks=[]}available($e=1){return this.offset+$e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip($e=1){return this.offset+=$e,this}back($e=1){return this.offset-=$e,this}seek($e){return this.offset=$e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const $e=this._marks.pop();if($e===void 0)throw new Error("Mark stack empty");return this.seek($e),this}rewind(){return this.offset=0,this}ensureAvailable($e=1){if(!this.available($e)){const Ue=(this.offset+$e)*2,ze=new Uint8Array(Ue);ze.set(new Uint8Array(this.buffer)),this.buffer=ze.buffer,this.length=Ue,this.byteLength=Ue,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes($e=1){return this.readArray($e,"uint8")}readArray($e,Be){const Ue=typedArrays[Be].BYTES_PER_ELEMENT*$e,ze=this.byteOffset+this.offset,qe=this.buffer.slice(ze,ze+Ue);if(this.littleEndian===hostBigEndian&&Be!=="uint8"&&Be!=="int8"){const We=new Uint8Array(this.buffer.slice(ze,ze+Ue));We.reverse();const Ge=new typedArrays[Be](We.buffer);return this.offset+=Ue,Ge.reverse(),Ge}const He=new typedArrays[Be](qe);return this.offset+=Ue,He}readInt16(){const $e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,$e}readUint16(){const $e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,$e}readInt32(){const $e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,$e}readUint32(){const $e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,$e}readFloat32(){const $e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,$e}readFloat64(){const $e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,$e}readBigInt64(){const $e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,$e}readBigUint64(){const $e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,$e}readChar(){return String.fromCharCode(this.readInt8())}readChars($e=1){let Be="";for(let Ue=0;Ue<$e;Ue++)Be+=this.readChar();return Be}readUtf8($e=1){return decode(this.readBytes($e))}decodeText($e=1,Be="utf8"){return decode(this.readBytes($e),Be)}writeBoolean($e){return this.writeUint8($e?255:0),this}writeInt8($e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,$e),this._updateLastWrittenByte(),this}writeUint8($e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,$e),this._updateLastWrittenByte(),this}writeByte($e){return this.writeUint8($e)}writeBytes($e){this.ensureAvailable($e.length);for(let Be=0;Be<$e.length;Be++)this._data.setUint8(this.offset++,$e[Be]);return this._updateLastWrittenByte(),this}writeInt16($e){return this.ensureAvailable(2),this._data.setInt16(this.offset,$e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16($e){return this.ensureAvailable(2),this._data.setUint16(this.offset,$e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32($e){return this.ensureAvailable(4),this._data.setInt32(this.offset,$e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32($e){return this.ensureAvailable(4),this._data.setUint32(this.offset,$e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32($e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,$e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64($e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,$e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64($e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,$e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64($e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,$e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar($e){return this.writeUint8($e.charCodeAt(0))}writeChars($e){for(let Be=0;Be<$e.length;Be++)this.writeUint8($e.charCodeAt(Be));return this}writeUtf8($e){return this.writeBytes(encode($e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zero$1(Ve){let $e=Ve.length;for(;--$e>=0;)Ve[$e]=0}const MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);const adler32=(Ve,$e,Be,Ue)=>{let ze=Ve&65535|0,qe=Ve>>>16&65535|0,He=0;for(;Be!==0;){He=Be>2e3?2e3:Be,Be-=He;do ze=ze+$e[Ue++]|0,qe=qe+ze|0;while(--He);ze%=65521,qe%=65521}return ze|qe<<16|0};var adler32_1=adler32;const makeTable=()=>{let Ve,$e=[];for(var Be=0;Be<256;Be++){Ve=Be;for(var Ue=0;Ue<8;Ue++)Ve=Ve&1?3988292384^Ve>>>1:Ve>>>1;$e[Be]=Ve}return $e},crcTable$1=new Uint32Array(makeTable()),crc32=(Ve,$e,Be,Ue)=>{const ze=crcTable$1,qe=Ue+Be;Ve^=-1;for(let He=Ue;He<qe;He++)Ve=Ve>>>8^ze[(Ve^$e[He])&255];return Ve^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _has=(Ve,$e)=>Object.prototype.hasOwnProperty.call(Ve,$e);var assign=function(Ve){const $e=Array.prototype.slice.call(arguments,1);for(;$e.length;){const Be=$e.shift();if(Be){if(typeof Be!="object")throw new TypeError(Be+"must be non-object");for(const Ue in Be)_has(Be,Ue)&&(Ve[Ue]=Be[Ue])}}return Ve},flattenChunks=Ve=>{let $e=0;for(let Ue=0,ze=Ve.length;Ue<ze;Ue++)$e+=Ve[Ue].length;const Be=new Uint8Array($e);for(let Ue=0,ze=0,qe=Ve.length;Ue<qe;Ue++){let He=Ve[Ue];Be.set(He,ze),ze+=He.length}return Be},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Ve){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let Ve=0;Ve<256;Ve++)_utf8len[Ve]=Ve>=252?6:Ve>=248?5:Ve>=240?4:Ve>=224?3:Ve>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=Ve=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(Ve);let $e,Be,Ue,ze,qe,He=Ve.length,We=0;for(ze=0;ze<He;ze++)Be=Ve.charCodeAt(ze),(Be&64512)===55296&&ze+1<He&&(Ue=Ve.charCodeAt(ze+1),(Ue&64512)===56320&&(Be=65536+(Be-55296<<10)+(Ue-56320),ze++)),We+=Be<128?1:Be<2048?2:Be<65536?3:4;for($e=new Uint8Array(We),qe=0,ze=0;qe<We;ze++)Be=Ve.charCodeAt(ze),(Be&64512)===55296&&ze+1<He&&(Ue=Ve.charCodeAt(ze+1),(Ue&64512)===56320&&(Be=65536+(Be-55296<<10)+(Ue-56320),ze++)),Be<128?$e[qe++]=Be:Be<2048?($e[qe++]=192|Be>>>6,$e[qe++]=128|Be&63):Be<65536?($e[qe++]=224|Be>>>12,$e[qe++]=128|Be>>>6&63,$e[qe++]=128|Be&63):($e[qe++]=240|Be>>>18,$e[qe++]=128|Be>>>12&63,$e[qe++]=128|Be>>>6&63,$e[qe++]=128|Be&63);return $e};const buf2binstring=(Ve,$e)=>{if($e<65534&&Ve.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,Ve.length===$e?Ve:Ve.subarray(0,$e));let Be="";for(let Ue=0;Ue<$e;Ue++)Be+=String.fromCharCode(Ve[Ue]);return Be};var buf2string=(Ve,$e)=>{const Be=$e||Ve.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(Ve.subarray(0,$e));let Ue,ze;const qe=new Array(Be*2);for(ze=0,Ue=0;Ue<Be;){let He=Ve[Ue++];if(He<128){qe[ze++]=He;continue}let We=_utf8len[He];if(We>4){qe[ze++]=65533,Ue+=We-1;continue}for(He&=We===2?31:We===3?15:7;We>1&&Ue<Be;)He=He<<6|Ve[Ue++]&63,We--;if(We>1){qe[ze++]=65533;continue}He<65536?qe[ze++]=He:(He-=65536,qe[ze++]=55296|He>>10&1023,qe[ze++]=56320|He&1023)}return buf2binstring(qe,ze)},utf8border=(Ve,$e)=>{$e=$e||Ve.length,$e>Ve.length&&($e=Ve.length);let Be=$e-1;for(;Be>=0&&(Ve[Be]&192)===128;)Be--;return Be<0||Be===0?$e:Be+_utf8len[Ve[Be]]>$e?Be:$e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const BAD$1=16209,TYPE$1=16191;var inffast=function Ve($e,Be){let Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er,Ze,rr,nr,ar,sr,lr,or,cr,hr,yr,mr,vr,_r,Cr;const br=$e.state;Ue=$e.next_in,_r=$e.input,ze=Ue+($e.avail_in-5),qe=$e.next_out,Cr=$e.output,He=qe-(Be-$e.avail_out),We=qe+($e.avail_out-257),Ge=br.dmax,Ye=br.wsize,Xe=br.whave,Je=br.wnext,er=br.window,Ze=br.hold,rr=br.bits,nr=br.lencode,ar=br.distcode,sr=(1<<br.lenbits)-1,lr=(1<<br.distbits)-1;e:do{rr<15&&(Ze+=_r[Ue++]<<rr,rr+=8,Ze+=_r[Ue++]<<rr,rr+=8),or=nr[Ze&sr];t:for(;;){if(cr=or>>>24,Ze>>>=cr,rr-=cr,cr=or>>>16&255,cr===0)Cr[qe++]=or&65535;else if(cr&16){hr=or&65535,cr&=15,cr&&(rr<cr&&(Ze+=_r[Ue++]<<rr,rr+=8),hr+=Ze&(1<<cr)-1,Ze>>>=cr,rr-=cr),rr<15&&(Ze+=_r[Ue++]<<rr,rr+=8,Ze+=_r[Ue++]<<rr,rr+=8),or=ar[Ze&lr];r:for(;;){if(cr=or>>>24,Ze>>>=cr,rr-=cr,cr=or>>>16&255,cr&16){if(yr=or&65535,cr&=15,rr<cr&&(Ze+=_r[Ue++]<<rr,rr+=8,rr<cr&&(Ze+=_r[Ue++]<<rr,rr+=8)),yr+=Ze&(1<<cr)-1,yr>Ge){$e.msg="invalid distance too far back",br.mode=BAD$1;break e}if(Ze>>>=cr,rr-=cr,cr=qe-He,yr>cr){if(cr=yr-cr,cr>Xe&&br.sane){$e.msg="invalid distance too far back",br.mode=BAD$1;break e}if(mr=0,vr=er,Je===0){if(mr+=Ye-cr,cr<hr){hr-=cr;do Cr[qe++]=er[mr++];while(--cr);mr=qe-yr,vr=Cr}}else if(Je<cr){if(mr+=Ye+Je-cr,cr-=Je,cr<hr){hr-=cr;do Cr[qe++]=er[mr++];while(--cr);if(mr=0,Je<hr){cr=Je,hr-=cr;do Cr[qe++]=er[mr++];while(--cr);mr=qe-yr,vr=Cr}}}else if(mr+=Je-cr,cr<hr){hr-=cr;do Cr[qe++]=er[mr++];while(--cr);mr=qe-yr,vr=Cr}for(;hr>2;)Cr[qe++]=vr[mr++],Cr[qe++]=vr[mr++],Cr[qe++]=vr[mr++],hr-=3;hr&&(Cr[qe++]=vr[mr++],hr>1&&(Cr[qe++]=vr[mr++]))}else{mr=qe-yr;do Cr[qe++]=Cr[mr++],Cr[qe++]=Cr[mr++],Cr[qe++]=Cr[mr++],hr-=3;while(hr>2);hr&&(Cr[qe++]=Cr[mr++],hr>1&&(Cr[qe++]=Cr[mr++]))}}else if((cr&64)===0){or=ar[(or&65535)+(Ze&(1<<cr)-1)];continue r}else{$e.msg="invalid distance code",br.mode=BAD$1;break e}break}}else if((cr&64)===0){or=nr[(or&65535)+(Ze&(1<<cr)-1)];continue t}else if(cr&32){br.mode=TYPE$1;break e}else{$e.msg="invalid literal/length code",br.mode=BAD$1;break e}break}}while(Ue<ze&&qe<We);hr=rr>>3,Ue-=hr,rr-=hr<<3,Ze&=(1<<rr)-1,$e.next_in=Ue,$e.next_out=qe,$e.avail_in=Ue<ze?5+(ze-Ue):5-(Ue-ze),$e.avail_out=qe<We?257+(We-qe):257-(qe-We),br.hold=Ze,br.bits=rr};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(Ve,$e,Be,Ue,ze,qe,He,We)=>{const Ge=We.bits;let Ye=0,Xe=0,Je=0,er=0,Ze=0,rr=0,nr=0,ar=0,sr=0,lr=0,or,cr,hr,yr,mr,vr=null,_r;const Cr=new Uint16Array(MAXBITS+1),br=new Uint16Array(MAXBITS+1);let fr=null,Sr,Dr,Or;for(Ye=0;Ye<=MAXBITS;Ye++)Cr[Ye]=0;for(Xe=0;Xe<Ue;Xe++)Cr[$e[Be+Xe]]++;for(Ze=Ge,er=MAXBITS;er>=1&&Cr[er]===0;er--);if(Ze>er&&(Ze=er),er===0)return ze[qe++]=1<<24|64<<16|0,ze[qe++]=1<<24|64<<16|0,We.bits=1,0;for(Je=1;Je<er&&Cr[Je]===0;Je++);for(Ze<Je&&(Ze=Je),ar=1,Ye=1;Ye<=MAXBITS;Ye++)if(ar<<=1,ar-=Cr[Ye],ar<0)return-1;if(ar>0&&(Ve===CODES$1||er!==1))return-1;for(br[1]=0,Ye=1;Ye<MAXBITS;Ye++)br[Ye+1]=br[Ye]+Cr[Ye];for(Xe=0;Xe<Ue;Xe++)$e[Be+Xe]!==0&&(He[br[$e[Be+Xe]]++]=Xe);if(Ve===CODES$1?(vr=fr=He,_r=20):Ve===LENS$1?(vr=lbase,fr=lext,_r=257):(vr=dbase,fr=dext,_r=0),lr=0,Xe=0,Ye=Je,mr=qe,rr=Ze,nr=0,hr=-1,sr=1<<Ze,yr=sr-1,Ve===LENS$1&&sr>ENOUGH_LENS$1||Ve===DISTS$1&&sr>ENOUGH_DISTS$1)return 1;for(;;){Sr=Ye-nr,He[Xe]+1<_r?(Dr=0,Or=He[Xe]):He[Xe]>=_r?(Dr=fr[He[Xe]-_r],Or=vr[He[Xe]-_r]):(Dr=96,Or=0),or=1<<Ye-nr,cr=1<<rr,Je=cr;do cr-=or,ze[mr+(lr>>nr)+cr]=Sr<<24|Dr<<16|Or|0;while(cr!==0);for(or=1<<Ye-1;lr&or;)or>>=1;if(or!==0?(lr&=or-1,lr+=or):lr=0,Xe++,--Cr[Ye]===0){if(Ye===er)break;Ye=$e[Be+He[Xe]]}if(Ye>Ze&&(lr&yr)!==hr){for(nr===0&&(nr=Ze),mr+=Je,rr=Ye-nr,ar=1<<rr;rr+nr<er&&(ar-=Cr[rr+nr],!(ar<=0));)rr++,ar<<=1;if(sr+=1<<rr,Ve===LENS$1&&sr>ENOUGH_LENS$1||Ve===DISTS$1&&sr>ENOUGH_DISTS$1)return 1;hr=lr&yr,ze[hr]=Ze<<24|rr<<16|mr-qe|0}}return lr!==0&&(ze[mr+lr]=Ye-nr<<24|64<<16|0),We.bits=Ze,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=Ve=>(Ve>>>24&255)+(Ve>>>8&65280)+((Ve&65280)<<8)+((Ve&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=Ve=>{if(!Ve)return 1;const $e=Ve.state;return!$e||$e.strm!==Ve||$e.mode<HEAD||$e.mode>SYNC?1:0},inflateResetKeep=Ve=>{if(inflateStateCheck(Ve))return Z_STREAM_ERROR$1;const $e=Ve.state;return Ve.total_in=Ve.total_out=$e.total=0,Ve.msg="",$e.wrap&&(Ve.adler=$e.wrap&1),$e.mode=HEAD,$e.last=0,$e.havedict=0,$e.flags=-1,$e.dmax=32768,$e.head=null,$e.hold=0,$e.bits=0,$e.lencode=$e.lendyn=new Int32Array(ENOUGH_LENS),$e.distcode=$e.distdyn=new Int32Array(ENOUGH_DISTS),$e.sane=1,$e.back=-1,Z_OK$1},inflateReset=Ve=>{if(inflateStateCheck(Ve))return Z_STREAM_ERROR$1;const $e=Ve.state;return $e.wsize=0,$e.whave=0,$e.wnext=0,inflateResetKeep(Ve)},inflateReset2=(Ve,$e)=>{let Be;if(inflateStateCheck(Ve))return Z_STREAM_ERROR$1;const Ue=Ve.state;return $e<0?(Be=0,$e=-$e):(Be=($e>>4)+5,$e<48&&($e&=15)),$e&&($e<8||$e>15)?Z_STREAM_ERROR$1:(Ue.window!==null&&Ue.wbits!==$e&&(Ue.window=null),Ue.wrap=Be,Ue.wbits=$e,inflateReset(Ve))},inflateInit2=(Ve,$e)=>{if(!Ve)return Z_STREAM_ERROR$1;const Be=new InflateState;Ve.state=Be,Be.strm=Ve,Be.window=null,Be.mode=HEAD;const Ue=inflateReset2(Ve,$e);return Ue!==Z_OK$1&&(Ve.state=null),Ue},inflateInit=Ve=>inflateInit2(Ve,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=Ve=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let $e=0;for(;$e<144;)Ve.lens[$e++]=8;for(;$e<256;)Ve.lens[$e++]=9;for(;$e<280;)Ve.lens[$e++]=7;for(;$e<288;)Ve.lens[$e++]=8;for(inftrees(LENS,Ve.lens,0,288,lenfix,0,Ve.work,{bits:9}),$e=0;$e<32;)Ve.lens[$e++]=5;inftrees(DISTS,Ve.lens,0,32,distfix,0,Ve.work,{bits:5}),virgin=!1}Ve.lencode=lenfix,Ve.lenbits=9,Ve.distcode=distfix,Ve.distbits=5},updatewindow=(Ve,$e,Be,Ue)=>{let ze;const qe=Ve.state;return qe.window===null&&(qe.wsize=1<<qe.wbits,qe.wnext=0,qe.whave=0,qe.window=new Uint8Array(qe.wsize)),Ue>=qe.wsize?(qe.window.set($e.subarray(Be-qe.wsize,Be),0),qe.wnext=0,qe.whave=qe.wsize):(ze=qe.wsize-qe.wnext,ze>Ue&&(ze=Ue),qe.window.set($e.subarray(Be-Ue,Be-Ue+ze),qe.wnext),Ue-=ze,Ue?(qe.window.set($e.subarray(Be-Ue,Be),0),qe.wnext=Ue,qe.whave=qe.wsize):(qe.wnext+=ze,qe.wnext===qe.wsize&&(qe.wnext=0),qe.whave<qe.wsize&&(qe.whave+=ze))),0},inflate$2=(Ve,$e)=>{let Be,Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er,Ze,rr,nr,ar=0,sr,lr,or,cr,hr,yr,mr,vr;const _r=new Uint8Array(4);let Cr,br;const fr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(Ve)||!Ve.output||!Ve.input&&Ve.avail_in!==0)return Z_STREAM_ERROR$1;Be=Ve.state,Be.mode===TYPE&&(Be.mode=TYPEDO),He=Ve.next_out,ze=Ve.output,Ge=Ve.avail_out,qe=Ve.next_in,Ue=Ve.input,We=Ve.avail_in,Ye=Be.hold,Xe=Be.bits,Je=We,er=Ge,vr=Z_OK$1;e:for(;;)switch(Be.mode){case HEAD:if(Be.wrap===0){Be.mode=TYPEDO;break}for(;Xe<16;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}if(Be.wrap&2&&Ye===35615){Be.wbits===0&&(Be.wbits=15),Be.check=0,_r[0]=Ye&255,_r[1]=Ye>>>8&255,Be.check=crc32_1(Be.check,_r,2,0),Ye=0,Xe=0,Be.mode=FLAGS;break}if(Be.head&&(Be.head.done=!1),!(Be.wrap&1)||(((Ye&255)<<8)+(Ye>>8))%31){Ve.msg="incorrect header check",Be.mode=BAD;break}if((Ye&15)!==Z_DEFLATED){Ve.msg="unknown compression method",Be.mode=BAD;break}if(Ye>>>=4,Xe-=4,mr=(Ye&15)+8,Be.wbits===0&&(Be.wbits=mr),mr>15||mr>Be.wbits){Ve.msg="invalid window size",Be.mode=BAD;break}Be.dmax=1<<Be.wbits,Be.flags=0,Ve.adler=Be.check=1,Be.mode=Ye&512?DICTID:TYPE,Ye=0,Xe=0;break;case FLAGS:for(;Xe<16;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}if(Be.flags=Ye,(Be.flags&255)!==Z_DEFLATED){Ve.msg="unknown compression method",Be.mode=BAD;break}if(Be.flags&57344){Ve.msg="unknown header flags set",Be.mode=BAD;break}Be.head&&(Be.head.text=Ye>>8&1),Be.flags&512&&Be.wrap&4&&(_r[0]=Ye&255,_r[1]=Ye>>>8&255,Be.check=crc32_1(Be.check,_r,2,0)),Ye=0,Xe=0,Be.mode=TIME;case TIME:for(;Xe<32;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Be.head&&(Be.head.time=Ye),Be.flags&512&&Be.wrap&4&&(_r[0]=Ye&255,_r[1]=Ye>>>8&255,_r[2]=Ye>>>16&255,_r[3]=Ye>>>24&255,Be.check=crc32_1(Be.check,_r,4,0)),Ye=0,Xe=0,Be.mode=OS;case OS:for(;Xe<16;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Be.head&&(Be.head.xflags=Ye&255,Be.head.os=Ye>>8),Be.flags&512&&Be.wrap&4&&(_r[0]=Ye&255,_r[1]=Ye>>>8&255,Be.check=crc32_1(Be.check,_r,2,0)),Ye=0,Xe=0,Be.mode=EXLEN;case EXLEN:if(Be.flags&1024){for(;Xe<16;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Be.length=Ye,Be.head&&(Be.head.extra_len=Ye),Be.flags&512&&Be.wrap&4&&(_r[0]=Ye&255,_r[1]=Ye>>>8&255,Be.check=crc32_1(Be.check,_r,2,0)),Ye=0,Xe=0}else Be.head&&(Be.head.extra=null);Be.mode=EXTRA;case EXTRA:if(Be.flags&1024&&(Ze=Be.length,Ze>We&&(Ze=We),Ze&&(Be.head&&(mr=Be.head.extra_len-Be.length,Be.head.extra||(Be.head.extra=new Uint8Array(Be.head.extra_len)),Be.head.extra.set(Ue.subarray(qe,qe+Ze),mr)),Be.flags&512&&Be.wrap&4&&(Be.check=crc32_1(Be.check,Ue,Ze,qe)),We-=Ze,qe+=Ze,Be.length-=Ze),Be.length))break e;Be.length=0,Be.mode=NAME;case NAME:if(Be.flags&2048){if(We===0)break e;Ze=0;do mr=Ue[qe+Ze++],Be.head&&mr&&Be.length<65536&&(Be.head.name+=String.fromCharCode(mr));while(mr&&Ze<We);if(Be.flags&512&&Be.wrap&4&&(Be.check=crc32_1(Be.check,Ue,Ze,qe)),We-=Ze,qe+=Ze,mr)break e}else Be.head&&(Be.head.name=null);Be.length=0,Be.mode=COMMENT;case COMMENT:if(Be.flags&4096){if(We===0)break e;Ze=0;do mr=Ue[qe+Ze++],Be.head&&mr&&Be.length<65536&&(Be.head.comment+=String.fromCharCode(mr));while(mr&&Ze<We);if(Be.flags&512&&Be.wrap&4&&(Be.check=crc32_1(Be.check,Ue,Ze,qe)),We-=Ze,qe+=Ze,mr)break e}else Be.head&&(Be.head.comment=null);Be.mode=HCRC;case HCRC:if(Be.flags&512){for(;Xe<16;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}if(Be.wrap&4&&Ye!==(Be.check&65535)){Ve.msg="header crc mismatch",Be.mode=BAD;break}Ye=0,Xe=0}Be.head&&(Be.head.hcrc=Be.flags>>9&1,Be.head.done=!0),Ve.adler=Be.check=0,Be.mode=TYPE;break;case DICTID:for(;Xe<32;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Ve.adler=Be.check=zswap32(Ye),Ye=0,Xe=0,Be.mode=DICT;case DICT:if(Be.havedict===0)return Ve.next_out=He,Ve.avail_out=Ge,Ve.next_in=qe,Ve.avail_in=We,Be.hold=Ye,Be.bits=Xe,Z_NEED_DICT$1;Ve.adler=Be.check=1,Be.mode=TYPE;case TYPE:if($e===Z_BLOCK||$e===Z_TREES)break e;case TYPEDO:if(Be.last){Ye>>>=Xe&7,Xe-=Xe&7,Be.mode=CHECK;break}for(;Xe<3;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}switch(Be.last=Ye&1,Ye>>>=1,Xe-=1,Ye&3){case 0:Be.mode=STORED;break;case 1:if(fixedtables(Be),Be.mode=LEN_,$e===Z_TREES){Ye>>>=2,Xe-=2;break e}break;case 2:Be.mode=TABLE;break;case 3:Ve.msg="invalid block type",Be.mode=BAD}Ye>>>=2,Xe-=2;break;case STORED:for(Ye>>>=Xe&7,Xe-=Xe&7;Xe<32;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}if((Ye&65535)!==(Ye>>>16^65535)){Ve.msg="invalid stored block lengths",Be.mode=BAD;break}if(Be.length=Ye&65535,Ye=0,Xe=0,Be.mode=COPY_,$e===Z_TREES)break e;case COPY_:Be.mode=COPY;case COPY:if(Ze=Be.length,Ze){if(Ze>We&&(Ze=We),Ze>Ge&&(Ze=Ge),Ze===0)break e;ze.set(Ue.subarray(qe,qe+Ze),He),We-=Ze,qe+=Ze,Ge-=Ze,He+=Ze,Be.length-=Ze;break}Be.mode=TYPE;break;case TABLE:for(;Xe<14;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}if(Be.nlen=(Ye&31)+257,Ye>>>=5,Xe-=5,Be.ndist=(Ye&31)+1,Ye>>>=5,Xe-=5,Be.ncode=(Ye&15)+4,Ye>>>=4,Xe-=4,Be.nlen>286||Be.ndist>30){Ve.msg="too many length or distance symbols",Be.mode=BAD;break}Be.have=0,Be.mode=LENLENS;case LENLENS:for(;Be.have<Be.ncode;){for(;Xe<3;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Be.lens[fr[Be.have++]]=Ye&7,Ye>>>=3,Xe-=3}for(;Be.have<19;)Be.lens[fr[Be.have++]]=0;if(Be.lencode=Be.lendyn,Be.lenbits=7,Cr={bits:Be.lenbits},vr=inftrees(CODES,Be.lens,0,19,Be.lencode,0,Be.work,Cr),Be.lenbits=Cr.bits,vr){Ve.msg="invalid code lengths set",Be.mode=BAD;break}Be.have=0,Be.mode=CODELENS;case CODELENS:for(;Be.have<Be.nlen+Be.ndist;){for(;ar=Be.lencode[Ye&(1<<Be.lenbits)-1],sr=ar>>>24,lr=ar>>>16&255,or=ar&65535,!(sr<=Xe);){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}if(or<16)Ye>>>=sr,Xe-=sr,Be.lens[Be.have++]=or;else{if(or===16){for(br=sr+2;Xe<br;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}if(Ye>>>=sr,Xe-=sr,Be.have===0){Ve.msg="invalid bit length repeat",Be.mode=BAD;break}mr=Be.lens[Be.have-1],Ze=3+(Ye&3),Ye>>>=2,Xe-=2}else if(or===17){for(br=sr+3;Xe<br;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Ye>>>=sr,Xe-=sr,mr=0,Ze=3+(Ye&7),Ye>>>=3,Xe-=3}else{for(br=sr+7;Xe<br;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Ye>>>=sr,Xe-=sr,mr=0,Ze=11+(Ye&127),Ye>>>=7,Xe-=7}if(Be.have+Ze>Be.nlen+Be.ndist){Ve.msg="invalid bit length repeat",Be.mode=BAD;break}for(;Ze--;)Be.lens[Be.have++]=mr}}if(Be.mode===BAD)break;if(Be.lens[256]===0){Ve.msg="invalid code -- missing end-of-block",Be.mode=BAD;break}if(Be.lenbits=9,Cr={bits:Be.lenbits},vr=inftrees(LENS,Be.lens,0,Be.nlen,Be.lencode,0,Be.work,Cr),Be.lenbits=Cr.bits,vr){Ve.msg="invalid literal/lengths set",Be.mode=BAD;break}if(Be.distbits=6,Be.distcode=Be.distdyn,Cr={bits:Be.distbits},vr=inftrees(DISTS,Be.lens,Be.nlen,Be.ndist,Be.distcode,0,Be.work,Cr),Be.distbits=Cr.bits,vr){Ve.msg="invalid distances set",Be.mode=BAD;break}if(Be.mode=LEN_,$e===Z_TREES)break e;case LEN_:Be.mode=LEN;case LEN:if(We>=6&&Ge>=258){Ve.next_out=He,Ve.avail_out=Ge,Ve.next_in=qe,Ve.avail_in=We,Be.hold=Ye,Be.bits=Xe,inffast(Ve,er),He=Ve.next_out,ze=Ve.output,Ge=Ve.avail_out,qe=Ve.next_in,Ue=Ve.input,We=Ve.avail_in,Ye=Be.hold,Xe=Be.bits,Be.mode===TYPE&&(Be.back=-1);break}for(Be.back=0;ar=Be.lencode[Ye&(1<<Be.lenbits)-1],sr=ar>>>24,lr=ar>>>16&255,or=ar&65535,!(sr<=Xe);){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}if(lr&&(lr&240)===0){for(cr=sr,hr=lr,yr=or;ar=Be.lencode[yr+((Ye&(1<<cr+hr)-1)>>cr)],sr=ar>>>24,lr=ar>>>16&255,or=ar&65535,!(cr+sr<=Xe);){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Ye>>>=cr,Xe-=cr,Be.back+=cr}if(Ye>>>=sr,Xe-=sr,Be.back+=sr,Be.length=or,lr===0){Be.mode=LIT;break}if(lr&32){Be.back=-1,Be.mode=TYPE;break}if(lr&64){Ve.msg="invalid literal/length code",Be.mode=BAD;break}Be.extra=lr&15,Be.mode=LENEXT;case LENEXT:if(Be.extra){for(br=Be.extra;Xe<br;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Be.length+=Ye&(1<<Be.extra)-1,Ye>>>=Be.extra,Xe-=Be.extra,Be.back+=Be.extra}Be.was=Be.length,Be.mode=DIST;case DIST:for(;ar=Be.distcode[Ye&(1<<Be.distbits)-1],sr=ar>>>24,lr=ar>>>16&255,or=ar&65535,!(sr<=Xe);){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}if((lr&240)===0){for(cr=sr,hr=lr,yr=or;ar=Be.distcode[yr+((Ye&(1<<cr+hr)-1)>>cr)],sr=ar>>>24,lr=ar>>>16&255,or=ar&65535,!(cr+sr<=Xe);){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Ye>>>=cr,Xe-=cr,Be.back+=cr}if(Ye>>>=sr,Xe-=sr,Be.back+=sr,lr&64){Ve.msg="invalid distance code",Be.mode=BAD;break}Be.offset=or,Be.extra=lr&15,Be.mode=DISTEXT;case DISTEXT:if(Be.extra){for(br=Be.extra;Xe<br;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}Be.offset+=Ye&(1<<Be.extra)-1,Ye>>>=Be.extra,Xe-=Be.extra,Be.back+=Be.extra}if(Be.offset>Be.dmax){Ve.msg="invalid distance too far back",Be.mode=BAD;break}Be.mode=MATCH;case MATCH:if(Ge===0)break e;if(Ze=er-Ge,Be.offset>Ze){if(Ze=Be.offset-Ze,Ze>Be.whave&&Be.sane){Ve.msg="invalid distance too far back",Be.mode=BAD;break}Ze>Be.wnext?(Ze-=Be.wnext,rr=Be.wsize-Ze):rr=Be.wnext-Ze,Ze>Be.length&&(Ze=Be.length),nr=Be.window}else nr=ze,rr=He-Be.offset,Ze=Be.length;Ze>Ge&&(Ze=Ge),Ge-=Ze,Be.length-=Ze;do ze[He++]=nr[rr++];while(--Ze);Be.length===0&&(Be.mode=LEN);break;case LIT:if(Ge===0)break e;ze[He++]=Be.length,Ge--,Be.mode=LEN;break;case CHECK:if(Be.wrap){for(;Xe<32;){if(We===0)break e;We--,Ye|=Ue[qe++]<<Xe,Xe+=8}if(er-=Ge,Ve.total_out+=er,Be.total+=er,Be.wrap&4&&er&&(Ve.adler=Be.check=Be.flags?crc32_1(Be.check,ze,er,He-er):adler32_1(Be.check,ze,er,He-er)),er=Ge,Be.wrap&4&&(Be.flags?Ye:zswap32(Ye))!==Be.check){Ve.msg="incorrect data check",Be.mode=BAD;break}Ye=0,Xe=0}Be.mode=LENGTH;case LENGTH:if(Be.wrap&&Be.flags){for(;Xe<32;){if(We===0)break e;We--,Ye+=Ue[qe++]<<Xe,Xe+=8}if(Be.wrap&4&&Ye!==(Be.total&4294967295)){Ve.msg="incorrect length check",Be.mode=BAD;break}Ye=0,Xe=0}Be.mode=DONE;case DONE:vr=Z_STREAM_END$1;break e;case BAD:vr=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return Ve.next_out=He,Ve.avail_out=Ge,Ve.next_in=qe,Ve.avail_in=We,Be.hold=Ye,Be.bits=Xe,(Be.wsize||er!==Ve.avail_out&&Be.mode<BAD&&(Be.mode<CHECK||$e!==Z_FINISH$1))&&updatewindow(Ve,Ve.output,Ve.next_out,er-Ve.avail_out),Je-=Ve.avail_in,er-=Ve.avail_out,Ve.total_in+=Je,Ve.total_out+=er,Be.total+=er,Be.wrap&4&&er&&(Ve.adler=Be.check=Be.flags?crc32_1(Be.check,ze,er,Ve.next_out-er):adler32_1(Be.check,ze,er,Ve.next_out-er)),Ve.data_type=Be.bits+(Be.last?64:0)+(Be.mode===TYPE?128:0)+(Be.mode===LEN_||Be.mode===COPY_?256:0),(Je===0&&er===0||$e===Z_FINISH$1)&&vr===Z_OK$1&&(vr=Z_BUF_ERROR),vr},inflateEnd=Ve=>{if(inflateStateCheck(Ve))return Z_STREAM_ERROR$1;let $e=Ve.state;return $e.window&&($e.window=null),Ve.state=null,Z_OK$1},inflateGetHeader=(Ve,$e)=>{if(inflateStateCheck(Ve))return Z_STREAM_ERROR$1;const Be=Ve.state;return(Be.wrap&2)===0?Z_STREAM_ERROR$1:(Be.head=$e,$e.done=!1,Z_OK$1)},inflateSetDictionary=(Ve,$e)=>{const Be=$e.length;let Ue,ze,qe;return inflateStateCheck(Ve)||(Ue=Ve.state,Ue.wrap!==0&&Ue.mode!==DICT)?Z_STREAM_ERROR$1:Ue.mode===DICT&&(ze=1,ze=adler32_1(ze,$e,Be,0),ze!==Ue.check)?Z_DATA_ERROR$1:(qe=updatewindow(Ve,$e,Be,Be),qe?(Ue.mode=MEM,Z_MEM_ERROR$1):(Ue.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(Ve){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},Ve||{});const $e=this.options;$e.raw&&$e.windowBits>=0&&$e.windowBits<16&&($e.windowBits=-$e.windowBits,$e.windowBits===0&&($e.windowBits=-15)),$e.windowBits>=0&&$e.windowBits<16&&!(Ve&&Ve.windowBits)&&($e.windowBits+=32),$e.windowBits>15&&$e.windowBits<48&&($e.windowBits&15)===0&&($e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let Be=inflate_1$2.inflateInit2(this.strm,$e.windowBits);if(Be!==Z_OK)throw new Error(messages[Be]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),$e.dictionary&&(typeof $e.dictionary=="string"?$e.dictionary=strings.string2buf($e.dictionary):toString.call($e.dictionary)==="[object ArrayBuffer]"&&($e.dictionary=new Uint8Array($e.dictionary)),$e.raw&&(Be=inflate_1$2.inflateSetDictionary(this.strm,$e.dictionary),Be!==Z_OK)))throw new Error(messages[Be])}Inflate$1.prototype.push=function(Ve,$e){const Be=this.strm,Ue=this.options.chunkSize,ze=this.options.dictionary;let qe,He,We;if(this.ended)return!1;for($e===~~$e?He=$e:He=$e===!0?Z_FINISH:Z_NO_FLUSH,toString.call(Ve)==="[object ArrayBuffer]"?Be.input=new Uint8Array(Ve):Be.input=Ve,Be.next_in=0,Be.avail_in=Be.input.length;;){for(Be.avail_out===0&&(Be.output=new Uint8Array(Ue),Be.next_out=0,Be.avail_out=Ue),qe=inflate_1$2.inflate(Be,He),qe===Z_NEED_DICT&&ze&&(qe=inflate_1$2.inflateSetDictionary(Be,ze),qe===Z_OK?qe=inflate_1$2.inflate(Be,He):qe===Z_DATA_ERROR&&(qe=Z_NEED_DICT));Be.avail_in>0&&qe===Z_STREAM_END&&Be.state.wrap>0&&Ve[Be.next_in]!==0;)inflate_1$2.inflateReset(Be),qe=inflate_1$2.inflate(Be,He);switch(qe){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(qe),this.ended=!0,!1}if(We=Be.avail_out,Be.next_out&&(Be.avail_out===0||qe===Z_STREAM_END))if(this.options.to==="string"){let Ge=strings.utf8border(Be.output,Be.next_out),Ye=Be.next_out-Ge,Xe=strings.buf2string(Be.output,Ge);Be.next_out=Ye,Be.avail_out=Ue-Ye,Ye&&Be.output.set(Be.output.subarray(Ge,Ge+Ye),0),this.onData(Xe)}else this.onData(Be.output.length===Be.next_out?Be.output:Be.output.subarray(0,Be.next_out));if(!(qe===Z_OK&&We===0)){if(qe===Z_STREAM_END)return qe=inflate_1$2.inflateEnd(this.strm),this.onEnd(qe),this.ended=!0,!0;if(Be.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(Ve){this.chunks.push(Ve)};Inflate$1.prototype.onEnd=function(Ve){Ve===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=Ve,this.msg=this.strm.msg};function inflate$1(Ve,$e){const Be=new Inflate$1($e);if(Be.push(Ve),Be.err)throw Be.msg||messages[Be.err];return Be.result}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2};const{Inflate,inflate}=inflate_1$1;var Inflate_1=Inflate,inflate_1=inflate;const crcTable=[];for(let Ve=0;Ve<256;Ve++){let $e=Ve;for(let Be=0;Be<8;Be++)$e&1?$e=3988292384^$e>>>1:$e=$e>>>1;crcTable[Ve]=$e}const initialCrc=4294967295;function updateCrc(Ve,$e,Be){let Ue=Ve;for(let ze=0;ze<Be;ze++)Ue=crcTable[(Ue^$e[ze])&255]^Ue>>>8;return Ue}function crc(Ve,$e){return(updateCrc(initialCrc,Ve,$e)^initialCrc)>>>0}function checkCrc(Ve,$e,Be){const Ue=Ve.readUint32(),ze=crc(new Uint8Array(Ve.buffer,Ve.byteOffset+Ve.offset-$e-4,$e),$e);if(ze!==Ue)throw new Error(`CRC mismatch for chunk ${Be}. Expected ${Ue}, found ${ze}`)}function unfilterNone(Ve,$e,Be){for(let Ue=0;Ue<Be;Ue++)$e[Ue]=Ve[Ue]}function unfilterSub(Ve,$e,Be,Ue){let ze=0;for(;ze<Ue;ze++)$e[ze]=Ve[ze];for(;ze<Be;ze++)$e[ze]=Ve[ze]+$e[ze-Ue]&255}function unfilterUp(Ve,$e,Be,Ue){let ze=0;if(Be.length===0)for(;ze<Ue;ze++)$e[ze]=Ve[ze];else for(;ze<Ue;ze++)$e[ze]=Ve[ze]+Be[ze]&255}function unfilterAverage(Ve,$e,Be,Ue,ze){let qe=0;if(Be.length===0){for(;qe<ze;qe++)$e[qe]=Ve[qe];for(;qe<Ue;qe++)$e[qe]=Ve[qe]+($e[qe-ze]>>1)&255}else{for(;qe<ze;qe++)$e[qe]=Ve[qe]+(Be[qe]>>1)&255;for(;qe<Ue;qe++)$e[qe]=Ve[qe]+($e[qe-ze]+Be[qe]>>1)&255}}function unfilterPaeth(Ve,$e,Be,Ue,ze){let qe=0;if(Be.length===0){for(;qe<ze;qe++)$e[qe]=Ve[qe];for(;qe<Ue;qe++)$e[qe]=Ve[qe]+$e[qe-ze]&255}else{for(;qe<ze;qe++)$e[qe]=Ve[qe]+Be[qe]&255;for(;qe<Ue;qe++)$e[qe]=Ve[qe]+paethPredictor($e[qe-ze],Be[qe],Be[qe-ze])&255}}function paethPredictor(Ve,$e,Be){const Ue=Ve+$e-Be,ze=Math.abs(Ue-Ve),qe=Math.abs(Ue-$e),He=Math.abs(Ue-Be);return ze<=qe&&ze<=He?Ve:qe<=He?$e:Be}function applyUnfilter(Ve,$e,Be,Ue,ze,qe){switch(Ve){case 0:unfilterNone($e,Be,ze);break;case 1:unfilterSub($e,Be,ze,qe);break;case 2:unfilterUp($e,Be,Ue,ze);break;case 3:unfilterAverage($e,Be,Ue,ze,qe);break;case 4:unfilterPaeth($e,Be,Ue,ze,qe);break;default:throw new Error(`Unsupported filter: ${Ve}`)}}const uint16$1=new Uint16Array([255]),uint8$1=new Uint8Array(uint16$1.buffer),osIsLittleEndian$1=uint8$1[0]===255;function decodeInterlaceAdam7(Ve){const{data:$e,width:Be,height:Ue,channels:ze,depth:qe}=Ve,He=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],We=Math.ceil(qe/8)*ze,Ge=new Uint8Array(Ue*Be*We);let Ye=0;for(let Xe=0;Xe<7;Xe++){const Je=He[Xe],er=Math.ceil((Be-Je.x)/Je.xStep),Ze=Math.ceil((Ue-Je.y)/Je.yStep);if(er<=0||Ze<=0)continue;const rr=er*We,nr=new Uint8Array(rr);for(let ar=0;ar<Ze;ar++){const sr=$e[Ye++],lr=$e.subarray(Ye,Ye+rr);Ye+=rr;const or=new Uint8Array(rr);applyUnfilter(sr,lr,or,nr,rr,We),nr.set(or);for(let cr=0;cr<er;cr++){const hr=Je.x+cr*Je.xStep,yr=Je.y+ar*Je.yStep;if(!(hr>=Be||yr>=Ue))for(let mr=0;mr<We;mr++)Ge[(yr*Be+hr)*We+mr]=or[cr*We+mr]}}}if(qe===16){const Xe=new Uint16Array(Ge.buffer);if(osIsLittleEndian$1)for(let Je=0;Je<Xe.length;Je++)Xe[Je]=swap16$1(Xe[Je]);return Xe}else return Ge}function swap16$1(Ve){return(Ve&255)<<8|Ve>>8&255}const uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255,empty=new Uint8Array(0);function decodeInterlaceNull(Ve){const{data:$e,width:Be,height:Ue,channels:ze,depth:qe}=Ve,He=Math.ceil(qe/8)*ze,We=Math.ceil(qe/8*ze*Be),Ge=new Uint8Array(Ue*We);let Ye=empty,Xe=0,Je,er;for(let Ze=0;Ze<Ue;Ze++){switch(Je=$e.subarray(Xe+1,Xe+1+We),er=Ge.subarray(Ze*We,(Ze+1)*We),$e[Xe]){case 0:unfilterNone(Je,er,We);break;case 1:unfilterSub(Je,er,We,He);break;case 2:unfilterUp(Je,er,Ye,We);break;case 3:unfilterAverage(Je,er,Ye,We,He);break;case 4:unfilterPaeth(Je,er,Ye,We,He);break;default:throw new Error(`Unsupported filter: ${$e[Xe]}`)}Ye=er,Xe+=We+1}if(qe===16){const Ze=new Uint16Array(Ge.buffer);if(osIsLittleEndian)for(let rr=0;rr<Ze.length;rr++)Ze[rr]=swap16(Ze[rr]);return Ze}else return Ge}function swap16(Ve){return(Ve&255)<<8|Ve>>8&255}const pngSignature=Uint8Array.of(137,80,78,71,13,10,26,10);function checkSignature(Ve){if(!hasPngSignature(Ve.readBytes(pngSignature.length)))throw new Error("wrong PNG signature")}function hasPngSignature(Ve){if(Ve.length<pngSignature.length)return!1;for(let $e=0;$e<pngSignature.length;$e++)if(Ve[$e]!==pngSignature[$e])return!1;return!0}const textChunkName="tEXt",NULL=0,latin1Decoder=new TextDecoder("latin1");function validateKeyword(Ve){if(validateLatin1(Ve),Ve.length===0||Ve.length>79)throw new Error("keyword length must be between 1 and 79")}const latin1Regex=/^[\u0000-\u00FF]*$/;function validateLatin1(Ve){if(!latin1Regex.test(Ve))throw new Error("invalid latin1 text")}function decodetEXt(Ve,$e,Be){const Ue=readKeyword($e);Ve[Ue]=readLatin1($e,Be-Ue.length-1)}function readKeyword(Ve){for(Ve.mark();Ve.readByte()!==NULL;);const $e=Ve.offset;Ve.reset();const Be=latin1Decoder.decode(Ve.readBytes($e-Ve.offset-1));return Ve.skip(1),validateKeyword(Be),Be}function readLatin1(Ve,$e){return latin1Decoder.decode(Ve.readBytes($e))}const ColorType={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},CompressionMethod={UNKNOWN:-1,DEFLATE:0},FilterMethod={UNKNOWN:-1,ADAPTIVE:0},InterlaceMethod={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},DisposeOpType={NONE:0,BACKGROUND:1,PREVIOUS:2},BlendOpType={SOURCE:0,OVER:1};class PngDecoder extends IOBuffer{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor($e,Be={}){super($e);const{checkCrc:Ue=!1}=Be;this._checkCrc=Ue,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(checkSignature(this);!this._end;){const $e=this.readUint32(),Be=this.readChars(4);this.decodeChunk($e,Be)}return this.decodeImage(),this._png}decodeApng(){for(checkSignature(this);!this._end;){const $e=this.readUint32(),Be=this.readChars(4);this.decodeApngChunk($e,Be)}return this.decodeApngImage(),this._apng}decodeChunk($e,Be){const Ue=this.offset;switch(Be){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE($e);break;case"IDAT":this.decodeIDAT($e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS($e);break;case"iCCP":this.decodeiCCP($e);break;case textChunkName:decodetEXt(this._png.text,this,$e);break;case"pHYs":this.decodepHYs();break;default:this.skip($e);break}if(this.offset-Ue!==$e)throw new Error(`Length mismatch while decoding chunk ${Be}`);this._checkCrc?checkCrc(this,$e+4,Be):this.skip(4)}decodeApngChunk($e,Be){const Ue=this.offset;switch(Be!=="fdAT"&&Be!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),Be){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT($e);break;default:this.decodeChunk($e,Be),this.offset=Ue+$e;break}if(this.offset-Ue!==$e)throw new Error(`Length mismatch while decoding chunk ${Be}`);this._checkCrc?checkCrc(this,$e+4,Be):this.skip(4)}decodeIHDR(){const $e=this._png;$e.width=this.readUint32(),$e.height=this.readUint32(),$e.depth=checkBitDepth(this.readUint8());const Be=this.readUint8();this._colorType=Be;let Ue;switch(Be){case ColorType.GREYSCALE:Ue=1;break;case ColorType.TRUECOLOUR:Ue=3;break;case ColorType.INDEXED_COLOUR:Ue=1;break;case ColorType.GREYSCALE_ALPHA:Ue=2;break;case ColorType.TRUECOLOUR_ALPHA:Ue=4;break;case ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${Be}`)}if(this._png.channels=Ue,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const $e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push($e)}decodePLTE($e){if($e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${$e}`);const Be=$e/3;this._hasPalette=!0;const Ue=[];this._palette=Ue;for(let ze=0;ze<Be;ze++)Ue.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT($e){this._writingDataChunks=!0;const Be=$e,Ue=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,Ue,Be)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip($e)}decodeFDAT($e){this._writingDataChunks=!0;let Be=$e,Ue=this.offset+this.byteOffset;if(Ue+=4,Be-=4,this._inflator.push(new Uint8Array(this.buffer,Ue,Be)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip($e)}decodetRNS($e){switch(this._colorType){case ColorType.GREYSCALE:case ColorType.TRUECOLOUR:{if($e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${$e}`);if($e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${$e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array($e/2);for(let Be=0;Be<$e/2;Be++)this._transparency[Be]=this.readUint16();break}case ColorType.INDEXED_COLOUR:{if($e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${$e} vs ${this._palette.length})`);let Be=0;for(;Be<$e;Be++){const Ue=this.readByte();this._palette[Be].push(Ue)}for(;Be<this._palette.length;Be++)this._palette[Be].push(255);break}case ColorType.UNKNOWN:case ColorType.GREYSCALE_ALPHA:case ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP($e){const Be=readKeyword(this),Ue=this.readUint8();if(Ue!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${Ue}`);const ze=this.readBytes($e-Be.length-2);this._png.iccEmbeddedProfile={name:Be,profile:inflate_1(ze)}}decodepHYs(){const $e=this.readUint32(),Be=this.readUint32(),Ue=this.readByte();this._png.resolution={x:$e,y:Be,unit:Ue}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let $e=0;$e<this._numberOfFrames;$e++){const Be={sequenceNumber:this._frames[$e].sequenceNumber,delayNumber:this._frames[$e].delayNumber,delayDenominator:this._frames[$e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},Ue=this._frames.at($e);if(Ue){if(Ue.data=decodeInterlaceNull({data:Ue.data,width:Ue.width,height:Ue.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),$e===0||Ue.xOffset===0&&Ue.yOffset===0&&Ue.width===this._png.width&&Ue.height===this._png.height)Be.data=Ue.data;else{const ze=this._apng.frames.at($e-1);this.disposeFrame(Ue,ze,Be),this.addFrameDataToCanvas(Be,Ue)}this._apng.frames.push(Be)}}return this._apng}disposeFrame($e,Be,Ue){switch($e.disposeOp){case DisposeOpType.NONE:break;case DisposeOpType.BACKGROUND:for(let ze=0;ze<this._png.height;ze++)for(let qe=0;qe<this._png.width;qe++){const He=(ze*$e.width+qe)*this._png.channels;for(let We=0;We<this._png.channels;We++)Ue.data[He+We]=0}break;case DisposeOpType.PREVIOUS:Ue.data.set(Be.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas($e,Be){const Ue=1<<this._png.depth,ze=(qe,He)=>{const We=((qe+Be.yOffset)*this._png.width+Be.xOffset+He)*this._png.channels,Ge=(qe*Be.width+He)*this._png.channels;return{index:We,frameIndex:Ge}};switch(Be.blendOp){case BlendOpType.SOURCE:for(let qe=0;qe<Be.height;qe++)for(let He=0;He<Be.width;He++){const{index:We,frameIndex:Ge}=ze(qe,He);for(let Ye=0;Ye<this._png.channels;Ye++)$e.data[We+Ye]=Be.data[Ge+Ye]}break;case BlendOpType.OVER:for(let qe=0;qe<Be.height;qe++)for(let He=0;He<Be.width;He++){const{index:We,frameIndex:Ge}=ze(qe,He);for(let Ye=0;Ye<this._png.channels;Ye++){const Xe=Be.data[Ge+this._png.channels-1]/Ue,Je=Ye%(this._png.channels-1)===0?1:Be.data[Ge+Ye],er=Math.floor(Xe*Je+(1-Xe)*$e.data[We+Ye]);$e.data[We+Ye]+=er}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const $e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this._png.data=decodeInterlaceNull({data:$e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===InterlaceMethod.ADAM7)this._png.data=decodeInterlaceAdam7({data:$e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const $e=this._inflator.result,Be=this._frames.at(-1);Be?Be.data=$e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:DisposeOpType.NONE,blendOp:BlendOpType.SOURCE,data:$e}),this._inflator=new Inflate_1,this._writingDataChunks=!1}}function checkBitDepth(Ve){if(Ve!==1&&Ve!==2&&Ve!==4&&Ve!==8&&Ve!==16)throw new Error(`invalid bit depth: ${Ve}`);return Ve}var ResolutionUnitSpecifier;(function(Ve){Ve[Ve.UNKNOWN=0]="UNKNOWN",Ve[Ve.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng(Ve,$e){return new PngDecoder(Ve,$e).decode()}var i=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function a(){i.console&&typeof i.console.log=="function"&&i.console.log.apply(i.console,arguments)}var o={log:a,warn:function(Ve){i.console&&(typeof i.console.warn=="function"?i.console.warn.apply(i.console,arguments):a.call(null,arguments))},error:function(Ve){i.console&&(typeof i.console.error=="function"?i.console.error.apply(i.console,arguments):a(Ve))}};function s(Ve,$e,Be){var Ue=new XMLHttpRequest;Ue.open("GET",Ve),Ue.responseType="blob",Ue.onload=function(){l(Ue.response,$e,Be)},Ue.onerror=function(){o.error("could not download file")},Ue.send()}function u(Ve){var $e=new XMLHttpRequest;$e.open("HEAD",Ve,!1);try{$e.send()}catch{}return $e.status>=200&&$e.status<=299}function c(Ve){try{Ve.dispatchEvent(new MouseEvent("click"))}catch{var $e=document.createEvent("MouseEvents");$e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ve.dispatchEvent($e)}}var l=i.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==i?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Ve,$e,Be){var Ue=i.URL||i.webkitURL,ze=document.createElement("a");$e=$e||Ve.name||"download",ze.download=$e,ze.rel="noopener",typeof Ve=="string"?(ze.href=Ve,ze.origin!==location.origin?u(ze.href)?s(Ve,$e,Be):c(ze,ze.target="_blank"):c(ze)):(ze.href=Ue.createObjectURL(Ve),setTimeout(function(){Ue.revokeObjectURL(ze.href)},4e4),setTimeout(function(){c(ze)},0))}:"msSaveOrOpenBlob"in navigator?function(Ve,$e,Be){if($e=$e||Ve.name||"download",typeof Ve=="string")if(u(Ve))s(Ve,$e,Be);else{var Ue=document.createElement("a");Ue.href=Ve,Ue.target="_blank",setTimeout(function(){c(Ue)})}else navigator.msSaveOrOpenBlob((function(ze,qe){return qe===void 0?qe={autoBom:!1}:_typeof(qe)!=="object"&&(o.warn("Deprecated: Expected third argument to be a object"),qe={autoBom:!qe}),qe.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ze.type)?new Blob(["\uFEFF",ze],{type:ze.type}):ze})(Ve,Be),$e)}:function(Ve,$e,Be,Ue){if((Ue=Ue||open("","_blank"))&&(Ue.document.title=Ue.document.body.innerText="downloading..."),typeof Ve=="string")return s(Ve,$e,Be);var ze=Ve.type==="application/octet-stream",qe=/constructor/i.test(i.HTMLElement)||i.safari,He=/CriOS\/[\d]+/.test(navigator.userAgent);if((He||ze&&qe)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var We=new FileReader;We.onloadend=function(){var Xe=We.result;Xe=He?Xe:Xe.replace(/^data:[^;]*;/,"data:attachment/file;"),Ue?Ue.location.href=Xe:location=Xe,Ue=null},We.readAsDataURL(Ve)}else{var Ge=i.URL||i.webkitURL,Ye=Ge.createObjectURL(Ve);Ue?Ue.location=Ye:location.href=Ye,Ue=null,setTimeout(function(){Ge.revokeObjectURL(Ye)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function h(Ve){var $e;Ve=Ve||"",this.ok=!1,Ve.charAt(0)=="#"&&(Ve=Ve.substr(1,6)),Ve={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Ve=(Ve=Ve.replace(/ /g,"")).toLowerCase()]||Ve;for(var Be=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(We){return[parseInt(We[1]),parseInt(We[2]),parseInt(We[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(We){return[parseInt(We[1],16),parseInt(We[2],16),parseInt(We[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(We){return[parseInt(We[1]+We[1],16),parseInt(We[2]+We[2],16),parseInt(We[3]+We[3],16)]}}],Ue=0;Ue<Be.length;Ue++){var ze=Be[Ue].re,qe=Be[Ue].process,He=ze.exec(Ve);He&&($e=qe(He),this.r=$e[0],this.g=$e[1],this.b=$e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var We=this.r.toString(16),Ge=this.g.toString(16),Ye=this.b.toString(16);return We.length==1&&(We="0"+We),Ge.length==1&&(Ge="0"+Ge),Ye.length==1&&(Ye="0"+Ye),"#"+We+Ge+Ye}}var f=i.atob.bind(i),d=i.btoa.bind(i);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function p(Ve,$e){var Be=Ve[0],Ue=Ve[1],ze=Ve[2],qe=Ve[3];Be=m(Be,Ue,ze,qe,$e[0],7,-680876936),qe=m(qe,Be,Ue,ze,$e[1],12,-389564586),ze=m(ze,qe,Be,Ue,$e[2],17,606105819),Ue=m(Ue,ze,qe,Be,$e[3],22,-1044525330),Be=m(Be,Ue,ze,qe,$e[4],7,-176418897),qe=m(qe,Be,Ue,ze,$e[5],12,1200080426),ze=m(ze,qe,Be,Ue,$e[6],17,-1473231341),Ue=m(Ue,ze,qe,Be,$e[7],22,-45705983),Be=m(Be,Ue,ze,qe,$e[8],7,1770035416),qe=m(qe,Be,Ue,ze,$e[9],12,-1958414417),ze=m(ze,qe,Be,Ue,$e[10],17,-42063),Ue=m(Ue,ze,qe,Be,$e[11],22,-1990404162),Be=m(Be,Ue,ze,qe,$e[12],7,1804603682),qe=m(qe,Be,Ue,ze,$e[13],12,-40341101),ze=m(ze,qe,Be,Ue,$e[14],17,-1502002290),Be=v(Be,Ue=m(Ue,ze,qe,Be,$e[15],22,1236535329),ze,qe,$e[1],5,-165796510),qe=v(qe,Be,Ue,ze,$e[6],9,-1069501632),ze=v(ze,qe,Be,Ue,$e[11],14,643717713),Ue=v(Ue,ze,qe,Be,$e[0],20,-373897302),Be=v(Be,Ue,ze,qe,$e[5],5,-701558691),qe=v(qe,Be,Ue,ze,$e[10],9,38016083),ze=v(ze,qe,Be,Ue,$e[15],14,-660478335),Ue=v(Ue,ze,qe,Be,$e[4],20,-405537848),Be=v(Be,Ue,ze,qe,$e[9],5,568446438),qe=v(qe,Be,Ue,ze,$e[14],9,-1019803690),ze=v(ze,qe,Be,Ue,$e[3],14,-187363961),Ue=v(Ue,ze,qe,Be,$e[8],20,1163531501),Be=v(Be,Ue,ze,qe,$e[13],5,-1444681467),qe=v(qe,Be,Ue,ze,$e[2],9,-51403784),ze=v(ze,qe,Be,Ue,$e[7],14,1735328473),Be=b(Be,Ue=v(Ue,ze,qe,Be,$e[12],20,-1926607734),ze,qe,$e[5],4,-378558),qe=b(qe,Be,Ue,ze,$e[8],11,-2022574463),ze=b(ze,qe,Be,Ue,$e[11],16,1839030562),Ue=b(Ue,ze,qe,Be,$e[14],23,-35309556),Be=b(Be,Ue,ze,qe,$e[1],4,-1530992060),qe=b(qe,Be,Ue,ze,$e[4],11,1272893353),ze=b(ze,qe,Be,Ue,$e[7],16,-155497632),Ue=b(Ue,ze,qe,Be,$e[10],23,-1094730640),Be=b(Be,Ue,ze,qe,$e[13],4,681279174),qe=b(qe,Be,Ue,ze,$e[0],11,-358537222),ze=b(ze,qe,Be,Ue,$e[3],16,-722521979),Ue=b(Ue,ze,qe,Be,$e[6],23,76029189),Be=b(Be,Ue,ze,qe,$e[9],4,-640364487),qe=b(qe,Be,Ue,ze,$e[12],11,-421815835),ze=b(ze,qe,Be,Ue,$e[15],16,530742520),Be=y(Be,Ue=b(Ue,ze,qe,Be,$e[2],23,-995338651),ze,qe,$e[0],6,-198630844),qe=y(qe,Be,Ue,ze,$e[7],10,1126891415),ze=y(ze,qe,Be,Ue,$e[14],15,-1416354905),Ue=y(Ue,ze,qe,Be,$e[5],21,-57434055),Be=y(Be,Ue,ze,qe,$e[12],6,1700485571),qe=y(qe,Be,Ue,ze,$e[3],10,-1894986606),ze=y(ze,qe,Be,Ue,$e[10],15,-1051523),Ue=y(Ue,ze,qe,Be,$e[1],21,-2054922799),Be=y(Be,Ue,ze,qe,$e[8],6,1873313359),qe=y(qe,Be,Ue,ze,$e[15],10,-30611744),ze=y(ze,qe,Be,Ue,$e[6],15,-1560198380),Ue=y(Ue,ze,qe,Be,$e[13],21,1309151649),Be=y(Be,Ue,ze,qe,$e[4],6,-145523070),qe=y(qe,Be,Ue,ze,$e[11],10,-1120210379),ze=y(ze,qe,Be,Ue,$e[2],15,718787259),Ue=y(Ue,ze,qe,Be,$e[9],21,-343485551),Ve[0]=P(Be,Ve[0]),Ve[1]=P(Ue,Ve[1]),Ve[2]=P(ze,Ve[2]),Ve[3]=P(qe,Ve[3])}function g(Ve,$e,Be,Ue,ze,qe){return $e=P(P($e,Ve),P(Ue,qe)),P($e<<ze|$e>>>32-ze,Be)}function m(Ve,$e,Be,Ue,ze,qe,He){return g($e&Be|~$e&Ue,Ve,$e,ze,qe,He)}function v(Ve,$e,Be,Ue,ze,qe,He){return g($e&Ue|Be&~Ue,Ve,$e,ze,qe,He)}function b(Ve,$e,Be,Ue,ze,qe,He){return g($e^Be^Ue,Ve,$e,ze,qe,He)}function y(Ve,$e,Be,Ue,ze,qe,He){return g(Be^($e|~Ue),Ve,$e,ze,qe,He)}function w(Ve){var $e,Be=Ve.length,Ue=[1732584193,-271733879,-1732584194,271733878];for($e=64;$e<=Ve.length;$e+=64)p(Ue,N(Ve.substring($e-64,$e)));Ve=Ve.substring($e-64);var ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for($e=0;$e<Ve.length;$e++)ze[$e>>2]|=Ve.charCodeAt($e)<<($e%4<<3);if(ze[$e>>2]|=128<<($e%4<<3),$e>55)for(p(Ue,ze),$e=0;$e<16;$e++)ze[$e]=0;return ze[14]=8*Be,p(Ue,ze),Ue}function N(Ve){var $e,Be=[];for($e=0;$e<64;$e+=4)Be[$e>>2]=Ve.charCodeAt($e)+(Ve.charCodeAt($e+1)<<8)+(Ve.charCodeAt($e+2)<<16)+(Ve.charCodeAt($e+3)<<24);return Be}var L="0123456789abcdef".split("");function x(Ve){for(var $e="",Be=0;Be<4;Be++)$e+=L[Ve>>8*Be+4&15]+L[Ve>>8*Be&15];return $e}function A(Ve){return String.fromCharCode(255&Ve,(65280&Ve)>>8,(16711680&Ve)>>16,(4278190080&Ve)>>24)}function S(Ve){return w(Ve).map(A).join("")}var _=(function(Ve){for(var $e=0;$e<Ve.length;$e++)Ve[$e]=x(Ve[$e]);return Ve.join("")})(w("hello"))!="5d41402abc4b2a76b9719d911017c592";function P(Ve,$e){if(_){var Be=(65535&Ve)+(65535&$e);return(Ve>>16)+($e>>16)+(Be>>16)<<16|65535&Be}return Ve+$e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k(Ve,$e){var Be,Ue,ze,qe;if(Ve!==Be){for(var He=(ze=Ve,qe=1+(256/Ve.length|0),new Array(qe+1).join(ze)),We=[],Ge=0;Ge<256;Ge++)We[Ge]=Ge;var Ye=0;for(Ge=0;Ge<256;Ge++){var Xe=We[Ge];Ye=(Ye+Xe+He.charCodeAt(Ge))%256,We[Ge]=We[Ye],We[Ye]=Xe}Be=Ve,Ue=We}else We=Ue;var Je=$e.length,er=0,Ze=0,rr="";for(Ge=0;Ge<Je;Ge++)Ze=(Ze+(Xe=We[er=(er+1)%256]))%256,We[er]=We[Ze],We[Ze]=Xe,He=We[(We[er]+We[Ze])%256],rr+=String.fromCharCode($e.charCodeAt(Ge)^He);return rr}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F={print:4,modify:8,copy:16,"annot-forms":32};function I(Ve,$e,Be,Ue){this.v=1,this.r=2;var ze=192;Ve.forEach(function(We){if(F.perm!==void 0)throw new Error("Invalid permission: "+We);ze+=F[We]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var qe=($e+this.padding).substr(0,32),He=(Be+this.padding).substr(0,32);this.O=this.processOwnerPassword(qe,He),this.P=-(1+(255^ze)),this.encryptionKey=S(qe+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Ue)).substr(0,5),this.U=k(this.encryptionKey,this.padding)}function j(Ve){if(/[^\u0000-\u00ff]/.test(Ve))throw new Error("Invalid PDF Name Object: "+Ve+", Only accept ASCII characters.");for(var $e="",Be=Ve.length,Ue=0;Ue<Be;Ue++){var ze=Ve.charCodeAt(Ue);$e+=ze<33||ze===35||ze===37||ze===40||ze===41||ze===47||ze===60||ze===62||ze===91||ze===93||ze===123||ze===125||ze>126?"#"+("0"+ze.toString(16)).slice(-2):Ve[Ue]}return $e}function C(Ve){if(_typeof(Ve)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var $e={};this.subscribe=function(Be,Ue,ze){if(ze=ze||!1,typeof Be!="string"||typeof Ue!="function"||typeof ze!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");$e.hasOwnProperty(Be)||($e[Be]={});var qe=Math.random().toString(35);return $e[Be][qe]=[Ue,!!ze],qe},this.unsubscribe=function(Be){for(var Ue in $e)if($e[Ue][Be])return delete $e[Ue][Be],Object.keys($e[Ue]).length===0&&delete $e[Ue],!0;return!1},this.publish=function(Be){if($e.hasOwnProperty(Be)){var Ue=Array.prototype.slice.call(arguments,1),ze=[];for(var qe in $e[Be]){var He=$e[Be][qe];try{He[0].apply(Ve,Ue)}catch(We){i.console&&o.error("jsPDF PubSub Error",We.message,We)}He[1]&&ze.push(qe)}ze.length&&ze.forEach(this.unsubscribe)}},this.getTopics=function(){return $e}}function O(Ve){if(!(this instanceof O))return new O(Ve);var $e="opacity,stroke-opacity".split(",");for(var Be in Ve)Ve.hasOwnProperty(Be)&&$e.indexOf(Be)>=0&&(this[Be]=Ve[Be]);this.id="",this.objectNumber=-1}function B(Ve,$e){this.gState=Ve,this.matrix=$e,this.id="",this.objectNumber=-1}function M(Ve,$e,Be,Ue,ze){if(!(this instanceof M))return new M(Ve,$e,Be,Ue,ze);this.type=Ve==="axial"?2:3,this.coords=$e,this.colors=Be,B.call(this,Ue,ze)}function q(Ve,$e,Be,Ue,ze){if(!(this instanceof q))return new q(Ve,$e,Be,Ue,ze);this.boundingBox=Ve,this.xStep=$e,this.yStep=Be,this.stream="",this.cloneIndex=0,B.call(this,Ue,ze)}function E(Ve){var $e,Be=typeof arguments[0]=="string"?arguments[0]:"p",Ue=arguments[1],ze=arguments[2],qe=arguments[3],He=[],We=1,Ge=16,Ye="S",Xe=null;_typeof(Ve=Ve||{})==="object"&&(Be=Ve.orientation,Ue=Ve.unit||Ue,ze=Ve.format||ze,qe=Ve.compress||Ve.compressPdf||qe,(Xe=Ve.encryption||null)!==null&&(Xe.userPassword=Xe.userPassword||"",Xe.ownerPassword=Xe.ownerPassword||"",Xe.userPermissions=Xe.userPermissions||[]),We=typeof Ve.userUnit=="number"?Math.abs(Ve.userUnit):1,Ve.precision!==void 0&&($e=Ve.precision),Ve.floatPrecision!==void 0&&(Ge=Ve.floatPrecision),Ye=Ve.defaultPathOperation||"S"),He=Ve.filters||(qe===!0?["FlateEncode"]:He),Ue=Ue||"mm",Be=(""+(Be||"P")).toLowerCase();var Je=Ve.putOnlyUsedFonts||!1,er={},Ze={internal:{},__private__:{}};Ze.__private__.PubSub=C;var rr="1.3",nr=Ze.__private__.getPdfVersion=function(){return rr};Ze.__private__.setPdfVersion=function(Rr){rr=Rr};var ar={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Ze.__private__.getPageFormats=function(){return ar};var sr=Ze.__private__.getPageFormat=function(Rr){return ar[Rr]};ze=ze||"a4";var lr="compat",or="advanced",cr=lr;function hr(){this.saveGraphicsState(),Gr(new Ii(yi,0,0,-yi,0,Io()*yi).toString()+" cm"),this.setFontSize(this.getFontSize()/yi),Ye="n",cr=or}function yr(){this.restoreGraphicsState(),Ye="S",cr=lr}var mr=Ze.__private__.combineFontStyleAndFontWeight=function(Rr,Br){if(Rr=="bold"&&Br=="normal"||Rr=="bold"&&Br==400||Rr=="normal"&&Br=="italic"||Rr=="bold"&&Br=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Br&&(Rr=Br==400||Br==="normal"?Rr==="italic"?"italic":"normal":Br!=700&&Br!=="bold"||Rr!=="normal"?(Br==700?"bold":Br)+""+Rr:"bold"),Rr};Ze.advancedAPI=function(Rr){var Br=cr===lr;return Br&&hr.call(this),typeof Rr!="function"||(Rr(this),Br&&yr.call(this)),this},Ze.compatAPI=function(Rr){var Br=cr===or;return Br&&yr.call(this),typeof Rr!="function"||(Rr(this),Br&&hr.call(this)),this},Ze.isAdvancedAPI=function(){return cr===or};var vr,_r=function(Rr){if(cr!==or)throw new Error(Rr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Cr=Ze.roundToPrecision=Ze.__private__.roundToPrecision=function(Rr,Br){var fn=$e||Br;if(isNaN(Rr)||isNaN(fn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Rr.toFixed(fn).replace(/0+$/,"")};vr=Ze.hpf=Ze.__private__.hpf=typeof Ge=="number"?function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.hpf");return Cr(Rr,Ge)}:Ge==="smart"?function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.hpf");return Cr(Rr,Rr>-1&&Rr<1?16:5)}:function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.hpf");return Cr(Rr,16)};var br=Ze.f2=Ze.__private__.f2=function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.f2");return Cr(Rr,2)},fr=Ze.__private__.f3=function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.f3");return Cr(Rr,3)},Sr=Ze.scale=Ze.__private__.scale=function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.scale");return cr===lr?Rr*yi:cr===or?Rr:void 0},Dr=function(Rr){return Sr((function(Br){return cr===lr?Io()-Br:cr===or?Br:void 0})(Rr))};Ze.__private__.setPrecision=Ze.setPrecision=function(Rr){typeof parseInt(Rr,10)=="number"&&($e=parseInt(Rr,10))};var Or,Er="00000000000000000000000000000000",Nr=Ze.__private__.getFileId=function(){return Er},wr=Ze.__private__.setFileId=function(Rr){return Er=Rr!==void 0&&/^[a-fA-F0-9]{32}$/.test(Rr)?Rr.toUpperCase():Er.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Xe!==null&&(Ws=new I(Xe.userPermissions,Xe.userPassword,Xe.ownerPassword,Er)),Er};Ze.setFileId=function(Rr){return wr(Rr),this},Ze.getFileId=function(){return Nr()};var Ar=Ze.__private__.convertDateToPDFDate=function(Rr){var Br=Rr.getTimezoneOffset(),fn=Br<0?"+":"-",yn=Math.floor(Math.abs(Br/60)),Tn=Math.abs(Br%60),Gn=[fn,Ur(yn),"'",Ur(Tn),"'"].join("");return["D:",Rr.getFullYear(),Ur(Rr.getMonth()+1),Ur(Rr.getDate()),Ur(Rr.getHours()),Ur(Rr.getMinutes()),Ur(Rr.getSeconds()),Gn].join("")},Lr=Ze.__private__.convertPDFDateToDate=function(Rr){var Br=parseInt(Rr.substr(2,4),10),fn=parseInt(Rr.substr(6,2),10)-1,yn=parseInt(Rr.substr(8,2),10),Tn=parseInt(Rr.substr(10,2),10),Gn=parseInt(Rr.substr(12,2),10),ri=parseInt(Rr.substr(14,2),10);return new Date(Br,fn,yn,Tn,Gn,ri,0)},Pr=Ze.__private__.setCreationDate=function(Rr){var Br;if(Rr===void 0&&(Rr=new Date),Rr instanceof Date)Br=Ar(Rr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Rr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Br=Rr}return Or=Br},Tr=Ze.__private__.getCreationDate=function(Rr){var Br=Or;return Rr==="jsDate"&&(Br=Lr(Or)),Br};Ze.setCreationDate=function(Rr){return Pr(Rr),this},Ze.getCreationDate=function(Rr){return Tr(Rr)};var Vr,Ur=Ze.__private__.padd2=function(Rr){return("0"+parseInt(Rr)).slice(-2)},Yr=Ze.__private__.padd2Hex=function(Rr){return("00"+(Rr=Rr.toString())).substr(Rr.length)},Qr=0,mn=[],An=[],Zr=0,bn=[],jn=[],gn=!1,In=An;Ze.__private__.setCustomOutputDestination=function(Rr){gn=!0,In=Rr};var Sn=function(Rr){gn||(In=Rr)};Ze.__private__.resetCustomOutputDestination=function(){gn=!1,In=An};var Gr=Ze.__private__.out=function(Rr){return Rr=Rr.toString(),Zr+=Rr.length+1,In.push(Rr),In},Un=Ze.__private__.write=function(Rr){return Gr(arguments.length===1?Rr.toString():Array.prototype.join.call(arguments," "))},di=Ze.__private__.getArrayBuffer=function(Rr){for(var Br=Rr.length,fn=new ArrayBuffer(Br),yn=new Uint8Array(fn);Br--;)yn[Br]=Rr.charCodeAt(Br);return fn},ii=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Ze.__private__.getStandardFonts=function(){return ii};var Vn=Ve.fontSize||16;Ze.__private__.setFontSize=Ze.setFontSize=function(Rr){return Vn=cr===or?Rr/yi:Rr,this};var zn,Qn=Ze.__private__.getFontSize=Ze.getFontSize=function(){return cr===lr?Vn:Vn*yi},Yn=Ve.R2L||!1;Ze.__private__.setR2L=Ze.setR2L=function(Rr){return Yn=Rr,this},Ze.__private__.getR2L=Ze.getR2L=function(){return Yn};var vi,xn=Ze.__private__.setZoomMode=function(Rr){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Rr))zn=Rr;else if(isNaN(Rr)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Rr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Rr+'" is not recognized.');zn=Rr}else zn=parseInt(Rr,10)};Ze.__private__.getZoomMode=function(){return zn};var ei,ni=Ze.__private__.setPageMode=function(Rr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Rr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Rr+'" is not recognized.');vi=Rr};Ze.__private__.getPageMode=function(){return vi};var ui=Ze.__private__.setLayoutMode=function(Rr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Rr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Rr+'" is not recognized.');ei=Rr};Ze.__private__.getLayoutMode=function(){return ei},Ze.__private__.setDisplayMode=Ze.setDisplayMode=function(Rr,Br,fn){return xn(Rr),ui(Br),ni(fn),this};var oi={title:"",subject:"",author:"",keywords:"",creator:""};Ze.__private__.getDocumentProperty=function(Rr){if(Object.keys(oi).indexOf(Rr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return oi[Rr]},Ze.__private__.getDocumentProperties=function(){return oi},Ze.__private__.setDocumentProperties=Ze.setProperties=Ze.setDocumentProperties=function(Rr){for(var Br in oi)oi.hasOwnProperty(Br)&&Rr[Br]&&(oi[Br]=Rr[Br]);return this},Ze.__private__.setDocumentProperty=function(Rr,Br){if(Object.keys(oi).indexOf(Rr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return oi[Rr]=Br};var fi,yi,mi,as,Ui,Ci={},Di={},Wi=[],Ai={},ps={},Ni={},$i={},os=null,ji=0,Ti=[],Qi=new C(Ze),ga=Ve.hotfixes||[],ta={},ao={},ks=[],Ii=function Rr(Br,fn,yn,Tn,Gn,ri){if(!(this instanceof Rr))return new Rr(Br,fn,yn,Tn,Gn,ri);isNaN(Br)&&(Br=1),isNaN(fn)&&(fn=0),isNaN(yn)&&(yn=0),isNaN(Tn)&&(Tn=1),isNaN(Gn)&&(Gn=0),isNaN(ri)&&(ri=0),this._matrix=[Br,fn,yn,Tn,Gn,ri]};Object.defineProperty(Ii.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Rr){this._matrix[0]=Rr}}),Object.defineProperty(Ii.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Rr){this._matrix[1]=Rr}}),Object.defineProperty(Ii.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Rr){this._matrix[2]=Rr}}),Object.defineProperty(Ii.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Rr){this._matrix[3]=Rr}}),Object.defineProperty(Ii.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Rr){this._matrix[4]=Rr}}),Object.defineProperty(Ii.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Rr){this._matrix[5]=Rr}}),Object.defineProperty(Ii.prototype,"a",{get:function(){return this._matrix[0]},set:function(Rr){this._matrix[0]=Rr}}),Object.defineProperty(Ii.prototype,"b",{get:function(){return this._matrix[1]},set:function(Rr){this._matrix[1]=Rr}}),Object.defineProperty(Ii.prototype,"c",{get:function(){return this._matrix[2]},set:function(Rr){this._matrix[2]=Rr}}),Object.defineProperty(Ii.prototype,"d",{get:function(){return this._matrix[3]},set:function(Rr){this._matrix[3]=Rr}}),Object.defineProperty(Ii.prototype,"e",{get:function(){return this._matrix[4]},set:function(Rr){this._matrix[4]=Rr}}),Object.defineProperty(Ii.prototype,"f",{get:function(){return this._matrix[5]},set:function(Rr){this._matrix[5]=Rr}}),Object.defineProperty(Ii.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ii.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ii.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ii.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ii.prototype.join=function(Rr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(vr).join(Rr)},Ii.prototype.multiply=function(Rr){var Br=Rr.sx*this.sx+Rr.shy*this.shx,fn=Rr.sx*this.shy+Rr.shy*this.sy,yn=Rr.shx*this.sx+Rr.sy*this.shx,Tn=Rr.shx*this.shy+Rr.sy*this.sy,Gn=Rr.tx*this.sx+Rr.ty*this.shx+this.tx,ri=Rr.tx*this.shy+Rr.ty*this.sy+this.ty;return new Ii(Br,fn,yn,Tn,Gn,ri)},Ii.prototype.decompose=function(){var Rr=this.sx,Br=this.shy,fn=this.shx,yn=this.sy,Tn=this.tx,Gn=this.ty,ri=Math.sqrt(Rr*Rr+Br*Br),_i=(Rr/=ri)*fn+(Br/=ri)*yn;fn-=Rr*_i,yn-=Br*_i;var Si=Math.sqrt(fn*fn+yn*yn);return _i/=Si,Rr*(yn/=Si)<Br*(fn/=Si)&&(Rr=-Rr,Br=-Br,_i=-_i,ri=-ri),{scale:new Ii(ri,0,0,Si,0,0),translate:new Ii(1,0,0,1,Tn,Gn),rotate:new Ii(Rr,Br,-Br,Rr,0,0),skew:new Ii(1,0,_i,1,0,0)}},Ii.prototype.toString=function(Rr){return this.join(" ")},Ii.prototype.inversed=function(){var Rr=this.sx,Br=this.shy,fn=this.shx,yn=this.sy,Tn=this.tx,Gn=this.ty,ri=1/(Rr*yn-Br*fn),_i=yn*ri,Si=-Br*ri,Fi=-fn*ri,ki=Rr*ri;return new Ii(_i,Si,Fi,ki,-_i*Tn-Fi*Gn,-Si*Tn-ki*Gn)},Ii.prototype.applyToPoint=function(Rr){var Br=Rr.x*this.sx+Rr.y*this.shx+this.tx,fn=Rr.x*this.shy+Rr.y*this.sy+this.ty;return new Na(Br,fn)},Ii.prototype.applyToRectangle=function(Rr){var Br=this.applyToPoint(Rr),fn=this.applyToPoint(new Na(Rr.x+Rr.w,Rr.y+Rr.h));return new $o(Br.x,Br.y,fn.x-Br.x,fn.y-Br.y)},Ii.prototype.clone=function(){var Rr=this.sx,Br=this.shy,fn=this.shx,yn=this.sy,Tn=this.tx,Gn=this.ty;return new Ii(Rr,Br,fn,yn,Tn,Gn)},Ze.Matrix=Ii;var To=Ze.matrixMult=function(Rr,Br){return Br.multiply(Rr)},Ca=new Ii(1,0,0,1,0,0);Ze.unitMatrix=Ze.identityMatrix=Ca;var Zi=function(Rr,Br){if(!ps[Rr]){var fn=(Br instanceof M?"Sh":"P")+(Object.keys(Ai).length+1).toString(10);Br.id=fn,ps[Rr]=fn,Ai[fn]=Br,Qi.publish("addPattern",Br)}};Ze.ShadingPattern=M,Ze.TilingPattern=q,Ze.addShadingPattern=function(Rr,Br){return _r("addShadingPattern()"),Zi(Rr,Br),this},Ze.beginTilingPattern=function(Rr){_r("beginTilingPattern()"),Fo(Rr.boundingBox[0],Rr.boundingBox[1],Rr.boundingBox[2]-Rr.boundingBox[0],Rr.boundingBox[3]-Rr.boundingBox[1],Rr.matrix)},Ze.endTilingPattern=function(Rr,Br){_r("endTilingPattern()"),Br.stream=jn[Vr].join(`
`),Zi(Rr,Br),Qi.publish("endTilingPattern",Br),ks.pop().restore()};var Cn,hi=Ze.__private__.newObject=function(){var Rr=li();return si(Rr,!0),Rr},li=Ze.__private__.newObjectDeferred=function(){return Qr++,mn[Qr]=function(){return Zr},Qr},si=function(Rr,Br){return Br=typeof Br=="boolean"&&Br,mn[Rr]=Zr,Br&&Gr(Rr+" 0 obj"),Rr},zi=Ze.__private__.newAdditionalObject=function(){var Rr={objId:li(),content:""};return bn.push(Rr),Rr},Yi=li(),Mi=li(),Gi=Ze.__private__.decodeColorString=function(Rr){var Br=Rr.split(" ");if(Br.length!==2||Br[1]!=="g"&&Br[1]!=="G")Br.length!==5||Br[4]!=="k"&&Br[4]!=="K"||(Br=[(1-Br[0])*(1-Br[3]),(1-Br[1])*(1-Br[3]),(1-Br[2])*(1-Br[3]),"r"]);else{var fn=parseFloat(Br[0]);Br=[fn,fn,fn,"r"]}for(var yn="#",Tn=0;Tn<3;Tn++)yn+=("0"+Math.floor(255*parseFloat(Br[Tn])).toString(16)).slice(-2);return yn},ls=Ze.__private__.encodeColorString=function(Rr){var Br;typeof Rr=="string"&&(Rr={ch1:Rr});var fn=Rr.ch1,yn=Rr.ch2,Tn=Rr.ch3,Gn=Rr.ch4,ri=Rr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fn=="string"&&fn.charAt(0)!=="#"){var _i=new h(fn);if(_i.ok)fn=_i.toHex();else if(!/^\d*\.?\d*$/.test(fn))throw new Error('Invalid color "'+fn+'" passed to jsPDF.encodeColorString.')}if(typeof fn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fn)&&(fn="#"+fn[1]+fn[1]+fn[2]+fn[2]+fn[3]+fn[3]),typeof fn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fn)){var Si=parseInt(fn.substr(1),16);fn=Si>>16&255,yn=Si>>8&255,Tn=255&Si}if(yn===void 0||Gn===void 0&&fn===yn&&yn===Tn)Br=typeof fn=="string"?fn+" "+ri[0]:Rr.precision===2?br(fn/255)+" "+ri[0]:fr(fn/255)+" "+ri[0];else if(Gn===void 0||_typeof(Gn)==="object"){if(Gn&&!isNaN(Gn.a)&&Gn.a===0)return["1.","1.","1.",ri[1]].join(" ");Br=typeof fn=="string"?[fn,yn,Tn,ri[1]].join(" "):Rr.precision===2?[br(fn/255),br(yn/255),br(Tn/255),ri[1]].join(" "):[fr(fn/255),fr(yn/255),fr(Tn/255),ri[1]].join(" ")}else Br=typeof fn=="string"?[fn,yn,Tn,Gn,ri[2]].join(" "):Rr.precision===2?[br(fn),br(yn),br(Tn),br(Gn),ri[2]].join(" "):[fr(fn),fr(yn),fr(Tn),fr(Gn),ri[2]].join(" ");return Br},ra=Ze.__private__.getFilters=function(){return He},ca=Ze.__private__.putStream=function(Rr){var Br=(Rr=Rr||{}).data||"",fn=Rr.filters||ra(),yn=Rr.alreadyAppliedFilters||[],Tn=Rr.addLength1||!1,Gn=Br.length,ri=Rr.objectId,_i=function(Ir){return Ir};if(Xe!==null&&ri===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Xe!==null&&(_i=Ws.encryptor(ri,0));var Si={};fn===!0&&(fn=["FlateEncode"]);var Fi=Rr.additionalKeyValues||[],ki=(Si=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Br,fn):{data:Br,reverseChain:[]}).reverseChain+(Array.isArray(yn)?yn.join(" "):yn.toString());if(Si.data.length!==0&&(Fi.push({key:"Length",value:Si.data.length}),Tn===!0&&Fi.push({key:"Length1",value:Gn})),ki.length!=0)if(ki.split("/").length-1==1)Fi.push({key:"Filter",value:ki});else{Fi.push({key:"Filter",value:"["+ki+"]"});for(var cs=0;cs<Fi.length;cs+=1)if(Fi[cs].key==="DecodeParms"){for(var Fs=[],Ds=0;Ds<Si.reverseChain.split("/").length-1;Ds+=1)Fs.push("null");Fs.push(Fi[cs].value),Fi[cs].value="["+Fs.join(" ")+"]"}}Gr("<<");for(var dr=0;dr<Fi.length;dr++)Gr("/"+Fi[dr].key+" "+Fi[dr].value);Gr(">>"),Si.data.length!==0&&(Gr("stream"),Gr(_i(Si.data)),Gr("endstream"))},Ya=Ze.__private__.putPage=function(Rr){var Br=Rr.number,fn=Rr.data,yn=Rr.objId,Tn=Rr.contentsObjId;si(yn,!0),Gr("<</Type /Page"),Gr("/Parent "+Rr.rootDictionaryObjId+" 0 R"),Gr("/Resources "+Rr.resourceDictionaryObjId+" 0 R"),Gr("/MediaBox ["+parseFloat(vr(Rr.mediaBox.bottomLeftX))+" "+parseFloat(vr(Rr.mediaBox.bottomLeftY))+" "+vr(Rr.mediaBox.topRightX)+" "+vr(Rr.mediaBox.topRightY)+"]"),Rr.cropBox!==null&&Gr("/CropBox ["+vr(Rr.cropBox.bottomLeftX)+" "+vr(Rr.cropBox.bottomLeftY)+" "+vr(Rr.cropBox.topRightX)+" "+vr(Rr.cropBox.topRightY)+"]"),Rr.bleedBox!==null&&Gr("/BleedBox ["+vr(Rr.bleedBox.bottomLeftX)+" "+vr(Rr.bleedBox.bottomLeftY)+" "+vr(Rr.bleedBox.topRightX)+" "+vr(Rr.bleedBox.topRightY)+"]"),Rr.trimBox!==null&&Gr("/TrimBox ["+vr(Rr.trimBox.bottomLeftX)+" "+vr(Rr.trimBox.bottomLeftY)+" "+vr(Rr.trimBox.topRightX)+" "+vr(Rr.trimBox.topRightY)+"]"),Rr.artBox!==null&&Gr("/ArtBox ["+vr(Rr.artBox.bottomLeftX)+" "+vr(Rr.artBox.bottomLeftY)+" "+vr(Rr.artBox.topRightX)+" "+vr(Rr.artBox.topRightY)+"]"),typeof Rr.userUnit=="number"&&Rr.userUnit!==1&&Gr("/UserUnit "+Rr.userUnit),Qi.publish("putPage",{objId:yn,pageContext:Ti[Br],pageNumber:Br,page:fn}),Gr("/Contents "+Tn+" 0 R"),Gr(">>"),Gr("endobj");var Gn=fn.join(`
`);return cr===or&&(Gn+=`
Q`),si(Tn,!0),ca({data:Gn,filters:ra(),objectId:Tn}),Gr("endobj"),yn},Ra=Ze.__private__.putPages=function(){var Rr,Br,fn=[];for(Rr=1;Rr<=ji;Rr++)Ti[Rr].objId=li(),Ti[Rr].contentsObjId=li();for(Rr=1;Rr<=ji;Rr++)fn.push(Ya({number:Rr,data:jn[Rr],objId:Ti[Rr].objId,contentsObjId:Ti[Rr].contentsObjId,mediaBox:Ti[Rr].mediaBox,cropBox:Ti[Rr].cropBox,bleedBox:Ti[Rr].bleedBox,trimBox:Ti[Rr].trimBox,artBox:Ti[Rr].artBox,userUnit:Ti[Rr].userUnit,rootDictionaryObjId:Yi,resourceDictionaryObjId:Mi}));si(Yi,!0),Gr("<</Type /Pages");var yn="/Kids [";for(Br=0;Br<ji;Br++)yn+=fn[Br]+" 0 R ";Gr(yn+"]"),Gr("/Count "+ji),Gr(">>"),Gr("endobj"),Qi.publish("postPutPages")},Ps=function(Rr){Qi.publish("putFont",{font:Rr,out:Gr,newObject:hi,putStream:ca}),Rr.isAlreadyPutted!==!0&&(Rr.objectNumber=hi(),Gr("<<"),Gr("/Type /Font"),Gr("/BaseFont /"+j(Rr.postScriptName)),Gr("/Subtype /Type1"),typeof Rr.encoding=="string"&&Gr("/Encoding /"+Rr.encoding),Gr("/FirstChar 32"),Gr("/LastChar 255"),Gr(">>"),Gr("endobj"))},nl=function(Rr){Rr.objectNumber=hi();var Br=[];Br.push({key:"Type",value:"/XObject"}),Br.push({key:"Subtype",value:"/Form"}),Br.push({key:"BBox",value:"["+[vr(Rr.x),vr(Rr.y),vr(Rr.x+Rr.width),vr(Rr.y+Rr.height)].join(" ")+"]"}),Br.push({key:"Matrix",value:"["+Rr.matrix.toString()+"]"});var fn=Rr.pages[1].join(`
`);ca({data:fn,additionalKeyValues:Br,objectId:Rr.objectNumber}),Gr("endobj")},oo=function(Rr,Br){Br||(Br=21);var fn=hi(),yn=(function(ri,_i){var Si,Fi=[],ki=1/(_i-1);for(Si=0;Si<1;Si+=ki)Fi.push(Si);if(Fi.push(1),ri[0].offset!=0){var cs={offset:0,color:ri[0].color};ri.unshift(cs)}if(ri[ri.length-1].offset!=1){var Fs={offset:1,color:ri[ri.length-1].color};ri.push(Fs)}for(var Ds="",dr=0,Ir=0;Ir<Fi.length;Ir++){for(Si=Fi[Ir];Si>ri[dr+1].offset;)dr++;var Fr=ri[dr].offset,Xr=(Si-Fr)/(ri[dr+1].offset-Fr),kn=ri[dr].color,Fn=ri[dr+1].color;Ds+=Yr(Math.round((1-Xr)*kn[0]+Xr*Fn[0]).toString(16))+Yr(Math.round((1-Xr)*kn[1]+Xr*Fn[1]).toString(16))+Yr(Math.round((1-Xr)*kn[2]+Xr*Fn[2]).toString(16))}return Ds.trim()})(Rr.colors,Br),Tn=[];Tn.push({key:"FunctionType",value:"0"}),Tn.push({key:"Domain",value:"[0.0 1.0]"}),Tn.push({key:"Size",value:"["+Br+"]"}),Tn.push({key:"BitsPerSample",value:"8"}),Tn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ca({data:yn,additionalKeyValues:Tn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fn}),Gr("endobj"),Rr.objectNumber=hi(),Gr("<< /ShadingType "+Rr.type),Gr("/ColorSpace /DeviceRGB");var Gn="/Coords ["+vr(parseFloat(Rr.coords[0]))+" "+vr(parseFloat(Rr.coords[1]))+" ";Rr.type===2?Gn+=vr(parseFloat(Rr.coords[2]))+" "+vr(parseFloat(Rr.coords[3])):Gn+=vr(parseFloat(Rr.coords[2]))+" "+vr(parseFloat(Rr.coords[3]))+" "+vr(parseFloat(Rr.coords[4]))+" "+vr(parseFloat(Rr.coords[5])),Gr(Gn+="]"),Rr.matrix&&Gr("/Matrix ["+Rr.matrix.toString()+"]"),Gr("/Function "+fn+" 0 R"),Gr("/Extend [true true]"),Gr(">>"),Gr("endobj")},$a=function(Rr,Br){var fn=li(),yn=hi();Br.push({resourcesOid:fn,objectOid:yn}),Rr.objectNumber=yn;var Tn=[];Tn.push({key:"Type",value:"/Pattern"}),Tn.push({key:"PatternType",value:"1"}),Tn.push({key:"PaintType",value:"1"}),Tn.push({key:"TilingType",value:"1"}),Tn.push({key:"BBox",value:"["+Rr.boundingBox.map(vr).join(" ")+"]"}),Tn.push({key:"XStep",value:vr(Rr.xStep)}),Tn.push({key:"YStep",value:vr(Rr.yStep)}),Tn.push({key:"Resources",value:fn+" 0 R"}),Rr.matrix&&Tn.push({key:"Matrix",value:"["+Rr.matrix.toString()+"]"}),ca({data:Rr.stream,additionalKeyValues:Tn,objectId:Rr.objectNumber}),Gr("endobj")},lo=function(Rr){for(var Br in Rr.objectNumber=hi(),Gr("<<"),Rr)switch(Br){case"opacity":Gr("/ca "+br(Rr[Br]));break;case"stroke-opacity":Gr("/CA "+br(Rr[Br]))}Gr(">>"),Gr("endobj")},_o=function(Rr){si(Rr.resourcesOid,!0),Gr("<<"),Gr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Br in Gr("/Font <<"),Ci)Ci.hasOwnProperty(Br)&&(Je===!1||Je===!0&&er.hasOwnProperty(Br))&&Gr("/"+Br+" "+Ci[Br].objectNumber+" 0 R");Gr(">>")})(),(function(){if(Object.keys(Ai).length>0){for(var Br in Gr("/Shading <<"),Ai)Ai.hasOwnProperty(Br)&&Ai[Br]instanceof M&&Ai[Br].objectNumber>=0&&Gr("/"+Br+" "+Ai[Br].objectNumber+" 0 R");Qi.publish("putShadingPatternDict"),Gr(">>")}})(),(function(Br){if(Object.keys(Ai).length>0){for(var fn in Gr("/Pattern <<"),Ai)Ai.hasOwnProperty(fn)&&Ai[fn]instanceof Ze.TilingPattern&&Ai[fn].objectNumber>=0&&Ai[fn].objectNumber<Br&&Gr("/"+fn+" "+Ai[fn].objectNumber+" 0 R");Qi.publish("putTilingPatternDict"),Gr(">>")}})(Rr.objectOid),(function(){if(Object.keys(Ni).length>0){var Br;for(Br in Gr("/ExtGState <<"),Ni)Ni.hasOwnProperty(Br)&&Ni[Br].objectNumber>=0&&Gr("/"+Br+" "+Ni[Br].objectNumber+" 0 R");Qi.publish("putGStateDict"),Gr(">>")}})(),(function(){for(var Br in Gr("/XObject <<"),ta)ta.hasOwnProperty(Br)&&ta[Br].objectNumber>=0&&Gr("/"+Br+" "+ta[Br].objectNumber+" 0 R");Qi.publish("putXobjectDict"),Gr(">>")})(),Gr(">>"),Gr("endobj")},Xs=function(Rr){Di[Rr.fontName]=Di[Rr.fontName]||{},Di[Rr.fontName][Rr.fontStyle]=Rr.id},rc=function(Rr,Br,fn,yn,Tn){var Gn={id:"F"+(Object.keys(Ci).length+1).toString(10),postScriptName:Rr,fontName:Br,fontStyle:fn,encoding:yn,isStandardFont:Tn||!1,metadata:{}};return Qi.publish("addFont",{font:Gn,instance:this}),Ci[Gn.id]=Gn,Xs(Gn),Gn.id},Xa=Ze.__private__.pdfEscape=Ze.pdfEscape=function(Rr,Br){return(function(fn,yn){var Tn,Gn,ri,_i,Si,Fi,ki,cs,Fs;if(ri=(yn=yn||{}).sourceEncoding||"Unicode",Si=yn.outputEncoding,(yn.autoencode||Si)&&Ci[fi].metadata&&Ci[fi].metadata[ri]&&Ci[fi].metadata[ri].encoding&&(_i=Ci[fi].metadata[ri].encoding,!Si&&Ci[fi].encoding&&(Si=Ci[fi].encoding),!Si&&_i.codePages&&(Si=_i.codePages[0]),typeof Si=="string"&&(Si=_i[Si]),Si)){for(ki=!1,Fi=[],Tn=0,Gn=fn.length;Tn<Gn;Tn++)(cs=Si[fn.charCodeAt(Tn)])?Fi.push(String.fromCharCode(cs)):Fi.push(fn[Tn]),Fi[Tn].charCodeAt(0)>>8&&(ki=!0);fn=Fi.join("")}for(Tn=fn.length;ki===void 0&&Tn!==0;)fn.charCodeAt(Tn-1)>>8&&(ki=!0),Tn--;if(!ki)return fn;for(Fi=yn.noBOM?[]:[254,255],Tn=0,Gn=fn.length;Tn<Gn;Tn++){if((Fs=(cs=fn.charCodeAt(Tn))>>8)>>8)throw new Error("Character at position "+Tn+" of string '"+fn+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Fi.push(Fs),Fi.push(cs-(Fs<<8))}return String.fromCharCode.apply(void 0,Fi)})(Rr,Br).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eo=Ze.__private__.beginPage=function(Rr){jn[++ji]=[],Ti[ji]={objId:0,contentsObjId:0,userUnit:Number(We),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Rr[0]),topRightY:Number(Rr[1])}},nc(ji),Sn(jn[Vr])},jo=function(Rr,Br){var fn,yn,Tn;switch(Be=Br||Be,typeof Rr=="string"&&(fn=sr(Rr.toLowerCase()),Array.isArray(fn)&&(yn=fn[0],Tn=fn[1])),Array.isArray(Rr)&&(yn=Rr[0]*yi,Tn=Rr[1]*yi),isNaN(yn)&&(yn=ze[0],Tn=ze[1]),(yn>14400||Tn>14400)&&(o.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),yn=Math.min(14400,yn),Tn=Math.min(14400,Tn)),ze=[yn,Tn],Be.substr(0,1)){case"l":Tn>yn&&(ze=[Tn,yn]);break;case"p":yn>Tn&&(ze=[Tn,yn])}Eo(ze),Oi(Ja),Gr(uo),fo!==0&&Gr(fo+" J"),da!==0&&Gr(da+" j"),Qi.publish("addPage",{pageNumber:ji})},Ml=function(Rr){Rr>0&&Rr<=ji&&(jn.splice(Rr,1),Ti.splice(Rr,1),ji--,Vr>ji&&(Vr=ji),this.setPage(Vr))},nc=function(Rr){Rr>0&&Rr<=ji&&(Vr=Rr)},ic=Ze.__private__.getNumberOfPages=Ze.getNumberOfPages=function(){return jn.length-1},Rc=function(Rr,Br,fn){var yn,Tn=void 0;return fn=fn||{},Rr=Rr!==void 0?Rr:Ci[fi].fontName,Br=Br!==void 0?Br:Ci[fi].fontStyle,yn=Rr.toLowerCase(),Di[yn]!==void 0&&Di[yn][Br]!==void 0?Tn=Di[yn][Br]:Di[Rr]!==void 0&&Di[Rr][Br]!==void 0?Tn=Di[Rr][Br]:fn.disableWarning===!1&&o.warn("Unable to look up font label for font '"+Rr+"', '"+Br+"'. Refer to getFontList() for available fonts."),Tn||fn.noFallback||(Tn=Di.times[Br])==null&&(Tn=Di.times.normal),Tn},co=Ze.__private__.putInfo=function(){var Rr=hi(),Br=function(yn){return yn};for(var fn in Xe!==null&&(Br=Ws.encryptor(Rr,0)),Gr("<<"),Gr("/Producer ("+Xa(Br("jsPDF "+E.version))+")"),oi)oi.hasOwnProperty(fn)&&oi[fn]&&Gr("/"+fn.substr(0,1).toUpperCase()+fn.substr(1)+" ("+Xa(Br(oi[fn]))+")");Gr("/CreationDate ("+Xa(Br(Or))+")"),Gr(">>"),Gr("endobj")},Ia=Ze.__private__.putCatalog=function(Rr){var Br=(Rr=Rr||{}).rootDictionaryObjId||Yi;switch(hi(),Gr("<<"),Gr("/Type /Catalog"),Gr("/Pages "+Br+" 0 R"),zn||(zn="fullwidth"),zn){case"fullwidth":Gr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Gr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Gr("/OpenAction [3 0 R /Fit]");break;case"original":Gr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fn=""+zn;fn.substr(fn.length-1)==="%"&&(zn=parseInt(zn)/100),typeof zn=="number"&&Gr("/OpenAction [3 0 R /XYZ null null "+br(zn)+"]")}switch(ei||(ei="continuous"),ei){case"continuous":Gr("/PageLayout /OneColumn");break;case"single":Gr("/PageLayout /SinglePage");break;case"two":case"twoleft":Gr("/PageLayout /TwoColumnLeft");break;case"tworight":Gr("/PageLayout /TwoColumnRight")}vi&&Gr("/PageMode /"+vi),Qi.publish("putCatalog"),Gr(">>"),Gr("endobj")},na=Ze.__private__.putTrailer=function(){Gr("trailer"),Gr("<<"),Gr("/Size "+(Qr+1)),Gr("/Root "+Qr+" 0 R"),Gr("/Info "+(Qr-1)+" 0 R"),Xe!==null&&Gr("/Encrypt "+Ws.oid+" 0 R"),Gr("/ID [ <"+Er+"> <"+Er+"> ]"),Gr(">>")},ss=Ze.__private__.putHeader=function(){Gr("%PDF-"+rr),Gr("%")},il=Ze.__private__.putXRef=function(){var Rr="0000000000";Gr("xref"),Gr("0 "+(Qr+1)),Gr("0000000000 65535 f ");for(var Br=1;Br<=Qr;Br++)typeof mn[Br]=="function"?Gr((Rr+mn[Br]()).slice(-10)+" 00000 n "):mn[Br]!==void 0?Gr((Rr+mn[Br]).slice(-10)+" 00000 n "):Gr("0000000000 00000 n ")},wo=Ze.__private__.buildDocument=function(){var Rr;Qr=0,Zr=0,An=[],mn=[],bn=[],Yi=li(),Mi=li(),Sn(An),Qi.publish("buildDocument"),ss(),Ra(),(function(){Qi.publish("putAdditionalObjects");for(var fn=0;fn<bn.length;fn++){var yn=bn[fn];si(yn.objId,!0),Gr(yn.content),Gr("endobj")}Qi.publish("postPutAdditionalObjects")})(),Rr=[],(function(){for(var fn in Ci)Ci.hasOwnProperty(fn)&&(Je===!1||Je===!0&&er.hasOwnProperty(fn))&&Ps(Ci[fn])})(),(function(){var fn;for(fn in Ni)Ni.hasOwnProperty(fn)&&lo(Ni[fn])})(),(function(){for(var fn in ta)ta.hasOwnProperty(fn)&&nl(ta[fn])})(),(function(fn){var yn;for(yn in Ai)Ai.hasOwnProperty(yn)&&(Ai[yn]instanceof M?oo(Ai[yn]):Ai[yn]instanceof q&&$a(Ai[yn],fn))})(Rr),Qi.publish("putResources"),Rr.forEach(_o),_o({resourcesOid:Mi,objectOid:Number.MAX_SAFE_INTEGER}),Qi.publish("postPutResources"),Xe!==null&&(Ws.oid=hi(),Gr("<<"),Gr("/Filter /Standard"),Gr("/V "+Ws.v),Gr("/R "+Ws.r),Gr("/U <"+Ws.toHexString(Ws.U)+">"),Gr("/O <"+Ws.toHexString(Ws.O)+">"),Gr("/P "+Ws.P),Gr(">>"),Gr("endobj")),co(),Ia();var Br=Zr;return il(),na(),Gr("startxref"),Gr(""+Br),Gr("%%EOF"),Sn(jn[Vr]),An.join(`
`)},ms=Ze.__private__.getBlob=function(Rr){return new Blob([di(Rr)],{type:"application/pdf"})},vl=Ze.output=Ze.__private__.output=(Cn=function(Rr,Br){switch(typeof(Br=Br||{})=="string"?Br={filename:Br}:Br.filename=Br.filename||"generated.pdf",Rr){case void 0:return wo();case"save":Ze.save(Br.filename);break;case"arraybuffer":return di(wo());case"blob":return ms(wo());case"bloburi":case"bloburl":if(i.URL!==void 0&&typeof i.URL.createObjectURL=="function")return i.URL&&i.URL.createObjectURL(ms(wo()))||void 0;o.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fn="",yn=wo();try{fn=d(yn)}catch{fn=d(unescape(encodeURIComponent(yn)))}return"data:application/pdf;filename="+Br.filename+";base64,"+fn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(i)==="[object Window]"){var Tn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Gn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Br.pdfObjectUrl&&(Tn=Br.pdfObjectUrl,Gn="");var ri='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Tn+'"'+Gn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Br)+");<\/script></body></html>",_i=i.open();return _i!==null&&_i.document.write(ri),_i}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(i)==="[object Window]"){var Si='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Br.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Br.filename+'" width="500px" height="400px" /></body></html>',Fi=i.open();if(Fi!==null){Fi.document.write(Si);var ki=this;Fi.document.documentElement.querySelector("#pdfViewer").onload=function(){Fi.document.title=Br.filename,Fi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ki.output("bloburl"))}}return Fi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(i)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Br)+'"></iframe></body></html>',Fs=i.open();if(Fs!==null&&(Fs.document.write(cs),Fs.document.title=Br.filename),Fs||typeof safari>"u")return Fs;break;case"datauri":case"dataurl":return i.document.location.href=this.output("datauristring",Br);default:return null}},Cn.foo=function(){try{return Cn.apply(this,arguments)}catch(fn){var Rr=fn.stack||"";~Rr.indexOf(" at ")&&(Rr=Rr.split(" at ")[1]);var Br="Error in function "+Rr.split(`
`)[0].split("<")[0]+": "+fn.message;if(!i.console)throw new Error(Br);i.console.error(Br,fn),i.alert&&alert(Br)}},Cn.foo.bar=Cn,Cn.foo),ua=function(Rr){return Array.isArray(ga)===!0&&ga.indexOf(Rr)>-1};switch(Ue){case"pt":yi=1;break;case"mm":yi=72/25.4;break;case"cm":yi=72/2.54;break;case"in":yi=72;break;case"px":yi=ua("px_scaling")==1?.75:96/72;break;case"pc":case"em":yi=12;break;case"ex":yi=6;break;default:if(typeof Ue!="number")throw new Error("Invalid unit: "+Ue);yi=Ue}var Ws=null;Pr(),wr();var ia=Ze.__private__.getPageInfo=Ze.getPageInfo=function(Rr){if(isNaN(Rr)||Rr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ti[Rr].objId,pageNumber:Rr,pageContext:Ti[Rr]}},Ol=Ze.__private__.getPageInfoByObjId=function(Rr){if(isNaN(Rr)||Rr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Br in Ti)if(Ti[Br].objId===Rr)break;return ia(Br)},Qc=Ze.__private__.getCurrentPageInfo=Ze.getCurrentPageInfo=function(){return{objId:Ti[Vr].objId,pageNumber:Vr,pageContext:Ti[Vr]}};Ze.addPage=function(){return jo.apply(this,arguments),this},Ze.setPage=function(){return nc.apply(this,arguments),Sn.call(this,jn[Vr]),this},Ze.insertPage=function(Rr){return this.addPage(),this.movePage(Vr,Rr),this},Ze.movePage=function(Rr,Br){var fn,yn;if(Rr>Br){fn=jn[Rr],yn=Ti[Rr];for(var Tn=Rr;Tn>Br;Tn--)jn[Tn]=jn[Tn-1],Ti[Tn]=Ti[Tn-1];jn[Br]=fn,Ti[Br]=yn,this.setPage(Br)}else if(Rr<Br){fn=jn[Rr],yn=Ti[Rr];for(var Gn=Rr;Gn<Br;Gn++)jn[Gn]=jn[Gn+1],Ti[Gn]=Ti[Gn+1];jn[Br]=fn,Ti[Br]=yn,this.setPage(Br)}return this},Ze.deletePage=function(){return Ml.apply(this,arguments),this},Ze.__private__.text=Ze.text=function(Rr,Br,fn,yn,Tn){var Gn,ri,_i,Si,Fi,ki,cs,Fs,Ds,dr=(yn=yn||{}).scope||this;if(typeof Rr=="number"&&typeof Br=="number"&&(typeof fn=="string"||Array.isArray(fn))){var Ir=fn;fn=Br,Br=Rr,Rr=Ir}if(arguments[3]instanceof Ii==0?(_i=arguments[4],Si=arguments[5],_typeof(cs=arguments[3])==="object"&&cs!==null||(typeof _i=="string"&&(Si=_i,_i=null),typeof cs=="string"&&(Si=cs,cs=null),typeof cs=="number"&&(_i=cs,cs=null),yn={flags:cs,angle:_i,align:Si})):(_r("The transform parameter of text() with a Matrix value"),Ds=Tn),isNaN(Br)||isNaN(fn)||Rr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Rr.length===0)return dr;var Fr,Xr="",kn=typeof yn.lineHeightFactor=="number"?yn.lineHeightFactor:ol,Fn=dr.internal.scaleFactor;function ci(ws){return ws=ws.split("	").join(Array(yn.TabLen||9).join(" ")),Xa(ws,cs)}function Ki(ws){for(var ys,Bs=ws.concat(),fa=[],Pl=Bs.length;Pl--;)typeof(ys=Bs.shift())=="string"?fa.push(ys):Array.isArray(ws)&&(ys.length===1||ys[1]===void 0&&ys[2]===void 0)?fa.push(ys[0]):fa.push([ys[0],ys[1],ys[2]]);return fa}function Vs(ws,ys){var Bs;if(typeof ws=="string")Bs=ys(ws)[0];else if(Array.isArray(ws)){for(var fa,Pl,dl=ws.concat(),kc=[],ju=dl.length;ju--;)typeof(fa=dl.shift())=="string"?kc.push(ys(fa)[0]):Array.isArray(fa)&&typeof fa[0]=="string"&&(Pl=ys(fa[0],fa[1],fa[2]),kc.push([Pl[0],Pl[1],Pl[2]]));Bs=kc}return Bs}var rs=!1,As=!0;if(typeof Rr=="string")rs=!0;else if(Array.isArray(Rr)){var Da=Rr.concat();ri=[];for(var Va,Ms=Da.length;Ms--;)(typeof(Va=Da.shift())!="string"||Array.isArray(Va)&&typeof Va[0]!="string")&&(As=!1);rs=As}if(rs===!1)throw new Error('Type of text must be string or Array. "'+Rr+'" is not recognized.');typeof Rr=="string"&&(Rr=Rr.match(/[\r?\n]/)?Rr.split(/\r\n|\r|\n/g):[Rr]);var Ba=Vn/dr.internal.scaleFactor,No=Ba*(kn-1);switch(yn.baseline){case"bottom":fn-=No;break;case"top":fn+=Ba-No;break;case"hanging":fn+=Ba-2*No;break;case"middle":fn+=Ba/2-No}if((ki=yn.maxWidth||0)>0&&(typeof Rr=="string"?Rr=dr.splitTextToSize(Rr,ki):Object.prototype.toString.call(Rr)==="[object Array]"&&(Rr=Rr.reduce(function(ws,ys){return ws.concat(dr.splitTextToSize(ys,ki))},[]))),Gn={text:Rr,x:Br,y:fn,options:yn,mutex:{pdfEscape:Xa,activeFontKey:fi,fonts:Ci,activeFontSize:Vn}},Qi.publish("preProcessText",Gn),Rr=Gn.text,_i=(yn=Gn.options).angle,Ds instanceof Ii==0&&_i&&typeof _i=="number"){_i*=Math.PI/180,yn.rotationDirection===0&&(_i=-_i),cr===or&&(_i=-_i);var El=Math.cos(_i),wl=Math.sin(_i);Ds=new Ii(El,wl,-wl,El,0,0)}else _i&&_i instanceof Ii&&(Ds=_i);cr!==or||Ds||(Ds=Ca),(Fi=yn.charSpace||ho)!==void 0&&(Xr+=vr(Sr(Fi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fs=yn.horizontalScale)!==void 0&&(Xr+=vr(100*Fs)+` Tz
`),yn.lang;var mo=-1,Bl=yn.renderingMode!==void 0?yn.renderingMode:yn.stroke,Jc=dr.internal.getCurrentPageInfo().pageContext;switch(Bl){case 0:case!1:case"fill":mo=0;break;case 1:case!0:case"stroke":mo=1;break;case 2:case"fillThenStroke":mo=2;break;case 3:case"invisible":mo=3;break;case 4:case"fillAndAddForClipping":mo=4;break;case 5:case"strokeAndAddPathForClipping":mo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mo=6;break;case 7:case"addToPathForClipping":mo=7}var Au=Jc.usedRenderingMode!==void 0?Jc.usedRenderingMode:-1;mo!==-1?Xr+=mo+` Tr
`:Au!==-1&&(Xr+=`0 Tr
`),mo!==-1&&(Jc.usedRenderingMode=mo),Si=yn.align||"left";var ko,cl=Vn*kn,Ul=dr.internal.pageSize.getWidth(),Tu=Ci[fi];Fi=yn.charSpace||ho,ki=yn.maxWidth||0,cs=Object.assign({autoencode:!0,noBOM:!0},yn.flags);var ul=[],dc=function(ws){return dr.getStringUnitWidth(ws,{font:Tu,charSpace:Fi,fontSize:Vn,doKerning:!1})*Vn/Fn};if(Object.prototype.toString.call(Rr)==="[object Array]"){var Ro;ri=Ki(Rr),Si!=="left"&&(ko=ri.map(dc));var go,Sl=0;if(Si==="right"){Br-=ko[0],Rr=[],Ms=ri.length;for(var Rl=0;Rl<Ms;Rl++)Rl===0?(go=Ta(Br),Ro=va(fn)):(go=Sr(Sl-ko[Rl]),Ro=-cl),Rr.push([ri[Rl],go,Ro]),Sl=ko[Rl]}else if(Si==="center"){Br-=ko[0]/2,Rr=[],Ms=ri.length;for(var zl=0;zl<Ms;zl++)zl===0?(go=Ta(Br),Ro=va(fn)):(go=Sr((Sl-ko[zl])/2),Ro=-cl),Rr.push([ri[zl],go,Ro]),Sl=ko[zl]}else if(Si==="left"){Rr=[],Ms=ri.length;for(var Zc=0;Zc<Ms;Zc++)Rr.push(ri[Zc])}else if(Si==="justify"&&Tu.encoding==="Identity-H"){Rr=[],Ms=ri.length,ki=ki!==0?ki:Ul;for(var eu=0,ha=0;ha<Ms;ha++)if(Ro=ha===0?va(fn):-cl,go=ha===0?Ta(Br):eu,ha<Ms-1){var zu=Sr((ki-ko[ha])/(ri[ha].split(" ").length-1)),Al=ri[ha].split(" ");Rr.push([Al[0]+" ",go,Ro]),eu=0;for(var Tl=1;Tl<Al.length;Tl++){var Ua=(dc(Al[Tl-1]+" "+Al[Tl])-dc(Al[Tl]))*Fn+zu;Tl==Al.length-1?Rr.push([Al[Tl],Ua,0]):Rr.push([Al[Tl]+" ",Ua,0]),eu-=Ua}}else Rr.push([ri[ha],go,Ro]);Rr.push(["",eu,0])}else{if(Si!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Rr=[],Ms=ri.length,ki=ki!==0?ki:Ul,ha=0;ha<Ms;ha++){Ro=ha===0?va(fn):-cl,go=ha===0?Ta(Br):0;var ql=ri[ha].split(" ").length-1,tu=ql>0?(ki-ko[ha])/ql:0;ha<Ms-1?ul.push(vr(Sr(tu))):ul.push(0),Rr.push([ri[ha],go,Ro])}}}(typeof yn.R2L=="boolean"?yn.R2L:Yn)===!0&&(Rr=Vs(Rr,function(ws,ys,Bs){return[ws.split("").reverse().join(""),ys,Bs]})),Gn={text:Rr,x:Br,y:fn,options:yn,mutex:{pdfEscape:Xa,activeFontKey:fi,fonts:Ci,activeFontSize:Vn}},Qi.publish("postProcessText",Gn),Rr=Gn.text,Fr=Gn.mutex.isHex||!1;var ru=Ci[fi].encoding;ru!=="WinAnsiEncoding"&&ru!=="StandardEncoding"||(Rr=Vs(Rr,function(ws,ys,Bs){return[ci(ws),ys,Bs]})),ri=Ki(Rr),Rr=[];for(var Hl,Wl,jl,Nc=Array.isArray(ri[0])?1:0,Do="",Gl=function(ws,ys,Bs){var fa="";return Bs instanceof Ii?(Bs=typeof yn.angle=="number"?To(Bs,new Ii(1,0,0,1,ws,ys)):To(new Ii(1,0,0,1,ws,ys),Bs),cr===or&&(Bs=To(new Ii(1,0,0,-1,0,0),Bs)),fa=Bs.join(" ")+` Tm
`):fa=vr(ws)+" "+vr(ys)+` Td
`,fa},Za=0;Za<ri.length;Za++){switch(Do="",Nc){case 1:jl=(Fr?"<":"(")+ri[Za][0]+(Fr?">":")"),Hl=parseFloat(ri[Za][1]),Wl=parseFloat(ri[Za][2]);break;case 0:jl=(Fr?"<":"(")+ri[Za]+(Fr?">":")"),Hl=Ta(Br),Wl=va(fn)}ul!==void 0&&ul[Za]!==void 0&&(Do=ul[Za]+` Tw
`),Za===0?Rr.push(Do+Gl(Hl,Wl,Ds)+jl):Nc===0?Rr.push(Do+jl):Nc===1&&Rr.push(Do+Gl(Hl,Wl,Ds)+jl)}Rr=Nc===0?Rr.join(` Tj
T* `):Rr.join(` Tj
`),Rr+=` Tj
`;var Uo=`BT
/`;return Uo+=fi+" "+Vn+` Tf
`,Uo+=vr(Vn*kn)+` TL
`,Uo+=Co+`
`,Uo+=Xr,Uo+=Rr,Gr(Uo+="ET"),er[fi]=!0,dr};var Ac=Ze.__private__.clip=Ze.clip=function(Rr){return Gr(Rr==="evenodd"?"W*":"W"),this};Ze.clipEvenOdd=function(){return Ac("evenodd")},Ze.__private__.discardPath=Ze.discardPath=function(){return Gr("n"),this};var Fa=Ze.__private__.isValidStyle=function(Rr){var Br=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Rr)!==-1&&(Br=!0),Br};Ze.__private__.setDefaultPathOperation=Ze.setDefaultPathOperation=function(Rr){return Fa(Rr)&&(Ye=Rr),this};var Tc=Ze.__private__.getStyle=Ze.getStyle=function(Rr){var Br=Ye;switch(Rr){case"D":case"S":Br="S";break;case"F":Br="f";break;case"FD":case"DF":Br="B";break;case"f":case"f*":case"B":case"B*":Br=Rr}return Br},sl=Ze.close=function(){return Gr("h"),this};Ze.stroke=function(){return Gr("S"),this},Ze.fill=function(Rr){return Aa("f",Rr),this},Ze.fillEvenOdd=function(Rr){return Aa("f*",Rr),this},Ze.fillStroke=function(Rr){return Aa("B",Rr),this},Ze.fillStrokeEvenOdd=function(Rr){return Aa("B*",Rr),this};var Aa=function(Rr,Br){_typeof(Br)==="object"?Pc(Br,Rr):Gr(Rr)},yl=function(Rr){Rr===null||cr===or&&Rr===void 0||(Rr=Tc(Rr),Gr(Rr))};function jc(Rr,Br,fn,yn,Tn){var Gn=new q(Br||this.boundingBox,fn||this.xStep,yn||this.yStep,this.gState,Tn||this.matrix);Gn.stream=this.stream;var ri=Rr+"$$"+this.cloneIndex+++"$$";return Zi(ri,Gn),Gn}var Pc=function(Rr,Br){var fn=ps[Rr.key],yn=Ai[fn];if(yn instanceof M)Gr("q"),Gr(sc(Br)),yn.gState&&Ze.setGState(yn.gState),Gr(Rr.matrix.toString()+" cm"),Gr("/"+fn+" sh"),Gr("Q");else if(yn instanceof q){var Tn=new Ii(1,0,0,-1,0,Io());Rr.matrix&&(Tn=Tn.multiply(Rr.matrix||Ca),fn=jc.call(yn,Rr.key,Rr.boundingBox,Rr.xStep,Rr.yStep,Tn).id),Gr("q"),Gr("/Pattern cs"),Gr("/"+fn+" scn"),yn.gState&&Ze.setGState(yn.gState),Gr(Br),Gr("Q")}},sc=function(Rr){switch(Rr){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ac=Ze.moveTo=function(Rr,Br){return Gr(vr(Sr(Rr))+" "+vr(Dr(Br))+" m"),this},al=Ze.lineTo=function(Rr,Br){return Gr(vr(Sr(Rr))+" "+vr(Dr(Br))+" l"),this},Qa=Ze.curveTo=function(Rr,Br,fn,yn,Tn,Gn){return Gr([vr(Sr(Rr)),vr(Dr(Br)),vr(Sr(fn)),vr(Dr(yn)),vr(Sr(Tn)),vr(Dr(Gn)),"c"].join(" ")),this};Ze.__private__.line=Ze.line=function(Rr,Br,fn,yn,Tn){if(isNaN(Rr)||isNaN(Br)||isNaN(fn)||isNaN(yn)||!Fa(Tn))throw new Error("Invalid arguments passed to jsPDF.line");return cr===lr?this.lines([[fn-Rr,yn-Br]],Rr,Br,[1,1],Tn||"S"):this.lines([[fn-Rr,yn-Br]],Rr,Br,[1,1]).stroke()},Ze.__private__.lines=Ze.lines=function(Rr,Br,fn,yn,Tn,Gn){var ri,_i,Si,Fi,ki,cs,Fs,Ds,dr,Ir,Fr,Xr;if(typeof Rr=="number"&&(Xr=fn,fn=Br,Br=Rr,Rr=Xr),yn=yn||[1,1],Gn=Gn||!1,isNaN(Br)||isNaN(fn)||!Array.isArray(Rr)||!Array.isArray(yn)||!Fa(Tn)||typeof Gn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ac(Br,fn),ri=yn[0],_i=yn[1],Fi=Rr.length,Ir=Br,Fr=fn,Si=0;Si<Fi;Si++)(ki=Rr[Si]).length===2?(Ir=ki[0]*ri+Ir,Fr=ki[1]*_i+Fr,al(Ir,Fr)):(cs=ki[0]*ri+Ir,Fs=ki[1]*_i+Fr,Ds=ki[2]*ri+Ir,dr=ki[3]*_i+Fr,Ir=ki[4]*ri+Ir,Fr=ki[5]*_i+Fr,Qa(cs,Fs,Ds,dr,Ir,Fr));return Gn&&sl(),yl(Tn),this},Ze.path=function(Rr){for(var Br=0;Br<Rr.length;Br++){var fn=Rr[Br],yn=fn.c;switch(fn.op){case"m":ac(yn[0],yn[1]);break;case"l":al(yn[0],yn[1]);break;case"c":Qa.apply(this,yn);break;case"h":sl()}}return this},Ze.__private__.rect=Ze.rect=function(Rr,Br,fn,yn,Tn){if(isNaN(Rr)||isNaN(Br)||isNaN(fn)||isNaN(yn)||!Fa(Tn))throw new Error("Invalid arguments passed to jsPDF.rect");return cr===lr&&(yn=-yn),Gr([vr(Sr(Rr)),vr(Dr(Br)),vr(Sr(fn)),vr(Sr(yn)),"re"].join(" ")),yl(Tn),this},Ze.__private__.triangle=Ze.triangle=function(Rr,Br,fn,yn,Tn,Gn,ri){if(isNaN(Rr)||isNaN(Br)||isNaN(fn)||isNaN(yn)||isNaN(Tn)||isNaN(Gn)||!Fa(ri))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fn-Rr,yn-Br],[Tn-fn,Gn-yn],[Rr-Tn,Br-Gn]],Rr,Br,[1,1],ri,!0),this},Ze.__private__.roundedRect=Ze.roundedRect=function(Rr,Br,fn,yn,Tn,Gn,ri){if(isNaN(Rr)||isNaN(Br)||isNaN(fn)||isNaN(yn)||isNaN(Tn)||isNaN(Gn)||!Fa(ri))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var _i=4/3*(Math.SQRT2-1);return Tn=Math.min(Tn,.5*fn),Gn=Math.min(Gn,.5*yn),this.lines([[fn-2*Tn,0],[Tn*_i,0,Tn,Gn-Gn*_i,Tn,Gn],[0,yn-2*Gn],[0,Gn*_i,-Tn*_i,Gn,-Tn,Gn],[2*Tn-fn,0],[-Tn*_i,0,-Tn,-Gn*_i,-Tn,-Gn],[0,2*Gn-yn],[0,-Gn*_i,Tn*_i,-Gn,Tn,-Gn]],Rr+Tn,Br,[1,1],ri,!0),this},Ze.__private__.ellipse=Ze.ellipse=function(Rr,Br,fn,yn,Tn){if(isNaN(Rr)||isNaN(Br)||isNaN(fn)||isNaN(yn)||!Fa(Tn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Gn=4/3*(Math.SQRT2-1)*fn,ri=4/3*(Math.SQRT2-1)*yn;return ac(Rr+fn,Br),Qa(Rr+fn,Br-ri,Rr+Gn,Br-yn,Rr,Br-yn),Qa(Rr-Gn,Br-yn,Rr-fn,Br-ri,Rr-fn,Br),Qa(Rr-fn,Br+ri,Rr-Gn,Br+yn,Rr,Br+yn),Qa(Rr+Gn,Br+yn,Rr+fn,Br+ri,Rr+fn,Br),yl(Tn),this},Ze.__private__.circle=Ze.circle=function(Rr,Br,fn,yn){if(isNaN(Rr)||isNaN(Br)||isNaN(fn)||!Fa(yn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Rr,Br,fn,fn,yn)},Ze.setFont=function(Rr,Br,fn){return fn&&(Br=mr(Br,fn)),fi=Rc(Rr,Br,{disableWarning:!1}),this};var Po=Ze.__private__.getFont=Ze.getFont=function(){return Ci[Rc.apply(Ze,arguments)]};Ze.__private__.getFontList=Ze.getFontList=function(){var Rr,Br,fn={};for(Rr in Di)if(Di.hasOwnProperty(Rr))for(Br in fn[Rr]=[],Di[Rr])Di[Rr].hasOwnProperty(Br)&&fn[Rr].push(Br);return fn},Ze.addFont=function(Rr,Br,fn,yn,Tn){var Gn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Gn.indexOf(arguments[3])!==-1?Tn=arguments[3]:arguments[3]&&Gn.indexOf(arguments[3])==-1&&(fn=mr(fn,yn)),rc.call(this,Rr,Br,fn,Tn=Tn||"Identity-H")};var ol,Ja=Ve.lineWidth||.200025,xl=Ze.__private__.getLineWidth=Ze.getLineWidth=function(){return Ja},Oi=Ze.__private__.setLineWidth=Ze.setLineWidth=function(Rr){return Ja=Rr,Gr(vr(Sr(Rr))+" w"),this};Ze.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Rr,Br){if(Rr=Rr||[],Br=Br||0,isNaN(Br)||!Array.isArray(Rr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Rr=Rr.map(function(fn){return vr(Sr(fn))}).join(" "),Br=vr(Sr(Br)),Gr("["+Rr+"] "+Br+" d"),this};var Ll=Ze.__private__.getLineHeight=Ze.getLineHeight=function(){return Vn*ol};Ze.__private__.getLineHeight=Ze.getLineHeight=function(){return Vn*ol};var oc=Ze.__private__.setLineHeightFactor=Ze.setLineHeightFactor=function(Rr){return typeof(Rr=Rr||1.15)=="number"&&(ol=Rr),this},bl=Ze.__private__.getLineHeightFactor=Ze.getLineHeightFactor=function(){return ol};oc(Ve.lineHeight);var Ta=Ze.__private__.getHorizontalCoordinate=function(Rr){return Sr(Rr)},va=Ze.__private__.getVerticalCoordinate=function(Rr){return cr===or?Rr:Ti[Vr].mediaBox.topRightY-Ti[Vr].mediaBox.bottomLeftY-Sr(Rr)},$l=Ze.__private__.getHorizontalCoordinateString=Ze.getHorizontalCoordinateString=function(Rr){return vr(Ta(Rr))},Rs=Ze.__private__.getVerticalCoordinateString=Ze.getVerticalCoordinateString=function(Rr){return vr(va(Rr))},uo=Ve.strokeColor||"0 G";Ze.__private__.getStrokeColor=Ze.getDrawColor=function(){return Gi(uo)},Ze.__private__.setStrokeColor=Ze.setDrawColor=function(Rr,Br,fn,yn){return uo=ls({ch1:Rr,ch2:Br,ch3:fn,ch4:yn,pdfColorType:"draw",precision:2}),Gr(uo),this};var Fl=Ve.fillColor||"0 g";Ze.__private__.getFillColor=Ze.getFillColor=function(){return Gi(Fl)},Ze.__private__.setFillColor=Ze.setFillColor=function(Rr,Br,fn,yn){return Fl=ls({ch1:Rr,ch2:Br,ch3:fn,ch4:yn,pdfColorType:"fill",precision:2}),Gr(Fl),this};var Co=Ve.textColor||"0 g",Cc=Ze.__private__.getTextColor=Ze.getTextColor=function(){return Gi(Co)};Ze.__private__.setTextColor=Ze.setTextColor=function(Rr,Br,fn,yn){return Co=ls({ch1:Rr,ch2:Br,ch3:fn,ch4:yn,pdfColorType:"text",precision:3}),this};var ho=Ve.charSpace,ll=Ze.__private__.getCharSpace=Ze.getCharSpace=function(){return parseFloat(ho||0)};Ze.__private__.setCharSpace=Ze.setCharSpace=function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ho=Rr,this};var fo=0;Ze.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Ze.__private__.setLineCap=Ze.setLineCap=function(Rr){var Br=Ze.CapJoinStyles[Rr];if(Br===void 0)throw new Error("Line cap style of '"+Rr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fo=Br,Gr(Br+" J"),this};var da=0;Ze.__private__.setLineJoin=Ze.setLineJoin=function(Rr){var Br=Ze.CapJoinStyles[Rr];if(Br===void 0)throw new Error("Line join style of '"+Rr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return da=Br,Gr(Br+" j"),this},Ze.__private__.setLineMiterLimit=Ze.__private__.setMiterLimit=Ze.setLineMiterLimit=Ze.setMiterLimit=function(Rr){if(Rr=Rr||0,isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Gr(vr(Sr(Rr))+" M"),this},Ze.GState=O,Ze.setGState=function(Rr){(Rr=typeof Rr=="string"?Ni[$i[Rr]]:Lo(null,Rr)).equals(os)||(Gr("/"+Rr.id+" gs"),os=Rr)};var Lo=function(Rr,Br){if(!Rr||!$i[Rr]){var fn=!1;for(var yn in Ni)if(Ni.hasOwnProperty(yn)&&Ni[yn].equals(Br)){fn=!0;break}if(fn)Br=Ni[yn];else{var Tn="GS"+(Object.keys(Ni).length+1).toString(10);Ni[Tn]=Br,Br.id=Tn}return Rr&&($i[Rr]=Br.id),Qi.publish("addGState",Br),Br}};Ze.addGState=function(Rr,Br){return Lo(Rr,Br),this},Ze.saveGraphicsState=function(){return Gr("q"),Wi.push({key:fi,size:Vn,color:Co}),this},Ze.restoreGraphicsState=function(){Gr("Q");var Rr=Wi.pop();return fi=Rr.key,Vn=Rr.size,Co=Rr.color,os=null,this},Ze.setCurrentTransformationMatrix=function(Rr){return Gr(Rr.toString()+" cm"),this},Ze.comment=function(Rr){return Gr("#"+Rr),this};var Na=function(Rr,Br){var fn=Rr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fn},set:function(Gn){isNaN(Gn)||(fn=parseFloat(Gn))}});var yn=Br||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return yn},set:function(Gn){isNaN(Gn)||(yn=parseFloat(Gn))}});var Tn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Tn},set:function(Gn){Tn=Gn.toString()}}),this},$o=function(Rr,Br,fn,yn){Na.call(this,Rr,Br),this.type="rect";var Tn=fn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Tn},set:function(ri){isNaN(ri)||(Tn=parseFloat(ri))}});var Gn=yn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Gn},set:function(ri){isNaN(ri)||(Gn=parseFloat(ri))}}),this},_l=function(){this.page=ji,this.currentPage=Vr,this.pages=jn.slice(0),this.pagesContext=Ti.slice(0),this.x=mi,this.y=as,this.matrix=Ui,this.width=So(Vr),this.height=cc(Vr),this.outputDestination=In,this.id="",this.objectNumber=-1};_l.prototype.restore=function(){ji=this.page,Vr=this.currentPage,Ti=this.pagesContext,jn=this.pages,mi=this.x,as=this.y,Ui=this.matrix,Vl(Vr,this.width),po(Vr,this.height),In=this.outputDestination};var Fo=function(Rr,Br,fn,yn,Tn){ks.push(new _l),ji=Vr=0,jn=[],mi=Rr,as=Br,Ui=Tn,Eo([fn,yn])};for(var Vo in Ze.beginFormObject=function(Rr,Br,fn,yn,Tn){return Fo(Rr,Br,fn,yn,Tn),this},Ze.endFormObject=function(Rr){return(function(Br){if(ao[Br])ks.pop().restore();else{var fn=new _l,yn="Xo"+(Object.keys(ta).length+1).toString(10);fn.id=yn,ao[Br]=yn,ta[yn]=fn,Qi.publish("addFormObject",fn),ks.pop().restore()}})(Rr),this},Ze.doFormObject=function(Rr,Br){var fn=ta[ao[Rr]];return Gr("q"),Gr(Br.toString()+" cm"),Gr("/"+fn.id+" Do"),Gr("Q"),this},Ze.getFormObject=function(Rr){var Br=ta[ao[Rr]];return{x:Br.x,y:Br.y,width:Br.width,height:Br.height,matrix:Br.matrix}},Ze.save=function(Rr,Br){return Rr=Rr||"generated.pdf",(Br=Br||{}).returnPromise=Br.returnPromise||!1,Br.returnPromise===!1?(l(ms(wo()),Rr),typeof l.unload=="function"&&i.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(fn,yn){try{var Tn=l(ms(wo()),Rr);typeof l.unload=="function"&&i.setTimeout&&setTimeout(l.unload,911),fn(Tn)}catch(Gn){yn(Gn.message)}})},E.API)E.API.hasOwnProperty(Vo)&&(Vo==="events"&&E.API.events.length?(function(Rr,Br){var fn,yn,Tn;for(Tn=Br.length-1;Tn!==-1;Tn--)fn=Br[Tn][0],yn=Br[Tn][1],Rr.subscribe.apply(Rr,[fn].concat(typeof yn=="function"?[yn]:yn))})(Qi,E.API.events):Ze[Vo]=E.API[Vo]);function So(Rr){return Ti[Rr].mediaBox.topRightX-Ti[Rr].mediaBox.bottomLeftX}function Vl(Rr,Br){Ti[Rr].mediaBox.topRightX=Br+Ti[Rr].mediaBox.bottomLeftX}function cc(Rr){return Ti[Rr].mediaBox.topRightY-Ti[Rr].mediaBox.bottomLeftY}function po(Rr,Br){Ti[Rr].mediaBox.topRightY=Br+Ti[Rr].mediaBox.bottomLeftY}var Bo=Ze.getPageWidth=function(Rr){return So(Rr=Rr||Vr)/yi},Ic=Ze.setPageWidth=function(Rr,Br){Vl(Rr,Br*yi)},Io=Ze.getPageHeight=function(Rr){return cc(Rr=Rr||Vr)/yi},uc=Ze.setPageHeight=function(Rr,Br){po(Rr,Br*yi)};return Ze.internal={pdfEscape:Xa,getStyle:Tc,getFont:Po,getFontSize:Qn,getCharSpace:ll,getTextColor:Cc,getLineHeight:Ll,getLineHeightFactor:bl,getLineWidth:xl,write:Un,getHorizontalCoordinate:Ta,getVerticalCoordinate:va,getCoordinateString:$l,getVerticalCoordinateString:Rs,collections:{},newObject:hi,newAdditionalObject:zi,newObjectDeferred:li,newObjectDeferredBegin:si,getFilters:ra,putStream:ca,events:Qi,scaleFactor:yi,pageSize:{getWidth:function(){return Bo(Vr)},setWidth:function(Rr){Ic(Vr,Rr)},getHeight:function(){return Io(Vr)},setHeight:function(Rr){uc(Vr,Rr)}},encryptionOptions:Xe,encryption:Ws,getEncryptor:function(Rr){return Xe!==null?Ws.encryptor(Rr,0):function(Br){return Br}},output:vl,getNumberOfPages:ic,get pages(){return jn},out:Gr,f2:br,f3:fr,getPageInfo:ia,getPageInfoByObjId:Ol,getCurrentPageInfo:Qc,getPDFVersion:nr,Point:Na,Rectangle:$o,Matrix:Ii,hasHotfix:ua},Object.defineProperty(Ze.internal.pageSize,"width",{get:function(){return Bo(Vr)},set:function(Rr){Ic(Vr,Rr)},enumerable:!0,configurable:!0}),Object.defineProperty(Ze.internal.pageSize,"height",{get:function(){return Io(Vr)},set:function(Rr){uc(Vr,Rr)},enumerable:!0,configurable:!0}),(function(Rr){for(var Br=0,fn=ii.length;Br<fn;Br++){var yn=rc.call(this,Rr[Br][0],Rr[Br][1],Rr[Br][2],ii[Br][3],!0);Je===!1&&(er[yn]=!0);var Tn=Rr[Br][0].split("-");Xs({id:yn,fontName:Tn[0],fontStyle:Tn[1]||""})}Qi.publish("addFonts",{fonts:Ci,dictionary:Di})}).call(Ze,ii),fi="F1",jo(ze,Be),Qi.publish("initialized"),Ze}I.prototype.lsbFirstWord=function(Ve){return String.fromCharCode(255&Ve,Ve>>8&255,Ve>>16&255,Ve>>24&255)},I.prototype.toHexString=function(Ve){return Ve.split("").map(function($e){return("0"+(255&$e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(Ve){for(var $e=[],Be=0;Be<Ve.length;Be+=2)$e.push(String.fromCharCode(parseInt(Ve.substr(Be,2),16)));return $e.join("")},I.prototype.processOwnerPassword=function(Ve,$e){return k(S($e).substr(0,5),Ve)},I.prototype.encryptor=function(Ve,$e){var Be=S(this.encryptionKey+String.fromCharCode(255&Ve,Ve>>8&255,Ve>>16&255,255&$e,$e>>8&255)).substr(0,10);return function(Ue){return k(Be,Ue)}},O.prototype.equals=function(Ve){var $e,Be="id,objectNumber,equals";if(!Ve||_typeof(Ve)!==_typeof(this))return!1;var Ue=0;for($e in this)if(!(Be.indexOf($e)>=0)){if(this.hasOwnProperty($e)&&!Ve.hasOwnProperty($e)||this[$e]!==Ve[$e])return!1;Ue++}for($e in Ve)Ve.hasOwnProperty($e)&&Be.indexOf($e)<0&&Ue--;return Ue===0},E.API={events:[]},E.version="3.0.4";var R=E.API,D=1,T=function(Ve){return Ve.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},z=function(Ve){return Ve.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(Ve){return Ve.toFixed(2)},H=function(Ve){return Ve.toFixed(5)};R.__acroform__={};var W=function(Ve,$e){Ve.prototype=Object.create($e.prototype),Ve.prototype.constructor=Ve},V=function(Ve){return Ve*D},G=function(Ve){var $e=new ct,Be=xt.internal.getHeight(Ve)||0,Ue=xt.internal.getWidth(Ve)||0;return $e.BBox=[0,0,Number(U(Ue)),Number(U(Be))],$e},Y=R.__acroform__.setBit=function(Ve,$e){if(Ve=Ve||0,$e=$e||0,isNaN(Ve)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Ve|1<<$e},J=R.__acroform__.clearBit=function(Ve,$e){if(Ve=Ve||0,$e=$e||0,isNaN(Ve)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Ve&~(1<<$e)},X=R.__acroform__.getBit=function(Ve,$e){if(isNaN(Ve)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return Ve&1<<$e?1:0},K=R.__acroform__.getBitForPdf=function(Ve,$e){if(isNaN(Ve)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X(Ve,$e-1)},Z=R.__acroform__.setBitForPdf=function(Ve,$e){if(isNaN(Ve)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Y(Ve,$e-1)},$=R.__acroform__.clearBitForPdf=function(Ve,$e){if(isNaN(Ve)||isNaN($e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return J(Ve,$e-1)},Q=R.__acroform__.calculateCoordinates=function(Ve,$e){var Be=$e.internal.getHorizontalCoordinate,Ue=$e.internal.getVerticalCoordinate,ze=Ve[0],qe=Ve[1],He=Ve[2],We=Ve[3],Ge={};return Ge.lowerLeft_X=Be(ze)||0,Ge.lowerLeft_Y=Ue(qe+We)||0,Ge.upperRight_X=Be(ze+He)||0,Ge.upperRight_Y=Ue(qe)||0,[Number(U(Ge.lowerLeft_X)),Number(U(Ge.lowerLeft_Y)),Number(U(Ge.upperRight_X)),Number(U(Ge.upperRight_Y))]},tt=function(Ve){if(Ve.appearanceStreamContent)return Ve.appearanceStreamContent;if(Ve.V||Ve.DV){var $e=[],Be=Ve._V||Ve.DV,Ue=et(Ve,Be),ze=Ve.scope.internal.getFont(Ve.fontName,Ve.fontStyle).id;$e.push("/Tx BMC"),$e.push("q"),$e.push("BT"),$e.push(Ve.scope.__private__.encodeColorString(Ve.color)),$e.push("/"+ze+" "+U(Ue.fontSize)+" Tf"),$e.push("1 0 0 1 0 0 Tm"),$e.push(Ue.text),$e.push("ET"),$e.push("Q"),$e.push("EMC");var qe=G(Ve);return qe.scope=Ve.scope,qe.stream=$e.join(`
`),qe}},et=function(Ve,$e){var Be=Ve.fontSize===0?Ve.maxFontSize:Ve.fontSize,Ue={text:"",fontSize:""},ze=($e=($e=$e.substr(0,1)=="("?$e.substr(1):$e).substr($e.length-1)==")"?$e.substr(0,$e.length-1):$e).split(" ");ze=Ve.multiline?ze.map(function(br){return br.split(`
`)}):ze.map(function(br){return[br]});var qe=Be,He=xt.internal.getHeight(Ve)||0;He=He<0?-He:He;var We=xt.internal.getWidth(Ve)||0;We=We<0?-We:We;var Ge=function(br,fr,Sr){if(br+1<ze.length){var Dr=fr+" "+ze[br+1][0];return nt(Dr,Ve,Sr).width<=We-4}return!1};qe++;e:for(;qe>0;){$e="",qe--;var Ye,Xe,Je=nt("3",Ve,qe).height,er=Ve.multiline?He-qe:(He-Je)/2,Ze=er+=2,rr=0,nr=0,ar=0;if(qe<=0){$e=`(...) Tj
`,$e+="% Width of Text: "+nt($e,Ve,qe=12).width+", FieldWidth:"+We+`
`;break}for(var sr="",lr=0,or=0;or<ze.length;or++)if(ze.hasOwnProperty(or)){var cr=!1;if(ze[or].length!==1&&ar!==ze[or].length-1){if((Je+2)*(lr+2)+2>He)continue e;sr+=ze[or][ar],cr=!0,nr=or,or--}else{sr=(sr+=ze[or][ar]+" ").substr(sr.length-1)==" "?sr.substr(0,sr.length-1):sr;var hr=parseInt(or),yr=Ge(hr,sr,qe),mr=or>=ze.length-1;if(yr&&!mr){sr+=" ",ar=0;continue}if(yr||mr){if(mr)nr=hr;else if(Ve.multiline&&(Je+2)*(lr+2)+2>He)continue e}else{if(!Ve.multiline||(Je+2)*(lr+2)+2>He)continue e;nr=hr}}for(var vr="",_r=rr;_r<=nr;_r++){var Cr=ze[_r];if(Ve.multiline){if(_r===nr){vr+=Cr[ar]+" ",ar=(ar+1)%Cr.length;continue}if(_r===rr){vr+=Cr[Cr.length-1]+" ";continue}}vr+=Cr[0]+" "}switch(vr=vr.substr(vr.length-1)==" "?vr.substr(0,vr.length-1):vr,Xe=nt(vr,Ve,qe).width,Ve.textAlign){case"right":Ye=We-Xe-2;break;case"center":Ye=(We-Xe)/2;break;default:Ye=2}$e+=U(Ye)+" "+U(Ze)+` Td
`,$e+="("+T(vr)+`) Tj
`,$e+=-U(Ye)+` 0 Td
`,Ze=-(qe+2),Xe=0,rr=cr?nr:nr+1,lr++,sr=""}break}return Ue.text=$e,Ue.fontSize=qe,Ue},nt=function(Ve,$e,Be){var Ue=$e.scope.internal.getFont($e.fontName,$e.fontStyle),ze=$e.scope.getStringUnitWidth(Ve,{font:Ue,fontSize:parseFloat(Be),charSpace:0})*parseFloat(Be);return{height:$e.scope.getStringUnitWidth("3",{font:Ue,fontSize:parseFloat(Be),charSpace:0})*parseFloat(Be)*1.5,width:ze}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},it=function(Ve,$e){var Be={type:"reference",object:Ve};$e.internal.getPageInfo(Ve.page).pageContext.annotations.find(function(Ue){return Ue.type===Be.type&&Ue.object===Be.object})===void 0&&$e.internal.getPageInfo(Ve.page).pageContext.annotations.push(Be)},at=function(Ve,$e){if($e.scope=Ve,Ve.internal!==void 0&&(Ve.internal.acroformPlugin===void 0||Ve.internal.acroformPlugin.isInitialized===!1)){if(ht.FieldNum=0,Ve.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),Ve.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Ve.internal.scaleFactor,Ve.internal.acroformPlugin.acroFormDictionaryRoot=new lt,Ve.internal.acroformPlugin.acroFormDictionaryRoot.scope=Ve,Ve.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Ve.internal.events.subscribe("postPutResources",function(){(function(Be){Be.internal.events.unsubscribe(Be.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete Be.internal.acroformPlugin.acroFormDictionaryRoot._eventID,Be.internal.acroformPlugin.printedOut=!0})(Ve)}),Ve.internal.events.subscribe("buildDocument",function(){(function(Be){Be.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Ue=Be.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var ze in Ue)if(Ue.hasOwnProperty(ze)){var qe=Ue[ze];qe.objId=void 0,qe.hasAnnotation&&it(qe,Be)}})(Ve)}),Ve.internal.events.subscribe("putCatalog",function(){(function(Be){if(Be.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");Be.internal.write("/AcroForm "+Be.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Ve)}),Ve.internal.events.subscribe("postPutPages",function(Be){(function(Ue,ze){var qe=!Ue;for(var He in Ue||(ze.internal.newObjectDeferredBegin(ze.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),ze.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Ue=Ue||ze.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Ue.hasOwnProperty(He)){var We=Ue[He],Ge=[],Ye=We.Rect;if(We.Rect&&(We.Rect=Q(We.Rect,ze)),ze.internal.newObjectDeferredBegin(We.objId,!0),We.DA=xt.createDefaultAppearanceStream(We),_typeof(We)==="object"&&typeof We.getKeyValueListForStream=="function"&&(Ge=We.getKeyValueListForStream()),We.Rect=Ye,We.hasAppearanceStream&&!We.appearanceStreamContent){var Xe=tt(We);Ge.push({key:"AP",value:"<</N "+Xe+">>"}),ze.internal.acroformPlugin.xForms.push(Xe)}if(We.appearanceStreamContent){var Je="";for(var er in We.appearanceStreamContent)if(We.appearanceStreamContent.hasOwnProperty(er)){var Ze=We.appearanceStreamContent[er];if(Je+="/"+er+" ",Je+="<<",Object.keys(Ze).length>=1||Array.isArray(Ze)){for(var He in Ze)if(Ze.hasOwnProperty(He)){var rr=Ze[He];typeof rr=="function"&&(rr=rr.call(ze,We)),Je+="/"+He+" "+rr+" ",ze.internal.acroformPlugin.xForms.indexOf(rr)>=0||ze.internal.acroformPlugin.xForms.push(rr)}}else typeof(rr=Ze)=="function"&&(rr=rr.call(ze,We)),Je+="/"+He+" "+rr,ze.internal.acroformPlugin.xForms.indexOf(rr)>=0||ze.internal.acroformPlugin.xForms.push(rr);Je+=">>"}Ge.push({key:"AP",value:`<<
`+Je+">>"})}ze.internal.putStream({additionalKeyValues:Ge,objectId:We.objId}),ze.internal.out("endobj")}qe&&(function(nr,ar){for(var sr in nr)if(nr.hasOwnProperty(sr)){var lr=sr,or=nr[sr];ar.internal.newObjectDeferredBegin(or.objId,!0),_typeof(or)==="object"&&typeof or.putStream=="function"&&or.putStream(),delete nr[lr]}})(ze.internal.acroformPlugin.xForms,ze)})(Be,Ve)}),Ve.internal.acroformPlugin.isInitialized=!0}},ot=R.__acroform__.arrayToPdfArray=function(Ve,$e,Be){var Ue=function(He){return He};if(Array.isArray(Ve)){for(var ze="[",qe=0;qe<Ve.length;qe++)switch(qe!==0&&(ze+=" "),_typeof(Ve[qe])){case"boolean":case"number":case"object":ze+=Ve[qe].toString();break;case"string":Ve[qe].substr(0,1)!=="/"?($e!==void 0&&Be&&(Ue=Be.internal.getEncryptor($e)),ze+="("+T(Ue(Ve[qe].toString()))+")"):ze+=Ve[qe].toString()}return ze+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(Ve,$e,Be){var Ue=function(ze){return ze};return $e!==void 0&&Be&&(Ue=Be.internal.getEncryptor($e)),(Ve=Ve||"").toString(),"("+T(Ue(Ve))+")"},ut=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Ve){this._objId=Ve}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ut.prototype.toString=function(){return this.objId+" 0 R"},ut.prototype.putStream=function(){var Ve=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Ve,objectId:this.objId}),this.scope.internal.out("endobj")},ut.prototype.getKeyValueListForStream=function(){var Ve=[],$e=Object.getOwnPropertyNames(this).filter(function(qe){return qe!="content"&&qe!="appearanceStreamContent"&&qe!="scope"&&qe!="objId"&&qe.substring(0,1)!="_"});for(var Be in $e)if(Object.getOwnPropertyDescriptor(this,$e[Be]).configurable===!1){var Ue=$e[Be],ze=this[Ue];ze&&(Array.isArray(ze)?Ve.push({key:Ue,value:ot(ze,this.objId,this.scope)}):ze instanceof ut?(ze.scope=this.scope,Ve.push({key:Ue,value:ze.objId+" 0 R"})):typeof ze!="function"&&Ve.push({key:Ue,value:ze}))}return Ve};var ct=function(){ut.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Ve,$e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return $e},set:function(Be){$e=Be}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(Be){Ve=Be.trim()},get:function(){return Ve||null}})};W(ct,ut);var lt=function(){ut.call(this);var Ve,$e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return $e.length>0?$e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return $e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Ve){var Be=function(Ue){return Ue};return this.scope&&(Be=this.scope.internal.getEncryptor(this.objId)),"("+T(Be(Ve))+")"}},set:function(Be){Ve=Be}})};W(lt,ut);var ht=function Ve(){ut.call(this);var $e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return $e},set:function(sr){if(isNaN(sr))throw new Error('Invalid value "'+sr+'" for attribute F supplied.');$e=sr}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!K($e,3)},set:function(sr){sr?this.F=Z($e,3):this.F=$($e,3)}});var Be=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return Be},set:function(sr){if(isNaN(sr))throw new Error('Invalid value "'+sr+'" for attribute Ff supplied.');Be=sr}});var Ue=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Ue.length!==0)return Ue},set:function(sr){Ue=sr!==void 0?sr:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Ue||isNaN(Ue[0])?0:Ue[0]},set:function(sr){Ue[0]=sr}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Ue||isNaN(Ue[1])?0:Ue[1]},set:function(sr){Ue[1]=sr}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Ue||isNaN(Ue[2])?0:Ue[2]},set:function(sr){Ue[2]=sr}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Ue||isNaN(Ue[3])?0:Ue[3]},set:function(sr){Ue[3]=sr}});var ze="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return ze},set:function(sr){switch(sr){case"/Btn":case"/Tx":case"/Ch":case"/Sig":ze=sr;break;default:throw new Error('Invalid value "'+sr+'" for attribute FT supplied.')}}});var qe=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!qe||qe.length<1){if(this instanceof yt)return;qe="FieldObject"+Ve.FieldNum++}var sr=function(lr){return lr};return this.scope&&(sr=this.scope.internal.getEncryptor(this.objId)),"("+T(sr(qe))+")"},set:function(sr){qe=sr.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return qe},set:function(sr){qe=sr}});var He="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return He},set:function(sr){He=sr}});var We="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return We},set:function(sr){We=sr}});var Ge=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Ge},set:function(sr){Ge=sr}});var Ye=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Ye===void 0?50/D:Ye},set:function(sr){Ye=sr}});var Xe="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Xe},set:function(sr){Xe=sr}});var Je="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Je||this instanceof yt||this instanceof Nt))return st(Je,this.objId,this.scope)},set:function(sr){sr=sr.toString(),Je=sr}});var er=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(er)return this instanceof mt==0?st(er,this.objId,this.scope):er},set:function(sr){sr=sr.toString(),er=this instanceof mt==0?sr.substr(0,1)==="("?z(sr.substr(1,sr.length-2)):z(sr):sr}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt==1?z(er.substr(1,er.length-1)):er},set:function(sr){sr=sr.toString(),er=this instanceof mt==1?"/"+sr:sr}});var Ze=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Ze)return Ze},set:function(sr){this.V=sr}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Ze)return this instanceof mt==0?st(Ze,this.objId,this.scope):Ze},set:function(sr){sr=sr.toString(),Ze=this instanceof mt==0?sr.substr(0,1)==="("?z(sr.substr(1,sr.length-2)):z(sr):sr}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt==1?z(Ze.substr(1,Ze.length-1)):Ze},set:function(sr){sr=sr.toString(),Ze=this instanceof mt==1?"/"+sr:sr}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var rr,nr=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return nr},set:function(sr){sr=!!sr,nr=sr}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(rr)return rr},set:function(sr){rr=sr}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,1)},set:function(sr){sr?this.Ff=Z(this.Ff,1):this.Ff=$(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,2)},set:function(sr){sr?this.Ff=Z(this.Ff,2):this.Ff=$(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,3)},set:function(sr){sr?this.Ff=Z(this.Ff,3):this.Ff=$(this.Ff,3)}});var ar=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(ar!==null)return ar},set:function(sr){if([0,1,2].indexOf(sr)===-1)throw new Error('Invalid value "'+sr+'" for attribute Q supplied.');ar=sr}}),Object.defineProperty(this,"textAlign",{get:function(){var sr;switch(ar){case 0:default:sr="left";break;case 1:sr="center";break;case 2:sr="right"}return sr},configurable:!0,enumerable:!0,set:function(sr){switch(sr){case"right":case 2:ar=2;break;case"center":case 1:ar=1;break;default:ar=0}}})};W(ht,ut);var ft=function(){ht.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Ve=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Ve},set:function(Be){Ve=Be}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Ve},set:function(Be){Ve=Be}});var $e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot($e,this.objId,this.scope)},set:function(Be){var Ue,ze;ze=[],typeof(Ue=Be)=="string"&&(ze=(function(qe,He,We){We||(We=1);for(var Ge,Ye=[];Ge=He.exec(qe);)Ye.push(Ge[We]);return Ye})(Ue,/\((.*?)\)/g)),$e=ze}}),this.getOptions=function(){return $e},this.setOptions=function(Be){$e=Be,this.sort&&$e.sort()},this.addOption=function(Be){Be=(Be=Be||"").toString(),$e.push(Be),this.sort&&$e.sort()},this.removeOption=function(Be,Ue){for(Ue=Ue||!1,Be=(Be=Be||"").toString();$e.indexOf(Be)!==-1&&($e.splice($e.indexOf(Be),1),Ue!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,18)},set:function(Be){Be?this.Ff=Z(this.Ff,18):this.Ff=$(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,19)},set:function(Be){this.combo===!0&&(Be?this.Ff=Z(this.Ff,19):this.Ff=$(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,20)},set:function(Be){Be?(this.Ff=Z(this.Ff,20),$e.sort()):this.Ff=$(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,22)},set:function(Be){Be?this.Ff=Z(this.Ff,22):this.Ff=$(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,23)},set:function(Be){Be?this.Ff=Z(this.Ff,23):this.Ff=$(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,27)},set:function(Be){Be?this.Ff=Z(this.Ff,27):this.Ff=$(this.Ff,27)}}),this.hasAppearanceStream=!1};W(ft,ht);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};W(dt,ft);var pt=function(){dt.call(this),this.combo=!0};W(pt,dt);var gt=function(){pt.call(this),this.edit=!0};W(gt,pt);var mt=function(){ht.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,15)},set:function(Be){Be?this.Ff=Z(this.Ff,15):this.Ff=$(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,16)},set:function(Be){Be?this.Ff=Z(this.Ff,16):this.Ff=$(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,17)},set:function(Be){Be?this.Ff=Z(this.Ff,17):this.Ff=$(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,26)},set:function(Be){Be?this.Ff=Z(this.Ff,26):this.Ff=$(this.Ff,26)}});var Ve,$e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Be=function(qe){return qe};if(this.scope&&(Be=this.scope.internal.getEncryptor(this.objId)),Object.keys($e).length!==0){var Ue,ze=[];for(Ue in ze.push("<<"),$e)ze.push("/"+Ue+" ("+T(Be($e[Ue]))+")");return ze.push(">>"),ze.join(`
`)}},set:function(Be){_typeof(Be)==="object"&&($e=Be)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return $e.CA||""},set:function(Be){typeof Be=="string"&&($e.CA=Be)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ve},set:function(Be){Ve=Be}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ve.substr(1,Ve.length-1)},set:function(Be){Ve="/"+Be}})};W(mt,ht);var vt=function(){mt.call(this),this.pushButton=!0};W(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var Ve=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Ve},set:function($e){Ve=$e!==void 0?$e:[]}})};W(bt,mt);var yt=function(){var Ve,$e;ht.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Ve},set:function(ze){Ve=ze}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return $e},set:function(ze){$e=ze}});var Be,Ue={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var ze=function(We){return We};this.scope&&(ze=this.scope.internal.getEncryptor(this.objId));var qe,He=[];for(qe in He.push("<<"),Ue)He.push("/"+qe+" ("+T(ze(Ue[qe]))+")");return He.push(">>"),He.join(`
`)},set:function(ze){_typeof(ze)==="object"&&(Ue=ze)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Ue.CA||""},set:function(ze){typeof ze=="string"&&(Ue.CA=ze)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Be},set:function(ze){Be=ze}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Be.substr(1,Be.length-1)},set:function(ze){Be="/"+ze}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};W(yt,ht),bt.prototype.setAppearance=function(Ve){if(!("createAppearanceStream"in Ve)||!("getCA"in Ve))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var $e in this.Kids)if(this.Kids.hasOwnProperty($e)){var Be=this.Kids[$e];Be.appearanceStreamContent=Ve.createAppearanceStream(Be.optionName),Be.caption=Ve.getCA()}},bt.prototype.createOption=function(Ve){var $e=new yt;return $e.Parent=this,$e.optionName=Ve,this.Kids.push($e),At.call(this.scope,$e),$e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};W(wt,mt);var Nt=function(){ht.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,13)},set:function($e){$e?this.Ff=Z(this.Ff,13):this.Ff=$(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,21)},set:function($e){$e?this.Ff=Z(this.Ff,21):this.Ff=$(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,23)},set:function($e){$e?this.Ff=Z(this.Ff,23):this.Ff=$(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,24)},set:function($e){$e?this.Ff=Z(this.Ff,24):this.Ff=$(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,25)},set:function($e){$e?this.Ff=Z(this.Ff,25):this.Ff=$(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,26)},set:function($e){$e?this.Ff=Z(this.Ff,26):this.Ff=$(this.Ff,26)}});var Ve=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Ve},set:function($e){Ve=$e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Ve},set:function($e){Number.isInteger($e)&&(Ve=$e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};W(Nt,ht);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,14)},set:function(Ve){Ve?this.Ff=Z(this.Ff,14):this.Ff=$(this.Ff,14)}}),this.password=!0};W(Lt,Nt);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(Ve){var $e=G(Ve);$e.scope=Ve.scope;var Be=[],Ue=Ve.scope.internal.getFont(Ve.fontName,Ve.fontStyle).id,ze=Ve.scope.__private__.encodeColorString(Ve.color),qe=et(Ve,Ve.caption);return Be.push("0.749023 g"),Be.push("0 0 "+U(xt.internal.getWidth(Ve))+" "+U(xt.internal.getHeight(Ve))+" re"),Be.push("f"),Be.push("BMC"),Be.push("q"),Be.push("0 0 1 rg"),Be.push("/"+Ue+" "+U(qe.fontSize)+" Tf "+ze),Be.push("BT"),Be.push(qe.text),Be.push("ET"),Be.push("Q"),Be.push("EMC"),$e.stream=Be.join(`
`),$e},YesNormal:function(Ve){var $e=G(Ve);$e.scope=Ve.scope;var Be=Ve.scope.internal.getFont(Ve.fontName,Ve.fontStyle).id,Ue=Ve.scope.__private__.encodeColorString(Ve.color),ze=[],qe=xt.internal.getHeight(Ve),He=xt.internal.getWidth(Ve),We=et(Ve,Ve.caption);return ze.push("1 g"),ze.push("0 0 "+U(He)+" "+U(qe)+" re"),ze.push("f"),ze.push("q"),ze.push("0 0 1 rg"),ze.push("0 0 "+U(He-1)+" "+U(qe-1)+" re"),ze.push("W"),ze.push("n"),ze.push("0 g"),ze.push("BT"),ze.push("/"+Be+" "+U(We.fontSize)+" Tf "+Ue),ze.push(We.text),ze.push("ET"),ze.push("Q"),$e.stream=ze.join(`
`),$e},OffPushDown:function(Ve){var $e=G(Ve);$e.scope=Ve.scope;var Be=[];return Be.push("0.749023 g"),Be.push("0 0 "+U(xt.internal.getWidth(Ve))+" "+U(xt.internal.getHeight(Ve))+" re"),Be.push("f"),$e.stream=Be.join(`
`),$e}},RadioButton:{Circle:{createAppearanceStream:function(Ve){var $e={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return $e.N[Ve]=xt.RadioButton.Circle.YesNormal,$e.D[Ve]=xt.RadioButton.Circle.YesPushDown,$e},getCA:function(){return"l"},YesNormal:function(Ve){var $e=G(Ve);$e.scope=Ve.scope;var Be=[],Ue=xt.internal.getWidth(Ve)<=xt.internal.getHeight(Ve)?xt.internal.getWidth(Ve)/4:xt.internal.getHeight(Ve)/4;Ue=Number((.9*Ue).toFixed(5));var ze=xt.internal.Bezier_C,qe=Number((Ue*ze).toFixed(5));return Be.push("q"),Be.push("1 0 0 1 "+H(xt.internal.getWidth(Ve)/2)+" "+H(xt.internal.getHeight(Ve)/2)+" cm"),Be.push(Ue+" 0 m"),Be.push(Ue+" "+qe+" "+qe+" "+Ue+" 0 "+Ue+" c"),Be.push("-"+qe+" "+Ue+" -"+Ue+" "+qe+" -"+Ue+" 0 c"),Be.push("-"+Ue+" -"+qe+" -"+qe+" -"+Ue+" 0 -"+Ue+" c"),Be.push(qe+" -"+Ue+" "+Ue+" -"+qe+" "+Ue+" 0 c"),Be.push("f"),Be.push("Q"),$e.stream=Be.join(`
`),$e},YesPushDown:function(Ve){var $e=G(Ve);$e.scope=Ve.scope;var Be=[],Ue=xt.internal.getWidth(Ve)<=xt.internal.getHeight(Ve)?xt.internal.getWidth(Ve)/4:xt.internal.getHeight(Ve)/4;Ue=Number((.9*Ue).toFixed(5));var ze=Number((2*Ue).toFixed(5)),qe=Number((ze*xt.internal.Bezier_C).toFixed(5)),He=Number((Ue*xt.internal.Bezier_C).toFixed(5));return Be.push("0.749023 g"),Be.push("q"),Be.push("1 0 0 1 "+H(xt.internal.getWidth(Ve)/2)+" "+H(xt.internal.getHeight(Ve)/2)+" cm"),Be.push(ze+" 0 m"),Be.push(ze+" "+qe+" "+qe+" "+ze+" 0 "+ze+" c"),Be.push("-"+qe+" "+ze+" -"+ze+" "+qe+" -"+ze+" 0 c"),Be.push("-"+ze+" -"+qe+" -"+qe+" -"+ze+" 0 -"+ze+" c"),Be.push(qe+" -"+ze+" "+ze+" -"+qe+" "+ze+" 0 c"),Be.push("f"),Be.push("Q"),Be.push("0 g"),Be.push("q"),Be.push("1 0 0 1 "+H(xt.internal.getWidth(Ve)/2)+" "+H(xt.internal.getHeight(Ve)/2)+" cm"),Be.push(Ue+" 0 m"),Be.push(Ue+" "+He+" "+He+" "+Ue+" 0 "+Ue+" c"),Be.push("-"+He+" "+Ue+" -"+Ue+" "+He+" -"+Ue+" 0 c"),Be.push("-"+Ue+" -"+He+" -"+He+" -"+Ue+" 0 -"+Ue+" c"),Be.push(He+" -"+Ue+" "+Ue+" -"+He+" "+Ue+" 0 c"),Be.push("f"),Be.push("Q"),$e.stream=Be.join(`
`),$e},OffPushDown:function(Ve){var $e=G(Ve);$e.scope=Ve.scope;var Be=[],Ue=xt.internal.getWidth(Ve)<=xt.internal.getHeight(Ve)?xt.internal.getWidth(Ve)/4:xt.internal.getHeight(Ve)/4;Ue=Number((.9*Ue).toFixed(5));var ze=Number((2*Ue).toFixed(5)),qe=Number((ze*xt.internal.Bezier_C).toFixed(5));return Be.push("0.749023 g"),Be.push("q"),Be.push("1 0 0 1 "+H(xt.internal.getWidth(Ve)/2)+" "+H(xt.internal.getHeight(Ve)/2)+" cm"),Be.push(ze+" 0 m"),Be.push(ze+" "+qe+" "+qe+" "+ze+" 0 "+ze+" c"),Be.push("-"+qe+" "+ze+" -"+ze+" "+qe+" -"+ze+" 0 c"),Be.push("-"+ze+" -"+qe+" -"+qe+" -"+ze+" 0 -"+ze+" c"),Be.push(qe+" -"+ze+" "+ze+" -"+qe+" "+ze+" 0 c"),Be.push("f"),Be.push("Q"),$e.stream=Be.join(`
`),$e}},Cross:{createAppearanceStream:function(Ve){var $e={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return $e.N[Ve]=xt.RadioButton.Cross.YesNormal,$e.D[Ve]=xt.RadioButton.Cross.YesPushDown,$e},getCA:function(){return"8"},YesNormal:function(Ve){var $e=G(Ve);$e.scope=Ve.scope;var Be=[],Ue=xt.internal.calculateCross(Ve);return Be.push("q"),Be.push("1 1 "+U(xt.internal.getWidth(Ve)-2)+" "+U(xt.internal.getHeight(Ve)-2)+" re"),Be.push("W"),Be.push("n"),Be.push(U(Ue.x1.x)+" "+U(Ue.x1.y)+" m"),Be.push(U(Ue.x2.x)+" "+U(Ue.x2.y)+" l"),Be.push(U(Ue.x4.x)+" "+U(Ue.x4.y)+" m"),Be.push(U(Ue.x3.x)+" "+U(Ue.x3.y)+" l"),Be.push("s"),Be.push("Q"),$e.stream=Be.join(`
`),$e},YesPushDown:function(Ve){var $e=G(Ve);$e.scope=Ve.scope;var Be=xt.internal.calculateCross(Ve),Ue=[];return Ue.push("0.749023 g"),Ue.push("0 0 "+U(xt.internal.getWidth(Ve))+" "+U(xt.internal.getHeight(Ve))+" re"),Ue.push("f"),Ue.push("q"),Ue.push("1 1 "+U(xt.internal.getWidth(Ve)-2)+" "+U(xt.internal.getHeight(Ve)-2)+" re"),Ue.push("W"),Ue.push("n"),Ue.push(U(Be.x1.x)+" "+U(Be.x1.y)+" m"),Ue.push(U(Be.x2.x)+" "+U(Be.x2.y)+" l"),Ue.push(U(Be.x4.x)+" "+U(Be.x4.y)+" m"),Ue.push(U(Be.x3.x)+" "+U(Be.x3.y)+" l"),Ue.push("s"),Ue.push("Q"),$e.stream=Ue.join(`
`),$e},OffPushDown:function(Ve){var $e=G(Ve);$e.scope=Ve.scope;var Be=[];return Be.push("0.749023 g"),Be.push("0 0 "+U(xt.internal.getWidth(Ve))+" "+U(xt.internal.getHeight(Ve))+" re"),Be.push("f"),$e.stream=Be.join(`
`),$e}}},createDefaultAppearanceStream:function(Ve){var $e=Ve.scope.internal.getFont(Ve.fontName,Ve.fontStyle).id,Be=Ve.scope.__private__.encodeColorString(Ve.color);return"/"+$e+" "+Ve.fontSize+" Tf "+Be}};xt.internal={Bezier_C:.551915024494,calculateCross:function(Ve){var $e=xt.internal.getWidth(Ve),Be=xt.internal.getHeight(Ve),Ue=Math.min($e,Be);return{x1:{x:($e-Ue)/2,y:(Be-Ue)/2+Ue},x2:{x:($e-Ue)/2+Ue,y:(Be-Ue)/2},x3:{x:($e-Ue)/2,y:(Be-Ue)/2},x4:{x:($e-Ue)/2+Ue,y:(Be-Ue)/2+Ue}}}},xt.internal.getWidth=function(Ve){var $e=0;return _typeof(Ve)==="object"&&($e=V(Ve.Rect[2])),$e},xt.internal.getHeight=function(Ve){var $e=0;return _typeof(Ve)==="object"&&($e=V(Ve.Rect[3])),$e};var At=R.addField=function(Ve){if(at(this,Ve),!(Ve instanceof ht))throw new Error("Invalid argument passed to jsPDF.addField.");var $e;return($e=Ve).scope.internal.acroformPlugin.printedOut&&($e.scope.internal.acroformPlugin.printedOut=!1,$e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),$e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push($e),Ve.page=Ve.scope.internal.getCurrentPageInfo().pageNumber,this};R.AcroFormChoiceField=ft,R.AcroFormListBox=dt,R.AcroFormComboBox=pt,R.AcroFormEditBox=gt,R.AcroFormButton=mt,R.AcroFormPushButton=vt,R.AcroFormRadioButton=bt,R.AcroFormCheckBox=wt,R.AcroFormTextField=Nt,R.AcroFormPasswordField=Lt,R.AcroFormAppearance=xt,R.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:xt},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:xt};E.AcroForm;function _t(Ve){return Ve.reduce(function($e,Be,Ue){return $e[Be]=Ue,$e},{})}(function(Ve){var $e="addImage_";Ve.__addimage__={};var Be="UNKNOWN",Ue={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},ze=Ve.__addimage__.getImageFileTypeByImageData=function(br,fr){var Sr,Dr,Or,Er,Nr,wr=Be;if((fr=fr||Be)==="RGBA"||br.data!==void 0&&br.data instanceof Uint8ClampedArray&&"height"in br&&"width"in br)return"RGBA";if(yr(br))for(Nr in Ue)for(Or=Ue[Nr],Sr=0;Sr<Or.length;Sr+=1){for(Er=!0,Dr=0;Dr<Or[Sr].length;Dr+=1)if(Or[Sr][Dr]!==void 0&&Or[Sr][Dr]!==br[Dr]){Er=!1;break}if(Er===!0){wr=Nr;break}}else for(Nr in Ue)for(Or=Ue[Nr],Sr=0;Sr<Or.length;Sr+=1){for(Er=!0,Dr=0;Dr<Or[Sr].length;Dr+=1)if(Or[Sr][Dr]!==void 0&&Or[Sr][Dr]!==br.charCodeAt(Dr)){Er=!1;break}if(Er===!0){wr=Nr;break}}return wr===Be&&fr!==Be&&(wr=fr),wr},qe=function br(fr){for(var Sr=this.internal.write,Dr=this.internal.putStream,Or=(0,this.internal.getFilters)();Or.indexOf("FlateEncode")!==-1;)Or.splice(Or.indexOf("FlateEncode"),1);fr.objectId=this.internal.newObject();var Er=[];if(Er.push({key:"Type",value:"/XObject"}),Er.push({key:"Subtype",value:"/Image"}),Er.push({key:"Width",value:fr.width}),Er.push({key:"Height",value:fr.height}),fr.colorSpace===sr.INDEXED?Er.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(fr.palette.length/3-1)+" "+("sMask"in fr&&fr.sMask!==void 0?fr.objectId+2:fr.objectId+1)+" 0 R]"}):(Er.push({key:"ColorSpace",value:"/"+fr.colorSpace}),fr.colorSpace===sr.DEVICE_CMYK&&Er.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Er.push({key:"BitsPerComponent",value:fr.bitsPerComponent}),"decodeParameters"in fr&&fr.decodeParameters!==void 0&&Er.push({key:"DecodeParms",value:"<<"+fr.decodeParameters+">>"}),"transparency"in fr&&Array.isArray(fr.transparency)&&fr.transparency.length>0){for(var Nr="",wr=0,Ar=fr.transparency.length;wr<Ar;wr++)Nr+=fr.transparency[wr]+" "+fr.transparency[wr]+" ";Er.push({key:"Mask",value:"["+Nr+"]"})}fr.sMask!==void 0&&Er.push({key:"SMask",value:fr.objectId+1+" 0 R"});var Lr=fr.filter!==void 0?["/"+fr.filter]:void 0;if(Dr({data:fr.data,additionalKeyValues:Er,alreadyAppliedFilters:Lr,objectId:fr.objectId}),Sr("endobj"),"sMask"in fr&&fr.sMask!==void 0){var Pr,Tr=(Pr=fr.sMaskBitsPerComponent)!==null&&Pr!==void 0?Pr:fr.bitsPerComponent,Vr={width:fr.width,height:fr.height,colorSpace:"DeviceGray",bitsPerComponent:Tr,data:fr.sMask};"filter"in fr&&(Vr.decodeParameters="/Predictor ".concat(fr.predictor," /Colors 1 /BitsPerComponent ").concat(Tr," /Columns ").concat(fr.width),Vr.filter=fr.filter),br.call(this,Vr)}if(fr.colorSpace===sr.INDEXED){var Ur=this.internal.newObject();Dr({data:vr(new Uint8Array(fr.palette)),objectId:Ur}),Sr("endobj")}},He=function(){var br=this.internal.collections[$e+"images"];for(var fr in br)qe.call(this,br[fr])},We=function(){var br,fr=this.internal.collections[$e+"images"],Sr=this.internal.write;for(var Dr in fr)Sr("/I"+(br=fr[Dr]).index,br.objectId,"0","R")},Ge=function(){this.internal.collections[$e+"images"]||(this.internal.collections[$e+"images"]={},this.internal.events.subscribe("putResources",He),this.internal.events.subscribe("putXobjectDict",We))},Ye=function(){var br=this.internal.collections[$e+"images"];return Ge.call(this),br},Xe=function(){return Object.keys(this.internal.collections[$e+"images"]).length},Je=function(br){return typeof Ve["process"+br.toUpperCase()]=="function"},er=function(br){return _typeof(br)==="object"&&br.nodeType===1},Ze=function(br,fr){if(br.nodeName==="IMG"&&br.hasAttribute("src")){var Sr=""+br.getAttribute("src");if(Sr.indexOf("data:image/")===0)return f(unescape(Sr).split("base64,").pop());var Dr=Ve.loadFile(Sr,!0);if(Dr!==void 0)return Dr}if(br.nodeName==="CANVAS"){if(br.width===0||br.height===0)throw new Error("Given canvas must have data. Canvas width: "+br.width+", height: "+br.height);var Or;switch(fr){case"PNG":Or="image/png";break;case"WEBP":Or="image/webp";break;default:Or="image/jpeg"}return f(br.toDataURL(Or,1).split("base64,").pop())}},rr=function(br){var fr=this.internal.collections[$e+"images"];if(fr){for(var Sr in fr)if(br===fr[Sr].alias)return fr[Sr]}},nr=function(br,fr,Sr){return br||fr||(br=-96,fr=-96),br<0&&(br=-1*Sr.width*72/br/this.internal.scaleFactor),fr<0&&(fr=-1*Sr.height*72/fr/this.internal.scaleFactor),br===0&&(br=fr*Sr.width/Sr.height),fr===0&&(fr=br*Sr.height/Sr.width),[br,fr]},ar=function(br,fr,Sr,Dr,Or,Er){var Nr=nr.call(this,Sr,Dr,Or),wr=this.internal.getCoordinateString,Ar=this.internal.getVerticalCoordinateString,Lr=Ye.call(this);if(Sr=Nr[0],Dr=Nr[1],Lr[Or.index]=Or,Er){Er*=Math.PI/180;var Pr=Math.cos(Er),Tr=Math.sin(Er),Vr=function(Yr){return Yr.toFixed(4)},Ur=[Vr(Pr),Vr(Tr),Vr(-1*Tr),Vr(Pr),0,0,"cm"]}this.internal.write("q"),Er?(this.internal.write([1,"0","0",1,wr(br),Ar(fr+Dr),"cm"].join(" ")),this.internal.write(Ur.join(" ")),this.internal.write([wr(Sr),"0","0",wr(Dr),"0","0","cm"].join(" "))):this.internal.write([wr(Sr),"0","0",wr(Dr),wr(br),Ar(fr+Dr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Or.index+" Do"),this.internal.write("Q")},sr=Ve.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Ve.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var lr=Ve.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},or=Ve.__addimage__.sHashCode=function(br){var fr,Sr,Dr=0;if(typeof br=="string")for(Sr=br.length,fr=0;fr<Sr;fr++)Dr=(Dr<<5)-Dr+br.charCodeAt(fr),Dr|=0;else if(yr(br))for(Sr=br.byteLength/2,fr=0;fr<Sr;fr++)Dr=(Dr<<5)-Dr+br[fr],Dr|=0;return Dr},cr=Ve.__addimage__.validateStringAsBase64=function(br){(br=br||"").toString().trim();var fr=!0;return br.length===0&&(fr=!1),br.length%4!=0&&(fr=!1),/^[A-Za-z0-9+/]+$/.test(br.substr(0,br.length-2))===!1&&(fr=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(br.substr(-2))===!1&&(fr=!1),fr},hr=Ve.__addimage__.extractImageFromDataUrl=function(br){if(br==null||!(br=br.trim()).startsWith("data:"))return null;var fr=br.indexOf(",");return fr<0?null:br.substring(0,fr).trim().endsWith("base64")?br.substring(fr+1):null};Ve.__addimage__.isArrayBuffer=function(br){return br instanceof ArrayBuffer};var yr=Ve.__addimage__.isArrayBufferView=function(br){return br instanceof Int8Array||br instanceof Uint8Array||br instanceof Uint8ClampedArray||br instanceof Int16Array||br instanceof Uint16Array||br instanceof Int32Array||br instanceof Uint32Array||br instanceof Float32Array||br instanceof Float64Array},mr=Ve.__addimage__.binaryStringToUint8Array=function(br){for(var fr=br.length,Sr=new Uint8Array(fr),Dr=0;Dr<fr;Dr++)Sr[Dr]=br.charCodeAt(Dr);return Sr},vr=Ve.__addimage__.arrayBufferToBinaryString=function(br){for(var fr="",Sr=yr(br)?br:new Uint8Array(br),Dr=0;Dr<Sr.length;Dr+=8192)fr+=String.fromCharCode.apply(null,Sr.subarray(Dr,Dr+8192));return fr};Ve.addImage=function(){var br,fr,Sr,Dr,Or,Er,Nr,wr,Ar;if(typeof arguments[1]=="number"?(fr=Be,Sr=arguments[1],Dr=arguments[2],Or=arguments[3],Er=arguments[4],Nr=arguments[5],wr=arguments[6],Ar=arguments[7]):(fr=arguments[1],Sr=arguments[2],Dr=arguments[3],Or=arguments[4],Er=arguments[5],Nr=arguments[6],wr=arguments[7],Ar=arguments[8]),_typeof(br=arguments[0])==="object"&&!er(br)&&"imageData"in br){var Lr=br;br=Lr.imageData,fr=Lr.format||fr||Be,Sr=Lr.x||Sr||0,Dr=Lr.y||Dr||0,Or=Lr.w||Lr.width||Or,Er=Lr.h||Lr.height||Er,Nr=Lr.alias||Nr,wr=Lr.compression||wr,Ar=Lr.rotation||Lr.angle||Ar}var Pr=this.internal.getFilters();if(wr===void 0&&Pr.indexOf("FlateEncode")!==-1&&(wr="SLOW"),isNaN(Sr)||isNaN(Dr))throw new Error("Invalid coordinates passed to jsPDF.addImage");Ge.call(this);var Tr=_r.call(this,br,fr,Nr,wr);return ar.call(this,Sr,Dr,Or,Er,Tr,Ar),this};var _r=function(br,fr,Sr,Dr){var Or,Er,Nr;if(typeof br=="string"&&ze(br)===Be){br=unescape(br);var wr=Cr(br,!1);(wr!==""||(wr=Ve.loadFile(br,!0))!==void 0)&&(br=wr)}if(er(br)&&(br=Ze(br,fr)),fr=ze(br,fr),!Je(fr))throw new Error("addImage does not support files of type '"+fr+"', please ensure that a plugin for '"+fr+"' support is added.");if(((Nr=Sr)==null||Nr.length===0)&&(Sr=(function(Ar){return typeof Ar=="string"||yr(Ar)?or(Ar):yr(Ar.data)?or(Ar.data):null})(br)),(Or=rr.call(this,Sr))||(br instanceof Uint8Array||fr==="RGBA"||(Er=br,br=mr(br)),Or=this["process"+fr.toUpperCase()](br,Xe.call(this),Sr,(function(Ar){return Ar&&typeof Ar=="string"&&(Ar=Ar.toUpperCase()),Ar in Ve.image_compression?Ar:lr.NONE})(Dr),Er)),!Or)throw new Error("An unknown error occurred whilst processing the image.");return Or},Cr=Ve.__addimage__.convertBase64ToBinaryString=function(br,fr){fr=typeof fr!="boolean"||fr;var Sr,Dr="";if(typeof br=="string"){var Or;Sr=(Or=hr(br))!==null&&Or!==void 0?Or:br;try{Dr=f(Sr)}catch(Er){if(fr)throw cr(Sr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Er.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Dr};Ve.getImageProperties=function(br){var fr,Sr,Dr="";if(er(br)&&(br=Ze(br)),typeof br=="string"&&ze(br)===Be&&((Dr=Cr(br,!1))===""&&(Dr=Ve.loadFile(br)||""),br=Dr),Sr=ze(br),!Je(Sr))throw new Error("addImage does not support files of type '"+Sr+"', please ensure that a plugin for '"+Sr+"' support is added.");if(br instanceof Uint8Array||(br=mr(br)),!(fr=this["process"+Sr.toUpperCase()](br)))throw new Error("An unknown error occurred whilst processing the image");return fr.fileType=Sr,fr}})(E.API),(function(Ve){var $e=function(Be){if(Be!==void 0&&Be!="")return!0};E.API.events.push(["addPage",function(Be){this.internal.getPageInfo(Be.pageNumber).pageContext.annotations=[]}]),Ve.events.push(["putPage",function(Be){for(var Ue,ze,qe,He=this.internal.getCoordinateString,We=this.internal.getVerticalCoordinateString,Ge=this.internal.getPageInfoByObjId(Be.objId),Ye=Be.pageContext.annotations,Xe=!1,Je=0;Je<Ye.length&&!Xe;Je++)switch((Ue=Ye[Je]).type){case"link":($e(Ue.options.url)||$e(Ue.options.pageNumber))&&(Xe=!0);break;case"reference":case"text":case"freetext":Xe=!0}if(Xe!=0){this.internal.write("/Annots [");for(var er=0;er<Ye.length;er++){Ue=Ye[er];var Ze=this.internal.pdfEscape,rr=this.internal.getEncryptor(Be.objId);switch(Ue.type){case"reference":this.internal.write(" "+Ue.object.objId+" 0 R ");break;case"text":var nr=this.internal.newAdditionalObject(),ar=this.internal.newAdditionalObject(),sr=this.internal.getEncryptor(nr.objId),lr=Ue.title||"Note";qe="<</Type /Annot /Subtype /Text "+(ze="/Rect ["+He(Ue.bounds.x)+" "+We(Ue.bounds.y+Ue.bounds.h)+" "+He(Ue.bounds.x+Ue.bounds.w)+" "+We(Ue.bounds.y)+"] ")+"/Contents ("+Ze(sr(Ue.contents))+")",qe+=" /Popup "+ar.objId+" 0 R",qe+=" /P "+Ge.objId+" 0 R",qe+=" /T ("+Ze(sr(lr))+") >>",nr.content=qe;var or=nr.objId+" 0 R";qe="<</Type /Annot /Subtype /Popup "+(ze="/Rect ["+He(Ue.bounds.x+30)+" "+We(Ue.bounds.y+Ue.bounds.h)+" "+He(Ue.bounds.x+Ue.bounds.w+30)+" "+We(Ue.bounds.y)+"] ")+" /Parent "+or,Ue.open&&(qe+=" /Open true"),qe+=" >>",ar.content=qe,this.internal.write(nr.objId,"0 R",ar.objId,"0 R");break;case"freetext":ze="/Rect ["+He(Ue.bounds.x)+" "+We(Ue.bounds.y)+" "+He(Ue.bounds.x+Ue.bounds.w)+" "+We(Ue.bounds.y+Ue.bounds.h)+"] ";var cr=Ue.color||"#000000";qe="<</Type /Annot /Subtype /FreeText "+ze+"/Contents ("+Ze(rr(Ue.contents))+")",qe+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+cr+")",qe+=" /Border [0 0 0]",qe+=" >>",this.internal.write(qe);break;case"link":if(Ue.options.name){var hr=this.annotations._nameMap[Ue.options.name];Ue.options.pageNumber=hr.page,Ue.options.top=hr.y}else Ue.options.top||(Ue.options.top=0);if(ze="/Rect ["+Ue.finalBounds.x+" "+Ue.finalBounds.y+" "+Ue.finalBounds.w+" "+Ue.finalBounds.h+"] ",qe="",Ue.options.url)qe="<</Type /Annot /Subtype /Link "+ze+"/Border [0 0 0] /A <</S /URI /URI ("+Ze(rr(Ue.options.url))+") >>";else if(Ue.options.pageNumber)switch(qe="<</Type /Annot /Subtype /Link "+ze+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Ue.options.pageNumber).objId+" 0 R",Ue.options.magFactor=Ue.options.magFactor||"XYZ",Ue.options.magFactor){case"Fit":qe+=" /Fit]";break;case"FitH":qe+=" /FitH "+Ue.options.top+"]";break;case"FitV":Ue.options.left=Ue.options.left||0,qe+=" /FitV "+Ue.options.left+"]";break;default:var yr=We(Ue.options.top);Ue.options.left=Ue.options.left||0,Ue.options.zoom===void 0&&(Ue.options.zoom=0),qe+=" /XYZ "+Ue.options.left+" "+yr+" "+Ue.options.zoom+"]"}qe!=""&&(qe+=" >>",this.internal.write(qe))}}this.internal.write("]")}}]),Ve.createAnnotation=function(Be){var Ue=this.internal.getCurrentPageInfo();switch(Be.type){case"link":this.link(Be.bounds.x,Be.bounds.y,Be.bounds.w,Be.bounds.h,Be);break;case"text":case"freetext":Ue.pageContext.annotations.push(Be)}},Ve.link=function(Be,Ue,ze,qe,He){var We=this.internal.getCurrentPageInfo(),Ge=this.internal.getCoordinateString,Ye=this.internal.getVerticalCoordinateString;We.pageContext.annotations.push({finalBounds:{x:Ge(Be),y:Ye(Ue),w:Ge(Be+ze),h:Ye(Ue+qe)},options:He,type:"link"})},Ve.textWithLink=function(Be,Ue,ze,qe){var He,We,Ge=this.getTextWidth(Be),Ye=this.internal.getLineHeight()/this.internal.scaleFactor;if(qe.maxWidth!==void 0){We=qe.maxWidth;var Xe=this.splitTextToSize(Be,We).length;He=Math.ceil(Ye*Xe)}else We=Ge,He=Ye;return this.text(Be,Ue,ze,qe),ze+=.2*Ye,qe.align==="center"&&(Ue-=Ge/2),qe.align==="right"&&(Ue-=Ge),this.link(Ue,ze-Ye,We,He,qe),Ge},Ve.getTextWidth=function(Be){var Ue=this.internal.getFontSize();return this.getStringUnitWidth(Be)*Ue/this.internal.scaleFactor}})(E.API),(function(Ve){var $e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},Be={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Ue={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},ze=[1570,1571,1573,1575];Ve.__arabicParser__={};var qe=Ve.__arabicParser__.isInArabicSubstitutionA=function(nr){return $e[nr.charCodeAt(0)]!==void 0},He=Ve.__arabicParser__.isArabicLetter=function(nr){return typeof nr=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(nr)},We=Ve.__arabicParser__.isArabicEndLetter=function(nr){return He(nr)&&qe(nr)&&$e[nr.charCodeAt(0)].length<=2},Ge=Ve.__arabicParser__.isArabicAlfLetter=function(nr){return He(nr)&&ze.indexOf(nr.charCodeAt(0))>=0};Ve.__arabicParser__.arabicLetterHasIsolatedForm=function(nr){return He(nr)&&qe(nr)&&$e[nr.charCodeAt(0)].length>=1};var Ye=Ve.__arabicParser__.arabicLetterHasFinalForm=function(nr){return He(nr)&&qe(nr)&&$e[nr.charCodeAt(0)].length>=2};Ve.__arabicParser__.arabicLetterHasInitialForm=function(nr){return He(nr)&&qe(nr)&&$e[nr.charCodeAt(0)].length>=3};var Xe=Ve.__arabicParser__.arabicLetterHasMedialForm=function(nr){return He(nr)&&qe(nr)&&$e[nr.charCodeAt(0)].length==4},Je=Ve.__arabicParser__.resolveLigatures=function(nr){var ar=0,sr=Be,lr="",or=0;for(ar=0;ar<nr.length;ar+=1)sr[nr.charCodeAt(ar)]!==void 0?(or++,typeof(sr=sr[nr.charCodeAt(ar)])=="number"&&(lr+=String.fromCharCode(sr),sr=Be,or=0),ar===nr.length-1&&(sr=Be,lr+=nr.charAt(ar-(or-1)),ar-=or-1,or=0)):(sr=Be,lr+=nr.charAt(ar-or),ar-=or,or=0);return lr};Ve.__arabicParser__.isArabicDiacritic=function(nr){return nr!==void 0&&Ue[nr.charCodeAt(0)]!==void 0};var er=Ve.__arabicParser__.getCorrectForm=function(nr,ar,sr){return He(nr)?qe(nr)===!1?-1:!Ye(nr)||!He(ar)&&!He(sr)||!He(sr)&&We(ar)||We(nr)&&!He(ar)||We(nr)&&Ge(ar)||We(nr)&&We(ar)?0:Xe(nr)&&He(ar)&&!We(ar)&&He(sr)&&Ye(sr)?3:We(nr)||!He(sr)?1:2:-1},Ze=function(nr){var ar=0,sr=0,lr=0,or="",cr="",hr="",yr=(nr=nr||"").split("\\s+"),mr=[];for(ar=0;ar<yr.length;ar+=1){for(mr.push(""),sr=0;sr<yr[ar].length;sr+=1)or=yr[ar][sr],cr=yr[ar][sr-1],hr=yr[ar][sr+1],He(or)?(lr=er(or,cr,hr),mr[ar]+=lr!==-1?String.fromCharCode($e[or.charCodeAt(0)][lr]):or):mr[ar]+=or;mr[ar]=Je(mr[ar])}return mr.join(" ")},rr=Ve.__arabicParser__.processArabic=Ve.processArabic=function(){var nr,ar=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,sr=[];if(Array.isArray(ar)){var lr=0;for(sr=[],lr=0;lr<ar.length;lr+=1)Array.isArray(ar[lr])?sr.push([Ze(ar[lr][0]),ar[lr][1],ar[lr][2]]):sr.push([Ze(ar[lr])]);nr=sr}else nr=Ze(ar);return typeof arguments[0]=="string"?nr:(arguments[0].text=nr,arguments[0])};Ve.events.push(["preProcessText",rr])})(E.API),E.API.autoPrint=function(Ve){var $e;return(Ve=Ve||{}).variant=Ve.variant||"non-conform",Ve.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){$e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+$e+" 0 R")})),this},(function(Ve){var $e=function(){var Be=void 0;Object.defineProperty(this,"pdf",{get:function(){return Be},set:function(We){Be=We}});var Ue=150;Object.defineProperty(this,"width",{get:function(){return Ue},set:function(We){Ue=isNaN(We)||Number.isInteger(We)===!1||We<0?150:We,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Ue+1)}});var ze=300;Object.defineProperty(this,"height",{get:function(){return ze},set:function(We){ze=isNaN(We)||Number.isInteger(We)===!1||We<0?300:We,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=ze+1)}});var qe=[];Object.defineProperty(this,"childNodes",{get:function(){return qe},set:function(We){qe=We}});var He={};Object.defineProperty(this,"style",{get:function(){return He},set:function(We){He=We}}),Object.defineProperty(this,"parentNode",{})};$e.prototype.getContext=function(Be,Ue){var ze;if((Be=Be||"2d")!=="2d")return null;for(ze in Ue)this.pdf.context2d.hasOwnProperty(ze)&&(this.pdf.context2d[ze]=Ue[ze]);return this.pdf.context2d._canvas=this,this.pdf.context2d},$e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Ve.events.push(["initialized",function(){this.canvas=new $e,this.canvas.pdf=this}])})(E.API),(function(Ve){var $e={left:0,top:0,bottom:0,right:0},Be=!1,Ue=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},$e),this.internal.__cell__.margins.width=this.getPageWidth(),ze.call(this))},ze=function(){this.internal.__cell__.lastCell=new qe,this.internal.__cell__.pages=1},qe=function(){var Ge=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ge},set:function(nr){Ge=nr}});var Ye=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ye},set:function(nr){Ye=nr}});var Xe=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Xe},set:function(nr){Xe=nr}});var Je=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Je},set:function(nr){Je=nr}});var er=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return er},set:function(nr){er=nr}});var Ze=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Ze},set:function(nr){Ze=nr}});var rr=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return rr},set:function(nr){rr=nr}}),this};qe.prototype.clone=function(){return new qe(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},qe.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Ve.setHeaderFunction=function(Ge){return Ue.call(this),this.internal.__cell__.headerFunction=typeof Ge=="function"?Ge:void 0,this},Ve.getTextDimensions=function(Ge,Ye){Ue.call(this);var Xe=(Ye=Ye||{}).fontSize||this.getFontSize(),Je=Ye.font||this.getFont(),er=Ye.scaleFactor||this.internal.scaleFactor,Ze=0,rr=0,nr=0,ar=this;if(!Array.isArray(Ge)&&typeof Ge!="string"){if(typeof Ge!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Ge=String(Ge)}var sr=Ye.maxWidth;sr>0?typeof Ge=="string"?Ge=this.splitTextToSize(Ge,sr):Object.prototype.toString.call(Ge)==="[object Array]"&&(Ge=Ge.reduce(function(or,cr){return or.concat(ar.splitTextToSize(cr,sr))},[])):Ge=Array.isArray(Ge)?Ge:[Ge];for(var lr=0;lr<Ge.length;lr++)Ze<(nr=this.getStringUnitWidth(Ge[lr],{font:Je})*Xe)&&(Ze=nr);return Ze!==0&&(rr=Ge.length),{w:Ze/=er,h:Math.max((rr*Xe*this.getLineHeightFactor()-Xe*(this.getLineHeightFactor()-1))/er,0)}},Ve.cellAddPage=function(){Ue.call(this),this.addPage();var Ge=this.internal.__cell__.margins||$e;return this.internal.__cell__.lastCell=new qe(Ge.left,Ge.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var He=Ve.cell=function(){var Ge;Ge=arguments[0]instanceof qe?arguments[0]:new qe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),Ue.call(this);var Ye=this.internal.__cell__.lastCell,Xe=this.internal.__cell__.padding,Je=this.internal.__cell__.margins||$e,er=this.internal.__cell__.tableHeaderRow,Ze=this.internal.__cell__.printHeaders;return Ye.lineNumber!==void 0&&(Ye.lineNumber===Ge.lineNumber?(Ge.x=(Ye.x||0)+(Ye.width||0),Ge.y=Ye.y||0):Ye.y+Ye.height+Ge.height+Je.bottom>this.getPageHeight()?(this.cellAddPage(),Ge.y=Je.top,Ze&&er&&(this.printHeaderRow(Ge.lineNumber,!0),Ge.y+=er[0].height)):Ge.y=Ye.y+Ye.height||Ge.y),Ge.text[0]!==void 0&&(this.rect(Ge.x,Ge.y,Ge.width,Ge.height,Be===!0?"FD":void 0),Ge.align==="right"?this.text(Ge.text,Ge.x+Ge.width-Xe,Ge.y+Xe,{align:"right",baseline:"top"}):Ge.align==="center"?this.text(Ge.text,Ge.x+Ge.width/2,Ge.y+Xe,{align:"center",baseline:"top",maxWidth:Ge.width-Xe-Xe}):this.text(Ge.text,Ge.x+Xe,Ge.y+Xe,{align:"left",baseline:"top",maxWidth:Ge.width-Xe-Xe})),this.internal.__cell__.lastCell=Ge,this};Ve.table=function(Ge,Ye,Xe,Je,er){if(Ue.call(this),!Xe)throw new Error("No data for PDF table.");var Ze,rr,nr,ar,sr=[],lr=[],or=[],cr={},hr={},yr=[],mr=[],vr=(er=er||{}).autoSize||!1,_r=er.printHeaders!==!1,Cr=er.css&&er.css["font-size"]!==void 0?16*er.css["font-size"]:er.fontSize||12,br=er.margins||Object.assign({width:this.getPageWidth()},$e),fr=typeof er.padding=="number"?er.padding:3,Sr=er.headerBackgroundColor||"#c8c8c8",Dr=er.headerTextColor||"#000";if(ze.call(this),this.internal.__cell__.printHeaders=_r,this.internal.__cell__.margins=br,this.internal.__cell__.table_font_size=Cr,this.internal.__cell__.padding=fr,this.internal.__cell__.headerBackgroundColor=Sr,this.internal.__cell__.headerTextColor=Dr,this.setFontSize(Cr),Je==null)lr=sr=Object.keys(Xe[0]),or=sr.map(function(){return"left"});else if(Array.isArray(Je)&&_typeof(Je[0])==="object")for(sr=Je.map(function(Lr){return Lr.name}),lr=Je.map(function(Lr){return Lr.prompt||Lr.name||""}),or=Je.map(function(Lr){return Lr.align||"left"}),Ze=0;Ze<Je.length;Ze+=1)hr[Je[Ze].name]=.7499990551181103*Je[Ze].width;else Array.isArray(Je)&&typeof Je[0]=="string"&&(lr=sr=Je,or=sr.map(function(){return"left"}));if(vr||Array.isArray(Je)&&typeof Je[0]=="string")for(Ze=0;Ze<sr.length;Ze+=1){for(cr[ar=sr[Ze]]=Xe.map(function(Lr){return Lr[ar]}),this.setFont(void 0,"bold"),yr.push(this.getTextDimensions(lr[Ze],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),rr=cr[ar],this.setFont(void 0,"normal"),nr=0;nr<rr.length;nr+=1)yr.push(this.getTextDimensions(rr[nr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);hr[ar]=Math.max.apply(null,yr)+fr+fr,yr=[]}if(_r){var Or={};for(Ze=0;Ze<sr.length;Ze+=1)Or[sr[Ze]]={},Or[sr[Ze]].text=lr[Ze],Or[sr[Ze]].align=or[Ze];var Er=We.call(this,Or,hr);mr=sr.map(function(Lr){return new qe(Ge,Ye,hr[Lr],Er,Or[Lr].text,void 0,Or[Lr].align)}),this.setTableHeaderRow(mr),this.printHeaderRow(1,!1)}var Nr=Je.reduce(function(Lr,Pr){return Lr[Pr.name]=Pr.align,Lr},{});for(Ze=0;Ze<Xe.length;Ze+=1){"rowStart"in er&&er.rowStart instanceof Function&&er.rowStart({row:Ze,data:Xe[Ze]},this);var wr=We.call(this,Xe[Ze],hr);for(nr=0;nr<sr.length;nr+=1){var Ar=Xe[Ze][sr[nr]];"cellStart"in er&&er.cellStart instanceof Function&&er.cellStart({row:Ze,col:nr,data:Ar},this),He.call(this,new qe(Ge,Ye,hr[sr[nr]],wr,Ar,Ze+2,Nr[sr[nr]]))}}return this.internal.__cell__.table_x=Ge,this.internal.__cell__.table_y=Ye,this};var We=function(Ge,Ye){var Xe=this.internal.__cell__.padding,Je=this.internal.__cell__.table_font_size,er=this.internal.scaleFactor;return Object.keys(Ge).map(function(Ze){var rr=Ge[Ze];return this.splitTextToSize(rr.hasOwnProperty("text")?rr.text:rr,Ye[Ze]-Xe-Xe)},this).map(function(Ze){return this.getLineHeightFactor()*Ze.length*Je/er+Xe+Xe},this).reduce(function(Ze,rr){return Math.max(Ze,rr)},0)};Ve.setTableHeaderRow=function(Ge){Ue.call(this),this.internal.__cell__.tableHeaderRow=Ge},Ve.printHeaderRow=function(Ge,Ye){if(Ue.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Xe;if(Be=!0,typeof this.internal.__cell__.headerFunction=="function"){var Je=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new qe(Je[0],Je[1],Je[2],Je[3],void 0,-1)}this.setFont(void 0,"bold");for(var er=[],Ze=0;Ze<this.internal.__cell__.tableHeaderRow.length;Ze+=1){Xe=this.internal.__cell__.tableHeaderRow[Ze].clone(),Ye&&(Xe.y=this.internal.__cell__.margins.top||0,er.push(Xe)),Xe.lineNumber=Ge;var rr=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),He.call(this,Xe),this.setTextColor(rr)}er.length>0&&this.setTableHeaderRow(er),this.setFont(void 0,"normal"),Be=!1}})(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ft=_t(kt),It=[100,200,300,400,500,600,700,800,900],jt=_t(It);function Ct(Ve){var $e=Ve.family.replace(/"|'/g,"").toLowerCase(),Be=(function(qe){return Pt[qe=qe||"normal"]?qe:"normal"})(Ve.style),Ue=(function(qe){return qe?typeof qe=="number"?qe>=100&&qe<=900&&qe%100==0?qe:400:/^\d00$/.test(qe)?parseInt(qe):qe==="bold"?700:400:400})(Ve.weight),ze=(function(qe){return typeof Ft[qe=qe||"normal"]=="number"?qe:"normal"})(Ve.stretch);return{family:$e,style:Be,weight:Ue,stretch:ze,src:Ve.src||[],ref:Ve.ref||{name:$e,style:[ze,Be,Ue].join(" ")}}}function Ot(Ve,$e,Be,Ue){var ze;for(ze=Be;ze>=0&&ze<$e.length;ze+=Ue)if(Ve[$e[ze]])return Ve[$e[ze]];for(ze=Be;ze>=0&&ze<$e.length;ze-=Ue)if(Ve[$e[ze]])return Ve[$e[ze]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qt(Ve){return[Ve.stretch,Ve.style,Ve.weight,Ve.family].join(" ")}function Et(Ve){return Ve.trimLeft()}function Rt(Ve,$e){for(var Be=0;Be<Ve.length;){if(Ve.charAt(Be)===$e)return[Ve.substring(0,Be),Ve.substring(Be+1)];Be+=1}return null}function Dt(Ve){var $e=Ve.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return $e===null?null:[$e[0],Ve.substring($e[0].length)]}var Tt,zt,Ut,Ht,Wt,Vt,Gt,Yt,Jt=["times"];function Xt(Ve,$e,Be,Ue,ze){var qe=4,He=$t;switch(ze){case E.API.image_compression.FAST:qe=1,He=Zt;break;case E.API.image_compression.MEDIUM:qe=6,He=Qt;break;case E.API.image_compression.SLOW:qe=9,He=te}Ve=(function(Ge,Ye,Xe,Je){for(var er,Ze=Ge.length/Ye,rr=new Uint8Array(Ge.length+Ze),nr=[Kt,Zt,$t,Qt,te],ar=0;ar<Ze;ar+=1){var sr=ar*Ye,lr=Ge.subarray(sr,sr+Ye);if(Je)rr.set(Je(lr,Xe,er),sr+ar);else{for(var or=nr.length,cr=[],hr=0;hr<or;hr+=1)cr[hr]=nr[hr](lr,Xe,er);var yr=ne(cr.concat());rr.set(cr[yr],sr+ar)}er=lr}return rr})(Ve,$e,Math.ceil(Be*Ue/8),He);var We=zlibSync(Ve,{level:qe});return E.API.__addimage__.arrayBufferToBinaryString(We)}function Kt(Ve){var $e=Array.apply([],Ve);return $e.unshift(0),$e}function Zt(Ve,$e){var Be=Ve.length,Ue=[];Ue[0]=1;for(var ze=0;ze<Be;ze+=1){var qe=Ve[ze-$e]||0;Ue[ze+1]=Ve[ze]-qe+256&255}return Ue}function $t(Ve,$e,Be){var Ue=Ve.length,ze=[];ze[0]=2;for(var qe=0;qe<Ue;qe+=1){var He=Be&&Be[qe]||0;ze[qe+1]=Ve[qe]-He+256&255}return ze}function Qt(Ve,$e,Be){var Ue=Ve.length,ze=[];ze[0]=3;for(var qe=0;qe<Ue;qe+=1){var He=Ve[qe-$e]||0,We=Be&&Be[qe]||0;ze[qe+1]=Ve[qe]+256-(He+We>>>1)&255}return ze}function te(Ve,$e,Be){var Ue=Ve.length,ze=[];ze[0]=4;for(var qe=0;qe<Ue;qe+=1){var He=ee(Ve[qe-$e]||0,Be&&Be[qe]||0,Be&&Be[qe-$e]||0);ze[qe+1]=Ve[qe]-He+256&255}return ze}function ee(Ve,$e,Be){if(Ve===$e&&$e===Be)return Ve;var Ue=Math.abs($e-Be),ze=Math.abs(Ve-Be),qe=Math.abs(Ve+$e-Be-Be);return Ue<=ze&&Ue<=qe?Ve:ze<=qe?$e:Be}function ne(Ve){var $e=Ve.map(function(Be){return Be.reduce(function(Ue,ze){return Ue+Math.abs(ze)},0)});return $e.indexOf(Math.min.apply(null,$e))}function re(Ve,$e,Be){var Ue=$e*Be,ze=Math.floor(Ue/8),qe=16-(Ue-8*ze+Be),He=(1<<Be)-1;return ae(Ve,ze)>>qe&He}function ie(Ve,$e,Be,Ue){var ze=Be*Ue,qe=Math.floor(ze/8),He=16-(ze-8*qe+Ue),We=(1<<Ue)-1,Ge=($e&We)<<He;(function(Ye,Xe,Je){if(Xe+1<Ye.byteLength)Ye.setUint16(Xe,Je,!1);else{var er=Je>>8&255;Ye.setUint8(Xe,er)}})(Ve,qe,ae(Ve,qe)&~(We<<He)&65535|Ge)}function ae(Ve,$e){return $e+1<Ve.byteLength?Ve.getUint16($e,!1):Ve.getUint8($e)<<8}function oe(Ve){var $e=0;if(Ve[$e++]!==71||Ve[$e++]!==73||Ve[$e++]!==70||Ve[$e++]!==56||(Ve[$e++]+1&253)!=56||Ve[$e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var Be=Ve[$e++]|Ve[$e++]<<8,Ue=Ve[$e++]|Ve[$e++]<<8,ze=Ve[$e++],qe=ze>>7,He=1<<1+(7&ze);Ve[$e++],Ve[$e++];var We=null,Ge=null;qe&&(We=$e,Ge=He,$e+=3*He);var Ye=!0,Xe=[],Je=0,er=null,Ze=0,rr=null;for(this.width=Be,this.height=Ue;Ye&&$e<Ve.length;)switch(Ve[$e++]){case 33:switch(Ve[$e++]){case 255:if(Ve[$e]!==11||Ve[$e+1]==78&&Ve[$e+2]==69&&Ve[$e+3]==84&&Ve[$e+4]==83&&Ve[$e+5]==67&&Ve[$e+6]==65&&Ve[$e+7]==80&&Ve[$e+8]==69&&Ve[$e+9]==50&&Ve[$e+10]==46&&Ve[$e+11]==48&&Ve[$e+12]==3&&Ve[$e+13]==1&&Ve[$e+16]==0)$e+=14,rr=Ve[$e++]|Ve[$e++]<<8,$e++;else for($e+=12;;){if(!((br=Ve[$e++])>=0))throw Error("Invalid block size");if(br===0)break;$e+=br}break;case 249:if(Ve[$e++]!==4||Ve[$e+4]!==0)throw new Error("Invalid graphics extension block.");var nr=Ve[$e++];Je=Ve[$e++]|Ve[$e++]<<8,er=Ve[$e++],1&nr||(er=null),Ze=nr>>2&7,$e++;break;case 254:for(;;){if(!((br=Ve[$e++])>=0))throw Error("Invalid block size");if(br===0)break;$e+=br}break;default:throw new Error("Unknown graphic control label: 0x"+Ve[$e-1].toString(16))}break;case 44:var ar=Ve[$e++]|Ve[$e++]<<8,sr=Ve[$e++]|Ve[$e++]<<8,lr=Ve[$e++]|Ve[$e++]<<8,or=Ve[$e++]|Ve[$e++]<<8,cr=Ve[$e++],hr=cr>>6&1,yr=1<<1+(7&cr),mr=We,vr=Ge,_r=!1;cr>>7&&(_r=!0,mr=$e,vr=yr,$e+=3*yr);var Cr=$e;for($e++;;){var br;if(!((br=Ve[$e++])>=0))throw Error("Invalid block size");if(br===0)break;$e+=br}Xe.push({x:ar,y:sr,width:lr,height:or,has_local_palette:_r,palette_offset:mr,palette_size:vr,data_offset:Cr,data_length:$e-Cr,transparent_index:er,interlaced:!!hr,delay:Je,disposal:Ze});break;case 59:Ye=!1;break;default:throw new Error("Unknown gif block: 0x"+Ve[$e-1].toString(16))}this.numFrames=function(){return Xe.length},this.loopCount=function(){return rr},this.frameInfo=function(fr){if(fr<0||fr>=Xe.length)throw new Error("Frame index out of range.");return Xe[fr]},this.decodeAndBlitFrameBGRA=function(fr,Sr){var Dr=this.frameInfo(fr),Or=Dr.width*Dr.height,Er=new Uint8Array(Or);se(Ve,Dr.data_offset,Er,Or);var Nr=Dr.palette_offset,wr=Dr.transparent_index;wr===null&&(wr=256);var Ar=Dr.width,Lr=Be-Ar,Pr=Ar,Tr=4*(Dr.y*Be+Dr.x),Vr=4*((Dr.y+Dr.height)*Be+Dr.x),Ur=Tr,Yr=4*Lr;Dr.interlaced===!0&&(Yr+=4*Be*7);for(var Qr=8,mn=0,An=Er.length;mn<An;++mn){var Zr=Er[mn];if(Pr===0&&(Pr=Ar,(Ur+=Yr)>=Vr&&(Yr=4*Lr+4*Be*(Qr-1),Ur=Tr+(Ar+Lr)*(Qr<<1),Qr>>=1)),Zr===wr)Ur+=4;else{var bn=Ve[Nr+3*Zr],jn=Ve[Nr+3*Zr+1],gn=Ve[Nr+3*Zr+2];Sr[Ur++]=gn,Sr[Ur++]=jn,Sr[Ur++]=bn,Sr[Ur++]=255}--Pr}},this.decodeAndBlitFrameRGBA=function(fr,Sr){var Dr=this.frameInfo(fr),Or=Dr.width*Dr.height,Er=new Uint8Array(Or);se(Ve,Dr.data_offset,Er,Or);var Nr=Dr.palette_offset,wr=Dr.transparent_index;wr===null&&(wr=256);var Ar=Dr.width,Lr=Be-Ar,Pr=Ar,Tr=4*(Dr.y*Be+Dr.x),Vr=4*((Dr.y+Dr.height)*Be+Dr.x),Ur=Tr,Yr=4*Lr;Dr.interlaced===!0&&(Yr+=4*Be*7);for(var Qr=8,mn=0,An=Er.length;mn<An;++mn){var Zr=Er[mn];if(Pr===0&&(Pr=Ar,(Ur+=Yr)>=Vr&&(Yr=4*Lr+4*Be*(Qr-1),Ur=Tr+(Ar+Lr)*(Qr<<1),Qr>>=1)),Zr===wr)Ur+=4;else{var bn=Ve[Nr+3*Zr],jn=Ve[Nr+3*Zr+1],gn=Ve[Nr+3*Zr+2];Sr[Ur++]=bn,Sr[Ur++]=jn,Sr[Ur++]=gn,Sr[Ur++]=255}--Pr}}}function se(Ve,$e,Be,Ue){for(var ze=Ve[$e++],qe=1<<ze,He=qe+1,We=He+1,Ge=ze+1,Ye=(1<<Ge)-1,Xe=0,Je=0,er=0,Ze=Ve[$e++],rr=new Int32Array(4096),nr=null;;){for(;Xe<16&&Ze!==0;)Je|=Ve[$e++]<<Xe,Xe+=8,Ze===1?Ze=Ve[$e++]:--Ze;if(Xe<Ge)break;var ar=Je&Ye;if(Je>>=Ge,Xe-=Ge,ar!==qe){if(ar===He)break;for(var sr=ar<We?ar:nr,lr=0,or=sr;or>qe;)or=rr[or]>>8,++lr;var cr=or;if(er+lr+(sr!==ar?1:0)>Ue)return void o.log("Warning, gif stream longer than expected.");Be[er++]=cr;var hr=er+=lr;for(sr!==ar&&(Be[er++]=cr),or=sr;lr--;)or=rr[or],Be[--hr]=255&or,or>>=8;nr!==null&&We<4096&&(rr[We++]=nr<<8|cr,We>=Ye+1&&Ge<12&&(++Ge,Ye=Ye<<1|1)),nr=ar}else We=He+1,Ye=(1<<(Ge=ze+1))-1,nr=null}return er!==Ue&&o.log("Warning, gif stream shorter than expected."),Be}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ue(Ve){var $e,Be,Ue,ze,qe,He=Math.floor,We=new Array(64),Ge=new Array(64),Ye=new Array(64),Xe=new Array(64),Je=new Array(65535),er=new Array(65535),Ze=new Array(64),rr=new Array(64),nr=[],ar=0,sr=7,lr=new Array(64),or=new Array(64),cr=new Array(64),hr=new Array(256),yr=new Array(2048),mr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],vr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_r=[0,1,2,3,4,5,6,7,8,9,10,11],Cr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],br=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],fr=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Sr=[0,1,2,3,4,5,6,7,8,9,10,11],Dr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Or=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Er(Tr,Vr){for(var Ur=0,Yr=0,Qr=new Array,mn=1;mn<=16;mn++){for(var An=1;An<=Tr[mn];An++)Qr[Vr[Yr]]=[],Qr[Vr[Yr]][0]=Ur,Qr[Vr[Yr]][1]=mn,Yr++,Ur++;Ur*=2}return Qr}function Nr(Tr){for(var Vr=Tr[0],Ur=Tr[1]-1;Ur>=0;)Vr&1<<Ur&&(ar|=1<<sr),Ur--,--sr<0&&(ar==255?(wr(255),wr(0)):wr(ar),sr=7,ar=0)}function wr(Tr){nr.push(Tr)}function Ar(Tr){wr(Tr>>8&255),wr(255&Tr)}function Lr(Tr,Vr,Ur,Yr,Qr){for(var mn,An=Qr[0],Zr=Qr[240],bn=(function(Vn,zn){var Qn,Yn,vi,xn,ei,ni,ui,oi,fi,yi,mi=0;for(fi=0;fi<8;++fi){Qn=Vn[mi],Yn=Vn[mi+1],vi=Vn[mi+2],xn=Vn[mi+3],ei=Vn[mi+4],ni=Vn[mi+5],ui=Vn[mi+6];var as=Qn+(oi=Vn[mi+7]),Ui=Qn-oi,Ci=Yn+ui,Di=Yn-ui,Wi=vi+ni,Ai=vi-ni,ps=xn+ei,Ni=xn-ei,$i=as+ps,os=as-ps,ji=Ci+Wi,Ti=Ci-Wi;Vn[mi]=$i+ji,Vn[mi+4]=$i-ji;var Qi=.707106781*(Ti+os);Vn[mi+2]=os+Qi,Vn[mi+6]=os-Qi;var ga=.382683433*(($i=Ni+Ai)-(Ti=Di+Ui)),ta=.5411961*$i+ga,ao=1.306562965*Ti+ga,ks=.707106781*(ji=Ai+Di),Ii=Ui+ks,To=Ui-ks;Vn[mi+5]=To+ta,Vn[mi+3]=To-ta,Vn[mi+1]=Ii+ao,Vn[mi+7]=Ii-ao,mi+=8}for(mi=0,fi=0;fi<8;++fi){Qn=Vn[mi],Yn=Vn[mi+8],vi=Vn[mi+16],xn=Vn[mi+24],ei=Vn[mi+32],ni=Vn[mi+40],ui=Vn[mi+48];var Ca=Qn+(oi=Vn[mi+56]),Zi=Qn-oi,Cn=Yn+ui,hi=Yn-ui,li=vi+ni,si=vi-ni,zi=xn+ei,Yi=xn-ei,Mi=Ca+zi,Gi=Ca-zi,ls=Cn+li,ra=Cn-li;Vn[mi]=Mi+ls,Vn[mi+32]=Mi-ls;var ca=.707106781*(ra+Gi);Vn[mi+16]=Gi+ca,Vn[mi+48]=Gi-ca;var Ya=.382683433*((Mi=Yi+si)-(ra=hi+Zi)),Ra=.5411961*Mi+Ya,Ps=1.306562965*ra+Ya,nl=.707106781*(ls=si+hi),oo=Zi+nl,$a=Zi-nl;Vn[mi+40]=$a+Ra,Vn[mi+24]=$a-Ra,Vn[mi+8]=oo+Ps,Vn[mi+56]=oo-Ps,mi++}for(fi=0;fi<64;++fi)yi=Vn[fi]*zn[fi],Ze[fi]=yi>0?yi+.5|0:yi-.5|0;return Ze})(Tr,Vr),jn=0;jn<64;++jn)rr[mr[jn]]=bn[jn];var gn=rr[0]-Ur;Ur=rr[0],gn==0?Nr(Yr[0]):(Nr(Yr[er[mn=32767+gn]]),Nr(Je[mn]));for(var In=63;In>0&&rr[In]==0;)In--;if(In==0)return Nr(An),Ur;for(var Sn,Gr=1;Gr<=In;){for(var Un=Gr;rr[Gr]==0&&Gr<=In;)++Gr;var di=Gr-Un;if(di>=16){Sn=di>>4;for(var ii=1;ii<=Sn;++ii)Nr(Zr);di&=15}mn=32767+rr[Gr],Nr(Qr[(di<<4)+er[mn]]),Nr(Je[mn]),Gr++}return In!=63&&Nr(An),Ur}function Pr(Tr){Tr=Math.min(Math.max(Tr,1),100),qe!=Tr&&((function(Vr){for(var Ur=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Yr=0;Yr<64;Yr++){var Qr=He((Ur[Yr]*Vr+50)/100);Qr=Math.min(Math.max(Qr,1),255),We[mr[Yr]]=Qr}for(var mn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],An=0;An<64;An++){var Zr=He((mn[An]*Vr+50)/100);Zr=Math.min(Math.max(Zr,1),255),Ge[mr[An]]=Zr}for(var bn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],jn=0,gn=0;gn<8;gn++)for(var In=0;In<8;In++)Ye[jn]=1/(We[mr[jn]]*bn[gn]*bn[In]*8),Xe[jn]=1/(Ge[mr[jn]]*bn[gn]*bn[In]*8),jn++})(Tr<50?Math.floor(5e3/Tr):Math.floor(200-2*Tr)),qe=Tr)}this.encode=function(Tr,Vr){Vr&&Pr(Vr),nr=new Array,ar=0,sr=7,Ar(65496),Ar(65504),Ar(16),wr(74),wr(70),wr(73),wr(70),wr(0),wr(1),wr(1),wr(0),Ar(1),Ar(1),wr(0),wr(0),(function(){Ar(65499),Ar(132),wr(0);for(var Yn=0;Yn<64;Yn++)wr(We[Yn]);wr(1);for(var vi=0;vi<64;vi++)wr(Ge[vi])})(),(function(Yn,vi){Ar(65472),Ar(17),wr(8),Ar(vi),Ar(Yn),wr(3),wr(1),wr(17),wr(0),wr(2),wr(17),wr(1),wr(3),wr(17),wr(1)})(Tr.width,Tr.height),(function(){Ar(65476),Ar(418),wr(0);for(var Yn=0;Yn<16;Yn++)wr(vr[Yn+1]);for(var vi=0;vi<=11;vi++)wr(_r[vi]);wr(16);for(var xn=0;xn<16;xn++)wr(Cr[xn+1]);for(var ei=0;ei<=161;ei++)wr(br[ei]);wr(1);for(var ni=0;ni<16;ni++)wr(fr[ni+1]);for(var ui=0;ui<=11;ui++)wr(Sr[ui]);wr(17);for(var oi=0;oi<16;oi++)wr(Dr[oi+1]);for(var fi=0;fi<=161;fi++)wr(Or[fi])})(),Ar(65498),Ar(12),wr(3),wr(1),wr(0),wr(2),wr(17),wr(3),wr(17),wr(0),wr(63),wr(0);var Ur=0,Yr=0,Qr=0;ar=0,sr=7,this.encode.displayName="_encode_";for(var mn,An,Zr,bn,jn,gn,In,Sn,Gr,Un=Tr.data,di=Tr.width,ii=Tr.height,Vn=4*di,zn=0;zn<ii;){for(mn=0;mn<Vn;){for(jn=Vn*zn+mn,In=-1,Sn=0,Gr=0;Gr<64;Gr++)gn=jn+(Sn=Gr>>3)*Vn+(In=4*(7&Gr)),zn+Sn>=ii&&(gn-=Vn*(zn+1+Sn-ii)),mn+In>=Vn&&(gn-=mn+In-Vn+4),An=Un[gn++],Zr=Un[gn++],bn=Un[gn++],lr[Gr]=(yr[An]+yr[Zr+256|0]+yr[bn+512|0]>>16)-128,or[Gr]=(yr[An+768|0]+yr[Zr+1024|0]+yr[bn+1280|0]>>16)-128,cr[Gr]=(yr[An+1280|0]+yr[Zr+1536|0]+yr[bn+1792|0]>>16)-128;Ur=Lr(lr,Ye,Ur,$e,Ue),Yr=Lr(or,Xe,Yr,Be,ze),Qr=Lr(cr,Xe,Qr,Be,ze),mn+=32}zn+=8}if(sr>=0){var Qn=[];Qn[1]=sr+1,Qn[0]=(1<<sr+1)-1,Nr(Qn)}return Ar(65497),new Uint8Array(nr)},Ve=Ve||50,(function(){for(var Tr=String.fromCharCode,Vr=0;Vr<256;Vr++)hr[Vr]=Tr(Vr)})(),$e=Er(vr,_r),Be=Er(fr,Sr),Ue=Er(Cr,br),ze=Er(Dr,Or),(function(){for(var Tr=1,Vr=2,Ur=1;Ur<=15;Ur++){for(var Yr=Tr;Yr<Vr;Yr++)er[32767+Yr]=Ur,Je[32767+Yr]=[],Je[32767+Yr][1]=Ur,Je[32767+Yr][0]=Yr;for(var Qr=-(Vr-1);Qr<=-Tr;Qr++)er[32767+Qr]=Ur,Je[32767+Qr]=[],Je[32767+Qr][1]=Ur,Je[32767+Qr][0]=Vr-1+Qr;Tr<<=1,Vr<<=1}})(),(function(){for(var Tr=0;Tr<256;Tr++)yr[Tr]=19595*Tr,yr[Tr+256|0]=38470*Tr,yr[Tr+512|0]=7471*Tr+32768,yr[Tr+768|0]=-11059*Tr,yr[Tr+1024|0]=-21709*Tr,yr[Tr+1280|0]=32768*Tr+8421375,yr[Tr+1536|0]=-27439*Tr,yr[Tr+1792|0]=-5329*Tr})(),Pr(Ve)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ce(Ve,$e){if(this.pos=0,this.buffer=Ve,this.datav=new DataView(Ve.buffer),this.is_with_alpha=!!$e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function le(Ve){function $e(_r){if(!_r)throw Error("assert :P")}function Be(_r,Cr,br){for(var fr=0;4>fr;fr++)if(_r[Cr+fr]!=br.charCodeAt(fr))return!0;return!1}function Ue(_r,Cr,br,fr,Sr){for(var Dr=0;Dr<Sr;Dr++)_r[Cr+Dr]=br[fr+Dr]}function ze(_r,Cr,br,fr){for(var Sr=0;Sr<fr;Sr++)_r[Cr+Sr]=br}function qe(_r){return new Int32Array(_r)}function He(_r,Cr){for(var br=[],fr=0;fr<_r;fr++)br.push(new Cr);return br}function We(_r,Cr){var br=[];return(function fr(Sr,Dr,Or){for(var Er=Or[Dr],Nr=0;Nr<Er&&(Sr.push(Or.length>Dr+1?[]:new Cr),!(Or.length<Dr+1));Nr++)fr(Sr[Nr],Dr+1,Or)})(br,0,_r),br}var Ge=function(){var _r=this;function Cr(ur,gr){for(var jr=1<<gr-1>>>0;ur&jr;)jr>>>=1;return jr?(ur&jr-1)+jr:ur}function br(ur,gr,jr,Mr,zr){$e(!(Mr%jr));do ur[gr+(Mr-=jr)]=zr;while(0<Mr)}function fr(ur,gr,jr,Mr,zr){if($e(2328>=zr),512>=zr)var qr=qe(512);else if((qr=qe(zr))==null)return 0;return(function(Hr,Kr,Jr,pn,En,On){var dn,Rn,Dn=Kr,Wn=1<<Jr,Mn=qe(16),Hn=qe(16);for($e(En!=0),$e(pn!=null),$e(Hr!=null),$e(0<Jr),Rn=0;Rn<En;++Rn){if(15<pn[Rn])return 0;++Mn[pn[Rn]]}if(Mn[0]==En)return 0;for(Hn[1]=0,dn=1;15>dn;++dn){if(Mn[dn]>1<<dn)return 0;Hn[dn+1]=Hn[dn]+Mn[dn]}for(Rn=0;Rn<En;++Rn)dn=pn[Rn],0<pn[Rn]&&(On[Hn[dn]++]=Rn);if(Hn[15]==1)return(pn=new Sr).g=0,pn.value=On[0],br(Hr,Dn,1,Wn,pn),Wn;var Xn,ai=-1,ti=Wn-1,Ri=0,xi=1,Xi=1,Ei=1<<Jr;for(Rn=0,dn=1,En=2;dn<=Jr;++dn,En<<=1){if(xi+=Xi<<=1,0>(Xi-=Mn[dn]))return 0;for(;0<Mn[dn];--Mn[dn])(pn=new Sr).g=dn,pn.value=On[Rn++],br(Hr,Dn+Ri,En,Ei,pn),Ri=Cr(Ri,dn)}for(dn=Jr+1,En=2;15>=dn;++dn,En<<=1){if(xi+=Xi<<=1,0>(Xi-=Mn[dn]))return 0;for(;0<Mn[dn];--Mn[dn]){if(pn=new Sr,(Ri&ti)!=ai){for(Dn+=Ei,Xn=1<<(ai=dn)-Jr;15>ai&&!(0>=(Xn-=Mn[ai]));)++ai,Xn<<=1;Wn+=Ei=1<<(Xn=ai-Jr),Hr[Kr+(ai=Ri&ti)].g=Xn+Jr,Hr[Kr+ai].value=Dn-Kr-ai}pn.g=dn-Jr,pn.value=On[Rn++],br(Hr,Dn+(Ri>>Jr),En,Ei,pn),Ri=Cr(Ri,dn)}}return xi!=2*Hn[15]-1?0:Wn})(ur,gr,jr,Mr,zr,qr)}function Sr(){this.value=this.g=0}function Dr(){this.value=this.g=0}function Or(){this.G=He(5,Sr),this.H=qe(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=He(dc,Dr)}function Er(ur,gr,jr,Mr){$e(ur!=null),$e(gr!=null),$e(2147483648>Mr),ur.Ca=254,ur.I=0,ur.b=-8,ur.Ka=0,ur.oa=gr,ur.pa=jr,ur.Jd=gr,ur.Yc=jr+Mr,ur.Zc=4<=Mr?jr+Mr-4+1:jr,An(ur)}function Nr(ur,gr){for(var jr=0;0<gr--;)jr|=bn(ur,128)<<gr;return jr}function wr(ur,gr){var jr=Nr(ur,gr);return Zr(ur)?-jr:jr}function Ar(ur,gr,jr,Mr){var zr,qr=0;for($e(ur!=null),$e(gr!=null),$e(4294967288>Mr),ur.Sb=Mr,ur.Ra=0,ur.u=0,ur.h=0,4<Mr&&(Mr=4),zr=0;zr<Mr;++zr)qr+=gr[jr+zr]<<8*zr;ur.Ra=qr,ur.bb=Mr,ur.oa=gr,ur.pa=jr}function Lr(ur){for(;8<=ur.u&&ur.bb<ur.Sb;)ur.Ra>>>=8,ur.Ra+=ur.oa[ur.pa+ur.bb]<<Sl-8>>>0,++ur.bb,ur.u-=8;Yr(ur)&&(ur.h=1,ur.u=0)}function Pr(ur,gr){if($e(0<=gr),!ur.h&&gr<=go){var jr=Ur(ur)&Ro[gr];return ur.u+=gr,Lr(ur),jr}return ur.h=1,ur.u=0}function Tr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Vr(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ur(ur){return ur.Ra>>>(ur.u&Sl-1)>>>0}function Yr(ur){return $e(ur.bb<=ur.Sb),ur.h||ur.bb==ur.Sb&&ur.u>Sl}function Qr(ur,gr){ur.u=gr,ur.h=Yr(ur)}function mn(ur){ur.u>=Rl&&($e(ur.u>=Rl),Lr(ur))}function An(ur){$e(ur!=null&&ur.oa!=null),ur.pa<ur.Zc?(ur.I=(ur.oa[ur.pa++]|ur.I<<8)>>>0,ur.b+=8):($e(ur!=null&&ur.oa!=null),ur.pa<ur.Yc?(ur.b+=8,ur.I=ur.oa[ur.pa++]|ur.I<<8):ur.Ka?ur.b=0:(ur.I<<=8,ur.b+=8,ur.Ka=1))}function Zr(ur){return Nr(ur,1)}function bn(ur,gr){var jr=ur.Ca;0>ur.b&&An(ur);var Mr=ur.b,zr=jr*gr>>>8,qr=(ur.I>>>Mr>zr)+0;for(qr?(jr-=zr,ur.I-=zr+1<<Mr>>>0):jr=zr+1,Mr=jr,zr=0;256<=Mr;)zr+=8,Mr>>=8;return Mr=7^zr+zl[Mr],ur.b-=Mr,ur.Ca=(jr<<Mr)-1,qr}function jn(ur,gr,jr){ur[gr+0]=jr>>24&255,ur[gr+1]=jr>>16&255,ur[gr+2]=jr>>8&255,ur[gr+3]=255&jr}function gn(ur,gr){return ur[gr+0]|ur[gr+1]<<8}function In(ur,gr){return gn(ur,gr)|ur[gr+2]<<16}function Sn(ur,gr){return gn(ur,gr)|gn(ur,gr+2)<<16}function Gr(ur,gr){var jr=1<<gr;return $e(ur!=null),$e(0<gr),ur.X=qe(jr),ur.X==null?0:(ur.Mb=32-gr,ur.Xa=gr,1)}function Un(ur,gr){$e(ur!=null),$e(gr!=null),$e(ur.Xa==gr.Xa),Ue(gr.X,0,ur.X,0,1<<gr.Xa)}function di(){this.X=[],this.Xa=this.Mb=0}function ii(ur,gr,jr,Mr){$e(jr!=null),$e(Mr!=null);var zr=jr[0],qr=Mr[0];return zr==0&&(zr=(ur*qr+gr/2)/gr),qr==0&&(qr=(gr*zr+ur/2)/ur),0>=zr||0>=qr?0:(jr[0]=zr,Mr[0]=qr,1)}function Vn(ur,gr){return ur+(1<<gr)-1>>>gr}function zn(ur,gr){return((4278255360&ur)+(4278255360&gr)>>>0&4278255360)+((16711935&ur)+(16711935&gr)>>>0&16711935)>>>0}function Qn(ur,gr){_r[gr]=function(jr,Mr,zr,qr,Hr,Kr,Jr){var pn;for(pn=0;pn<Hr;++pn){var En=_r[ur](Kr[Jr+pn-1],zr,qr+pn);Kr[Jr+pn]=zn(jr[Mr+pn],En)}}}function Yn(){this.ud=this.hd=this.jd=0}function vi(ur,gr){return((4278124286&(ur^gr))>>>1)+(ur&gr)>>>0}function xn(ur){return 0<=ur&&256>ur?ur:0>ur?0:255<ur?255:void 0}function ei(ur,gr){return xn(ur+(ur-gr+.5>>1))}function ni(ur,gr,jr){return Math.abs(gr-jr)-Math.abs(ur-jr)}function ui(ur,gr,jr,Mr,zr,qr,Hr){for(Mr=qr[Hr-1],jr=0;jr<zr;++jr)qr[Hr+jr]=Mr=zn(ur[gr+jr],Mr)}function oi(ur,gr,jr,Mr,zr){var qr;for(qr=0;qr<jr;++qr){var Hr=ur[gr+qr],Kr=Hr>>8&255,Jr=16711935&(Jr=(Jr=16711935&Hr)+((Kr<<16)+Kr));Mr[zr+qr]=(4278255360&Hr)+Jr>>>0}}function fi(ur,gr){gr.jd=255&ur,gr.hd=ur>>8&255,gr.ud=ur>>16&255}function yi(ur,gr,jr,Mr,zr,qr){var Hr;for(Hr=0;Hr<Mr;++Hr){var Kr=gr[jr+Hr],Jr=Kr>>>8,pn=Kr,En=255&(En=(En=Kr>>>16)+((ur.jd<<24>>24)*(Jr<<24>>24)>>>5));pn=255&(pn=(pn+=(ur.hd<<24>>24)*(Jr<<24>>24)>>>5)+((ur.ud<<24>>24)*(En<<24>>24)>>>5)),zr[qr+Hr]=(4278255360&Kr)+(En<<16)+pn}}function mi(ur,gr,jr,Mr,zr){_r[gr]=function(qr,Hr,Kr,Jr,pn,En,On,dn,Rn){for(Jr=On;Jr<dn;++Jr)for(On=0;On<Rn;++On)pn[En++]=zr(Kr[Mr(qr[Hr++])])},_r[ur]=function(qr,Hr,Kr,Jr,pn,En,On){var dn=8>>qr.b,Rn=qr.Ea,Dn=qr.K[0],Wn=qr.w;if(8>dn)for(qr=(1<<qr.b)-1,Wn=(1<<dn)-1;Hr<Kr;++Hr){var Mn,Hn=0;for(Mn=0;Mn<Rn;++Mn)Mn&qr||(Hn=Mr(Jr[pn++])),En[On++]=zr(Dn[Hn&Wn]),Hn>>=dn}else _r["VP8LMapColor"+jr](Jr,pn,Dn,Wn,En,On,Hr,Kr,Rn)}}function as(ur,gr,jr,Mr,zr){for(jr=gr+jr;gr<jr;){var qr=ur[gr++];Mr[zr++]=qr>>16&255,Mr[zr++]=qr>>8&255,Mr[zr++]=255&qr}}function Ui(ur,gr,jr,Mr,zr){for(jr=gr+jr;gr<jr;){var qr=ur[gr++];Mr[zr++]=qr>>16&255,Mr[zr++]=qr>>8&255,Mr[zr++]=255&qr,Mr[zr++]=qr>>24&255}}function Ci(ur,gr,jr,Mr,zr){for(jr=gr+jr;gr<jr;){var qr=(Hr=ur[gr++])>>16&240|Hr>>12&15,Hr=240&Hr|Hr>>28&15;Mr[zr++]=qr,Mr[zr++]=Hr}}function Di(ur,gr,jr,Mr,zr){for(jr=gr+jr;gr<jr;){var qr=(Hr=ur[gr++])>>16&248|Hr>>13&7,Hr=Hr>>5&224|Hr>>3&31;Mr[zr++]=qr,Mr[zr++]=Hr}}function Wi(ur,gr,jr,Mr,zr){for(jr=gr+jr;gr<jr;){var qr=ur[gr++];Mr[zr++]=255&qr,Mr[zr++]=qr>>8&255,Mr[zr++]=qr>>16&255}}function Ai(ur,gr,jr,Mr,zr,qr){if(qr==0)for(jr=gr+jr;gr<jr;)jn(Mr,((qr=ur[gr++])[0]>>24|qr[1]>>8&65280|qr[2]<<8&16711680|qr[3]<<24)>>>0),zr+=32;else Ue(Mr,zr,ur,gr,jr)}function ps(ur,gr){_r[gr][0]=_r[ur+"0"],_r[gr][1]=_r[ur+"1"],_r[gr][2]=_r[ur+"2"],_r[gr][3]=_r[ur+"3"],_r[gr][4]=_r[ur+"4"],_r[gr][5]=_r[ur+"5"],_r[gr][6]=_r[ur+"6"],_r[gr][7]=_r[ur+"7"],_r[gr][8]=_r[ur+"8"],_r[gr][9]=_r[ur+"9"],_r[gr][10]=_r[ur+"10"],_r[gr][11]=_r[ur+"11"],_r[gr][12]=_r[ur+"12"],_r[gr][13]=_r[ur+"13"],_r[gr][14]=_r[ur+"0"],_r[gr][15]=_r[ur+"0"]}function Ni(ur){return ur==Du||ur==Ku||ur==iu||ur==Yu}function $i(){this.eb=[],this.size=this.A=this.fb=0}function os(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ji(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $i,this.f.kb=new os,this.sd=null}function Ti(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ga(ur){return alert("todo:WebPSamplerProcessPlane"),ur.T}function ta(ur,gr){var jr=ur.T,Mr=gr.ba.f.RGBA,zr=Mr.eb,qr=Mr.fb+ur.ka*Mr.A,Hr=Ha[gr.ba.S],Kr=ur.y,Jr=ur.O,pn=ur.f,En=ur.N,On=ur.ea,dn=ur.W,Rn=gr.cc,Dn=gr.dc,Wn=gr.Mc,Mn=gr.Nc,Hn=ur.ka,Xn=ur.ka+ur.T,ai=ur.U,ti=ai+1>>1;for(Hn==0?Hr(Kr,Jr,null,null,pn,En,On,dn,pn,En,On,dn,zr,qr,null,null,ai):(Hr(gr.ec,gr.fc,Kr,Jr,Rn,Dn,Wn,Mn,pn,En,On,dn,zr,qr-Mr.A,zr,qr,ai),++jr);Hn+2<Xn;Hn+=2)Rn=pn,Dn=En,Wn=On,Mn=dn,En+=ur.Rc,dn+=ur.Rc,qr+=2*Mr.A,Hr(Kr,(Jr+=2*ur.fa)-ur.fa,Kr,Jr,Rn,Dn,Wn,Mn,pn,En,On,dn,zr,qr-Mr.A,zr,qr,ai);return Jr+=ur.fa,ur.j+Xn<ur.o?(Ue(gr.ec,gr.fc,Kr,Jr,ai),Ue(gr.cc,gr.dc,pn,En,ti),Ue(gr.Mc,gr.Nc,On,dn,ti),jr--):1&Xn||Hr(Kr,Jr,null,null,pn,En,On,dn,pn,En,On,dn,zr,qr+Mr.A,null,null,ai),jr}function ao(ur,gr,jr){var Mr=ur.F,zr=[ur.J];if(Mr!=null){var qr=ur.U,Hr=gr.ba.S,Kr=Hr==ku||Hr==iu;gr=gr.ba.f.RGBA;var Jr=[0],pn=ur.ka;Jr[0]=ur.T,ur.Kb&&(pn==0?--Jr[0]:(--pn,zr[0]-=ur.width),ur.j+ur.ka+ur.T==ur.o&&(Jr[0]=ur.o-ur.j-pn));var En=gr.eb;pn=gr.fb+pn*gr.A,ur=Pu(Mr,zr[0],ur.width,qr,Jr,En,pn+(Kr?0:3),gr.A),$e(jr==Jr),ur&&Ni(Hr)&&Dc(En,pn,Kr,qr,Jr,gr.A)}return 0}function ks(ur){var gr=ur.ma,jr=gr.ba.S,Mr=11>jr,zr=jr==ro||jr==qo||jr==ku||jr==nu||jr==12||Ni(jr);if(gr.memory=null,gr.Ib=null,gr.Jb=null,gr.Nd=null,!Ul(gr.Oa,ur,zr?11:12))return 0;if(zr&&Ni(jr)&&Ki(),ur.da)alert("todo:use_scaling");else{if(Mr){if(gr.Ib=ga,ur.Kb){if(jr=ur.U+1>>1,gr.memory=qe(ur.U+2*jr),gr.memory==null)return 0;gr.ec=gr.memory,gr.fc=0,gr.cc=gr.ec,gr.dc=gr.fc+ur.U,gr.Mc=gr.cc,gr.Nc=gr.dc+jr,gr.Ib=ta,Ki()}}else alert("todo:EmitYUV");zr&&(gr.Jb=ao,Mr&&Fn())}if(Mr&&!yc){for(ur=0;256>ur;++ur)Wa[ur]=89858*(ur-128)+ou>>Xo,Jh[ur]=-22014*(ur-128)+ou,dh[ur]=-45773*(ur-128),ed[ur]=113618*(ur-128)+ou>>Xo;for(ur=$c;ur<vc;++ur)gr=76283*(ur-16)+ou>>Xo,Zh[ur-$c]=co(gr,255),ef[ur-$c]=co(gr+8>>4,15);yc=1}return 1}function Ii(ur){var gr=ur.ma,jr=ur.U,Mr=ur.T;return $e(!(1&ur.ka)),0>=jr||0>=Mr?0:(jr=gr.Ib(ur,gr),gr.Jb!=null&&gr.Jb(ur,gr,jr),gr.Dc+=jr,1)}function To(ur){ur.ma.memory=null}function Ca(ur,gr,jr,Mr){return Pr(ur,8)!=47?0:(gr[0]=Pr(ur,14)+1,jr[0]=Pr(ur,14)+1,Mr[0]=Pr(ur,1),Pr(ur,3)!=0?0:!ur.h)}function Zi(ur,gr){if(4>ur)return ur+1;var jr=ur-2>>1;return(2+(1&ur)<<jr)+Pr(gr,jr)+1}function Cn(ur,gr){return 120<gr?gr-120:1<=(jr=((jr=Wo[gr-1])>>4)*ur+(8-(15&jr)))?jr:1;var jr}function hi(ur,gr,jr){var Mr=Ur(jr),zr=ur[gr+=255&Mr].g-8;return 0<zr&&(Qr(jr,jr.u+8),Mr=Ur(jr),gr+=ur[gr].value,gr+=Mr&(1<<zr)-1),Qr(jr,jr.u+ur[gr].g),ur[gr].value}function li(ur,gr,jr){return jr.g+=ur.g,jr.value+=ur.value<<gr>>>0,$e(8>=jr.g),ur.g}function si(ur,gr,jr){var Mr=ur.xc;return $e((gr=Mr==0?0:ur.vc[ur.md*(jr>>Mr)+(gr>>Mr)])<ur.Wb),ur.Ya[gr]}function zi(ur,gr,jr,Mr){var zr=ur.ab,qr=ur.c*gr,Hr=ur.C;gr=Hr+gr;var Kr=jr,Jr=Mr;for(Mr=ur.Ta,jr=ur.Ua;0<zr--;){var pn=ur.gc[zr],En=Hr,On=gr,dn=Kr,Rn=Jr,Dn=(Jr=Mr,Kr=jr,pn.Ea);switch($e(En<On),$e(On<=pn.nc),pn.hc){case 2:ha(dn,Rn,(On-En)*Dn,Jr,Kr);break;case 0:var Wn=En,Mn=On,Hn=Jr,Xn=Kr,ai=(Ei=pn).Ea;Wn==0&&(Zc(dn,Rn,null,null,1,Hn,Xn),ui(dn,Rn+1,0,0,ai-1,Hn,Xn+1),Rn+=ai,Xn+=ai,++Wn);for(var ti=1<<Ei.b,Ri=ti-1,xi=Vn(ai,Ei.b),Xi=Ei.K,Ei=Ei.w+(Wn>>Ei.b)*xi;Wn<Mn;){var us=Xi,Ks=Ei,Ji=1;for(eu(dn,Rn,Hn,Xn-ai,1,Hn,Xn);Ji<ai;){var bi=(Ji&~Ri)+ti;bi>ai&&(bi=ai),(0,ql[us[Ks++]>>8&15])(dn,Rn+ +Ji,Hn,Xn+Ji-ai,bi-Ji,Hn,Xn+Ji),Ji=bi}Rn+=ai,Xn+=ai,++Wn&Ri||(Ei+=xi)}On!=pn.nc&&Ue(Jr,Kr-Dn,Jr,Kr+(On-En-1)*Dn,Dn);break;case 1:for(Dn=dn,Mn=Rn,ai=(dn=pn.Ea)-(Xn=dn&~(Hn=(Rn=1<<pn.b)-1)),Wn=Vn(dn,pn.b),ti=pn.K,pn=pn.w+(En>>pn.b)*Wn;En<On;){for(Ri=ti,xi=pn,Xi=new Yn,Ei=Mn+Xn,us=Mn+dn;Mn<Ei;)fi(Ri[xi++],Xi),tu(Xi,Dn,Mn,Rn,Jr,Kr),Mn+=Rn,Kr+=Rn;Mn<us&&(fi(Ri[xi++],Xi),tu(Xi,Dn,Mn,ai,Jr,Kr),Mn+=ai,Kr+=ai),++En&Hn||(pn+=Wn)}break;case 3:if(dn==Jr&&Rn==Kr&&0<pn.b){for(Mn=Jr,dn=Dn=Kr+(On-En)*Dn-(Xn=(On-En)*Vn(pn.Ea,pn.b)),Rn=Jr,Hn=Kr,Wn=[],Xn=(ai=Xn)-1;0<=Xn;--Xn)Wn[Xn]=Rn[Hn+Xn];for(Xn=ai-1;0<=Xn;--Xn)Mn[dn+Xn]=Wn[Xn];zu(pn,En,On,Jr,Dn,Jr,Kr)}else zu(pn,En,On,dn,Rn,Jr,Kr)}Kr=Mr,Jr=jr}Jr!=jr&&Ue(Mr,jr,Kr,Jr,qr)}function Yi(ur,gr){var jr=ur.V,Mr=ur.Ba+ur.c*ur.C,zr=gr-ur.C;if($e(gr<=ur.l.o),$e(16>=zr),0<zr){var qr=ur.l,Hr=ur.Ta,Kr=ur.Ua,Jr=qr.width;if(zi(ur,zr,jr,Mr),zr=Kr=[Kr],$e((jr=ur.C)<(Mr=gr)),$e(qr.v<qr.va),Mr>qr.o&&(Mr=qr.o),jr<qr.j){var pn=qr.j-jr;jr=qr.j,zr[0]+=pn*Jr}if(jr>=Mr?jr=0:(zr[0]+=4*qr.v,qr.ka=jr-qr.j,qr.U=qr.va-qr.v,qr.T=Mr-jr,jr=1),jr){if(Kr=Kr[0],11>(jr=ur.ca).S){var En=jr.f.RGBA,On=(Mr=jr.S,zr=qr.U,qr=qr.T,pn=En.eb,En.A),dn=qr;for(En=En.fb+ur.Ma*En.A;0<dn--;){var Rn=Hr,Dn=Kr,Wn=zr,Mn=pn,Hn=En;switch(Mr){case Wu:ru(Rn,Dn,Wn,Mn,Hn);break;case ro:Hl(Rn,Dn,Wn,Mn,Hn);break;case Du:Hl(Rn,Dn,Wn,Mn,Hn),Dc(Mn,Hn,0,Wn,1,0);break;case Gu:Nc(Rn,Dn,Wn,Mn,Hn);break;case qo:Ai(Rn,Dn,Wn,Mn,Hn,1);break;case Ku:Ai(Rn,Dn,Wn,Mn,Hn,1),Dc(Mn,Hn,0,Wn,1,0);break;case ku:Ai(Rn,Dn,Wn,Mn,Hn,0);break;case iu:Ai(Rn,Dn,Wn,Mn,Hn,0),Dc(Mn,Hn,1,Wn,1,0);break;case nu:Wl(Rn,Dn,Wn,Mn,Hn);break;case Yu:Wl(Rn,Dn,Wn,Mn,Hn),zo(Mn,Hn,Wn,1,0);break;case hc:jl(Rn,Dn,Wn,Mn,Hn);break;default:$e(0)}Kr+=Jr,En+=On}ur.Ma+=qr}else alert("todo:EmitRescaledRowsYUVA");$e(ur.Ma<=jr.height)}}ur.C=gr,$e(ur.C<=ur.i)}function Mi(ur){var gr;if(0<ur.ua)return 0;for(gr=0;gr<ur.Wb;++gr){var jr=ur.Ya[gr].G,Mr=ur.Ya[gr].H;if(0<jr[1][Mr[1]+0].g||0<jr[2][Mr[2]+0].g||0<jr[3][Mr[3]+0].g)return 0}return 1}function Gi(ur,gr,jr,Mr,zr,qr){if(ur.Z!=0){var Hr=ur.qd,Kr=ur.rd;for($e(Yl[ur.Z]!=null);gr<jr;++gr)Yl[ur.Z](Hr,Kr,Mr,zr,Mr,zr,qr),Hr=Mr,Kr=zr,zr+=qr;ur.qd=Hr,ur.rd=Kr}}function ls(ur,gr){var jr=ur.l.ma,Mr=jr.Z==0||jr.Z==1?ur.l.j:ur.C;if(Mr=ur.C<Mr?Mr:ur.C,$e(gr<=ur.l.o),gr>Mr){var zr=ur.l.width,qr=jr.ca,Hr=jr.tb+zr*Mr,Kr=ur.V,Jr=ur.Ba+ur.c*Mr,pn=ur.gc;$e(ur.ab==1),$e(pn[0].hc==3),Tl(pn[0],Mr,gr,Kr,Jr,qr,Hr),Gi(jr,Mr,gr,qr,Hr,zr)}ur.C=ur.Ma=gr}function ra(ur,gr,jr,Mr,zr,qr,Hr){var Kr=ur.$/Mr,Jr=ur.$%Mr,pn=ur.m,En=ur.s,On=jr+ur.$,dn=On;zr=jr+Mr*zr;var Rn=jr+Mr*qr,Dn=280+En.ua,Wn=ur.Pb?Kr:16777216,Mn=0<En.ua?En.Wa:null,Hn=En.wc,Xn=On<Rn?si(En,Jr,Kr):null;$e(ur.C<qr),$e(Rn<=zr);var ai=!1;e:for(;;){for(;ai||On<Rn;){var ti=0;if(Kr>=Wn){var Ri=On-jr;$e((Wn=ur).Pb),Wn.wd=Wn.m,Wn.xd=Ri,0<Wn.s.ua&&Un(Wn.s.Wa,Wn.s.vb),Wn=Kr+fc}if(Jr&Hn||(Xn=si(En,Jr,Kr)),$e(Xn!=null),Xn.Qb&&(gr[On]=Xn.qb,ai=!0),!ai)if(mn(pn),Xn.jc){ti=pn,Ri=gr;var xi=On,Xi=Xn.pd[Ur(ti)&dc-1];$e(Xn.jc),256>Xi.g?(Qr(ti,ti.u+Xi.g),Ri[xi]=Xi.value,ti=0):(Qr(ti,ti.u+Xi.g-256),$e(256<=Xi.value),ti=Xi.value),ti==0&&(ai=!0)}else ti=hi(Xn.G[0],Xn.H[0],pn);if(pn.h)break;if(ai||256>ti){if(!ai)if(Xn.nd)gr[On]=(Xn.qb|ti<<8)>>>0;else{if(mn(pn),ai=hi(Xn.G[1],Xn.H[1],pn),mn(pn),Ri=hi(Xn.G[2],Xn.H[2],pn),xi=hi(Xn.G[3],Xn.H[3],pn),pn.h)break;gr[On]=(xi<<24|ai<<16|ti<<8|Ri)>>>0}if(ai=!1,++On,++Jr>=Mr&&(Jr=0,++Kr,Hr!=null&&Kr<=qr&&!(Kr%16)&&Hr(ur,Kr),Mn!=null))for(;dn<On;)ti=gr[dn++],Mn.X[(506832829*ti&4294967295)>>>Mn.Mb]=ti}else if(280>ti){if(ti=Zi(ti-256,pn),Ri=hi(Xn.G[4],Xn.H[4],pn),mn(pn),Ri=Cn(Mr,Ri=Zi(Ri,pn)),pn.h)break;if(On-jr<Ri||zr-On<ti)break e;for(xi=0;xi<ti;++xi)gr[On+xi]=gr[On+xi-Ri];for(On+=ti,Jr+=ti;Jr>=Mr;)Jr-=Mr,++Kr,Hr!=null&&Kr<=qr&&!(Kr%16)&&Hr(ur,Kr);if($e(On<=zr),Jr&Hn&&(Xn=si(En,Jr,Kr)),Mn!=null)for(;dn<On;)ti=gr[dn++],Mn.X[(506832829*ti&4294967295)>>>Mn.Mb]=ti}else{if(!(ti<Dn))break e;for(ai=ti-280,$e(Mn!=null);dn<On;)ti=gr[dn++],Mn.X[(506832829*ti&4294967295)>>>Mn.Mb]=ti;ti=On,$e(!(ai>>>(Ri=Mn).Xa)),gr[ti]=Ri.X[ai],ai=!0}ai||$e(pn.h==Yr(pn))}if(ur.Pb&&pn.h&&On<zr)$e(ur.m.h),ur.a=5,ur.m=ur.wd,ur.$=ur.xd,0<ur.s.ua&&Un(ur.s.vb,ur.s.Wa);else{if(pn.h)break e;Hr?.(ur,Kr>qr?qr:Kr),ur.a=0,ur.$=On-jr}return 1}return ur.a=3,0}function ca(ur){$e(ur!=null),ur.vc=null,ur.yc=null,ur.Ya=null;var gr=ur.Wa;gr!=null&&(gr.X=null),ur.vb=null,$e(ur!=null)}function Ya(){var ur=new Fi;return ur==null?null:(ur.a=0,ur.xb=jd,ps("Predictor","VP8LPredictors"),ps("Predictor","VP8LPredictors_C"),ps("PredictorAdd","VP8LPredictorsAdd"),ps("PredictorAdd","VP8LPredictorsAdd_C"),ha=oi,tu=yi,ru=as,Hl=Ui,Wl=Ci,jl=Di,Nc=Wi,_r.VP8LMapColor32b=Al,_r.VP8LMapColor8b=Ua,ur)}function Ra(ur,gr,jr,Mr,zr){var qr=1,Hr=[ur],Kr=[gr],Jr=Mr.m,pn=Mr.s,En=null,On=0;e:for(;;){if(jr)for(;qr&&Pr(Jr,1);){var dn=Hr,Rn=Kr,Dn=Mr,Wn=1,Mn=Dn.m,Hn=Dn.gc[Dn.ab],Xn=Pr(Mn,2);if(Dn.Oc&1<<Xn)qr=0;else{switch(Dn.Oc|=1<<Xn,Hn.hc=Xn,Hn.Ea=dn[0],Hn.nc=Rn[0],Hn.K=[null],++Dn.ab,$e(4>=Dn.ab),Xn){case 0:case 1:Hn.b=Pr(Mn,3)+2,Wn=Ra(Vn(Hn.Ea,Hn.b),Vn(Hn.nc,Hn.b),0,Dn,Hn.K),Hn.K=Hn.K[0];break;case 3:var ai,ti=Pr(Mn,8)+1,Ri=16<ti?0:4<ti?1:2<ti?2:3;if(dn[0]=Vn(Hn.Ea,Ri),Hn.b=Ri,ai=Wn=Ra(ti,1,0,Dn,Hn.K)){var xi,Xi=ti,Ei=Hn,us=1<<(8>>Ei.b),Ks=qe(us);if(Ks==null)ai=0;else{var Ji=Ei.K[0],bi=Ei.w;for(Ks[0]=Ei.K[0][0],xi=1;xi<1*Xi;++xi)Ks[xi]=zn(Ji[bi+xi],Ks[xi-1]);for(;xi<4*us;++xi)Ks[xi]=0;Ei.K[0]=null,Ei.K[0]=Ks,ai=1}}Wn=ai;break;case 2:break;default:$e(0)}qr=Wn}}if(Hr=Hr[0],Kr=Kr[0],qr&&Pr(Jr,1)&&!(qr=1<=(On=Pr(Jr,4))&&11>=On)){Mr.a=3;break e}var gi;if(gi=qr)t:{var Qs,qi,es,Cs=Mr,ja=Hr,Ga=Kr,Us=On,ya=jr,no=Cs.m,xa=Cs.s,ns=[null],bs=1,Js=0,Ss=Go[Us];r:for(;;){if(ya&&Pr(no,1)){var Pa=Pr(no,3)+2,Zs=Vn(ja,Pa),_s=Vn(Ga,Pa),ma=Zs*_s;if(!Ra(Zs,_s,0,Cs,ns))break r;for(ns=ns[0],xa.xc=Pa,Qs=0;Qs<ma;++Qs){var Is=ns[Qs]>>8&65535;ns[Qs]=Is,Is>=bs&&(bs=Is+1)}}if(no.h)break r;for(qi=0;5>qi;++qi){var ba=Oc[qi];!qi&&0<Us&&(ba+=1<<Us),Js<ba&&(Js=ba)}var Ea=He(bs*Ss,Sr),Os=bs,xs=He(Os,Or);if(xs==null)var io=null;else $e(65536>=Os),io=xs;var aa=qe(Js);if(io==null||aa==null||Ea==null){Cs.a=1;break r}var Li=Ea;for(Qs=es=0;Qs<bs;++Qs){var Vi=io[Qs],Es=Vi.G,Ao=Vi.H,Qo=0,yo=1,wa=0;for(qi=0;5>qi;++qi){ba=Oc[qi],Es[qi]=Li,Ao[qi]=es,!qi&&0<Us&&(ba+=1<<Us);i:{var xc,bc=ba,nd=Cs,zs=aa,Cd=Li,Id=es,id=0,Xl=nd.m,tf=Pr(Xl,1);if(ze(zs,0,0,bc),tf){var Nd=Pr(Xl,1)+1,kd=Pr(Xl,1),sd=Pr(Xl,kd==0?1:8);zs[sd]=1,Nd==2&&(zs[sd=Pr(Xl,8)]=1);var Ma=1}else{var oa=qe(19),$u=Pr(Xl,4)+4;if(19<$u){nd.a=3;var _c=0;break i}for(xc=0;xc<$u;++xc)oa[Mu[xc]]=Pr(Xl,3);var cu=void 0,Fc=void 0,Il=nd,ad=oa,uu=bc,od=zs,ld=0,Ql=Il.m,Dd=8,Md=He(128,Sr);n:for(;fr(Md,0,7,ad,19);){if(Pr(Ql,1)){var hh=2+2*Pr(Ql,3);if((cu=2+Pr(Ql,hh))>uu)break n}else cu=uu;for(Fc=0;Fc<uu&&cu--;){mn(Ql);var Od=Md[0+(127&Ur(Ql))];Qr(Ql,Ql.u+Od.g);var Ec=Od.value;if(16>Ec)od[Fc++]=Ec,Ec!=0&&(Dd=Ec);else{var fh=Ec==16,ph=Ec-16,mh=su[ph],Ld=Pr(Ql,Ho[ph])+mh;if(Fc+Ld>uu)break n;for(var gh=fh?Dd:0;0<Ld--;)od[Fc++]=gh}}ld=1;break n}ld||(Il.a=3),Ma=ld}(Ma=Ma&&!Xl.h)&&(id=fr(Cd,Id,8,zs,bc)),Ma&&id!=0?_c=id:(nd.a=3,_c=0)}if(_c==0)break r;if(yo&&Xu[qi]==1&&(yo=Li[es].g==0),Qo+=Li[es].g,es+=_c,3>=qi){var Vc,cd=aa[0];for(Vc=1;Vc<ba;++Vc)aa[Vc]>cd&&(cd=aa[Vc]);wa+=cd}}if(Vi.nd=yo,Vi.Qb=0,yo&&(Vi.qb=(Es[3][Ao[3]+0].value<<24|Es[1][Ao[1]+0].value<<16|Es[2][Ao[2]+0].value)>>>0,Qo==0&&256>Es[0][Ao[0]+0].value&&(Vi.Qb=1,Vi.qb+=Es[0][Ao[0]+0].value<<8)),Vi.jc=!Vi.Qb&&6>wa,Vi.jc){var Fu,Nl=Vi;for(Fu=0;Fu<dc;++Fu){var Jl=Fu,Zl=Nl.pd[Jl],ud=Nl.G[0][Nl.H[0]+Jl];256<=ud.value?(Zl.g=ud.g+256,Zl.value=ud.value):(Zl.g=0,Zl.value=0,Jl>>=li(ud,8,Zl),Jl>>=li(Nl.G[1][Nl.H[1]+Jl],16,Zl),Jl>>=li(Nl.G[2][Nl.H[2]+Jl],0,Zl),li(Nl.G[3][Nl.H[3]+Jl],24,Zl))}}}xa.vc=ns,xa.Wb=bs,xa.Ya=io,xa.yc=Ea,gi=1;break t}gi=0}if(!(qr=gi)){Mr.a=3;break e}if(0<On){if(pn.ua=1<<On,!Gr(pn.Wa,On)){Mr.a=1,qr=0;break e}}else pn.ua=0;var dd=Mr,Bc=Hr,vh=Kr,du=dd.s,hu=du.xc;if(dd.c=Bc,dd.i=vh,du.md=Vn(Bc,hu),du.wc=hu==0?-1:(1<<hu)-1,jr){Mr.xb=pc;break e}if((En=qe(Hr*Kr))==null){Mr.a=1,qr=0;break e}qr=(qr=ra(Mr,En,0,Hr,Kr,Kr,null))&&!Jr.h;break e}return qr?(zr!=null?zr[0]=En:($e(En==null),$e(jr)),Mr.$=0,jr||ca(pn)):ca(pn),qr}function Ps(ur,gr){var jr=ur.c*ur.i,Mr=jr+gr+16*gr;return $e(ur.c<=gr),ur.V=qe(Mr),ur.V==null?(ur.Ta=null,ur.Ua=0,ur.a=1,0):(ur.Ta=ur.V,ur.Ua=ur.Ba+jr+gr,1)}function nl(ur,gr){var jr=ur.C,Mr=gr-jr,zr=ur.V,qr=ur.Ba+ur.c*jr;for($e(gr<=ur.l.o);0<Mr;){var Hr=16<Mr?16:Mr,Kr=ur.l.ma,Jr=ur.l.width,pn=Jr*Hr,En=Kr.ca,On=Kr.tb+Jr*jr,dn=ur.Ta,Rn=ur.Ua;zi(ur,Hr,zr,qr),Mo(dn,Rn,En,On,pn),Gi(Kr,jr,jr+Hr,En,On,Jr),Mr-=Hr,zr+=Hr*ur.c,jr+=Hr}$e(jr==gr),ur.C=ur.Ma=gr}function oo(){this.ub=this.yd=this.td=this.Rb=0}function $a(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lo(){this.Fb=this.Bb=this.Cb=0,this.Zb=qe(4),this.Lb=qe(4)}function _o(){this.Yb=(function(){var ur=[];return(function gr(jr,Mr,zr){for(var qr=zr[Mr],Hr=0;Hr<qr&&(jr.push(zr.length>Mr+1?[]:0),!(zr.length<Mr+1));Hr++)gr(jr[Hr],Mr+1,zr)})(ur,0,[3,11]),ur})()}function Xs(){this.jb=qe(3),this.Wc=We([4,8],_o),this.Xc=We([4,17],_o)}function rc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new qe(4),this.od=new qe(4)}function Xa(){this.ld=this.La=this.dd=this.tc=0}function Eo(){this.Na=this.la=0}function jo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ml(){this.ad=qe(384),this.Za=0,this.Ob=qe(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xa),this.Y=0,this.ya=Array(new Ml),this.aa=0,this.l=new Ia}function ic(){this.y=qe(16),this.f=qe(8),this.ea=qe(8)}function Rc(){this.cb=this.a=0,this.sc="",this.m=new Tr,this.Od=new oo,this.Kc=new $a,this.ed=new rc,this.Qa=new lo,this.Ic=this.$c=this.Aa=0,this.D=new nc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=He(8,Tr),this.ia=0,this.pb=He(4,jo),this.Pa=new Xs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ic),this.Hd=0,this.rb=Array(new Eo),this.sb=0,this.wa=Array(new Xa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ml),this.L=this.aa=0,this.gd=We([4,2],Xa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function co(ur,gr){return 0>ur?0:ur>gr?gr:ur}function Ia(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function na(){var ur=new Rc;return ur!=null&&(ur.a=0,ur.sc="OK",ur.cb=0,ur.Xb=0,Oo||(Oo=ms)),ur}function ss(ur,gr,jr){return ur.a==0&&(ur.a=gr,ur.sc=jr,ur.cb=0),0}function il(ur,gr,jr){return 3<=jr&&ur[gr+0]==157&&ur[gr+1]==1&&ur[gr+2]==42}function wo(ur,gr){if(ur==null)return 0;if(ur.a=0,ur.sc="OK",gr==null)return ss(ur,2,"null VP8Io passed to VP8GetHeaders()");var jr=gr.data,Mr=gr.w,zr=gr.ha;if(4>zr)return ss(ur,7,"Truncated header.");var qr=jr[Mr+0]|jr[Mr+1]<<8|jr[Mr+2]<<16,Hr=ur.Od;if(Hr.Rb=!(1&qr),Hr.td=qr>>1&7,Hr.yd=qr>>4&1,Hr.ub=qr>>5,3<Hr.td)return ss(ur,3,"Incorrect keyframe parameters.");if(!Hr.yd)return ss(ur,4,"Frame not displayable.");Mr+=3,zr-=3;var Kr=ur.Kc;if(Hr.Rb){if(7>zr)return ss(ur,7,"cannot parse picture header");if(!il(jr,Mr,zr))return ss(ur,3,"Bad code word");Kr.c=16383&(jr[Mr+4]<<8|jr[Mr+3]),Kr.Td=jr[Mr+4]>>6,Kr.i=16383&(jr[Mr+6]<<8|jr[Mr+5]),Kr.Ud=jr[Mr+6]>>6,Mr+=7,zr-=7,ur.za=Kr.c+15>>4,ur.Ub=Kr.i+15>>4,gr.width=Kr.c,gr.height=Kr.i,gr.Da=0,gr.j=0,gr.v=0,gr.va=gr.width,gr.o=gr.height,gr.da=0,gr.ib=gr.width,gr.hb=gr.height,gr.U=gr.width,gr.T=gr.height,ze((qr=ur.Pa).jb,0,255,qr.jb.length),$e((qr=ur.Qa)!=null),qr.Cb=0,qr.Bb=0,qr.Fb=1,ze(qr.Zb,0,0,qr.Zb.length),ze(qr.Lb,0,0,qr.Lb)}if(Hr.ub>zr)return ss(ur,7,"bad partition length");Er(qr=ur.m,jr,Mr,Hr.ub),Mr+=Hr.ub,zr-=Hr.ub,Hr.Rb&&(Kr.Ld=Zr(qr),Kr.Kd=Zr(qr)),Kr=ur.Qa;var Jr,pn=ur.Pa;if($e(qr!=null),$e(Kr!=null),Kr.Cb=Zr(qr),Kr.Cb){if(Kr.Bb=Zr(qr),Zr(qr)){for(Kr.Fb=Zr(qr),Jr=0;4>Jr;++Jr)Kr.Zb[Jr]=Zr(qr)?wr(qr,7):0;for(Jr=0;4>Jr;++Jr)Kr.Lb[Jr]=Zr(qr)?wr(qr,6):0}if(Kr.Bb)for(Jr=0;3>Jr;++Jr)pn.jb[Jr]=Zr(qr)?Nr(qr,8):255}else Kr.Bb=0;if(qr.Ka)return ss(ur,3,"cannot parse segment header");if((Kr=ur.ed).zd=Zr(qr),Kr.Tb=Nr(qr,6),Kr.wb=Nr(qr,3),Kr.Pc=Zr(qr),Kr.Pc&&Zr(qr)){for(pn=0;4>pn;++pn)Zr(qr)&&(Kr.vd[pn]=wr(qr,6));for(pn=0;4>pn;++pn)Zr(qr)&&(Kr.od[pn]=wr(qr,6))}if(ur.L=Kr.Tb==0?0:Kr.zd?1:2,qr.Ka)return ss(ur,3,"cannot parse filter header");var En=zr;if(zr=Jr=Mr,Mr=Jr+En,Kr=En,ur.Xb=(1<<Nr(ur.m,2))-1,En<3*(pn=ur.Xb))jr=7;else{for(Jr+=3*pn,Kr-=3*pn,En=0;En<pn;++En){var On=jr[zr+0]|jr[zr+1]<<8|jr[zr+2]<<16;On>Kr&&(On=Kr),Er(ur.Jc[+En],jr,Jr,On),Jr+=On,Kr-=On,zr+=3}Er(ur.Jc[+pn],jr,Jr,Kr),jr=Jr<Mr?0:5}if(jr!=0)return ss(ur,jr,"cannot parse partitions");for(jr=Nr(Jr=ur.m,7),zr=Zr(Jr)?wr(Jr,4):0,Mr=Zr(Jr)?wr(Jr,4):0,Kr=Zr(Jr)?wr(Jr,4):0,pn=Zr(Jr)?wr(Jr,4):0,Jr=Zr(Jr)?wr(Jr,4):0,En=ur.Qa,On=0;4>On;++On){if(En.Cb){var dn=En.Zb[On];En.Fb||(dn+=jr)}else{if(0<On){ur.pb[On]=ur.pb[0];continue}dn=jr}var Rn=ur.pb[On];Rn.Sc[0]=Ko[co(dn+zr,127)],Rn.Sc[1]=Yo[co(dn+0,127)],Rn.Eb[0]=2*Ko[co(dn+Mr,127)],Rn.Eb[1]=101581*Yo[co(dn+Kr,127)]>>16,8>Rn.Eb[1]&&(Rn.Eb[1]=8),Rn.Qc[0]=Ko[co(dn+pn,117)],Rn.Qc[1]=Yo[co(dn+Jr,127)],Rn.lc=dn+Jr}if(!Hr.Rb)return ss(ur,4,"Not a key frame.");for(Zr(qr),Hr=ur.Pa,jr=0;4>jr;++jr){for(zr=0;8>zr;++zr)for(Mr=0;3>Mr;++Mr)for(Kr=0;11>Kr;++Kr)pn=bn(qr,Gs[jr][zr][Mr][Kr])?Nr(qr,8):uh[jr][zr][Mr][Kr],Hr.Wc[jr][zr].Yb[Mr][Kr]=pn;for(zr=0;17>zr;++zr)Hr.Xc[jr][zr]=Hr.Wc[jr][ds[zr]]}return ur.kc=Zr(qr),ur.kc&&(ur.Bd=Nr(qr,8)),ur.cb=1}function ms(ur,gr,jr,Mr,zr,qr,Hr){var Kr=gr[zr].Yb[jr];for(jr=0;16>zr;++zr){if(!bn(ur,Kr[jr+0]))return zr;for(;!bn(ur,Kr[jr+1]);)if(Kr=gr[++zr].Yb[0],jr=0,zr==16)return 16;var Jr=gr[zr+1].Yb;if(bn(ur,Kr[jr+2])){var pn=ur,En=0;if(bn(pn,(dn=Kr)[(On=jr)+3]))if(bn(pn,dn[On+6])){for(Kr=0,On=2*(En=bn(pn,dn[On+8]))+(dn=bn(pn,dn[On+9+En])),En=0,dn=ch[On];dn[Kr];++Kr)En+=En+bn(pn,dn[Kr]);En+=3+(8<<On)}else bn(pn,dn[On+7])?(En=7+2*bn(pn,165),En+=bn(pn,145)):En=5+bn(pn,159);else En=bn(pn,dn[On+4])?3+bn(pn,dn[On+5]):2;Kr=Jr[2]}else En=1,Kr=Jr[1];Jr=Hr+Td[zr],0>(pn=ur).b&&An(pn);var On,dn=pn.b,Rn=(On=pn.Ca>>1)-(pn.I>>dn)>>31;--pn.b,pn.Ca+=Rn,pn.Ca|=1,pn.I-=(On+1&Rn)<<dn,qr[Jr]=((En^Rn)-Rn)*Mr[(0<zr)+0]}return 16}function vl(ur){var gr=ur.rb[ur.sb-1];gr.la=0,gr.Na=0,ze(ur.zc,0,0,ur.zc.length),ur.ja=0}function ua(ur,gr,jr,Mr,zr){zr=ur[gr+jr+32*Mr]+(zr>>3),ur[gr+jr+32*Mr]=-256&zr?0>zr?0:255:zr}function Ws(ur,gr,jr,Mr,zr,qr){ua(ur,gr,0,jr,Mr+zr),ua(ur,gr,1,jr,Mr+qr),ua(ur,gr,2,jr,Mr-qr),ua(ur,gr,3,jr,Mr-zr)}function ia(ur){return(20091*ur>>16)+ur}function Ol(ur,gr,jr,Mr){var zr,qr=0,Hr=qe(16);for(zr=0;4>zr;++zr){var Kr=ur[gr+0]+ur[gr+8],Jr=ur[gr+0]-ur[gr+8],pn=(35468*ur[gr+4]>>16)-ia(ur[gr+12]),En=ia(ur[gr+4])+(35468*ur[gr+12]>>16);Hr[qr+0]=Kr+En,Hr[qr+1]=Jr+pn,Hr[qr+2]=Jr-pn,Hr[qr+3]=Kr-En,qr+=4,gr++}for(zr=qr=0;4>zr;++zr)Kr=(ur=Hr[qr+0]+4)+Hr[qr+8],Jr=ur-Hr[qr+8],pn=(35468*Hr[qr+4]>>16)-ia(Hr[qr+12]),ua(jr,Mr,0,0,Kr+(En=ia(Hr[qr+4])+(35468*Hr[qr+12]>>16))),ua(jr,Mr,1,0,Jr+pn),ua(jr,Mr,2,0,Jr-pn),ua(jr,Mr,3,0,Kr-En),qr++,Mr+=32}function Qc(ur,gr,jr,Mr){var zr=ur[gr+0]+4,qr=35468*ur[gr+4]>>16,Hr=ia(ur[gr+4]),Kr=35468*ur[gr+1]>>16;Ws(jr,Mr,0,zr+Hr,ur=ia(ur[gr+1]),Kr),Ws(jr,Mr,1,zr+qr,ur,Kr),Ws(jr,Mr,2,zr-qr,ur,Kr),Ws(jr,Mr,3,zr-Hr,ur,Kr)}function Ac(ur,gr,jr,Mr,zr){Ol(ur,gr,jr,Mr),zr&&Ol(ur,gr+16,jr,Mr+4)}function Fa(ur,gr,jr,Mr){Gl(ur,gr+0,jr,Mr,1),Gl(ur,gr+32,jr,Mr+128,1)}function Tc(ur,gr,jr,Mr){var zr;for(ur=ur[gr+0]+4,zr=0;4>zr;++zr)for(gr=0;4>gr;++gr)ua(jr,Mr,gr,zr,ur)}function sl(ur,gr,jr,Mr){ur[gr+0]&&ws(ur,gr+0,jr,Mr),ur[gr+16]&&ws(ur,gr+16,jr,Mr+4),ur[gr+32]&&ws(ur,gr+32,jr,Mr+128),ur[gr+48]&&ws(ur,gr+48,jr,Mr+128+4)}function Aa(ur,gr,jr,Mr){var zr,qr=qe(16);for(zr=0;4>zr;++zr){var Hr=ur[gr+0+zr]+ur[gr+12+zr],Kr=ur[gr+4+zr]+ur[gr+8+zr],Jr=ur[gr+4+zr]-ur[gr+8+zr],pn=ur[gr+0+zr]-ur[gr+12+zr];qr[0+zr]=Hr+Kr,qr[8+zr]=Hr-Kr,qr[4+zr]=pn+Jr,qr[12+zr]=pn-Jr}for(zr=0;4>zr;++zr)Hr=(ur=qr[0+4*zr]+3)+qr[3+4*zr],Kr=qr[1+4*zr]+qr[2+4*zr],Jr=qr[1+4*zr]-qr[2+4*zr],pn=ur-qr[3+4*zr],jr[Mr+0]=Hr+Kr>>3,jr[Mr+16]=pn+Jr>>3,jr[Mr+32]=Hr-Kr>>3,jr[Mr+48]=pn-Jr>>3,Mr+=64}function yl(ur,gr,jr){var Mr,zr=gr-32,qr=eo,Hr=255-ur[zr-1];for(Mr=0;Mr<jr;++Mr){var Kr,Jr=qr,pn=Hr+ur[gr-1];for(Kr=0;Kr<jr;++Kr)ur[gr+Kr]=Jr[pn+ur[zr+Kr]];gr+=32}}function jc(ur,gr){yl(ur,gr,4)}function Pc(ur,gr){yl(ur,gr,8)}function sc(ur,gr){yl(ur,gr,16)}function ac(ur,gr){var jr;for(jr=0;16>jr;++jr)Ue(ur,gr+32*jr,ur,gr-32,16)}function al(ur,gr){var jr;for(jr=16;0<jr;--jr)ze(ur,gr,ur[gr-1],16),gr+=32}function Qa(ur,gr,jr){var Mr;for(Mr=0;16>Mr;++Mr)ze(gr,jr+32*Mr,ur,16)}function Po(ur,gr){var jr,Mr=16;for(jr=0;16>jr;++jr)Mr+=ur[gr-1+32*jr]+ur[gr+jr-32];Qa(Mr>>5,ur,gr)}function ol(ur,gr){var jr,Mr=8;for(jr=0;16>jr;++jr)Mr+=ur[gr-1+32*jr];Qa(Mr>>4,ur,gr)}function Ja(ur,gr){var jr,Mr=8;for(jr=0;16>jr;++jr)Mr+=ur[gr+jr-32];Qa(Mr>>4,ur,gr)}function xl(ur,gr){Qa(128,ur,gr)}function Oi(ur,gr,jr){return ur+2*gr+jr+2>>2}function Ll(ur,gr){var jr,Mr=gr-32;for(Mr=new Uint8Array([Oi(ur[Mr-1],ur[Mr+0],ur[Mr+1]),Oi(ur[Mr+0],ur[Mr+1],ur[Mr+2]),Oi(ur[Mr+1],ur[Mr+2],ur[Mr+3]),Oi(ur[Mr+2],ur[Mr+3],ur[Mr+4])]),jr=0;4>jr;++jr)Ue(ur,gr+32*jr,Mr,0,Mr.length)}function oc(ur,gr){var jr=ur[gr-1],Mr=ur[gr-1+32],zr=ur[gr-1+64],qr=ur[gr-1+96];jn(ur,gr+0,16843009*Oi(ur[gr-1-32],jr,Mr)),jn(ur,gr+32,16843009*Oi(jr,Mr,zr)),jn(ur,gr+64,16843009*Oi(Mr,zr,qr)),jn(ur,gr+96,16843009*Oi(zr,qr,qr))}function bl(ur,gr){var jr,Mr=4;for(jr=0;4>jr;++jr)Mr+=ur[gr+jr-32]+ur[gr-1+32*jr];for(Mr>>=3,jr=0;4>jr;++jr)ze(ur,gr+32*jr,Mr,4)}function Ta(ur,gr){var jr=ur[gr-1+0],Mr=ur[gr-1+32],zr=ur[gr-1+64],qr=ur[gr-1-32],Hr=ur[gr+0-32],Kr=ur[gr+1-32],Jr=ur[gr+2-32],pn=ur[gr+3-32];ur[gr+0+96]=Oi(Mr,zr,ur[gr-1+96]),ur[gr+1+96]=ur[gr+0+64]=Oi(jr,Mr,zr),ur[gr+2+96]=ur[gr+1+64]=ur[gr+0+32]=Oi(qr,jr,Mr),ur[gr+3+96]=ur[gr+2+64]=ur[gr+1+32]=ur[gr+0+0]=Oi(Hr,qr,jr),ur[gr+3+64]=ur[gr+2+32]=ur[gr+1+0]=Oi(Kr,Hr,qr),ur[gr+3+32]=ur[gr+2+0]=Oi(Jr,Kr,Hr),ur[gr+3+0]=Oi(pn,Jr,Kr)}function va(ur,gr){var jr=ur[gr+1-32],Mr=ur[gr+2-32],zr=ur[gr+3-32],qr=ur[gr+4-32],Hr=ur[gr+5-32],Kr=ur[gr+6-32],Jr=ur[gr+7-32];ur[gr+0+0]=Oi(ur[gr+0-32],jr,Mr),ur[gr+1+0]=ur[gr+0+32]=Oi(jr,Mr,zr),ur[gr+2+0]=ur[gr+1+32]=ur[gr+0+64]=Oi(Mr,zr,qr),ur[gr+3+0]=ur[gr+2+32]=ur[gr+1+64]=ur[gr+0+96]=Oi(zr,qr,Hr),ur[gr+3+32]=ur[gr+2+64]=ur[gr+1+96]=Oi(qr,Hr,Kr),ur[gr+3+64]=ur[gr+2+96]=Oi(Hr,Kr,Jr),ur[gr+3+96]=Oi(Kr,Jr,Jr)}function $l(ur,gr){var jr=ur[gr-1+0],Mr=ur[gr-1+32],zr=ur[gr-1+64],qr=ur[gr-1-32],Hr=ur[gr+0-32],Kr=ur[gr+1-32],Jr=ur[gr+2-32],pn=ur[gr+3-32];ur[gr+0+0]=ur[gr+1+64]=qr+Hr+1>>1,ur[gr+1+0]=ur[gr+2+64]=Hr+Kr+1>>1,ur[gr+2+0]=ur[gr+3+64]=Kr+Jr+1>>1,ur[gr+3+0]=Jr+pn+1>>1,ur[gr+0+96]=Oi(zr,Mr,jr),ur[gr+0+64]=Oi(Mr,jr,qr),ur[gr+0+32]=ur[gr+1+96]=Oi(jr,qr,Hr),ur[gr+1+32]=ur[gr+2+96]=Oi(qr,Hr,Kr),ur[gr+2+32]=ur[gr+3+96]=Oi(Hr,Kr,Jr),ur[gr+3+32]=Oi(Kr,Jr,pn)}function Rs(ur,gr){var jr=ur[gr+0-32],Mr=ur[gr+1-32],zr=ur[gr+2-32],qr=ur[gr+3-32],Hr=ur[gr+4-32],Kr=ur[gr+5-32],Jr=ur[gr+6-32],pn=ur[gr+7-32];ur[gr+0+0]=jr+Mr+1>>1,ur[gr+1+0]=ur[gr+0+64]=Mr+zr+1>>1,ur[gr+2+0]=ur[gr+1+64]=zr+qr+1>>1,ur[gr+3+0]=ur[gr+2+64]=qr+Hr+1>>1,ur[gr+0+32]=Oi(jr,Mr,zr),ur[gr+1+32]=ur[gr+0+96]=Oi(Mr,zr,qr),ur[gr+2+32]=ur[gr+1+96]=Oi(zr,qr,Hr),ur[gr+3+32]=ur[gr+2+96]=Oi(qr,Hr,Kr),ur[gr+3+64]=Oi(Hr,Kr,Jr),ur[gr+3+96]=Oi(Kr,Jr,pn)}function uo(ur,gr){var jr=ur[gr-1+0],Mr=ur[gr-1+32],zr=ur[gr-1+64],qr=ur[gr-1+96];ur[gr+0+0]=jr+Mr+1>>1,ur[gr+2+0]=ur[gr+0+32]=Mr+zr+1>>1,ur[gr+2+32]=ur[gr+0+64]=zr+qr+1>>1,ur[gr+1+0]=Oi(jr,Mr,zr),ur[gr+3+0]=ur[gr+1+32]=Oi(Mr,zr,qr),ur[gr+3+32]=ur[gr+1+64]=Oi(zr,qr,qr),ur[gr+3+64]=ur[gr+2+64]=ur[gr+0+96]=ur[gr+1+96]=ur[gr+2+96]=ur[gr+3+96]=qr}function Fl(ur,gr){var jr=ur[gr-1+0],Mr=ur[gr-1+32],zr=ur[gr-1+64],qr=ur[gr-1+96],Hr=ur[gr-1-32],Kr=ur[gr+0-32],Jr=ur[gr+1-32],pn=ur[gr+2-32];ur[gr+0+0]=ur[gr+2+32]=jr+Hr+1>>1,ur[gr+0+32]=ur[gr+2+64]=Mr+jr+1>>1,ur[gr+0+64]=ur[gr+2+96]=zr+Mr+1>>1,ur[gr+0+96]=qr+zr+1>>1,ur[gr+3+0]=Oi(Kr,Jr,pn),ur[gr+2+0]=Oi(Hr,Kr,Jr),ur[gr+1+0]=ur[gr+3+32]=Oi(jr,Hr,Kr),ur[gr+1+32]=ur[gr+3+64]=Oi(Mr,jr,Hr),ur[gr+1+64]=ur[gr+3+96]=Oi(zr,Mr,jr),ur[gr+1+96]=Oi(qr,zr,Mr)}function Co(ur,gr){var jr;for(jr=0;8>jr;++jr)Ue(ur,gr+32*jr,ur,gr-32,8)}function Cc(ur,gr){var jr;for(jr=0;8>jr;++jr)ze(ur,gr,ur[gr-1],8),gr+=32}function ho(ur,gr,jr){var Mr;for(Mr=0;8>Mr;++Mr)ze(gr,jr+32*Mr,ur,8)}function ll(ur,gr){var jr,Mr=8;for(jr=0;8>jr;++jr)Mr+=ur[gr+jr-32]+ur[gr-1+32*jr];ho(Mr>>4,ur,gr)}function fo(ur,gr){var jr,Mr=4;for(jr=0;8>jr;++jr)Mr+=ur[gr+jr-32];ho(Mr>>3,ur,gr)}function da(ur,gr){var jr,Mr=4;for(jr=0;8>jr;++jr)Mr+=ur[gr-1+32*jr];ho(Mr>>3,ur,gr)}function Lo(ur,gr){ho(128,ur,gr)}function Na(ur,gr,jr){var Mr=ur[gr-jr],zr=ur[gr+0],qr=3*(zr-Mr)+Kl[1020+ur[gr-2*jr]-ur[gr+jr]],Hr=Nu[112+(qr+4>>3)];ur[gr-jr]=eo[255+Mr+Nu[112+(qr+3>>3)]],ur[gr+0]=eo[255+zr-Hr]}function $o(ur,gr,jr,Mr){var zr=ur[gr+0],qr=ur[gr+jr];return za[255+ur[gr-2*jr]-ur[gr-jr]]>Mr||za[255+qr-zr]>Mr}function _l(ur,gr,jr,Mr){return 4*za[255+ur[gr-jr]-ur[gr+0]]+za[255+ur[gr-2*jr]-ur[gr+jr]]<=Mr}function Fo(ur,gr,jr,Mr,zr){var qr=ur[gr-3*jr],Hr=ur[gr-2*jr],Kr=ur[gr-jr],Jr=ur[gr+0],pn=ur[gr+jr],En=ur[gr+2*jr],On=ur[gr+3*jr];return 4*za[255+Kr-Jr]+za[255+Hr-pn]>Mr?0:za[255+ur[gr-4*jr]-qr]<=zr&&za[255+qr-Hr]<=zr&&za[255+Hr-Kr]<=zr&&za[255+On-En]<=zr&&za[255+En-pn]<=zr&&za[255+pn-Jr]<=zr}function Vo(ur,gr,jr,Mr){var zr=2*Mr+1;for(Mr=0;16>Mr;++Mr)_l(ur,gr+Mr,jr,zr)&&Na(ur,gr+Mr,jr)}function So(ur,gr,jr,Mr){var zr=2*Mr+1;for(Mr=0;16>Mr;++Mr)_l(ur,gr+Mr*jr,1,zr)&&Na(ur,gr+Mr*jr,1)}function Vl(ur,gr,jr,Mr){var zr;for(zr=3;0<zr;--zr)Vo(ur,gr+=4*jr,jr,Mr)}function cc(ur,gr,jr,Mr){var zr;for(zr=3;0<zr;--zr)So(ur,gr+=4,jr,Mr)}function po(ur,gr,jr,Mr,zr,qr,Hr,Kr){for(qr=2*qr+1;0<zr--;){if(Fo(ur,gr,jr,qr,Hr))if($o(ur,gr,jr,Kr))Na(ur,gr,jr);else{var Jr=ur,pn=gr,En=jr,On=Jr[pn-2*En],dn=Jr[pn-En],Rn=Jr[pn+0],Dn=Jr[pn+En],Wn=Jr[pn+2*En],Mn=27*(Xn=Kl[1020+3*(Rn-dn)+Kl[1020+On-Dn]])+63>>7,Hn=18*Xn+63>>7,Xn=9*Xn+63>>7;Jr[pn-3*En]=eo[255+Jr[pn-3*En]+Xn],Jr[pn-2*En]=eo[255+On+Hn],Jr[pn-En]=eo[255+dn+Mn],Jr[pn+0]=eo[255+Rn-Mn],Jr[pn+En]=eo[255+Dn-Hn],Jr[pn+2*En]=eo[255+Wn-Xn]}gr+=Mr}}function Bo(ur,gr,jr,Mr,zr,qr,Hr,Kr){for(qr=2*qr+1;0<zr--;){if(Fo(ur,gr,jr,qr,Hr))if($o(ur,gr,jr,Kr))Na(ur,gr,jr);else{var Jr=ur,pn=gr,En=jr,On=Jr[pn-En],dn=Jr[pn+0],Rn=Jr[pn+En],Dn=Nu[112+(4+(Wn=3*(dn-On))>>3)],Wn=Nu[112+(Wn+3>>3)],Mn=Dn+1>>1;Jr[pn-2*En]=eo[255+Jr[pn-2*En]+Mn],Jr[pn-En]=eo[255+On+Wn],Jr[pn+0]=eo[255+dn-Dn],Jr[pn+En]=eo[255+Rn-Mn]}gr+=Mr}}function Ic(ur,gr,jr,Mr,zr,qr){po(ur,gr,jr,1,16,Mr,zr,qr)}function Io(ur,gr,jr,Mr,zr,qr){po(ur,gr,1,jr,16,Mr,zr,qr)}function uc(ur,gr,jr,Mr,zr,qr){var Hr;for(Hr=3;0<Hr;--Hr)Bo(ur,gr+=4*jr,jr,1,16,Mr,zr,qr)}function Rr(ur,gr,jr,Mr,zr,qr){var Hr;for(Hr=3;0<Hr;--Hr)Bo(ur,gr+=4,1,jr,16,Mr,zr,qr)}function Br(ur,gr,jr,Mr,zr,qr,Hr,Kr){po(ur,gr,zr,1,8,qr,Hr,Kr),po(jr,Mr,zr,1,8,qr,Hr,Kr)}function fn(ur,gr,jr,Mr,zr,qr,Hr,Kr){po(ur,gr,1,zr,8,qr,Hr,Kr),po(jr,Mr,1,zr,8,qr,Hr,Kr)}function yn(ur,gr,jr,Mr,zr,qr,Hr,Kr){Bo(ur,gr+4*zr,zr,1,8,qr,Hr,Kr),Bo(jr,Mr+4*zr,zr,1,8,qr,Hr,Kr)}function Tn(ur,gr,jr,Mr,zr,qr,Hr,Kr){Bo(ur,gr+4,1,zr,8,qr,Hr,Kr),Bo(jr,Mr+4,1,zr,8,qr,Hr,Kr)}function Gn(){this.ba=new ji,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ri(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _i(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Si(){this.ua=0,this.Wa=new di,this.vb=new di,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Or,this.yc=new Sr}function Fi(){this.xb=this.a=0,this.l=new Ia,this.ca=new ji,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Vr,this.Pb=0,this.wd=new Vr,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Si,this.ab=0,this.gc=He(4,_i),this.Oc=0}function ki(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ia,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cs(ur,gr,jr,Mr,zr,qr,Hr){for(ur=ur==null?0:ur[gr+0],gr=0;gr<Hr;++gr)zr[qr+gr]=ur+jr[Mr+gr]&255,ur=zr[qr+gr]}function Fs(ur,gr,jr,Mr,zr,qr,Hr){var Kr;if(ur==null)cs(null,null,jr,Mr,zr,qr,Hr);else for(Kr=0;Kr<Hr;++Kr)zr[qr+Kr]=ur[gr+Kr]+jr[Mr+Kr]&255}function Ds(ur,gr,jr,Mr,zr,qr,Hr){if(ur==null)cs(null,null,jr,Mr,zr,qr,Hr);else{var Kr,Jr=ur[gr+0],pn=Jr,En=Jr;for(Kr=0;Kr<Hr;++Kr)pn=En+(Jr=ur[gr+Kr])-pn,En=jr[Mr+Kr]+(-256&pn?0>pn?0:255:pn)&255,pn=Jr,zr[qr+Kr]=En}}function dr(ur,gr,jr,Mr){var zr=gr.width,qr=gr.o;if($e(ur!=null&&gr!=null),0>jr||0>=Mr||jr+Mr>qr)return null;if(!ur.Cc){if(ur.ga==null){var Hr;if(ur.ga=new ki,(Hr=ur.ga==null)||(Hr=gr.width*gr.o,$e(ur.Gb.length==0),ur.Gb=qe(Hr),ur.Uc=0,ur.Gb==null?Hr=0:(ur.mb=ur.Gb,ur.nb=ur.Uc,ur.rc=null,Hr=1),Hr=!Hr),!Hr){Hr=ur.ga;var Kr=ur.Fa,Jr=ur.P,pn=ur.qc,En=ur.mb,On=ur.nb,dn=Jr+1,Rn=pn-1,Dn=Hr.l;if($e(Kr!=null&&En!=null&&gr!=null),Yl[0]=null,Yl[1]=cs,Yl[2]=Fs,Yl[3]=Ds,Hr.ca=En,Hr.tb=On,Hr.c=gr.width,Hr.i=gr.height,$e(0<Hr.c&&0<Hr.i),1>=pn)gr=0;else if(Hr.$a=3&Kr[Jr+0],Hr.Z=Kr[Jr+0]>>2&3,Hr.Lc=Kr[Jr+0]>>4&3,Jr=Kr[Jr+0]>>6&3,0>Hr.$a||1<Hr.$a||4<=Hr.Z||1<Hr.Lc||Jr)gr=0;else if(Dn.put=Ii,Dn.ac=ks,Dn.bc=To,Dn.ma=Hr,Dn.width=gr.width,Dn.height=gr.height,Dn.Da=gr.Da,Dn.v=gr.v,Dn.va=gr.va,Dn.j=gr.j,Dn.o=gr.o,Hr.$a)e:{$e(Hr.$a==1),gr=Ya();t:for(;;){if(gr==null){gr=0;break e}if($e(Hr!=null),Hr.mc=gr,gr.c=Hr.c,gr.i=Hr.i,gr.l=Hr.l,gr.l.ma=Hr,gr.l.width=Hr.c,gr.l.height=Hr.i,gr.a=0,Ar(gr.m,Kr,dn,Rn),!Ra(Hr.c,Hr.i,1,gr,null)||(gr.ab==1&&gr.gc[0].hc==3&&Mi(gr.s)?(Hr.ic=1,Kr=gr.c*gr.i,gr.Ta=null,gr.Ua=0,gr.V=qe(Kr),gr.Ba=0,gr.V==null?(gr.a=1,gr=0):gr=1):(Hr.ic=0,gr=Ps(gr,Hr.c)),!gr))break t;gr=1;break e}Hr.mc=null,gr=0}else gr=Rn>=Hr.c*Hr.i;Hr=!gr}if(Hr)return null;ur.ga.Lc!=1?ur.Ga=0:Mr=qr-jr}$e(ur.ga!=null),$e(jr+Mr<=qr);e:{if(gr=(Kr=ur.ga).c,qr=Kr.l.o,Kr.$a==0){if(dn=ur.rc,Rn=ur.Vc,Dn=ur.Fa,Jr=ur.P+1+jr*gr,pn=ur.mb,En=ur.nb+jr*gr,$e(Jr<=ur.P+ur.qc),Kr.Z!=0)for($e(Yl[Kr.Z]!=null),Hr=0;Hr<Mr;++Hr)Yl[Kr.Z](dn,Rn,Dn,Jr,pn,En,gr),dn=pn,Rn=En,En+=gr,Jr+=gr;else for(Hr=0;Hr<Mr;++Hr)Ue(pn,En,Dn,Jr,gr),dn=pn,Rn=En,En+=gr,Jr+=gr;ur.rc=dn,ur.Vc=Rn}else{if($e(Kr.mc!=null),gr=jr+Mr,$e((Hr=Kr.mc)!=null),$e(gr<=Hr.i),Hr.C>=gr)gr=1;else if(Kr.ic||Fn(),Kr.ic){Kr=Hr.V,dn=Hr.Ba,Rn=Hr.c;var Wn=Hr.i,Mn=(Dn=1,Jr=Hr.$/Rn,pn=Hr.$%Rn,En=Hr.m,On=Hr.s,Hr.$),Hn=Rn*Wn,Xn=Rn*gr,ai=On.wc,ti=Mn<Xn?si(On,pn,Jr):null;$e(Mn<=Hn),$e(gr<=Wn),$e(Mi(On));t:for(;;){for(;!En.h&&Mn<Xn;){if(pn&ai||(ti=si(On,pn,Jr)),$e(ti!=null),mn(En),256>(Wn=hi(ti.G[0],ti.H[0],En)))Kr[dn+Mn]=Wn,++Mn,++pn>=Rn&&(pn=0,++Jr<=gr&&!(Jr%16)&&ls(Hr,Jr));else{if(!(280>Wn)){Dn=0;break t}Wn=Zi(Wn-256,En);var Ri,xi=hi(ti.G[4],ti.H[4],En);if(mn(En),!(Mn>=(xi=Cn(Rn,xi=Zi(xi,En)))&&Hn-Mn>=Wn)){Dn=0;break t}for(Ri=0;Ri<Wn;++Ri)Kr[dn+Mn+Ri]=Kr[dn+Mn+Ri-xi];for(Mn+=Wn,pn+=Wn;pn>=Rn;)pn-=Rn,++Jr<=gr&&!(Jr%16)&&ls(Hr,Jr);Mn<Xn&&pn&ai&&(ti=si(On,pn,Jr))}$e(En.h==Yr(En))}ls(Hr,Jr>gr?gr:Jr);break t}!Dn||En.h&&Mn<Hn?(Dn=0,Hr.a=En.h?5:3):Hr.$=Mn,gr=Dn}else gr=ra(Hr,Hr.V,Hr.Ba,Hr.c,Hr.i,gr,nl);if(!gr){Mr=0;break e}}jr+Mr>=qr&&(ur.Cc=1),Mr=1}if(!Mr)return null;if(ur.Cc&&((Mr=ur.ga)!=null&&(Mr.mc=null),ur.ga=null,0<ur.Ga))return alert("todo:WebPDequantizeLevels"),null}return ur.nb+jr*zr}function Ir(ur,gr,jr,Mr,zr,qr){for(;0<zr--;){var Hr,Kr=ur,Jr=gr+(jr?1:0),pn=ur,En=gr+(jr?0:3);for(Hr=0;Hr<Mr;++Hr){var On=pn[En+4*Hr];On!=255&&(On*=32897,Kr[Jr+4*Hr+0]=Kr[Jr+4*Hr+0]*On>>23,Kr[Jr+4*Hr+1]=Kr[Jr+4*Hr+1]*On>>23,Kr[Jr+4*Hr+2]=Kr[Jr+4*Hr+2]*On>>23)}gr+=qr}}function Fr(ur,gr,jr,Mr,zr){for(;0<Mr--;){var qr;for(qr=0;qr<jr;++qr){var Hr=ur[gr+2*qr+0],Kr=15&(pn=ur[gr+2*qr+1]),Jr=4369*Kr,pn=(240&pn|pn>>4)*Jr>>16;ur[gr+2*qr+0]=(240&Hr|Hr>>4)*Jr>>16&240|(15&Hr|Hr<<4)*Jr>>16>>4&15,ur[gr+2*qr+1]=240&pn|Kr}gr+=zr}}function Xr(ur,gr,jr,Mr,zr,qr,Hr,Kr){var Jr,pn,En=255;for(pn=0;pn<zr;++pn){for(Jr=0;Jr<Mr;++Jr){var On=ur[gr+Jr];qr[Hr+4*Jr]=On,En&=On}gr+=jr,Hr+=Kr}return En!=255}function kn(ur,gr,jr,Mr,zr){var qr;for(qr=0;qr<zr;++qr)jr[Mr+qr]=ur[gr+qr]>>8}function Fn(){Dc=Ir,zo=Fr,Pu=Xr,Mo=kn}function ci(ur,gr,jr){_r[ur]=function(Mr,zr,qr,Hr,Kr,Jr,pn,En,On,dn,Rn,Dn,Wn,Mn,Hn,Xn,ai){var ti,Ri=ai-1>>1,xi=Kr[Jr+0]|pn[En+0]<<16,Xi=On[dn+0]|Rn[Dn+0]<<16;$e(Mr!=null);var Ei=3*xi+Xi+131074>>2;for(gr(Mr[zr+0],255&Ei,Ei>>16,Wn,Mn),qr!=null&&(Ei=3*Xi+xi+131074>>2,gr(qr[Hr+0],255&Ei,Ei>>16,Hn,Xn)),ti=1;ti<=Ri;++ti){var us=Kr[Jr+ti]|pn[En+ti]<<16,Ks=On[dn+ti]|Rn[Dn+ti]<<16,Ji=xi+us+Xi+Ks+524296,bi=Ji+2*(us+Xi)>>3;Ei=bi+xi>>1,xi=(Ji=Ji+2*(xi+Ks)>>3)+us>>1,gr(Mr[zr+2*ti-1],255&Ei,Ei>>16,Wn,Mn+(2*ti-1)*jr),gr(Mr[zr+2*ti-0],255&xi,xi>>16,Wn,Mn+(2*ti-0)*jr),qr!=null&&(Ei=Ji+Xi>>1,xi=bi+Ks>>1,gr(qr[Hr+2*ti-1],255&Ei,Ei>>16,Hn,Xn+(2*ti-1)*jr),gr(qr[Hr+2*ti+0],255&xi,xi>>16,Hn,Xn+(2*ti+0)*jr)),xi=us,Xi=Ks}1&ai||(Ei=3*xi+Xi+131074>>2,gr(Mr[zr+ai-1],255&Ei,Ei>>16,Wn,Mn+(ai-1)*jr),qr!=null&&(Ei=3*Xi+xi+131074>>2,gr(qr[Hr+ai-1],255&Ei,Ei>>16,Hn,Xn+(ai-1)*jr)))}}function Ki(){Ha[Wu]=Lc,Ha[ro]=au,Ha[Gu]=Pd,Ha[qo]=Ju,Ha[ku]=mc,Ha[nu]=Cl,Ha[hc]=gc,Ha[Du]=au,Ha[Ku]=Ju,Ha[iu]=mc,Ha[Yu]=Cl}function Vs(ur){return ur&-16384?0>ur?0:255:ur>>Zu}function rs(ur,gr){return Vs((19077*ur>>8)+(26149*gr>>8)-14234)}function As(ur,gr,jr){return Vs((19077*ur>>8)-(6419*gr>>8)-(13320*jr>>8)+8708)}function Da(ur,gr){return Vs((19077*ur>>8)+(33050*gr>>8)-17685)}function Va(ur,gr,jr,Mr,zr){Mr[zr+0]=rs(ur,jr),Mr[zr+1]=As(ur,gr,jr),Mr[zr+2]=Da(ur,gr)}function Ms(ur,gr,jr,Mr,zr){Mr[zr+0]=Da(ur,gr),Mr[zr+1]=As(ur,gr,jr),Mr[zr+2]=rs(ur,jr)}function Ba(ur,gr,jr,Mr,zr){var qr=As(ur,gr,jr);gr=qr<<3&224|Da(ur,gr)>>3,Mr[zr+0]=248&rs(ur,jr)|qr>>5,Mr[zr+1]=gr}function No(ur,gr,jr,Mr,zr){var qr=240&Da(ur,gr)|15;Mr[zr+0]=240&rs(ur,jr)|As(ur,gr,jr)>>4,Mr[zr+1]=qr}function El(ur,gr,jr,Mr,zr){Mr[zr+0]=255,Va(ur,gr,jr,Mr,zr+1)}function wl(ur,gr,jr,Mr,zr){Ms(ur,gr,jr,Mr,zr),Mr[zr+3]=255}function mo(ur,gr,jr,Mr,zr){Va(ur,gr,jr,Mr,zr),Mr[zr+3]=255}function Bl(ur,gr,jr){_r[ur]=function(Mr,zr,qr,Hr,Kr,Jr,pn,En,On){for(var dn=En+(-2&On)*jr;En!=dn;)gr(Mr[zr+0],qr[Hr+0],Kr[Jr+0],pn,En),gr(Mr[zr+1],qr[Hr+0],Kr[Jr+0],pn,En+jr),zr+=2,++Hr,++Jr,En+=2*jr;1&On&&gr(Mr[zr+0],qr[Hr+0],Kr[Jr+0],pn,En)}}function Jc(ur,gr,jr){return jr==0?ur==0?gr==0?6:5:gr==0?4:0:jr}function Au(ur,gr,jr,Mr,zr){switch(ur>>>30){case 3:Gl(gr,jr,Mr,zr,0);break;case 2:Za(gr,jr,Mr,zr);break;case 1:ws(gr,jr,Mr,zr)}}function ko(ur,gr){var jr,Mr,zr=gr.M,qr=gr.Nb,Hr=ur.oc,Kr=ur.pc+40,Jr=ur.oc,pn=ur.pc+584,En=ur.oc,On=ur.pc+600;for(jr=0;16>jr;++jr)Hr[Kr+32*jr-1]=129;for(jr=0;8>jr;++jr)Jr[pn+32*jr-1]=129,En[On+32*jr-1]=129;for(0<zr?Hr[Kr-1-32]=Jr[pn-1-32]=En[On-1-32]=129:(ze(Hr,Kr-32-1,127,21),ze(Jr,pn-32-1,127,9),ze(En,On-32-1,127,9)),Mr=0;Mr<ur.za;++Mr){var dn=gr.ya[gr.aa+Mr];if(0<Mr){for(jr=-1;16>jr;++jr)Ue(Hr,Kr+32*jr-4,Hr,Kr+32*jr+12,4);for(jr=-1;8>jr;++jr)Ue(Jr,pn+32*jr-4,Jr,pn+32*jr+4,4),Ue(En,On+32*jr-4,En,On+32*jr+4,4)}var Rn=ur.Gd,Dn=ur.Hd+Mr,Wn=dn.ad,Mn=dn.Hc;if(0<zr&&(Ue(Hr,Kr-32,Rn[Dn].y,0,16),Ue(Jr,pn-32,Rn[Dn].f,0,8),Ue(En,On-32,Rn[Dn].ea,0,8)),dn.Za){var Hn=Hr,Xn=Kr-32+16;for(0<zr&&(Mr>=ur.za-1?ze(Hn,Xn,Rn[Dn].y[15],4):Ue(Hn,Xn,Rn[Dn+1].y,0,4)),jr=0;4>jr;jr++)Hn[Xn+128+jr]=Hn[Xn+256+jr]=Hn[Xn+384+jr]=Hn[Xn+0+jr];for(jr=0;16>jr;++jr,Mn<<=2)Hn=Hr,Xn=Kr+pa[jr],sa[dn.Ob[jr]](Hn,Xn),Au(Mn,Wn,16*+jr,Hn,Xn)}else if(Hn=Jc(Mr,zr,dn.Ob[0]),vo[Hn](Hr,Kr),Mn!=0)for(jr=0;16>jr;++jr,Mn<<=2)Au(Mn,Wn,16*+jr,Hr,Kr+pa[jr]);for(jr=dn.Gc,Hn=Jc(Mr,zr,dn.Dd),hl[Hn](Jr,pn),hl[Hn](En,On),Mn=Wn,Hn=Jr,Xn=pn,255&(dn=0|jr)&&(170&dn?Uo(Mn,256,Hn,Xn):ys(Mn,256,Hn,Xn)),dn=En,Mn=On,255&(jr>>=8)&&(170&jr?Uo(Wn,320,dn,Mn):ys(Wn,320,dn,Mn)),zr<ur.Ub-1&&(Ue(Rn[Dn].y,0,Hr,Kr+480,16),Ue(Rn[Dn].f,0,Jr,pn+224,8),Ue(Rn[Dn].ea,0,En,On+224,8)),jr=8*qr*ur.B,Rn=ur.sa,Dn=ur.ta+16*Mr+16*qr*ur.R,Wn=ur.qa,dn=ur.ra+8*Mr+jr,Mn=ur.Ha,Hn=ur.Ia+8*Mr+jr,jr=0;16>jr;++jr)Ue(Rn,Dn+jr*ur.R,Hr,Kr+32*jr,16);for(jr=0;8>jr;++jr)Ue(Wn,dn+jr*ur.B,Jr,pn+32*jr,8),Ue(Mn,Hn+jr*ur.B,En,On+32*jr,8)}}function cl(ur,gr,jr,Mr,zr,qr,Hr,Kr,Jr){var pn=[0],En=[0],On=0,dn=Jr!=null?Jr.kd:0,Rn=Jr??new ri;if(ur==null||12>jr)return 7;Rn.data=ur,Rn.w=gr,Rn.ha=jr,gr=[gr],jr=[jr],Rn.gb=[Rn.gb];e:{var Dn=gr,Wn=jr,Mn=Rn.gb;if($e(ur!=null),$e(Wn!=null),$e(Mn!=null),Mn[0]=0,12<=Wn[0]&&!Be(ur,Dn[0],"RIFF")){if(Be(ur,Dn[0]+8,"WEBP")){Mn=3;break e}var Hn=Sn(ur,Dn[0]+4);if(12>Hn||4294967286<Hn){Mn=3;break e}if(dn&&Hn>Wn[0]-8){Mn=7;break e}Mn[0]=Hn,Dn[0]+=12,Wn[0]-=12}Mn=0}if(Mn!=0)return Mn;for(Hn=0<Rn.gb[0],jr=jr[0];;){e:{var Xn=ur;Wn=gr,Mn=jr;var ai=pn,ti=En,Ri=Dn=[0];if((Ei=On=[On])[0]=0,8>Mn[0])Mn=7;else{if(!Be(Xn,Wn[0],"VP8X")){if(Sn(Xn,Wn[0]+4)!=10){Mn=3;break e}if(18>Mn[0]){Mn=7;break e}var xi=Sn(Xn,Wn[0]+8),Xi=1+In(Xn,Wn[0]+12);if(2147483648<=Xi*(Xn=1+In(Xn,Wn[0]+15))){Mn=3;break e}Ri!=null&&(Ri[0]=xi),ai!=null&&(ai[0]=Xi),ti!=null&&(ti[0]=Xn),Wn[0]+=18,Mn[0]-=18,Ei[0]=1}Mn=0}}if(On=On[0],Dn=Dn[0],Mn!=0)return Mn;if(Wn=!!(2&Dn),!Hn&&On)return 3;if(qr!=null&&(qr[0]=!!(16&Dn)),Hr!=null&&(Hr[0]=Wn),Kr!=null&&(Kr[0]=0),Hr=pn[0],Dn=En[0],On&&Wn&&Jr==null){Mn=0;break}if(4>jr){Mn=7;break}if(Hn&&On||!Hn&&!On&&!Be(ur,gr[0],"ALPH")){jr=[jr],Rn.na=[Rn.na],Rn.P=[Rn.P],Rn.Sa=[Rn.Sa];e:{xi=ur,Mn=gr,Hn=jr;var Ei=Rn.gb;ai=Rn.na,ti=Rn.P,Ri=Rn.Sa,Xi=22,$e(xi!=null),$e(Hn!=null),Xn=Mn[0];var us=Hn[0];for($e(ai!=null),$e(Ri!=null),ai[0]=null,ti[0]=null,Ri[0]=0;;){if(Mn[0]=Xn,Hn[0]=us,8>us){Mn=7;break e}var Ks=Sn(xi,Xn+4);if(4294967286<Ks){Mn=3;break e}var Ji=8+Ks+1&-2;if(Xi+=Ji,0<Ei&&Xi>Ei){Mn=3;break e}if(!Be(xi,Xn,"VP8 ")||!Be(xi,Xn,"VP8L")){Mn=0;break e}if(us[0]<Ji){Mn=7;break e}Be(xi,Xn,"ALPH")||(ai[0]=xi,ti[0]=Xn+8,Ri[0]=Ks),Xn+=Ji,us-=Ji}}if(jr=jr[0],Rn.na=Rn.na[0],Rn.P=Rn.P[0],Rn.Sa=Rn.Sa[0],Mn!=0)break}jr=[jr],Rn.Ja=[Rn.Ja],Rn.xa=[Rn.xa];e:if(Ei=ur,Mn=gr,Hn=jr,ai=Rn.gb[0],ti=Rn.Ja,Ri=Rn.xa,xi=Mn[0],Xn=!Be(Ei,xi,"VP8 "),Xi=!Be(Ei,xi,"VP8L"),$e(Ei!=null),$e(Hn!=null),$e(ti!=null),$e(Ri!=null),8>Hn[0])Mn=7;else{if(Xn||Xi){if(Ei=Sn(Ei,xi+4),12<=ai&&Ei>ai-12){Mn=3;break e}if(dn&&Ei>Hn[0]-8){Mn=7;break e}ti[0]=Ei,Mn[0]+=8,Hn[0]-=8,Ri[0]=Xi}else Ri[0]=5<=Hn[0]&&Ei[xi+0]==47&&!(Ei[xi+4]>>5),ti[0]=Hn[0];Mn=0}if(jr=jr[0],Rn.Ja=Rn.Ja[0],Rn.xa=Rn.xa[0],gr=gr[0],Mn!=0)break;if(4294967286<Rn.Ja)return 3;if(Kr==null||Wn||(Kr[0]=Rn.xa?2:1),Hr=[Hr],Dn=[Dn],Rn.xa){if(5>jr){Mn=7;break}Kr=Hr,dn=Dn,Wn=qr,ur==null||5>jr?ur=0:5<=jr&&ur[gr+0]==47&&!(ur[gr+4]>>5)?(Hn=[0],Ei=[0],ai=[0],Ar(ti=new Vr,ur,gr,jr),Ca(ti,Hn,Ei,ai)?(Kr!=null&&(Kr[0]=Hn[0]),dn!=null&&(dn[0]=Ei[0]),Wn!=null&&(Wn[0]=ai[0]),ur=1):ur=0):ur=0}else{if(10>jr){Mn=7;break}Kr=Dn,ur==null||10>jr||!il(ur,gr+3,jr-3)?ur=0:(dn=ur[gr+0]|ur[gr+1]<<8|ur[gr+2]<<16,Wn=16383&(ur[gr+7]<<8|ur[gr+6]),ur=16383&(ur[gr+9]<<8|ur[gr+8]),1&dn||3<(dn>>1&7)||!(dn>>4&1)||dn>>5>=Rn.Ja||!Wn||!ur?ur=0:(Hr&&(Hr[0]=Wn),Kr&&(Kr[0]=ur),ur=1))}if(!ur||(Hr=Hr[0],Dn=Dn[0],On&&(pn[0]!=Hr||En[0]!=Dn)))return 3;Jr!=null&&(Jr[0]=Rn,Jr.offset=gr-Jr.w,$e(4294967286>gr-Jr.w),$e(Jr.offset==Jr.ha-jr));break}return Mn==0||Mn==7&&On&&Jr==null?(qr!=null&&(qr[0]|=Rn.na!=null&&0<Rn.na.length),Mr!=null&&(Mr[0]=Hr),zr!=null&&(zr[0]=Dn),0):Mn}function Ul(ur,gr,jr){var Mr=gr.width,zr=gr.height,qr=0,Hr=0,Kr=Mr,Jr=zr;if(gr.Da=ur!=null&&0<ur.Da,gr.Da&&(Kr=ur.cd,Jr=ur.bd,qr=ur.v,Hr=ur.j,11>jr||(qr&=-2,Hr&=-2),0>qr||0>Hr||0>=Kr||0>=Jr||qr+Kr>Mr||Hr+Jr>zr))return 0;if(gr.v=qr,gr.j=Hr,gr.va=qr+Kr,gr.o=Hr+Jr,gr.U=Kr,gr.T=Jr,gr.da=ur!=null&&0<ur.da,gr.da){if(!ii(Kr,Jr,jr=[ur.ib],qr=[ur.hb]))return 0;gr.ib=jr[0],gr.hb=qr[0]}return gr.ob=ur!=null&&ur.ob,gr.Kb=ur==null||!ur.Sd,gr.da&&(gr.ob=gr.ib<3*Mr/4&&gr.hb<3*zr/4,gr.Kb=0),1}function Tu(ur){if(ur==null)return 2;if(11>ur.S){var gr=ur.f.RGBA;gr.fb+=(ur.height-1)*gr.A,gr.A=-gr.A}else gr=ur.f.kb,ur=ur.height,gr.O+=(ur-1)*gr.fa,gr.fa=-gr.fa,gr.N+=(ur-1>>1)*gr.Ab,gr.Ab=-gr.Ab,gr.W+=(ur-1>>1)*gr.Db,gr.Db=-gr.Db,gr.F!=null&&(gr.J+=(ur-1)*gr.lb,gr.lb=-gr.lb);return 0}function ul(ur,gr,jr,Mr){if(Mr==null||0>=ur||0>=gr)return 2;if(jr!=null){if(jr.Da){var zr=jr.cd,qr=jr.bd,Hr=-2&jr.v,Kr=-2&jr.j;if(0>Hr||0>Kr||0>=zr||0>=qr||Hr+zr>ur||Kr+qr>gr)return 2;ur=zr,gr=qr}if(jr.da){if(!ii(ur,gr,zr=[jr.ib],qr=[jr.hb]))return 2;ur=zr[0],gr=qr[0]}}Mr.width=ur,Mr.height=gr;e:{var Jr=Mr.width,pn=Mr.height;if(ur=Mr.S,0>=Jr||0>=pn||!(ur>=Wu&&13>ur))ur=2;else{if(0>=Mr.Rd&&Mr.sd==null){Hr=qr=zr=gr=0;var En=(Kr=Jr*rd[ur])*pn;if(11>ur||(qr=(pn+1)/2*(gr=(Jr+1)/2),ur==12&&(Hr=(zr=Jr)*pn)),(pn=qe(En+2*qr+Hr))==null){ur=1;break e}Mr.sd=pn,11>ur?((Jr=Mr.f.RGBA).eb=pn,Jr.fb=0,Jr.A=Kr,Jr.size=En):((Jr=Mr.f.kb).y=pn,Jr.O=0,Jr.fa=Kr,Jr.Fd=En,Jr.f=pn,Jr.N=0+En,Jr.Ab=gr,Jr.Cd=qr,Jr.ea=pn,Jr.W=0+En+qr,Jr.Db=gr,Jr.Ed=qr,ur==12&&(Jr.F=pn,Jr.J=0+En+2*qr),Jr.Tc=Hr,Jr.lb=zr)}if(gr=1,zr=Mr.S,qr=Mr.width,Hr=Mr.height,zr>=Wu&&13>zr)if(11>zr)ur=Mr.f.RGBA,gr&=(Kr=Math.abs(ur.A))*(Hr-1)+qr<=ur.size,gr&=Kr>=qr*rd[zr],gr&=ur.eb!=null;else{ur=Mr.f.kb,Kr=(qr+1)/2,En=(Hr+1)/2,Jr=Math.abs(ur.fa),pn=Math.abs(ur.Ab);var On=Math.abs(ur.Db),dn=Math.abs(ur.lb),Rn=dn*(Hr-1)+qr;gr&=Jr*(Hr-1)+qr<=ur.Fd,gr&=pn*(En-1)+Kr<=ur.Cd,gr=(gr&=On*(En-1)+Kr<=ur.Ed)&Jr>=qr&pn>=Kr&On>=Kr,gr&=ur.y!=null,gr&=ur.f!=null,gr&=ur.ea!=null,zr==12&&(gr&=dn>=qr,gr&=Rn<=ur.Tc,gr&=ur.F!=null)}else gr=0;ur=gr?0:2}}return ur!=0||jr!=null&&jr.fd&&(ur=Tu(Mr)),ur}var dc=64,Ro=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],go=24,Sl=32,Rl=8,zl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qn("Predictor0","PredictorAdd0"),_r.Predictor0=function(){return 4278190080},_r.Predictor1=function(ur){return ur},_r.Predictor2=function(ur,gr,jr){return gr[jr+0]},_r.Predictor3=function(ur,gr,jr){return gr[jr+1]},_r.Predictor4=function(ur,gr,jr){return gr[jr-1]},_r.Predictor5=function(ur,gr,jr){return vi(vi(ur,gr[jr+1]),gr[jr+0])},_r.Predictor6=function(ur,gr,jr){return vi(ur,gr[jr-1])},_r.Predictor7=function(ur,gr,jr){return vi(ur,gr[jr+0])},_r.Predictor8=function(ur,gr,jr){return vi(gr[jr-1],gr[jr+0])},_r.Predictor9=function(ur,gr,jr){return vi(gr[jr+0],gr[jr+1])},_r.Predictor10=function(ur,gr,jr){return vi(vi(ur,gr[jr-1]),vi(gr[jr+0],gr[jr+1]))},_r.Predictor11=function(ur,gr,jr){var Mr=gr[jr+0];return 0>=ni(Mr>>24&255,ur>>24&255,(gr=gr[jr-1])>>24&255)+ni(Mr>>16&255,ur>>16&255,gr>>16&255)+ni(Mr>>8&255,ur>>8&255,gr>>8&255)+ni(255&Mr,255&ur,255&gr)?Mr:ur},_r.Predictor12=function(ur,gr,jr){var Mr=gr[jr+0];return(xn((ur>>24&255)+(Mr>>24&255)-((gr=gr[jr-1])>>24&255))<<24|xn((ur>>16&255)+(Mr>>16&255)-(gr>>16&255))<<16|xn((ur>>8&255)+(Mr>>8&255)-(gr>>8&255))<<8|xn((255&ur)+(255&Mr)-(255&gr)))>>>0},_r.Predictor13=function(ur,gr,jr){var Mr=gr[jr-1];return(ei((ur=vi(ur,gr[jr+0]))>>24&255,Mr>>24&255)<<24|ei(ur>>16&255,Mr>>16&255)<<16|ei(ur>>8&255,Mr>>8&255)<<8|ei(255&ur,255&Mr))>>>0};var Zc=_r.PredictorAdd0;_r.PredictorAdd1=ui,Qn("Predictor2","PredictorAdd2"),Qn("Predictor3","PredictorAdd3"),Qn("Predictor4","PredictorAdd4"),Qn("Predictor5","PredictorAdd5"),Qn("Predictor6","PredictorAdd6"),Qn("Predictor7","PredictorAdd7"),Qn("Predictor8","PredictorAdd8"),Qn("Predictor9","PredictorAdd9"),Qn("Predictor10","PredictorAdd10"),Qn("Predictor11","PredictorAdd11"),Qn("Predictor12","PredictorAdd12"),Qn("Predictor13","PredictorAdd13");var eu=_r.PredictorAdd2;mi("ColorIndexInverseTransform","MapARGB","32b",function(ur){return ur>>8&255},function(ur){return ur}),mi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(ur){return ur},function(ur){return ur>>8&255});var ha,zu=_r.ColorIndexInverseTransform,Al=_r.MapARGB,Tl=_r.VP8LColorIndexInverseTransformAlpha,Ua=_r.MapAlpha,ql=_r.VP8LPredictorsAdd=[];ql.length=16,(_r.VP8LPredictors=[]).length=16,(_r.VP8LPredictorsAdd_C=[]).length=16,(_r.VP8LPredictors_C=[]).length=16;var tu,ru,Hl,Wl,jl,Nc,Do,Gl,Za,Uo,ws,ys,Bs,fa,Pl,dl,kc,ju,Sd,ah,oh,lh,Rd,Ad,Dc,zo,Pu,Mo,Mc=qe(511),qu=qe(2041),Cu=qe(225),Iu=qe(767),Hu=0,Kl=qu,Nu=Cu,eo=Iu,za=Mc,Wu=0,ro=1,Gu=2,qo=3,ku=4,nu=5,hc=6,Du=7,Ku=8,iu=9,Yu=10,Ho=[2,3,7],su=[3,3,11],Oc=[280,256,256,256,40],Xu=[0,1,1,1,0],Mu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Wo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Go=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fc=8,Ko=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Oo=null,ch=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Td=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Qu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ds=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vo=[],sa=[],hl=[],pc=1,jd=2,Yl=[],Ha=[];ci("UpsampleRgbLinePair",Va,3),ci("UpsampleBgrLinePair",Ms,3),ci("UpsampleRgbaLinePair",mo,4),ci("UpsampleBgraLinePair",wl,4),ci("UpsampleArgbLinePair",El,4),ci("UpsampleRgba4444LinePair",No,2),ci("UpsampleRgb565LinePair",Ba,2);var Lc=_r.UpsampleRgbLinePair,Pd=_r.UpsampleBgrLinePair,au=_r.UpsampleRgbaLinePair,Ju=_r.UpsampleBgraLinePair,mc=_r.UpsampleArgbLinePair,Cl=_r.UpsampleRgba4444LinePair,gc=_r.UpsampleRgb565LinePair,Xo=16,ou=1<<Xo-1,$c=-227,vc=482,Zu=6,yc=0,Wa=qe(256),ed=qe(256),dh=qe(256),Jh=qe(256),Zh=qe(vc-$c),ef=qe(vc-$c);Bl("YuvToRgbRow",Va,3),Bl("YuvToBgrRow",Ms,3),Bl("YuvToRgbaRow",mo,4),Bl("YuvToBgraRow",wl,4),Bl("YuvToArgbRow",El,4),Bl("YuvToRgba4444Row",No,2),Bl("YuvToRgb565Row",Ba,2);var pa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lu=[0,2,8],Ou=[8,7,6,4,4,2,2,2,1,1,1,1],Lu=1;this.WebPDecodeRGBA=function(ur,gr,jr,Mr,zr){var qr=ro,Hr=new Gn,Kr=new ji;Hr.ba=Kr,Kr.S=qr,Kr.width=[Kr.width],Kr.height=[Kr.height];var Jr=Kr.width,pn=Kr.height,En=new Ti;if(En==null||ur==null)var On=2;else $e(En!=null),On=cl(ur,gr,jr,En.width,En.height,En.Pd,En.Qd,En.format,null);if(On!=0?Jr=0:(Jr!=null&&(Jr[0]=En.width[0]),pn!=null&&(pn[0]=En.height[0]),Jr=1),Jr){Kr.width=Kr.width[0],Kr.height=Kr.height[0],Mr!=null&&(Mr[0]=Kr.width),zr!=null&&(zr[0]=Kr.height);e:{if(Mr=new Ia,(zr=new ri).data=ur,zr.w=gr,zr.ha=jr,zr.kd=1,gr=[0],$e(zr!=null),((ur=cl(zr.data,zr.w,zr.ha,null,null,null,gr,null,zr))==0||ur==7)&&gr[0]&&(ur=4),(gr=ur)==0){if($e(Hr!=null),Mr.data=zr.data,Mr.w=zr.w+zr.offset,Mr.ha=zr.ha-zr.offset,Mr.put=Ii,Mr.ac=ks,Mr.bc=To,Mr.ma=Hr,zr.xa){if((ur=Ya())==null){Hr=1;break e}if((function(dn,Rn){var Dn=[0],Wn=[0],Mn=[0];t:for(;;){if(dn==null)return 0;if(Rn==null)return dn.a=2,0;if(dn.l=Rn,dn.a=0,Ar(dn.m,Rn.data,Rn.w,Rn.ha),!Ca(dn.m,Dn,Wn,Mn)){dn.a=3;break t}if(dn.xb=jd,Rn.width=Dn[0],Rn.height=Wn[0],!Ra(Dn[0],Wn[0],1,dn,null))break t;return 1}return $e(dn.a!=0),0})(ur,Mr)){if(Mr=(gr=ul(Mr.width,Mr.height,Hr.Oa,Hr.ba))==0){t:{Mr=ur;r:for(;;){if(Mr==null){Mr=0;break t}if($e(Mr.s.yc!=null),$e(Mr.s.Ya!=null),$e(0<Mr.s.Wb),$e((jr=Mr.l)!=null),$e((zr=jr.ma)!=null),Mr.xb!=0){if(Mr.ca=zr.ba,Mr.tb=zr.tb,$e(Mr.ca!=null),!Ul(zr.Oa,jr,qo)){Mr.a=2;break r}if(!Ps(Mr,jr.width)||jr.da)break r;if((jr.da||Ni(Mr.ca.S))&&Fn(),11>Mr.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Mr.ca.f.kb.F!=null&&Fn()),Mr.Pb&&0<Mr.s.ua&&Mr.s.vb.X==null&&!Gr(Mr.s.vb,Mr.s.Wa.Xa)){Mr.a=1;break r}Mr.xb=0}if(!ra(Mr,Mr.V,Mr.Ba,Mr.c,Mr.i,jr.o,Yi))break r;zr.Dc=Mr.Ma,Mr=1;break t}$e(Mr.a!=0),Mr=0}Mr=!Mr}Mr&&(gr=ur.a)}else gr=ur.a}else{if((ur=new na)==null){Hr=1;break e}if(ur.Fa=zr.na,ur.P=zr.P,ur.qc=zr.Sa,wo(ur,Mr)){if((gr=ul(Mr.width,Mr.height,Hr.Oa,Hr.ba))==0){if(ur.Aa=0,jr=Hr.Oa,$e((zr=ur)!=null),jr!=null){if(0<(Jr=0>(Jr=jr.Md)?0:100<Jr?255:255*Jr/100)){for(pn=En=0;4>pn;++pn)12>(On=zr.pb[pn]).lc&&(On.ia=Jr*Ou[0>On.lc?0:On.lc]>>3),En|=On.ia;En&&(alert("todo:VP8InitRandom"),zr.ia=1)}zr.Ga=jr.Id,100<zr.Ga?zr.Ga=100:0>zr.Ga&&(zr.Ga=0)}(function(dn,Rn){if(dn==null)return 0;if(Rn==null)return ss(dn,2,"NULL VP8Io parameter in VP8Decode().");if(!dn.cb&&!wo(dn,Rn))return 0;if($e(dn.cb),Rn.ac==null||Rn.ac(Rn)){Rn.ob&&(dn.L=0);var Dn=lu[dn.L];if(dn.L==2?(dn.yb=0,dn.zb=0):(dn.yb=Rn.v-Dn>>4,dn.zb=Rn.j-Dn>>4,0>dn.yb&&(dn.yb=0),0>dn.zb&&(dn.zb=0)),dn.Va=Rn.o+15+Dn>>4,dn.Hb=Rn.va+15+Dn>>4,dn.Hb>dn.za&&(dn.Hb=dn.za),dn.Va>dn.Ub&&(dn.Va=dn.Ub),0<dn.L){var Wn=dn.ed;for(Dn=0;4>Dn;++Dn){var Mn;if(dn.Qa.Cb){var Hn=dn.Qa.Lb[Dn];dn.Qa.Fb||(Hn+=Wn.Tb)}else Hn=Wn.Tb;for(Mn=0;1>=Mn;++Mn){var Xn=dn.gd[Dn][Mn],ai=Hn;if(Wn.Pc&&(ai+=Wn.vd[0],Mn&&(ai+=Wn.od[0])),0<(ai=0>ai?0:63<ai?63:ai)){var ti=ai;0<Wn.wb&&(ti=4<Wn.wb?ti>>2:ti>>1)>9-Wn.wb&&(ti=9-Wn.wb),1>ti&&(ti=1),Xn.dd=ti,Xn.tc=2*ai+ti,Xn.ld=40<=ai?2:15<=ai?1:0}else Xn.tc=0;Xn.La=Mn}}}Dn=0}else ss(dn,6,"Frame setup failed"),Dn=dn.a;if(Dn=Dn==0){if(Dn){dn.$c=0,0<dn.Aa||(dn.Ic=Lu);t:{Dn=dn.Ic,Wn=4*(ti=dn.za);var Ri=32*ti,xi=ti+1,Xi=0<dn.L?ti*(0<dn.Aa?2:1):0,Ei=(dn.Aa==2?2:1)*ti;if((Xn=Wn+832+(Mn=3*(16*Dn+lu[dn.L])/2*Ri)+(Hn=dn.Fa!=null&&0<dn.Fa.length?dn.Kc.c*dn.Kc.i:0))!=Xn)Dn=0;else{if(Xn>dn.Vb){if(dn.Vb=0,dn.Ec=qe(Xn),dn.Fc=0,dn.Ec==null){Dn=ss(dn,1,"no memory during frame initialization.");break t}dn.Vb=Xn}Xn=dn.Ec,ai=dn.Fc,dn.Ac=Xn,dn.Bc=ai,ai+=Wn,dn.Gd=He(Ri,ic),dn.Hd=0,dn.rb=He(xi+1,Eo),dn.sb=1,dn.wa=Xi?He(Xi,Xa):null,dn.Y=0,dn.D.Nb=0,dn.D.wa=dn.wa,dn.D.Y=dn.Y,0<dn.Aa&&(dn.D.Y+=ti),$e(!0),dn.oc=Xn,dn.pc=ai,ai+=832,dn.ya=He(Ei,Ml),dn.aa=0,dn.D.ya=dn.ya,dn.D.aa=dn.aa,dn.Aa==2&&(dn.D.aa+=ti),dn.R=16*ti,dn.B=8*ti,ti=(Ri=lu[dn.L])*dn.R,Ri=Ri/2*dn.B,dn.sa=Xn,dn.ta=ai+ti,dn.qa=dn.sa,dn.ra=dn.ta+16*Dn*dn.R+Ri,dn.Ha=dn.qa,dn.Ia=dn.ra+8*Dn*dn.B+Ri,dn.$c=0,ai+=Mn,dn.mb=Hn?Xn:null,dn.nb=Hn?ai:null,$e(ai+Hn<=dn.Fc+dn.Vb),vl(dn),ze(dn.Ac,dn.Bc,0,Wn),Dn=1}}if(Dn){if(Rn.ka=0,Rn.y=dn.sa,Rn.O=dn.ta,Rn.f=dn.qa,Rn.N=dn.ra,Rn.ea=dn.Ha,Rn.Vd=dn.Ia,Rn.fa=dn.R,Rn.Rc=dn.B,Rn.F=null,Rn.J=0,!Hu){for(Dn=-255;255>=Dn;++Dn)Mc[255+Dn]=0>Dn?-Dn:Dn;for(Dn=-1020;1020>=Dn;++Dn)qu[1020+Dn]=-128>Dn?-128:127<Dn?127:Dn;for(Dn=-112;112>=Dn;++Dn)Cu[112+Dn]=-16>Dn?-16:15<Dn?15:Dn;for(Dn=-255;510>=Dn;++Dn)Iu[255+Dn]=0>Dn?0:255<Dn?255:Dn;Hu=1}Do=Aa,Gl=Ac,Uo=Fa,ws=Tc,ys=sl,Za=Qc,Bs=Ic,fa=Io,Pl=Br,dl=fn,kc=uc,ju=Rr,Sd=yn,ah=Tn,oh=Vo,lh=So,Rd=Vl,Ad=cc,sa[0]=bl,sa[1]=jc,sa[2]=Ll,sa[3]=oc,sa[4]=Ta,sa[5]=$l,sa[6]=va,sa[7]=Rs,sa[8]=Fl,sa[9]=uo,vo[0]=Po,vo[1]=sc,vo[2]=ac,vo[3]=al,vo[4]=ol,vo[5]=Ja,vo[6]=xl,hl[0]=ll,hl[1]=Pc,hl[2]=Co,hl[3]=Cc,hl[4]=da,hl[5]=fo,hl[6]=Lo,Dn=1}else Dn=0}Dn&&(Dn=(function(us,Ks){for(us.M=0;us.M<us.Va;++us.M){var Ji,bi=us.Jc[us.M&us.Xb],gi=us.m,Qs=us;for(Ji=0;Ji<Qs.za;++Ji){var qi=gi,es=Qs,Cs=es.Ac,ja=es.Bc+4*Ji,Ga=es.zc,Us=es.ya[es.aa+Ji];if(es.Qa.Bb?Us.$b=bn(qi,es.Pa.jb[0])?2+bn(qi,es.Pa.jb[2]):bn(qi,es.Pa.jb[1]):Us.$b=0,es.kc&&(Us.Ad=bn(qi,es.Bd)),Us.Za=!bn(qi,145)+0,Us.Za){var ya=Us.Ob,no=0;for(es=0;4>es;++es){var xa,ns=Ga[0+es];for(xa=0;4>xa;++xa){ns=qa[Cs[ja+xa]][ns];for(var bs=Qu[bn(qi,ns[0])];0<bs;)bs=Qu[2*bs+bn(qi,ns[bs])];ns=-bs,Cs[ja+xa]=ns}Ue(ya,no,Cs,ja,4),no+=4,Ga[0+es]=ns}}else ns=bn(qi,156)?bn(qi,128)?1:3:bn(qi,163)?2:0,Us.Ob[0]=ns,ze(Cs,ja,ns,4),ze(Ga,0,ns,4);Us.Dd=bn(qi,142)?bn(qi,114)?bn(qi,183)?1:3:2:0}if(Qs.m.Ka)return ss(us,7,"Premature end-of-partition0 encountered.");for(;us.ja<us.za;++us.ja){if(Qs=bi,qi=(gi=us).rb[gi.sb-1],Cs=gi.rb[gi.sb+gi.ja],Ji=gi.ya[gi.aa+gi.ja],ja=gi.kc?Ji.Ad:0)qi.la=Cs.la=0,Ji.Za||(qi.Na=Cs.Na=0),Ji.Hc=0,Ji.Gc=0,Ji.ia=0;else{var Js,Ss;if(qi=Cs,Cs=Qs,ja=gi.Pa.Xc,Ga=gi.ya[gi.aa+gi.ja],Us=gi.pb[Ga.$b],es=Ga.ad,ya=0,no=gi.rb[gi.sb-1],ns=xa=0,ze(es,ya,0,384),Ga.Za)var Pa=0,Zs=ja[3];else{bs=qe(16);var _s=qi.Na+no.Na;if(_s=Oo(Cs,ja[1],_s,Us.Eb,0,bs,0),qi.Na=no.Na=(0<_s)+0,1<_s)Do(bs,0,es,ya);else{var ma=bs[0]+3>>3;for(bs=0;256>bs;bs+=16)es[ya+bs]=ma}Pa=1,Zs=ja[0]}var Is=15&qi.la,ba=15&no.la;for(bs=0;4>bs;++bs){var Ea=1&ba;for(ma=Ss=0;4>ma;++ma)Is=Is>>1|(Ea=(_s=Oo(Cs,Zs,_s=Ea+(1&Is),Us.Sc,Pa,es,ya))>Pa)<<7,Ss=Ss<<2|(3<_s?3:1<_s?2:es[ya+0]!=0),ya+=16;Is>>=4,ba=ba>>1|Ea<<7,xa=(xa<<8|Ss)>>>0}for(Zs=Is,Pa=ba>>4,Js=0;4>Js;Js+=2){for(Ss=0,Is=qi.la>>4+Js,ba=no.la>>4+Js,bs=0;2>bs;++bs){for(Ea=1&ba,ma=0;2>ma;++ma)_s=Ea+(1&Is),Is=Is>>1|(Ea=0<(_s=Oo(Cs,ja[2],_s,Us.Qc,0,es,ya)))<<3,Ss=Ss<<2|(3<_s?3:1<_s?2:es[ya+0]!=0),ya+=16;Is>>=2,ba=ba>>1|Ea<<5}ns|=Ss<<4*Js,Zs|=Is<<4<<Js,Pa|=(240&ba)<<Js}qi.la=Zs,no.la=Pa,Ga.Hc=xa,Ga.Gc=ns,Ga.ia=43690&ns?0:Us.ia,ja=!(xa|ns)}if(0<gi.L&&(gi.wa[gi.Y+gi.ja]=gi.gd[Ji.$b][Ji.Za],gi.wa[gi.Y+gi.ja].La|=!ja),Qs.Ka)return ss(us,7,"Premature end-of-file encountered.")}if(vl(us),gi=Ks,Qs=1,Ji=(bi=us).D,qi=0<bi.L&&bi.M>=bi.zb&&bi.M<=bi.Va,bi.Aa==0)t:{if(Ji.M=bi.M,Ji.uc=qi,ko(bi,Ji),Qs=1,Ji=(Ss=bi.D).Nb,qi=(ns=lu[bi.L])*bi.R,Cs=ns/2*bi.B,bs=16*Ji*bi.R,ma=8*Ji*bi.B,ja=bi.sa,Ga=bi.ta-qi+bs,Us=bi.qa,es=bi.ra-Cs+ma,ya=bi.Ha,no=bi.Ia-Cs+ma,ba=(Is=Ss.M)==0,xa=Is>=bi.Va-1,bi.Aa==2&&ko(bi,Ss),Ss.uc)for(Ea=(_s=bi).D.M,$e(_s.D.uc),Ss=_s.yb;Ss<_s.Hb;++Ss){Pa=Ss,Zs=Ea;var Os=(xs=(wa=_s).D).Nb;Js=wa.R;var xs=xs.wa[xs.Y+Pa],io=wa.sa,aa=wa.ta+16*Os*Js+16*Pa,Li=xs.dd,Vi=xs.tc;if(Vi!=0)if($e(3<=Vi),wa.L==1)0<Pa&&lh(io,aa,Js,Vi+4),xs.La&&Ad(io,aa,Js,Vi),0<Zs&&oh(io,aa,Js,Vi+4),xs.La&&Rd(io,aa,Js,Vi);else{var Es=wa.B,Ao=wa.qa,Qo=wa.ra+8*Os*Es+8*Pa,yo=wa.Ha,wa=wa.Ia+8*Os*Es+8*Pa;Os=xs.ld,0<Pa&&(fa(io,aa,Js,Vi+4,Li,Os),dl(Ao,Qo,yo,wa,Es,Vi+4,Li,Os)),xs.La&&(ju(io,aa,Js,Vi,Li,Os),ah(Ao,Qo,yo,wa,Es,Vi,Li,Os)),0<Zs&&(Bs(io,aa,Js,Vi+4,Li,Os),Pl(Ao,Qo,yo,wa,Es,Vi+4,Li,Os)),xs.La&&(kc(io,aa,Js,Vi,Li,Os),Sd(Ao,Qo,yo,wa,Es,Vi,Li,Os))}}if(bi.ia&&alert("todo:DitherRow"),gi.put!=null){if(Ss=16*Is,Is=16*(Is+1),ba?(gi.y=bi.sa,gi.O=bi.ta+bs,gi.f=bi.qa,gi.N=bi.ra+ma,gi.ea=bi.Ha,gi.W=bi.Ia+ma):(Ss-=ns,gi.y=ja,gi.O=Ga,gi.f=Us,gi.N=es,gi.ea=ya,gi.W=no),xa||(Is-=ns),Is>gi.o&&(Is=gi.o),gi.F=null,gi.J=null,bi.Fa!=null&&0<bi.Fa.length&&Ss<Is&&(gi.J=dr(bi,gi,Ss,Is-Ss),gi.F=bi.mb,gi.F==null&&gi.F.length==0)){Qs=ss(bi,3,"Could not decode alpha data.");break t}Ss<gi.j&&(ns=gi.j-Ss,Ss=gi.j,$e(!(1&ns)),gi.O+=bi.R*ns,gi.N+=bi.B*(ns>>1),gi.W+=bi.B*(ns>>1),gi.F!=null&&(gi.J+=gi.width*ns)),Ss<Is&&(gi.O+=gi.v,gi.N+=gi.v>>1,gi.W+=gi.v>>1,gi.F!=null&&(gi.J+=gi.v),gi.ka=Ss-gi.j,gi.U=gi.va-gi.v,gi.T=Is-Ss,Qs=gi.put(gi))}Ji+1!=bi.Ic||xa||(Ue(bi.sa,bi.ta-qi,ja,Ga+16*bi.R,qi),Ue(bi.qa,bi.ra-Cs,Us,es+8*bi.B,Cs),Ue(bi.Ha,bi.Ia-Cs,ya,no+8*bi.B,Cs))}if(!Qs)return ss(us,6,"Output aborted.")}return 1})(dn,Rn)),Rn.bc!=null&&Rn.bc(Rn),Dn&=1}return Dn?(dn.cb=0,Dn):0})(ur,Mr)||(gr=ur.a)}}else gr=ur.a}gr==0&&Hr.Oa!=null&&Hr.Oa.fd&&(gr=Tu(Hr.ba))}Hr=gr}qr=Hr!=0?null:11>qr?Kr.f.RGBA.eb:Kr.f.kb.y}else qr=null;return qr};var rd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Ye(_r,Cr){for(var br="",fr=0;fr<4;fr++)br+=String.fromCharCode(_r[Cr++]);return br}function Xe(_r,Cr){return _r[Cr+0]|_r[Cr+1]<<8}function Je(_r,Cr){return(_r[Cr+0]|_r[Cr+1]<<8|_r[Cr+2]<<16)>>>0}function er(_r,Cr){return(_r[Cr+0]|_r[Cr+1]<<8|_r[Cr+2]<<16|_r[Cr+3]<<24)>>>0}new Ge;var Ze=[0],rr=[0],nr=[],ar=new Ge,sr=Ve,lr=(function(_r,Cr){var br={},fr=0,Sr=!1,Dr=0,Or=0;if(br.frames=[],!(function(Tr,Vr){for(var Ur=0;Ur<4;Ur++)if(Tr[Vr+Ur]!="RIFF".charCodeAt(Ur))return!0;return!1})(_r,Cr)){for(er(_r,Cr+=4),Cr+=8;Cr<_r.length;){var Er=Ye(_r,Cr),Nr=er(_r,Cr+=4);Cr+=4;var wr=Nr+(1&Nr);switch(Er){case"VP8 ":case"VP8L":br.frames[fr]===void 0&&(br.frames[fr]={}),(Pr=br.frames[fr]).src_off=Sr?Or:Cr-8,Pr.src_size=Dr+Nr+8,fr++,Sr&&(Sr=!1,Dr=0,Or=0);break;case"VP8X":(Pr=br.header={}).feature_flags=_r[Cr];var Ar=Cr+4;Pr.canvas_width=1+Je(_r,Ar),Ar+=3,Pr.canvas_height=1+Je(_r,Ar),Ar+=3;break;case"ALPH":Sr=!0,Dr=wr+8,Or=Cr-8;break;case"ANIM":(Pr=br.header).bgcolor=er(_r,Cr),Ar=Cr+4,Pr.loop_count=Xe(_r,Ar),Ar+=2;break;case"ANMF":var Lr,Pr;(Pr=br.frames[fr]={}).offset_x=2*Je(_r,Cr),Cr+=3,Pr.offset_y=2*Je(_r,Cr),Cr+=3,Pr.width=1+Je(_r,Cr),Cr+=3,Pr.height=1+Je(_r,Cr),Cr+=3,Pr.duration=Je(_r,Cr),Cr+=3,Lr=_r[Cr++],Pr.dispose=1&Lr,Pr.blend=Lr>>1&1}Er!="ANMF"&&(Cr+=wr)}return br}})(sr,0);lr.response=sr,lr.rgbaoutput=!0,lr.dataurl=!1;var or=lr.header?lr.header:null,cr=lr.frames?lr.frames:null;if(or){or.loop_counter=or.loop_count,Ze=[or.canvas_height],rr=[or.canvas_width];for(var hr=0;hr<cr.length&&cr[hr].blend!=0;hr++);}var yr=cr[0],mr=ar.WebPDecodeRGBA(sr,yr.src_off,yr.src_size,rr,Ze);yr.rgba=mr,yr.imgwidth=rr[0],yr.imgheight=Ze[0];for(var vr=0;vr<rr[0]*Ze[0]*4;vr++)nr[vr]=mr[vr];return this.width=rr,this.height=Ze,this.data=nr,this}(function(Ve){var $e,Be,Ue,ze,qe,He,We,Ge,Ye,Xe=function(Tr){return Tr=Tr||{},this.isStrokeTransparent=Tr.isStrokeTransparent||!1,this.strokeOpacity=Tr.strokeOpacity||1,this.strokeStyle=Tr.strokeStyle||"#000000",this.fillStyle=Tr.fillStyle||"#000000",this.isFillTransparent=Tr.isFillTransparent||!1,this.fillOpacity=Tr.fillOpacity||1,this.font=Tr.font||"10px sans-serif",this.textBaseline=Tr.textBaseline||"alphabetic",this.textAlign=Tr.textAlign||"left",this.lineWidth=Tr.lineWidth||1,this.lineJoin=Tr.lineJoin||"miter",this.lineCap=Tr.lineCap||"butt",this.path=Tr.path||[],this.transform=Tr.transform!==void 0?Tr.transform.clone():new Ge,this.globalCompositeOperation=Tr.globalCompositeOperation||"normal",this.globalAlpha=Tr.globalAlpha||1,this.clip_path=Tr.clip_path||[],this.currentPoint=Tr.currentPoint||new He,this.miterLimit=Tr.miterLimit||10,this.lastPoint=Tr.lastPoint||new He,this.lineDashOffset=Tr.lineDashOffset||0,this.lineDash=Tr.lineDash||[],this.margin=Tr.margin||[0,0,0,0],this.prevPageLastElemOffset=Tr.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Tr.ignoreClearRect!="boolean"||Tr.ignoreClearRect,this};Ve.events.push(["initialized",function(){this.context2d=new Je(this),$e=this.internal.f2,Be=this.internal.getCoordinateString,Ue=this.internal.getVerticalCoordinateString,ze=this.internal.getHorizontalCoordinate,qe=this.internal.getVerticalCoordinate,He=this.internal.Point,We=this.internal.Rectangle,Ge=this.internal.Matrix,Ye=new Xe}]);var Je=function(Tr){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Vr=Tr;Object.defineProperty(this,"pdf",{get:function(){return Vr}});var Ur=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ur},set:function(Gr){Ur=!!Gr}});var Yr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Yr},set:function(Gr){Yr=!!Gr}});var Qr=0;Object.defineProperty(this,"posX",{get:function(){return Qr},set:function(Gr){isNaN(Gr)||(Qr=Gr)}});var mn=0;Object.defineProperty(this,"posY",{get:function(){return mn},set:function(Gr){isNaN(Gr)||(mn=Gr)}}),Object.defineProperty(this,"margin",{get:function(){return Ye.margin},set:function(Gr){var Un;typeof Gr=="number"?Un=[Gr,Gr,Gr,Gr]:((Un=new Array(4))[0]=Gr[0],Un[1]=Gr.length>=2?Gr[1]:Un[0],Un[2]=Gr.length>=3?Gr[2]:Un[0],Un[3]=Gr.length>=4?Gr[3]:Un[1]),Ye.margin=Un}});var An=!1;Object.defineProperty(this,"autoPaging",{get:function(){return An},set:function(Gr){An=Gr}});var Zr=0;Object.defineProperty(this,"lastBreak",{get:function(){return Zr},set:function(Gr){Zr=Gr}});var bn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return bn},set:function(Gr){bn=Gr}}),Object.defineProperty(this,"ctx",{get:function(){return Ye},set:function(Gr){Gr instanceof Xe&&(Ye=Gr)}}),Object.defineProperty(this,"path",{get:function(){return Ye.path},set:function(Gr){Ye.path=Gr}});var jn=[];Object.defineProperty(this,"ctxStack",{get:function(){return jn},set:function(Gr){jn=Gr}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Gr){var Un;Un=er(Gr),this.ctx.fillStyle=Un.style,this.ctx.isFillTransparent=Un.a===0,this.ctx.fillOpacity=Un.a,this.pdf.setFillColor(Un.r,Un.g,Un.b,{a:Un.a}),this.pdf.setTextColor(Un.r,Un.g,Un.b,{a:Un.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Gr){var Un=er(Gr);this.ctx.strokeStyle=Un.style,this.ctx.isStrokeTransparent=Un.a===0,this.ctx.strokeOpacity=Un.a,Un.a===0?this.pdf.setDrawColor(255,255,255):(Un.a,this.pdf.setDrawColor(Un.r,Un.g,Un.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Gr){["butt","round","square"].indexOf(Gr)!==-1&&(this.ctx.lineCap=Gr,this.pdf.setLineCap(Gr))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Gr){isNaN(Gr)||(this.ctx.lineWidth=Gr,this.pdf.setLineWidth(Gr))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Gr){["bevel","round","miter"].indexOf(Gr)!==-1&&(this.ctx.lineJoin=Gr,this.pdf.setLineJoin(Gr))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Gr){isNaN(Gr)||(this.ctx.miterLimit=Gr,this.pdf.setMiterLimit(Gr))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Gr){this.ctx.textBaseline=Gr}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Gr){["right","end","center","left","start"].indexOf(Gr)!==-1&&(this.ctx.textAlign=Gr)}});var gn=null,In=null,Sn=null;Object.defineProperty(this,"fontFaces",{get:function(){return Sn},set:function(Gr){gn=null,In=null,Sn=Gr}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Gr){var Un;if(this.ctx.font=Gr,(Un=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Gr))!==null){var di=Un[1];Un[2];var ii=Un[3],Vn=Un[4];Un[5];var zn=Un[6],Qn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Vn)[2];Vn=Math.floor(Qn==="px"?parseFloat(Vn)*this.pdf.internal.scaleFactor:Qn==="em"?parseFloat(Vn)*this.pdf.getFontSize():parseFloat(Vn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Vn);var Yn=(function(mi){var as,Ui,Ci=[],Di=mi.trim();if(Di==="")return Jt;if(Di in Mt)return[Mt[Di]];for(;Di!=="";){switch(Ui=null,as=(Di=Et(Di)).charAt(0)){case'"':case"'":Ui=Rt(Di.substring(1),as);break;default:Ui=Dt(Di)}if(Ui===null||(Ci.push(Ui[0]),(Di=Et(Ui[1]))!==""&&Di.charAt(0)!==","))return Jt;Di=Di.replace(/^,/,"")}return Ci})(zn);if(this.fontFaces){var vi=(function(mi,as){var Ui=mi.getFontList(),Ci=JSON.stringify(Ui);if(gn===null||In!==Ci){var Di=(function(Wi){var Ai=[];return Object.keys(Wi).forEach(function(ps){Wi[ps].forEach(function(Ni){var $i=null;switch(Ni){case"bold":$i={family:ps,weight:"bold"};break;case"italic":$i={family:ps,style:"italic"};break;case"bolditalic":$i={family:ps,weight:"bold",style:"italic"};break;case"":case"normal":$i={family:ps}}$i!==null&&($i.ref={name:ps,style:Ni},Ai.push($i))})}),Ai})(Ui);gn=(function(Wi){for(var Ai={},ps=0;ps<Wi.length;++ps){var Ni=Ct(Wi[ps]),$i=Ni.family,os=Ni.stretch,ji=Ni.style,Ti=Ni.weight;Ai[$i]=Ai[$i]||{},Ai[$i][os]=Ai[$i][os]||{},Ai[$i][os][ji]=Ai[$i][os][ji]||{},Ai[$i][os][ji][Ti]=Ni}return Ai})(Di.concat(as)),In=Ci}return gn})(this.pdf,this.fontFaces),xn=Yn.map(function(mi){return{family:mi,stretch:"normal",weight:ii,style:di}}),ei=(function(mi,as,Ui){for(var Ci=(Ui=Ui||{}).defaultFontFamily||"times",Di=Object.assign({},Bt,Ui.genericFontFamilies||{}),Wi=null,Ai=null,ps=0;ps<as.length;++ps)if(Di[(Wi=Ct(as[ps])).family]&&(Wi.family=Di[Wi.family]),mi.hasOwnProperty(Wi.family)){Ai=mi[Wi.family];break}if(!(Ai=Ai||mi[Ci]))throw new Error("Could not find a font-family for the rule '"+qt(Wi)+"' and default family '"+Ci+"'.");if(Ai=(function(Ni,$i){if($i[Ni])return $i[Ni];var os=Ft[Ni],ji=os<=Ft.normal?-1:1,Ti=Ot($i,kt,os,ji);if(!Ti)throw new Error("Could not find a matching font-stretch value for "+Ni);return Ti})(Wi.stretch,Ai),Ai=(function(Ni,$i){if($i[Ni])return $i[Ni];for(var os=Pt[Ni],ji=0;ji<os.length;++ji)if($i[os[ji]])return $i[os[ji]];throw new Error("Could not find a matching font-style for "+Ni)})(Wi.style,Ai),!(Ai=(function(Ni,$i){if($i[Ni])return $i[Ni];if(Ni===400&&$i[500])return $i[500];if(Ni===500&&$i[400])return $i[400];var os=jt[Ni],ji=Ot($i,It,os,Ni<400?-1:1);if(!ji)throw new Error("Could not find a matching font-weight for value "+Ni);return ji})(Wi.weight,Ai)))throw new Error("Failed to resolve a font for the rule '"+qt(Wi)+"'.");return Ai})(vi,xn);this.pdf.setFont(ei.ref.name,ei.ref.style)}else{var ni="";(ii==="bold"||parseInt(ii,10)>=700||di==="bold")&&(ni="bold"),di==="italic"&&(ni+="italic"),ni.length===0&&(ni="normal");for(var ui="",oi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},fi=0;fi<Yn.length;fi++){if(this.pdf.internal.getFont(Yn[fi],ni,{noFallback:!0,disableWarning:!0})!==void 0){ui=Yn[fi];break}if(ni==="bolditalic"&&this.pdf.internal.getFont(Yn[fi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ui=Yn[fi],ni="bold";else if(this.pdf.internal.getFont(Yn[fi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ui=Yn[fi],ni="normal";break}}if(ui===""){for(var yi=0;yi<Yn.length;yi++)if(oi[Yn[yi]]){ui=oi[Yn[yi]];break}}ui=ui===""?"Times":ui,this.pdf.setFont(ui,ni)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Gr){this.ctx.globalCompositeOperation=Gr}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Gr){this.ctx.globalAlpha=Gr}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Gr){this.ctx.lineDashOffset=Gr,Pr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Gr){this.ctx.lineDash=Gr,Pr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Gr){this.ctx.ignoreClearRect=!!Gr}})};Je.prototype.setLineDash=function(Tr){this.lineDash=Tr},Je.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Je.prototype.fill=function(){cr.call(this,"fill",!1)},Je.prototype.stroke=function(){cr.call(this,"stroke",!1)},Je.prototype.beginPath=function(){this.path=[{type:"begin"}]},Je.prototype.moveTo=function(Tr,Vr){if(isNaN(Tr)||isNaN(Vr))throw o.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ur=this.ctx.transform.applyToPoint(new He(Tr,Vr));this.path.push({type:"mt",x:Ur.x,y:Ur.y}),this.ctx.lastPoint=new He(Tr,Vr)},Je.prototype.closePath=function(){var Tr=new He(0,0),Vr=0;for(Vr=this.path.length-1;Vr!==-1;Vr--)if(this.path[Vr].type==="begin"&&_typeof(this.path[Vr+1])==="object"&&typeof this.path[Vr+1].x=="number"){Tr=new He(this.path[Vr+1].x,this.path[Vr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new He(Tr.x,Tr.y)},Je.prototype.lineTo=function(Tr,Vr){if(isNaN(Tr)||isNaN(Vr))throw o.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ur=this.ctx.transform.applyToPoint(new He(Tr,Vr));this.path.push({type:"lt",x:Ur.x,y:Ur.y}),this.ctx.lastPoint=new He(Ur.x,Ur.y)},Je.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),cr.call(this,null,!0)},Je.prototype.quadraticCurveTo=function(Tr,Vr,Ur,Yr){if(isNaN(Ur)||isNaN(Yr)||isNaN(Tr)||isNaN(Vr))throw o.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Qr=this.ctx.transform.applyToPoint(new He(Ur,Yr)),mn=this.ctx.transform.applyToPoint(new He(Tr,Vr));this.path.push({type:"qct",x1:mn.x,y1:mn.y,x:Qr.x,y:Qr.y}),this.ctx.lastPoint=new He(Qr.x,Qr.y)},Je.prototype.bezierCurveTo=function(Tr,Vr,Ur,Yr,Qr,mn){if(isNaN(Qr)||isNaN(mn)||isNaN(Tr)||isNaN(Vr)||isNaN(Ur)||isNaN(Yr))throw o.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var An=this.ctx.transform.applyToPoint(new He(Qr,mn)),Zr=this.ctx.transform.applyToPoint(new He(Tr,Vr)),bn=this.ctx.transform.applyToPoint(new He(Ur,Yr));this.path.push({type:"bct",x1:Zr.x,y1:Zr.y,x2:bn.x,y2:bn.y,x:An.x,y:An.y}),this.ctx.lastPoint=new He(An.x,An.y)},Je.prototype.arc=function(Tr,Vr,Ur,Yr,Qr,mn){if(isNaN(Tr)||isNaN(Vr)||isNaN(Ur)||isNaN(Yr)||isNaN(Qr))throw o.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mn=!!mn,!this.ctx.transform.isIdentity){var An=this.ctx.transform.applyToPoint(new He(Tr,Vr));Tr=An.x,Vr=An.y;var Zr=this.ctx.transform.applyToPoint(new He(0,Ur)),bn=this.ctx.transform.applyToPoint(new He(0,0));Ur=Math.sqrt(Math.pow(Zr.x-bn.x,2)+Math.pow(Zr.y-bn.y,2))}Math.abs(Qr-Yr)>=2*Math.PI&&(Yr=0,Qr=2*Math.PI),this.path.push({type:"arc",x:Tr,y:Vr,radius:Ur,startAngle:Yr,endAngle:Qr,counterclockwise:mn})},Je.prototype.arcTo=function(Tr,Vr,Ur,Yr,Qr){throw new Error("arcTo not implemented.")},Je.prototype.rect=function(Tr,Vr,Ur,Yr){if(isNaN(Tr)||isNaN(Vr)||isNaN(Ur)||isNaN(Yr))throw o.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Tr,Vr),this.lineTo(Tr+Ur,Vr),this.lineTo(Tr+Ur,Vr+Yr),this.lineTo(Tr,Vr+Yr),this.lineTo(Tr,Vr),this.lineTo(Tr+Ur,Vr),this.lineTo(Tr,Vr)},Je.prototype.fillRect=function(Tr,Vr,Ur,Yr){if(isNaN(Tr)||isNaN(Vr)||isNaN(Ur)||isNaN(Yr))throw o.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Ze.call(this)){var Qr={};this.lineCap!=="butt"&&(Qr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Qr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Tr,Vr,Ur,Yr),this.fill(),Qr.hasOwnProperty("lineCap")&&(this.lineCap=Qr.lineCap),Qr.hasOwnProperty("lineJoin")&&(this.lineJoin=Qr.lineJoin)}},Je.prototype.strokeRect=function(Tr,Vr,Ur,Yr){if(isNaN(Tr)||isNaN(Vr)||isNaN(Ur)||isNaN(Yr))throw o.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");rr.call(this)||(this.beginPath(),this.rect(Tr,Vr,Ur,Yr),this.stroke())},Je.prototype.clearRect=function(Tr,Vr,Ur,Yr){if(isNaN(Tr)||isNaN(Vr)||isNaN(Ur)||isNaN(Yr))throw o.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Tr,Vr,Ur,Yr))},Je.prototype.save=function(Tr){Tr=typeof Tr!="boolean"||Tr;for(var Vr=this.pdf.internal.getCurrentPageInfo().pageNumber,Ur=0;Ur<this.pdf.internal.getNumberOfPages();Ur++)this.pdf.setPage(Ur+1),this.pdf.internal.out("q");if(this.pdf.setPage(Vr),Tr){this.ctx.fontSize=this.pdf.internal.getFontSize();var Yr=new Xe(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Yr}},Je.prototype.restore=function(Tr){Tr=typeof Tr!="boolean"||Tr;for(var Vr=this.pdf.internal.getCurrentPageInfo().pageNumber,Ur=0;Ur<this.pdf.internal.getNumberOfPages();Ur++)this.pdf.setPage(Ur+1),this.pdf.internal.out("Q");this.pdf.setPage(Vr),Tr&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Je.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var er=function(Tr){var Vr,Ur,Yr,Qr;if(Tr.isCanvasGradient===!0&&(Tr=Tr.getColor()),!Tr)return{r:0,g:0,b:0,a:0,style:Tr};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Tr))Vr=0,Ur=0,Yr=0,Qr=0;else{var mn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Tr);if(mn!==null)Vr=parseInt(mn[1]),Ur=parseInt(mn[2]),Yr=parseInt(mn[3]),Qr=1;else if((mn=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Tr))!==null)Vr=parseInt(mn[1]),Ur=parseInt(mn[2]),Yr=parseInt(mn[3]),Qr=parseFloat(mn[4]);else{if(Qr=1,typeof Tr=="string"&&Tr.charAt(0)!=="#"){var An=new h(Tr);Tr=An.ok?An.toHex():"#000000"}Tr.length===4?(Vr=Tr.substring(1,2),Vr+=Vr,Ur=Tr.substring(2,3),Ur+=Ur,Yr=Tr.substring(3,4),Yr+=Yr):(Vr=Tr.substring(1,3),Ur=Tr.substring(3,5),Yr=Tr.substring(5,7)),Vr=parseInt(Vr,16),Ur=parseInt(Ur,16),Yr=parseInt(Yr,16)}}return{r:Vr,g:Ur,b:Yr,a:Qr,style:Tr}},Ze=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},rr=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Je.prototype.fillText=function(Tr,Vr,Ur,Yr){if(isNaN(Vr)||isNaN(Ur)||typeof Tr!="string")throw o.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Yr=isNaN(Yr)?void 0:Yr,!Ze.call(this)){var Qr=wr(this.ctx.transform.rotation),mn=this.ctx.transform.scaleX;fr.call(this,{text:Tr,x:Vr,y:Ur,scale:mn,angle:Qr,align:this.textAlign,maxWidth:Yr})}},Je.prototype.strokeText=function(Tr,Vr,Ur,Yr){if(isNaN(Vr)||isNaN(Ur)||typeof Tr!="string")throw o.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!rr.call(this)){Yr=isNaN(Yr)?void 0:Yr;var Qr=wr(this.ctx.transform.rotation),mn=this.ctx.transform.scaleX;fr.call(this,{text:Tr,x:Vr,y:Ur,scale:mn,renderingMode:"stroke",angle:Qr,align:this.textAlign,maxWidth:Yr})}},Je.prototype.measureText=function(Tr){if(typeof Tr!="string")throw o.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Vr=this.pdf,Ur=this.pdf.internal.scaleFactor,Yr=Vr.internal.getFontSize(),Qr=Vr.getStringUnitWidth(Tr)*Yr/Vr.internal.scaleFactor;return new function(mn){var An=(mn=mn||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return An}}),this}({width:Qr*=Math.round(96*Ur/72*1e4)/1e4})},Je.prototype.scale=function(Tr,Vr){if(isNaN(Tr)||isNaN(Vr))throw o.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ur=new Ge(Tr,0,0,Vr,0,0);this.ctx.transform=this.ctx.transform.multiply(Ur)},Je.prototype.rotate=function(Tr){if(isNaN(Tr))throw o.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Vr=new Ge(Math.cos(Tr),Math.sin(Tr),-Math.sin(Tr),Math.cos(Tr),0,0);this.ctx.transform=this.ctx.transform.multiply(Vr)},Je.prototype.translate=function(Tr,Vr){if(isNaN(Tr)||isNaN(Vr))throw o.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ur=new Ge(1,0,0,1,Tr,Vr);this.ctx.transform=this.ctx.transform.multiply(Ur)},Je.prototype.transform=function(Tr,Vr,Ur,Yr,Qr,mn){if(isNaN(Tr)||isNaN(Vr)||isNaN(Ur)||isNaN(Yr)||isNaN(Qr)||isNaN(mn))throw o.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var An=new Ge(Tr,Vr,Ur,Yr,Qr,mn);this.ctx.transform=this.ctx.transform.multiply(An)},Je.prototype.setTransform=function(Tr,Vr,Ur,Yr,Qr,mn){Tr=isNaN(Tr)?1:Tr,Vr=isNaN(Vr)?0:Vr,Ur=isNaN(Ur)?0:Ur,Yr=isNaN(Yr)?1:Yr,Qr=isNaN(Qr)?0:Qr,mn=isNaN(mn)?0:mn,this.ctx.transform=new Ge(Tr,Vr,Ur,Yr,Qr,mn)};var nr=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Je.prototype.drawImage=function(Tr,Vr,Ur,Yr,Qr,mn,An,Zr,bn){var jn=this.pdf.getImageProperties(Tr),gn=1,In=1,Sn=1,Gr=1;Yr!==void 0&&Zr!==void 0&&(Sn=Zr/Yr,Gr=bn/Qr,gn=jn.width/Yr*Zr/Yr,In=jn.height/Qr*bn/Qr),mn===void 0&&(mn=Vr,An=Ur,Vr=0,Ur=0),Yr!==void 0&&Zr===void 0&&(Zr=Yr,bn=Qr),Yr===void 0&&Zr===void 0&&(Zr=jn.width,bn=jn.height);var Un=this.ctx.transform.decompose(),di=wr(Un.rotate.shx),ii=new Ge,Vn=(ii=(ii=(ii=ii.multiply(Un.translate)).multiply(Un.skew)).multiply(Un.scale)).applyToRectangle(new We(mn-Vr*Sn,An-Ur*Gr,Yr*gn,Qr*In));if(this.autoPaging){for(var zn,Qn=ar.call(this,Vn),Yn=[],vi=0;vi<Qn.length;vi+=1)Yn.indexOf(Qn[vi])===-1&&Yn.push(Qn[vi]);or(Yn);for(var xn=Yn[0],ei=Yn[Yn.length-1],ni=xn;ni<ei+1;ni++){this.pdf.setPage(ni);var ui=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],oi=ni===1?this.posY+this.margin[0]:this.margin[0],fi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mi=ni===1?0:fi+(ni-2)*yi;if(this.ctx.clip_path.length!==0){var as=this.path;zn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=lr(zn,this.posX+this.margin[3],-mi+oi+this.ctx.prevPageLastElemOffset),hr.call(this,"fill",!0),this.path=as}var Ui=JSON.parse(JSON.stringify(Vn));Ui=lr([Ui],this.posX+this.margin[3],-mi+oi+this.ctx.prevPageLastElemOffset)[0];var Ci=(ni>xn||ni<ei)&&nr.call(this);Ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ui,yi,null).clip().discardPath()),this.pdf.addImage(Tr,"JPEG",Ui.x,Ui.y,Ui.w,Ui.h,null,null,di),Ci&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Tr,"JPEG",Vn.x,Vn.y,Vn.w,Vn.h,null,null,di)};var ar=function(Tr,Vr,Ur){var Yr=[];Vr=Vr||this.pdf.internal.pageSize.width,Ur=Ur||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Qr=this.posY+this.ctx.prevPageLastElemOffset;switch(Tr.type){default:case"mt":case"lt":Yr.push(Math.floor((Tr.y+Qr)/Ur)+1);break;case"arc":Yr.push(Math.floor((Tr.y+Qr-Tr.radius)/Ur)+1),Yr.push(Math.floor((Tr.y+Qr+Tr.radius)/Ur)+1);break;case"qct":var mn=Ar(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Tr.x1,Tr.y1,Tr.x,Tr.y);Yr.push(Math.floor((mn.y+Qr)/Ur)+1),Yr.push(Math.floor((mn.y+mn.h+Qr)/Ur)+1);break;case"bct":var An=Lr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Tr.x1,Tr.y1,Tr.x2,Tr.y2,Tr.x,Tr.y);Yr.push(Math.floor((An.y+Qr)/Ur)+1),Yr.push(Math.floor((An.y+An.h+Qr)/Ur)+1);break;case"rect":Yr.push(Math.floor((Tr.y+Qr)/Ur)+1),Yr.push(Math.floor((Tr.y+Tr.h+Qr)/Ur)+1)}for(var Zr=0;Zr<Yr.length;Zr+=1)for(;this.pdf.internal.getNumberOfPages()<Yr[Zr];)sr.call(this);return Yr},sr=function(){var Tr=this.fillStyle,Vr=this.strokeStyle,Ur=this.font,Yr=this.lineCap,Qr=this.lineWidth,mn=this.lineJoin;this.pdf.addPage(),this.fillStyle=Tr,this.strokeStyle=Vr,this.font=Ur,this.lineCap=Yr,this.lineWidth=Qr,this.lineJoin=mn},lr=function(Tr,Vr,Ur){for(var Yr=0;Yr<Tr.length;Yr++)switch(Tr[Yr].type){case"bct":Tr[Yr].x2+=Vr,Tr[Yr].y2+=Ur;case"qct":Tr[Yr].x1+=Vr,Tr[Yr].y1+=Ur;default:Tr[Yr].x+=Vr,Tr[Yr].y+=Ur}return Tr},or=function(Tr){return Tr.sort(function(Vr,Ur){return Vr-Ur})},cr=function(Tr,Vr){var Ur=this.fillStyle,Yr=this.strokeStyle,Qr=this.lineCap,mn=this.lineWidth,An=Math.abs(mn*this.ctx.transform.scaleX),Zr=this.lineJoin;if(this.autoPaging){for(var bn,jn,gn=JSON.parse(JSON.stringify(this.path)),In=JSON.parse(JSON.stringify(this.path)),Sn=[],Gr=0;Gr<In.length;Gr++)if(In[Gr].x!==void 0)for(var Un=ar.call(this,In[Gr]),di=0;di<Un.length;di+=1)Sn.indexOf(Un[di])===-1&&Sn.push(Un[di]);for(var ii=0;ii<Sn.length;ii++)for(;this.pdf.internal.getNumberOfPages()<Sn[ii];)sr.call(this);or(Sn);for(var Vn=Sn[0],zn=Sn[Sn.length-1],Qn=Vn;Qn<zn+1;Qn++){this.pdf.setPage(Qn),this.fillStyle=Ur,this.strokeStyle=Yr,this.lineCap=Qr,this.lineWidth=An,this.lineJoin=Zr;var Yn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vi=Qn===1?this.posY+this.margin[0]:this.margin[0],xn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ei=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ni=Qn===1?0:xn+(Qn-2)*ei;if(this.ctx.clip_path.length!==0){var ui=this.path;bn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=lr(bn,this.posX+this.margin[3],-ni+vi+this.ctx.prevPageLastElemOffset),hr.call(this,Tr,!0),this.path=ui}if(jn=JSON.parse(JSON.stringify(gn)),this.path=lr(jn,this.posX+this.margin[3],-ni+vi+this.ctx.prevPageLastElemOffset),Vr===!1||Qn===0){var oi=(Qn>Vn||Qn<zn)&&nr.call(this);oi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yn,ei,null).clip().discardPath()),hr.call(this,Tr,Vr),oi&&this.pdf.restoreGraphicsState()}this.lineWidth=mn}this.path=gn}else this.lineWidth=An,hr.call(this,Tr,Vr),this.lineWidth=mn},hr=function(Tr,Vr){if((Tr!=="stroke"||Vr||!rr.call(this))&&(Tr==="stroke"||Vr||!Ze.call(this))){for(var Ur,Yr,Qr=[],mn=this.path,An=0;An<mn.length;An++){var Zr=mn[An];switch(Zr.type){case"begin":Qr.push({begin:!0});break;case"close":Qr.push({close:!0});break;case"mt":Qr.push({start:Zr,deltas:[],abs:[]});break;case"lt":var bn=Qr.length;if(mn[An-1]&&!isNaN(mn[An-1].x)&&(Ur=[Zr.x-mn[An-1].x,Zr.y-mn[An-1].y],bn>0)){for(;bn>=0;bn--)if(Qr[bn-1].close!==!0&&Qr[bn-1].begin!==!0){Qr[bn-1].deltas.push(Ur),Qr[bn-1].abs.push(Zr);break}}break;case"bct":Ur=[Zr.x1-mn[An-1].x,Zr.y1-mn[An-1].y,Zr.x2-mn[An-1].x,Zr.y2-mn[An-1].y,Zr.x-mn[An-1].x,Zr.y-mn[An-1].y],Qr[Qr.length-1].deltas.push(Ur);break;case"qct":var jn=mn[An-1].x+2/3*(Zr.x1-mn[An-1].x),gn=mn[An-1].y+2/3*(Zr.y1-mn[An-1].y),In=Zr.x+2/3*(Zr.x1-Zr.x),Sn=Zr.y+2/3*(Zr.y1-Zr.y),Gr=Zr.x,Un=Zr.y;Ur=[jn-mn[An-1].x,gn-mn[An-1].y,In-mn[An-1].x,Sn-mn[An-1].y,Gr-mn[An-1].x,Un-mn[An-1].y],Qr[Qr.length-1].deltas.push(Ur);break;case"arc":Qr.push({deltas:[],abs:[],arc:!0}),Array.isArray(Qr[Qr.length-1].abs)&&Qr[Qr.length-1].abs.push(Zr)}}Yr=Vr?null:Tr==="stroke"?"stroke":"fill";for(var di=!1,ii=0;ii<Qr.length;ii++)if(Qr[ii].arc)for(var Vn=Qr[ii].abs,zn=0;zn<Vn.length;zn++){var Qn=Vn[zn];Qn.type==="arc"?vr.call(this,Qn.x,Qn.y,Qn.radius,Qn.startAngle,Qn.endAngle,Qn.counterclockwise,void 0,Vr,!di):Sr.call(this,Qn.x,Qn.y),di=!0}else if(Qr[ii].close===!0)this.pdf.internal.out("h"),di=!1;else if(Qr[ii].begin!==!0){var Yn=Qr[ii].start.x,vi=Qr[ii].start.y;Dr.call(this,Qr[ii].deltas,Yn,vi),di=!0}Yr&&_r.call(this,Yr),Vr&&Cr.call(this)}},yr=function(Tr){var Vr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ur=Vr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Tr-Ur;case"top":return Tr+Vr-Ur;case"hanging":return Tr+Vr-2*Ur;case"middle":return Tr+Vr/2-Ur;default:return Tr}},mr=function(Tr){return Tr+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Je.prototype.createLinearGradient=function(){var Tr=function(){};return Tr.colorStops=[],Tr.addColorStop=function(Vr,Ur){this.colorStops.push([Vr,Ur])},Tr.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Tr.isCanvasGradient=!0,Tr},Je.prototype.createPattern=function(){return this.createLinearGradient()},Je.prototype.createRadialGradient=function(){return this.createLinearGradient()};var vr=function(Tr,Vr,Ur,Yr,Qr,mn,An,Zr,bn){for(var jn=Er.call(this,Ur,Yr,Qr,mn),gn=0;gn<jn.length;gn++){var In=jn[gn];gn===0&&(bn?br.call(this,In.x1+Tr,In.y1+Vr):Sr.call(this,In.x1+Tr,In.y1+Vr)),Or.call(this,Tr,Vr,In.x2,In.y2,In.x3,In.y3,In.x4,In.y4)}Zr?Cr.call(this):_r.call(this,An)},_r=function(Tr){switch(Tr){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Cr=function(){this.pdf.clip(),this.pdf.discardPath()},br=function(Tr,Vr){this.pdf.internal.out(Be(Tr)+" "+Ue(Vr)+" m")},fr=function(Tr){var Vr;switch(Tr.align){case"right":case"end":Vr="right";break;case"center":Vr="center";break;default:Vr="left"}var Ur,Yr,Qr,mn=this.pdf.getTextDimensions(Tr.text),An=yr.call(this,Tr.y),Zr=mr.call(this,An)-mn.h,bn=this.ctx.transform.applyToPoint(new He(Tr.x,An));if(this.autoPaging){var jn=this.ctx.transform.decompose(),gn=new Ge;gn=(gn=(gn=gn.multiply(jn.translate)).multiply(jn.skew)).multiply(jn.scale);for(var In=this.ctx.transform.applyToRectangle(new We(Tr.x,An,mn.w,mn.h)),Sn=gn.applyToRectangle(new We(Tr.x,Zr,mn.w,mn.h)),Gr=ar.call(this,Sn),Un=[],di=0;di<Gr.length;di+=1)Un.indexOf(Gr[di])===-1&&Un.push(Gr[di]);or(Un);for(var ii=Un[0],Vn=Un[Un.length-1],zn=ii;zn<Vn+1;zn++){this.pdf.setPage(zn);var Qn=zn===1?this.posY+this.margin[0]:this.margin[0],Yn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vi=this.pdf.internal.pageSize.height-this.margin[2],xn=vi-this.margin[0],ei=this.pdf.internal.pageSize.width-this.margin[1],ni=ei-this.margin[3],ui=zn===1?0:Yn+(zn-2)*xn;if(this.ctx.clip_path.length!==0){var oi=this.path;Ur=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=lr(Ur,this.posX+this.margin[3],-1*ui+Qn),hr.call(this,"fill",!0),this.path=oi}var fi=lr([JSON.parse(JSON.stringify(Sn))],this.posX+this.margin[3],-ui+Qn+this.ctx.prevPageLastElemOffset)[0];Tr.scale>=.01&&(Yr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Yr*Tr.scale),Qr=this.lineWidth,this.lineWidth=Qr*Tr.scale);var yi=this.autoPaging!=="text";if(yi||fi.y+fi.h<=vi){if(yi||fi.y>=Qn&&fi.x<=ei){var mi=yi?Tr.text:this.pdf.splitTextToSize(Tr.text,Tr.maxWidth||ei-fi.x)[0],as=lr([JSON.parse(JSON.stringify(In))],this.posX+this.margin[3],-ui+Qn+this.ctx.prevPageLastElemOffset)[0],Ui=yi&&(zn>ii||zn<Vn)&&nr.call(this);Ui&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ni,xn,null).clip().discardPath()),this.pdf.text(mi,as.x,as.y,{angle:Tr.angle,align:Vr,renderingMode:Tr.renderingMode}),Ui&&this.pdf.restoreGraphicsState()}}else fi.y<vi&&(this.ctx.prevPageLastElemOffset+=vi-fi.y);Tr.scale>=.01&&(this.pdf.setFontSize(Yr),this.lineWidth=Qr)}}else Tr.scale>=.01&&(Yr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Yr*Tr.scale),Qr=this.lineWidth,this.lineWidth=Qr*Tr.scale),this.pdf.text(Tr.text,bn.x+this.posX,bn.y+this.posY,{angle:Tr.angle,align:Vr,renderingMode:Tr.renderingMode,maxWidth:Tr.maxWidth}),Tr.scale>=.01&&(this.pdf.setFontSize(Yr),this.lineWidth=Qr)},Sr=function(Tr,Vr,Ur,Yr){Ur=Ur||0,Yr=Yr||0,this.pdf.internal.out(Be(Tr+Ur)+" "+Ue(Vr+Yr)+" l")},Dr=function(Tr,Vr,Ur){return this.pdf.lines(Tr,Vr,Ur,null,null)},Or=function(Tr,Vr,Ur,Yr,Qr,mn,An,Zr){this.pdf.internal.out([$e(ze(Ur+Tr)),$e(qe(Yr+Vr)),$e(ze(Qr+Tr)),$e(qe(mn+Vr)),$e(ze(An+Tr)),$e(qe(Zr+Vr)),"c"].join(" "))},Er=function(Tr,Vr,Ur,Yr){for(var Qr=2*Math.PI,mn=Math.PI/2;Vr>Ur;)Vr-=Qr;var An=Math.abs(Ur-Vr);An<Qr&&Yr&&(An=Qr-An);for(var Zr=[],bn=Yr?-1:1,jn=Vr;An>1e-5;){var gn=jn+bn*Math.min(An,mn);Zr.push(Nr.call(this,Tr,jn,gn)),An-=Math.abs(gn-jn),jn=gn}return Zr},Nr=function(Tr,Vr,Ur){var Yr=(Ur-Vr)/2,Qr=Tr*Math.cos(Yr),mn=Tr*Math.sin(Yr),An=Qr,Zr=-mn,bn=An*An+Zr*Zr,jn=bn+An*Qr+Zr*mn,gn=4/3*(Math.sqrt(2*bn*jn)-jn)/(An*mn-Zr*Qr),In=An-gn*Zr,Sn=Zr+gn*An,Gr=In,Un=-Sn,di=Yr+Vr,ii=Math.cos(di),Vn=Math.sin(di);return{x1:Tr*Math.cos(Vr),y1:Tr*Math.sin(Vr),x2:In*ii-Sn*Vn,y2:In*Vn+Sn*ii,x3:Gr*ii-Un*Vn,y3:Gr*Vn+Un*ii,x4:Tr*Math.cos(Ur),y4:Tr*Math.sin(Ur)}},wr=function(Tr){return 180*Tr/Math.PI},Ar=function(Tr,Vr,Ur,Yr,Qr,mn){var An=Tr+.5*(Ur-Tr),Zr=Vr+.5*(Yr-Vr),bn=Qr+.5*(Ur-Qr),jn=mn+.5*(Yr-mn),gn=Math.min(Tr,Qr,An,bn),In=Math.max(Tr,Qr,An,bn),Sn=Math.min(Vr,mn,Zr,jn),Gr=Math.max(Vr,mn,Zr,jn);return new We(gn,Sn,In-gn,Gr-Sn)},Lr=function(Tr,Vr,Ur,Yr,Qr,mn,An,Zr){var bn,jn,gn,In,Sn,Gr,Un,di,ii,Vn,zn,Qn,Yn,vi,xn=Ur-Tr,ei=Yr-Vr,ni=Qr-Ur,ui=mn-Yr,oi=An-Qr,fi=Zr-mn;for(jn=0;jn<41;jn++)ii=(Un=(gn=Tr+(bn=jn/40)*xn)+bn*((Sn=Ur+bn*ni)-gn))+bn*(Sn+bn*(Qr+bn*oi-Sn)-Un),Vn=(di=(In=Vr+bn*ei)+bn*((Gr=Yr+bn*ui)-In))+bn*(Gr+bn*(mn+bn*fi-Gr)-di),jn==0?(zn=ii,Qn=Vn,Yn=ii,vi=Vn):(zn=Math.min(zn,ii),Qn=Math.min(Qn,Vn),Yn=Math.max(Yn,ii),vi=Math.max(vi,Vn));return new We(Math.round(zn),Math.round(Qn),Math.round(Yn-zn),Math.round(vi-Qn))},Pr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Tr,Vr,Ur=(Tr=this.ctx.lineDash,Vr=this.ctx.lineDashOffset,JSON.stringify({lineDash:Tr,lineDashOffset:Vr}));this.prevLineDash!==Ur&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ur)}}})(E.API),(function(Ve){var $e=function(He){var We,Ge,Ye,Xe,Je,er,Ze,rr,nr,ar;for(Ge=[],Ye=0,Xe=(He+=We="\0\0\0\0".slice(He.length%4||4)).length;Xe>Ye;Ye+=4)(Je=(He.charCodeAt(Ye)<<24)+(He.charCodeAt(Ye+1)<<16)+(He.charCodeAt(Ye+2)<<8)+He.charCodeAt(Ye+3))!==0?(er=(Je=((Je=((Je=((Je=(Je-(ar=Je%85))/85)-(nr=Je%85))/85)-(rr=Je%85))/85)-(Ze=Je%85))/85)%85,Ge.push(er+33,Ze+33,rr+33,nr+33,ar+33)):Ge.push(122);return(function(sr,lr){for(var or=lr;or>0;or--)sr.pop()})(Ge,We.length),String.fromCharCode.apply(String,Ge)+"~>"},Be=function(He){var We,Ge,Ye,Xe,Je,er=String,Ze="length",rr=255,nr="charCodeAt",ar="slice",sr="replace";for(He[ar](-2),He=He[ar](0,-2)[sr](/\s/g,"")[sr]("z","!!!!!"),Ye=[],Xe=0,Je=(He+=We="uuuuu"[ar](He[Ze]%5||5))[Ze];Je>Xe;Xe+=5)Ge=52200625*(He[nr](Xe)-33)+614125*(He[nr](Xe+1)-33)+7225*(He[nr](Xe+2)-33)+85*(He[nr](Xe+3)-33)+(He[nr](Xe+4)-33),Ye.push(rr&Ge>>24,rr&Ge>>16,rr&Ge>>8,rr&Ge);return(function(lr,or){for(var cr=or;cr>0;cr--)lr.pop()})(Ye,We[Ze]),er.fromCharCode.apply(er,Ye)},Ue=function(He){return He.split("").map(function(We){return("0"+We.charCodeAt().toString(16)).slice(-2)}).join("")+">"},ze=function(He){var We=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((He=He.replace(/\s/g,"")).indexOf(">")!==-1&&(He=He.substr(0,He.indexOf(">"))),He.length%2&&(He+="0"),We.test(He)===!1)return"";for(var Ge="",Ye=0;Ye<He.length;Ye+=2)Ge+=String.fromCharCode("0x"+(He[Ye]+He[Ye+1]));return Ge},qe=function(He){for(var We=new Uint8Array(He.length),Ge=He.length;Ge--;)We[Ge]=He.charCodeAt(Ge);return(We=zlibSync(We)).reduce(function(Ye,Xe){return Ye+String.fromCharCode(Xe)},"")};Ve.processDataByFilters=function(He,We){var Ge=0,Ye=He||"",Xe=[];for(typeof(We=We||[])=="string"&&(We=[We]),Ge=0;Ge<We.length;Ge+=1)switch(We[Ge]){case"ASCII85Decode":case"/ASCII85Decode":Ye=Be(Ye),Xe.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Ye=$e(Ye),Xe.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Ye=ze(Ye),Xe.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Ye=Ue(Ye),Xe.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Ye=qe(Ye),Xe.push("/FlateDecode");break;default:throw new Error('The filter: "'+We[Ge]+'" is not implemented')}return{data:Ye,reverseChain:Xe.reverse().join(" ")}}})(E.API),(function(Ve){Ve.loadFile=function($e,Be,Ue){return(function(ze,qe,He){qe=qe!==!1,He=typeof He=="function"?He:function(){};var We=void 0;try{We=(function(Ge,Ye,Xe){var Je=new XMLHttpRequest,er=0,Ze=function(rr){var nr=rr.length,ar=[],sr=String.fromCharCode;for(er=0;er<nr;er+=1)ar.push(sr(255&rr.charCodeAt(er)));return ar.join("")};if(Je.open("GET",Ge,!Ye),Je.overrideMimeType("text/plain; charset=x-user-defined"),Ye===!1&&(Je.onload=function(){Je.status===200?Xe(Ze(this.responseText)):Xe(void 0)}),Je.send(null),Ye&&Je.status===200)return Ze(Je.responseText)})(ze,qe,He)}catch{}return We})($e,Be,Ue)},Ve.loadImageFile=Ve.loadFile})(E.API),(function(Ve){function $e(){return(i.html2canvas?Promise.resolve(i.html2canvas):__vitePreload(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(We){return Promise.reject(new Error("Could not load html2canvas: "+We))}).then(function(We){return We.default?We.default:We})}function Be(){return(i.DOMPurify?Promise.resolve(i.DOMPurify):__vitePreload(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(We){return Promise.reject(new Error("Could not load dompurify: "+We))}).then(function(We){return We.default?We.default:We})}var Ue=function(We){var Ge=_typeof(We);return Ge==="undefined"?"undefined":Ge==="string"||We instanceof String?"string":Ge==="number"||We instanceof Number?"number":Ge==="function"||We instanceof Function?"function":We&&We.constructor===Array?"array":We&&We.nodeType===1?"element":Ge==="object"?"object":"unknown"},ze=function(We,Ge){var Ye=document.createElement(We);for(var Xe in Ge.className&&(Ye.className=Ge.className),Ge.innerHTML&&Ge.dompurify&&(Ye.innerHTML=Ge.dompurify.sanitize(Ge.innerHTML)),Ge.style)Ye.style[Xe]=Ge.style[Xe];return Ye},qe=function We(Ge,Ye){for(var Xe=Ge.nodeType===3?document.createTextNode(Ge.nodeValue):Ge.cloneNode(!1),Je=Ge.firstChild;Je;Je=Je.nextSibling)Ye!==!0&&Je.nodeType===1&&Je.nodeName==="SCRIPT"||Xe.appendChild(We(Je,Ye));return Ge.nodeType===1&&(Ge.nodeName==="CANVAS"?(Xe.width=Ge.width,Xe.height=Ge.height,Xe.getContext("2d").drawImage(Ge,0,0)):Ge.nodeName!=="TEXTAREA"&&Ge.nodeName!=="SELECT"||(Xe.value=Ge.value),Xe.addEventListener("load",function(){Xe.scrollTop=Ge.scrollTop,Xe.scrollLeft=Ge.scrollLeft},!0)),Xe},He=function We(Ge){var Ye=Object.assign(We.convert(Promise.resolve()),JSON.parse(JSON.stringify(We.template))),Xe=We.convert(Promise.resolve(),Ye);return(Xe=Xe.setProgress(1,We,1,[We])).set(Ge)};(He.prototype=Object.create(Promise.prototype)).constructor=He,He.convert=function(We,Ge){return We.__proto__=Ge||He.prototype,We},He.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},He.prototype.from=function(We,Ge){return this.then(function(){switch(Ge=Ge||(function(Ye){switch(Ue(Ye)){case"string":return"string";case"element":return Ye.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(We),Ge){case"string":return this.then(Be).then(function(Ye){return this.set({src:ze("div",{innerHTML:We,dompurify:Ye})})});case"element":return this.set({src:We});case"canvas":return this.set({canvas:We});case"img":return this.set({img:We});default:return this.error("Unknown source type.")}})},He.prototype.to=function(We){switch(We){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},He.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var We={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Ge=qe(this.prop.src,this.opt.html2canvas.javascriptEnabled);Ge.tagName==="BODY"&&(We.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=ze("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=ze("div",{className:"html2pdf__container",style:We}),this.prop.container.appendChild(Ge),this.prop.container.firstChild.appendChild(ze("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},He.prototype.toCanvas=function(){var We=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(We).then($e).then(function(Ge){var Ye=Object.assign({},this.opt.html2canvas);return delete Ye.onrendered,Ge(this.prop.container,Ye)}).then(function(Ge){(this.opt.html2canvas.onrendered||function(){})(Ge),this.prop.canvas=Ge,document.body.removeChild(this.prop.overlay)})},He.prototype.toContext2d=function(){var We=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(We).then($e).then(function(Ge){var Ye=this.opt.jsPDF,Xe=this.opt.fontFaces,Je=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,er=Object.assign({async:!0,allowTaint:!0,scale:Je,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete er.onrendered,Ye.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Ye.context2d.posX=this.opt.x,Ye.context2d.posY=this.opt.y,Ye.context2d.margin=this.opt.margin,Ye.context2d.fontFaces=Xe,Xe)for(var Ze=0;Ze<Xe.length;++Ze){var rr=Xe[Ze],nr=rr.src.find(function(ar){return ar.format==="truetype"});nr&&Ye.addFont(nr.url,rr.ref.name,rr.ref.style)}return er.windowHeight=er.windowHeight||0,er.windowHeight=er.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):er.windowHeight,Ye.context2d.save(!0),Ge(this.prop.container,er)}).then(function(Ge){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Ge),this.prop.canvas=Ge,document.body.removeChild(this.prop.overlay)})},He.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var We=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=We})},He.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},He.prototype.output=function(We,Ge,Ye){return(Ye=Ye||"pdf").toLowerCase()==="img"||Ye.toLowerCase()==="image"?this.outputImg(We,Ge):this.outputPdf(We,Ge)},He.prototype.outputPdf=function(We,Ge){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(We,Ge)})},He.prototype.outputImg=function(We){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(We){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+We+'" is not supported.'}})},He.prototype.save=function(We){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(We?{filename:We}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},He.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},He.prototype.set=function(We){if(Ue(We)!=="object")return this;var Ge=Object.keys(We||{}).map(function(Ye){if(Ye in He.template.prop)return function(){this.prop[Ye]=We[Ye]};switch(Ye){case"margin":return this.setMargin.bind(this,We.margin);case"jsPDF":return function(){return this.opt.jsPDF=We.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,We.pageSize);default:return function(){this.opt[Ye]=We[Ye]}}},this);return this.then(function(){return this.thenList(Ge)})},He.prototype.get=function(We,Ge){return this.then(function(){var Ye=We in He.template.prop?this.prop[We]:this.opt[We];return Ge?Ge(Ye):Ye})},He.prototype.setMargin=function(We){return this.then(function(){switch(Ue(We)){case"number":We=[We,We,We,We];case"array":if(We.length===2&&(We=[We[0],We[1],We[0],We[1]]),We.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=We}).then(this.setPageSize)},He.prototype.setPageSize=function(We){function Ge(Ye,Xe){return Math.floor(Ye*Xe/72*96)}return this.then(function(){(We=We||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(We.inner={width:We.width-this.opt.margin[1]-this.opt.margin[3],height:We.height-this.opt.margin[0]-this.opt.margin[2]},We.inner.px={width:Ge(We.inner.width,We.k),height:Ge(We.inner.height,We.k)},We.inner.ratio=We.inner.height/We.inner.width),this.prop.pageSize=We})},He.prototype.setProgress=function(We,Ge,Ye,Xe){return We!=null&&(this.progress.val=We),Ge!=null&&(this.progress.state=Ge),Ye!=null&&(this.progress.n=Ye),Xe!=null&&(this.progress.stack=Xe),this.progress.ratio=this.progress.val/this.progress.state,this},He.prototype.updateProgress=function(We,Ge,Ye,Xe){return this.setProgress(We?this.progress.val+We:null,Ge||null,Ye?this.progress.n+Ye:null,Xe?this.progress.stack.concat(Xe):null)},He.prototype.then=function(We,Ge){var Ye=this;return this.thenCore(We,Ge,function(Xe,Je){return Ye.updateProgress(null,null,1,[Xe]),Promise.prototype.then.call(this,function(er){return Ye.updateProgress(null,Xe),er}).then(Xe,Je).then(function(er){return Ye.updateProgress(1),er})})},He.prototype.thenCore=function(We,Ge,Ye){Ye=Ye||Promise.prototype.then;var Xe=this;We&&(We=We.bind(Xe)),Ge&&(Ge=Ge.bind(Xe));var Je=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Xe:He.convert(Object.assign({},Xe),Promise.prototype),er=Ye.call(Je,We,Ge);return He.convert(er,Xe.__proto__)},He.prototype.thenExternal=function(We,Ge){return Promise.prototype.then.call(this,We,Ge)},He.prototype.thenList=function(We){var Ge=this;return We.forEach(function(Ye){Ge=Ge.thenCore(Ye)}),Ge},He.prototype.catch=function(We){We&&(We=We.bind(this));var Ge=Promise.prototype.catch.call(this,We);return He.convert(Ge,this)},He.prototype.catchExternal=function(We){return Promise.prototype.catch.call(this,We)},He.prototype.error=function(We){return this.then(function(){throw new Error(We)})},He.prototype.using=He.prototype.set,He.prototype.saveAs=He.prototype.save,He.prototype.export=He.prototype.output,He.prototype.run=He.prototype.then,E.getPageSize=function(We,Ge,Ye){if(_typeof(We)==="object"){var Xe=We;We=Xe.orientation,Ge=Xe.unit||Ge,Ye=Xe.format||Ye}Ge=Ge||"mm",Ye=Ye||"a4",We=(""+(We||"P")).toLowerCase();var Je,er=(""+Ye).toLowerCase(),Ze={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Ge){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=.75;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:throw"Invalid unit: "+Ge}var rr,nr=0,ar=0;if(Ze.hasOwnProperty(er))nr=Ze[er][1]/Je,ar=Ze[er][0]/Je;else try{nr=Ye[1],ar=Ye[0]}catch{throw new Error("Invalid format: "+Ye)}if(We==="p"||We==="portrait")We="p",ar>nr&&(rr=ar,ar=nr,nr=rr);else{if(We!=="l"&&We!=="landscape")throw"Invalid orientation: "+We;We="l",nr>ar&&(rr=ar,ar=nr,nr=rr)}return{width:ar,height:nr,unit:Ge,k:Je,orientation:We}},Ve.html=function(We,Ge){(Ge=Ge||{}).callback=Ge.callback||function(){},Ge.html2canvas=Ge.html2canvas||{},Ge.html2canvas.canvas=Ge.html2canvas.canvas||this.canvas,Ge.jsPDF=Ge.jsPDF||this,Ge.fontFaces=Ge.fontFaces?Ge.fontFaces.map(Ct):null;var Ye=new He(Ge);return Ge.worker?Ye:Ye.from(We).doCallback()}})(E.API),E.API.addJS=function(Ve){return Ut=Ve,this.internal.events.subscribe("postPutResources",function(){Tt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tt+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ut+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tt!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Tt+" 0 R>>")}),this},(function(Ve){var $e;Ve.events.push(["postPutResources",function(){var Be=this,Ue=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var ze=Be.outline.render().split(/\r\n/),qe=0;qe<ze.length;qe++){var He=ze[qe],We=Ue.exec(He);if(We!=null){var Ge=We[1];Be.internal.newObjectDeferredBegin(Ge,!1)}Be.internal.write(He)}if(this.outline.createNamedDestinations){var Ye=this.internal.pages.length,Xe=[];for(qe=0;qe<Ye;qe++){var Je=Be.internal.newObject();Xe.push(Je);var er=Be.internal.getPageInfo(qe+1);Be.internal.write("<< /D["+er.objId+" 0 R /XYZ null null null]>> endobj")}var Ze=Be.internal.newObject();for(Be.internal.write("<< /Names [ "),qe=0;qe<Xe.length;qe++)Be.internal.write("(page_"+(qe+1)+")"+Xe[qe]+" 0 R");Be.internal.write(" ] >>","endobj"),$e=Be.internal.newObject(),Be.internal.write("<< /Dests "+Ze+" 0 R"),Be.internal.write(">>","endobj")}}]),Ve.events.push(["putCatalog",function(){var Be=this;Be.outline.root.children.length>0&&(Be.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&Be.internal.write("/Names "+$e+" 0 R"))}]),Ve.events.push(["initialized",function(){var Be=this;Be.outline={createNamedDestinations:!1,root:{children:[]}},Be.outline.add=function(Ue,ze,qe){var He={title:ze,options:qe,children:[]};return Ue==null&&(Ue=this.root),Ue.children.push(He),He},Be.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=Be,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},Be.outline.genIds_r=function(Ue){Ue.id=Be.internal.newObjectDeferred();for(var ze=0;ze<Ue.children.length;ze++)this.genIds_r(Ue.children[ze])},Be.outline.renderRoot=function(Ue){this.objStart(Ue),this.line("/Type /Outlines"),Ue.children.length>0&&(this.line("/First "+this.makeRef(Ue.children[0])),this.line("/Last "+this.makeRef(Ue.children[Ue.children.length-1]))),this.line("/Count "+this.count_r({count:0},Ue)),this.objEnd()},Be.outline.renderItems=function(Ue){for(var ze=this.ctx.pdf.internal.getVerticalCoordinateString,qe=0;qe<Ue.children.length;qe++){var He=Ue.children[qe];this.objStart(He),this.line("/Title "+this.makeString(He.title)),this.line("/Parent "+this.makeRef(Ue)),qe>0&&this.line("/Prev "+this.makeRef(Ue.children[qe-1])),qe<Ue.children.length-1&&this.line("/Next "+this.makeRef(Ue.children[qe+1])),He.children.length>0&&(this.line("/First "+this.makeRef(He.children[0])),this.line("/Last "+this.makeRef(He.children[He.children.length-1])));var We=this.count=this.count_r({count:0},He);if(We>0&&this.line("/Count "+We),He.options&&He.options.pageNumber){var Ge=Be.internal.getPageInfo(He.options.pageNumber);this.line("/Dest ["+Ge.objId+" 0 R /XYZ 0 "+ze(0)+" 0]")}this.objEnd()}for(var Ye=0;Ye<Ue.children.length;Ye++)this.renderItems(Ue.children[Ye])},Be.outline.line=function(Ue){this.ctx.val+=Ue+`\r
`},Be.outline.makeRef=function(Ue){return Ue.id+" 0 R"},Be.outline.makeString=function(Ue){return"("+Be.internal.pdfEscape(Ue)+")"},Be.outline.objStart=function(Ue){this.ctx.val+=`\r
`+Ue.id+` 0 obj\r
<<\r
`},Be.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},Be.outline.count_r=function(Ue,ze){for(var qe=0;qe<ze.children.length;qe++)Ue.count++,this.count_r(Ue,ze.children[qe]);return Ue.count}}])})(E.API),(function(Ve){var $e=[192,193,194,195,196,197,198,199];Ve.processJPEG=function(Be,Ue,ze,qe,He,We){var Ge,Ye=this.decode.DCT_DECODE,Xe=null;if(typeof Be=="string"||this.__addimage__.isArrayBuffer(Be)||this.__addimage__.isArrayBufferView(Be)){switch(Be=He||Be,Be=this.__addimage__.isArrayBuffer(Be)?new Uint8Array(Be):Be,Ge=(function(Je){for(var er,Ze=256*Je.charCodeAt(4)+Je.charCodeAt(5),rr=Je.length,nr={width:0,height:0,numcomponents:1},ar=4;ar<rr;ar+=2){if(ar+=Ze,$e.indexOf(Je.charCodeAt(ar+1))!==-1){er=256*Je.charCodeAt(ar+5)+Je.charCodeAt(ar+6),nr={width:256*Je.charCodeAt(ar+7)+Je.charCodeAt(ar+8),height:er,numcomponents:Je.charCodeAt(ar+9)};break}Ze=256*Je.charCodeAt(ar+2)+Je.charCodeAt(ar+3)}return nr})(Be=this.__addimage__.isArrayBufferView(Be)?this.__addimage__.arrayBufferToBinaryString(Be):Be),Ge.numcomponents){case 1:We=this.color_spaces.DEVICE_GRAY;break;case 4:We=this.color_spaces.DEVICE_CMYK;break;case 3:We=this.color_spaces.DEVICE_RGB}Xe={data:Be,width:Ge.width,height:Ge.height,colorSpace:We,bitsPerComponent:8,filter:Ye,index:Ue,alias:ze}}return Xe}})(E.API),E.API.processPNG=function(Ve,$e,Be,Ue){if(this.__addimage__.isArrayBuffer(Ve)&&(Ve=new Uint8Array(Ve)),this.__addimage__.isArrayBufferView(Ve)){var ze,qe=decodePng(Ve,{checkCrc:!0}),He=qe.width,We=qe.height,Ge=qe.channels,Ye=qe.palette,Xe=qe.depth;ze=Ye&&Ge===1?(function(vr){for(var _r=vr.width,Cr=vr.height,br=vr.data,fr=vr.palette,Sr=vr.depth,Dr=!1,Or=[],Er=[],Nr=void 0,wr=!1,Ar=0,Lr=0;Lr<fr.length;Lr++){var Pr=_slicedToArray(fr[Lr],4),Tr=Pr[0],Vr=Pr[1],Ur=Pr[2],Yr=Pr[3];Or.push(Tr,Vr,Ur),Yr!=null&&(Yr===0?(Ar++,Er.length<1&&Er.push(Lr)):Yr<255&&(wr=!0))}if(wr||Ar>1){Dr=!0,Er=void 0;var Qr=_r*Cr;Nr=new Uint8Array(Qr);for(var mn=new DataView(br.buffer),An=0;An<Qr;An++){var Zr=re(mn,An,Sr),bn=_slicedToArray(fr[Zr],4)[3];Nr[An]=bn}}else Ar===0&&(Er=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Dr?8:void 0,colorBytes:br,alphaBytes:Nr,needSMask:Dr,palette:Or,mask:Er}})(qe):Ge===2||Ge===4?(function(vr){for(var _r=vr.data,Cr=vr.width,br=vr.height,fr=vr.channels,Sr=vr.depth,Dr=fr===2?"DeviceGray":"DeviceRGB",Or=fr-1,Er=Cr*br,Nr=Or,wr=Er*Nr,Ar=1*Er,Lr=Math.ceil(wr*Sr/8),Pr=Math.ceil(Ar*Sr/8),Tr=new Uint8Array(Lr),Vr=new Uint8Array(Pr),Ur=new DataView(_r.buffer),Yr=new DataView(Tr.buffer),Qr=new DataView(Vr.buffer),mn=!1,An=0;An<Er;An++){for(var Zr=An*fr,bn=0;bn<Nr;bn++)ie(Yr,re(Ur,Zr+bn,Sr),An*Nr+bn,Sr);var jn=re(Ur,Zr+Nr,Sr);jn<(1<<Sr)-1&&(mn=!0),ie(Qr,jn,1*An,Sr)}return{colorSpace:Dr,colorsPerPixel:Or,sMaskBitsPerComponent:mn?Sr:void 0,colorBytes:Tr,alphaBytes:Vr,needSMask:mn}})(qe):(function(vr){var _r=vr.data,Cr=vr.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Cr,colorsPerPixel:Cr==="DeviceGray"?1:3,colorBytes:_r instanceof Uint16Array?(function(br){for(var fr=br.length,Sr=new Uint8Array(2*fr),Dr=new DataView(Sr.buffer,Sr.byteOffset,Sr.byteLength),Or=0;Or<fr;Or++)Dr.setUint16(2*Or,br[Or],!1);return Sr})(_r):_r,needSMask:!1}})(qe);var Je,er,Ze,rr=ze,nr=rr.colorSpace,ar=rr.colorsPerPixel,sr=rr.sMaskBitsPerComponent,lr=rr.colorBytes,or=rr.alphaBytes,cr=rr.needSMask,hr=rr.palette,yr=rr.mask,mr=null;return Ue!==E.API.image_compression.NONE&&typeof zlibSync=="function"?(mr=(function(vr){var _r;switch(vr){case E.API.image_compression.FAST:_r=11;break;case E.API.image_compression.MEDIUM:_r=13;break;case E.API.image_compression.SLOW:_r=14;break;default:_r=12}return _r})(Ue),Je=this.decode.FLATE_DECODE,er="/Predictor ".concat(mr," /Colors ").concat(ar," /BitsPerComponent ").concat(Xe," /Columns ").concat(He),Ve=Xt(lr,Math.ceil(He*ar*Xe/8),ar,Xe,Ue),cr&&(Ze=Xt(or,Math.ceil(He*sr/8),1,sr,Ue))):(Je=void 0,er=void 0,Ve=lr,cr&&(Ze=or)),(this.__addimage__.isArrayBuffer(Ve)||this.__addimage__.isArrayBufferView(Ve))&&(Ve=this.__addimage__.arrayBufferToBinaryString(Ve)),(Ze&&this.__addimage__.isArrayBuffer(Ze)||this.__addimage__.isArrayBufferView(Ze))&&(Ze=this.__addimage__.arrayBufferToBinaryString(Ze)),{alias:Be,data:Ve,index:$e,filter:Je,decodeParameters:er,transparency:yr,palette:hr,sMask:Ze,predictor:mr,width:He,height:We,bitsPerComponent:Xe,sMaskBitsPerComponent:sr,colorSpace:nr}}},(function(Ve){Ve.processGIF89A=function($e,Be,Ue,ze){var qe=new oe($e),He=qe.width,We=qe.height,Ge=[];qe.decodeAndBlitFrameRGBA(0,Ge);var Ye={data:Ge,width:He,height:We},Xe=new ue(100).encode(Ye,100);return Ve.processJPEG.call(this,Xe,Be,Ue,ze)},Ve.processGIF87A=Ve.processGIF89A})(E.API),ce.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Ve=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Ve);for(var $e=0;$e<Ve;$e++){var Be=this.datav.getUint8(this.pos++,!0),Ue=this.datav.getUint8(this.pos++,!0),ze=this.datav.getUint8(this.pos++,!0),qe=this.datav.getUint8(this.pos++,!0);this.palette[$e]={red:ze,green:Ue,blue:Be,quad:qe}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ce.prototype.parseBGR=function(){this.pos=this.offset;try{var Ve="bit"+this.bitPP,$e=this.width*this.height*4;this.data=new Uint8Array($e),this[Ve]()}catch(Be){o.log("bit decode error:"+Be)}},ce.prototype.bit1=function(){var Ve,$e=Math.ceil(this.width/8),Be=$e%4;for(Ve=this.height-1;Ve>=0;Ve--){for(var Ue=this.bottom_up?Ve:this.height-1-Ve,ze=0;ze<$e;ze++)for(var qe=this.datav.getUint8(this.pos++,!0),He=Ue*this.width*4+8*ze*4,We=0;We<8&&8*ze+We<this.width;We++){var Ge=this.palette[qe>>7-We&1];this.data[He+4*We]=Ge.blue,this.data[He+4*We+1]=Ge.green,this.data[He+4*We+2]=Ge.red,this.data[He+4*We+3]=255}Be!==0&&(this.pos+=4-Be)}},ce.prototype.bit4=function(){for(var Ve=Math.ceil(this.width/2),$e=Ve%4,Be=this.height-1;Be>=0;Be--){for(var Ue=this.bottom_up?Be:this.height-1-Be,ze=0;ze<Ve;ze++){var qe=this.datav.getUint8(this.pos++,!0),He=Ue*this.width*4+2*ze*4,We=qe>>4,Ge=15&qe,Ye=this.palette[We];if(this.data[He]=Ye.blue,this.data[He+1]=Ye.green,this.data[He+2]=Ye.red,this.data[He+3]=255,2*ze+1>=this.width)break;Ye=this.palette[Ge],this.data[He+4]=Ye.blue,this.data[He+4+1]=Ye.green,this.data[He+4+2]=Ye.red,this.data[He+4+3]=255}$e!==0&&(this.pos+=4-$e)}},ce.prototype.bit8=function(){for(var Ve=this.width%4,$e=this.height-1;$e>=0;$e--){for(var Be=this.bottom_up?$e:this.height-1-$e,Ue=0;Ue<this.width;Ue++){var ze=this.datav.getUint8(this.pos++,!0),qe=Be*this.width*4+4*Ue;if(ze<this.palette.length){var He=this.palette[ze];this.data[qe]=He.red,this.data[qe+1]=He.green,this.data[qe+2]=He.blue,this.data[qe+3]=255}else this.data[qe]=255,this.data[qe+1]=255,this.data[qe+2]=255,this.data[qe+3]=255}Ve!==0&&(this.pos+=4-Ve)}},ce.prototype.bit15=function(){for(var Ve=this.width%3,$e=parseInt("11111",2),Be=this.height-1;Be>=0;Be--){for(var Ue=this.bottom_up?Be:this.height-1-Be,ze=0;ze<this.width;ze++){var qe=this.datav.getUint16(this.pos,!0);this.pos+=2;var He=(qe&$e)/$e*255|0,We=(qe>>5&$e)/$e*255|0,Ge=(qe>>10&$e)/$e*255|0,Ye=qe>>15?255:0,Xe=Ue*this.width*4+4*ze;this.data[Xe]=Ge,this.data[Xe+1]=We,this.data[Xe+2]=He,this.data[Xe+3]=Ye}this.pos+=Ve}},ce.prototype.bit16=function(){for(var Ve=this.width%3,$e=parseInt("11111",2),Be=parseInt("111111",2),Ue=this.height-1;Ue>=0;Ue--){for(var ze=this.bottom_up?Ue:this.height-1-Ue,qe=0;qe<this.width;qe++){var He=this.datav.getUint16(this.pos,!0);this.pos+=2;var We=(He&$e)/$e*255|0,Ge=(He>>5&Be)/Be*255|0,Ye=(He>>11)/$e*255|0,Xe=ze*this.width*4+4*qe;this.data[Xe]=Ye,this.data[Xe+1]=Ge,this.data[Xe+2]=We,this.data[Xe+3]=255}this.pos+=Ve}},ce.prototype.bit24=function(){for(var Ve=this.height-1;Ve>=0;Ve--){for(var $e=this.bottom_up?Ve:this.height-1-Ve,Be=0;Be<this.width;Be++){var Ue=this.datav.getUint8(this.pos++,!0),ze=this.datav.getUint8(this.pos++,!0),qe=this.datav.getUint8(this.pos++,!0),He=$e*this.width*4+4*Be;this.data[He]=qe,this.data[He+1]=ze,this.data[He+2]=Ue,this.data[He+3]=255}this.pos+=this.width%4}},ce.prototype.bit32=function(){for(var Ve=this.height-1;Ve>=0;Ve--)for(var $e=this.bottom_up?Ve:this.height-1-Ve,Be=0;Be<this.width;Be++){var Ue=this.datav.getUint8(this.pos++,!0),ze=this.datav.getUint8(this.pos++,!0),qe=this.datav.getUint8(this.pos++,!0),He=this.datav.getUint8(this.pos++,!0),We=$e*this.width*4+4*Be;this.data[We]=qe,this.data[We+1]=ze,this.data[We+2]=Ue,this.data[We+3]=He}},ce.prototype.getData=function(){return this.data},(function(Ve){Ve.processBMP=function($e,Be,Ue,ze){var qe=new ce($e,!1),He=qe.width,We=qe.height,Ge={data:qe.getData(),width:He,height:We},Ye=new ue(100).encode(Ge,100);return Ve.processJPEG.call(this,Ye,Be,Ue,ze)}})(E.API),le.prototype.getData=function(){return this.data},(function(Ve){Ve.processWEBP=function($e,Be,Ue,ze){var qe=new le($e),He=qe.width,We=qe.height,Ge={data:qe.getData(),width:He,height:We},Ye=new ue(100).encode(Ge,100);return Ve.processJPEG.call(this,Ye,Be,Ue,ze)}})(E.API),E.API.processRGBA=function(Ve,$e,Be){for(var Ue=Ve.data,ze=Ue.length,qe=new Uint8Array(ze/4*3),He=new Uint8Array(ze/4),We=0,Ge=0,Ye=0;Ye<ze;Ye+=4){var Xe=Ue[Ye],Je=Ue[Ye+1],er=Ue[Ye+2],Ze=Ue[Ye+3];qe[We++]=Xe,qe[We++]=Je,qe[We++]=er,He[Ge++]=Ze}var rr=this.__addimage__.arrayBufferToBinaryString(qe);return{alpha:this.__addimage__.arrayBufferToBinaryString(He),data:rr,index:$e,alias:Be,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Ve.width,height:Ve.height}},E.API.setLanguage=function(Ve){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Ve]!==void 0&&(this.internal.languageSettings.languageCode=Ve,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ht=E.API,Wt=Ht.getCharWidthsArray=function(Ve,$e){var Be,Ue,ze=($e=$e||{}).font||this.internal.getFont(),qe=$e.fontSize||this.internal.getFontSize(),He=$e.charSpace||this.internal.getCharSpace(),We=$e.widths?$e.widths:ze.metadata.Unicode.widths,Ge=We.fof?We.fof:1,Ye=$e.kerning?$e.kerning:ze.metadata.Unicode.kerning,Xe=Ye.fof?Ye.fof:1,Je=$e.doKerning!==!1,er=0,Ze=Ve.length,rr=0,nr=We[0]||Ge,ar=[];for(Be=0;Be<Ze;Be++)Ue=Ve.charCodeAt(Be),typeof ze.metadata.widthOfString=="function"?ar.push((ze.metadata.widthOfGlyph(ze.metadata.characterToGlyph(Ue))+He*(1e3/qe)||0)/1e3):(er=Je&&_typeof(Ye[Ue])==="object"&&!isNaN(parseInt(Ye[Ue][rr],10))?Ye[Ue][rr]/Xe:0,ar.push((We[Ue]||nr)/Ge+er)),rr=Ue;return ar},Vt=Ht.getStringUnitWidth=function(Ve,$e){var Be=($e=$e||{}).fontSize||this.internal.getFontSize(),Ue=$e.font||this.internal.getFont(),ze=$e.charSpace||this.internal.getCharSpace();return Ht.processArabic&&(Ve=Ht.processArabic(Ve)),typeof Ue.metadata.widthOfString=="function"?Ue.metadata.widthOfString(Ve,Be,ze)/Be:Wt.apply(this,arguments).reduce(function(qe,He){return qe+He},0)},Gt=function(Ve,$e,Be,Ue){for(var ze=[],qe=0,He=Ve.length,We=0;qe!==He&&We+$e[qe]<Be;)We+=$e[qe],qe++;ze.push(Ve.slice(0,qe));var Ge=qe;for(We=0;qe!==He;)We+$e[qe]>Ue&&(ze.push(Ve.slice(Ge,qe)),We=0,Ge=qe),We+=$e[qe],qe++;return Ge!==qe&&ze.push(Ve.slice(Ge,qe)),ze},Yt=function(Ve,$e,Be){Be||(Be={});var Ue,ze,qe,He,We,Ge,Ye,Xe=[],Je=[Xe],er=Be.textIndent||0,Ze=0,rr=0,nr=Ve.split(" "),ar=Wt.apply(this,[" ",Be])[0];if(Ge=Be.lineIndent===-1?nr[0].length+2:Be.lineIndent||0){var sr=Array(Ge).join(" "),lr=[];nr.map(function(cr){(cr=cr.split(/\s*\n/)).length>1?lr=lr.concat(cr.map(function(hr,yr){return(yr&&hr.length?`
`:"")+hr})):lr.push(cr[0])}),nr=lr,Ge=Vt.apply(this,[sr,Be])}for(qe=0,He=nr.length;qe<He;qe++){var or=0;if(Ue=nr[qe],Ge&&Ue[0]==`
`&&(Ue=Ue.substr(1),or=1),er+Ze+(rr=(ze=Wt.apply(this,[Ue,Be])).reduce(function(cr,hr){return cr+hr},0))>$e||or){if(rr>$e){for(We=Gt.apply(this,[Ue,ze,$e-(er+Ze),$e]),Xe.push(We.shift()),Xe=[We.pop()];We.length;)Je.push([We.shift()]);rr=ze.slice(Ue.length-(Xe[0]?Xe[0].length:0)).reduce(function(cr,hr){return cr+hr},0)}else Xe=[Ue];Je.push(Xe),er=rr+Ge,Ze=ar}else Xe.push(Ue),er+=Ze+rr,Ze=ar}return Ye=Ge?function(cr,hr){return(hr?sr:"")+cr.join(" ")}:function(cr){return cr.join(" ")},Je.map(Ye)},Ht.splitTextToSize=function(Ve,$e,Be){var Ue,ze=(Be=Be||{}).fontSize||this.internal.getFontSize(),qe=(function(Xe){if(Xe.widths&&Xe.kerning)return{widths:Xe.widths,kerning:Xe.kerning};var Je=this.internal.getFont(Xe.fontName,Xe.fontStyle),er="Unicode";return Je.metadata[er]?{widths:Je.metadata[er].widths||{0:1},kerning:Je.metadata[er].kerning||{}}:{font:Je.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,Be);Ue=Array.isArray(Ve)?Ve:String(Ve).split(/\r?\n/);var He=1*this.internal.scaleFactor*$e/ze;qe.textIndent=Be.textIndent?1*Be.textIndent*this.internal.scaleFactor/ze:0,qe.lineIndent=Be.lineIndent;var We,Ge,Ye=[];for(We=0,Ge=Ue.length;We<Ge;We++)Ye=Ye.concat(Yt.apply(this,[Ue[We],He,qe]));return Ye},(function(Ve){Ve.__fontmetrics__=Ve.__fontmetrics__||{};for(var $e="0123456789abcdef",Be="klmnopqrstuvwxyz",Ue={},ze={},qe=0;qe<16;qe++)Ue[Be[qe]]=$e[qe],ze[$e[qe]]=Be[qe];var He=function(er){return"0x"+parseInt(er,10).toString(16)},We=Ve.__fontmetrics__.compress=function(er){var Ze,rr,nr,ar,sr=["{"];for(var lr in er){if(Ze=er[lr],isNaN(parseInt(lr,10))?rr="'"+lr+"'":(lr=parseInt(lr,10),rr=(rr=He(lr).slice(2)).slice(0,-1)+ze[rr.slice(-1)]),typeof Ze=="number")Ze<0?(nr=He(Ze).slice(3),ar="-"):(nr=He(Ze).slice(2),ar=""),nr=ar+nr.slice(0,-1)+ze[nr.slice(-1)];else{if(_typeof(Ze)!=="object")throw new Error("Don't know what to do with value type "+_typeof(Ze)+".");nr=We(Ze)}sr.push(rr+nr)}return sr.push("}"),sr.join("")},Ge=Ve.__fontmetrics__.uncompress=function(er){if(typeof er!="string")throw new Error("Invalid argument passed to uncompress.");for(var Ze,rr,nr,ar,sr={},lr=1,or=sr,cr=[],hr="",yr="",mr=er.length-1,vr=1;vr<mr;vr+=1)(ar=er[vr])=="'"?Ze?(nr=Ze.join(""),Ze=void 0):Ze=[]:Ze?Ze.push(ar):ar=="{"?(cr.push([or,nr]),or={},nr=void 0):ar=="}"?((rr=cr.pop())[0][rr[1]]=or,nr=void 0,or=rr[0]):ar=="-"?lr=-1:nr===void 0?Ue.hasOwnProperty(ar)?(hr+=Ue[ar],nr=parseInt(hr,16)*lr,lr=1,hr=""):hr+=ar:Ue.hasOwnProperty(ar)?(yr+=Ue[ar],or[nr]=parseInt(yr,16)*lr,lr=1,nr=void 0,yr=""):yr+=ar;return sr},Ye={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Ge("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Xe={Unicode:{Courier:Ye,"Courier-Bold":Ye,"Courier-BoldOblique":Ye,"Courier-Oblique":Ye,Helvetica:Ye,"Helvetica-Bold":Ye,"Helvetica-BoldOblique":Ye,"Helvetica-Oblique":Ye,"Times-Roman":Ye,"Times-Bold":Ye,"Times-BoldItalic":Ye,"Times-Italic":Ye}},Je={Unicode:{"Courier-Oblique":Ge("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Ge("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Ge("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Ge("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Ge("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Ge("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Ge("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Ge("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Ge("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Ge("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Ge("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Ge("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Ge("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Ge("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Ve.events.push(["addFont",function(er){var Ze=er.font,rr=Je.Unicode[Ze.postScriptName];rr&&(Ze.metadata.Unicode={},Ze.metadata.Unicode.widths=rr.widths,Ze.metadata.Unicode.kerning=rr.kerning);var nr=Xe.Unicode[Ze.postScriptName];nr&&(Ze.metadata.Unicode.encoding=nr,Ze.encoding=nr.codePages[0])}])})(E.API),(function(Ve){var $e=function(Be){for(var Ue=Be.length,ze=new Uint8Array(Ue),qe=0;qe<Ue;qe++)ze[qe]=Be.charCodeAt(qe);return ze};Ve.API.events.push(["addFont",function(Be){var Ue=void 0,ze=Be.font,qe=Be.instance;if(!ze.isStandardFont){if(qe===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+ze.postScriptName+"').");if(typeof(Ue=qe.existsFileInVFS(ze.postScriptName)===!1?qe.loadFile(ze.postScriptName):qe.getFileFromVFS(ze.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+ze.postScriptName+"').");(function(He,We){We=/^\x00\x01\x00\x00/.test(We)?$e(We):$e(f(We)),He.metadata=Ve.API.TTFFont.open(We),He.metadata.Unicode=He.metadata.Unicode||{encoding:{},kerning:{},widths:[]},He.metadata.glyIdsUsed=[0]})(ze,Ue)}}])})(E),E.API.addSvgAsImage=function(Ve,$e,Be,Ue,ze,qe,He,We){if(isNaN($e)||isNaN(Be))throw o.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Ue)||isNaN(ze))throw o.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ge=document.createElement("canvas");Ge.width=Ue,Ge.height=ze;var Ye=Ge.getContext("2d");Ye.fillStyle="#fff",Ye.fillRect(0,0,Ge.width,Ge.height);var Xe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Je=this;return(i.canvg?Promise.resolve(i.canvg):__vitePreload(()=>import("./index.es-CKFZy6tz.js"),[])).catch(function(er){return Promise.reject(new Error("Could not load canvg: "+er))}).then(function(er){return er.default?er.default:er}).then(function(er){return er.fromString(Ye,Ve,Xe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(er){return er.render(Xe)}).then(function(){Je.addImage(Ge.toDataURL("image/jpeg",1),$e,Be,Ue,ze,He,We)})},E.API.putTotalPages=function(Ve){var $e,Be=0;parseInt(this.internal.getFont().id.substr(1),10)<15?($e=new RegExp(Ve,"g"),Be=this.internal.getNumberOfPages()):($e=new RegExp(this.pdfEscape16(Ve,this.internal.getFont()),"g"),Be=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Ue=1;Ue<=this.internal.getNumberOfPages();Ue++)for(var ze=0;ze<this.internal.pages[Ue].length;ze++)this.internal.pages[Ue][ze]=this.internal.pages[Ue][ze].replace($e,Be);return this},E.API.viewerPreferences=function(Ve,$e){var Be;Ve=Ve||{},$e=$e||!1;var Ue,ze,qe,He={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},We=Object.keys(He),Ge=[],Ye=0,Xe=0,Je=0;function er(rr,nr){var ar,sr=!1;for(ar=0;ar<rr.length;ar+=1)rr[ar]===nr&&(sr=!0);return sr}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(He)),this.internal.viewerpreferences.isSubscribed=!1),Be=this.internal.viewerpreferences.configuration,Ve==="reset"||$e===!0){var Ze=We.length;for(Je=0;Je<Ze;Je+=1)Be[We[Je]].value=Be[We[Je]].defaultValue,Be[We[Je]].explicitSet=!1}if(_typeof(Ve)==="object"){for(ze in Ve)if(qe=Ve[ze],er(We,ze)&&qe!==void 0){if(Be[ze].type==="boolean"&&typeof qe=="boolean")Be[ze].value=qe;else if(Be[ze].type==="name"&&er(Be[ze].valueSet,qe))Be[ze].value=qe;else if(Be[ze].type==="integer"&&Number.isInteger(qe))Be[ze].value=qe;else if(Be[ze].type==="array"){for(Ye=0;Ye<qe.length;Ye+=1)if(Ue=!0,qe[Ye].length===1&&typeof qe[Ye][0]=="number")Ge.push(String(qe[Ye]-1));else if(qe[Ye].length>1){for(Xe=0;Xe<qe[Ye].length;Xe+=1)typeof qe[Ye][Xe]!="number"&&(Ue=!1);Ue===!0&&Ge.push([qe[Ye][0]-1,qe[Ye][1]-1].join(" "))}Be[ze].value="["+Ge.join(" ")+"]"}else Be[ze].value=Be[ze].defaultValue;Be[ze].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var rr,nr=[];for(rr in Be)Be[rr].explicitSet===!0&&(Be[rr].type==="name"?nr.push("/"+rr+" /"+Be[rr].value):nr.push("/"+rr+" "+Be[rr].value));nr.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+nr.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=Be,this},(function(Ve){var $e=function(){var Ue='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',ze=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),qe=unescape(encodeURIComponent(Ue)),He=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),We=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Ge=unescape(encodeURIComponent("</x:xmpmeta>")),Ye=qe.length+He.length+We.length+ze.length+Ge.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Ye+" >>"),this.internal.write("stream"),this.internal.write(ze+qe+He+We+Ge),this.internal.write("endstream"),this.internal.write("endobj")},Be=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Ve.addMetadata=function(Ue,ze){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Ue,namespaceuri:ze||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",Be),this.internal.events.subscribe("postPutResources",$e)),this}})(E.API),(function(Ve){var $e=Ve.API,Be=$e.pdfEscape16=function(qe,He){for(var We,Ge=He.metadata.Unicode.widths,Ye=["","0","00","000","0000"],Xe=[""],Je=0,er=qe.length;Je<er;++Je){if(We=He.metadata.characterToGlyph(qe.charCodeAt(Je)),He.metadata.glyIdsUsed.push(We),He.metadata.toUnicode[We]=qe.charCodeAt(Je),Ge.indexOf(We)==-1&&(Ge.push(We),Ge.push([parseInt(He.metadata.widthOfGlyph(We),10)])),We=="0")return Xe.join("");We=We.toString(16),Xe.push(Ye[4-We.length],We)}return Xe.join("")},Ue=function(qe){var He,We,Ge,Ye,Xe,Je,er;for(Xe=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Ge=[],Je=0,er=(We=Object.keys(qe).sort(function(Ze,rr){return Ze-rr})).length;Je<er;Je++)He=We[Je],Ge.length>=100&&(Xe+=`
`+Ge.length+` beginbfchar
`+Ge.join(`
`)+`
endbfchar`,Ge=[]),qe[He]!==void 0&&qe[He]!==null&&typeof qe[He].toString=="function"&&(Ye=("0000"+qe[He].toString(16)).slice(-4),He=("0000"+(+He).toString(16)).slice(-4),Ge.push("<"+He+"><"+Ye+">"));return Ge.length&&(Xe+=`
`+Ge.length+` beginbfchar
`+Ge.join(`
`)+`
endbfchar
`),Xe+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};$e.events.push(["putFont",function(qe){(function(He){var We=He.font,Ge=He.out,Ye=He.newObject,Xe=He.putStream;if(We.metadata instanceof Ve.API.TTFFont&&We.encoding==="Identity-H"){for(var Je=We.metadata.Unicode.widths,er=We.metadata.subset.encode(We.metadata.glyIdsUsed,1),Ze="",rr=0;rr<er.length;rr++)Ze+=String.fromCharCode(er[rr]);var nr=Ye();Xe({data:Ze,addLength1:!0,objectId:nr}),Ge("endobj");var ar=Ye();Xe({data:Ue(We.metadata.toUnicode),addLength1:!0,objectId:ar}),Ge("endobj");var sr=Ye();Ge("<<"),Ge("/Type /FontDescriptor"),Ge("/FontName /"+j(We.fontName)),Ge("/FontFile2 "+nr+" 0 R"),Ge("/FontBBox "+Ve.API.PDFObject.convert(We.metadata.bbox)),Ge("/Flags "+We.metadata.flags),Ge("/StemV "+We.metadata.stemV),Ge("/ItalicAngle "+We.metadata.italicAngle),Ge("/Ascent "+We.metadata.ascender),Ge("/Descent "+We.metadata.decender),Ge("/CapHeight "+We.metadata.capHeight),Ge(">>"),Ge("endobj");var lr=Ye();Ge("<<"),Ge("/Type /Font"),Ge("/BaseFont /"+j(We.fontName)),Ge("/FontDescriptor "+sr+" 0 R"),Ge("/W "+Ve.API.PDFObject.convert(Je)),Ge("/CIDToGIDMap /Identity"),Ge("/DW 1000"),Ge("/Subtype /CIDFontType2"),Ge("/CIDSystemInfo"),Ge("<<"),Ge("/Supplement 0"),Ge("/Registry (Adobe)"),Ge("/Ordering ("+We.encoding+")"),Ge(">>"),Ge(">>"),Ge("endobj"),We.objectNumber=Ye(),Ge("<<"),Ge("/Type /Font"),Ge("/Subtype /Type0"),Ge("/ToUnicode "+ar+" 0 R"),Ge("/BaseFont /"+j(We.fontName)),Ge("/Encoding /"+We.encoding),Ge("/DescendantFonts ["+lr+" 0 R]"),Ge(">>"),Ge("endobj"),We.isAlreadyPutted=!0}})(qe)}]),$e.events.push(["putFont",function(qe){(function(He){var We=He.font,Ge=He.out,Ye=He.newObject,Xe=He.putStream;if(We.metadata instanceof Ve.API.TTFFont&&We.encoding==="WinAnsiEncoding"){for(var Je=We.metadata.rawData,er="",Ze=0;Ze<Je.length;Ze++)er+=String.fromCharCode(Je[Ze]);var rr=Ye();Xe({data:er,addLength1:!0,objectId:rr}),Ge("endobj");var nr=Ye();Xe({data:Ue(We.metadata.toUnicode),addLength1:!0,objectId:nr}),Ge("endobj");var ar=Ye();Ge("<<"),Ge("/Descent "+We.metadata.decender),Ge("/CapHeight "+We.metadata.capHeight),Ge("/StemV "+We.metadata.stemV),Ge("/Type /FontDescriptor"),Ge("/FontFile2 "+rr+" 0 R"),Ge("/Flags 96"),Ge("/FontBBox "+Ve.API.PDFObject.convert(We.metadata.bbox)),Ge("/FontName /"+j(We.fontName)),Ge("/ItalicAngle "+We.metadata.italicAngle),Ge("/Ascent "+We.metadata.ascender),Ge(">>"),Ge("endobj"),We.objectNumber=Ye();for(var sr=0;sr<We.metadata.hmtx.widths.length;sr++)We.metadata.hmtx.widths[sr]=parseInt(We.metadata.hmtx.widths[sr]*(1e3/We.metadata.head.unitsPerEm));Ge("<</Subtype/TrueType/Type/Font/ToUnicode "+nr+" 0 R/BaseFont/"+j(We.fontName)+"/FontDescriptor "+ar+" 0 R/Encoding/"+We.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Ve.API.PDFObject.convert(We.metadata.hmtx.widths)+">>"),Ge("endobj"),We.isAlreadyPutted=!0}})(qe)}]);var ze=function(qe){var He,We=qe.text||"",Ge=qe.x,Ye=qe.y,Xe=qe.options||{},Je=qe.mutex||{},er=Je.pdfEscape,Ze=Je.activeFontKey,rr=Je.fonts,nr=Ze,ar="",sr=0,lr="",or=rr[nr].encoding;if(rr[nr].encoding!=="Identity-H")return{text:We,x:Ge,y:Ye,options:Xe,mutex:Je};for(lr=We,nr=Ze,Array.isArray(We)&&(lr=We[0]),sr=0;sr<lr.length;sr+=1)rr[nr].metadata.hasOwnProperty("cmap")&&(He=rr[nr].metadata.cmap.unicode.codeMap[lr[sr].charCodeAt(0)]),He||lr[sr].charCodeAt(0)<256&&rr[nr].metadata.hasOwnProperty("Unicode")?ar+=lr[sr]:ar+="";var cr="";return parseInt(nr.slice(1))<14||or==="WinAnsiEncoding"?cr=er(ar,nr).split("").map(function(hr){return hr.charCodeAt(0).toString(16)}).join(""):or==="Identity-H"&&(cr=Be(ar,rr[nr])),Je.isHex=!0,{text:cr,x:Ge,y:Ye,options:Xe,mutex:Je}};$e.events.push(["postProcessText",function(qe){var He=qe.text||"",We=[],Ge={text:He,x:qe.x,y:qe.y,options:qe.options,mutex:qe.mutex};if(Array.isArray(He)){var Ye=0;for(Ye=0;Ye<He.length;Ye+=1)Array.isArray(He[Ye])&&He[Ye].length===3?We.push([ze(Object.assign({},Ge,{text:He[Ye][0]})).text,He[Ye][1],He[Ye][2]]):We.push(ze(Object.assign({},Ge,{text:He[Ye]})).text);qe.text=We}else qe.text=ze(Object.assign({},Ge,{text:He})).text}])})(E),(function(Ve){var $e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Ve.existsFileInVFS=function(Be){return $e.call(this),this.internal.vFS[Be]!==void 0},Ve.addFileToVFS=function(Be,Ue){return $e.call(this),this.internal.vFS[Be]=Ue,this},Ve.getFileFromVFS=function(Be){return $e.call(this),this.internal.vFS[Be]!==void 0?this.internal.vFS[Be]:null}})(E.API),(function(Ve){Ve.__bidiEngine__=Ve.prototype.__bidiEngine__=function(Ue){var ze,qe,He,We,Ge,Ye,Xe,Je=$e,er=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Ze=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],rr={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},nr={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ar=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sr=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),lr=!1,or=0;this.__bidiEngine__={};var cr=function(br){var fr=br.charCodeAt(),Sr=fr>>8,Dr=nr[Sr];return Dr!==void 0?Je[256*Dr+(255&fr)]:Sr===252||Sr===253?"AL":sr.test(Sr)?"L":Sr===8?"R":"N"},hr=function(br){for(var fr,Sr=0;Sr<br.length;Sr++){if((fr=cr(br.charAt(Sr)))==="L")return!1;if(fr==="R")return!0}return!1},yr=function(br,fr,Sr,Dr){var Or,Er,Nr,wr,Ar=fr[Dr];switch(Ar){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":lr=!1;break;case"N":case"AN":break;case"EN":lr&&(Ar="AN");break;case"AL":lr=!0,Ar="R";break;case"WS":case"BN":Ar="N";break;case"CS":Dr<1||Dr+1>=fr.length||(Or=Sr[Dr-1])!=="EN"&&Or!=="AN"||(Er=fr[Dr+1])!=="EN"&&Er!=="AN"?Ar="N":lr&&(Er="AN"),Ar=Er===Or?Er:"N";break;case"ES":Ar=(Or=Dr>0?Sr[Dr-1]:"B")==="EN"&&Dr+1<fr.length&&fr[Dr+1]==="EN"?"EN":"N";break;case"ET":if(Dr>0&&Sr[Dr-1]==="EN"){Ar="EN";break}if(lr){Ar="N";break}for(Nr=Dr+1,wr=fr.length;Nr<wr&&fr[Nr]==="ET";)Nr++;Ar=Nr<wr&&fr[Nr]==="EN"?"EN":"N";break;case"NSM":if(He&&!We){for(wr=fr.length,Nr=Dr+1;Nr<wr&&fr[Nr]==="NSM";)Nr++;if(Nr<wr){var Lr=br[Dr],Pr=Lr>=1425&&Lr<=2303||Lr===64286;if(Or=fr[Nr],Pr&&(Or==="R"||Or==="AL")){Ar="R";break}}}Ar=Dr<1||(Or=fr[Dr-1])==="B"?"N":Sr[Dr-1];break;case"B":lr=!1,ze=!0,Ar=or;break;case"S":qe=!0,Ar="N"}return Ar},mr=function(br,fr,Sr){var Dr=br.split("");return Sr&&vr(Dr,Sr,{hiLevel:or}),Dr.reverse(),fr&&fr.reverse(),Dr.join("")},vr=function(br,fr,Sr){var Dr,Or,Er,Nr,wr,Ar=-1,Lr=br.length,Pr=0,Tr=[],Vr=or?Ze:er,Ur=[];for(lr=!1,ze=!1,qe=!1,Or=0;Or<Lr;Or++)Ur[Or]=cr(br[Or]);for(Er=0;Er<Lr;Er++){if(wr=Pr,Tr[Er]=yr(br,Ur,Tr,Er),Dr=240&(Pr=Vr[wr][rr[Tr[Er]]]),Pr&=15,fr[Er]=Nr=Vr[Pr][5],Dr>0)if(Dr===16){for(Or=Ar;Or<Er;Or++)fr[Or]=1;Ar=-1}else Ar=-1;if(Vr[Pr][6])Ar===-1&&(Ar=Er);else if(Ar>-1){for(Or=Ar;Or<Er;Or++)fr[Or]=Nr;Ar=-1}Ur[Er]==="B"&&(fr[Er]=0),Sr.hiLevel|=Nr}qe&&(function(Yr,Qr,mn){for(var An=0;An<mn;An++)if(Yr[An]==="S"){Qr[An]=or;for(var Zr=An-1;Zr>=0&&Yr[Zr]==="WS";Zr--)Qr[Zr]=or}})(Ur,fr,Lr)},_r=function(br,fr,Sr,Dr,Or){if(!(Or.hiLevel<br)){if(br===1&&or===1&&!ze)return fr.reverse(),void(Sr&&Sr.reverse());for(var Er,Nr,wr,Ar,Lr=fr.length,Pr=0;Pr<Lr;){if(Dr[Pr]>=br){for(wr=Pr+1;wr<Lr&&Dr[wr]>=br;)wr++;for(Ar=Pr,Nr=wr-1;Ar<Nr;Ar++,Nr--)Er=fr[Ar],fr[Ar]=fr[Nr],fr[Nr]=Er,Sr&&(Er=Sr[Ar],Sr[Ar]=Sr[Nr],Sr[Nr]=Er);Pr=wr}Pr++}}},Cr=function(br,fr,Sr){var Dr=br.split(""),Or={hiLevel:or};return Sr||(Sr=[]),vr(Dr,Sr,Or),(function(Er,Nr,wr){if(wr.hiLevel!==0&&Xe)for(var Ar,Lr=0;Lr<Er.length;Lr++)Nr[Lr]===1&&(Ar=ar.indexOf(Er[Lr]))>=0&&(Er[Lr]=ar[Ar+1])})(Dr,Sr,Or),_r(2,Dr,fr,Sr,Or),_r(1,Dr,fr,Sr,Or),Dr.join("")};return this.__bidiEngine__.doBidiReorder=function(br,fr,Sr){if((function(Or,Er){if(Er)for(var Nr=0;Nr<Or.length;Nr++)Er[Nr]=Nr;We===void 0&&(We=hr(Or)),Ye===void 0&&(Ye=hr(Or))})(br,fr),He||!Ge||Ye)if(He&&Ge&&We^Ye)or=We?1:0,br=mr(br,fr,Sr);else if(!He&&Ge&&Ye)or=We?1:0,br=Cr(br,fr,Sr),br=mr(br,fr);else if(!He||We||Ge||Ye){if(He&&!Ge&&We^Ye)br=mr(br,fr),We?(or=0,br=Cr(br,fr,Sr)):(or=1,br=Cr(br,fr,Sr),br=mr(br,fr));else if(He&&We&&!Ge&&Ye)or=1,br=Cr(br,fr,Sr),br=mr(br,fr);else if(!He&&!Ge&&We^Ye){var Dr=Xe;We?(or=1,br=Cr(br,fr,Sr),or=0,Xe=!1,br=Cr(br,fr,Sr),Xe=Dr):(or=0,br=Cr(br,fr,Sr),br=mr(br,fr),or=1,Xe=!1,br=Cr(br,fr,Sr),Xe=Dr,br=mr(br,fr))}}else or=0,br=Cr(br,fr,Sr);else or=We?1:0,br=Cr(br,fr,Sr);return br},this.__bidiEngine__.setOptions=function(br){br&&(He=br.isInputVisual,Ge=br.isOutputVisual,We=br.isInputRtl,Ye=br.isOutputRtl,Xe=br.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Ue),this.__bidiEngine__};var $e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],Be=new Ve.__bidiEngine__({isInputVisual:!0});Ve.API.events.push(["postProcessText",function(Ue){var ze=Ue.text;Ue.x,Ue.y;var qe=Ue.options||{};Ue.mutex,qe.lang;var He=[];if(qe.isInputVisual=typeof qe.isInputVisual!="boolean"||qe.isInputVisual,Be.setOptions(qe),Object.prototype.toString.call(ze)==="[object Array]"){var We=0;for(He=[],We=0;We<ze.length;We+=1)Object.prototype.toString.call(ze[We])==="[object Array]"?He.push([Be.doBidiReorder(ze[We][0]),ze[We][1],ze[We][2]]):He.push([Be.doBidiReorder(ze[We])]);Ue.text=He}else Ue.text=Be.doBidiReorder(ze);Be.setOptions({isInputVisual:!0})}])})(E),E.API.TTFFont=(function(){function Ve($e){var Be;if(this.rawData=$e,Be=this.contents=new fe($e),this.contents.pos=4,Be.readString(4)==="ttcf")throw new Error("TTCF not supported.");Be.pos=0,this.parse(),this.subset=new je(this),this.registerTTF()}return Ve.open=function($e){return new Ve($e)},Ve.prototype.parse=function(){return this.directory=new de(this.contents),this.head=new me(this),this.name=new xe(this),this.cmap=new be(this),this.toUnicode={},this.hhea=new ye(this),this.maxp=new Ae(this),this.hmtx=new Se(this),this.post=new Ne(this),this.os2=new we(this),this.loca=new Ie(this),this.glyf=new Pe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Ve.prototype.registerTTF=function(){var $e,Be,Ue,ze,qe;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var He,We,Ge,Ye;for(Ye=[],He=0,We=(Ge=this.bbox).length;He<We;He++)$e=Ge[He],Ye.push(Math.round($e*this.scaleFactor));return Ye}).call(this),this.stemV=0,this.post.exists?(Ue=255&(ze=this.post.italic_angle),32768&(Be=ze>>16)&&(Be=-(1+(65535^Be))),this.italicAngle=+(Be+"."+Ue)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(qe=this.familyClass)===1||qe===2||qe===3||qe===4||qe===5||qe===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Ve.prototype.characterToGlyph=function($e){var Be;return((Be=this.cmap.unicode)!=null?Be.codeMap[$e]:void 0)||0},Ve.prototype.widthOfGlyph=function($e){var Be;return Be=1e3/this.head.unitsPerEm,this.hmtx.forGlyph($e).advance*Be},Ve.prototype.widthOfString=function($e,Be,Ue){var ze,qe,He,We;for(He=0,qe=0,We=($e=""+$e).length;0<=We?qe<We:qe>We;qe=0<=We?++qe:--qe)ze=$e.charCodeAt(qe),He+=this.widthOfGlyph(this.characterToGlyph(ze))+Ue*(1e3/Be)||0;return He*(Be/1e3)},Ve.prototype.lineHeight=function($e,Be){var Ue;return Be==null&&(Be=!1),Ue=Be?this.lineGap:0,(this.ascender+Ue-this.decender)/1e3*$e},Ve})();var he,fe=(function(){function Ve($e){this.data=$e??[],this.pos=0,this.length=this.data.length}return Ve.prototype.readByte=function(){return this.data[this.pos++]},Ve.prototype.writeByte=function($e){return this.data[this.pos++]=$e},Ve.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Ve.prototype.writeUInt32=function($e){return this.writeByte($e>>>24&255),this.writeByte($e>>16&255),this.writeByte($e>>8&255),this.writeByte(255&$e)},Ve.prototype.readInt32=function(){var $e;return($e=this.readUInt32())>=2147483648?$e-4294967296:$e},Ve.prototype.writeInt32=function($e){return $e<0&&($e+=4294967296),this.writeUInt32($e)},Ve.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Ve.prototype.writeUInt16=function($e){return this.writeByte($e>>8&255),this.writeByte(255&$e)},Ve.prototype.readInt16=function(){var $e;return($e=this.readUInt16())>=32768?$e-65536:$e},Ve.prototype.writeInt16=function($e){return $e<0&&($e+=65536),this.writeUInt16($e)},Ve.prototype.readString=function($e){var Be,Ue;for(Ue=[],Be=0;0<=$e?Be<$e:Be>$e;Be=0<=$e?++Be:--Be)Ue[Be]=String.fromCharCode(this.readByte());return Ue.join("")},Ve.prototype.writeString=function($e){var Be,Ue,ze;for(ze=[],Be=0,Ue=$e.length;0<=Ue?Be<Ue:Be>Ue;Be=0<=Ue?++Be:--Be)ze.push(this.writeByte($e.charCodeAt(Be)));return ze},Ve.prototype.readShort=function(){return this.readInt16()},Ve.prototype.writeShort=function($e){return this.writeInt16($e)},Ve.prototype.readLongLong=function(){var $e,Be,Ue,ze,qe,He,We,Ge;return $e=this.readByte(),Be=this.readByte(),Ue=this.readByte(),ze=this.readByte(),qe=this.readByte(),He=this.readByte(),We=this.readByte(),Ge=this.readByte(),128&$e?-1*(72057594037927940*(255^$e)+281474976710656*(255^Be)+1099511627776*(255^Ue)+4294967296*(255^ze)+16777216*(255^qe)+65536*(255^He)+256*(255^We)+(255^Ge)+1):72057594037927940*$e+281474976710656*Be+1099511627776*Ue+4294967296*ze+16777216*qe+65536*He+256*We+Ge},Ve.prototype.writeLongLong=function($e){var Be,Ue;return Be=Math.floor($e/4294967296),Ue=4294967295&$e,this.writeByte(Be>>24&255),this.writeByte(Be>>16&255),this.writeByte(Be>>8&255),this.writeByte(255&Be),this.writeByte(Ue>>24&255),this.writeByte(Ue>>16&255),this.writeByte(Ue>>8&255),this.writeByte(255&Ue)},Ve.prototype.readInt=function(){return this.readInt32()},Ve.prototype.writeInt=function($e){return this.writeInt32($e)},Ve.prototype.read=function($e){var Be,Ue;for(Be=[],Ue=0;0<=$e?Ue<$e:Ue>$e;Ue=0<=$e?++Ue:--Ue)Be.push(this.readByte());return Be},Ve.prototype.write=function($e){var Be,Ue,ze,qe;for(qe=[],Ue=0,ze=$e.length;Ue<ze;Ue++)Be=$e[Ue],qe.push(this.writeByte(Be));return qe},Ve})(),de=(function(){var Ve;function $e(Be){var Ue,ze,qe;for(this.scalarType=Be.readInt(),this.tableCount=Be.readShort(),this.searchRange=Be.readShort(),this.entrySelector=Be.readShort(),this.rangeShift=Be.readShort(),this.tables={},ze=0,qe=this.tableCount;0<=qe?ze<qe:ze>qe;ze=0<=qe?++ze:--ze)Ue={tag:Be.readString(4),checksum:Be.readInt(),offset:Be.readInt(),length:Be.readInt()},this.tables[Ue.tag]=Ue}return $e.prototype.encode=function(Be){var Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er,Ze,rr,nr;for(nr in Ze=Object.keys(Be).length,Ge=Math.log(2),Je=16*Math.floor(Math.log(Ze)/Ge),He=Math.floor(Je/Ge),Xe=16*Ze-Je,(ze=new fe).writeInt(this.scalarType),ze.writeShort(Ze),ze.writeShort(Je),ze.writeShort(He),ze.writeShort(Xe),qe=16*Ze,Ye=ze.pos+qe,We=null,rr=[],Be)for(er=Be[nr],ze.writeString(nr),ze.writeInt(Ve(er)),ze.writeInt(Ye),ze.writeInt(er.length),rr=rr.concat(er),nr==="head"&&(We=Ye),Ye+=er.length;Ye%4;)rr.push(0),Ye++;return ze.write(rr),Ue=2981146554-Ve(ze.data),ze.pos=We+8,ze.writeUInt32(Ue),ze.data},Ve=function(Be){var Ue,ze,qe,He;for(Be=_e.call(Be);Be.length%4;)Be.push(0);for(qe=new fe(Be),ze=0,Ue=0,He=Be.length;Ue<He;Ue=Ue+=4)ze+=qe.readUInt32();return 4294967295&ze},$e})(),pe={}.hasOwnProperty,ge=function(Ve,$e){for(var Be in $e)pe.call($e,Be)&&(Ve[Be]=$e[Be]);function Ue(){this.constructor=Ve}return Ue.prototype=$e.prototype,Ve.prototype=new Ue,Ve.__super__=$e.prototype,Ve};he=(function(){function Ve($e){var Be;this.file=$e,Be=this.file.directory.tables[this.tag],this.exists=!!Be,Be&&(this.offset=Be.offset,this.length=Be.length,this.parse(this.file.contents))}return Ve.prototype.parse=function(){},Ve.prototype.encode=function(){},Ve.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Ve})();var me=(function(){function Ve(){return Ve.__super__.constructor.apply(this,arguments)}return ge(Ve,he),Ve.prototype.tag="head",Ve.prototype.parse=function($e){return $e.pos=this.offset,this.version=$e.readInt(),this.revision=$e.readInt(),this.checkSumAdjustment=$e.readInt(),this.magicNumber=$e.readInt(),this.flags=$e.readShort(),this.unitsPerEm=$e.readShort(),this.created=$e.readLongLong(),this.modified=$e.readLongLong(),this.xMin=$e.readShort(),this.yMin=$e.readShort(),this.xMax=$e.readShort(),this.yMax=$e.readShort(),this.macStyle=$e.readShort(),this.lowestRecPPEM=$e.readShort(),this.fontDirectionHint=$e.readShort(),this.indexToLocFormat=$e.readShort(),this.glyphDataFormat=$e.readShort()},Ve.prototype.encode=function($e){var Be;return(Be=new fe).writeInt(this.version),Be.writeInt(this.revision),Be.writeInt(this.checkSumAdjustment),Be.writeInt(this.magicNumber),Be.writeShort(this.flags),Be.writeShort(this.unitsPerEm),Be.writeLongLong(this.created),Be.writeLongLong(this.modified),Be.writeShort(this.xMin),Be.writeShort(this.yMin),Be.writeShort(this.xMax),Be.writeShort(this.yMax),Be.writeShort(this.macStyle),Be.writeShort(this.lowestRecPPEM),Be.writeShort(this.fontDirectionHint),Be.writeShort($e),Be.writeShort(this.glyphDataFormat),Be.data},Ve})(),ve=(function(){function Ve($e,Be){var Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er,Ze,rr,nr,ar,sr,lr,or;switch(this.platformID=$e.readUInt16(),this.encodingID=$e.readShort(),this.offset=Be+$e.readInt(),Je=$e.pos,$e.pos=this.offset,this.format=$e.readUInt16(),this.length=$e.readUInt16(),this.language=$e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Ge=0;Ge<256;++Ge)this.codeMap[Ge]=$e.readByte();break;case 4:for(Ze=$e.readUInt16(),er=Ze/2,$e.pos+=6,qe=(function(){var cr,hr;for(hr=[],Ge=cr=0;0<=er?cr<er:cr>er;Ge=0<=er?++cr:--cr)hr.push($e.readUInt16());return hr})(),$e.pos+=2,nr=(function(){var cr,hr;for(hr=[],Ge=cr=0;0<=er?cr<er:cr>er;Ge=0<=er?++cr:--cr)hr.push($e.readUInt16());return hr})(),Ye=(function(){var cr,hr;for(hr=[],Ge=cr=0;0<=er?cr<er:cr>er;Ge=0<=er?++cr:--cr)hr.push($e.readUInt16());return hr})(),Xe=(function(){var cr,hr;for(hr=[],Ge=cr=0;0<=er?cr<er:cr>er;Ge=0<=er?++cr:--cr)hr.push($e.readUInt16());return hr})(),ze=(this.length-$e.pos+this.offset)/2,We=(function(){var cr,hr;for(hr=[],Ge=cr=0;0<=ze?cr<ze:cr>ze;Ge=0<=ze?++cr:--cr)hr.push($e.readUInt16());return hr})(),Ge=sr=0,or=qe.length;sr<or;Ge=++sr)for(ar=qe[Ge],Ue=lr=rr=nr[Ge];rr<=ar?lr<=ar:lr>=ar;Ue=rr<=ar?++lr:--lr)Xe[Ge]===0?He=Ue+Ye[Ge]:(He=We[Xe[Ge]/2+(Ue-rr)-(er-Ge)]||0)!==0&&(He+=Ye[Ge]),this.codeMap[Ue]=65535&He}$e.pos=Je}return Ve.encode=function($e,Be){var Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er,Ze,rr,nr,ar,sr,lr,or,cr,hr,yr,mr,vr,_r,Cr,br,fr,Sr,Dr,Or,Er,Nr,wr,Ar,Lr,Pr,Tr,Vr,Ur,Yr,Qr,mn,An,Zr,bn,jn,gn;switch(Dr=new fe,He=Object.keys($e).sort(function(In,Sn){return In-Sn}),Be){case"macroman":for(nr=0,ar=(function(){var In=[];for(rr=0;rr<256;++rr)In.push(0);return In})(),lr={0:0},qe={},Or=0,Ar=He.length;Or<Ar;Or++)lr[Zr=$e[ze=He[Or]]]==null&&(lr[Zr]=++nr),qe[ze]={old:$e[ze],new:lr[$e[ze]]},ar[ze]=lr[$e[ze]];return Dr.writeUInt16(1),Dr.writeUInt16(0),Dr.writeUInt32(12),Dr.writeUInt16(0),Dr.writeUInt16(262),Dr.writeUInt16(0),Dr.write(ar),{charMap:qe,subtable:Dr.data,maxGlyphID:nr+1};case"unicode":for(fr=[],Je=[],or=0,lr={},Ue={},sr=Ye=null,Er=0,Lr=He.length;Er<Lr;Er++)lr[hr=$e[ze=He[Er]]]==null&&(lr[hr]=++or),Ue[ze]={old:hr,new:lr[hr]},We=lr[hr]-ze,sr!=null&&We===Ye||(sr&&Je.push(sr),fr.push(ze),Ye=We),sr=ze;for(sr&&Je.push(sr),Je.push(65535),fr.push(65535),Cr=2*(_r=fr.length),vr=2*Math.pow(Math.log(_r)/Math.LN2,2),er=Math.log(vr/2)/Math.LN2,mr=2*_r-vr,Ge=[],yr=[],Ze=[],rr=Nr=0,Pr=fr.length;Nr<Pr;rr=++Nr){if(br=fr[rr],Xe=Je[rr],br===65535){Ge.push(0),yr.push(0);break}if(br-(Sr=Ue[br].new)>=32768)for(Ge.push(0),yr.push(2*(Ze.length+_r-rr)),ze=wr=br;br<=Xe?wr<=Xe:wr>=Xe;ze=br<=Xe?++wr:--wr)Ze.push(Ue[ze].new);else Ge.push(Sr-br),yr.push(0)}for(Dr.writeUInt16(3),Dr.writeUInt16(1),Dr.writeUInt32(12),Dr.writeUInt16(4),Dr.writeUInt16(16+8*_r+2*Ze.length),Dr.writeUInt16(0),Dr.writeUInt16(Cr),Dr.writeUInt16(vr),Dr.writeUInt16(er),Dr.writeUInt16(mr),mn=0,Tr=Je.length;mn<Tr;mn++)ze=Je[mn],Dr.writeUInt16(ze);for(Dr.writeUInt16(0),An=0,Vr=fr.length;An<Vr;An++)ze=fr[An],Dr.writeUInt16(ze);for(bn=0,Ur=Ge.length;bn<Ur;bn++)We=Ge[bn],Dr.writeUInt16(We);for(jn=0,Yr=yr.length;jn<Yr;jn++)cr=yr[jn],Dr.writeUInt16(cr);for(gn=0,Qr=Ze.length;gn<Qr;gn++)nr=Ze[gn],Dr.writeUInt16(nr);return{charMap:Ue,subtable:Dr.data,maxGlyphID:or+1}}},Ve})(),be=(function(){function Ve(){return Ve.__super__.constructor.apply(this,arguments)}return ge(Ve,he),Ve.prototype.tag="cmap",Ve.prototype.parse=function($e){var Be,Ue,ze;for($e.pos=this.offset,this.version=$e.readUInt16(),ze=$e.readUInt16(),this.tables=[],this.unicode=null,Ue=0;0<=ze?Ue<ze:Ue>ze;Ue=0<=ze?++Ue:--Ue)Be=new ve($e,this.offset),this.tables.push(Be),Be.isUnicode&&this.unicode==null&&(this.unicode=Be);return!0},Ve.encode=function($e,Be){var Ue,ze;return Be==null&&(Be="macroman"),Ue=ve.encode($e,Be),(ze=new fe).writeUInt16(0),ze.writeUInt16(1),Ue.table=ze.data.concat(Ue.subtable),Ue},Ve})(),ye=(function(){function Ve(){return Ve.__super__.constructor.apply(this,arguments)}return ge(Ve,he),Ve.prototype.tag="hhea",Ve.prototype.parse=function($e){return $e.pos=this.offset,this.version=$e.readInt(),this.ascender=$e.readShort(),this.decender=$e.readShort(),this.lineGap=$e.readShort(),this.advanceWidthMax=$e.readShort(),this.minLeftSideBearing=$e.readShort(),this.minRightSideBearing=$e.readShort(),this.xMaxExtent=$e.readShort(),this.caretSlopeRise=$e.readShort(),this.caretSlopeRun=$e.readShort(),this.caretOffset=$e.readShort(),$e.pos+=8,this.metricDataFormat=$e.readShort(),this.numberOfMetrics=$e.readUInt16()},Ve})(),we=(function(){function Ve(){return Ve.__super__.constructor.apply(this,arguments)}return ge(Ve,he),Ve.prototype.tag="OS/2",Ve.prototype.parse=function($e){if($e.pos=this.offset,this.version=$e.readUInt16(),this.averageCharWidth=$e.readShort(),this.weightClass=$e.readUInt16(),this.widthClass=$e.readUInt16(),this.type=$e.readShort(),this.ySubscriptXSize=$e.readShort(),this.ySubscriptYSize=$e.readShort(),this.ySubscriptXOffset=$e.readShort(),this.ySubscriptYOffset=$e.readShort(),this.ySuperscriptXSize=$e.readShort(),this.ySuperscriptYSize=$e.readShort(),this.ySuperscriptXOffset=$e.readShort(),this.ySuperscriptYOffset=$e.readShort(),this.yStrikeoutSize=$e.readShort(),this.yStrikeoutPosition=$e.readShort(),this.familyClass=$e.readShort(),this.panose=(function(){var Be,Ue;for(Ue=[],Be=0;Be<10;++Be)Ue.push($e.readByte());return Ue})(),this.charRange=(function(){var Be,Ue;for(Ue=[],Be=0;Be<4;++Be)Ue.push($e.readInt());return Ue})(),this.vendorID=$e.readString(4),this.selection=$e.readShort(),this.firstCharIndex=$e.readShort(),this.lastCharIndex=$e.readShort(),this.version>0&&(this.ascent=$e.readShort(),this.descent=$e.readShort(),this.lineGap=$e.readShort(),this.winAscent=$e.readShort(),this.winDescent=$e.readShort(),this.codePageRange=(function(){var Be,Ue;for(Ue=[],Be=0;Be<2;Be=++Be)Ue.push($e.readInt());return Ue})(),this.version>1))return this.xHeight=$e.readShort(),this.capHeight=$e.readShort(),this.defaultChar=$e.readShort(),this.breakChar=$e.readShort(),this.maxContext=$e.readShort()},Ve})(),Ne=(function(){function Ve(){return Ve.__super__.constructor.apply(this,arguments)}return ge(Ve,he),Ve.prototype.tag="post",Ve.prototype.parse=function($e){var Be,Ue,ze;switch($e.pos=this.offset,this.format=$e.readInt(),this.italicAngle=$e.readInt(),this.underlinePosition=$e.readShort(),this.underlineThickness=$e.readShort(),this.isFixedPitch=$e.readInt(),this.minMemType42=$e.readInt(),this.maxMemType42=$e.readInt(),this.minMemType1=$e.readInt(),this.maxMemType1=$e.readInt(),this.format){case 65536:case 196608:break;case 131072:var qe;for(Ue=$e.readUInt16(),this.glyphNameIndex=[],qe=0;0<=Ue?qe<Ue:qe>Ue;qe=0<=Ue?++qe:--qe)this.glyphNameIndex.push($e.readUInt16());for(this.names=[],ze=[];$e.pos<this.offset+this.length;)Be=$e.readByte(),ze.push(this.names.push($e.readString(Be)));return ze;case 151552:return Ue=$e.readUInt16(),this.offsets=$e.read(Ue);case 262144:return this.map=(function(){var He,We,Ge;for(Ge=[],qe=He=0,We=this.file.maxp.numGlyphs;0<=We?He<We:He>We;qe=0<=We?++He:--He)Ge.push($e.readUInt32());return Ge}).call(this)}},Ve})(),Le=function(Ve,$e){this.raw=Ve,this.length=Ve.length,this.platformID=$e.platformID,this.encodingID=$e.encodingID,this.languageID=$e.languageID},xe=(function(){function Ve(){return Ve.__super__.constructor.apply(this,arguments)}return ge(Ve,he),Ve.prototype.tag="name",Ve.prototype.parse=function($e){var Be,Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er;for($e.pos=this.offset,$e.readShort(),Be=$e.readShort(),We=$e.readShort(),Ue=[],qe=0;0<=Be?qe<Be:qe>Be;qe=0<=Be?++qe:--qe)Ue.push({platformID:$e.readShort(),encodingID:$e.readShort(),languageID:$e.readShort(),nameID:$e.readShort(),length:$e.readShort(),offset:this.offset+We+$e.readShort()});for(Ge={},qe=Xe=0,Je=Ue.length;Xe<Je;qe=++Xe)ze=Ue[qe],$e.pos=ze.offset,Ye=$e.readString(ze.length),He=new Le(Ye,ze),Ge[er=ze.nameID]==null&&(Ge[er]=[]),Ge[ze.nameID].push(He);this.strings=Ge,this.copyright=Ge[0],this.fontFamily=Ge[1],this.fontSubfamily=Ge[2],this.uniqueSubfamily=Ge[3],this.fontName=Ge[4],this.version=Ge[5];try{this.postscriptName=Ge[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Ge[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Ge[7],this.manufacturer=Ge[8],this.designer=Ge[9],this.description=Ge[10],this.vendorUrl=Ge[11],this.designerUrl=Ge[12],this.license=Ge[13],this.licenseUrl=Ge[14],this.preferredFamily=Ge[15],this.preferredSubfamily=Ge[17],this.compatibleFull=Ge[18],this.sampleText=Ge[19]},Ve})(),Ae=(function(){function Ve(){return Ve.__super__.constructor.apply(this,arguments)}return ge(Ve,he),Ve.prototype.tag="maxp",Ve.prototype.parse=function($e){return $e.pos=this.offset,this.version=$e.readInt(),this.numGlyphs=$e.readUInt16(),this.maxPoints=$e.readUInt16(),this.maxContours=$e.readUInt16(),this.maxCompositePoints=$e.readUInt16(),this.maxComponentContours=$e.readUInt16(),this.maxZones=$e.readUInt16(),this.maxTwilightPoints=$e.readUInt16(),this.maxStorage=$e.readUInt16(),this.maxFunctionDefs=$e.readUInt16(),this.maxInstructionDefs=$e.readUInt16(),this.maxStackElements=$e.readUInt16(),this.maxSizeOfInstructions=$e.readUInt16(),this.maxComponentElements=$e.readUInt16(),this.maxComponentDepth=$e.readUInt16()},Ve})(),Se=(function(){function Ve(){return Ve.__super__.constructor.apply(this,arguments)}return ge(Ve,he),Ve.prototype.tag="hmtx",Ve.prototype.parse=function($e){var Be,Ue,ze,qe,He,We,Ge;for($e.pos=this.offset,this.metrics=[],Be=0,We=this.file.hhea.numberOfMetrics;0<=We?Be<We:Be>We;Be=0<=We?++Be:--Be)this.metrics.push({advance:$e.readUInt16(),lsb:$e.readInt16()});for(ze=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var Ye,Xe;for(Xe=[],Be=Ye=0;0<=ze?Ye<ze:Ye>ze;Be=0<=ze?++Ye:--Ye)Xe.push($e.readInt16());return Xe})(),this.widths=(function(){var Ye,Xe,Je,er;for(er=[],Ye=0,Xe=(Je=this.metrics).length;Ye<Xe;Ye++)qe=Je[Ye],er.push(qe.advance);return er}).call(this),Ue=this.widths[this.widths.length-1],Ge=[],Be=He=0;0<=ze?He<ze:He>ze;Be=0<=ze?++He:--He)Ge.push(this.widths.push(Ue));return Ge},Ve.prototype.forGlyph=function($e){return $e in this.metrics?this.metrics[$e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[$e-this.metrics.length]}},Ve})(),_e=[].slice,Pe=(function(){function Ve(){return Ve.__super__.constructor.apply(this,arguments)}return ge(Ve,he),Ve.prototype.tag="glyf",Ve.prototype.parse=function(){return this.cache={}},Ve.prototype.glyphFor=function($e){var Be,Ue,ze,qe,He,We,Ge,Ye,Xe,Je;return $e in this.cache?this.cache[$e]:(qe=this.file.loca,Be=this.file.contents,Ue=qe.indexOf($e),(ze=qe.lengthOf($e))===0?this.cache[$e]=null:(Be.pos=this.offset+Ue,He=(We=new fe(Be.read(ze))).readShort(),Ye=We.readShort(),Je=We.readShort(),Ge=We.readShort(),Xe=We.readShort(),this.cache[$e]=He===-1?new Fe(We,Ye,Je,Ge,Xe):new ke(We,He,Ye,Je,Ge,Xe),this.cache[$e]))},Ve.prototype.encode=function($e,Be,Ue){var ze,qe,He,We,Ge;for(He=[],qe=[],We=0,Ge=Be.length;We<Ge;We++)ze=$e[Be[We]],qe.push(He.length),ze&&(He=He.concat(ze.encode(Ue)));return qe.push(He.length),{table:He,offsets:qe}},Ve})(),ke=(function(){function Ve($e,Be,Ue,ze,qe,He){this.raw=$e,this.numberOfContours=Be,this.xMin=Ue,this.yMin=ze,this.xMax=qe,this.yMax=He,this.compound=!1}return Ve.prototype.encode=function(){return this.raw.data},Ve})(),Fe=(function(){function Ve($e,Be,Ue,ze,qe){var He,We;for(this.raw=$e,this.xMin=Be,this.yMin=Ue,this.xMax=ze,this.yMax=qe,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],He=this.raw;We=He.readShort(),this.glyphOffsets.push(He.pos),this.glyphIDs.push(He.readUInt16()),32&We;)He.pos+=1&We?4:2,128&We?He.pos+=8:64&We?He.pos+=4:8&We&&(He.pos+=2)}return Ve.prototype.encode=function(){var $e,Be,Ue;for(Be=new fe(_e.call(this.raw.data)),$e=0,Ue=this.glyphIDs.length;$e<Ue;++$e)Be.pos=this.glyphOffsets[$e];return Be.data},Ve})(),Ie=(function(){function Ve(){return Ve.__super__.constructor.apply(this,arguments)}return ge(Ve,he),Ve.prototype.tag="loca",Ve.prototype.parse=function($e){var Be,Ue;return $e.pos=this.offset,Be=this.file.head.indexToLocFormat,this.offsets=Be===0?(function(){var ze,qe;for(qe=[],Ue=0,ze=this.length;Ue<ze;Ue+=2)qe.push(2*$e.readUInt16());return qe}).call(this):(function(){var ze,qe;for(qe=[],Ue=0,ze=this.length;Ue<ze;Ue+=4)qe.push($e.readUInt32());return qe}).call(this)},Ve.prototype.indexOf=function($e){return this.offsets[$e]},Ve.prototype.lengthOf=function($e){return this.offsets[$e+1]-this.offsets[$e]},Ve.prototype.encode=function($e,Be){for(var Ue=new Uint32Array(this.offsets.length),ze=0,qe=0,He=0;He<Ue.length;++He)if(Ue[He]=ze,qe<Be.length&&Be[qe]==He){++qe,Ue[He]=ze;var We=this.offsets[He],Ge=this.offsets[He+1]-We;Ge>0&&(ze+=Ge)}for(var Ye=new Array(4*Ue.length),Xe=0;Xe<Ue.length;++Xe)Ye[4*Xe+3]=255&Ue[Xe],Ye[4*Xe+2]=(65280&Ue[Xe])>>8,Ye[4*Xe+1]=(16711680&Ue[Xe])>>16,Ye[4*Xe]=(4278190080&Ue[Xe])>>24;return Ye},Ve})(),je=(function(){function Ve($e){this.font=$e,this.subset={},this.unicodes={},this.next=33}return Ve.prototype.generateCmap=function(){var $e,Be,Ue,ze,qe;for(Be in ze=this.font.cmap.tables[0].codeMap,$e={},qe=this.subset)Ue=qe[Be],$e[Be]=ze[Ue];return $e},Ve.prototype.glyphsFor=function($e){var Be,Ue,ze,qe,He,We,Ge;for(ze={},He=0,We=$e.length;He<We;He++)ze[qe=$e[He]]=this.font.glyf.glyphFor(qe);for(qe in Be=[],ze)(Ue=ze[qe])!=null&&Ue.compound&&Be.push.apply(Be,Ue.glyphIDs);if(Be.length>0)for(qe in Ge=this.glyphsFor(Be))Ue=Ge[qe],ze[qe]=Ue;return ze},Ve.prototype.encode=function($e,Be){var Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er,Ze,rr,nr,ar,sr;for(ze in Ue=be.encode(this.generateCmap(),"unicode"),He=this.glyphsFor($e),Ze={0:0},sr=Ue.charMap)Ze[(Ge=sr[ze]).old]=Ge.new;for(rr in er=Ue.maxGlyphID,He)rr in Ze||(Ze[rr]=er++);return Xe=(function(lr){var or,cr;for(or in cr={},lr)cr[lr[or]]=or;return cr})(Ze),Je=Object.keys(Xe).sort(function(lr,or){return lr-or}),nr=(function(){var lr,or,cr;for(cr=[],lr=0,or=Je.length;lr<or;lr++)We=Je[lr],cr.push(Xe[We]);return cr})(),qe=this.font.glyf.encode(He,nr,Ze),Ye=this.font.loca.encode(qe.offsets,nr),ar={cmap:this.font.cmap.raw(),glyf:qe.table,loca:Ye,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(Be)},this.font.os2.exists&&(ar["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ar)},Ve})();E.API.PDFObject=(function(){var Ve;function $e(){}return Ve=function(Be,Ue){return(Array(Ue+1).join("0")+Be).slice(-Ue)},$e.convert=function(Be){var Ue,ze,qe,He;if(Array.isArray(Be))return"["+(function(){var We,Ge,Ye;for(Ye=[],We=0,Ge=Be.length;We<Ge;We++)Ue=Be[We],Ye.push($e.convert(Ue));return Ye})().join(" ")+"]";if(typeof Be=="string")return"/"+Be;if(Be?.isString)return"("+Be+")";if(Be instanceof Date)return"(D:"+Ve(Be.getUTCFullYear(),4)+Ve(Be.getUTCMonth(),2)+Ve(Be.getUTCDate(),2)+Ve(Be.getUTCHours(),2)+Ve(Be.getUTCMinutes(),2)+Ve(Be.getUTCSeconds(),2)+"Z)";if({}.toString.call(Be)==="[object Object]"){for(ze in qe=["<<"],Be)He=Be[ze],qe.push("/"+ze+" "+$e.convert(He));return qe.push(">>"),qe.join(`
`)}return""+Be},$e})();const openReceiptPdf=async Ve=>{console.log("pdfReceipt: open start",Ve);const $e=new E({orientation:"portrait",unit:"mm",format:"a5"}),Be=er=>er*25.4/96,Ue=async er=>{const rr=await(await fetch(er)).arrayBuffer(),nr=new Uint8Array(rr);let ar="";for(let sr=0;sr<nr.length;sr++)ar+=String.fromCharCode(nr[sr]);return btoa(ar)},ze=async()=>{try{console.log("pdfReceipt: font load");const er=await Ue("/fonts/NotoSansBengali-Regular.ttf");$e.addFileToVFS("NotoSansBengali-Regular.ttf",er),$e.addFont("NotoSansBengali-Regular.ttf","NotoSansBengali","normal"),$e.setFont("NotoSansBengali","normal")}catch(er){console.log("pdfReceipt: font load failed",er),$e.setFont("helvetica","normal")}},qe=async(er,Ze=12)=>{try{const rr=new FontFace("NotoSansBengaliInline","url(/fonts/NotoSansBengali-Regular.ttf)");await rr.load(),document.fonts.add(rr),await document.fonts.ready;const nr=4,ar=document.createElement("canvas").getContext("2d");ar.font=`${Ze}px "NotoSansBengaliInline", "Noto Sans Bengali", sans-serif`;const sr=ar.measureText(er),lr=Math.ceil(sr.actualBoundingBoxAscent||Ze*.8),or=Math.ceil(sr.actualBoundingBoxDescent||Ze*.2),cr=Math.ceil(sr.width)+8,hr=lr+or+6,yr=document.createElement("canvas");yr.width=cr*nr,yr.height=hr*nr;const mr=yr.getContext("2d");return mr.imageSmoothingEnabled=!0,mr.imageSmoothingQuality="high",mr.setTransform(nr,0,0,nr,0,0),mr.fillStyle="#000",mr.font=`${Ze}px "NotoSansBengaliInline", "Noto Sans Bengali", sans-serif`,mr.textBaseline="alphabetic",mr.fillText(er,0,lr),{dataUrl:yr.toDataURL("image/png"),wMm:Be(cr),hMm:Be(hr)}}catch(rr){return console.log("pdfReceipt: renderBanglaTextImage failed",rr),null}},He=()=>{const er=new Date,Ze=er.getFullYear(),rr=String(er.getMonth()+1).padStart(2,"0"),nr=String(er.getDate()).padStart(2,"0");let ar=er.getHours();const sr=ar>=12?"PM":"AM";ar=ar%12,ar===0&&(ar=12);const lr=String(ar).padStart(2,"0"),or=String(er.getMinutes()).padStart(2,"0"),cr=`Generated by fulmurigram.site on ${Ze}-${rr}-${nr} at ${lr}:${or} ${sr}`;return console.log("pdfReceipt: footer text",cr),cr},We=async()=>{const er=$e.internal.pageSize.getWidth(),Ze=await qe(" ",14);if(Ze){const rr=er/2-Ze.wMm/2;$e.addImage(Ze.dataUrl,"PNG",rr,18,Ze.wMm,Ze.hMm)}},Ge=async()=>{$e.setDrawColor(220),$e.setFontSize(9);const er=$e.internal.pageSize.getWidth(),Ze=Math.min(120,er-20),rr=(er-Ze)/2,nr=28,ar=[["",Ve.memberName||" "],["",Ve.type||Ve.transactionType||"other"],["",` ${(Ve.amount||0).toLocaleString("bn-BD")}`],[" ",Ve.paymentMethod||"cash"],["/",`${Ve.date?new Date(Ve.date).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"}):""}${Ve.time?`  ${Ve.time}`:""}`],["",Ve.reference||""],["",Ve.processedBy||""]];let sr=nr;for(const[or,cr]of ar){const hr=await qe(String(or),10);hr&&$e.addImage(hr.dataUrl,"PNG",rr+4,sr,hr.wMm,hr.hMm);const yr=await qe(String(cr),11);yr&&$e.addImage(yr.dataUrl,"PNG",rr+38,sr,yr.wMm,yr.hMm);const mr=Math.max(8,(yr?.hMm||8)+2);sr+=mr}const lr=sr-nr;$e.roundedRect(rr,nr-4,Ze,lr+8,2,2)},Ye=()=>{const er=$e.internal.pageSize.getWidth(),Ze=He();$e.setFont("helvetica","bold"),$e.setTextColor(37,99,235),$e.setFontSize(10),$e.text(Ze,er/2,138,{align:"center"})};await ze(),await We(),await Ge(),Ye();const Xe=$e.output("blob"),Je=URL.createObjectURL(Xe);window.open(Je,"_blank"),console.log("pdfReceipt: open done")},downloadReceiptPdf=async Ve=>{console.log("pdfReceipt: download start",Ve);const $e=new E({orientation:"portrait",unit:"mm",format:"a5"}),Be=Je=>Je*25.4/96,Ue=async Je=>{const Ze=await(await fetch(Je)).arrayBuffer(),rr=new Uint8Array(Ze);let nr="";for(let ar=0;ar<rr.length;ar++)nr+=String.fromCharCode(rr[ar]);return btoa(nr)},ze=async()=>{try{console.log("pdfReceipt: font load");const Je=await Ue("/fonts/NotoSansBengali-Regular.ttf");$e.addFileToVFS("NotoSansBengali-Regular.ttf",Je),$e.addFont("NotoSansBengali-Regular.ttf","NotoSansBengali","normal"),$e.setFont("NotoSansBengali","normal")}catch(Je){console.log("pdfReceipt: font load failed",Je),$e.setFont("helvetica","normal")}},qe=async(Je,er=12)=>{try{const Ze=new FontFace("NotoSansBengaliInline","url(/fonts/NotoSansBengali-Regular.ttf)");await Ze.load(),document.fonts.add(Ze),await document.fonts.ready;const rr=4,nr=document.createElement("canvas").getContext("2d");nr.font=`${er}px "NotoSansBengaliInline", "Noto Sans Bengali", sans-serif`;const ar=nr.measureText(Je),sr=Math.ceil(ar.actualBoundingBoxAscent||er*.8),lr=Math.ceil(ar.actualBoundingBoxDescent||er*.2),or=Math.ceil(ar.width)+8,cr=sr+lr+6,hr=document.createElement("canvas");hr.width=or*rr,hr.height=cr*rr;const yr=hr.getContext("2d");return yr.imageSmoothingEnabled=!0,yr.imageSmoothingQuality="high",yr.setTransform(rr,0,0,rr,0,0),yr.fillStyle="#000",yr.font=`${er}px "NotoSansBengaliInline", "Noto Sans Bengali", sans-serif`,yr.textBaseline="alphabetic",yr.fillText(Je,0,sr),{dataUrl:hr.toDataURL("image/png"),wMm:Be(or),hMm:Be(cr)}}catch(Ze){return console.log("pdfReceipt: renderBanglaTextImage failed",Ze),null}},He=()=>{const Je=new Date,er=Je.getFullYear(),Ze=String(Je.getMonth()+1).padStart(2,"0"),rr=String(Je.getDate()).padStart(2,"0");let nr=Je.getHours();const ar=nr>=12?"PM":"AM";nr=nr%12,nr===0&&(nr=12);const sr=String(nr).padStart(2,"0"),lr=String(Je.getMinutes()).padStart(2,"0"),or=`Generated by fulmurigram.site on ${er}-${Ze}-${rr} at ${sr}:${lr} ${ar}`;return console.log("pdfReceipt: footer text",or),or},We=async()=>{const Je=$e.internal.pageSize.getWidth(),er=await qe(" ",14);if(er){const Ze=Je/2-er.wMm/2;$e.addImage(er.dataUrl,"PNG",Ze,18,er.wMm,er.hMm)}},Ge=async()=>{$e.setDrawColor(220),$e.setFontSize(9);const Je=$e.internal.pageSize.getWidth(),er=Math.min(120,Je-20),Ze=(Je-er)/2,rr=28,nr=[["",Ve.memberName||" "],["",Ve.type||Ve.transactionType||"other"],["",` ${(Ve.amount||0).toLocaleString("bn-BD")}`],[" ",Ve.paymentMethod||"cash"],["/",`${Ve.date?new Date(Ve.date).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"}):""}${Ve.time?`  ${Ve.time}`:""}`],["",Ve.reference||""],["",Ve.processedBy||""]];let ar=rr;for(const[lr,or]of nr){$e.setTextColor(100);const cr=await qe(String(lr),10);cr&&$e.addImage(cr.dataUrl,"PNG",Ze+4,ar,cr.wMm,cr.hMm),$e.setTextColor(30);const hr=await qe(String(or),11);hr&&$e.addImage(hr.dataUrl,"PNG",Ze+38,ar,hr.wMm,hr.hMm);const yr=Math.max(8,(hr?.hMm||8)+2);ar+=yr}const sr=ar-rr;$e.roundedRect(Ze,rr-4,er,sr+8,2,2)},Ye=()=>{const Je=$e.internal.pageSize.getWidth(),er=He();$e.setFont("helvetica","bold"),$e.setTextColor(37,99,235),$e.setFontSize(10),$e.text(er,Je/2,138,{align:"center"})};await ze(),await We(),await Ge(),Ye();const Xe=Ve?.transactionId||Ve?.id||"receipt";$e.save(`receipt_${Xe}.pdf`),console.log("pdfReceipt: download done")},DetailItem=({label:Ve,value:$e,statusInfo:Be})=>(console.log("TransactionDetailsCard: render detail",{label:Ve,value:$e}),jsxRuntimeExports.jsxs("div",{className:"detail-item",children:[jsxRuntimeExports.jsx("div",{className:"label",children:Ve}),jsxRuntimeExports.jsx("div",{className:`value ${Be?"status":""}`,style:Be?{backgroundColor:Be.bgColor,color:Be.color}:{},children:$e??"N/A"})]})),TransactionDetailsCard=({transaction:Ve,isVisible:$e,onClose:Be})=>{const Ue=reactExports.useRef(null),[ze,qe]=reactExports.useState(!1);if(reactExports.useEffect(()=>{if(!$e)return;const cr=hr=>{hr.key==="Escape"&&(console.log("TransactionDetailsCard: escape pressed"),Be())};return document.addEventListener("keydown",cr),document.body.style.overflow="hidden",console.log("TransactionDetailsCard: opened",Ve),()=>{document.removeEventListener("keydown",cr),document.body.style.overflow="unset",console.log("TransactionDetailsCard: closed")}},[$e,Be]),!$e||!Ve)return null;const He=cr=>({monthly_deposit:" ",share_purchase:" ",loan_disbursement:" ",loan_repayment:" ",profit_distribution:" ",penalty:"",subscription:" ",loan:"",donation:"",fine:"",share:"",withdrawal:"",other:""})[cr]||"",We=cr=>({cash:"",bank:"",bank_transfer:" ",mobile:" ",mobile_banking:" ",card:"",check:""})[cr]||"",Ge=cr=>({completed:{label:"",color:"#28a745",bgColor:"rgba(40, 167, 69, 0.1)"},pending:{label:"",color:"#ffc107",bgColor:"rgba(255, 193, 7, 0.1)"},failed:{label:"",color:"#dc3545",bgColor:"rgba(220, 53, 69, 0.1)"},processing:{label:"",color:"#17a2b8",bgColor:"rgba(23, 162, 184, 0.1)"}})[cr]||{label:"",color:"#6c757d",bgColor:"rgba(108, 117, 125, 0.1)"},Ye=cr=>{if(!cr)return"N/A";try{return new Date(cr).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"})}catch{return cr}},Xe=(...cr)=>cr.find(hr=>hr!=null&&hr!=="")??null,Je=cr=>{const hr=Xe(cr?.member_name,cr?.memberName,cr?.member?.name,cr?.user_name,cr?.user?.name,cr?.name);return console.log("TransactionDetailsCard: member name resolved",hr),hr??"N/A"},er=cr=>{const hr=Xe(cr?.amount,cr?.value,cr?.total);return console.log("TransactionDetailsCard: amount resolved",hr),hr!=null?`${hr}`:"N/A"},Ze=cr=>{const hr=Xe(cr?.type,cr?.transaction_type,cr?.category);return console.log("TransactionDetailsCard: type raw",hr),He(hr)},rr=cr=>{const hr=Xe(cr?.payment_method,cr?.paymentMethod,cr?.method);return console.log("TransactionDetailsCard: payment method raw",hr),We(hr)},nr=cr=>{const hr=Xe(cr?.date,cr?.created_at,cr?.createdAt,cr?.timestamp);return console.log("TransactionDetailsCard: date raw",hr),Ye(hr)},ar=cr=>{const hr=Xe(cr?.created_at,cr?.createdAt,cr?.timestamp,cr?.date);console.log("TransactionDetailsCard: time raw",hr);try{return new Date(hr).toLocaleTimeString("bn-BD")}catch{return"N/A"}};Ge(Ve.status);const sr=()=>{console.log("TransactionDetailsCard: copy transaction id",Ve?.id),navigator.clipboard.writeText(Ve.id),qe(!0),setTimeout(()=>qe(!1),2e3)},lr=()=>{console.log("TransactionDetailsCard: view receipt requested",Ve),openReceiptPdf(Ve)},or=()=>{console.log("TransactionDetailsCard: download receipt requested",Ve),downloadReceiptPdf(Ve)};return jsxRuntimeExports.jsx("div",{className:"transaction-details-card-overlay",onClick:Be,children:jsxRuntimeExports.jsxs("div",{className:"transaction-details-card",ref:Ue,onClick:cr=>cr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"transaction-details-card-header",children:[jsxRuntimeExports.jsx("h2",{children:" "}),jsxRuntimeExports.jsx("button",{className:"close-button",onClick:()=>{console.log("TransactionDetailsCard: close clicked"),Be()},children:jsxRuntimeExports.jsx(X$1,{size:24})})]}),jsxRuntimeExports.jsxs("div",{className:"transaction-details-card-body",children:[jsxRuntimeExports.jsxs("div",{className:"transaction-details-grid",children:[jsxRuntimeExports.jsx(DetailItem,{label:"",value:Je(Ve)}),jsxRuntimeExports.jsx(DetailItem,{label:"",value:er(Ve)}),jsxRuntimeExports.jsx(DetailItem,{label:"",value:Ze(Ve)}),jsxRuntimeExports.jsx(DetailItem,{label:" ",value:rr(Ve)}),jsxRuntimeExports.jsx(DetailItem,{label:"",value:nr(Ve)}),jsxRuntimeExports.jsx(DetailItem,{label:"",value:ar(Ve)})]}),jsxRuntimeExports.jsx("div",{className:"transaction-id-section",children:jsxRuntimeExports.jsxs("div",{className:"transaction-id-wrapper",children:[jsxRuntimeExports.jsx(Hash,{size:16}),jsxRuntimeExports.jsx("span",{className:"value",children:Ve.id}),jsxRuntimeExports.jsx("button",{className:"copy-button",onClick:sr,children:ze?jsxRuntimeExports.jsx(CircleCheckBig,{size:16,color:"green"}):jsxRuntimeExports.jsx(Copy,{size:16})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"transaction-details-card-footer",children:[jsxRuntimeExports.jsxs("button",{className:"action-button",onClick:lr,children:[jsxRuntimeExports.jsx(Eye,{size:20})," "]}),jsxRuntimeExports.jsxs("button",{className:"action-button",onClick:or,children:[jsxRuntimeExports.jsx(Download,{size:20}),""]})]})]})})};console.log("[demoData] File loaded");const demoMembers=[{id:"demo-member-1",name:" ",email:"rahim@demo.com",role:"member",membershipType:" ",joinDate:new Date("2023-01-15"),shareCount:25,totalInvestment:125e3,phone:"-",address:", ",status:"active"},{id:"demo-member-2",name:" ",email:"karim@demo.com",role:"member",membershipType:" ",joinDate:new Date("2023-02-20"),shareCount:15,totalInvestment:75e3,phone:"-",address:", ",status:"active"},{id:"demo-member-3",name:" ",email:"salma@demo.com",role:"member",membershipType:" ",joinDate:new Date("2023-03-10"),shareCount:50,totalInvestment:25e4,phone:"-",address:", ",status:"active"},{id:"demo-member-4",name:" ",email:"jamal@demo.com",role:"member",membershipType:" ",joinDate:new Date("2023-04-05"),shareCount:10,totalInvestment:5e4,phone:"-",address:", ",status:"active"},{id:"demo-member-5",name:" ",email:"fatema@demo.com",role:"member",membershipType:" ",joinDate:new Date("2023-05-12"),shareCount:20,totalInvestment:1e5,phone:"-",address:", ",status:"active"},{id:"demo-member-6",name:" ",email:"hasan@demo.com",role:"member",membershipType:" ",joinDate:new Date("2023-06-18"),shareCount:40,totalInvestment:2e5,phone:"-",address:", ",status:"active"},{id:"demo-member-7",name:" ",email:"nazma@demo.com",role:"member",membershipType:" ",joinDate:new Date("2023-07-22"),shareCount:12,totalInvestment:6e4,phone:"-",address:", ",status:"active"},{id:"demo-member-8",name:" ",email:"abdul@demo.com",role:"member",membershipType:" ",joinDate:new Date("2023-08-30"),shareCount:18,totalInvestment:9e4,phone:"-",address:", ",status:"active"},{id:"demo-member-9",name:" ",email:"rokeya@demo.com",role:"member",membershipType:" ",joinDate:new Date("2023-09-14"),shareCount:35,totalInvestment:175e3,phone:"-",address:", ",status:"active"},{id:"demo-member-10",name:" ",email:"mostafa@demo.com",role:"member",membershipType:" ",joinDate:new Date("2023-10-08"),shareCount:22,totalInvestment:11e4,phone:"-",address:", ",status:"active"}],demoTransactions=[{id:"demo-txn-1",memberId:"demo-member-1",memberName:" ",type:"deposit",amount:5e3,date:new Date("2025-12-01"),description:" ",status:"completed",category:"savings"},{id:"demo-txn-2",memberId:"demo-member-2",memberName:" ",type:"deposit",amount:3e3,date:new Date("2025-12-02"),description:" ",status:"completed",category:"share"},{id:"demo-txn-3",memberId:"demo-member-3",memberName:" ",type:"investment",amount:2e4,date:new Date("2025-12-05"),description:"  ",status:"completed",category:"investment"},{id:"demo-txn-4",memberId:"demo-member-1",memberName:" ",type:"withdrawal",amount:2e3,date:new Date("2025-12-08"),description:" ",status:"completed",category:"withdrawal"},{id:"demo-txn-5",memberId:"demo-member-4",memberName:" ",type:"deposit",amount:4e3,date:new Date("2025-12-10"),description:" ",status:"completed",category:"savings"},{id:"demo-txn-6",memberId:"demo-member-5",memberName:" ",type:"deposit",amount:6e3,date:new Date("2025-12-12"),description:" ",status:"completed",category:"share"},{id:"demo-txn-7",memberId:"demo-member-6",memberName:" ",type:"investment",amount:15e3,date:new Date("2025-12-15"),description:"  ",status:"completed",category:"investment"},{id:"demo-txn-8",memberId:"demo-member-7",memberName:" ",type:"deposit",amount:3500,date:new Date("2025-12-18"),description:" ",status:"completed",category:"savings"},{id:"demo-txn-9",memberId:"demo-member-8",memberName:" ",type:"deposit",amount:5e3,date:new Date("2025-12-20"),description:" ",status:"completed",category:"share"},{id:"demo-txn-10",memberId:"demo-member-9",memberName:" ",type:"investment",amount:1e4,date:new Date("2025-12-22"),description:"  ",status:"completed",category:"investment"},{id:"demo-txn-11",memberId:"demo-member-10",memberName:" ",type:"deposit",amount:4500,date:new Date("2025-12-24"),description:" ",status:"completed",category:"savings"},{id:"demo-txn-12",memberId:"demo-member-2",memberName:" ",type:"withdrawal",amount:1500,date:new Date("2025-12-26"),description:" ",status:"completed",category:"withdrawal"},{id:"demo-txn-13",memberId:"demo-member-3",memberName:" ",type:"deposit",amount:8e3,date:new Date("2025-12-28"),description:" ",status:"completed",category:"share"},{id:"demo-txn-14",memberId:"demo-member-4",memberName:" ",type:"investment",amount:12e3,date:new Date("2025-12-30"),description:"  ",status:"completed",category:"investment"}];console.log("[useDemoData] File loaded");const AdminDashboard=()=>{const{isDemo:Ve}=useMode(),$e=useNavigate(),[Be,Ue]=reactExports.useState({members:!0,transactions:!0,fundData:!0,initial:!0}),[ze,qe]=reactExports.useState({totalMembers:0,activeMembers:0,totalFunds:0,monthlyDeposits:0,recentTransactions:[],monthlyData:[]}),[He,We]=reactExports.useState("overview"),[Ge,Ye]=reactExports.useState(null),[Xe,Je]=reactExports.useState(!1),[er,Ze]=reactExports.useState({x:0,y:0}),[rr,nr]=reactExports.useState(!1),ar=Dr=>{const Or=["","","","","","","","","","","",""],Er=[],Nr=new Date;for(let wr=5;wr>=0;wr--){const Ar=new Date(Nr.getFullYear(),Nr.getMonth()-wr,1),Lr=Or[Ar.getMonth()],Pr=Dr.filter(Tr=>{if(!Tr.createdAt||Tr.transactionType!=="monthly_deposit")return!1;const Vr=new Date(Tr.createdAt.seconds*1e3);return Vr.getMonth()===Ar.getMonth()&&Vr.getFullYear()===Ar.getFullYear()}).reduce((Tr,Vr)=>Tr+(Vr.amount||0),0);Er.push({month:Lr,deposits:Pr})}return Er},sr=()=>{nr(!1),$e("/admin/members",{state:{openAddMemberModal:!0}})},lr=()=>{nr(!1),$e("/add-transaction")},or=()=>{nr(!rr)};reactExports.useEffect(()=>{const Dr=Or=>{rr&&!Or.target.closest(".md-fab-container")&&nr(!1)};return document.addEventListener("mousedown",Dr),()=>{document.removeEventListener("mousedown",Dr)}},[rr]),reactExports.useEffect(()=>{(async()=>{try{if(Ve()){const Er=demoMembers.filter(Lr=>Lr.status==="active").length,Nr=demoTransactions.filter(Lr=>Lr.type==="deposit").reduce((Lr,Pr)=>Lr+Pr.amount,0),wr=demoTransactions.filter(Lr=>Lr.type==="deposit"&&Lr.category==="monthly").reduce((Lr,Pr)=>Lr+Pr.amount,0),Ar=ar(demoTransactions.map(Lr=>({...Lr,transactionType:Lr.type,createdAt:{seconds:new Date(Lr.date).getTime()/1e3}})));qe({totalMembers:demoMembers.length,activeMembers:Er,totalFunds:Nr,monthlyDeposits:wr,recentTransactions:demoTransactions.slice(0,10),monthlyData:Ar}),Ue({members:!1,transactions:!1,fundData:!1,initial:!1})}else{const[Er,Nr,wr]=await Promise.all([MemberService.getAllMembers().then(Ar=>{if(Ar.success){const Lr=Ar.data,Pr=Lr.filter(Tr=>Tr.status==="active").length;return qe(Tr=>({...Tr,totalMembers:Lr.length,activeMembers:Pr})),Ue(Tr=>({...Tr,members:!1})),Lr}else return console.error("Error loading members:",Ar.error),Ue(Lr=>({...Lr,members:!1})),[]}).catch(Ar=>(console.error("Error loading members:",Ar),Ue(Lr=>({...Lr,members:!1})),[])),FundService.getFundSummary().then(Ar=>{if(Ar.success&&Ar.data){const Lr=Ar.data;return qe(Pr=>({...Pr,totalFunds:Lr.totalAmount||0,monthlyDeposits:Lr.monthlyDeposits||0})),Ue(Pr=>({...Pr,fundData:!1})),Lr}else return console.error("Error loading fund summary:",Ar.error),Ue(Lr=>({...Lr,fundData:!1})),{}}).catch(Ar=>(console.error("Error loading fund summary:",Ar),Ue(Lr=>({...Lr,fundData:!1})),{})),TransactionService.getAllTransactions().then(Ar=>{if(Ar.success){const Lr=Ar.data||[],Pr=Lr.slice(0,10),Tr=ar(Lr);return qe(Vr=>({...Vr,recentTransactions:Pr,monthlyData:Tr})),Ue(Vr=>({...Vr,transactions:!1})),Lr}else return console.error("Error loading transactions:",Ar.error),Ue(Lr=>({...Lr,transactions:!1})),[]}).catch(Ar=>(console.error("Error loading transactions:",Ar),Ue(Lr=>({...Lr,transactions:!1})),[]))])}}catch(Or){console.error("Error loading dashboard data:",Or)}finally{Ue(Or=>({...Or,initial:!1}))}})()},[Ve]);const cr=[{title:" ",value:ze.totalMembers.toString(),change:`+${ze.activeMembers}`,changeType:"increase",icon:Users,color:"bg-blue-500"},{title:" ",value:` ${(ze.totalFunds||0).toLocaleString()}`,change:"+%",changeType:"increase",icon:PiggyBank,color:"bg-green-500"},{title:" ",value:` ${(ze.monthlyDeposits||0).toLocaleString()}`,change:"+%",changeType:"increase",icon:TrendingUp,color:"bg-purple-500"}],hr=(Dr,Or)=>{if(!Dr){console.error("No transaction data provided");return}Ze({x:Or.clientX,y:Or.clientY});const Er={id:Dr.id||"N/A",memberName:Dr.memberName||" ",transactionType:Dr.transactionType||Dr.type||"other",type:Dr.type||Dr.transactionType||"other",amount:Dr.amount||0,date:Dr.date||Dr.createdAt||null,createdAt:Dr.createdAt||null,description:Dr.description||"",transactionId:Dr.transactionId||Dr.id||"N/A",status:Dr.status||"completed",paymentMethod:Dr.paymentMethod||"cash",month:Dr.month,monthName:Dr.monthName||"",reference:Dr.reference,processedBy:Dr.processedBy,...Dr};Ye(Er),Je(!0)},yr=()=>{Je(!1),Ye(null)},mr=ze.monthlyData||[],vr=Dr=>{const Or={monthly_deposit:{label:" ",action:" ",icon:PiggyBank,color:"text-green-600"},share_purchase:{label:" ",action:" ",icon:PiggyBank,color:"text-blue-600"},loan_disbursement:{label:" ",action:" ",icon:DollarSign,color:"text-orange-600"},loan_repayment:{label:" ",action:"  ",icon:PiggyBank,color:"text-green-600"},profit_distribution:{label:" ",action:" ",icon:PiggyBank,color:"text-green-600"},penalty:{label:"",action:" ",icon:DollarSign,color:"text-red-600"},other:{label:"",action:" ",icon:DollarSign,color:"text-gray-600"}};return Or[Dr]||Or.other},[_r,Cr]=reactExports.useState([]),[br,fr]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{try{fr(!0);const Or=Ve();let Er=[];if(Or)Er=demoTransactions.slice(0,10);else{const Nr=await TransactionService.getRecentTransactions(10);Nr.success&&Nr.data&&(Er=Nr.data)}if(Er.length>0){const Nr=Er.map((wr,Ar)=>{const Lr=vr(wr.transactionType||wr.type),Pr=Tr=>{const Vr=Or?new Date(Tr.date):Tr.createdAt?.toDate?Tr.createdAt.toDate():new Date(Tr.createdAt.seconds*1e3),Yr=Math.abs(new Date-Vr),Qr=Math.floor(Yr/(1e3*60*60)),mn=Math.floor(Yr/(1e3*60*60*24));return Qr<1?"":Qr<24?`${Qr}  `:mn===1?"":mn<=7?`${mn}  `:mn<=30?`${Math.floor(mn/7)}  `:" "};return{id:wr.id||Ar,type:wr.transactionType||wr.type,message:`${wr.memberName||""} ${(wr.amount||0).toLocaleString()}  ${Lr.action}`,time:Pr(wr),icon:Lr.icon,color:Lr.color,originalTransaction:Or?{...wr,transactionType:wr.type,createdAt:new Date(wr.date)}:wr}});Cr(Nr)}else Cr([])}catch(Or){console.error("Error fetching recent activities:",Or),Cr([])}finally{fr(!1)}})()},[Ve]);const Sr=({className:Dr="",height:Or="h-4"})=>jsxRuntimeExports.jsx("div",{className:`animate-pulse bg-gray-200 rounded ${Or} ${Dr}`});return jsxRuntimeExports.jsxs("div",{className:"admin-dashboard-mobile",children:[jsxRuntimeExports.jsx("div",{className:"md-surface-container",children:jsxRuntimeExports.jsxs("div",{className:"md-dashboard-content",children:[jsxRuntimeExports.jsx("div",{className:"md-stats-grid",children:cr.map((Dr,Or)=>jsxRuntimeExports.jsx("div",{className:"md-card md-stats-card",style:{animationDelay:`${Or*100}ms`},children:jsxRuntimeExports.jsxs("div",{className:"md-card-content",children:[jsxRuntimeExports.jsx("div",{className:"md-stats-icon-container",children:jsxRuntimeExports.jsx("div",{className:`md-stats-icon ${Dr.color}`,children:jsxRuntimeExports.jsx(Dr.icon,{className:"h-6 w-6 text-white"})})}),jsxRuntimeExports.jsxs("div",{className:"md-stats-content",children:[jsxRuntimeExports.jsx("h3",{className:"md-title-large",children:Or===0&&Be.members||Or===1&&Be.fundData||Or===2&&Be.fundData||Or===3&&Be.fundData?jsxRuntimeExports.jsx(Sr,{className:"w-16 h-6"}):Dr.value}),jsxRuntimeExports.jsx("p",{className:"md-body-medium",children:Dr.title}),jsxRuntimeExports.jsxs("div",{className:`md-stats-change ${Dr.changeType==="increase"?"positive":"negative"}`,children:[Dr.changeType==="increase"?jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ArrowDownRight,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"md-label-medium",children:Or===0&&Be.members||Or===1&&Be.fundData||Or===2&&Be.fundData||Or===3&&Be.fundData?jsxRuntimeExports.jsx(Sr,{className:"w-8"}):Dr.change})]})]})]})},Or))}),jsxRuntimeExports.jsx("div",{className:"md-tab-container",children:jsxRuntimeExports.jsxs("div",{className:"md-tab-bar",children:[jsxRuntimeExports.jsxs("button",{className:`md-tab ${He==="overview"?"active":""}`,onClick:()=>We("overview"),children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"md-label-medium",children:""})]}),jsxRuntimeExports.jsxs("button",{className:`md-tab ${He==="activities"?"active":""}`,onClick:()=>We("activities"),children:[jsxRuntimeExports.jsx(Bell,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"md-label-medium",children:""})]})]})}),jsxRuntimeExports.jsxs("div",{className:"md-tab-content",children:[He==="overview"&&jsxRuntimeExports.jsx("div",{className:"md-overview-content",children:jsxRuntimeExports.jsx("div",{className:"md-charts-container",children:jsxRuntimeExports.jsxs("div",{className:"md-card md-chart-card",children:[jsxRuntimeExports.jsxs("div",{className:"md-card-header",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"md-title-medium",children:" "}),jsxRuntimeExports.jsx("p",{className:"md-body-small",children:"   "})]}),jsxRuntimeExports.jsx("button",{className:"md-text-button",children:jsxRuntimeExports.jsx("span",{className:"md-label-large",children:""})})]}),jsxRuntimeExports.jsx("div",{className:"md-chart-container",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:250,children:jsxRuntimeExports.jsxs(BarChart,{data:mr,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month",tick:{fontSize:12}}),jsxRuntimeExports.jsx(YAxis,{tick:{fontSize:12}}),jsxRuntimeExports.jsx(Tooltip,{formatter:Dr=>` ${Dr.toLocaleString()}`,contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"deposits",fill:"#6366f1",name:" ",radius:[4,4,0,0]})]})})})]})})}),He==="activities"&&jsxRuntimeExports.jsx("div",{className:"md-activities-content",children:jsxRuntimeExports.jsxs("div",{className:"md-card md-activities-card",children:[jsxRuntimeExports.jsxs("div",{className:"md-card-header",children:[jsxRuntimeExports.jsxs("div",{className:"md-card-header-content",children:[jsxRuntimeExports.jsx("h3",{className:"md-title-medium",children:" "}),jsxRuntimeExports.jsx("p",{className:"md-body-small text-gray-600",children:"   "})]}),jsxRuntimeExports.jsxs("button",{className:"md-text-button md-button-primary",onClick:()=>$e("/transactions"),children:[jsxRuntimeExports.jsx("span",{className:"md-label-large",children:" "}),jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-4 w-4 ml-1"})]})]}),br?jsxRuntimeExports.jsx("div",{className:"md-activities-loading",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-8",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-600",children:"  ..."})]})}):_r.length===0?jsxRuntimeExports.jsx("div",{className:"md-activities-empty",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[jsxRuntimeExports.jsx(Bell,{className:"h-12 w-12 text-gray-400 mb-4"}),jsxRuntimeExports.jsx("h4",{className:"md-title-small text-gray-600 mb-2",children:"  "}),jsxRuntimeExports.jsx("p",{className:"md-body-small text-gray-500",children:"     "})]})}):jsxRuntimeExports.jsx("div",{className:"md-list md-activities-list",children:_r.map((Dr,Or)=>jsxRuntimeExports.jsxs("div",{className:"md-list-item md-activity-item",style:{animationDelay:`${Or*100}ms`,cursor:"pointer"},onClick:Er=>hr(Dr.originalTransaction,Er),children:[jsxRuntimeExports.jsx("div",{className:"md-list-item-leading",children:jsxRuntimeExports.jsx("div",{className:`md-list-icon md-activity-icon ${Dr.color}`,children:jsxRuntimeExports.jsx(Dr.icon,{className:"h-5 w-5"})})}),jsxRuntimeExports.jsxs("div",{className:"md-list-item-content",children:[jsxRuntimeExports.jsx("div",{className:"md-list-item-headline md-activity-message",children:Dr.message}),jsxRuntimeExports.jsxs("div",{className:"md-list-item-supporting-text",children:[jsxRuntimeExports.jsx("span",{className:"md-badge md-badge-time",children:Dr.time}),Dr.originalTransaction?.amount>0&&jsxRuntimeExports.jsxs("span",{className:"md-badge md-badge-amount",children:["",Dr.originalTransaction.amount.toLocaleString()]})]})]}),jsxRuntimeExports.jsx("div",{className:"md-list-item-trailing",children:jsxRuntimeExports.jsx("button",{className:"md-icon-button-small md-activity-menu",children:jsxRuntimeExports.jsx(EllipsisVertical,{className:"h-4 w-4"})})})]},Dr.id))})]})})]})]})}),jsxRuntimeExports.jsxs("div",{className:"md-fab-container",children:[rr&&jsxRuntimeExports.jsxs("div",{className:"md-fab-menu",children:[jsxRuntimeExports.jsxs("button",{className:"md-fab md-fab-secondary",onClick:sr,title:"   ",children:[jsxRuntimeExports.jsx(UserPlus,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"md-fab-label",children:" "})]}),jsxRuntimeExports.jsxs("button",{className:"md-fab md-fab-secondary",onClick:lr,title:"   ",children:[jsxRuntimeExports.jsx(Receipt,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{className:"md-fab-label",children:" "})]})]}),jsxRuntimeExports.jsx("button",{className:`md-fab md-fab-primary ${rr?"rotated":""}`,onClick:or,title:"  ",children:jsxRuntimeExports.jsx(Plus,{className:"h-6 w-6"})})]}),jsxRuntimeExports.jsx(TransactionDetailsCard,{transaction:Ge,isVisible:Xe,onClose:yr,position:er})]})},banglaToEnglishMap={:"a",:"a",:"i",:"i",:"u",:"u",:"ri",:"e",:"ai",:"o",:"au",:"k",:"kh",:"g",:"gh",:"ng",:"ch",:"chh",:"j",:"jh",:"ny",:"t",:"th",:"d",:"dh",:"n",:"t",:"th",:"d",:"dh",:"n",:"p",:"ph",:"b",:"bh",:"m",:"y",:"r",:"l",:"sh",:"sh",:"s",:"h",:"r",:"rh",:"y","":"t","":"ng","":"h","":"n","":"a","":"i","":"i","":"u","":"u","":"ri","":"e","":"ai","":"o","":"au","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"ksh",:"gy",:"nch",:"nj",:"tr",:"dr",:"nt",:"nd",:"mp",:"mb",:"lp",:"shch",:"st",:"sp",:"hm",:"hn"},transliterateBanglaToEnglish=Ve=>{if(!Ve||typeof Ve!="string")return"";let $e="",Be=0;for(;Be<Ve.length;){let Ue=!1;for(let ze=3;ze>=1;ze--)if(Be+ze<=Ve.length){const qe=Ve.substring(Be,Be+ze);if(banglaToEnglishMap[qe]){$e+=banglaToEnglishMap[qe],Be+=ze,Ue=!0;break}}if(!Ue){const ze=Ve[Be];/[a-zA-Z0-9\s]/.test(ze)&&($e+=ze.toLowerCase()),Be++}}return $e},generateEmailSafeName=Ve=>{if(!Ve||typeof Ve!="string")return"user";let $e=transliterateBanglaToEnglish(Ve.trim());return $e||($e="user"),$e=$e.replace(/[^a-zA-Z0-9]/g,""),$e||($e="user"),($e.split(/\s+/)[0]||$e).substring(0,15).toLowerCase()},generateStrongPassword=(Ve,$e=12)=>{const Be="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Ue="abcdefghijklmnopqrstuvwxyz",ze="0123456789",qe="!@#$%&*",He=Math.min(Ve.length,6);let We=Ve.substring(0,He);We+=Be[Math.floor(Math.random()*Be.length)],We+=ze[Math.floor(Math.random()*ze.length)],We+=qe[Math.floor(Math.random()*qe.length)];const Ge=Be+Ue+ze+qe,Ye=$e-We.length;for(let Xe=0;Xe<Ye;Xe++)We+=Ge[Math.floor(Math.random()*Ge.length)];return We},generateEmailCredentials=Ve=>{const $e=Math.floor(Math.random()*900)+100,Be=generateEmailSafeName(Ve),Ue=generateStrongPassword(Be,12);return{email:`${Be}${$e}@fulmurigram.com`,password:Ue}},MemberList=()=>{const{user:Ve}=useAuth(),{isDemo:$e}=useMode(),Be=useLocation(),[Ue,ze]=reactExports.useState([]),[qe,He]=reactExports.useState([]),[We,Ge]=reactExports.useState(""),[Ye,Xe]=reactExports.useState("all"),[Je,er]=reactExports.useState(!0),[Ze,rr]=reactExports.useState(null),[nr,ar]=reactExports.useState(!1),[sr,lr]=reactExports.useState(!1),[or,cr]=reactExports.useState({name:"",phone:"",address:"",shareCount:"",nomineeName:"",nomineePhone:"",nomineeRelation:"",joiningDate:new Date().toISOString().split("T")[0],role:"member"}),[hr,yr]=reactExports.useState({}),[mr,vr]=reactExports.useState(!1),[_r,Cr]=reactExports.useState(!1),[br,fr]=reactExports.useState(null),[Sr,Dr]=reactExports.useState(!1),[Or,Er]=reactExports.useState(!1),[Nr,wr]=reactExports.useState(null),[Ar,Lr]=reactExports.useState(!1),[Pr,Tr]=reactExports.useState(null),Vr=reactExports.useRef(null),Ur=reactExports.useRef(null),Yr=reactExports.useRef(0),[Qr,mn]=reactExports.useState(!1),An=(xn,ei=128)=>{const ui=(String(xn||"").trim().split(/\s+/).filter(Boolean).slice(0,2).map(as=>as[0]||"").join("")||"M").toUpperCase(),oi="#e2e8f0",yi=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="${ei}" height="${ei}" viewBox="0 0 ${ei} ${ei}">
  <defs>
    <clipPath id="clip">
      <circle cx="${ei/2}" cy="${ei/2}" r="${ei/2}" />
    </clipPath>
  </defs>
  <rect width="${ei}" height="${ei}" fill="${oi}"/>
  <g clip-path="url(#clip)">
    <rect width="${ei}" height="${ei}" fill="${oi}"/>
  </g>
  <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="${Math.round(ei*.4)}" font-weight="700" fill="#1e293b">${ui}</text>
</svg>`;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(yi)},Zr=xn=>{console.log("MemberList: member clicked",{id:xn.id,email:xn.email,password:xn.password}),fr(xn),Dr(!0),Er(!1),wr({name:xn.name||"",phone:xn.phone||"",address:xn.address||"",shareCount:String(xn.shareCount||""),joiningDate:xn.joiningDate||xn.joinDate||xn.createdAt?new Date(xn.joiningDate||xn.joinDate||xn.createdAt?.toDate?.()||xn.createdAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],nomineeName:xn.nomineeName||"",nomineePhone:xn.nomineePhone||"",nomineeRelation:xn.nomineeRelation||"",role:xn.role||"member",status:xn.status||"active"}),Lr(!1)},bn=()=>{Dr(!1),fr(null),Er(!1),wr(null),Lr(!1),mn(!1)},jn=(xn,ei)=>{console.log("MemberList: edit field change",{field:xn,value:ei}),wr(ni=>({...ni,[xn]:ei}))},gn=()=>{const xn={};return Nr?.name?.trim()||(xn.name=" "),String(Nr?.shareCount||"").trim()?(isNaN(Nr.shareCount)||Number(Nr.shareCount)<=0)&&(xn.shareCount="   "):xn.shareCount="  ",(Nr?.phone||"").trim()&&!/^01[3-9]\d{8}$/.test(Nr.phone)&&(xn.phone="    (01XXXXXXXXX)"),(Nr?.nomineePhone||"").trim()&&!/^01[3-9]\d{8}$/.test(Nr.nomineePhone)&&(xn.nomineePhone="    "),xn},In=async()=>{try{console.log("MemberList: handleSaveMember called",Nr);const xn=gn();if(Object.keys(xn).length>0){console.log("MemberList: edit validation errors",xn),rr("   ");return}const ei={name:Nr.name,phone:Nr.phone,address:Nr.address,shareCount:Number(Nr.shareCount),joiningDate:Nr.joiningDate,nomineeName:Nr.nomineeName,nomineePhone:Nr.nomineePhone,nomineeRelation:Nr.nomineeRelation,role:Nr.role,status:Nr.status};console.log("MemberList: updating member",{id:br.id,updateData:ei});const ni=await MemberService.updateMember(br.id,ei);ni.success?(console.log("MemberList: member updated successfully"),Er(!1),await Un(),fr(ui=>({...ui,...ei})),console.log("MemberList: toast success -  "),n.success("   "),rr(null)):(console.log("MemberList: member update failed",ni.error),rr(ni.error||"   "))}catch(xn){console.log("MemberList: member update exception",xn),rr("   ")}},Sn=async()=>{try{console.log("MemberList: handleDeleteMember called",{id:br.id});const xn=await MemberService.deleteMember(br.id);xn.success?(console.log("MemberList: member deleted successfully"),Dr(!1),Er(!1),fr(null),Lr(!1),await Un(),console.log("MemberList: toast success -   "),n.success("    "),rr(null)):(console.log("MemberList: member delete failed",xn.error),rr(xn.error||"  "))}catch(xn){console.log("MemberList: member delete exception",xn),rr("  ")}},Gr=async(xn,ei)=>{try{await navigator.clipboard.writeText(xn),Tr(ei),setTimeout(()=>Tr(null),2e3)}catch(ni){console.error("Failed to copy text: ",ni);try{const ui=document.createElement("textarea");ui.value=xn,document.body.appendChild(ui),ui.select(),document.execCommand("copy"),document.body.removeChild(ui),Tr(ei),setTimeout(()=>Tr(null),2e3)}catch(ui){console.error("Fallback copy also failed:",ui)}}},Un=async()=>{try{if(er(!0),rr(null),$e()){console.log("[MemberList] Using demo members");const ei=demoMembers.map((ni,ui)=>({...ni,somiti_user_id:ui+1}));ze(ei),He(ei),er(!1);return}const xn=await MemberService.getActiveMembers();if(xn.success){const ei=[...xn.data].sort((ui,oi)=>{const fi=ui.createdAt?.toDate?.()||new Date(ui.createdAt)||new Date(0),yi=oi.createdAt?.toDate?.()||new Date(oi.createdAt)||new Date(0);return fi.getTime()!==yi.getTime()?fi-yi:(ui.id||"").localeCompare(oi.id||"")});console.log("MemberList: somiti_user_id assigned by createdAt ascending order");const ni=ei.map((ui,oi)=>({...ui,somiti_user_id:oi+1}));console.log("MemberList: somiti_user_id preview",ni.slice(0,5).map(ui=>({id:ui.id,somiti_user_id:ui.somiti_user_id}))),ze(ni),He(ni)}else rr(xn.error),console.error("    :",xn.error)}catch(xn){rr("     "),console.error("    :",xn)}finally{er(!1)}};reactExports.useEffect(()=>{Un()},[]),reactExports.useEffect(()=>{console.log("MemberList: name line-height fix applied (1.4)")},[]);const di=Ue.map(xn=>({id:xn.id,src:xn.photoURL||xn.avatar||An(xn.name),alt:xn.name||xn.membershipId||"Member",title:xn.name,description:xn.membershipId?`ID: ${xn.membershipId}`:void 0}));reactExports.useEffect(()=>{console.log("MemberList: sphere images prepared",{count:di.length})},[di.length]),reactExports.useEffect(()=>{console.log("MemberList: thinner card layout applied")},[]),reactExports.useEffect(()=>{console.log("MemberList: serial badge smaller; avatar/content raised (-10px / -3px)")},[]),reactExports.useEffect(()=>{const xn=Vr.current,ei=Ur.current;if(!xn||!ei){console.log("MemberList: scroll container or sphere not ready");return}let ni=null,ui=0;const oi=320,fi=mi=>{const as=Math.max(0,Math.min(1,mi/oi));Yr.current=as,ei.style.opacity=String(1-as),ei.style.transform=`translate3d(0, -${as*40}px, 0)`;const Ui=as>=.9?"none":"auto";ei.style.pointerEvents!==Ui&&(ei.style.pointerEvents=Ui,console.log("MemberList: sphere pointer-events toggled",{progress:as,pointerEvents:Ui}))},yi=()=>{const mi=xn.scrollTop||0;ni==null&&(ni=requestAnimationFrame(()=>{ni=null,fi(mi)})),Math.abs(mi-ui)>=300&&(ui=mi,console.log("MemberList: rAF scroll progress",{top:mi,p:Math.max(0,Math.min(1,mi/oi))}))};return xn.addEventListener("scroll",yi,{passive:!0}),console.log("MemberList: rAF scroll listener attached"),()=>{xn.removeEventListener("scroll",yi),ni&&cancelAnimationFrame(ni),console.log("MemberList: rAF scroll listener detached")}},[]),reactExports.useEffect(()=>{console.log("MemberList navigation state:",Be.state),Be.state?.openAddMemberModal&&(console.log("Opening add member modal from navigation"),ar(!0))},[Be.state]);const ii=(xn,ei)=>{cr(ni=>({...ni,[xn]:ei})),hr[xn]&&yr(ni=>({...ni,[xn]:""}))},Vn=()=>{const xn={};return or.name.trim()||(xn.name=" "),or.shareCount.trim()?(isNaN(or.shareCount)||Number(or.shareCount)<=0)&&(xn.shareCount="   "):xn.shareCount="  ",xn},zn=async xn=>{xn.preventDefault();const ei=Vn();if(Object.keys(ei).length>0){yr(ei);return}try{lr(!0);const ni=generateEmailCredentials(or.name);console.log("Generated credentials:",ni),console.log("MemberList: duplicate check input",{email:ni.email,phone:or.phone,name:or.name});const ui=await MemberService.isDuplicateMember({phone:or.phone,email:ni.email,name:or.name});if(console.log("MemberList: duplicate check result",ui),ui?.exists){rr(`    (${ui.by})`);return}const oi=await registerUser(ni.email,ni.password);if(!oi.success)throw new Error(oi.message||"Backend registration failed");const{user_id:fi}=oi;console.log(" Backend registration successful, user_id:",fi);const yi={name:or.name,phone:or.phone,address:or.address,shareCount:or.shareCount,nomineeName:or.nomineeName,nomineePhone:or.nomineePhone,nomineeRelation:or.nomineeRelation,joiningDate:or.joiningDate,role:or.role||"member",email:ni.email,password:ni.password,user_id:fi,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},mi=await MemberService.addMember(yi,fi);mi&&mi.success?(Cr(!0),console.log("MemberList: toast success -  "),n.success(`${yi.name}     `),await Un(),console.log("MemberList: auto-closing add member modal after success"),ar(!1),console.log("MemberList: plaintext password not stored; email saved for credentials"),cr({name:"",phone:"",address:"",shareCount:"",nomineeName:"",nomineePhone:"",nomineeRelation:"",joiningDate:new Date().toISOString().split("T")[0],role:"member"}),yr({})):(console.error("   :",mi?.error),Cr(!1),rr("    "))}catch(ni){console.error("   :",ni),rr(ni.message||"    ")}finally{lr(!1)}},Qn=()=>{ar(!1),yr({})};reactExports.useEffect(()=>{let xn=Ue;We&&(xn=xn.filter(ei=>ei.name.toLowerCase().includes(We.toLowerCase())||ei.phone.includes(We))),Ye!=="all"&&(xn=xn.filter(ei=>ei.role===Ye)),He(xn)},[We,Ye,Ue]);const Yn=xn=>{switch(xn){case"admin":return{label:"",color:"bg-red-100 text-red-800",icon:Crown};case"cashier":return{label:"",color:"bg-blue-100 text-blue-800",icon:DollarSign};case"member":return{label:"",color:"bg-green-100 text-green-800",icon:User};default:return{label:"",color:"bg-gray-100 text-gray-800",icon:User}}},vi=xn=>xn.split(" ").map(ei=>ei[0]).join("").toUpperCase();return Ze?jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md w-full text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-red-600 mb-4",children:jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-red-600 mb-4",children:Ze}),jsxRuntimeExports.jsx("button",{onClick:Un,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"  "})]})}):jsxRuntimeExports.jsxs("div",{className:"member-list-container",children:[jsxRuntimeExports.jsxs("div",{className:"member-scroll-container",ref:Vr,children:[jsxRuntimeExports.jsx("div",{className:"img-sphere-page-wrapper",ref:Ur,children:jsxRuntimeExports.jsx(SphereImageGrid,{images:di,containerSize:420,sphereRadius:180,autoRotate:!0,disableSpotlight:!0,onImageClick:xn=>{console.log("MemberList: sphere image clicked",xn);const ei=Ue.find(ni=>ni.id===xn.id);ei?(mn(!0),Zr(ei)):console.log("MemberList: clicked image not mapped to member")}})}),jsxRuntimeExports.jsx("div",{className:"member-list-header",children:jsxRuntimeExports.jsx("div",{className:"member-list-header-content",children:(Ve?.role==="admin"||Ve?.role==="cashier")&&jsxRuntimeExports.jsxs("button",{className:"add-member-btn",onClick:()=>ar(!0),children:[jsxRuntimeExports.jsx(UserPlus,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"   "})]})})}),jsxRuntimeExports.jsx("div",{className:"member-cards-container",id:"member-cards",role:"list",children:Je?(console.log("MemberList: skeleton cards match actual card size"),jsxRuntimeExports.jsx("div",{className:"member-list-loading",role:"status","aria-live":"polite",children:Array.from({length:6}).map((xn,ei)=>jsxRuntimeExports.jsxs("div",{className:"member-card member-card-minimal skeleton",role:"listitem","aria-hidden":"true",style:{padding:"6px"},children:[jsxRuntimeExports.jsx("div",{className:"member-serial-number sk-line",style:{minWidth:"24px"}}),jsxRuntimeExports.jsx("div",{className:"sk-avatar"}),jsxRuntimeExports.jsxs("div",{className:"member-info",children:[jsxRuntimeExports.jsx("h3",{className:"member-name",children:jsxRuntimeExports.jsx("div",{className:"sk-line",style:{width:"65%"}})}),jsxRuntimeExports.jsxs("div",{className:"member-address",children:[jsxRuntimeExports.jsx("div",{className:"sk-icon"}),jsxRuntimeExports.jsx("div",{className:"sk-line",style:{width:"80%"}})]}),jsxRuntimeExports.jsxs("div",{className:"member-details-row",children:[jsxRuntimeExports.jsx("div",{className:"sk-pill",style:{width:"110px"}}),jsxRuntimeExports.jsx("span",{className:"sk-pill",style:{width:"80px"}})]}),jsxRuntimeExports.jsxs("div",{className:"member-meta-row",children:[jsxRuntimeExports.jsx("div",{className:"sk-icon"}),jsxRuntimeExports.jsx("div",{className:"sk-line",style:{width:"40%"}})]})]})]},ei))})):qe.map((xn,ei)=>{const ni=Yn(xn.role),ui=ni.icon,oi=xn.somiti_user_id,fi=(()=>{const yi=xn.joiningDate||xn.joinDate||xn.createdAt?.toDate?.()?.toISOString()?.split("T")[0]||xn.createdAt;try{return yi?new Date(yi).toLocaleDateString("bn-BD"):""}catch(mi){return console.log("MemberList: joinDate in list formatting failed",mi),""}})();return jsxRuntimeExports.jsxs("div",{className:`member-card member-card-minimal ${xn.role}`,role:"listitem",tabIndex:0,onClick:()=>{mn(!1),Zr(xn)},style:{padding:"4px"},children:[jsxRuntimeExports.jsxs("div",{className:"member-card-header-row",style:{gap:"3px"},children:[jsxRuntimeExports.jsxs("div",{className:"member-serial-badge",children:["#",oi]}),jsxRuntimeExports.jsxs("span",{className:`member-role-badge ${xn.role}`,children:[jsxRuntimeExports.jsx(ui,{className:"w-3 h-3"}),ni.label]})]}),jsxRuntimeExports.jsxs("div",{className:"member-card-content",style:{gap:"4px",alignItems:"center"},children:[xn.photoURL||xn.avatar?jsxRuntimeExports.jsx("img",{src:xn.photoURL||xn.avatar,alt:xn.name,className:"member-avatar"}):jsxRuntimeExports.jsx("div",{className:"member-avatar-placeholder",children:vi(xn.name)}),jsxRuntimeExports.jsxs("div",{className:"member-info",children:[jsxRuntimeExports.jsx("h3",{className:"member-name",children:xn.name}),jsxRuntimeExports.jsxs("div",{className:"member-address",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:xn.address||"   "})]}),jsxRuntimeExports.jsxs("div",{className:"member-details-row",children:[jsxRuntimeExports.jsxs("div",{className:"member-share-info",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[xn.shareCount," "]})]}),fi&&jsxRuntimeExports.jsxs("div",{className:"member-join-date",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:fi})]})]})]})]})]},xn.id)})}),qe.length===0&&!Je&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Users,{className:"mx-auto h-12 w-12 text-gray-400"}),jsxRuntimeExports.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"   "}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"      "})]}),(console.log("MemberList: bottom spacer added (120px + safe-area + 24px)"),null),jsxRuntimeExports.jsx("div",{className:"member-list-bottom-spacer","aria-hidden":"true"})]}),nr&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal-container",children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsxs("h2",{className:"modal-title",children:[jsxRuntimeExports.jsx(UserPlus,{size:20}),"   "]}),jsxRuntimeExports.jsx("button",{type:"button",className:"modal-close-btn",onClick:Qn,children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"modal-body",children:jsxRuntimeExports.jsxs("form",{onSubmit:zn,className:"modal-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("h3",{className:"form-section-title",children:[jsxRuntimeExports.jsx(User,{size:18})," "]}),jsxRuntimeExports.jsxs("div",{className:"form-row",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" *"}),jsxRuntimeExports.jsx("input",{type:"text",className:`form-input ${hr.name?"error":""}`,value:or.name,onChange:xn=>ii("name",xn.target.value),placeholder:"  "}),hr.name&&jsxRuntimeExports.jsx("span",{className:"error-message",children:hr.name})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(Phone,{size:16}),"  ()"]}),jsxRuntimeExports.jsx("input",{type:"tel",className:`form-input ${hr.phone?"error":""}`,value:or.phone,onChange:xn=>ii("phone",xn.target.value),placeholder:"01XXXXXXXXX ()"}),hr.phone&&jsxRuntimeExports.jsx("span",{className:"error-message",children:hr.phone})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(MapPin,{size:16})," ()"]}),jsxRuntimeExports.jsx("textarea",{className:`form-textarea ${hr.address?"error":""}`,value:or.address,onChange:xn=>ii("address",xn.target.value),placeholder:"   ()",rows:"2"}),hr.address&&jsxRuntimeExports.jsx("span",{className:"error-message",children:hr.address})]})]}),(Ve?.role==="admin"||Ve?.role==="cashier")&&jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("h3",{className:"form-section-title",children:[jsxRuntimeExports.jsx(Crown,{size:18})," "]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(Crown,{size:16}),"  ()"]}),jsxRuntimeExports.jsxs("select",{className:`form-select ${hr.role?"error":""}`,value:or.role,onChange:xn=>ii("role",xn.target.value),children:[jsxRuntimeExports.jsx("option",{value:"member",children:""}),jsxRuntimeExports.jsx("option",{value:"cashier",children:""}),jsxRuntimeExports.jsx("option",{value:"admin",children:""})]}),hr.role&&jsxRuntimeExports.jsx("span",{className:"error-message",children:hr.role}),jsxRuntimeExports.jsxs("div",{className:"role-info-minimal",children:[jsxRuntimeExports.jsxs("div",{className:"role-info-trigger",children:[jsxRuntimeExports.jsx("span",{className:"role-info-label",children:"  "}),jsxRuntimeExports.jsx("button",{type:"button",className:"role-info-toggle",onClick:()=>vr(!mr),"aria-label":"   ",children:jsxRuntimeExports.jsx(Info,{size:16})})]}),mr&&jsxRuntimeExports.jsx("div",{className:"role-info-details",children:jsxRuntimeExports.jsxs("div",{className:"role-descriptions",children:[jsxRuntimeExports.jsxs("div",{className:"role-item",children:[jsxRuntimeExports.jsx("span",{className:"role-badge member",children:""}),jsxRuntimeExports.jsx("span",{className:"role-desc",children:"     "})]}),jsxRuntimeExports.jsxs("div",{className:"role-item",children:[jsxRuntimeExports.jsx("span",{className:"role-badge cashier",children:""}),jsxRuntimeExports.jsx("span",{className:"role-desc",children:"    "})]}),jsxRuntimeExports.jsxs("div",{className:"role-item",children:[jsxRuntimeExports.jsx("span",{className:"role-badge admin",children:""}),jsxRuntimeExports.jsx("span",{className:"role-desc",children:"    "})]})]})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("h3",{className:"form-section-title",children:[jsxRuntimeExports.jsx(DollarSign,{size:18})," "]}),jsxRuntimeExports.jsxs("div",{className:"form-row",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(DollarSign,{size:16}),"  *"]}),jsxRuntimeExports.jsx("input",{type:"number",className:`form-input ${hr.shareCount?"error":""}`,value:or.shareCount,onChange:xn=>ii("shareCount",xn.target.value),placeholder:"  ",min:"1"}),hr.shareCount&&jsxRuntimeExports.jsx("span",{className:"error-message",children:hr.shareCount})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:"  ()"}),jsxRuntimeExports.jsx("input",{type:"date",className:"form-input",value:or.joiningDate,onChange:xn=>ii("joiningDate",xn.target.value)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("h3",{className:"form-section-title",children:[jsxRuntimeExports.jsx(Users,{size:18})," "]}),jsxRuntimeExports.jsxs("div",{className:"form-row",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(User,{size:16}),"  ()"]}),jsxRuntimeExports.jsx("input",{type:"text",className:`form-input ${hr.nomineeName?"error":""}`,value:or.nomineeName,onChange:xn=>ii("nomineeName",xn.target.value),placeholder:"   ()"}),hr.nomineeName&&jsxRuntimeExports.jsx("span",{className:"error-message",children:hr.nomineeName})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(Phone,{size:16}),"  ()"]}),jsxRuntimeExports.jsx("input",{type:"tel",className:`form-input ${hr.nomineePhone?"error":""}`,value:or.nomineePhone,onChange:xn=>ii("nomineePhone",xn.target.value),placeholder:"01XXXXXXXXX ()"}),hr.nomineePhone&&jsxRuntimeExports.jsx("span",{className:"error-message",children:hr.nomineePhone})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:"   ()"}),jsxRuntimeExports.jsxs("select",{className:`form-select ${hr.nomineeRelation?"error":""}`,value:or.nomineeRelation,onChange:xn=>ii("nomineeRelation",xn.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"   ()"}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""})]}),hr.nomineeRelation&&jsxRuntimeExports.jsx("span",{className:"error-message",children:hr.nomineeRelation})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-actions",children:[jsxRuntimeExports.jsxs("button",{type:"button",className:"form-btn form-btn-cancel",onClick:Qn,children:[jsxRuntimeExports.jsx(X$1,{size:16}),""]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"form-btn form-btn-primary",disabled:sr,children:sr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{size:16,className:"animate-spin"}),"  ..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16})," "]})})]})]})})]})}),Sr&&br&&jsxRuntimeExports.jsx("div",{className:"member-detail-overlay",onClick:bn,children:jsxRuntimeExports.jsxs("div",{className:"member-detail-card",onClick:xn=>xn.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"member-detail-header",children:[jsxRuntimeExports.jsx("div",{className:"member-detail-avatar",children:br.photoURL||br.avatar?jsxRuntimeExports.jsx("img",{src:br.photoURL||br.avatar,alt:br.name,className:"member-detail-avatar-img"}):jsxRuntimeExports.jsx("div",{className:"member-detail-avatar-placeholder",children:vi(br.name)})}),jsxRuntimeExports.jsxs("div",{className:"member-detail-info",children:[jsxRuntimeExports.jsx("h3",{className:"member-detail-name",children:br.name}),jsxRuntimeExports.jsx("span",{className:`member-detail-role-badge ${br.role}`,children:Yn(br.role).label})]}),jsxRuntimeExports.jsx("button",{className:"member-detail-close",onClick:bn,children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),!Qr&&jsxRuntimeExports.jsxs("div",{className:"member-detail-content",children:[(Ve?.role==="admin"||Ve?.role==="cashier")&&jsxRuntimeExports.jsxs("div",{className:"member-detail-section",children:[jsxRuntimeExports.jsxs("h4",{className:"member-detail-section-title",children:[jsxRuntimeExports.jsx(Lock,{className:"w-4 h-4"})," "]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-grid",children:[jsxRuntimeExports.jsxs("div",{className:"member-detail-item",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-label",children:":"}),jsxRuntimeExports.jsxs("div",{className:"member-detail-value-with-copy",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-value code",children:br.email}),jsxRuntimeExports.jsx("button",{className:"copy-btn",onClick:()=>Gr(br.email,"email"),title:"  ",children:Pr==="email"?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-600"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-item",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-label",children:":"}),jsxRuntimeExports.jsxs("div",{className:"member-detail-value-with-copy",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-value code",children:br.password}),jsxRuntimeExports.jsx("button",{className:"copy-btn",onClick:()=>Gr(br.password||"","password"),title:"  ",children:Pr==="password"?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-green-600"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-section",children:[jsxRuntimeExports.jsxs("h4",{className:"member-detail-section-title",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"})," "]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-grid",children:[jsxRuntimeExports.jsxs("div",{className:"member-detail-item",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-label",children:":"}),Or?jsxRuntimeExports.jsx("input",{className:"member-edit-input",value:Nr.phone,onChange:xn=>jn("phone",xn.target.value)}):jsxRuntimeExports.jsx("span",{className:"member-detail-value",children:br.phone})]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-item",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-label",children:":"}),Or?jsxRuntimeExports.jsx("textarea",{className:"member-edit-textarea",value:Nr.address,onChange:xn=>jn("address",xn.target.value)}):jsxRuntimeExports.jsx("span",{className:"member-detail-value",children:br.address})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-section",children:[jsxRuntimeExports.jsxs("h4",{className:"member-detail-section-title",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"})," "]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-grid",children:[jsxRuntimeExports.jsxs("div",{className:"member-detail-item",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-label",children:" :"}),Or?jsxRuntimeExports.jsx("input",{type:"number",className:"member-edit-input",value:Nr.shareCount,onChange:xn=>jn("shareCount",xn.target.value)}):jsxRuntimeExports.jsxs("span",{className:"member-detail-value",children:[br.shareCount," "]})]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-item",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-label",children:" :"}),Or?jsxRuntimeExports.jsx("input",{type:"date",className:"member-edit-input",value:Nr.joiningDate,onChange:xn=>jn("joiningDate",xn.target.value)}):jsxRuntimeExports.jsx("span",{className:"member-detail-value",children:(()=>{const xn=br.joiningDate||br.joinDate||br.createdAt?.toDate?.()?.toISOString()?.split("T")[0]||br.createdAt;try{return xn?new Date(xn).toLocaleDateString("bn-BD"):"N/A"}catch(ei){return console.log("MemberList: joiningDate formatting failed",ei),"N/A"}})()})]})]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-progress",children:[jsxRuntimeExports.jsxs("div",{className:"member-detail-progress-header",children:[jsxRuntimeExports.jsx("span",{children:" "}),jsxRuntimeExports.jsxs("span",{className:"member-detail-progress-percentage",children:[Math.min(100,br.shareCount/200*100).toFixed(0),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"member-detail-progress-bar",children:jsxRuntimeExports.jsx("div",{className:"member-detail-progress-fill",style:{width:`${Math.min(100,br.shareCount/200*100)}%`}})})]})]}),br.nomineeName&&jsxRuntimeExports.jsxs("div",{className:"member-detail-section",children:[jsxRuntimeExports.jsxs("h4",{className:"member-detail-section-title",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"})," "]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-grid",children:[jsxRuntimeExports.jsxs("div",{className:"member-detail-item",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-label",children:" :"}),Or?jsxRuntimeExports.jsx("input",{className:"member-edit-input",value:Nr.nomineeName,onChange:xn=>jn("nomineeName",xn.target.value)}):jsxRuntimeExports.jsx("span",{className:"member-detail-value",children:br.nomineeName})]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-item",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-label",children:":"}),Or?jsxRuntimeExports.jsxs("select",{className:"member-edit-input",value:Nr.nomineeRelation,onChange:xn=>jn("nomineeRelation",xn.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"  "}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""})]}):jsxRuntimeExports.jsx("span",{className:"member-detail-value",children:br.nomineeRelation})]}),jsxRuntimeExports.jsxs("div",{className:"member-detail-item",children:[jsxRuntimeExports.jsx("span",{className:"member-detail-label",children:":"}),Or?jsxRuntimeExports.jsx("input",{className:"member-edit-input",value:Nr.nomineePhone,onChange:xn=>jn("nomineePhone",xn.target.value)}):jsxRuntimeExports.jsx("span",{className:"member-detail-value",children:br.nomineePhone})]})]})]})]}),!Qr&&(Ve?.role==="admin"||Ve?.role==="cashier")&&jsxRuntimeExports.jsxs("div",{className:"member-detail-footer",children:[jsxRuntimeExports.jsx("div",{className:"md-footer-left",children:Or?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{type:"button",className:"save-btn",onClick:In,children:jsxRuntimeExports.jsx("span",{children:""})}),jsxRuntimeExports.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>{console.log("MemberList: cancel edit (footer)"),Er(!1),wr({name:br.name||"",phone:br.phone||"",address:br.address||"",shareCount:String(br.shareCount||""),joiningDate:br.joiningDate||br.joinDate||br.createdAt?new Date(br.joiningDate||br.joinDate||br.createdAt?.toDate?.()||br.createdAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],nomineeName:br.nomineeName||"",nomineePhone:br.nomineePhone||"",nomineeRelation:br.nomineeRelation||"",role:br.role||"member",status:br.status||"active"})},children:jsxRuntimeExports.jsx("span",{children:""})})]}):jsxRuntimeExports.jsx("button",{type:"button",className:"edit-btn",onClick:()=>{console.log("MemberList: enter edit mode (footer)"),Er(!0)},children:jsxRuntimeExports.jsx("span",{children:""})})}),jsxRuntimeExports.jsxs("div",{className:"md-footer-right",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"delete-btn",onClick:()=>{console.log("MemberList: delete button clicked"),Lr(!0)},children:jsxRuntimeExports.jsx("span",{children:""})}),Ar&&jsxRuntimeExports.jsxs("div",{className:"delete-confirm-popup",children:[jsxRuntimeExports.jsxs("div",{className:"delete-confirm-text",children:[`You're going to delete "`,br.name,'" from database.']}),jsxRuntimeExports.jsxs("div",{className:"delete-confirm-actions",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"delete-btn",onClick:()=>{console.log("MemberList: confirm delete"),Sn()},children:jsxRuntimeExports.jsx("span",{children:"Confirm"})}),jsxRuntimeExports.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>{console.log("MemberList: cancel delete"),Lr(!1)},children:jsxRuntimeExports.jsx("span",{children:"Cancel"})})]})]})]})]})]})})]})},SearchInput=({value:Ve,onChange:$e,placeholder:Be="...",className:Ue=""})=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{className:"h-5 w-5 text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Ve,onChange:$e,placeholder:Be,className:`form-input pl-10 ${Ue}`})]}),TableHeader=({columns:Ve})=>jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsx("tr",{children:Ve.map(($e,Be)=>jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:$e},Be))})}),Modal=({isOpen:Ve,onClose:$e,title:Be,children:Ue,size:ze="default"})=>{if(!Ve)return null;const qe=We=>{We.target===We.currentTarget&&$e()},He=ze==="large"?"modal__content--large":"";return jsxRuntimeExports.jsx("div",{className:"modal-overlay",onClick:qe,children:jsxRuntimeExports.jsxs("div",{className:`modal ${He}`,children:[jsxRuntimeExports.jsxs("div",{className:"modal__header",children:[jsxRuntimeExports.jsx("h2",{className:"modal__title",children:Be}),jsxRuntimeExports.jsx("button",{className:"modal__close",onClick:$e,"aria-label":"Close modal",children:""})]}),jsxRuntimeExports.jsx("div",{className:"modal__content",children:Ue})]})})},InvestmentManagement=()=>{const[Ve,$e]=reactExports.useState(""),[Be,Ue]=reactExports.useState("all"),[ze,qe]=reactExports.useState(!1),[He,We]=reactExports.useState(!1),[Ge,Ye]=reactExports.useState(null),Xe=[{id:1,title:"N/A",amount:0,currentValue:0,status:"active",bank:"N/A",investmentDate:"N/A",maturityDate:"N/A",expectedReturn:0},{id:2,title:"N/A",amount:0,currentValue:0,status:"active",bank:"N/A",investmentDate:"N/A",maturityDate:"N/A",expectedReturn:0},{id:3,title:"N/A",amount:0,currentValue:0,status:"matured",bank:"N/A",investmentDate:"N/A",maturityDate:"N/A",expectedReturn:0}],Je={totalInvested:Xe.reduce((sr,lr)=>sr+lr.amount,0),currentValue:Xe.reduce((sr,lr)=>sr+lr.currentValue,0),totalReturn:Xe.reduce((sr,lr)=>sr+(lr.currentValue-lr.amount),0)},er=Xe.filter(sr=>{const lr=sr.title.toLowerCase().includes(Ve.toLowerCase())||sr.bank.toLowerCase().includes(Ve.toLowerCase()),or=Be==="all"||sr.status===Be;return lr&&or}),[Ze,rr]=reactExports.useState({title:"",amount:"",bank:"",investmentDate:"",maturityDate:"",expectedReturn:""}),nr=()=>{console.log("Adding investment:",Ze),qe(!1),rr({title:"",amount:"",bank:"",investmentDate:"",maturityDate:"",expectedReturn:""})},ar=sr=>{const lr={active:{className:"investment-status-badge active",label:""},matured:{className:"investment-status-badge matured",label:""},closed:{className:"investment-status-badge closed",label:""}},or=lr[sr]||lr.active;return jsxRuntimeExports.jsx("span",{className:or.className,children:or.label})};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"    "})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"investment-summary-card investment-fade-in",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"investment-summary-icon blue",children:jsxRuntimeExports.jsx(DollarSign,{className:"h-6 w-6"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsxs("p",{className:"investment-amount large neutral",children:[" ",Je.totalInvested.toLocaleString()]})]})]})}),jsxRuntimeExports.jsx("div",{className:"investment-summary-card positive investment-fade-in",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"investment-summary-icon green",children:jsxRuntimeExports.jsx(TrendingUp,{className:"h-6 w-6"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsxs("p",{className:"investment-amount large positive",children:[" ",Je.currentValue.toLocaleString()]})]})]})}),jsxRuntimeExports.jsx("div",{className:`investment-summary-card ${Je.totalReturn>=0?"positive":"negative"} investment-fade-in`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:`investment-summary-icon ${Je.totalReturn>=0?"green":"red"}`,children:jsxRuntimeExports.jsx(ChartColumn,{className:"h-6 w-6"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsxs("p",{className:`investment-amount large ${Je.totalReturn>=0?"positive":"negative"}`,children:[" ",Je.totalReturn.toLocaleString()]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"investment-search-container",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(SearchInput,{value:Ve,onChange:sr=>$e(sr.target.value),placeholder:"    ...",className:"w-64"}),jsxRuntimeExports.jsxs("select",{value:Be,onChange:sr=>Ue(sr.target.value),className:"investment-filter-select",children:[jsxRuntimeExports.jsx("option",{value:"all",children:" "}),jsxRuntimeExports.jsx("option",{value:"active",children:""}),jsxRuntimeExports.jsx("option",{value:"matured",children:""}),jsxRuntimeExports.jsx("option",{value:"closed",children:""})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:[" ",er.length,"    "]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-card overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx(TableHeader,{columns:[" "," "," ","",""]}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:er.map(sr=>jsxRuntimeExports.jsxs("tr",{className:"investment-table-row",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900",children:sr.title}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:sr.bank})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"investment-amount neutral",children:[" ",sr.amount.toLocaleString()]})}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[jsxRuntimeExports.jsxs("div",{className:"investment-amount neutral",children:[" ",sr.currentValue.toLocaleString()]}),jsxRuntimeExports.jsxs("div",{className:`text-xs investment-amount ${sr.currentValue>=sr.amount?"positive":"negative"}`,children:[sr.currentValue>=sr.amount?"+":""," ",(sr.currentValue-sr.amount).toLocaleString()]})]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ar(sr.status)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Ye(sr),We(!0)},className:"investment-action-btn view",children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{className:"investment-action-btn edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{className:"investment-action-btn delete",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})})]},sr.id))})]})})}),jsxRuntimeExports.jsx(Modal,{isOpen:ze,onClose:()=>qe(!1),title:"   ",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"investment-modal-field",children:[jsxRuntimeExports.jsx("label",{className:"investment-modal-label",children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:Ze.title,onChange:sr=>rr({...Ze,title:sr.target.value}),className:"investment-modal-input",placeholder:":   "})]}),jsxRuntimeExports.jsxs("div",{className:"investment-modal-field",children:[jsxRuntimeExports.jsx("label",{className:"investment-modal-label",children:" "}),jsxRuntimeExports.jsx("input",{type:"number",value:Ze.amount,onChange:sr=>rr({...Ze,amount:sr.target.value}),className:"investment-modal-input",placeholder:""})]}),jsxRuntimeExports.jsxs("div",{className:"investment-modal-field",children:[jsxRuntimeExports.jsx("label",{className:"investment-modal-label",children:"/"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ze.bank,onChange:sr=>rr({...Ze,bank:sr.target.value}),className:"investment-modal-input",placeholder:":   "})]}),jsxRuntimeExports.jsxs("div",{className:"investment-modal-grid",children:[jsxRuntimeExports.jsxs("div",{className:"investment-modal-field",children:[jsxRuntimeExports.jsx("label",{className:"investment-modal-label",children:" "}),jsxRuntimeExports.jsx("input",{type:"date",value:Ze.investmentDate,onChange:sr=>rr({...Ze,investmentDate:sr.target.value}),className:"investment-modal-input"})]}),jsxRuntimeExports.jsxs("div",{className:"investment-modal-field",children:[jsxRuntimeExports.jsx("label",{className:"investment-modal-label",children:"  "}),jsxRuntimeExports.jsx("input",{type:"date",value:Ze.maturityDate,onChange:sr=>rr({...Ze,maturityDate:sr.target.value}),className:"investment-modal-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"investment-modal-field",children:[jsxRuntimeExports.jsx("label",{className:"investment-modal-label",children:"  (%)"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.1",value:Ze.expectedReturn,onChange:sr=>rr({...Ze,expectedReturn:sr.target.value}),className:"investment-modal-input",placeholder:": ."})]}),jsxRuntimeExports.jsxs("div",{className:"investment-modal-actions",children:[jsxRuntimeExports.jsx("button",{onClick:()=>qe(!1),className:"investment-modal-btn-cancel",children:""}),jsxRuntimeExports.jsx("button",{onClick:nr,className:"investment-modal-btn-primary",children:" "})]})]})}),jsxRuntimeExports.jsx(Modal,{isOpen:He,onClose:()=>We(!1),title:" ",children:Ge&&jsxRuntimeExports.jsxs("div",{className:"investment-details-modal",children:[jsxRuntimeExports.jsxs("div",{className:"investment-details-header",children:[jsxRuntimeExports.jsx("h3",{className:"investment-details-title",children:Ge.title}),jsxRuntimeExports.jsx("p",{className:"investment-details-bank",children:Ge.bank})]}),jsxRuntimeExports.jsxs("div",{className:"investment-details-grid",children:[jsxRuntimeExports.jsxs("div",{className:"investment-details-item",children:[jsxRuntimeExports.jsx("p",{className:"investment-details-label",children:" "}),jsxRuntimeExports.jsxs("p",{className:"investment-details-value",children:[" ",Ge.amount.toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{className:"investment-details-item",children:[jsxRuntimeExports.jsx("p",{className:"investment-details-label",children:" "}),jsxRuntimeExports.jsxs("p",{className:"investment-details-value",children:[" ",Ge.currentValue.toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{className:"investment-details-item",children:[jsxRuntimeExports.jsx("p",{className:"investment-details-label",children:" "}),jsxRuntimeExports.jsx("p",{className:"investment-details-value",children:new Date(Ge.investmentDate).toLocaleDateString("bn-BD")})]}),jsxRuntimeExports.jsxs("div",{className:"investment-details-item",children:[jsxRuntimeExports.jsx("p",{className:"investment-details-label",children:"  "}),jsxRuntimeExports.jsx("p",{className:"investment-details-value",children:Ge.maturityDate?new Date(Ge.maturityDate).toLocaleDateString("bn-BD"):" "})]})]}),jsxRuntimeExports.jsxs("div",{className:"investment-details-grid",children:[jsxRuntimeExports.jsxs("div",{className:"investment-details-item",children:[jsxRuntimeExports.jsx("p",{className:"investment-details-label",children:" "}),jsxRuntimeExports.jsxs("p",{className:"investment-details-value",children:[Ge.expectedReturn,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"investment-details-item",children:[jsxRuntimeExports.jsx("p",{className:"investment-details-label",children:"/"}),jsxRuntimeExports.jsxs("p",{className:`investment-details-value ${Ge.currentValue>=Ge.amount?"profit":"loss"}`,children:[" ",(Ge.currentValue-Ge.amount).toLocaleString()]})]})]})]})})]})},ProfitDistribution=()=>{const[Ve,$e]=reactExports.useState("2024"),[Be,Ue]=reactExports.useState(""),[ze,qe]=reactExports.useState(!1),[He,We]=reactExports.useState(!1),[Ge,Ye]=reactExports.useState(null),Xe=[{id:1,year:2024,quarter:"Q2",totalProfit:125e3,distributedAmount:1e5,reservedAmount:25e3,distributionDate:"2024-06-30",status:"distributed",profitRate:12.5,memberCount:71,perShareProfit:1408},{id:2,year:2024,quarter:"Q1",totalProfit:98e3,distributedAmount:78400,reservedAmount:19600,distributionDate:"2024-03-31",status:"distributed",profitRate:11.2,memberCount:70,perShareProfit:1120},{id:3,year:2023,quarter:"Q4",totalProfit:11e4,distributedAmount:88e3,reservedAmount:22e3,distributionDate:"2023-12-31",status:"distributed",profitRate:13.8,memberCount:68,perShareProfit:1294}],Je=[{id:1,memberName:"  ",memberId:"SM-001",shareCount:25,profitAmount:35200,distributionDate:"2024-06-30",status:"paid",paymentMethod:"bank_transfer"},{id:2,memberName:" ",memberId:"SM-002",shareCount:15,profitAmount:21120,distributionDate:"2024-06-30",status:"paid",paymentMethod:"cash"},{id:3,memberName:" ",memberId:"SM-003",shareCount:10,profitAmount:14080,distributionDate:"2024-06-30",status:"pending",paymentMethod:null},{id:4,memberName:"  ",memberId:"SM-004",shareCount:20,profitAmount:28160,distributionDate:"2024-06-30",status:"paid",paymentMethod:"mobile_banking"}],er=[{year:"",profit:85e3,rate:9.5},{year:"",profit:95e3,rate:10.2},{year:"",profit:105e3,rate:11.8},{year:"",profit:118e3,rate:12.1},{year:"",profit:125e3,rate:12.5}],Ze=[{source:" ",amount:75e3,percentage:60,color:"#0A6CFF"},{source:" ",amount:3e4,percentage:24,color:"#00BFA5"},{source:" ",amount:15e3,percentage:12,color:"#FF6B35"},{source:"",amount:5e3,percentage:4,color:"#8B5CF6"}],rr=[{range:"- ",members:25,amount:35200,avgProfit:1408},{range:"- ",members:30,amount:63360,avgProfit:2112},{range:"- ",members:12,amount:50688,avgProfit:4224},{range:"+ ",members:4,amount:28160,avgProfit:7040}],nr=Xe[0],ar=Je.filter(mr=>mr.status==="paid").reduce((mr,vr)=>mr+vr.profitAmount,0),sr=Je.filter(mr=>mr.status==="pending").reduce((mr,vr)=>mr+vr.profitAmount,0),lr=Je.filter(mr=>mr.memberName.toLowerCase().includes(Be.toLowerCase())||mr.memberId.toLowerCase().includes(Be.toLowerCase())),[or,cr]=reactExports.useState({quarter:"Q3",year:"2024",totalProfit:"",distributionPercentage:80,reservePercentage:20,distributionDate:new Date().toISOString().split("T")[0]}),hr=()=>{console.log("Distributing profit:",or),qe(!1),cr({quarter:"Q3",year:"2024",totalProfit:"",distributionPercentage:80,reservePercentage:20,distributionDate:new Date().toISOString().split("T")[0]})},yr=mr=>{switch(mr){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"  "}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"     "})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>qe(!0),className:"flex items-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-600 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"  "]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center px-4 py-2 bg-secondary text-white rounded-lg hover:bg-teal-600 transition-colors",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"})," "]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-card p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:jsxRuntimeExports.jsx(DollarSign,{className:"h-6 w-6 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[" ",nr.totalProfit.toLocaleString()]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-card p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-full bg-green-100",children:jsxRuntimeExports.jsx(TrendingUp,{className:"h-6 w-6 text-green-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[" ",ar.toLocaleString()]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-card p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:jsxRuntimeExports.jsx(Clock,{className:"h-6 w-6 text-yellow-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[" ",sr.toLocaleString()]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-card p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:jsxRuntimeExports.jsx(Percent,{className:"h-6 w-6 text-purple-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[nr.profitRate,"%"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-card p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-full bg-teal-100",children:jsxRuntimeExports.jsx(Users,{className:"h-6 w-6 text-teal-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900",children:nr.memberCount})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"  "}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:250,children:jsxRuntimeExports.jsxs(LineChart,{data:er,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"year"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{formatter:mr=>` ${mr.toLocaleString()}`}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"profit",stroke:"#0A6CFF",strokeWidth:2,name:""})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:" "}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:250,children:jsxRuntimeExports.jsxs(PieChart$1,{children:[jsxRuntimeExports.jsx(Pie,{data:Ze,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"amount",children:Ze.map((mr,vr)=>jsxRuntimeExports.jsx(Cell,{fill:mr.color},`cell-${vr}`))}),jsxRuntimeExports.jsx(Tooltip,{formatter:mr=>` ${mr.toLocaleString()}`})]})}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:Ze.map((mr,vr)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:mr.color}}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:mr.source})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium",children:[mr.percentage,"%"]})]},vr))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"  "}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:250,children:jsxRuntimeExports.jsxs(BarChart,{data:rr,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"range"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{formatter:mr=>` ${mr.toLocaleString()}`}),jsxRuntimeExports.jsx(Bar,{dataKey:"amount",fill:"#0A6CFF"})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"  "}),jsxRuntimeExports.jsxs("select",{value:Ve,onChange:mr=>$e(mr.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"2024",children:""}),jsxRuntimeExports.jsx("option",{value:"2023",children:""}),jsxRuntimeExports.jsx("option",{value:"2022",children:""})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Xe.map(mr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[mr.quarter," ",mr.year]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:mr.distributionDate})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[" ",mr.totalProfit.toLocaleString()]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[" ",mr.distributedAmount.toLocaleString()]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[" ",mr.reservedAmount.toLocaleString()]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[mr.profitRate,"%"]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${yr(mr.status)}`,children:[mr.status==="distributed"&&" ",mr.status==="processing"&&"",mr.status==="pending"&&""]})}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Ye(mr),We(!0)},className:"text-primary hover:text-blue-600 mr-3",children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{className:"text-secondary hover:text-teal-600",children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})})]})]},mr.id))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"   "}),jsxRuntimeExports.jsx(SearchInput,{value:Be,onChange:mr=>Ue(mr.target.value),placeholder:"    ...",className:"w-64"})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx(TableHeader,{columns:[" "," "," "," ","",""]}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:lr.map(mr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900",children:mr.memberName}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:[": ",mr.somiti_user_id]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[mr.shareCount," "]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[" ",mr.profitAmount.toLocaleString()]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-900",children:[mr.paymentMethod==="bank_transfer"&&" ",mr.paymentMethod==="cash"&&"",mr.paymentMethod==="mobile_banking"&&" ",!mr.paymentMethod&&"-"]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${yr(mr.status)}`,children:[mr.status==="paid"&&"",mr.status==="pending"&&"",mr.status==="processing"&&""]})}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[mr.status==="pending"&&jsxRuntimeExports.jsx("button",{className:"text-green-600 hover:text-green-800 mr-3",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("button",{className:"text-primary hover:text-blue-600",children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]})]},mr.id))})]})})]}),ze&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"  "}),jsxRuntimeExports.jsx("button",{onClick:()=>qe(!1),className:"text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$1,{className:"h-6 w-6"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:mr=>{mr.preventDefault(),hr()},className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),jsxRuntimeExports.jsxs("select",{required:!0,value:or.quarter,onChange:mr=>cr({...or,quarter:mr.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"Q1",children:"  (Q1)"}),jsxRuntimeExports.jsx("option",{value:"Q2",children:"  (Q2)"}),jsxRuntimeExports.jsx("option",{value:"Q3",children:"  (Q3)"}),jsxRuntimeExports.jsx("option",{value:"Q4",children:"  (Q4)"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),jsxRuntimeExports.jsxs("select",{required:!0,value:or.year,onChange:mr=>cr({...or,year:mr.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"2024",children:""}),jsxRuntimeExports.jsx("option",{value:"2023",children:""}),jsxRuntimeExports.jsx("option",{value:"2022",children:""})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   () *"}),jsxRuntimeExports.jsx("input",{type:"number",required:!0,value:or.totalProfit,onChange:mr=>cr({...or,totalProfit:mr.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"   "})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",max:"100",required:!0,value:or.distributionPercentage,onChange:mr=>{const vr=parseInt(mr.target.value);cr({...or,distributionPercentage:vr,reservePercentage:100-vr})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),jsxRuntimeExports.jsx("input",{type:"number",value:or.reservePercentage,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),jsxRuntimeExports.jsx("input",{type:"date",required:!0,value:or.distributionDate,onChange:mr=>cr({...or,distributionDate:mr.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),or.totalProfit&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:" "}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:" :"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[" ",(or.totalProfit*or.distributionPercentage/100).toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:" :"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[" ",(or.totalProfit*or.reservePercentage/100).toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"  :"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[" ",Math.round(or.totalProfit*or.distributionPercentage/100/71).toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:" :"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:" "})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>qe(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-600",children:"  "})]})]})]})}),He&&Ge&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[Ge.quarter," ",Ge.year," -   "]}),jsxRuntimeExports.jsx("button",{onClick:()=>We(!1),className:"text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$1,{className:"h-6 w-6"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-8 w-8 text-blue-600"}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-blue-600",children:" "}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-bold text-blue-900",children:[" ",Ge.totalProfit.toLocaleString()]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-8 w-8 text-green-600"}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-600",children:""}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-bold text-green-900",children:[" ",Ge.distributedAmount.toLocaleString()]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(PieChart,{className:"h-8 w-8 text-purple-600"}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-purple-600",children:""}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-bold text-purple-900",children:[" ",Ge.reservedAmount.toLocaleString()]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:" "}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:" :"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ge.distributionDate})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:" :"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[Ge.profitRate,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:" :"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[Ge.memberCount," "]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"  :"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[" ",Ge.perShareProfit]})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:" "}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:":"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[(Ge.distributedAmount/Ge.totalProfit*100).toFixed(1),"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:":"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[(Ge.reservedAmount/Ge.totalProfit*100).toFixed(1),"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:jsxRuntimeExports.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:`${Ge.distributedAmount/Ge.totalProfit*100}%`}})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:""})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>We(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:" "}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-secondary text-white rounded-lg hover:bg-teal-600",children:" "})]})]})})]})};console.log("[ModeSwitcher] File loaded");const ModeSwitcher=()=>{const{mode:Ve,switchMode:$e}=useMode(),Be=Ue=>{Ue!==Ve&&window.confirm(`  ${Ue==="demo"?"":""}   ?    `)&&($e(Ue),setTimeout(()=>{window.location.reload()},100))};return jsxRuntimeExports.jsxs("div",{className:"mode-switcher-section",children:[jsxRuntimeExports.jsxs("div",{className:"mode-switcher-header",children:[jsxRuntimeExports.jsx(RefreshCw,{size:20}),jsxRuntimeExports.jsx("h3",{children:"  "})]}),jsxRuntimeExports.jsx("p",{className:"mode-switcher-description",children:"            "}),jsxRuntimeExports.jsxs("div",{className:"mode-options",children:[jsxRuntimeExports.jsxs("button",{className:`mode-option ${Ve==="production"?"active":""}`,onClick:()=>Be("production"),children:[jsxRuntimeExports.jsx("div",{className:"mode-option-icon production",children:jsxRuntimeExports.jsx(Database,{size:24})}),jsxRuntimeExports.jsxs("div",{className:"mode-option-content",children:[jsxRuntimeExports.jsx("h4",{children:" "}),jsxRuntimeExports.jsx("p",{children:"    "})]}),Ve==="production"&&jsxRuntimeExports.jsx("div",{className:"mode-checkmark",children:""})]}),jsxRuntimeExports.jsxs("button",{className:`mode-option ${Ve==="demo"?"active":""}`,onClick:()=>Be("demo"),children:[jsxRuntimeExports.jsx("div",{className:"mode-option-icon demo",children:jsxRuntimeExports.jsx(TestTube,{size:24})}),jsxRuntimeExports.jsxs("div",{className:"mode-option-content",children:[jsxRuntimeExports.jsx("h4",{children:" "}),jsxRuntimeExports.jsx("p",{children:"    "})]}),Ve==="demo"&&jsxRuntimeExports.jsx("div",{className:"mode-checkmark",children:""})]})]}),jsxRuntimeExports.jsx("div",{className:"mode-current-status",children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:" :"})," ",Ve==="demo"?" ":" "]})})]})},AdminSettings=()=>{const[Ve,$e]=reactExports.useState("notifications"),[Be,Ue]=reactExports.useState(""),[ze,qe]=reactExports.useState({systemAlerts:!0,transactionAlerts:!0,membershipAlerts:!0,securityAlerts:!0}),[He,We]=reactExports.useState({language:"bn",theme:"light",currency:"BDT"}),Ge=Ze=>{qe(rr=>({...rr,[Ze]:!rr[Ze]}))},Ye=(Ze,rr)=>{We(nr=>({...nr,[Ze]:rr}))},Xe=()=>{Ue("saving"),setTimeout(()=>{Ue("success"),setTimeout(()=>Ue(""),2e3)},500)},Je=[{id:"notifications",label:"",icon:Bell},{id:"system",label:"",icon:Settings}],er=[{key:"systemAlerts",title:" ",desc:"   ",icon:Globe,color:"text-blue-500"},{key:"transactionAlerts",title:" ",desc:"    ",icon:Save,color:"text-green-500"},{key:"membershipAlerts",title:" ",desc:"    ",icon:Bell,color:"text-yellow-500"},{key:"securityAlerts",title:" ",desc:"   ",icon:Shield,color:"text-red-500"}];return jsxRuntimeExports.jsxs("div",{className:"admin-settings",children:[jsxRuntimeExports.jsxs("div",{className:"admin-settings-container",children:[jsxRuntimeExports.jsxs("div",{className:"admin-settings-header",children:[jsxRuntimeExports.jsx("h1",{className:"admin-settings-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"admin-settings-subtitle",children:"     "})]}),jsxRuntimeExports.jsx("div",{className:"admin-settings-tabs",children:Je.map(Ze=>jsxRuntimeExports.jsxs("button",{onClick:()=>$e(Ze.id),className:`admin-tab ${Ve===Ze.id?"active":""}`,children:[jsxRuntimeExports.jsx(Ze.icon,{className:"h-4 w-4 mr-2"}),Ze.label]},Ze.id))}),jsxRuntimeExports.jsxs("div",{className:"admin-tab-content",children:[Ve==="notifications"&&jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsxs("div",{className:"settings-section-header",children:[jsxRuntimeExports.jsx("div",{className:"settings-icon",children:jsxRuntimeExports.jsx(Bell,{})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"settings-section-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"settings-section-subtitle",children:"    "})]})]}),jsxRuntimeExports.jsx("div",{className:"settings-grid",children:jsxRuntimeExports.jsxs("div",{className:"settings-group",children:[jsxRuntimeExports.jsxs("h3",{className:"settings-group-title",children:[jsxRuntimeExports.jsx(Bell,{className:"h-4 w-4"})," "]}),er.map(Ze=>jsxRuntimeExports.jsxs("div",{className:"settings-item",children:[jsxRuntimeExports.jsxs("div",{className:"settings-item-info",children:[jsxRuntimeExports.jsx("h4",{children:Ze.title}),jsxRuntimeExports.jsx("p",{children:Ze.desc})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ge(Ze.key),className:`toggle-switch ${ze[Ze.key]?"active":""}`})]},Ze.key))]})}),jsxRuntimeExports.jsxs("div",{className:"admin-notice",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"admin-notice-icon"}),jsxRuntimeExports.jsx("p",{className:"admin-notice-text",children:"   "})]})]}),Ve==="system"&&jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsxs("div",{className:"settings-section-header",children:[jsxRuntimeExports.jsx("div",{className:"settings-icon",children:jsxRuntimeExports.jsx(Settings,{})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"settings-section-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"settings-section-subtitle",children:"   "})]})]}),jsxRuntimeExports.jsx("div",{className:"settings-grid",children:jsxRuntimeExports.jsxs("div",{className:"settings-group",children:[jsxRuntimeExports.jsxs("h3",{className:"settings-group-title",children:[jsxRuntimeExports.jsx(Globe,{className:"h-4 w-4"})," "]}),jsxRuntimeExports.jsxs("div",{className:"settings-field",children:[jsxRuntimeExports.jsx("label",{className:"settings-label",children:""}),jsxRuntimeExports.jsxs("select",{value:He.language,onChange:Ze=>Ye("language",Ze.target.value),className:"settings-dropdown",children:[jsxRuntimeExports.jsx("option",{value:"bn",children:""}),jsxRuntimeExports.jsx("option",{value:"en",children:"English"})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-field",children:[jsxRuntimeExports.jsx("label",{className:"settings-label",children:""}),jsxRuntimeExports.jsxs("select",{value:He.theme,onChange:Ze=>Ye("theme",Ze.target.value),className:"settings-dropdown",children:[jsxRuntimeExports.jsx("option",{value:"light",children:""}),jsxRuntimeExports.jsx("option",{value:"dark",children:""})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-field",children:[jsxRuntimeExports.jsx("label",{className:"settings-label",children:""}),jsxRuntimeExports.jsxs("select",{value:He.currency,onChange:Ze=>Ye("currency",Ze.target.value),className:"settings-dropdown",children:[jsxRuntimeExports.jsx("option",{value:"BDT",children:"  ()"}),jsxRuntimeExports.jsx("option",{value:"USD",children:"US Dollar ($)"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:Xe,className:"settings-button settings-button-primary",children:[jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"}),"  "]})]})}),jsxRuntimeExports.jsx(ModeSwitcher,{})]})]})]}),Be&&jsxRuntimeExports.jsx("div",{className:`save-status ${Be==="saving"?"error":"success"}`,children:Be==="saving"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"  ..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:" !"})]})})]})};var extendStatics=function(Ve,$e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Be,Ue){Be.__proto__=Ue}||function(Be,Ue){for(var ze in Ue)Object.prototype.hasOwnProperty.call(Ue,ze)&&(Be[ze]=Ue[ze])},extendStatics(Ve,$e)};function __extends(Ve,$e){if(typeof $e!="function"&&$e!==null)throw new TypeError("Class extends value "+String($e)+" is not a constructor or null");extendStatics(Ve,$e);function Be(){this.constructor=Ve}Ve.prototype=$e===null?Object.create($e):(Be.prototype=$e.prototype,new Be)}var __assign=function(){return __assign=Object.assign||function($e){for(var Be,Ue=1,ze=arguments.length;Ue<ze;Ue++){Be=arguments[Ue];for(var qe in Be)Object.prototype.hasOwnProperty.call(Be,qe)&&($e[qe]=Be[qe])}return $e},__assign.apply(this,arguments)};function __rest(Ve,$e){var Be={};for(var Ue in Ve)Object.prototype.hasOwnProperty.call(Ve,Ue)&&$e.indexOf(Ue)<0&&(Be[Ue]=Ve[Ue]);if(Ve!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ze=0,Ue=Object.getOwnPropertySymbols(Ve);ze<Ue.length;ze++)$e.indexOf(Ue[ze])<0&&Object.prototype.propertyIsEnumerable.call(Ve,Ue[ze])&&(Be[Ue[ze]]=Ve[Ue[ze]]);return Be}function __decorate(Ve,$e,Be,Ue){var ze=arguments.length,qe=ze<3?$e:Ue===null?Ue=Object.getOwnPropertyDescriptor($e,Be):Ue,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")qe=Reflect.decorate(Ve,$e,Be,Ue);else for(var We=Ve.length-1;We>=0;We--)(He=Ve[We])&&(qe=(ze<3?He(qe):ze>3?He($e,Be,qe):He($e,Be))||qe);return ze>3&&qe&&Object.defineProperty($e,Be,qe),qe}function __param(Ve,$e){return function(Be,Ue){$e(Be,Ue,Ve)}}function __esDecorate(Ve,$e,Be,Ue,ze,qe){function He(sr){if(sr!==void 0&&typeof sr!="function")throw new TypeError("Function expected");return sr}for(var We=Ue.kind,Ge=We==="getter"?"get":We==="setter"?"set":"value",Ye=!$e&&Ve?Ue.static?Ve:Ve.prototype:null,Xe=$e||(Ye?Object.getOwnPropertyDescriptor(Ye,Ue.name):{}),Je,er=!1,Ze=Be.length-1;Ze>=0;Ze--){var rr={};for(var nr in Ue)rr[nr]=nr==="access"?{}:Ue[nr];for(var nr in Ue.access)rr.access[nr]=Ue.access[nr];rr.addInitializer=function(sr){if(er)throw new TypeError("Cannot add initializers after decoration has completed");qe.push(He(sr||null))};var ar=(0,Be[Ze])(We==="accessor"?{get:Xe.get,set:Xe.set}:Xe[Ge],rr);if(We==="accessor"){if(ar===void 0)continue;if(ar===null||typeof ar!="object")throw new TypeError("Object expected");(Je=He(ar.get))&&(Xe.get=Je),(Je=He(ar.set))&&(Xe.set=Je),(Je=He(ar.init))&&ze.unshift(Je)}else(Je=He(ar))&&(We==="field"?ze.unshift(Je):Xe[Ge]=Je)}Ye&&Object.defineProperty(Ye,Ue.name,Xe),er=!0}function __runInitializers(Ve,$e,Be){for(var Ue=arguments.length>2,ze=0;ze<$e.length;ze++)Be=Ue?$e[ze].call(Ve,Be):$e[ze].call(Ve);return Ue?Be:void 0}function __propKey(Ve){return typeof Ve=="symbol"?Ve:"".concat(Ve)}function __setFunctionName(Ve,$e,Be){return typeof $e=="symbol"&&($e=$e.description?"[".concat($e.description,"]"):""),Object.defineProperty(Ve,"name",{configurable:!0,value:Be?"".concat(Be," ",$e):$e})}function __metadata(Ve,$e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Ve,$e)}function __awaiter(Ve,$e,Be,Ue){function ze(qe){return qe instanceof Be?qe:new Be(function(He){He(qe)})}return new(Be||(Be=Promise))(function(qe,He){function We(Xe){try{Ye(Ue.next(Xe))}catch(Je){He(Je)}}function Ge(Xe){try{Ye(Ue.throw(Xe))}catch(Je){He(Je)}}function Ye(Xe){Xe.done?qe(Xe.value):ze(Xe.value).then(We,Ge)}Ye((Ue=Ue.apply(Ve,$e||[])).next())})}function __generator(Ve,$e){var Be={label:0,sent:function(){if(qe[0]&1)throw qe[1];return qe[1]},trys:[],ops:[]},Ue,ze,qe,He=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return He.next=We(0),He.throw=We(1),He.return=We(2),typeof Symbol=="function"&&(He[Symbol.iterator]=function(){return this}),He;function We(Ye){return function(Xe){return Ge([Ye,Xe])}}function Ge(Ye){if(Ue)throw new TypeError("Generator is already executing.");for(;He&&(He=0,Ye[0]&&(Be=0)),Be;)try{if(Ue=1,ze&&(qe=Ye[0]&2?ze.return:Ye[0]?ze.throw||((qe=ze.return)&&qe.call(ze),0):ze.next)&&!(qe=qe.call(ze,Ye[1])).done)return qe;switch(ze=0,qe&&(Ye=[Ye[0]&2,qe.value]),Ye[0]){case 0:case 1:qe=Ye;break;case 4:return Be.label++,{value:Ye[1],done:!1};case 5:Be.label++,ze=Ye[1],Ye=[0];continue;case 7:Ye=Be.ops.pop(),Be.trys.pop();continue;default:if(qe=Be.trys,!(qe=qe.length>0&&qe[qe.length-1])&&(Ye[0]===6||Ye[0]===2)){Be=0;continue}if(Ye[0]===3&&(!qe||Ye[1]>qe[0]&&Ye[1]<qe[3])){Be.label=Ye[1];break}if(Ye[0]===6&&Be.label<qe[1]){Be.label=qe[1],qe=Ye;break}if(qe&&Be.label<qe[2]){Be.label=qe[2],Be.ops.push(Ye);break}qe[2]&&Be.ops.pop(),Be.trys.pop();continue}Ye=$e.call(Ve,Be)}catch(Xe){Ye=[6,Xe],ze=0}finally{Ue=qe=0}if(Ye[0]&5)throw Ye[1];return{value:Ye[0]?Ye[1]:void 0,done:!0}}}var __createBinding=Object.create?(function(Ve,$e,Be,Ue){Ue===void 0&&(Ue=Be);var ze=Object.getOwnPropertyDescriptor($e,Be);(!ze||("get"in ze?!$e.__esModule:ze.writable||ze.configurable))&&(ze={enumerable:!0,get:function(){return $e[Be]}}),Object.defineProperty(Ve,Ue,ze)}):(function(Ve,$e,Be,Ue){Ue===void 0&&(Ue=Be),Ve[Ue]=$e[Be]});function __exportStar(Ve,$e){for(var Be in Ve)Be!=="default"&&!Object.prototype.hasOwnProperty.call($e,Be)&&__createBinding($e,Ve,Be)}function __values(Ve){var $e=typeof Symbol=="function"&&Symbol.iterator,Be=$e&&Ve[$e],Ue=0;if(Be)return Be.call(Ve);if(Ve&&typeof Ve.length=="number")return{next:function(){return Ve&&Ue>=Ve.length&&(Ve=void 0),{value:Ve&&Ve[Ue++],done:!Ve}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(Ve,$e){var Be=typeof Symbol=="function"&&Ve[Symbol.iterator];if(!Be)return Ve;var Ue=Be.call(Ve),ze,qe=[],He;try{for(;($e===void 0||$e-- >0)&&!(ze=Ue.next()).done;)qe.push(ze.value)}catch(We){He={error:We}}finally{try{ze&&!ze.done&&(Be=Ue.return)&&Be.call(Ue)}finally{if(He)throw He.error}}return qe}function __spread(){for(var Ve=[],$e=0;$e<arguments.length;$e++)Ve=Ve.concat(__read(arguments[$e]));return Ve}function __spreadArrays(){for(var Ve=0,$e=0,Be=arguments.length;$e<Be;$e++)Ve+=arguments[$e].length;for(var Ue=Array(Ve),ze=0,$e=0;$e<Be;$e++)for(var qe=arguments[$e],He=0,We=qe.length;He<We;He++,ze++)Ue[ze]=qe[He];return Ue}function __spreadArray(Ve,$e,Be){if(Be||arguments.length===2)for(var Ue=0,ze=$e.length,qe;Ue<ze;Ue++)(qe||!(Ue in $e))&&(qe||(qe=Array.prototype.slice.call($e,0,Ue)),qe[Ue]=$e[Ue]);return Ve.concat(qe||Array.prototype.slice.call($e))}function __await(Ve){return this instanceof __await?(this.v=Ve,this):new __await(Ve)}function __asyncGenerator(Ve,$e,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue=Be.apply(Ve,$e||[]),ze,qe=[];return ze=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),We("next"),We("throw"),We("return",He),ze[Symbol.asyncIterator]=function(){return this},ze;function He(Ze){return function(rr){return Promise.resolve(rr).then(Ze,Je)}}function We(Ze,rr){Ue[Ze]&&(ze[Ze]=function(nr){return new Promise(function(ar,sr){qe.push([Ze,nr,ar,sr])>1||Ge(Ze,nr)})},rr&&(ze[Ze]=rr(ze[Ze])))}function Ge(Ze,rr){try{Ye(Ue[Ze](rr))}catch(nr){er(qe[0][3],nr)}}function Ye(Ze){Ze.value instanceof __await?Promise.resolve(Ze.value.v).then(Xe,Je):er(qe[0][2],Ze)}function Xe(Ze){Ge("next",Ze)}function Je(Ze){Ge("throw",Ze)}function er(Ze,rr){Ze(rr),qe.shift(),qe.length&&Ge(qe[0][0],qe[0][1])}}function __asyncDelegator(Ve){var $e,Be;return $e={},Ue("next"),Ue("throw",function(ze){throw ze}),Ue("return"),$e[Symbol.iterator]=function(){return this},$e;function Ue(ze,qe){$e[ze]=Ve[ze]?function(He){return(Be=!Be)?{value:__await(Ve[ze](He)),done:!1}:qe?qe(He):He}:qe}}function __asyncValues(Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e=Ve[Symbol.asyncIterator],Be;return $e?$e.call(Ve):(Ve=typeof __values=="function"?__values(Ve):Ve[Symbol.iterator](),Be={},Ue("next"),Ue("throw"),Ue("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function Ue(qe){Be[qe]=Ve[qe]&&function(He){return new Promise(function(We,Ge){He=Ve[qe](He),ze(We,Ge,He.done,He.value)})}}function ze(qe,He,We,Ge){Promise.resolve(Ge).then(function(Ye){qe({value:Ye,done:We})},He)}}function __makeTemplateObject(Ve,$e){return Object.defineProperty?Object.defineProperty(Ve,"raw",{value:$e}):Ve.raw=$e,Ve}var __setModuleDefault=Object.create?(function(Ve,$e){Object.defineProperty(Ve,"default",{enumerable:!0,value:$e})}):function(Ve,$e){Ve.default=$e},ownKeys=function(Ve){return ownKeys=Object.getOwnPropertyNames||function($e){var Be=[];for(var Ue in $e)Object.prototype.hasOwnProperty.call($e,Ue)&&(Be[Be.length]=Ue);return Be},ownKeys(Ve)};function __importStar(Ve){if(Ve&&Ve.__esModule)return Ve;var $e={};if(Ve!=null)for(var Be=ownKeys(Ve),Ue=0;Ue<Be.length;Ue++)Be[Ue]!=="default"&&__createBinding($e,Ve,Be[Ue]);return __setModuleDefault($e,Ve),$e}function __importDefault(Ve){return Ve&&Ve.__esModule?Ve:{default:Ve}}function __classPrivateFieldGet(Ve,$e,Be,Ue){if(Be==="a"&&!Ue)throw new TypeError("Private accessor was defined without a getter");if(typeof $e=="function"?Ve!==$e||!Ue:!$e.has(Ve))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Be==="m"?Ue:Be==="a"?Ue.call(Ve):Ue?Ue.value:$e.get(Ve)}function __classPrivateFieldSet(Ve,$e,Be,Ue,ze){if(Ue==="m")throw new TypeError("Private method is not writable");if(Ue==="a"&&!ze)throw new TypeError("Private accessor was defined without a setter");if(typeof $e=="function"?Ve!==$e||!ze:!$e.has(Ve))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Ue==="a"?ze.call(Ve,Be):ze?ze.value=Be:$e.set(Ve,Be),Be}function __classPrivateFieldIn(Ve,$e){if($e===null||typeof $e!="object"&&typeof $e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Ve=="function"?$e===Ve:Ve.has($e)}function __addDisposableResource(Ve,$e,Be){if($e!=null){if(typeof $e!="object"&&typeof $e!="function")throw new TypeError("Object expected.");var Ue,ze;if(Be){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Ue=$e[Symbol.asyncDispose]}if(Ue===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Ue=$e[Symbol.dispose],Be&&(ze=Ue)}if(typeof Ue!="function")throw new TypeError("Object not disposable.");ze&&(Ue=function(){try{ze.call(this)}catch(qe){return Promise.reject(qe)}}),Ve.stack.push({value:$e,dispose:Ue,async:Be})}else Be&&Ve.stack.push({async:!0});return $e}var _SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(Ve,$e,Be){var Ue=new Error(Be);return Ue.name="SuppressedError",Ue.error=Ve,Ue.suppressed=$e,Ue};function __disposeResources(Ve){function $e(qe){Ve.error=Ve.hasError?new _SuppressedError(qe,Ve.error,"An error was suppressed during disposal."):qe,Ve.hasError=!0}var Be,Ue=0;function ze(){for(;Be=Ve.stack.pop();)try{if(!Be.async&&Ue===1)return Ue=0,Ve.stack.push(Be),Promise.resolve().then(ze);if(Be.dispose){var qe=Be.dispose.call(Be.value);if(Be.async)return Ue|=2,Promise.resolve(qe).then(ze,function(He){return $e(He),ze()})}else Ue|=1}catch(He){$e(He)}if(Ue===1)return Ve.hasError?Promise.reject(Ve.error):Promise.resolve();if(Ve.hasError)throw Ve.error}return ze()}function __rewriteRelativeImportExtension(Ve,$e){return typeof Ve=="string"&&/^\.\.?\//.test(Ve)?Ve.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(Be,Ue,ze,qe,He){return Ue?$e?".jsx":".js":ze&&(!qe||!He)?Be:ze+qe+"."+He.toLowerCase()+"js"}):Ve}const tslib_es6={__extends,__assign,__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldIn,__classPrivateFieldSet,__createBinding,__decorate,__disposeResources,__esDecorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__propKey,__read,__rest,__rewriteRelativeImportExtension,__runInitializers,__setFunctionName,__spread,__spreadArray,__spreadArrays,__values,default:tslib_es6},Symbol.toStringTag,{value:"Module"}));var UserAgent_DEPRECATED_1,hasRequiredUserAgent_DEPRECATED;function requireUserAgent_DEPRECATED(){if(hasRequiredUserAgent_DEPRECATED)return UserAgent_DEPRECATED_1;hasRequiredUserAgent_DEPRECATED=1;var Ve=!1,$e,Be,Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er,Ze,rr,nr;function ar(){if(!Ve){Ve=!0;var lr=navigator.userAgent,or=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(lr),cr=/(Mac OS X)|(Windows)|(Linux)/.exec(lr);if(er=/\b(iPhone|iP[ao]d)/.exec(lr),Ze=/\b(iP[ao]d)/.exec(lr),Xe=/Android/i.exec(lr),rr=/FBAN\/\w+;/i.exec(lr),nr=/Mobile/i.exec(lr),Je=!!/Win64/.exec(lr),or){$e=or[1]?parseFloat(or[1]):or[5]?parseFloat(or[5]):NaN,$e&&document&&document.documentMode&&($e=document.documentMode);var hr=/(?:Trident\/(\d+.\d+))/.exec(lr);He=hr?parseFloat(hr[1])+4:$e,Be=or[2]?parseFloat(or[2]):NaN,Ue=or[3]?parseFloat(or[3]):NaN,ze=or[4]?parseFloat(or[4]):NaN,ze?(or=/(?:Chrome\/(\d+\.\d+))/.exec(lr),qe=or&&or[1]?parseFloat(or[1]):NaN):qe=NaN}else $e=Be=Ue=qe=ze=NaN;if(cr){if(cr[1]){var yr=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(lr);We=yr?parseFloat(yr[1].replace("_",".")):!0}else We=!1;Ge=!!cr[2],Ye=!!cr[3]}else We=Ge=Ye=!1}}var sr={ie:function(){return ar()||$e},ieCompatibilityMode:function(){return ar()||He>$e},ie64:function(){return sr.ie()&&Je},firefox:function(){return ar()||Be},opera:function(){return ar()||Ue},webkit:function(){return ar()||ze},safari:function(){return sr.webkit()},chrome:function(){return ar()||qe},windows:function(){return ar()||Ge},osx:function(){return ar()||We},linux:function(){return ar()||Ye},iphone:function(){return ar()||er},mobile:function(){return ar()||er||Ze||Xe||nr},nativeApp:function(){return ar()||rr},android:function(){return ar()||Xe},ipad:function(){return ar()||Ze}};return UserAgent_DEPRECATED_1=sr,UserAgent_DEPRECATED_1}var ExecutionEnvironment_1,hasRequiredExecutionEnvironment;function requireExecutionEnvironment(){if(hasRequiredExecutionEnvironment)return ExecutionEnvironment_1;hasRequiredExecutionEnvironment=1;var Ve=!!(typeof window<"u"&&window.document&&window.document.createElement),$e={canUseDOM:Ve,canUseWorkers:typeof Worker<"u",canUseEventListeners:Ve&&!!(window.addEventListener||window.attachEvent),canUseViewport:Ve&&!!window.screen,isInWorker:!Ve};return ExecutionEnvironment_1=$e,ExecutionEnvironment_1}var isEventSupported_1,hasRequiredIsEventSupported;function requireIsEventSupported(){if(hasRequiredIsEventSupported)return isEventSupported_1;hasRequiredIsEventSupported=1;var Ve=requireExecutionEnvironment(),$e;Ve.canUseDOM&&($e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Be(Ue,ze){if(!Ve.canUseDOM||ze&&!("addEventListener"in document))return!1;var qe="on"+Ue,He=qe in document;if(!He){var We=document.createElement("div");We.setAttribute(qe,"return;"),He=typeof We[qe]=="function"}return!He&&$e&&Ue==="wheel"&&(He=document.implementation.hasFeature("Events.wheel","3.0")),He}return isEventSupported_1=Be,isEventSupported_1}var normalizeWheel_1,hasRequiredNormalizeWheel$1;function requireNormalizeWheel$1(){if(hasRequiredNormalizeWheel$1)return normalizeWheel_1;hasRequiredNormalizeWheel$1=1;var Ve=requireUserAgent_DEPRECATED(),$e=requireIsEventSupported(),Be=10,Ue=40,ze=800;function qe(He){var We=0,Ge=0,Ye=0,Xe=0;return"detail"in He&&(Ge=He.detail),"wheelDelta"in He&&(Ge=-He.wheelDelta/120),"wheelDeltaY"in He&&(Ge=-He.wheelDeltaY/120),"wheelDeltaX"in He&&(We=-He.wheelDeltaX/120),"axis"in He&&He.axis===He.HORIZONTAL_AXIS&&(We=Ge,Ge=0),Ye=We*Be,Xe=Ge*Be,"deltaY"in He&&(Xe=He.deltaY),"deltaX"in He&&(Ye=He.deltaX),(Ye||Xe)&&He.deltaMode&&(He.deltaMode==1?(Ye*=Ue,Xe*=Ue):(Ye*=ze,Xe*=ze)),Ye&&!We&&(We=Ye<1?-1:1),Xe&&!Ge&&(Ge=Xe<1?-1:1),{spinX:We,spinY:Ge,pixelX:Ye,pixelY:Xe}}return qe.getEventType=function(){return Ve.firefox()?"DOMMouseScroll":$e("wheel")?"wheel":"mousewheel"},normalizeWheel_1=qe,normalizeWheel_1}var normalizeWheel$1,hasRequiredNormalizeWheel;function requireNormalizeWheel(){return hasRequiredNormalizeWheel||(hasRequiredNormalizeWheel=1,normalizeWheel$1=requireNormalizeWheel$1()),normalizeWheel$1}var normalizeWheelExports=requireNormalizeWheel();const normalizeWheel=getDefaultExportFromCjs(normalizeWheelExports);function getCropSize(Ve,$e,Be,Ue,ze,qe){qe===void 0&&(qe=0);var He=rotateSize(Ve,$e,qe),We=He.width,Ge=He.height,Ye=Math.min(We,Be),Xe=Math.min(Ge,Ue);return Ye>Xe*ze?{width:Xe*ze,height:Xe}:{width:Ye,height:Ye/ze}}function getMediaZoom(Ve){return Ve.width>Ve.height?Ve.width/Ve.naturalWidth:Ve.height/Ve.naturalHeight}function restrictPosition(Ve,$e,Be,Ue,ze){ze===void 0&&(ze=0);var qe=rotateSize($e.width,$e.height,ze),He=qe.width,We=qe.height;return{x:restrictPositionCoord(Ve.x,He,Be.width,Ue),y:restrictPositionCoord(Ve.y,We,Be.height,Ue)}}function restrictPositionCoord(Ve,$e,Be,Ue){var ze=$e*Ue/2-Be/2;return clamp(Ve,-ze,ze)}function getDistanceBetweenPoints(Ve,$e){return Math.sqrt(Math.pow(Ve.y-$e.y,2)+Math.pow(Ve.x-$e.x,2))}function getRotationBetweenPoints(Ve,$e){return Math.atan2($e.y-Ve.y,$e.x-Ve.x)*180/Math.PI}function computeCroppedArea(Ve,$e,Be,Ue,ze,qe,He){qe===void 0&&(qe=0),He===void 0&&(He=!0);var We=He?limitArea:noOp,Ge=rotateSize($e.width,$e.height,qe),Ye=rotateSize($e.naturalWidth,$e.naturalHeight,qe),Xe={x:We(100,((Ge.width-Be.width/ze)/2-Ve.x/ze)/Ge.width*100),y:We(100,((Ge.height-Be.height/ze)/2-Ve.y/ze)/Ge.height*100),width:We(100,Be.width/Ge.width*100/ze),height:We(100,Be.height/Ge.height*100/ze)},Je=Math.round(We(Ye.width,Xe.width*Ye.width/100)),er=Math.round(We(Ye.height,Xe.height*Ye.height/100)),Ze=Ye.width>=Ye.height*Ue,rr=Ze?{width:Math.round(er*Ue),height:er}:{width:Je,height:Math.round(Je/Ue)},nr=__assign(__assign({},rr),{x:Math.round(We(Ye.width-rr.width,Xe.x*Ye.width/100)),y:Math.round(We(Ye.height-rr.height,Xe.y*Ye.height/100))});return{croppedAreaPercentages:Xe,croppedAreaPixels:nr}}function limitArea(Ve,$e){return Math.min(Ve,Math.max(0,$e))}function noOp(Ve,$e){return $e}function getInitialCropFromCroppedAreaPercentages(Ve,$e,Be,Ue,ze,qe){var He=rotateSize($e.width,$e.height,Be),We=clamp(Ue.width/He.width*(100/Ve.width),ze,qe),Ge={x:We*He.width/2-Ue.width/2-He.width*We*(Ve.x/100),y:We*He.height/2-Ue.height/2-He.height*We*(Ve.y/100)};return{crop:Ge,zoom:We}}function getZoomFromCroppedAreaPixels(Ve,$e,Be){var Ue=getMediaZoom($e);return Be.height>Be.width?Be.height/(Ve.height*Ue):Be.width/(Ve.width*Ue)}function getInitialCropFromCroppedAreaPixels(Ve,$e,Be,Ue,ze,qe){Be===void 0&&(Be=0);var He=rotateSize($e.naturalWidth,$e.naturalHeight,Be),We=clamp(getZoomFromCroppedAreaPixels(Ve,$e,Ue),ze,qe),Ge=Ue.height>Ue.width?Ue.height/Ve.height:Ue.width/Ve.width,Ye={x:((He.width-Ve.width)/2-Ve.x)*Ge,y:((He.height-Ve.height)/2-Ve.y)*Ge};return{crop:Ye,zoom:We}}function getCenter(Ve,$e){return{x:($e.x+Ve.x)/2,y:($e.y+Ve.y)/2}}function getRadianAngle(Ve){return Ve*Math.PI/180}function rotateSize(Ve,$e,Be){var Ue=getRadianAngle(Be);return{width:Math.abs(Math.cos(Ue)*Ve)+Math.abs(Math.sin(Ue)*$e),height:Math.abs(Math.sin(Ue)*Ve)+Math.abs(Math.cos(Ue)*$e)}}function clamp(Ve,$e,Be){return Math.min(Math.max(Ve,$e),Be)}function classNames(){for(var Ve=[],$e=0;$e<arguments.length;$e++)Ve[$e]=arguments[$e];return Ve.filter(function(Be){return typeof Be=="string"&&Be.length>0}).join(" ").trim()}var css_248z=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,MIN_ZOOM=1,MAX_ZOOM=3,KEYBOARD_STEP=1,Cropper=(function(Ve){__extends($e,Ve);function $e(){var Be=Ve!==null&&Ve.apply(this,arguments)||this;return Be.cropperRef=reactExports.createRef(),Be.imageRef=reactExports.createRef(),Be.videoRef=reactExports.createRef(),Be.containerPosition={x:0,y:0},Be.containerRef=null,Be.styleRef=null,Be.containerRect=null,Be.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},Be.dragStartPosition={x:0,y:0},Be.dragStartCrop={x:0,y:0},Be.gestureZoomStart=0,Be.gestureRotationStart=0,Be.isTouching=!1,Be.lastPinchDistance=0,Be.lastPinchRotation=0,Be.rafDragTimeout=null,Be.rafPinchTimeout=null,Be.wheelTimer=null,Be.currentDoc=typeof document<"u"?document:null,Be.currentWindow=typeof window<"u"?window:null,Be.resizeObserver=null,Be.previousCropSize=null,Be.isInitialized=!1,Be.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},Be.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!Be.containerRef)){var Ue=!0;Be.resizeObserver=new window.ResizeObserver(function(ze){if(Ue){Ue=!1;return}Be.computeSizes()}),Be.resizeObserver.observe(Be.containerRef)}},Be.preventZoomSafari=function(Ue){return Ue.preventDefault()},Be.cleanEvents=function(){Be.currentDoc&&(Be.currentDoc.removeEventListener("mousemove",Be.onMouseMove),Be.currentDoc.removeEventListener("mouseup",Be.onDragStopped),Be.currentDoc.removeEventListener("touchmove",Be.onTouchMove),Be.currentDoc.removeEventListener("touchend",Be.onDragStopped),Be.currentDoc.removeEventListener("gesturechange",Be.onGestureChange),Be.currentDoc.removeEventListener("gestureend",Be.onGestureEnd),Be.currentDoc.removeEventListener("scroll",Be.onScroll))},Be.clearScrollEvent=function(){Be.containerRef&&Be.containerRef.removeEventListener("wheel",Be.onWheel),Be.wheelTimer&&clearTimeout(Be.wheelTimer)},Be.onMediaLoad=function(){var Ue=Be.computeSizes();Ue&&(Be.previousCropSize=Ue,Be.emitCropData(),Be.setInitialCrop(Ue),Be.isInitialized=!0),Be.props.onMediaLoaded&&Be.props.onMediaLoaded(Be.mediaSize)},Be.setInitialCrop=function(Ue){if(Be.props.initialCroppedAreaPercentages){var ze=getInitialCropFromCroppedAreaPercentages(Be.props.initialCroppedAreaPercentages,Be.mediaSize,Be.props.rotation,Ue,Be.props.minZoom,Be.props.maxZoom),qe=ze.crop,He=ze.zoom;Be.props.onCropChange(qe),Be.props.onZoomChange&&Be.props.onZoomChange(He)}else if(Be.props.initialCroppedAreaPixels){var We=getInitialCropFromCroppedAreaPixels(Be.props.initialCroppedAreaPixels,Be.mediaSize,Be.props.rotation,Ue,Be.props.minZoom,Be.props.maxZoom),qe=We.crop,He=We.zoom;Be.props.onCropChange(qe),Be.props.onZoomChange&&Be.props.onZoomChange(He)}},Be.computeSizes=function(){var Ue,ze,qe,He,We,Ge,Ye=Be.imageRef.current||Be.videoRef.current;if(Ye&&Be.containerRef){Be.containerRect=Be.containerRef.getBoundingClientRect(),Be.saveContainerPosition();var Xe=Be.containerRect.width/Be.containerRect.height,Je=((Ue=Be.imageRef.current)===null||Ue===void 0?void 0:Ue.naturalWidth)||((ze=Be.videoRef.current)===null||ze===void 0?void 0:ze.videoWidth)||0,er=((qe=Be.imageRef.current)===null||qe===void 0?void 0:qe.naturalHeight)||((He=Be.videoRef.current)===null||He===void 0?void 0:He.videoHeight)||0,Ze=Ye.offsetWidth<Je||Ye.offsetHeight<er,rr=Je/er,nr=void 0;if(Ze)switch(Be.state.mediaObjectFit){default:case"contain":nr=Xe>rr?{width:Be.containerRect.height*rr,height:Be.containerRect.height}:{width:Be.containerRect.width,height:Be.containerRect.width/rr};break;case"horizontal-cover":nr={width:Be.containerRect.width,height:Be.containerRect.width/rr};break;case"vertical-cover":nr={width:Be.containerRect.height*rr,height:Be.containerRect.height};break}else nr={width:Ye.offsetWidth,height:Ye.offsetHeight};Be.mediaSize=__assign(__assign({},nr),{naturalWidth:Je,naturalHeight:er}),Be.props.setMediaSize&&Be.props.setMediaSize(Be.mediaSize);var ar=Be.props.cropSize?Be.props.cropSize:getCropSize(Be.mediaSize.width,Be.mediaSize.height,Be.containerRect.width,Be.containerRect.height,Be.props.aspect,Be.props.rotation);return(((We=Be.state.cropSize)===null||We===void 0?void 0:We.height)!==ar.height||((Ge=Be.state.cropSize)===null||Ge===void 0?void 0:Ge.width)!==ar.width)&&Be.props.onCropSizeChange&&Be.props.onCropSizeChange(ar),Be.setState({cropSize:ar},Be.recomputeCropPosition),Be.props.setCropSize&&Be.props.setCropSize(ar),ar}},Be.saveContainerPosition=function(){if(Be.containerRef){var Ue=Be.containerRef.getBoundingClientRect();Be.containerPosition={x:Ue.left,y:Ue.top}}},Be.onMouseDown=function(Ue){Be.currentDoc&&(Ue.preventDefault(),Be.currentDoc.addEventListener("mousemove",Be.onMouseMove),Be.currentDoc.addEventListener("mouseup",Be.onDragStopped),Be.saveContainerPosition(),Be.onDragStart($e.getMousePoint(Ue)))},Be.onMouseMove=function(Ue){return Be.onDrag($e.getMousePoint(Ue))},Be.onScroll=function(Ue){Be.currentDoc&&(Ue.preventDefault(),Be.saveContainerPosition())},Be.onTouchStart=function(Ue){Be.currentDoc&&(Be.isTouching=!0,!(Be.props.onTouchRequest&&!Be.props.onTouchRequest(Ue))&&(Be.currentDoc.addEventListener("touchmove",Be.onTouchMove,{passive:!1}),Be.currentDoc.addEventListener("touchend",Be.onDragStopped),Be.saveContainerPosition(),Ue.touches.length===2?Be.onPinchStart(Ue):Ue.touches.length===1&&Be.onDragStart($e.getTouchPoint(Ue.touches[0]))))},Be.onTouchMove=function(Ue){Ue.preventDefault(),Ue.touches.length===2?Be.onPinchMove(Ue):Ue.touches.length===1&&Be.onDrag($e.getTouchPoint(Ue.touches[0]))},Be.onGestureStart=function(Ue){Be.currentDoc&&(Ue.preventDefault(),Be.currentDoc.addEventListener("gesturechange",Be.onGestureChange),Be.currentDoc.addEventListener("gestureend",Be.onGestureEnd),Be.gestureZoomStart=Be.props.zoom,Be.gestureRotationStart=Be.props.rotation)},Be.onGestureChange=function(Ue){if(Ue.preventDefault(),!Be.isTouching){var ze=$e.getMousePoint(Ue),qe=Be.gestureZoomStart-1+Ue.scale;if(Be.setNewZoom(qe,ze,{shouldUpdatePosition:!0}),Be.props.onRotationChange){var He=Be.gestureRotationStart+Ue.rotation;Be.props.onRotationChange(He)}}},Be.onGestureEnd=function(Ue){Be.cleanEvents()},Be.onDragStart=function(Ue){var ze,qe,He=Ue.x,We=Ue.y;Be.dragStartPosition={x:He,y:We},Be.dragStartCrop=__assign({},Be.props.crop),(qe=(ze=Be.props).onInteractionStart)===null||qe===void 0||qe.call(ze)},Be.onDrag=function(Ue){var ze=Ue.x,qe=Ue.y;Be.currentWindow&&(Be.rafDragTimeout&&Be.currentWindow.cancelAnimationFrame(Be.rafDragTimeout),Be.rafDragTimeout=Be.currentWindow.requestAnimationFrame(function(){if(Be.state.cropSize&&!(ze===void 0||qe===void 0)){var He=ze-Be.dragStartPosition.x,We=qe-Be.dragStartPosition.y,Ge={x:Be.dragStartCrop.x+He,y:Be.dragStartCrop.y+We},Ye=Be.props.restrictPosition?restrictPosition(Ge,Be.mediaSize,Be.state.cropSize,Be.props.zoom,Be.props.rotation):Ge;Be.props.onCropChange(Ye)}}))},Be.onDragStopped=function(){var Ue,ze;Be.isTouching=!1,Be.cleanEvents(),Be.emitCropData(),(ze=(Ue=Be.props).onInteractionEnd)===null||ze===void 0||ze.call(Ue)},Be.onWheel=function(Ue){if(Be.currentWindow&&!(Be.props.onWheelRequest&&!Be.props.onWheelRequest(Ue))){Ue.preventDefault();var ze=$e.getMousePoint(Ue),qe=normalizeWheel(Ue).pixelY,He=Be.props.zoom-qe*Be.props.zoomSpeed/200;Be.setNewZoom(He,ze,{shouldUpdatePosition:!0}),Be.state.hasWheelJustStarted||Be.setState({hasWheelJustStarted:!0},function(){var We,Ge;return(Ge=(We=Be.props).onInteractionStart)===null||Ge===void 0?void 0:Ge.call(We)}),Be.wheelTimer&&clearTimeout(Be.wheelTimer),Be.wheelTimer=Be.currentWindow.setTimeout(function(){return Be.setState({hasWheelJustStarted:!1},function(){var We,Ge;return(Ge=(We=Be.props).onInteractionEnd)===null||Ge===void 0?void 0:Ge.call(We)})},250)}},Be.getPointOnContainer=function(Ue,ze){var qe=Ue.x,He=Ue.y;if(!Be.containerRect)throw new Error("The Cropper is not mounted");return{x:Be.containerRect.width/2-(qe-ze.x),y:Be.containerRect.height/2-(He-ze.y)}},Be.getPointOnMedia=function(Ue){var ze=Ue.x,qe=Ue.y,He=Be.props,We=He.crop,Ge=He.zoom;return{x:(ze+We.x)/Ge,y:(qe+We.y)/Ge}},Be.setNewZoom=function(Ue,ze,qe){var He=qe===void 0?{}:qe,We=He.shouldUpdatePosition,Ge=We===void 0?!0:We;if(!(!Be.state.cropSize||!Be.props.onZoomChange)){var Ye=clamp(Ue,Be.props.minZoom,Be.props.maxZoom);if(Ge){var Xe=Be.getPointOnContainer(ze,Be.containerPosition),Je=Be.getPointOnMedia(Xe),er={x:Je.x*Ye-Xe.x,y:Je.y*Ye-Xe.y},Ze=Be.props.restrictPosition?restrictPosition(er,Be.mediaSize,Be.state.cropSize,Ye,Be.props.rotation):er;Be.props.onCropChange(Ze)}Be.props.onZoomChange(Ye)}},Be.getCropData=function(){if(!Be.state.cropSize)return null;var Ue=Be.props.restrictPosition?restrictPosition(Be.props.crop,Be.mediaSize,Be.state.cropSize,Be.props.zoom,Be.props.rotation):Be.props.crop;return computeCroppedArea(Ue,Be.mediaSize,Be.state.cropSize,Be.getAspect(),Be.props.zoom,Be.props.rotation,Be.props.restrictPosition)},Be.emitCropData=function(){var Ue=Be.getCropData();if(Ue){var ze=Ue.croppedAreaPercentages,qe=Ue.croppedAreaPixels;Be.props.onCropComplete&&Be.props.onCropComplete(ze,qe),Be.props.onCropAreaChange&&Be.props.onCropAreaChange(ze,qe)}},Be.emitCropAreaChange=function(){var Ue=Be.getCropData();if(Ue){var ze=Ue.croppedAreaPercentages,qe=Ue.croppedAreaPixels;Be.props.onCropAreaChange&&Be.props.onCropAreaChange(ze,qe)}},Be.recomputeCropPosition=function(){if(Be.state.cropSize){var Ue=Be.props.crop;if(Be.isInitialized&&Be.previousCropSize){var ze=Math.abs(Be.previousCropSize.width-Be.state.cropSize.width)>1e-6||Math.abs(Be.previousCropSize.height-Be.state.cropSize.height)>1e-6;if(ze){var qe=Be.state.cropSize.width/Be.previousCropSize.width,He=Be.state.cropSize.height/Be.previousCropSize.height;Ue={x:Be.props.crop.x*qe,y:Be.props.crop.y*He}}}var We=Be.props.restrictPosition?restrictPosition(Ue,Be.mediaSize,Be.state.cropSize,Be.props.zoom,Be.props.rotation):Ue;Be.previousCropSize=Be.state.cropSize,Be.props.onCropChange(We),Be.emitCropData()}},Be.onKeyDown=function(Ue){var ze,qe,He=Be.props,We=He.crop,Ge=He.onCropChange,Ye=He.keyboardStep,Xe=He.zoom,Je=He.rotation,er=Ye;if(Be.state.cropSize){Ue.shiftKey&&(er*=.2);var Ze=__assign({},We);switch(Ue.key){case"ArrowUp":Ze.y-=er,Ue.preventDefault();break;case"ArrowDown":Ze.y+=er,Ue.preventDefault();break;case"ArrowLeft":Ze.x-=er,Ue.preventDefault();break;case"ArrowRight":Ze.x+=er,Ue.preventDefault();break;default:return}Be.props.restrictPosition&&(Ze=restrictPosition(Ze,Be.mediaSize,Be.state.cropSize,Xe,Je)),Ue.repeat||(qe=(ze=Be.props).onInteractionStart)===null||qe===void 0||qe.call(ze),Ge(Ze)}},Be.onKeyUp=function(Ue){var ze,qe;switch(Ue.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":Ue.preventDefault();break;default:return}Be.emitCropData(),(qe=(ze=Be.props).onInteractionEnd)===null||qe===void 0||qe.call(ze)},Be}return $e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=css_248z,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},$e.prototype.componentWillUnmount=function(){var Be,Ue;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(Be=this.resizeObserver)===null||Be===void 0||Be.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((Ue=this.styleRef.parentNode)===null||Ue===void 0||Ue.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},$e.prototype.componentDidUpdate=function(Be){var Ue,ze,qe,He,We,Ge,Ye,Xe,Je;Be.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):Be.aspect!==this.props.aspect?this.computeSizes():Be.objectFit!==this.props.objectFit?this.computeSizes():Be.zoom!==this.props.zoom?this.recomputeCropPosition():((Ue=Be.cropSize)===null||Ue===void 0?void 0:Ue.height)!==((ze=this.props.cropSize)===null||ze===void 0?void 0:ze.height)||((qe=Be.cropSize)===null||qe===void 0?void 0:qe.width)!==((He=this.props.cropSize)===null||He===void 0?void 0:He.width)?this.computeSizes():(((We=Be.crop)===null||We===void 0?void 0:We.x)!==((Ge=this.props.crop)===null||Ge===void 0?void 0:Ge.x)||((Ye=Be.crop)===null||Ye===void 0?void 0:Ye.y)!==((Xe=this.props.crop)===null||Xe===void 0?void 0:Xe.y))&&this.emitCropAreaChange(),Be.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),Be.video!==this.props.video&&((Je=this.videoRef.current)===null||Je===void 0||Je.load());var er=this.getObjectFit();er!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:er},this.computeSizes)},$e.prototype.getAspect=function(){var Be=this.props,Ue=Be.cropSize,ze=Be.aspect;return Ue?Ue.width/Ue.height:ze},$e.prototype.getObjectFit=function(){var Be,Ue,ze,qe;if(this.props.objectFit==="cover"){var He=this.imageRef.current||this.videoRef.current;if(He&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var We=this.containerRect.width/this.containerRect.height,Ge=((Be=this.imageRef.current)===null||Be===void 0?void 0:Be.naturalWidth)||((Ue=this.videoRef.current)===null||Ue===void 0?void 0:Ue.videoWidth)||0,Ye=((ze=this.imageRef.current)===null||ze===void 0?void 0:ze.naturalHeight)||((qe=this.videoRef.current)===null||qe===void 0?void 0:qe.videoHeight)||0,Xe=Ge/Ye;return Xe<We?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},$e.prototype.onPinchStart=function(Be){var Ue=$e.getTouchPoint(Be.touches[0]),ze=$e.getTouchPoint(Be.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(Ue,ze),this.lastPinchRotation=getRotationBetweenPoints(Ue,ze),this.onDragStart(getCenter(Ue,ze))},$e.prototype.onPinchMove=function(Be){var Ue=this;if(!(!this.currentDoc||!this.currentWindow)){var ze=$e.getTouchPoint(Be.touches[0]),qe=$e.getTouchPoint(Be.touches[1]),He=getCenter(ze,qe);this.onDrag(He),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var We=getDistanceBetweenPoints(ze,qe),Ge=Ue.props.zoom*(We/Ue.lastPinchDistance);Ue.setNewZoom(Ge,He,{shouldUpdatePosition:!1}),Ue.lastPinchDistance=We;var Ye=getRotationBetweenPoints(ze,qe),Xe=Ue.props.rotation+(Ye-Ue.lastPinchRotation);Ue.props.onRotationChange&&Ue.props.onRotationChange(Xe),Ue.lastPinchRotation=Ye})}},$e.prototype.render=function(){var Be=this,Ue,ze=this.props,qe=ze.image,He=ze.video,We=ze.mediaProps,Ge=ze.cropperProps,Ye=ze.transform,Xe=ze.crop,Je=Xe.x,er=Xe.y,Ze=ze.rotation,rr=ze.zoom,nr=ze.cropShape,ar=ze.showGrid,sr=ze.roundCropAreaPixels,lr=ze.style,or=lr.containerStyle,cr=lr.cropAreaStyle,hr=lr.mediaStyle,yr=ze.classes,mr=yr.containerClassName,vr=yr.cropAreaClassName,_r=yr.mediaClassName,Cr=(Ue=this.state.mediaObjectFit)!==null&&Ue!==void 0?Ue:this.getObjectFit();return reactExports.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(fr){return Be.containerRef=fr},"data-testid":"container",style:or,className:classNames("reactEasyCrop_Container",mr)},qe?reactExports.createElement("img",__assign({alt:"",className:classNames("reactEasyCrop_Image",Cr==="contain"&&"reactEasyCrop_Contain",Cr==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Cr==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",_r)},We,{src:qe,ref:this.imageRef,style:__assign(__assign({},hr),{transform:Ye||"translate(".concat(Je,"px, ").concat(er,"px) rotate(").concat(Ze,"deg) scale(").concat(rr,")")}),onLoad:this.onMediaLoad})):He&&reactExports.createElement("video",__assign({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:classNames("reactEasyCrop_Video",Cr==="contain"&&"reactEasyCrop_Contain",Cr==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Cr==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",_r)},We,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign(__assign({},hr),{transform:Ye||"translate(".concat(Je,"px, ").concat(er,"px) rotate(").concat(Ze,"deg) scale(").concat(rr,")")}),controls:!1}),(Array.isArray(He)?He:[{src:He}]).map(function(br){return reactExports.createElement("source",__assign({key:br.src},br))})),this.state.cropSize&&reactExports.createElement("div",__assign({ref:this.cropperRef,style:__assign(__assign({},cr),{width:sr?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:sr?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:classNames("reactEasyCrop_CropArea",nr==="round"&&"reactEasyCrop_CropAreaRound",ar&&"reactEasyCrop_CropAreaGrid",vr)},Ge)))},$e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MAX_ZOOM,minZoom:MIN_ZOOM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:KEYBOARD_STEP},$e.getMousePoint=function(Be){return{x:Number(Be.clientX),y:Number(Be.clientY)}},$e.getTouchPoint=function(Be){return{x:Number(Be.clientX),y:Number(Be.clientY)}},$e})(reactExports.Component);const resolveFetch$4=Ve=>{let $e;return Ve?$e=Ve:typeof fetch>"u"?$e=(...Be)=>__vitePreload(async()=>{const{default:Ue}=await Promise.resolve().then(()=>browser$1);return{default:Ue}},void 0).then(({default:Ue})=>Ue(...Be)):$e=fetch,(...Be)=>$e(...Be)};class FunctionsError extends Error{constructor($e,Be="FunctionsError",Ue){super($e),this.name=Be,this.context=Ue}}class FunctionsFetchError extends FunctionsError{constructor($e){super("Failed to send a request to the Edge Function","FunctionsFetchError",$e)}}class FunctionsRelayError extends FunctionsError{constructor($e){super("Relay Error invoking the Edge Function","FunctionsRelayError",$e)}}class FunctionsHttpError extends FunctionsError{constructor($e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",$e)}}var FunctionRegion;(function(Ve){Ve.Any="any",Ve.ApNortheast1="ap-northeast-1",Ve.ApNortheast2="ap-northeast-2",Ve.ApSouth1="ap-south-1",Ve.ApSoutheast1="ap-southeast-1",Ve.ApSoutheast2="ap-southeast-2",Ve.CaCentral1="ca-central-1",Ve.EuCentral1="eu-central-1",Ve.EuWest1="eu-west-1",Ve.EuWest2="eu-west-2",Ve.EuWest3="eu-west-3",Ve.SaEast1="sa-east-1",Ve.UsEast1="us-east-1",Ve.UsWest1="us-west-1",Ve.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor($e,{headers:Be={},customFetch:Ue,region:ze=FunctionRegion.Any}={}){this.url=$e,this.headers=Be,this.region=ze,this.fetch=resolveFetch$4(Ue)}setAuth($e){this.headers.Authorization=`Bearer ${$e}`}invoke($e){return __awaiter(this,arguments,void 0,function*(Be,Ue={}){var ze;try{const{headers:qe,method:He,body:We,signal:Ge}=Ue;let Ye={},{region:Xe}=Ue;Xe||(Xe=this.region);const Je=new URL(`${this.url}/${Be}`);Xe&&Xe!=="any"&&(Ye["x-region"]=Xe,Je.searchParams.set("forceFunctionRegion",Xe));let er;We&&(qe&&!Object.prototype.hasOwnProperty.call(qe,"Content-Type")||!qe)?typeof Blob<"u"&&We instanceof Blob||We instanceof ArrayBuffer?(Ye["Content-Type"]="application/octet-stream",er=We):typeof We=="string"?(Ye["Content-Type"]="text/plain",er=We):typeof FormData<"u"&&We instanceof FormData?er=We:(Ye["Content-Type"]="application/json",er=JSON.stringify(We)):er=We;const Ze=yield this.fetch(Je.toString(),{method:He||"POST",headers:Object.assign(Object.assign(Object.assign({},Ye),this.headers),qe),body:er,signal:Ge}).catch(sr=>{throw sr.name==="AbortError"?sr:new FunctionsFetchError(sr)}),rr=Ze.headers.get("x-relay-error");if(rr&&rr==="true")throw new FunctionsRelayError(Ze);if(!Ze.ok)throw new FunctionsHttpError(Ze);let nr=((ze=Ze.headers.get("Content-Type"))!==null&&ze!==void 0?ze:"text/plain").split(";")[0].trim(),ar;return nr==="application/json"?ar=yield Ze.json():nr==="application/octet-stream"||nr==="application/pdf"?ar=yield Ze.blob():nr==="text/event-stream"?ar=Ze:nr==="multipart/form-data"?ar=yield Ze.formData():ar=yield Ze.text(),{data:ar,error:null,response:Ze}}catch(qe){return qe instanceof Error&&qe.name==="AbortError"?{data:null,error:new FunctionsFetchError(qe)}:{data:null,error:qe,response:qe instanceof FunctionsHttpError||qe instanceof FunctionsRelayError?qe.context:void 0}}})}}var cjs={};const require$$0=getAugmentedNamespace(tslib_es6$1);var PostgrestClient$1={},PostgrestQueryBuilder$1={},PostgrestFilterBuilder$1={},PostgrestTransformBuilder$1={},PostgrestBuilder$1={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request$1=globalObject.Request,Response$1=globalObject.Response,browser$1=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request:Request$1,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(browser$1);var PostgrestError$1={},hasRequiredPostgrestError;function requirePostgrestError(){if(hasRequiredPostgrestError)return PostgrestError$1;hasRequiredPostgrestError=1,Object.defineProperty(PostgrestError$1,"__esModule",{value:!0});class Ve extends Error{constructor(Be){super(Be.message),this.name="PostgrestError",this.details=Be.details,this.hint=Be.hint,this.code=Be.code}}return PostgrestError$1.default=Ve,PostgrestError$1}var hasRequiredPostgrestBuilder;function requirePostgrestBuilder(){if(hasRequiredPostgrestBuilder)return PostgrestBuilder$1;hasRequiredPostgrestBuilder=1,Object.defineProperty(PostgrestBuilder$1,"__esModule",{value:!0});const Ve=require$$0,$e=Ve.__importDefault(require$$1),Be=Ve.__importDefault(requirePostgrestError());class Ue{constructor(qe){var He,We;this.shouldThrowOnError=!1,this.method=qe.method,this.url=qe.url,this.headers=new Headers(qe.headers),this.schema=qe.schema,this.body=qe.body,this.shouldThrowOnError=(He=qe.shouldThrowOnError)!==null&&He!==void 0?He:!1,this.signal=qe.signal,this.isMaybeSingle=(We=qe.isMaybeSingle)!==null&&We!==void 0?We:!1,qe.fetch?this.fetch=qe.fetch:typeof fetch>"u"?this.fetch=$e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(qe,He){return this.headers=new Headers(this.headers),this.headers.set(qe,He),this}then(qe,He){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const We=this.fetch;let Ge=We(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async Ye=>{var Xe,Je,er,Ze;let rr=null,nr=null,ar=null,sr=Ye.status,lr=Ye.statusText;if(Ye.ok){if(this.method!=="HEAD"){const yr=await Ye.text();yr===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((Xe=this.headers.get("Accept"))===null||Xe===void 0)&&Xe.includes("application/vnd.pgrst.plan+text"))?nr=yr:nr=JSON.parse(yr))}const cr=(Je=this.headers.get("Prefer"))===null||Je===void 0?void 0:Je.match(/count=(exact|planned|estimated)/),hr=(er=Ye.headers.get("content-range"))===null||er===void 0?void 0:er.split("/");cr&&hr&&hr.length>1&&(ar=parseInt(hr[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(nr)&&(nr.length>1?(rr={code:"PGRST116",details:`Results contain ${nr.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},nr=null,ar=null,sr=406,lr="Not Acceptable"):nr.length===1?nr=nr[0]:nr=null)}else{const cr=await Ye.text();try{rr=JSON.parse(cr),Array.isArray(rr)&&Ye.status===404&&(nr=[],rr=null,sr=200,lr="OK")}catch{Ye.status===404&&cr===""?(sr=204,lr="No Content"):rr={message:cr}}if(rr&&this.isMaybeSingle&&(!((Ze=rr?.details)===null||Ze===void 0)&&Ze.includes("0 rows"))&&(rr=null,sr=200,lr="OK"),rr&&this.shouldThrowOnError)throw new Be.default(rr)}return{error:rr,data:nr,count:ar,status:sr,statusText:lr}});return this.shouldThrowOnError||(Ge=Ge.catch(Ye=>{var Xe,Je,er;return{error:{message:`${(Xe=Ye?.name)!==null&&Xe!==void 0?Xe:"FetchError"}: ${Ye?.message}`,details:`${(Je=Ye?.stack)!==null&&Je!==void 0?Je:""}`,hint:"",code:`${(er=Ye?.code)!==null&&er!==void 0?er:""}`},data:null,count:null,status:0,statusText:""}})),Ge.then(qe,He)}returns(){return this}overrideTypes(){return this}}return PostgrestBuilder$1.default=Ue,PostgrestBuilder$1}var hasRequiredPostgrestTransformBuilder;function requirePostgrestTransformBuilder(){if(hasRequiredPostgrestTransformBuilder)return PostgrestTransformBuilder$1;hasRequiredPostgrestTransformBuilder=1,Object.defineProperty(PostgrestTransformBuilder$1,"__esModule",{value:!0});const $e=require$$0.__importDefault(requirePostgrestBuilder());class Be extends $e.default{select(ze){let qe=!1;const He=(ze??"*").split("").map(We=>/\s/.test(We)&&!qe?"":(We==='"'&&(qe=!qe),We)).join("");return this.url.searchParams.set("select",He),this.headers.append("Prefer","return=representation"),this}order(ze,{ascending:qe=!0,nullsFirst:He,foreignTable:We,referencedTable:Ge=We}={}){const Ye=Ge?`${Ge}.order`:"order",Xe=this.url.searchParams.get(Ye);return this.url.searchParams.set(Ye,`${Xe?`${Xe},`:""}${ze}.${qe?"asc":"desc"}${He===void 0?"":He?".nullsfirst":".nullslast"}`),this}limit(ze,{foreignTable:qe,referencedTable:He=qe}={}){const We=typeof He>"u"?"limit":`${He}.limit`;return this.url.searchParams.set(We,`${ze}`),this}range(ze,qe,{foreignTable:He,referencedTable:We=He}={}){const Ge=typeof We>"u"?"offset":`${We}.offset`,Ye=typeof We>"u"?"limit":`${We}.limit`;return this.url.searchParams.set(Ge,`${ze}`),this.url.searchParams.set(Ye,`${qe-ze+1}`),this}abortSignal(ze){return this.signal=ze,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:ze=!1,verbose:qe=!1,settings:He=!1,buffers:We=!1,wal:Ge=!1,format:Ye="text"}={}){var Xe;const Je=[ze?"analyze":null,qe?"verbose":null,He?"settings":null,We?"buffers":null,Ge?"wal":null].filter(Boolean).join("|"),er=(Xe=this.headers.get("Accept"))!==null&&Xe!==void 0?Xe:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${Ye}; for="${er}"; options=${Je};`),Ye==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(ze){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${ze}`),this}}return PostgrestTransformBuilder$1.default=Be,PostgrestTransformBuilder$1}var hasRequiredPostgrestFilterBuilder;function requirePostgrestFilterBuilder(){if(hasRequiredPostgrestFilterBuilder)return PostgrestFilterBuilder$1;hasRequiredPostgrestFilterBuilder=1,Object.defineProperty(PostgrestFilterBuilder$1,"__esModule",{value:!0});const $e=require$$0.__importDefault(requirePostgrestTransformBuilder()),Be=new RegExp("[,()]");class Ue extends $e.default{eq(qe,He){return this.url.searchParams.append(qe,`eq.${He}`),this}neq(qe,He){return this.url.searchParams.append(qe,`neq.${He}`),this}gt(qe,He){return this.url.searchParams.append(qe,`gt.${He}`),this}gte(qe,He){return this.url.searchParams.append(qe,`gte.${He}`),this}lt(qe,He){return this.url.searchParams.append(qe,`lt.${He}`),this}lte(qe,He){return this.url.searchParams.append(qe,`lte.${He}`),this}like(qe,He){return this.url.searchParams.append(qe,`like.${He}`),this}likeAllOf(qe,He){return this.url.searchParams.append(qe,`like(all).{${He.join(",")}}`),this}likeAnyOf(qe,He){return this.url.searchParams.append(qe,`like(any).{${He.join(",")}}`),this}ilike(qe,He){return this.url.searchParams.append(qe,`ilike.${He}`),this}ilikeAllOf(qe,He){return this.url.searchParams.append(qe,`ilike(all).{${He.join(",")}}`),this}ilikeAnyOf(qe,He){return this.url.searchParams.append(qe,`ilike(any).{${He.join(",")}}`),this}is(qe,He){return this.url.searchParams.append(qe,`is.${He}`),this}in(qe,He){const We=Array.from(new Set(He)).map(Ge=>typeof Ge=="string"&&Be.test(Ge)?`"${Ge}"`:`${Ge}`).join(",");return this.url.searchParams.append(qe,`in.(${We})`),this}contains(qe,He){return typeof He=="string"?this.url.searchParams.append(qe,`cs.${He}`):Array.isArray(He)?this.url.searchParams.append(qe,`cs.{${He.join(",")}}`):this.url.searchParams.append(qe,`cs.${JSON.stringify(He)}`),this}containedBy(qe,He){return typeof He=="string"?this.url.searchParams.append(qe,`cd.${He}`):Array.isArray(He)?this.url.searchParams.append(qe,`cd.{${He.join(",")}}`):this.url.searchParams.append(qe,`cd.${JSON.stringify(He)}`),this}rangeGt(qe,He){return this.url.searchParams.append(qe,`sr.${He}`),this}rangeGte(qe,He){return this.url.searchParams.append(qe,`nxl.${He}`),this}rangeLt(qe,He){return this.url.searchParams.append(qe,`sl.${He}`),this}rangeLte(qe,He){return this.url.searchParams.append(qe,`nxr.${He}`),this}rangeAdjacent(qe,He){return this.url.searchParams.append(qe,`adj.${He}`),this}overlaps(qe,He){return typeof He=="string"?this.url.searchParams.append(qe,`ov.${He}`):this.url.searchParams.append(qe,`ov.{${He.join(",")}}`),this}textSearch(qe,He,{config:We,type:Ge}={}){let Ye="";Ge==="plain"?Ye="pl":Ge==="phrase"?Ye="ph":Ge==="websearch"&&(Ye="w");const Xe=We===void 0?"":`(${We})`;return this.url.searchParams.append(qe,`${Ye}fts${Xe}.${He}`),this}match(qe){return Object.entries(qe).forEach(([He,We])=>{this.url.searchParams.append(He,`eq.${We}`)}),this}not(qe,He,We){return this.url.searchParams.append(qe,`not.${He}.${We}`),this}or(qe,{foreignTable:He,referencedTable:We=He}={}){const Ge=We?`${We}.or`:"or";return this.url.searchParams.append(Ge,`(${qe})`),this}filter(qe,He,We){return this.url.searchParams.append(qe,`${He}.${We}`),this}}return PostgrestFilterBuilder$1.default=Ue,PostgrestFilterBuilder$1}var hasRequiredPostgrestQueryBuilder;function requirePostgrestQueryBuilder(){if(hasRequiredPostgrestQueryBuilder)return PostgrestQueryBuilder$1;hasRequiredPostgrestQueryBuilder=1,Object.defineProperty(PostgrestQueryBuilder$1,"__esModule",{value:!0});const $e=require$$0.__importDefault(requirePostgrestFilterBuilder());class Be{constructor(ze,{headers:qe={},schema:He,fetch:We}){this.url=ze,this.headers=new Headers(qe),this.schema=He,this.fetch=We}select(ze,qe){const{head:He=!1,count:We}=qe??{},Ge=He?"HEAD":"GET";let Ye=!1;const Xe=(ze??"*").split("").map(Je=>/\s/.test(Je)&&!Ye?"":(Je==='"'&&(Ye=!Ye),Je)).join("");return this.url.searchParams.set("select",Xe),We&&this.headers.append("Prefer",`count=${We}`),new $e.default({method:Ge,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(ze,{count:qe,defaultToNull:He=!0}={}){var We;const Ge="POST";if(qe&&this.headers.append("Prefer",`count=${qe}`),He||this.headers.append("Prefer","missing=default"),Array.isArray(ze)){const Ye=ze.reduce((Xe,Je)=>Xe.concat(Object.keys(Je)),[]);if(Ye.length>0){const Xe=[...new Set(Ye)].map(Je=>`"${Je}"`);this.url.searchParams.set("columns",Xe.join(","))}}return new $e.default({method:Ge,url:this.url,headers:this.headers,schema:this.schema,body:ze,fetch:(We=this.fetch)!==null&&We!==void 0?We:fetch})}upsert(ze,{onConflict:qe,ignoreDuplicates:He=!1,count:We,defaultToNull:Ge=!0}={}){var Ye;const Xe="POST";if(this.headers.append("Prefer",`resolution=${He?"ignore":"merge"}-duplicates`),qe!==void 0&&this.url.searchParams.set("on_conflict",qe),We&&this.headers.append("Prefer",`count=${We}`),Ge||this.headers.append("Prefer","missing=default"),Array.isArray(ze)){const Je=ze.reduce((er,Ze)=>er.concat(Object.keys(Ze)),[]);if(Je.length>0){const er=[...new Set(Je)].map(Ze=>`"${Ze}"`);this.url.searchParams.set("columns",er.join(","))}}return new $e.default({method:Xe,url:this.url,headers:this.headers,schema:this.schema,body:ze,fetch:(Ye=this.fetch)!==null&&Ye!==void 0?Ye:fetch})}update(ze,{count:qe}={}){var He;const We="PATCH";return qe&&this.headers.append("Prefer",`count=${qe}`),new $e.default({method:We,url:this.url,headers:this.headers,schema:this.schema,body:ze,fetch:(He=this.fetch)!==null&&He!==void 0?He:fetch})}delete({count:ze}={}){var qe;const He="DELETE";return ze&&this.headers.append("Prefer",`count=${ze}`),new $e.default({method:He,url:this.url,headers:this.headers,schema:this.schema,fetch:(qe=this.fetch)!==null&&qe!==void 0?qe:fetch})}}return PostgrestQueryBuilder$1.default=Be,PostgrestQueryBuilder$1}var hasRequiredPostgrestClient;function requirePostgrestClient(){if(hasRequiredPostgrestClient)return PostgrestClient$1;hasRequiredPostgrestClient=1,Object.defineProperty(PostgrestClient$1,"__esModule",{value:!0});const Ve=require$$0,$e=Ve.__importDefault(requirePostgrestQueryBuilder()),Be=Ve.__importDefault(requirePostgrestFilterBuilder());class Ue{constructor(qe,{headers:He={},schema:We,fetch:Ge}={}){this.url=qe,this.headers=new Headers(He),this.schemaName=We,this.fetch=Ge}from(qe){const He=new URL(`${this.url}/${qe}`);return new $e.default(He,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(qe){return new Ue(this.url,{headers:this.headers,schema:qe,fetch:this.fetch})}rpc(qe,He={},{head:We=!1,get:Ge=!1,count:Ye}={}){var Xe;let Je;const er=new URL(`${this.url}/rpc/${qe}`);let Ze;We||Ge?(Je=We?"HEAD":"GET",Object.entries(He).filter(([nr,ar])=>ar!==void 0).map(([nr,ar])=>[nr,Array.isArray(ar)?`{${ar.join(",")}}`:`${ar}`]).forEach(([nr,ar])=>{er.searchParams.append(nr,ar)})):(Je="POST",Ze=He);const rr=new Headers(this.headers);return Ye&&rr.set("Prefer",`count=${Ye}`),new Be.default({method:Je,url:er,headers:rr,schema:this.schemaName,body:Ze,fetch:(Xe=this.fetch)!==null&&Xe!==void 0?Xe:fetch})}}return PostgrestClient$1.default=Ue,PostgrestClient$1}var hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1,Object.defineProperty(cjs,"__esModule",{value:!0}),cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const Ve=require$$0,$e=Ve.__importDefault(requirePostgrestClient());cjs.PostgrestClient=$e.default;const Be=Ve.__importDefault(requirePostgrestQueryBuilder());cjs.PostgrestQueryBuilder=Be.default;const Ue=Ve.__importDefault(requirePostgrestFilterBuilder());cjs.PostgrestFilterBuilder=Ue.default;const ze=Ve.__importDefault(requirePostgrestTransformBuilder());cjs.PostgrestTransformBuilder=ze.default;const qe=Ve.__importDefault(requirePostgrestBuilder());cjs.PostgrestBuilder=qe.default;const He=Ve.__importDefault(requirePostgrestError());return cjs.PostgrestError=He.default,cjs.default={PostgrestClient:$e.default,PostgrestQueryBuilder:Be.default,PostgrestFilterBuilder:Ue.default,PostgrestTransformBuilder:ze.default,PostgrestBuilder:qe.default,PostgrestError:He.default},cjs}var cjsExports=requireCjs();const index=getDefaultExportFromCjs(cjsExports),index$1=_mergeNamespaces({__proto__:null,default:index},[cjsExports]),{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=index||index$1;class WebSocketFactory{static detectEnvironment(){var $e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!(($e=navigator.userAgent)===null||$e===void 0)&&$e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const Be=process.versions;if(Be&&Be.node){const Ue=Be.node,ze=parseInt(Ue.replace(/^v/,"").split(".")[0]);return ze>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${ze} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${ze} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const $e=this.detectEnvironment();if($e.constructor)return $e.constructor;let Be=$e.error||"WebSocket not supported in this environment.";throw $e.workaround&&(Be+=`

Suggested solution: ${$e.workaround}`),new Error(Be)}static createWebSocket($e,Be){const Ue=this.getWebSocketConstructor();return new Ue($e,Be)}static isWebSocketSupported(){try{const $e=this.detectEnvironment();return $e.type==="native"||$e.type==="ws"}catch{return!1}}}const version$3="2.78.0",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(Ve){Ve[Ve.connecting=0]="connecting",Ve[Ve.open=1]="open",Ve[Ve.closing=2]="closing",Ve[Ve.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(Ve){Ve.closed="closed",Ve.errored="errored",Ve.joined="joined",Ve.joining="joining",Ve.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(Ve){Ve.close="phx_close",Ve.error="phx_error",Ve.join="phx_join",Ve.reply="phx_reply",Ve.leave="phx_leave",Ve.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(Ve){Ve.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(Ve){Ve.Connecting="connecting",Ve.Open="open",Ve.Closing="closing",Ve.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode($e,Be){return $e.constructor===ArrayBuffer?Be(this._binaryDecode($e)):Be(typeof $e=="string"?JSON.parse($e):{})}_binaryDecode($e){const Be=new DataView($e),Ue=new TextDecoder;return this._decodeBroadcast($e,Be,Ue)}_decodeBroadcast($e,Be,Ue){const ze=Be.getUint8(1),qe=Be.getUint8(2);let He=this.HEADER_LENGTH+2;const We=Ue.decode($e.slice(He,He+ze));He=He+ze;const Ge=Ue.decode($e.slice(He,He+qe));He=He+qe;const Ye=JSON.parse(Ue.decode($e.slice(He,$e.byteLength)));return{ref:null,topic:We,event:Ge,payload:Ye}}}class Timer{constructor($e,Be){this.callback=$e,this.timerCalc=Be,this.timer=void 0,this.tries=0,this.callback=$e,this.timerCalc=Be}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(Ve){Ve.abstime="abstime",Ve.bool="bool",Ve.date="date",Ve.daterange="daterange",Ve.float4="float4",Ve.float8="float8",Ve.int2="int2",Ve.int4="int4",Ve.int4range="int4range",Ve.int8="int8",Ve.int8range="int8range",Ve.json="json",Ve.jsonb="jsonb",Ve.money="money",Ve.numeric="numeric",Ve.oid="oid",Ve.reltime="reltime",Ve.text="text",Ve.time="time",Ve.timestamp="timestamp",Ve.timestamptz="timestamptz",Ve.timetz="timetz",Ve.tsrange="tsrange",Ve.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(Ve,$e,Be={})=>{var Ue;const ze=(Ue=Be.skipTypes)!==null&&Ue!==void 0?Ue:[];return $e?Object.keys($e).reduce((qe,He)=>(qe[He]=convertColumn(He,Ve,$e,ze),qe),{}):{}},convertColumn=(Ve,$e,Be,Ue)=>{const ze=$e.find(We=>We.name===Ve),qe=ze?.type,He=Be[Ve];return qe&&!Ue.includes(qe)?convertCell(qe,He):noop$1(He)},convertCell=(Ve,$e)=>{if(Ve.charAt(0)==="_"){const Be=Ve.slice(1,Ve.length);return toArray($e,Be)}switch(Ve){case PostgresTypes.bool:return toBoolean($e);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber($e);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson($e);case PostgresTypes.timestamp:return toTimestampString($e);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1($e);default:return noop$1($e)}},noop$1=Ve=>Ve,toBoolean=Ve=>{switch(Ve){case"t":return!0;case"f":return!1;default:return Ve}},toNumber=Ve=>{if(typeof Ve=="string"){const $e=parseFloat(Ve);if(!Number.isNaN($e))return $e}return Ve},toJson=Ve=>{if(typeof Ve=="string")try{return JSON.parse(Ve)}catch($e){return console.log(`JSON parse error: ${$e}`),Ve}return Ve},toArray=(Ve,$e)=>{if(typeof Ve!="string")return Ve;const Be=Ve.length-1,Ue=Ve[Be];if(Ve[0]==="{"&&Ue==="}"){let qe;const He=Ve.slice(1,Be);try{qe=JSON.parse("["+He+"]")}catch{qe=He?He.split(","):[]}return qe.map(We=>convertCell($e,We))}return Ve},toTimestampString=Ve=>typeof Ve=="string"?Ve.replace(" ","T"):Ve,httpEndpointURL=Ve=>{const $e=new URL(Ve);return $e.protocol=$e.protocol.replace(/^ws/i,"http"),$e.pathname=$e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),$e.pathname===""||$e.pathname==="/"?$e.pathname="/api/broadcast":$e.pathname=$e.pathname+"/api/broadcast",$e.href};class Push{constructor($e,Be,Ue={},ze=DEFAULT_TIMEOUT){this.channel=$e,this.event=Be,this.payload=Ue,this.timeout=ze,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend($e){this.timeout=$e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload($e){this.payload=Object.assign(Object.assign({},this.payload),$e)}receive($e,Be){var Ue;return this._hasReceived($e)&&Be((Ue=this.receivedResp)===null||Ue===void 0?void 0:Ue.response),this.recHooks.push({status:$e,callback:Be}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const $e=Be=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=Be,this._matchReceive(Be)};this.channel._on(this.refEvent,{},$e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger($e,Be){this.refEvent&&this.channel._trigger(this.refEvent,{status:$e,response:Be})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:$e,response:Be}){this.recHooks.filter(Ue=>Ue.status===$e).forEach(Ue=>Ue.callback(Be))}_hasReceived($e){return this.receivedResp&&this.receivedResp.status===$e}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(Ve){Ve.SYNC="sync",Ve.JOIN="join",Ve.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor($e,Be){this.channel=$e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const Ue=Be?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(Ue.state,{},ze=>{const{onJoin:qe,onLeave:He,onSync:We}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,ze,qe,He),this.pendingDiffs.forEach(Ge=>{this.state=RealtimePresence.syncDiff(this.state,Ge,qe,He)}),this.pendingDiffs=[],We()}),this.channel._on(Ue.diff,{},ze=>{const{onJoin:qe,onLeave:He,onSync:We}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(ze):(this.state=RealtimePresence.syncDiff(this.state,ze,qe,He),We())}),this.onJoin((ze,qe,He)=>{this.channel._trigger("presence",{event:"join",key:ze,currentPresences:qe,newPresences:He})}),this.onLeave((ze,qe,He)=>{this.channel._trigger("presence",{event:"leave",key:ze,currentPresences:qe,leftPresences:He})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState($e,Be,Ue,ze){const qe=this.cloneDeep($e),He=this.transformState(Be),We={},Ge={};return this.map(qe,(Ye,Xe)=>{He[Ye]||(Ge[Ye]=Xe)}),this.map(He,(Ye,Xe)=>{const Je=qe[Ye];if(Je){const er=Xe.map(ar=>ar.presence_ref),Ze=Je.map(ar=>ar.presence_ref),rr=Xe.filter(ar=>Ze.indexOf(ar.presence_ref)<0),nr=Je.filter(ar=>er.indexOf(ar.presence_ref)<0);rr.length>0&&(We[Ye]=rr),nr.length>0&&(Ge[Ye]=nr)}else We[Ye]=Xe}),this.syncDiff(qe,{joins:We,leaves:Ge},Ue,ze)}static syncDiff($e,Be,Ue,ze){const{joins:qe,leaves:He}={joins:this.transformState(Be.joins),leaves:this.transformState(Be.leaves)};return Ue||(Ue=()=>{}),ze||(ze=()=>{}),this.map(qe,(We,Ge)=>{var Ye;const Xe=(Ye=$e[We])!==null&&Ye!==void 0?Ye:[];if($e[We]=this.cloneDeep(Ge),Xe.length>0){const Je=$e[We].map(Ze=>Ze.presence_ref),er=Xe.filter(Ze=>Je.indexOf(Ze.presence_ref)<0);$e[We].unshift(...er)}Ue(We,Xe,Ge)}),this.map(He,(We,Ge)=>{let Ye=$e[We];if(!Ye)return;const Xe=Ge.map(Je=>Je.presence_ref);Ye=Ye.filter(Je=>Xe.indexOf(Je.presence_ref)<0),$e[We]=Ye,ze(We,Ye,Ge),Ye.length===0&&delete $e[We]}),$e}static map($e,Be){return Object.getOwnPropertyNames($e).map(Ue=>Be(Ue,$e[Ue]))}static transformState($e){return $e=this.cloneDeep($e),Object.getOwnPropertyNames($e).reduce((Be,Ue)=>{const ze=$e[Ue];return"metas"in ze?Be[Ue]=ze.metas.map(qe=>(qe.presence_ref=qe.phx_ref,delete qe.phx_ref,delete qe.phx_ref_prev,qe)):Be[Ue]=ze,Be},{})}static cloneDeep($e){return JSON.parse(JSON.stringify($e))}onJoin($e){this.caller.onJoin=$e}onLeave($e){this.caller.onLeave=$e}onSync($e){this.caller.onSync=$e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(Ve){Ve.ALL="*",Ve.INSERT="INSERT",Ve.UPDATE="UPDATE",Ve.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(Ve){Ve.BROADCAST="broadcast",Ve.PRESENCE="presence",Ve.POSTGRES_CHANGES="postgres_changes",Ve.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(Ve){Ve.SUBSCRIBED="SUBSCRIBED",Ve.TIMED_OUT="TIMED_OUT",Ve.CLOSED="CLOSED",Ve.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor($e,Be={config:{}},Ue){var ze,qe;if(this.topic=$e,this.params=Be,this.socket=Ue,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=$e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},Be.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(He=>He.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(He=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,He),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",He=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,He),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(He,We)=>{this._trigger(this._replyEventName(We),He)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((qe=(ze=this.params.config)===null||ze===void 0?void 0:ze.broadcast)===null||qe===void 0)&&qe.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe($e,Be=this.timeout){var Ue,ze,qe;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:He,presence:We,private:Ge}}=this.params,Ye=(ze=(Ue=this.bindings.postgres_changes)===null||Ue===void 0?void 0:Ue.map(Ze=>Ze.filter))!==null&&ze!==void 0?ze:[],Xe=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((qe=this.params.config.presence)===null||qe===void 0?void 0:qe.enabled)===!0,Je={},er={broadcast:He,presence:Object.assign(Object.assign({},We),{enabled:Xe}),postgres_changes:Ye,private:Ge};this.socket.accessTokenValue&&(Je.access_token=this.socket.accessTokenValue),this._onError(Ze=>$e?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,Ze)),this._onClose(()=>$e?.(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:er},Je)),this.joinedOnce=!0,this._rejoin(Be),this.joinPush.receive("ok",async({postgres_changes:Ze})=>{var rr;if(this.socket.setAuth(),Ze===void 0){$e?.(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const nr=this.bindings.postgres_changes,ar=(rr=nr?.length)!==null&&rr!==void 0?rr:0,sr=[];for(let lr=0;lr<ar;lr++){const or=nr[lr],{filter:{event:cr,schema:hr,table:yr,filter:mr}}=or,vr=Ze&&Ze[lr];if(vr&&vr.event===cr&&vr.schema===hr&&vr.table===yr&&vr.filter===mr)sr.push(Object.assign(Object.assign({},or),{id:vr.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,$e?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=sr,$e&&$e(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",Ze=>{this.state=CHANNEL_STATES.errored,$e?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(Ze).join(", ")||"error")))}).receive("timeout",()=>{$e?.(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track($e,Be={}){return await this.send({type:"presence",event:"track",payload:$e},Be.timeout||this.timeout)}async untrack($e={}){return await this.send({type:"presence",event:"untrack"},$e)}on($e,Be,Ue){return this.state===CHANNEL_STATES.joined&&$e===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on($e,Be,Ue)}async httpSend($e,Be,Ue={}){var ze;const qe=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(Be==null)return Promise.reject("Payload is required for httpSend()");const He={method:"POST",headers:{Authorization:qe,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:$e,payload:Be,private:this.private}]})},We=await this._fetchWithTimeout(this.broadcastEndpointURL,He,(ze=Ue.timeout)!==null&&ze!==void 0?ze:this.timeout);if(We.status===202)return{success:!0};let Ge=We.statusText;try{const Ye=await We.json();Ge=Ye.error||Ye.message||Ge}catch{}return Promise.reject(new Error(Ge))}async send($e,Be={}){var Ue,ze;if(!this._canPush()&&$e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:qe,payload:He}=$e,Ge={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:qe,payload:He,private:this.private}]})};try{const Ye=await this._fetchWithTimeout(this.broadcastEndpointURL,Ge,(Ue=Be.timeout)!==null&&Ue!==void 0?Ue:this.timeout);return await((ze=Ye.body)===null||ze===void 0?void 0:ze.cancel()),Ye.ok?"ok":"error"}catch(Ye){return Ye.name==="AbortError"?"timed out":"error"}}else return new Promise(qe=>{var He,We,Ge;const Ye=this._push($e.type,$e,Be.timeout||this.timeout);$e.type==="broadcast"&&!(!((Ge=(We=(He=this.params)===null||He===void 0?void 0:He.config)===null||We===void 0?void 0:We.broadcast)===null||Ge===void 0)&&Ge.ack)&&qe("ok"),Ye.receive("ok",()=>qe("ok")),Ye.receive("error",()=>qe("error")),Ye.receive("timeout",()=>qe("timed out"))})}updateJoinPayload($e){this.joinPush.updatePayload($e)}unsubscribe($e=this.timeout){this.state=CHANNEL_STATES.leaving;const Be=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let Ue=null;return new Promise(ze=>{Ue=new Push(this,CHANNEL_EVENTS.leave,{},$e),Ue.receive("ok",()=>{Be(),ze("ok")}).receive("timeout",()=>{Be(),ze("timed out")}).receive("error",()=>{ze("error")}),Ue.send(),this._canPush()||Ue.trigger("ok",{})}).finally(()=>{Ue?.destroy()})}teardown(){this.pushBuffer.forEach($e=>$e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout($e,Be,Ue){const ze=new AbortController,qe=setTimeout(()=>ze.abort(),Ue),He=await this.socket.fetch($e,Object.assign(Object.assign({},Be),{signal:ze.signal}));return clearTimeout(qe),He}_push($e,Be,Ue=this.timeout){if(!this.joinedOnce)throw`tried to push '${$e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let ze=new Push(this,$e,Be,Ue);return this._canPush()?ze.send():this._addToPushBuffer(ze),ze}_addToPushBuffer($e){if($e.startTimeout(),this.pushBuffer.push($e),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const Be=this.pushBuffer.shift();Be&&(Be.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${Be.event}`,Be.payload))}}_onMessage($e,Be,Ue){return Be}_isMember($e){return this.topic===$e}_joinRef(){return this.joinPush.ref}_trigger($e,Be,Ue){var ze,qe;const He=$e.toLocaleLowerCase(),{close:We,error:Ge,leave:Ye,join:Xe}=CHANNEL_EVENTS;if(Ue&&[We,Ge,Ye,Xe].indexOf(He)>=0&&Ue!==this._joinRef())return;let er=this._onMessage(He,Be,Ue);if(Be&&!er)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(He)?(ze=this.bindings.postgres_changes)===null||ze===void 0||ze.filter(Ze=>{var rr,nr,ar;return((rr=Ze.filter)===null||rr===void 0?void 0:rr.event)==="*"||((ar=(nr=Ze.filter)===null||nr===void 0?void 0:nr.event)===null||ar===void 0?void 0:ar.toLocaleLowerCase())===He}).map(Ze=>Ze.callback(er,Ue)):(qe=this.bindings[He])===null||qe===void 0||qe.filter(Ze=>{var rr,nr,ar,sr,lr,or;if(["broadcast","presence","postgres_changes"].includes(He))if("id"in Ze){const cr=Ze.id,hr=(rr=Ze.filter)===null||rr===void 0?void 0:rr.event;return cr&&((nr=Be.ids)===null||nr===void 0?void 0:nr.includes(cr))&&(hr==="*"||hr?.toLocaleLowerCase()===((ar=Be.data)===null||ar===void 0?void 0:ar.type.toLocaleLowerCase()))}else{const cr=(lr=(sr=Ze?.filter)===null||sr===void 0?void 0:sr.event)===null||lr===void 0?void 0:lr.toLocaleLowerCase();return cr==="*"||cr===((or=Be?.event)===null||or===void 0?void 0:or.toLocaleLowerCase())}else return Ze.type.toLocaleLowerCase()===He}).map(Ze=>{if(typeof er=="object"&&"ids"in er){const rr=er.data,{schema:nr,table:ar,commit_timestamp:sr,type:lr,errors:or}=rr;er=Object.assign(Object.assign({},{schema:nr,table:ar,commit_timestamp:sr,eventType:lr,new:{},old:{},errors:or}),this._getPayloadRecords(rr))}Ze.callback(er,Ue)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName($e){return`chan_reply_${$e}`}_on($e,Be,Ue){const ze=$e.toLocaleLowerCase(),qe={type:ze,filter:Be,callback:Ue};return this.bindings[ze]?this.bindings[ze].push(qe):this.bindings[ze]=[qe],this}_off($e,Be){const Ue=$e.toLocaleLowerCase();return this.bindings[Ue]&&(this.bindings[Ue]=this.bindings[Ue].filter(ze=>{var qe;return!(((qe=ze.type)===null||qe===void 0?void 0:qe.toLocaleLowerCase())===Ue&&RealtimeChannel.isEqual(ze.filter,Be))})),this}static isEqual($e,Be){if(Object.keys($e).length!==Object.keys(Be).length)return!1;for(const Ue in $e)if($e[Ue]!==Be[Ue])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose($e){this._on(CHANNEL_EVENTS.close,{},$e)}_onError($e){this._on(CHANNEL_EVENTS.error,{},Be=>$e(Be))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin($e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend($e))}_getPayloadRecords($e){const Be={new:{},old:{}};return($e.type==="INSERT"||$e.type==="UPDATE")&&(Be.new=convertChangeData($e.columns,$e.record)),($e.type==="UPDATE"||$e.type==="DELETE")&&(Be.old=convertChangeData($e.columns,$e.old_record)),Be}}const noop=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor($e,Be){var Ue;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop,this.ref=0,this.reconnectTimer=null,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=ze=>{let qe;return ze?qe=ze:typeof fetch>"u"?qe=(...He)=>__vitePreload(async()=>{const{default:We}=await Promise.resolve().then(()=>browser$1);return{default:We}},void 0).then(({default:We})=>We(...He)).catch(We=>{throw new Error(`Failed to load @supabase/node-fetch: ${We.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):qe=fetch,(...He)=>qe(...He)},!(!((Ue=Be?.params)===null||Ue===void 0)&&Ue.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=Be.params.apikey,this.endPoint=`${$e}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL($e),this._initializeOptions(Be),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(Be?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch($e){this._setConnectionState("disconnected");const Be=$e.message;throw Be.includes("Node.js")?new Error(`${Be}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${Be}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect($e,Be){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const Ue=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(Ue),this._setConnectionState("disconnected")},$e?this.conn.close($e,Be??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel($e){const Be=await $e.unsubscribe();return this.channels.length===0&&this.disconnect(),Be}async removeAllChannels(){const $e=await Promise.all(this.channels.map(Be=>Be.unsubscribe()));return this.channels=[],this.disconnect(),$e}log($e,Be,Ue){this.logger($e,Be,Ue)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel($e,Be={config:{}}){const Ue=`realtime:${$e}`,ze=this.getChannels().find(qe=>qe.topic===Ue);if(ze)return ze;{const qe=new RealtimeChannel(`realtime:${$e}`,Be,this);return this.channels.push(qe),qe}}push($e){const{topic:Be,event:Ue,payload:ze,ref:qe}=$e,He=()=>{this.encode($e,We=>{var Ge;(Ge=this.conn)===null||Ge===void 0||Ge.send(We)})};this.log("push",`${Be} ${Ue} (${qe})`,ze),this.isConnected()?He():this.sendBuffer.push(He)}async setAuth($e=null){this._authPromise=this._performAuth($e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var $e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(Be){this.log("error","error in heartbeat callback",Be)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(Be){this.log("error","error in heartbeat callback",Be)}this._wasManualDisconnect=!1,($e=this.conn)===null||$e===void 0||$e.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var Be;this.isConnected()||(Be=this.reconnectTimer)===null||Be===void 0||Be.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(Be){this.log("error","error in heartbeat callback",Be)}this._setAuthSafely("heartbeat")}onHeartbeat($e){this.heartbeatCallback=$e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach($e=>$e()),this.sendBuffer=[])}_makeRef(){let $e=this.ref+1;return $e===this.ref?this.ref=0:this.ref=$e,this.ref.toString()}_leaveOpenTopic($e){let Be=this.channels.find(Ue=>Ue.topic===$e&&(Ue._isJoined()||Ue._isJoining()));Be&&(this.log("transport",`leaving duplicate topic "${$e}"`),Be.unsubscribe())}_remove($e){this.channels=this.channels.filter(Be=>Be.topic!==$e.topic)}_onConnMessage($e){this.decode($e.data,Be=>{if(Be.topic==="phoenix"&&Be.event==="phx_reply")try{this.heartbeatCallback(Be.payload.status==="ok"?"ok":"error")}catch(Ye){this.log("error","error in heartbeat callback",Ye)}Be.ref&&Be.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:Ue,event:ze,payload:qe,ref:He}=Be,We=He?`(${He})`:"",Ge=qe.status||"";this.log("receive",`${Ge} ${Ue} ${ze} ${We}`.trim(),qe),this.channels.filter(Ye=>Ye._isMember(Ue)).forEach(Ye=>Ye._trigger(ze,qe,He)),this._triggerStateCallbacks("message",Be)})}_clearTimer($e){var Be;$e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):$e==="reconnect"&&((Be=this.reconnectTimer)===null||Be===void 0||Be.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=$e=>this._onConnError($e),this.conn.onmessage=$e=>this._onConnMessage($e),this.conn.onclose=$e=>this._onConnClose($e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach($e=>$e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const $e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker($e),this.workerRef.onerror=Be=>{this.log("worker","worker error",Be.message),this.workerRef.terminate()},this.workerRef.onmessage=Be=>{Be.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose($e){var Be;this._setConnectionState("disconnected"),this.log("transport","close",$e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(Be=this.reconnectTimer)===null||Be===void 0||Be.scheduleTimeout(),this._triggerStateCallbacks("close",$e)}_onConnError($e){this._setConnectionState("disconnected"),this.log("transport",`${$e}`),this._triggerChanError(),this._triggerStateCallbacks("error",$e)}_triggerChanError(){this.channels.forEach($e=>$e._trigger(CHANNEL_EVENTS.error))}_appendParams($e,Be){if(Object.keys(Be).length===0)return $e;const Ue=$e.match(/\?/)?"&":"?",ze=new URLSearchParams(Be);return`${$e}${Ue}${ze}`}_workerObjectUrl($e){let Be;if($e)Be=$e;else{const Ue=new Blob([WORKER_SCRIPT],{type:"application/javascript"});Be=URL.createObjectURL(Ue)}return Be}_setConnectionState($e,Be=!1){this._connectionState=$e,$e==="connecting"?this._wasManualDisconnect=!1:$e==="disconnecting"&&(this._wasManualDisconnect=Be)}async _performAuth($e=null){let Be;$e?Be=$e:this.accessToken?Be=await this.accessToken():Be=this.accessTokenValue,this.accessTokenValue!=Be&&(this.accessTokenValue=Be,this.channels.forEach(Ue=>{const ze={access_token:Be,version:DEFAULT_VERSION};Be&&Ue.updateJoinPayload(ze),Ue.joinedOnce&&Ue._isJoined()&&Ue._push(CHANNEL_EVENTS.access_token,{access_token:Be})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely($e="general"){this.setAuth().catch(Be=>{this.log("error",`error setting auth in ${$e}`,Be)})}_triggerStateCallbacks($e,Be){try{this.stateChangeCallbacks[$e].forEach(Ue=>{try{Ue(Be)}catch(ze){this.log("error",`error in ${$e} callback`,ze)}})}catch(Ue){this.log("error",`error triggering ${$e} callbacks`,Ue)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions($e){var Be,Ue,ze,qe,He,We,Ge,Ye,Xe;if(this.transport=(Be=$e?.transport)!==null&&Be!==void 0?Be:null,this.timeout=(Ue=$e?.timeout)!==null&&Ue!==void 0?Ue:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(ze=$e?.heartbeatIntervalMs)!==null&&ze!==void 0?ze:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(qe=$e?.worker)!==null&&qe!==void 0?qe:!1,this.accessToken=(He=$e?.accessToken)!==null&&He!==void 0?He:null,this.heartbeatCallback=(We=$e?.heartbeatCallback)!==null&&We!==void 0?We:noop,$e?.params&&(this.params=$e.params),$e?.logger&&(this.logger=$e.logger),($e?.logLevel||$e?.log_level)&&(this.logLevel=$e.logLevel||$e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(Ge=$e?.reconnectAfterMs)!==null&&Ge!==void 0?Ge:(Je=>RECONNECT_INTERVALS[Je-1]||DEFAULT_RECONNECT_FALLBACK),this.encode=(Ye=$e?.encode)!==null&&Ye!==void 0?Ye:((Je,er)=>er(JSON.stringify(Je))),this.decode=(Xe=$e?.decode)!==null&&Xe!==void 0?Xe:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=$e?.workerUrl}}}class StorageError extends Error{constructor($e){super($e),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(Ve){return typeof Ve=="object"&&Ve!==null&&"__isStorageError"in Ve}class StorageApiError extends StorageError{constructor($e,Be,Ue){super($e),this.name="StorageApiError",this.status=Be,this.statusCode=Ue}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor($e,Be){super($e),this.name="StorageUnknownError",this.originalError=Be}}const resolveFetch$3=Ve=>{let $e;return Ve?$e=Ve:typeof fetch>"u"?$e=(...Be)=>__vitePreload(async()=>{const{default:Ue}=await Promise.resolve().then(()=>browser$1);return{default:Ue}},void 0).then(({default:Ue})=>Ue(...Be)):$e=fetch,(...Be)=>$e(...Be)},resolveResponse=()=>__awaiter(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser$1),void 0)).Response:Response}),recursiveToCamel=Ve=>{if(Array.isArray(Ve))return Ve.map(Be=>recursiveToCamel(Be));if(typeof Ve=="function"||Ve!==Object(Ve))return Ve;const $e={};return Object.entries(Ve).forEach(([Be,Ue])=>{const ze=Be.replace(/([-_][a-z])/gi,qe=>qe.toUpperCase().replace(/[-_]/g,""));$e[ze]=recursiveToCamel(Ue)}),$e},isPlainObject$1=Ve=>{if(typeof Ve!="object"||Ve===null)return!1;const $e=Object.getPrototypeOf(Ve);return($e===null||$e===Object.prototype||Object.getPrototypeOf($e)===null)&&!(Symbol.toStringTag in Ve)&&!(Symbol.iterator in Ve)},_getErrorMessage$2=Ve=>{var $e;return Ve.msg||Ve.message||Ve.error_description||(typeof Ve.error=="string"?Ve.error:($e=Ve.error)===null||$e===void 0?void 0:$e.message)||JSON.stringify(Ve)},handleError$2=(Ve,$e,Be)=>__awaiter(void 0,void 0,void 0,function*(){const Ue=yield resolveResponse();Ve instanceof Ue&&!Be?.noResolveJson?Ve.json().then(ze=>{const qe=Ve.status||500,He=ze?.statusCode||qe+"";$e(new StorageApiError(_getErrorMessage$2(ze),qe,He))}).catch(ze=>{$e(new StorageUnknownError(_getErrorMessage$2(ze),ze))}):$e(new StorageUnknownError(_getErrorMessage$2(Ve),Ve))}),_getRequestParams$2=(Ve,$e,Be,Ue)=>{const ze={method:Ve,headers:$e?.headers||{}};return Ve==="GET"||!Ue?ze:(isPlainObject$1(Ue)?(ze.headers=Object.assign({"Content-Type":"application/json"},$e?.headers),ze.body=JSON.stringify(Ue)):ze.body=Ue,$e?.duplex&&(ze.duplex=$e.duplex),Object.assign(Object.assign({},ze),Be))};function _handleRequest$2(Ve,$e,Be,Ue,ze,qe){return __awaiter(this,void 0,void 0,function*(){return new Promise((He,We)=>{Ve(Be,_getRequestParams$2($e,Ue,ze,qe)).then(Ge=>{if(!Ge.ok)throw Ge;return Ue?.noResolveJson?Ge:Ge.json()}).then(Ge=>He(Ge)).catch(Ge=>handleError$2(Ge,We,Ue))})})}function get(Ve,$e,Be,Ue){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2(Ve,"GET",$e,Be,Ue)})}function post$1(Ve,$e,Be,Ue,ze){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2(Ve,"POST",$e,Ue,ze,Be)})}function put(Ve,$e,Be,Ue,ze){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2(Ve,"PUT",$e,Ue,ze,Be)})}function head(Ve,$e,Be,Ue){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2(Ve,"HEAD",$e,Object.assign(Object.assign({},Be),{noResolveJson:!0}),Ue)})}function remove(Ve,$e,Be,Ue,ze){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$2(Ve,"DELETE",$e,Ue,ze,Be)})}class StreamDownloadBuilder{constructor($e,Be){this.downloadFn=$e,this.shouldThrowOnError=Be}then($e,Be){return this.execute().then($e,Be)}execute(){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch($e){if(this.shouldThrowOnError)throw $e;if(isStorageError($e))return{data:null,error:$e};throw $e}})}}var _a;class BlobDownloadBuilder{constructor($e,Be){this.downloadFn=$e,this.shouldThrowOnError=Be,this[_a]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then($e,Be){return this.getPromise().then($e,Be)}catch($e){return this.getPromise().catch($e)}finally($e){return this.getPromise().finally($e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch($e){if(this.shouldThrowOnError)throw $e;if(isStorageError($e))return{data:null,error:$e};throw $e}})}}_a=Symbol.toStringTag;const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor($e,Be={},Ue,ze){this.shouldThrowOnError=!1,this.url=$e,this.headers=Be,this.bucketId=Ue,this.fetch=resolveFetch$3(ze)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate($e,Be,Ue,ze){return __awaiter(this,void 0,void 0,function*(){try{let qe;const He=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),ze);let We=Object.assign(Object.assign({},this.headers),$e==="POST"&&{"x-upsert":String(He.upsert)});const Ge=He.metadata;typeof Blob<"u"&&Ue instanceof Blob?(qe=new FormData,qe.append("cacheControl",He.cacheControl),Ge&&qe.append("metadata",this.encodeMetadata(Ge)),qe.append("",Ue)):typeof FormData<"u"&&Ue instanceof FormData?(qe=Ue,qe.append("cacheControl",He.cacheControl),Ge&&qe.append("metadata",this.encodeMetadata(Ge))):(qe=Ue,We["cache-control"]=`max-age=${He.cacheControl}`,We["content-type"]=He.contentType,Ge&&(We["x-metadata"]=this.toBase64(this.encodeMetadata(Ge)))),ze?.headers&&(We=Object.assign(Object.assign({},We),ze.headers));const Ye=this._removeEmptyFolders(Be),Xe=this._getFinalPath(Ye),Je=yield($e=="PUT"?put:post$1)(this.fetch,`${this.url}/object/${Xe}`,qe,Object.assign({headers:We},He?.duplex?{duplex:He.duplex}:{}));return{data:{path:Ye,id:Je.Id,fullPath:Je.Key},error:null}}catch(qe){if(this.shouldThrowOnError)throw qe;if(isStorageError(qe))return{data:null,error:qe};throw qe}})}upload($e,Be,Ue){return __awaiter(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",$e,Be,Ue)})}uploadToSignedUrl($e,Be,Ue,ze){return __awaiter(this,void 0,void 0,function*(){const qe=this._removeEmptyFolders($e),He=this._getFinalPath(qe),We=new URL(this.url+`/object/upload/sign/${He}`);We.searchParams.set("token",Be);try{let Ge;const Ye=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},ze),Xe=Object.assign(Object.assign({},this.headers),{"x-upsert":String(Ye.upsert)});typeof Blob<"u"&&Ue instanceof Blob?(Ge=new FormData,Ge.append("cacheControl",Ye.cacheControl),Ge.append("",Ue)):typeof FormData<"u"&&Ue instanceof FormData?(Ge=Ue,Ge.append("cacheControl",Ye.cacheControl)):(Ge=Ue,Xe["cache-control"]=`max-age=${Ye.cacheControl}`,Xe["content-type"]=Ye.contentType);const Je=yield put(this.fetch,We.toString(),Ge,{headers:Xe});return{data:{path:qe,fullPath:Je.Key},error:null}}catch(Ge){if(this.shouldThrowOnError)throw Ge;if(isStorageError(Ge))return{data:null,error:Ge};throw Ge}})}createSignedUploadUrl($e,Be){return __awaiter(this,void 0,void 0,function*(){try{let Ue=this._getFinalPath($e);const ze=Object.assign({},this.headers);Be?.upsert&&(ze["x-upsert"]="true");const qe=yield post$1(this.fetch,`${this.url}/object/upload/sign/${Ue}`,{},{headers:ze}),He=new URL(this.url+qe.url),We=He.searchParams.get("token");if(!We)throw new StorageError("No token returned by API");return{data:{signedUrl:He.toString(),path:$e,token:We},error:null}}catch(Ue){if(this.shouldThrowOnError)throw Ue;if(isStorageError(Ue))return{data:null,error:Ue};throw Ue}})}update($e,Be,Ue){return __awaiter(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",$e,Be,Ue)})}move($e,Be,Ue){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:$e,destinationKey:Be,destinationBucket:Ue?.destinationBucket},{headers:this.headers}),error:null}}catch(ze){if(this.shouldThrowOnError)throw ze;if(isStorageError(ze))return{data:null,error:ze};throw ze}})}copy($e,Be,Ue){return __awaiter(this,void 0,void 0,function*(){try{return{data:{path:(yield post$1(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:$e,destinationKey:Be,destinationBucket:Ue?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(ze){if(this.shouldThrowOnError)throw ze;if(isStorageError(ze))return{data:null,error:ze};throw ze}})}createSignedUrl($e,Be,Ue){return __awaiter(this,void 0,void 0,function*(){try{let ze=this._getFinalPath($e),qe=yield post$1(this.fetch,`${this.url}/object/sign/${ze}`,Object.assign({expiresIn:Be},Ue?.transform?{transform:Ue.transform}:{}),{headers:this.headers});const He=Ue?.download?`&download=${Ue.download===!0?"":Ue.download}`:"";return qe={signedUrl:encodeURI(`${this.url}${qe.signedURL}${He}`)},{data:qe,error:null}}catch(ze){if(this.shouldThrowOnError)throw ze;if(isStorageError(ze))return{data:null,error:ze};throw ze}})}createSignedUrls($e,Be,Ue){return __awaiter(this,void 0,void 0,function*(){try{const ze=yield post$1(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:Be,paths:$e},{headers:this.headers}),qe=Ue?.download?`&download=${Ue.download===!0?"":Ue.download}`:"";return{data:ze.map(He=>Object.assign(Object.assign({},He),{signedUrl:He.signedURL?encodeURI(`${this.url}${He.signedURL}${qe}`):null})),error:null}}catch(ze){if(this.shouldThrowOnError)throw ze;if(isStorageError(ze))return{data:null,error:ze};throw ze}})}download($e,Be){const ze=typeof Be?.transform<"u"?"render/image/authenticated":"object",qe=this.transformOptsToQueryString(Be?.transform||{}),He=qe?`?${qe}`:"",We=this._getFinalPath($e),Ge=()=>get(this.fetch,`${this.url}/${ze}/${We}${He}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder(Ge,this.shouldThrowOnError)}info($e){return __awaiter(this,void 0,void 0,function*(){const Be=this._getFinalPath($e);try{const Ue=yield get(this.fetch,`${this.url}/object/info/${Be}`,{headers:this.headers});return{data:recursiveToCamel(Ue),error:null}}catch(Ue){if(this.shouldThrowOnError)throw Ue;if(isStorageError(Ue))return{data:null,error:Ue};throw Ue}})}exists($e){return __awaiter(this,void 0,void 0,function*(){const Be=this._getFinalPath($e);try{return yield head(this.fetch,`${this.url}/object/${Be}`,{headers:this.headers}),{data:!0,error:null}}catch(Ue){if(this.shouldThrowOnError)throw Ue;if(isStorageError(Ue)&&Ue instanceof StorageUnknownError){const ze=Ue.originalError;if([400,404].includes(ze?.status))return{data:!1,error:Ue}}throw Ue}})}getPublicUrl($e,Be){const Ue=this._getFinalPath($e),ze=[],qe=Be?.download?`download=${Be.download===!0?"":Be.download}`:"";qe!==""&&ze.push(qe);const We=typeof Be?.transform<"u"?"render/image":"object",Ge=this.transformOptsToQueryString(Be?.transform||{});Ge!==""&&ze.push(Ge);let Ye=ze.join("&");return Ye!==""&&(Ye=`?${Ye}`),{data:{publicUrl:encodeURI(`${this.url}/${We}/public/${Ue}${Ye}`)}}}remove($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:$e},{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageError(Be))return{data:null,error:Be};throw Be}})}list($e,Be,Ue){return __awaiter(this,void 0,void 0,function*(){try{const ze=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),Be),{prefix:$e||""});return{data:yield post$1(this.fetch,`${this.url}/object/list/${this.bucketId}`,ze,{headers:this.headers},Ue),error:null}}catch(ze){if(this.shouldThrowOnError)throw ze;if(isStorageError(ze))return{data:null,error:ze};throw ze}})}listV2($e,Be){return __awaiter(this,void 0,void 0,function*(){try{const Ue=Object.assign({},$e);return{data:yield post$1(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,Ue,{headers:this.headers},Be),error:null}}catch(Ue){if(this.shouldThrowOnError)throw Ue;if(isStorageError(Ue))return{data:null,error:Ue};throw Ue}})}encodeMetadata($e){return JSON.stringify($e)}toBase64($e){return typeof Buffer<"u"?Buffer.from($e).toString("base64"):btoa($e)}_getFinalPath($e){return`${this.bucketId}/${$e.replace(/^\/+/,"")}`}_removeEmptyFolders($e){return $e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString($e){const Be=[];return $e.width&&Be.push(`width=${$e.width}`),$e.height&&Be.push(`height=${$e.height}`),$e.resize&&Be.push(`resize=${$e.resize}`),$e.format&&Be.push(`format=${$e.format}`),$e.quality&&Be.push(`quality=${$e.quality}`),Be.join("&")}}const version$2="2.78.0",DEFAULT_HEADERS$3={"X-Client-Info":`storage-js/${version$2}`};class StorageBucketApi{constructor($e,Be={},Ue,ze){this.shouldThrowOnError=!1;const qe=new URL($e);ze?.useNewHostname&&/supabase\.(co|in|red)$/.test(qe.hostname)&&!qe.hostname.includes("storage.supabase.")&&(qe.hostname=qe.hostname.replace("supabase.","storage.supabase.")),this.url=qe.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$3),Be),this.fetch=resolveFetch$3(Ue)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets($e){return __awaiter(this,void 0,void 0,function*(){try{const Be=this.listBucketOptionsToQueryString($e);return{data:yield get(this.fetch,`${this.url}/bucket${Be}`,{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageError(Be))return{data:null,error:Be};throw Be}})}getBucket($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${$e}`,{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageError(Be))return{data:null,error:Be};throw Be}})}createBucket($e){return __awaiter(this,arguments,void 0,function*(Be,Ue={public:!1}){try{return{data:yield post$1(this.fetch,`${this.url}/bucket`,{id:Be,name:Be,type:Ue.type,public:Ue.public,file_size_limit:Ue.fileSizeLimit,allowed_mime_types:Ue.allowedMimeTypes},{headers:this.headers}),error:null}}catch(ze){if(this.shouldThrowOnError)throw ze;if(isStorageError(ze))return{data:null,error:ze};throw ze}})}updateBucket($e,Be){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${$e}`,{id:$e,name:$e,public:Be.public,file_size_limit:Be.fileSizeLimit,allowed_mime_types:Be.allowedMimeTypes},{headers:this.headers}),error:null}}catch(Ue){if(this.shouldThrowOnError)throw Ue;if(isStorageError(Ue))return{data:null,error:Ue};throw Ue}})}emptyBucket($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket/${$e}/empty`,{},{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageError(Be))return{data:null,error:Be};throw Be}})}deleteBucket($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${$e}`,{},{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageError(Be))return{data:null,error:Be};throw Be}})}listBucketOptionsToQueryString($e){const Be={};return $e&&("limit"in $e&&(Be.limit=String($e.limit)),"offset"in $e&&(Be.offset=String($e.offset)),$e.search&&(Be.search=$e.search),$e.sortColumn&&(Be.sortColumn=$e.sortColumn),$e.sortOrder&&(Be.sortOrder=$e.sortOrder)),Object.keys(Be).length>0?"?"+new URLSearchParams(Be).toString():""}}class StorageAnalyticsApi{constructor($e,Be={},Ue){this.shouldThrowOnError=!1,this.url=$e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$3),Be),this.fetch=resolveFetch$3(Ue)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket`,{name:$e},{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageError(Be))return{data:null,error:Be};throw Be}})}listBuckets($e){return __awaiter(this,void 0,void 0,function*(){try{const Be=new URLSearchParams;$e?.limit!==void 0&&Be.set("limit",$e.limit.toString()),$e?.offset!==void 0&&Be.set("offset",$e.offset.toString()),$e?.sortColumn&&Be.set("sortColumn",$e.sortColumn),$e?.sortOrder&&Be.set("sortOrder",$e.sortOrder),$e?.search&&Be.set("search",$e.search);const Ue=Be.toString(),ze=Ue?`${this.url}/bucket?${Ue}`:`${this.url}/bucket`;return{data:yield get(this.fetch,ze,{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageError(Be))return{data:null,error:Be};throw Be}})}deleteBucket($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${$e}`,{},{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageError(Be))return{data:null,error:Be};throw Be}})}}const DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`,"Content-Type":"application/json"};class StorageVectorsError extends Error{constructor($e){super($e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function isStorageVectorsError(Ve){return typeof Ve=="object"&&Ve!==null&&"__isStorageVectorsError"in Ve}class StorageVectorsApiError extends StorageVectorsError{constructor($e,Be,Ue){super($e),this.name="StorageVectorsApiError",this.status=Be,this.statusCode=Ue}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageVectorsUnknownError extends StorageVectorsError{constructor($e,Be){super($e),this.name="StorageVectorsUnknownError",this.originalError=Be}}var StorageVectorsErrorCode;(function(Ve){Ve.InternalError="InternalError",Ve.S3VectorConflictException="S3VectorConflictException",Ve.S3VectorNotFoundException="S3VectorNotFoundException",Ve.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",Ve.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",Ve.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(StorageVectorsErrorCode||(StorageVectorsErrorCode={}));const resolveFetch$2=Ve=>{let $e;return Ve?$e=Ve:typeof fetch>"u"?$e=(...Be)=>__vitePreload(async()=>{const{default:Ue}=await Promise.resolve().then(()=>browser$1);return{default:Ue}},void 0).then(({default:Ue})=>Ue(...Be)):$e=fetch,(...Be)=>$e(...Be)},isPlainObject=Ve=>{if(typeof Ve!="object"||Ve===null)return!1;const $e=Object.getPrototypeOf(Ve);return($e===null||$e===Object.prototype||Object.getPrototypeOf($e)===null)&&!(Symbol.toStringTag in Ve)&&!(Symbol.iterator in Ve)},_getErrorMessage$1=Ve=>Ve.msg||Ve.message||Ve.error_description||Ve.error||JSON.stringify(Ve),handleError$1=(Ve,$e,Be)=>__awaiter(void 0,void 0,void 0,function*(){if(Ve&&typeof Ve=="object"&&"status"in Ve&&"ok"in Ve&&typeof Ve.status=="number"&&!Be?.noResolveJson){const ze=Ve.status||500,qe=Ve;if(typeof qe.json=="function")qe.json().then(He=>{const We=He?.statusCode||He?.code||ze+"";$e(new StorageVectorsApiError(_getErrorMessage$1(He),ze,We))}).catch(()=>{const He=ze+"",We=qe.statusText||`HTTP ${ze} error`;$e(new StorageVectorsApiError(We,ze,He))});else{const He=ze+"",We=qe.statusText||`HTTP ${ze} error`;$e(new StorageVectorsApiError(We,ze,He))}}else $e(new StorageVectorsUnknownError(_getErrorMessage$1(Ve),Ve))}),_getRequestParams$1=(Ve,$e,Be,Ue)=>{const ze={method:Ve,headers:$e?.headers||{}};return Ue?(isPlainObject(Ue)?(ze.headers=Object.assign({"Content-Type":"application/json"},$e?.headers),ze.body=JSON.stringify(Ue)):ze.body=Ue,Object.assign(Object.assign({},ze),Be)):ze};function _handleRequest$1(Ve,$e,Be,Ue,ze,qe){return __awaiter(this,void 0,void 0,function*(){return new Promise((He,We)=>{Ve(Be,_getRequestParams$1($e,Ue,ze,qe)).then(Ge=>{if(!Ge.ok)throw Ge;if(Ue?.noResolveJson)return Ge;const Ye=Ge.headers.get("content-type");return!Ye||!Ye.includes("application/json")?{}:Ge.json()}).then(Ge=>He(Ge)).catch(Ge=>handleError$1(Ge,We,Ue))})})}function post(Ve,$e,Be,Ue,ze){return __awaiter(this,void 0,void 0,function*(){return _handleRequest$1(Ve,"POST",$e,Ue,ze,Be)})}class VectorIndexApi{constructor($e,Be={},Ue){this.shouldThrowOnError=!1,this.url=$e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),Be),this.fetch=resolveFetch$2(Ue)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/CreateIndex`,$e,{headers:this.headers}))||{},error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}getIndex($e,Be){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:$e,indexName:Be},{headers:this.headers}),error:null}}catch(Ue){if(this.shouldThrowOnError)throw Ue;if(isStorageVectorsError(Ue))return{data:null,error:Ue};throw Ue}})}listIndexes($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/ListIndexes`,$e,{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}deleteIndex($e,Be){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:$e,indexName:Be},{headers:this.headers}))||{},error:null}}catch(Ue){if(this.shouldThrowOnError)throw Ue;if(isStorageVectorsError(Ue))return{data:null,error:Ue};throw Ue}})}}class VectorDataApi{constructor($e,Be={},Ue){this.shouldThrowOnError=!1,this.url=$e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),Be),this.fetch=resolveFetch$2(Ue)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors($e){return __awaiter(this,void 0,void 0,function*(){try{if($e.vectors.length<1||$e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield post(this.fetch,`${this.url}/PutVectors`,$e,{headers:this.headers}))||{},error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}getVectors($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetVectors`,$e,{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}listVectors($e){return __awaiter(this,void 0,void 0,function*(){try{if($e.segmentCount!==void 0){if($e.segmentCount<1||$e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if($e.segmentIndex!==void 0&&($e.segmentIndex<0||$e.segmentIndex>=$e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${$e.segmentCount-1}`)}return{data:yield post(this.fetch,`${this.url}/ListVectors`,$e,{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}queryVectors($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/QueryVectors`,$e,{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}deleteVectors($e){return __awaiter(this,void 0,void 0,function*(){try{if($e.keys.length<1||$e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield post(this.fetch,`${this.url}/DeleteVectors`,$e,{headers:this.headers}))||{},error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}}class VectorBucketApi{constructor($e,Be={},Ue){this.shouldThrowOnError=!1,this.url=$e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),Be),this.fetch=resolveFetch$2(Ue)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:$e},{headers:this.headers}))||{},error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}getBucket($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:$e},{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}listBuckets(){return __awaiter(this,arguments,void 0,function*($e={}){try{return{data:yield post(this.fetch,`${this.url}/ListVectorBuckets`,$e,{headers:this.headers}),error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}deleteBucket($e){return __awaiter(this,void 0,void 0,function*(){try{return{data:(yield post(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:$e},{headers:this.headers}))||{},error:null}}catch(Be){if(this.shouldThrowOnError)throw Be;if(isStorageVectorsError(Be))return{data:null,error:Be};throw Be}})}}class StorageVectorsClient extends VectorBucketApi{constructor($e,Be={}){super($e,Be.headers||{},Be.fetch)}from($e){return new VectorBucketScope(this.url,this.headers,$e,this.fetch)}}class VectorBucketScope extends VectorIndexApi{constructor($e,Be,Ue,ze){super($e,Be,ze),this.vectorBucketName=Ue}createIndex($e){const Be=Object.create(null,{createIndex:{get:()=>super.createIndex}});return __awaiter(this,void 0,void 0,function*(){return Be.createIndex.call(this,Object.assign(Object.assign({},$e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const $e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return __awaiter(this,arguments,void 0,function*(Be={}){return $e.listIndexes.call(this,Object.assign(Object.assign({},Be),{vectorBucketName:this.vectorBucketName}))})}getIndex($e){const Be=Object.create(null,{getIndex:{get:()=>super.getIndex}});return __awaiter(this,void 0,void 0,function*(){return Be.getIndex.call(this,this.vectorBucketName,$e)})}deleteIndex($e){const Be=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return __awaiter(this,void 0,void 0,function*(){return Be.deleteIndex.call(this,this.vectorBucketName,$e)})}index($e){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,$e,this.fetch)}}class VectorIndexScope extends VectorDataApi{constructor($e,Be,Ue,ze,qe){super($e,Be,qe),this.vectorBucketName=Ue,this.indexName=ze}putVectors($e){const Be=Object.create(null,{putVectors:{get:()=>super.putVectors}});return __awaiter(this,void 0,void 0,function*(){return Be.putVectors.call(this,Object.assign(Object.assign({},$e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors($e){const Be=Object.create(null,{getVectors:{get:()=>super.getVectors}});return __awaiter(this,void 0,void 0,function*(){return Be.getVectors.call(this,Object.assign(Object.assign({},$e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const $e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return __awaiter(this,arguments,void 0,function*(Be={}){return $e.listVectors.call(this,Object.assign(Object.assign({},Be),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors($e){const Be=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return __awaiter(this,void 0,void 0,function*(){return Be.queryVectors.call(this,Object.assign(Object.assign({},$e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors($e){const Be=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return __awaiter(this,void 0,void 0,function*(){return Be.deleteVectors.call(this,Object.assign(Object.assign({},$e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class StorageClient extends StorageBucketApi{constructor($e,Be={},Ue,ze){super($e,Be,Ue,ze)}from($e){return new StorageFileApi(this.url,this.headers,$e,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsApi(this.url+"/iceberg",this.headers,this.fetch)}}const version$1="2.78.0";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={},resolveFetch$1=Ve=>{let $e;return Ve?$e=Ve:typeof fetch>"u"?$e=nodeFetch:$e=fetch,(...Be)=>$e(...Be)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(Ve,$e,Be)=>{const Ue=resolveFetch$1(Be),ze=resolveHeadersConstructor();return async(qe,He)=>{var We;const Ge=(We=await $e())!==null&&We!==void 0?We:Ve;let Ye=new ze(He?.headers);return Ye.has("apikey")||Ye.set("apikey",Ve),Ye.has("Authorization")||Ye.set("Authorization",`Bearer ${Ge}`),Ue(qe,Object.assign(Object.assign({},He),{headers:Ye}))}};function ensureTrailingSlash(Ve){return Ve.endsWith("/")?Ve:Ve+"/"}function applySettingDefaults(Ve,$e){var Be,Ue;const{db:ze,auth:qe,realtime:He,global:We}=Ve,{db:Ge,auth:Ye,realtime:Xe,global:Je}=$e,er={db:Object.assign(Object.assign({},Ge),ze),auth:Object.assign(Object.assign({},Ye),qe),realtime:Object.assign(Object.assign({},Xe),He),storage:{},global:Object.assign(Object.assign(Object.assign({},Je),We),{headers:Object.assign(Object.assign({},(Be=Je?.headers)!==null&&Be!==void 0?Be:{}),(Ue=We?.headers)!==null&&Ue!==void 0?Ue:{})}),accessToken:async()=>""};return Ve.accessToken?er.accessToken=Ve.accessToken:delete er.accessToken,er}function validateSupabaseUrl(Ve){const $e=Ve?.trim();if(!$e)throw new Error("supabaseUrl is required.");if(!$e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash($e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const version="2.78.0",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=600*1e3;class AuthError extends Error{constructor($e,Be,Ue){super($e),this.__isAuthError=!0,this.name="AuthError",this.status=Be,this.code=Ue}}function isAuthError(Ve){return typeof Ve=="object"&&Ve!==null&&"__isAuthError"in Ve}class AuthApiError extends AuthError{constructor($e,Be,Ue){super($e,Be,Ue),this.name="AuthApiError",this.status=Be,this.code=Ue}}function isAuthApiError(Ve){return isAuthError(Ve)&&Ve.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor($e,Be){super($e),this.name="AuthUnknownError",this.originalError=Be}}class CustomAuthError extends AuthError{constructor($e,Be,Ue,ze){super($e,Ue,ze),this.name=Be,this.status=Ue}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(Ve){return isAuthError(Ve)&&Ve.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor($e){super($e,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor($e,Be=null){super($e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=Be}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(Ve){return isAuthError(Ve)&&Ve.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor($e,Be=null){super($e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=Be}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor($e,Be){super($e,"AuthRetryableFetchError",Be,void 0)}}function isAuthRetryableFetchError(Ve){return isAuthError(Ve)&&Ve.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor($e,Be,Ue){super($e,"AuthWeakPasswordError",Be,"weak_password"),this.reasons=Ue}}class AuthInvalidJwtError extends CustomAuthError{constructor($e){super($e,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const Ve=new Array(128);for(let $e=0;$e<Ve.length;$e+=1)Ve[$e]=-1;for(let $e=0;$e<IGNORE_BASE64URL.length;$e+=1)Ve[IGNORE_BASE64URL[$e].charCodeAt(0)]=-2;for(let $e=0;$e<TO_BASE64URL.length;$e+=1)Ve[TO_BASE64URL[$e].charCodeAt(0)]=$e;return Ve})();function byteToBase64URL(Ve,$e,Be){if(Ve!==null)for($e.queue=$e.queue<<8|Ve,$e.queuedBits+=8;$e.queuedBits>=6;){const Ue=$e.queue>>$e.queuedBits-6&63;Be(TO_BASE64URL[Ue]),$e.queuedBits-=6}else if($e.queuedBits>0)for($e.queue=$e.queue<<6-$e.queuedBits,$e.queuedBits=6;$e.queuedBits>=6;){const Ue=$e.queue>>$e.queuedBits-6&63;Be(TO_BASE64URL[Ue]),$e.queuedBits-=6}}function byteFromBase64URL(Ve,$e,Be){const Ue=FROM_BASE64URL[Ve];if(Ue>-1)for($e.queue=$e.queue<<6|Ue,$e.queuedBits+=6;$e.queuedBits>=8;)Be($e.queue>>$e.queuedBits-8&255),$e.queuedBits-=8;else{if(Ue===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(Ve)}"`)}}function stringFromBase64URL(Ve){const $e=[],Be=He=>{$e.push(String.fromCodePoint(He))},Ue={utf8seq:0,codepoint:0},ze={queue:0,queuedBits:0},qe=He=>{stringFromUTF8(He,Ue,Be)};for(let He=0;He<Ve.length;He+=1)byteFromBase64URL(Ve.charCodeAt(He),ze,qe);return $e.join("")}function codepointToUTF8(Ve,$e){if(Ve<=127){$e(Ve);return}else if(Ve<=2047){$e(192|Ve>>6),$e(128|Ve&63);return}else if(Ve<=65535){$e(224|Ve>>12),$e(128|Ve>>6&63),$e(128|Ve&63);return}else if(Ve<=1114111){$e(240|Ve>>18),$e(128|Ve>>12&63),$e(128|Ve>>6&63),$e(128|Ve&63);return}throw new Error(`Unrecognized Unicode codepoint: ${Ve.toString(16)}`)}function stringToUTF8(Ve,$e){for(let Be=0;Be<Ve.length;Be+=1){let Ue=Ve.charCodeAt(Be);if(Ue>55295&&Ue<=56319){const ze=(Ue-55296)*1024&65535;Ue=(Ve.charCodeAt(Be+1)-56320&65535|ze)+65536,Be+=1}codepointToUTF8(Ue,$e)}}function stringFromUTF8(Ve,$e,Be){if($e.utf8seq===0){if(Ve<=127){Be(Ve);return}for(let Ue=1;Ue<6;Ue+=1)if((Ve>>7-Ue&1)===0){$e.utf8seq=Ue;break}if($e.utf8seq===2)$e.codepoint=Ve&31;else if($e.utf8seq===3)$e.codepoint=Ve&15;else if($e.utf8seq===4)$e.codepoint=Ve&7;else throw new Error("Invalid UTF-8 sequence");$e.utf8seq-=1}else if($e.utf8seq>0){if(Ve<=127)throw new Error("Invalid UTF-8 sequence");$e.codepoint=$e.codepoint<<6|Ve&63,$e.utf8seq-=1,$e.utf8seq===0&&Be($e.codepoint)}}function base64UrlToUint8Array(Ve){const $e=[],Be={queue:0,queuedBits:0},Ue=ze=>{$e.push(ze)};for(let ze=0;ze<Ve.length;ze+=1)byteFromBase64URL(Ve.charCodeAt(ze),Be,Ue);return new Uint8Array($e)}function stringToUint8Array(Ve){const $e=[];return stringToUTF8(Ve,Be=>$e.push(Be)),new Uint8Array($e)}function bytesToBase64URL(Ve){const $e=[],Be={queue:0,queuedBits:0},Ue=ze=>{$e.push(ze)};return Ve.forEach(ze=>byteToBase64URL(ze,Be,Ue)),byteToBase64URL(null,Be,Ue),$e.join("")}function expiresAt(Ve){return Math.round(Date.now()/1e3)+Ve}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Ve){const $e=Math.random()*16|0;return(Ve=="x"?$e:$e&3|8).toString(16)})}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const Ve=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(Ve,Ve),globalThis.localStorage.removeItem(Ve),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(Ve){const $e={},Be=new URL(Ve);if(Be.hash&&Be.hash[0]==="#")try{new URLSearchParams(Be.hash.substring(1)).forEach((ze,qe)=>{$e[qe]=ze})}catch{}return Be.searchParams.forEach((Ue,ze)=>{$e[ze]=Ue}),$e}const resolveFetch=Ve=>{let $e;return Ve?$e=Ve:typeof fetch>"u"?$e=(...Be)=>__vitePreload(async()=>{const{default:Ue}=await Promise.resolve().then(()=>browser$1);return{default:Ue}},void 0).then(({default:Ue})=>Ue(...Be)):$e=fetch,(...Be)=>$e(...Be)},looksLikeFetchResponse=Ve=>typeof Ve=="object"&&Ve!==null&&"status"in Ve&&"ok"in Ve&&"json"in Ve&&typeof Ve.json=="function",setItemAsync=async(Ve,$e,Be)=>{await Ve.setItem($e,JSON.stringify(Be))},getItemAsync=async(Ve,$e)=>{const Be=await Ve.getItem($e);if(!Be)return null;try{return JSON.parse(Be)}catch{return Be}},removeItemAsync=async(Ve,$e)=>{await Ve.removeItem($e)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor(($e,Be)=>{this.resolve=$e,this.reject=Be})}}Deferred.promiseConstructor=Promise;function decodeJWT(Ve){const $e=Ve.split(".");if($e.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let Ue=0;Ue<$e.length;Ue++)if(!BASE64URL_REGEX.test($e[Ue]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL($e[0])),payload:JSON.parse(stringFromBase64URL($e[1])),signature:base64UrlToUint8Array($e[2]),raw:{header:$e[0],payload:$e[1]}}}async function sleep(Ve){return await new Promise($e=>{setTimeout(()=>$e(null),Ve)})}function retryable(Ve,$e){return new Promise((Ue,ze)=>{(async()=>{for(let qe=0;qe<1/0;qe++)try{const He=await Ve(qe);if(!$e(qe,null,He)){Ue(He);return}}catch(He){if(!$e(qe,He)){ze(He);return}}})()})}function dec2hex(Ve){return("0"+Ve.toString(16)).substr(-2)}function generatePKCEVerifier(){const $e=new Uint32Array(56);if(typeof crypto>"u"){const Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",Ue=Be.length;let ze="";for(let qe=0;qe<56;qe++)ze+=Be.charAt(Math.floor(Math.random()*Ue));return ze}return crypto.getRandomValues($e),Array.from($e,dec2hex).join("")}async function sha256(Ve){const Be=new TextEncoder().encode(Ve),Ue=await crypto.subtle.digest("SHA-256",Be),ze=new Uint8Array(Ue);return Array.from(ze).map(qe=>String.fromCharCode(qe)).join("")}async function generatePKCEChallenge(Ve){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),Ve;const Be=await sha256(Ve);return btoa(Be).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(Ve,$e,Be=!1){const Ue=generatePKCEVerifier();let ze=Ue;Be&&(ze+="/PASSWORD_RECOVERY"),await setItemAsync(Ve,`${$e}-code-verifier`,ze);const qe=await generatePKCEChallenge(Ue);return[qe,Ue===qe?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(Ve){const $e=Ve.headers.get(API_VERSION_HEADER_NAME);if(!$e||!$e.match(API_VERSION_REGEX))return null;try{return new Date(`${$e}T00:00:00.0Z`)}catch{return null}}function validateExp(Ve){if(!Ve)throw new Error("Missing exp claim");const $e=Math.floor(Date.now()/1e3);if(Ve<=$e)throw new Error("JWT has expired")}function getAlgorithm(Ve){switch(Ve){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(Ve){if(!UUID_REGEX.test(Ve))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const Ve={};return new Proxy(Ve,{get:($e,Be)=>{if(Be==="__isUserNotAvailableProxy")return!0;if(typeof Be=="symbol"){const Ue=Be.toString();if(Ue==="Symbol(Symbol.toPrimitive)"||Ue==="Symbol(Symbol.toStringTag)"||Ue==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${Be}" property of the session object is not supported. Please use getUser() instead.`)},set:($e,Be)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${Be}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:($e,Be)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${Be}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function insecureUserWarningProxy(Ve,$e){return new Proxy(Ve,{get:(Be,Ue,ze)=>{if(Ue==="__isInsecureUserWarningProxy")return!0;if(typeof Ue=="symbol"){const qe=Ue.toString();if(qe==="Symbol(Symbol.toPrimitive)"||qe==="Symbol(Symbol.toStringTag)"||qe==="Symbol(util.inspect.custom)"||qe==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(Be,Ue,ze)}return!$e.value&&typeof Ue=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),$e.value=!0),Reflect.get(Be,Ue,ze)}})}function deepClone(Ve){return JSON.parse(JSON.stringify(Ve))}const _getErrorMessage=Ve=>Ve.msg||Ve.message||Ve.error_description||Ve.error||JSON.stringify(Ve),NETWORK_ERROR_CODES=[502,503,504];async function handleError(Ve){var $e;if(!looksLikeFetchResponse(Ve))throw new AuthRetryableFetchError(_getErrorMessage(Ve),0);if(NETWORK_ERROR_CODES.includes(Ve.status))throw new AuthRetryableFetchError(_getErrorMessage(Ve),Ve.status);let Be;try{Be=await Ve.json()}catch(qe){throw new AuthUnknownError(_getErrorMessage(qe),qe)}let Ue;const ze=parseResponseAPIVersion(Ve);if(ze&&ze.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof Be=="object"&&Be&&typeof Be.code=="string"?Ue=Be.code:typeof Be=="object"&&Be&&typeof Be.error_code=="string"&&(Ue=Be.error_code),Ue){if(Ue==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(Be),Ve.status,(($e=Be.weak_password)===null||$e===void 0?void 0:$e.reasons)||[]);if(Ue==="session_not_found")throw new AuthSessionMissingError}else if(typeof Be=="object"&&Be&&typeof Be.weak_password=="object"&&Be.weak_password&&Array.isArray(Be.weak_password.reasons)&&Be.weak_password.reasons.length&&Be.weak_password.reasons.reduce((qe,He)=>qe&&typeof He=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(Be),Ve.status,Be.weak_password.reasons);throw new AuthApiError(_getErrorMessage(Be),Ve.status||500,Ue)}const _getRequestParams=(Ve,$e,Be,Ue)=>{const ze={method:Ve,headers:$e?.headers||{}};return Ve==="GET"?ze:(ze.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},$e?.headers),ze.body=JSON.stringify(Ue),Object.assign(Object.assign({},ze),Be))};async function _request(Ve,$e,Be,Ue){var ze;const qe=Object.assign({},Ue?.headers);qe[API_VERSION_HEADER_NAME]||(qe[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),Ue?.jwt&&(qe.Authorization=`Bearer ${Ue.jwt}`);const He=(ze=Ue?.query)!==null&&ze!==void 0?ze:{};Ue?.redirectTo&&(He.redirect_to=Ue.redirectTo);const We=Object.keys(He).length?"?"+new URLSearchParams(He).toString():"",Ge=await _handleRequest(Ve,$e,Be+We,{headers:qe,noResolveJson:Ue?.noResolveJson},{},Ue?.body);return Ue?.xform?Ue?.xform(Ge):{data:Object.assign({},Ge),error:null}}async function _handleRequest(Ve,$e,Be,Ue,ze,qe){const He=_getRequestParams($e,Ue,ze,qe);let We;try{We=await Ve(Be,Object.assign({},He))}catch(Ge){throw console.error(Ge),new AuthRetryableFetchError(_getErrorMessage(Ge),0)}if(We.ok||await handleError(We),Ue?.noResolveJson)return We;try{return await We.json()}catch(Ge){await handleError(Ge)}}function _sessionResponse(Ve){var $e;let Be=null;hasSession(Ve)&&(Be=Object.assign({},Ve),Ve.expires_at||(Be.expires_at=expiresAt(Ve.expires_in)));const Ue=($e=Ve.user)!==null&&$e!==void 0?$e:Ve;return{data:{session:Be,user:Ue},error:null}}function _sessionResponsePassword(Ve){const $e=_sessionResponse(Ve);return!$e.error&&Ve.weak_password&&typeof Ve.weak_password=="object"&&Array.isArray(Ve.weak_password.reasons)&&Ve.weak_password.reasons.length&&Ve.weak_password.message&&typeof Ve.weak_password.message=="string"&&Ve.weak_password.reasons.reduce((Be,Ue)=>Be&&typeof Ue=="string",!0)&&($e.data.weak_password=Ve.weak_password),$e}function _userResponse(Ve){var $e;return{data:{user:($e=Ve.user)!==null&&$e!==void 0?$e:Ve},error:null}}function _ssoResponse(Ve){return{data:Ve,error:null}}function _generateLinkResponse(Ve){const{action_link:$e,email_otp:Be,hashed_token:Ue,redirect_to:ze,verification_type:qe}=Ve,He=__rest(Ve,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),We={action_link:$e,email_otp:Be,hashed_token:Ue,redirect_to:ze,verification_type:qe},Ge=Object.assign({},He);return{data:{properties:We,user:Ge},error:null}}function _noResolveJsonResponse(Ve){return Ve}function hasSession(Ve){return Ve.access_token&&Ve.refresh_token&&Ve.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];class GoTrueAdminApi{constructor({url:$e="",headers:Be={},fetch:Ue}){this.url=$e,this.headers=Be,this.fetch=resolveFetch(Ue),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut($e,Be=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(Be)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${Be}`,{headers:this.headers,jwt:$e,noResolveJson:!0}),{data:null,error:null}}catch(Ue){if(isAuthError(Ue))return{data:null,error:Ue};throw Ue}}async inviteUserByEmail($e,Be={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:$e,data:Be.data},headers:this.headers,redirectTo:Be.redirectTo,xform:_userResponse})}catch(Ue){if(isAuthError(Ue))return{data:{user:null},error:Ue};throw Ue}}async generateLink($e){try{const{options:Be}=$e,Ue=__rest($e,["options"]),ze=Object.assign(Object.assign({},Ue),Be);return"newEmail"in Ue&&(ze.new_email=Ue?.newEmail,delete ze.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:ze,headers:this.headers,xform:_generateLinkResponse,redirectTo:Be?.redirectTo})}catch(Be){if(isAuthError(Be))return{data:{properties:null,user:null},error:Be};throw Be}}async createUser($e){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:$e,headers:this.headers,xform:_userResponse})}catch(Be){if(isAuthError(Be))return{data:{user:null},error:Be};throw Be}}async listUsers($e){var Be,Ue,ze,qe,He,We,Ge;try{const Ye={nextPage:null,lastPage:0,total:0},Xe=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(Ue=(Be=$e?.page)===null||Be===void 0?void 0:Be.toString())!==null&&Ue!==void 0?Ue:"",per_page:(qe=(ze=$e?.perPage)===null||ze===void 0?void 0:ze.toString())!==null&&qe!==void 0?qe:""},xform:_noResolveJsonResponse});if(Xe.error)throw Xe.error;const Je=await Xe.json(),er=(He=Xe.headers.get("x-total-count"))!==null&&He!==void 0?He:0,Ze=(Ge=(We=Xe.headers.get("link"))===null||We===void 0?void 0:We.split(","))!==null&&Ge!==void 0?Ge:[];return Ze.length>0&&(Ze.forEach(rr=>{const nr=parseInt(rr.split(";")[0].split("=")[1].substring(0,1)),ar=JSON.parse(rr.split(";")[1].split("=")[1]);Ye[`${ar}Page`]=nr}),Ye.total=parseInt(er)),{data:Object.assign(Object.assign({},Je),Ye),error:null}}catch(Ye){if(isAuthError(Ye))return{data:{users:[]},error:Ye};throw Ye}}async getUserById($e){validateUUID($e);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${$e}`,{headers:this.headers,xform:_userResponse})}catch(Be){if(isAuthError(Be))return{data:{user:null},error:Be};throw Be}}async updateUserById($e,Be){validateUUID($e);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${$e}`,{body:Be,headers:this.headers,xform:_userResponse})}catch(Ue){if(isAuthError(Ue))return{data:{user:null},error:Ue};throw Ue}}async deleteUser($e,Be=!1){validateUUID($e);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${$e}`,{headers:this.headers,body:{should_soft_delete:Be},xform:_userResponse})}catch(Ue){if(isAuthError(Ue))return{data:{user:null},error:Ue};throw Ue}}async _listFactors($e){validateUUID($e.userId);try{const{data:Be,error:Ue}=await _request(this.fetch,"GET",`${this.url}/admin/users/${$e.userId}/factors`,{headers:this.headers,xform:ze=>({data:{factors:ze},error:null})});return{data:Be,error:Ue}}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}async _deleteFactor($e){validateUUID($e.userId),validateUUID($e.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${$e.userId}/factors/${$e.id}`,{headers:this.headers}),error:null}}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}async _listOAuthClients($e){var Be,Ue,ze,qe,He,We,Ge;try{const Ye={nextPage:null,lastPage:0,total:0},Xe=await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(Ue=(Be=$e?.page)===null||Be===void 0?void 0:Be.toString())!==null&&Ue!==void 0?Ue:"",per_page:(qe=(ze=$e?.perPage)===null||ze===void 0?void 0:ze.toString())!==null&&qe!==void 0?qe:""},xform:_noResolveJsonResponse});if(Xe.error)throw Xe.error;const Je=await Xe.json(),er=(He=Xe.headers.get("x-total-count"))!==null&&He!==void 0?He:0,Ze=(Ge=(We=Xe.headers.get("link"))===null||We===void 0?void 0:We.split(","))!==null&&Ge!==void 0?Ge:[];return Ze.length>0&&(Ze.forEach(rr=>{const nr=parseInt(rr.split(";")[0].split("=")[1].substring(0,1)),ar=JSON.parse(rr.split(";")[1].split("=")[1]);Ye[`${ar}Page`]=nr}),Ye.total=parseInt(er)),{data:Object.assign(Object.assign({},Je),Ye),error:null}}catch(Ye){if(isAuthError(Ye))return{data:{clients:[]},error:Ye};throw Ye}}async _createOAuthClient($e){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:$e,headers:this.headers,xform:Be=>({data:Be,error:null})})}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}async _getOAuthClient($e){try{return await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients/${$e}`,{headers:this.headers,xform:Be=>({data:Be,error:null})})}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}async _updateOAuthClient($e,Be){try{return await _request(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${$e}`,{body:Be,headers:this.headers,xform:Ue=>({data:Ue,error:null})})}catch(Ue){if(isAuthError(Ue))return{data:null,error:Ue};throw Ue}}async _deleteOAuthClient($e){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${$e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}async _regenerateOAuthClientSecret($e){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients/${$e}/regenerate_secret`,{headers:this.headers,xform:Be=>({data:Be,error:null})})}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}}function memoryLocalStorageAdapter(Ve={}){return{getItem:$e=>Ve[$e]||null,setItem:($e,Be)=>{Ve[$e]=Be},removeItem:$e=>{delete Ve[$e]}}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor($e){super($e),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(Ve,$e,Be){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",Ve,$e);const Ue=new globalThis.AbortController;return $e>0&&setTimeout(()=>{Ue.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",Ve)},$e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(Ve,$e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:Ue.signal},async ze=>{if(ze){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",Ve,ze.name);try{return await Be()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",Ve,ze.name)}}else{if($e===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",Ve),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${Ve}" immediately failed`);if(internals.debug)try{const qe=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(qe,null,"  "))}catch(qe){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",qe)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await Be()}}))}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function getAddress(Ve){if(!/^0x[a-fA-F0-9]{40}$/.test(Ve))throw new Error(`@supabase/auth-js: Address "${Ve}" is invalid.`);return Ve.toLowerCase()}function fromHex(Ve){return parseInt(Ve,16)}function toHex(Ve){const $e=new TextEncoder().encode(Ve);return"0x"+Array.from($e,Ue=>Ue.toString(16).padStart(2,"0")).join("")}function createSiweMessage(Ve){var $e;const{chainId:Be,domain:Ue,expirationTime:ze,issuedAt:qe=new Date,nonce:He,notBefore:We,requestId:Ge,resources:Ye,scheme:Xe,uri:Je,version:er}=Ve;{if(!Number.isInteger(Be))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${Be}`);if(!Ue)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(He&&He.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${He}`);if(!Je)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(er!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${er}`);if(!(($e=Ve.statement)===null||$e===void 0)&&$e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${Ve.statement}`)}const Ze=getAddress(Ve.address),rr=Xe?`${Xe}://${Ue}`:Ue,nr=Ve.statement?`${Ve.statement}
`:"",ar=`${rr} wants you to sign in with your Ethereum account:
${Ze}

${nr}`;let sr=`URI: ${Je}
Version: ${er}
Chain ID: ${Be}${He?`
Nonce: ${He}`:""}
Issued At: ${qe.toISOString()}`;if(ze&&(sr+=`
Expiration Time: ${ze.toISOString()}`),We&&(sr+=`
Not Before: ${We.toISOString()}`),Ge&&(sr+=`
Request ID: ${Ge}`),Ye){let lr=`
Resources:`;for(const or of Ye){if(!or||typeof or!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${or}`);lr+=`
- ${or}`}sr+=lr}return`${ar}
${sr}`}class WebAuthnError extends Error{constructor({message:$e,code:Be,cause:Ue,name:ze}){var qe;super($e,{cause:Ue}),this.__isWebAuthnError=!0,this.name=(qe=ze??(Ue instanceof Error?Ue.name:void 0))!==null&&qe!==void 0?qe:"Unknown Error",this.code=Be}}class WebAuthnUnknownError extends WebAuthnError{constructor($e,Be){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:Be,message:$e}),this.name="WebAuthnUnknownError",this.originalError=Be}}function identifyRegistrationError({error:Ve,options:$e}){var Be,Ue,ze;const{publicKey:qe}=$e;if(!qe)throw Error("options was missing required publicKey property");if(Ve.name==="AbortError"){if($e.signal instanceof AbortSignal)return new WebAuthnError({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:Ve})}else if(Ve.name==="ConstraintError"){if(((Be=qe.authenticatorSelection)===null||Be===void 0?void 0:Be.requireResidentKey)===!0)return new WebAuthnError({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:Ve});if($e.mediation==="conditional"&&((Ue=qe.authenticatorSelection)===null||Ue===void 0?void 0:Ue.userVerification)==="required")return new WebAuthnError({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:Ve});if(((ze=qe.authenticatorSelection)===null||ze===void 0?void 0:ze.userVerification)==="required")return new WebAuthnError({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:Ve})}else{if(Ve.name==="InvalidStateError")return new WebAuthnError({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:Ve});if(Ve.name==="NotAllowedError")return new WebAuthnError({message:Ve.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:Ve});if(Ve.name==="NotSupportedError")return qe.pubKeyCredParams.filter(We=>We.type==="public-key").length===0?new WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:Ve}):new WebAuthnError({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:Ve});if(Ve.name==="SecurityError"){const He=window.location.hostname;if(isValidDomain(He)){if(qe.rp.id!==He)return new WebAuthnError({message:`The RP ID "${qe.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:Ve})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:Ve})}else if(Ve.name==="TypeError"){if(qe.user.id.byteLength<1||qe.user.id.byteLength>64)return new WebAuthnError({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:Ve})}else if(Ve.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:Ve})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:Ve})}function identifyAuthenticationError({error:Ve,options:$e}){const{publicKey:Be}=$e;if(!Be)throw Error("options was missing required publicKey property");if(Ve.name==="AbortError"){if($e.signal instanceof AbortSignal)return new WebAuthnError({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:Ve})}else{if(Ve.name==="NotAllowedError")return new WebAuthnError({message:Ve.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:Ve});if(Ve.name==="SecurityError"){const Ue=window.location.hostname;if(isValidDomain(Ue)){if(Be.rpId!==Ue)return new WebAuthnError({message:`The RP ID "${Be.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:Ve})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:Ve})}else if(Ve.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:Ve})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:Ve})}class WebAuthnAbortService{createNewAbortSignal(){if(this.controller){const Be=new Error("Cancelling existing WebAuthn API call for new one");Be.name="AbortError",this.controller.abort(Be)}const $e=new AbortController;return this.controller=$e,$e.signal}cancelCeremony(){if(this.controller){const $e=new Error("Manually cancelling existing WebAuthn API call");$e.name="AbortError",this.controller.abort($e),this.controller=void 0}}}const webAuthnAbortService=new WebAuthnAbortService;function deserializeCredentialCreationOptions(Ve){if(!Ve)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(Ve);const{challenge:$e,user:Be,excludeCredentials:Ue}=Ve,ze=__rest(Ve,["challenge","user","excludeCredentials"]),qe=base64UrlToUint8Array($e).buffer,He=Object.assign(Object.assign({},Be),{id:base64UrlToUint8Array(Be.id).buffer}),We=Object.assign(Object.assign({},ze),{challenge:qe,user:He});if(Ue&&Ue.length>0){We.excludeCredentials=new Array(Ue.length);for(let Ge=0;Ge<Ue.length;Ge++){const Ye=Ue[Ge];We.excludeCredentials[Ge]=Object.assign(Object.assign({},Ye),{id:base64UrlToUint8Array(Ye.id).buffer,type:Ye.type||"public-key",transports:Ye.transports})}}return We}function deserializeCredentialRequestOptions(Ve){if(!Ve)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(Ve);const{challenge:$e,allowCredentials:Be}=Ve,Ue=__rest(Ve,["challenge","allowCredentials"]),ze=base64UrlToUint8Array($e).buffer,qe=Object.assign(Object.assign({},Ue),{challenge:ze});if(Be&&Be.length>0){qe.allowCredentials=new Array(Be.length);for(let He=0;He<Be.length;He++){const We=Be[He];qe.allowCredentials[He]=Object.assign(Object.assign({},We),{id:base64UrlToUint8Array(We.id).buffer,type:We.type||"public-key",transports:We.transports})}}return qe}function serializeCredentialCreationResponse(Ve){var $e;if("toJSON"in Ve&&typeof Ve.toJSON=="function")return Ve.toJSON();const Be=Ve;return{id:Ve.id,rawId:Ve.id,response:{attestationObject:bytesToBase64URL(new Uint8Array(Ve.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array(Ve.response.clientDataJSON))},type:"public-key",clientExtensionResults:Ve.getClientExtensionResults(),authenticatorAttachment:($e=Be.authenticatorAttachment)!==null&&$e!==void 0?$e:void 0}}function serializeCredentialRequestResponse(Ve){var $e;if("toJSON"in Ve&&typeof Ve.toJSON=="function")return Ve.toJSON();const Be=Ve,Ue=Ve.getClientExtensionResults(),ze=Ve.response;return{id:Ve.id,rawId:Ve.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(ze.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(ze.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(ze.signature)),userHandle:ze.userHandle?bytesToBase64URL(new Uint8Array(ze.userHandle)):void 0},type:"public-key",clientExtensionResults:Ue,authenticatorAttachment:($e=Be.authenticatorAttachment)!==null&&$e!==void 0?$e:void 0}}function isValidDomain(Ve){return Ve==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(Ve)}function browserSupportsWebAuthn(){var Ve,$e;return!!(isBrowser()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((Ve=navigator?.credentials)===null||Ve===void 0?void 0:Ve.create)=="function"&&typeof(($e=navigator?.credentials)===null||$e===void 0?void 0:$e.get)=="function")}async function createCredential(Ve){try{const $e=await navigator.credentials.create(Ve);return $e?$e instanceof PublicKeyCredential?{data:$e,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",$e)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",$e)}}catch($e){return{data:null,error:identifyRegistrationError({error:$e,options:Ve})}}}async function getCredential(Ve){try{const $e=await navigator.credentials.get(Ve);return $e?$e instanceof PublicKeyCredential?{data:$e,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",$e)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",$e)}}catch($e){return{data:null,error:identifyAuthenticationError({error:$e,options:Ve})}}}const DEFAULT_CREATION_OPTIONS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},DEFAULT_REQUEST_OPTIONS={userVerification:"preferred",hints:["security-key"]};function deepMerge(...Ve){const $e=ze=>ze!==null&&typeof ze=="object"&&!Array.isArray(ze),Be=ze=>ze instanceof ArrayBuffer||ArrayBuffer.isView(ze),Ue={};for(const ze of Ve)if(ze)for(const qe in ze){const He=ze[qe];if(He!==void 0)if(Array.isArray(He))Ue[qe]=He;else if(Be(He))Ue[qe]=He;else if($e(He)){const We=Ue[qe];$e(We)?Ue[qe]=deepMerge(We,He):Ue[qe]=deepMerge(He)}else Ue[qe]=He}return Ue}function mergeCredentialCreationOptions(Ve,$e){return deepMerge(DEFAULT_CREATION_OPTIONS,Ve,$e||{})}function mergeCredentialRequestOptions(Ve,$e){return deepMerge(DEFAULT_REQUEST_OPTIONS,Ve,$e||{})}class WebAuthnApi{constructor($e){this.client=$e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll($e){return this.client.mfa.enroll(Object.assign(Object.assign({},$e),{factorType:"webauthn"}))}async _challenge({factorId:$e,webauthn:Be,friendlyName:Ue,signal:ze},qe){try{const{data:He,error:We}=await this.client.mfa.challenge({factorId:$e,webauthn:Be});if(!He)return{data:null,error:We};const Ge=ze??webAuthnAbortService.createNewAbortSignal();if(He.webauthn.type==="create"){const{user:Ye}=He.webauthn.credential_options.publicKey;Ye.name||(Ye.name=`${Ye.id}:${Ue}`),Ye.displayName||(Ye.displayName=Ye.name)}switch(He.webauthn.type){case"create":{const Ye=mergeCredentialCreationOptions(He.webauthn.credential_options.publicKey,qe?.create),{data:Xe,error:Je}=await createCredential({publicKey:Ye,signal:Ge});return Xe?{data:{factorId:$e,challengeId:He.id,webauthn:{type:He.webauthn.type,credential_response:Xe}},error:null}:{data:null,error:Je}}case"request":{const Ye=mergeCredentialRequestOptions(He.webauthn.credential_options.publicKey,qe?.request),{data:Xe,error:Je}=await getCredential(Object.assign(Object.assign({},He.webauthn.credential_options),{publicKey:Ye,signal:Ge}));return Xe?{data:{factorId:$e,challengeId:He.id,webauthn:{type:He.webauthn.type,credential_response:Xe}},error:null}:{data:null,error:Je}}}}catch(He){return isAuthError(He)?{data:null,error:He}:{data:null,error:new AuthUnknownError("Unexpected error in challenge",He)}}}async _verify({challengeId:$e,factorId:Be,webauthn:Ue}){return this.client.mfa.verify({factorId:Be,challengeId:$e,webauthn:Ue})}async _authenticate({factorId:$e,webauthn:{rpId:Be=typeof window<"u"?window.location.hostname:void 0,rpOrigins:Ue=typeof window<"u"?[window.location.origin]:void 0,signal:ze}},qe){if(!Be)return{data:null,error:new AuthError("rpId is required for WebAuthn authentication")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:He,error:We}=await this.challenge({factorId:$e,webauthn:{rpId:Be,rpOrigins:Ue},signal:ze},{request:qe});if(!He)return{data:null,error:We};const{webauthn:Ge}=He;return this._verify({factorId:$e,challengeId:He.challengeId,webauthn:{type:Ge.type,rpId:Be,rpOrigins:Ue,credential_response:Ge.credential_response}})}catch(He){return isAuthError(He)?{data:null,error:He}:{data:null,error:new AuthUnknownError("Unexpected error in authenticate",He)}}}async _register({friendlyName:$e,rpId:Be=typeof window<"u"?window.location.hostname:void 0,rpOrigins:Ue=typeof window<"u"?[window.location.origin]:void 0,signal:ze},qe){if(!Be)return{data:null,error:new AuthError("rpId is required for WebAuthn registration")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:He,error:We}=await this._enroll({friendlyName:$e});if(!He)return await this.client.mfa.listFactors().then(Xe=>{var Je;return(Je=Xe.data)===null||Je===void 0?void 0:Je.all.find(er=>er.factor_type==="webauthn"&&er.friendly_name===$e&&er.status!=="unverified")}).then(Xe=>Xe?this.client.mfa.unenroll({factorId:Xe?.id}):void 0),{data:null,error:We};const{data:Ge,error:Ye}=await this._challenge({factorId:He.id,friendlyName:He.friendly_name,webauthn:{rpId:Be,rpOrigins:Ue},signal:ze},{create:qe});return Ge?this._verify({factorId:He.id,challengeId:Ge.challengeId,webauthn:{rpId:Be,rpOrigins:Ue,type:Ge.webauthn.type,credential_response:Ge.webauthn.credential_response}}):{data:null,error:Ye}}catch(He){return isAuthError(He)?{data:null,error:He}:{data:null,error:new AuthUnknownError("Unexpected error in register",He)}}}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(Ve,$e,Be){return await Be()}const GLOBAL_JWKS={};class GoTrueClient{get jwks(){var $e,Be;return(Be=($e=GLOBAL_JWKS[this.storageKey])===null||$e===void 0?void 0:$e.jwks)!==null&&Be!==void 0?Be:{keys:[]}}set jwks($e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:$e})}get jwks_cached_at(){var $e,Be;return(Be=($e=GLOBAL_JWKS[this.storageKey])===null||$e===void 0?void 0:$e.cachedAt)!==null&&Be!==void 0?Be:Number.MIN_SAFE_INTEGER}set jwks_cached_at($e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:$e})}constructor($e){var Be,Ue;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const ze=Object.assign(Object.assign({},DEFAULT_OPTIONS),$e);if(this.logDebugMessages=!!ze.debug,typeof ze.debug=="function"&&(this.logger=ze.debug),this.persistSession=ze.persistSession,this.storageKey=ze.storageKey,this.autoRefreshToken=ze.autoRefreshToken,this.admin=new GoTrueAdminApi({url:ze.url,headers:ze.headers,fetch:ze.fetch}),this.url=ze.url,this.headers=ze.headers,this.fetch=resolveFetch(ze.fetch),this.lock=ze.lock||lockNoOp,this.detectSessionInUrl=ze.detectSessionInUrl,this.flowType=ze.flowType,this.hasCustomAuthorizationHeader=ze.hasCustomAuthorizationHeader,ze.lock?this.lock=ze.lock:isBrowser()&&(!((Be=globalThis?.navigator)===null||Be===void 0)&&Be.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WebAuthnApi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(ze.storage?this.storage=ze.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),ze.userStorage&&(this.userStorage=ze.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(qe){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",qe)}(Ue=this.broadcastChannel)===null||Ue===void 0||Ue.addEventListener("message",async qe=>{this._debug("received broadcast notification from other tab or client",qe),await this._notifyAllSubscribers(qe.data.event,qe.data.session,!1)})}this.initialize()}_debug(...$e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`,...$e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var $e;try{const Be=parseParametersFromURL(window.location.href);let Ue="none";if(this._isImplicitGrantCallback(Be)?Ue="implicit":await this._isPKCECallback(Be)&&(Ue="pkce"),isBrowser()&&this.detectSessionInUrl&&Ue!=="none"){const{data:ze,error:qe}=await this._getSessionFromURL(Be,Ue);if(qe){if(this._debug("#_initialize()","error detecting session from URL",qe),isAuthImplicitGrantRedirectError(qe)){const Ge=($e=qe.details)===null||$e===void 0?void 0:$e.code;if(Ge==="identity_already_exists"||Ge==="identity_not_found"||Ge==="single_identity_not_deletable")return{error:qe}}return await this._removeSession(),{error:qe}}const{session:He,redirectType:We}=ze;return this._debug("#_initialize()","detected session in URL",He,"redirect type",We),await this._saveSession(He),setTimeout(async()=>{We==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",He):await this._notifyAllSubscribers("SIGNED_IN",He)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(Be){return isAuthError(Be)?{error:Be}:{error:new AuthUnknownError("Unexpected error during initialization",Be)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously($e){var Be,Ue,ze;try{const qe=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(Ue=(Be=$e?.options)===null||Be===void 0?void 0:Be.data)!==null&&Ue!==void 0?Ue:{},gotrue_meta_security:{captcha_token:(ze=$e?.options)===null||ze===void 0?void 0:ze.captchaToken}},xform:_sessionResponse}),{data:He,error:We}=qe;if(We||!He)return{data:{user:null,session:null},error:We};const Ge=He.session,Ye=He.user;return He.session&&(await this._saveSession(He.session),await this._notifyAllSubscribers("SIGNED_IN",Ge)),{data:{user:Ye,session:Ge},error:null}}catch(qe){if(isAuthError(qe))return{data:{user:null,session:null},error:qe};throw qe}}async signUp($e){var Be,Ue,ze;try{let qe;if("email"in $e){const{email:Xe,password:Je,options:er}=$e;let Ze=null,rr=null;this.flowType==="pkce"&&([Ze,rr]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),qe=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:er?.emailRedirectTo,body:{email:Xe,password:Je,data:(Be=er?.data)!==null&&Be!==void 0?Be:{},gotrue_meta_security:{captcha_token:er?.captchaToken},code_challenge:Ze,code_challenge_method:rr},xform:_sessionResponse})}else if("phone"in $e){const{phone:Xe,password:Je,options:er}=$e;qe=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:Xe,password:Je,data:(Ue=er?.data)!==null&&Ue!==void 0?Ue:{},channel:(ze=er?.channel)!==null&&ze!==void 0?ze:"sms",gotrue_meta_security:{captcha_token:er?.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:He,error:We}=qe;if(We||!He)return{data:{user:null,session:null},error:We};const Ge=He.session,Ye=He.user;return He.session&&(await this._saveSession(He.session),await this._notifyAllSubscribers("SIGNED_IN",Ge)),{data:{user:Ye,session:Ge},error:null}}catch(qe){if(isAuthError(qe))return{data:{user:null,session:null},error:qe};throw qe}}async signInWithPassword($e){try{let Be;if("email"in $e){const{email:qe,password:He,options:We}=$e;Be=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:qe,password:He,gotrue_meta_security:{captcha_token:We?.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in $e){const{phone:qe,password:He,options:We}=$e;Be=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:qe,password:He,gotrue_meta_security:{captcha_token:We?.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:Ue,error:ze}=Be;return ze?{data:{user:null,session:null},error:ze}:!Ue||!Ue.session||!Ue.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(Ue.session&&(await this._saveSession(Ue.session),await this._notifyAllSubscribers("SIGNED_IN",Ue.session)),{data:Object.assign({user:Ue.user,session:Ue.session},Ue.weak_password?{weakPassword:Ue.weak_password}:null),error:ze})}catch(Be){if(isAuthError(Be))return{data:{user:null,session:null},error:Be};throw Be}}async signInWithOAuth($e){var Be,Ue,ze,qe;return await this._handleProviderSignIn($e.provider,{redirectTo:(Be=$e.options)===null||Be===void 0?void 0:Be.redirectTo,scopes:(Ue=$e.options)===null||Ue===void 0?void 0:Ue.scopes,queryParams:(ze=$e.options)===null||ze===void 0?void 0:ze.queryParams,skipBrowserRedirect:(qe=$e.options)===null||qe===void 0?void 0:qe.skipBrowserRedirect})}async exchangeCodeForSession($e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession($e))}async signInWithWeb3($e){const{chain:Be}=$e;switch(Be){case"ethereum":return await this.signInWithEthereum($e);case"solana":return await this.signInWithSolana($e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${Be}"`)}}async signInWithEthereum($e){var Be,Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er;let Ze,rr;if("message"in $e)Ze=$e.message,rr=$e.signature;else{const{chain:nr,wallet:ar,statement:sr,options:lr}=$e;let or;if(isBrowser())if(typeof ar=="object")or=ar;else{const _r=window;if("ethereum"in _r&&typeof _r.ethereum=="object"&&"request"in _r.ethereum&&typeof _r.ethereum.request=="function")or=_r.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof ar!="object"||!lr?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");or=ar}const cr=new URL((Be=lr?.url)!==null&&Be!==void 0?Be:window.location.href),hr=await or.request({method:"eth_requestAccounts"}).then(_r=>_r).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!hr||hr.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const yr=getAddress(hr[0]);let mr=(Ue=lr?.signInWithEthereum)===null||Ue===void 0?void 0:Ue.chainId;if(!mr){const _r=await or.request({method:"eth_chainId"});mr=fromHex(_r)}const vr={domain:cr.host,address:yr,statement:sr,uri:cr.href,version:"1",chainId:mr,nonce:(ze=lr?.signInWithEthereum)===null||ze===void 0?void 0:ze.nonce,issuedAt:(He=(qe=lr?.signInWithEthereum)===null||qe===void 0?void 0:qe.issuedAt)!==null&&He!==void 0?He:new Date,expirationTime:(We=lr?.signInWithEthereum)===null||We===void 0?void 0:We.expirationTime,notBefore:(Ge=lr?.signInWithEthereum)===null||Ge===void 0?void 0:Ge.notBefore,requestId:(Ye=lr?.signInWithEthereum)===null||Ye===void 0?void 0:Ye.requestId,resources:(Xe=lr?.signInWithEthereum)===null||Xe===void 0?void 0:Xe.resources};Ze=createSiweMessage(vr),rr=await or.request({method:"personal_sign",params:[toHex(Ze),yr]})}try{const{data:nr,error:ar}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:Ze,signature:rr},!((Je=$e.options)===null||Je===void 0)&&Je.captchaToken?{gotrue_meta_security:{captcha_token:(er=$e.options)===null||er===void 0?void 0:er.captchaToken}}:null),xform:_sessionResponse});if(ar)throw ar;return!nr||!nr.session||!nr.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(nr.session&&(await this._saveSession(nr.session),await this._notifyAllSubscribers("SIGNED_IN",nr.session)),{data:Object.assign({},nr),error:ar})}catch(nr){if(isAuthError(nr))return{data:{user:null,session:null},error:nr};throw nr}}async signInWithSolana($e){var Be,Ue,ze,qe,He,We,Ge,Ye,Xe,Je,er,Ze;let rr,nr;if("message"in $e)rr=$e.message,nr=$e.signature;else{const{chain:ar,wallet:sr,statement:lr,options:or}=$e;let cr;if(isBrowser())if(typeof sr=="object")cr=sr;else{const yr=window;if("solana"in yr&&typeof yr.solana=="object"&&("signIn"in yr.solana&&typeof yr.solana.signIn=="function"||"signMessage"in yr.solana&&typeof yr.solana.signMessage=="function"))cr=yr.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof sr!="object"||!or?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");cr=sr}const hr=new URL((Be=or?.url)!==null&&Be!==void 0?Be:window.location.href);if("signIn"in cr&&cr.signIn){const yr=await cr.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},or?.signInWithSolana),{version:"1",domain:hr.host,uri:hr.href}),lr?{statement:lr}:null));let mr;if(Array.isArray(yr)&&yr[0]&&typeof yr[0]=="object")mr=yr[0];else if(yr&&typeof yr=="object"&&"signedMessage"in yr&&"signature"in yr)mr=yr;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in mr&&"signature"in mr&&(typeof mr.signedMessage=="string"||mr.signedMessage instanceof Uint8Array)&&mr.signature instanceof Uint8Array)rr=typeof mr.signedMessage=="string"?mr.signedMessage:new TextDecoder().decode(mr.signedMessage),nr=mr.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in cr)||typeof cr.signMessage!="function"||!("publicKey"in cr)||typeof cr!="object"||!cr.publicKey||!("toBase58"in cr.publicKey)||typeof cr.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");rr=[`${hr.host} wants you to sign in with your Solana account:`,cr.publicKey.toBase58(),...lr?["",lr,""]:[""],"Version: 1",`URI: ${hr.href}`,`Issued At: ${(ze=(Ue=or?.signInWithSolana)===null||Ue===void 0?void 0:Ue.issuedAt)!==null&&ze!==void 0?ze:new Date().toISOString()}`,...!((qe=or?.signInWithSolana)===null||qe===void 0)&&qe.notBefore?[`Not Before: ${or.signInWithSolana.notBefore}`]:[],...!((He=or?.signInWithSolana)===null||He===void 0)&&He.expirationTime?[`Expiration Time: ${or.signInWithSolana.expirationTime}`]:[],...!((We=or?.signInWithSolana)===null||We===void 0)&&We.chainId?[`Chain ID: ${or.signInWithSolana.chainId}`]:[],...!((Ge=or?.signInWithSolana)===null||Ge===void 0)&&Ge.nonce?[`Nonce: ${or.signInWithSolana.nonce}`]:[],...!((Ye=or?.signInWithSolana)===null||Ye===void 0)&&Ye.requestId?[`Request ID: ${or.signInWithSolana.requestId}`]:[],...!((Je=(Xe=or?.signInWithSolana)===null||Xe===void 0?void 0:Xe.resources)===null||Je===void 0)&&Je.length?["Resources",...or.signInWithSolana.resources.map(mr=>`- ${mr}`)]:[]].join(`
`);const yr=await cr.signMessage(new TextEncoder().encode(rr),"utf8");if(!yr||!(yr instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");nr=yr}}try{const{data:ar,error:sr}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:rr,signature:bytesToBase64URL(nr)},!((er=$e.options)===null||er===void 0)&&er.captchaToken?{gotrue_meta_security:{captcha_token:(Ze=$e.options)===null||Ze===void 0?void 0:Ze.captchaToken}}:null),xform:_sessionResponse});if(sr)throw sr;return!ar||!ar.session||!ar.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(ar.session&&(await this._saveSession(ar.session),await this._notifyAllSubscribers("SIGNED_IN",ar.session)),{data:Object.assign({},ar),error:sr})}catch(ar){if(isAuthError(ar))return{data:{user:null,session:null},error:ar};throw ar}}async _exchangeCodeForSession($e){const Be=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[Ue,ze]=(Be??"").split("/");try{const{data:qe,error:He}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:$e,code_verifier:Ue},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),He)throw He;return!qe||!qe.session||!qe.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(qe.session&&(await this._saveSession(qe.session),await this._notifyAllSubscribers("SIGNED_IN",qe.session)),{data:Object.assign(Object.assign({},qe),{redirectType:ze??null}),error:He})}catch(qe){if(isAuthError(qe))return{data:{user:null,session:null,redirectType:null},error:qe};throw qe}}async signInWithIdToken($e){try{const{options:Be,provider:Ue,token:ze,access_token:qe,nonce:He}=$e,We=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:Ue,id_token:ze,access_token:qe,nonce:He,gotrue_meta_security:{captcha_token:Be?.captchaToken}},xform:_sessionResponse}),{data:Ge,error:Ye}=We;return Ye?{data:{user:null,session:null},error:Ye}:!Ge||!Ge.session||!Ge.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(Ge.session&&(await this._saveSession(Ge.session),await this._notifyAllSubscribers("SIGNED_IN",Ge.session)),{data:Ge,error:Ye})}catch(Be){if(isAuthError(Be))return{data:{user:null,session:null},error:Be};throw Be}}async signInWithOtp($e){var Be,Ue,ze,qe,He;try{if("email"in $e){const{email:We,options:Ge}=$e;let Ye=null,Xe=null;this.flowType==="pkce"&&([Ye,Xe]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:Je}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:We,data:(Be=Ge?.data)!==null&&Be!==void 0?Be:{},create_user:(Ue=Ge?.shouldCreateUser)!==null&&Ue!==void 0?Ue:!0,gotrue_meta_security:{captcha_token:Ge?.captchaToken},code_challenge:Ye,code_challenge_method:Xe},redirectTo:Ge?.emailRedirectTo});return{data:{user:null,session:null},error:Je}}if("phone"in $e){const{phone:We,options:Ge}=$e,{data:Ye,error:Xe}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:We,data:(ze=Ge?.data)!==null&&ze!==void 0?ze:{},create_user:(qe=Ge?.shouldCreateUser)!==null&&qe!==void 0?qe:!0,gotrue_meta_security:{captcha_token:Ge?.captchaToken},channel:(He=Ge?.channel)!==null&&He!==void 0?He:"sms"}});return{data:{user:null,session:null,messageId:Ye?.message_id},error:Xe}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(We){if(isAuthError(We))return{data:{user:null,session:null},error:We};throw We}}async verifyOtp($e){var Be,Ue;try{let ze,qe;"options"in $e&&(ze=(Be=$e.options)===null||Be===void 0?void 0:Be.redirectTo,qe=(Ue=$e.options)===null||Ue===void 0?void 0:Ue.captchaToken);const{data:He,error:We}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},$e),{gotrue_meta_security:{captcha_token:qe}}),redirectTo:ze,xform:_sessionResponse});if(We)throw We;if(!He)throw new Error("An error occurred on token verification.");const Ge=He.session,Ye=He.user;return Ge?.access_token&&(await this._saveSession(Ge),await this._notifyAllSubscribers($e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",Ge)),{data:{user:Ye,session:Ge},error:null}}catch(ze){if(isAuthError(ze))return{data:{user:null,session:null},error:ze};throw ze}}async signInWithSSO($e){var Be,Ue,ze;try{let qe=null,He=null;return this.flowType==="pkce"&&([qe,He]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in $e?{provider_id:$e.providerId}:null),"domain"in $e?{domain:$e.domain}:null),{redirect_to:(Ue=(Be=$e.options)===null||Be===void 0?void 0:Be.redirectTo)!==null&&Ue!==void 0?Ue:void 0}),!((ze=$e?.options)===null||ze===void 0)&&ze.captchaToken?{gotrue_meta_security:{captcha_token:$e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:qe,code_challenge_method:He}),headers:this.headers,xform:_ssoResponse})}catch(qe){if(isAuthError(qe))return{data:null,error:qe};throw qe}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async $e=>{const{data:{session:Be},error:Ue}=$e;if(Ue)throw Ue;if(!Be)throw new AuthSessionMissingError;const{error:ze}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:Be.access_token});return{data:{user:null,session:null},error:ze}})}catch($e){if(isAuthError($e))return{data:{user:null,session:null},error:$e};throw $e}}async resend($e){try{const Be=`${this.url}/resend`;if("email"in $e){const{email:Ue,type:ze,options:qe}=$e,{error:He}=await _request(this.fetch,"POST",Be,{headers:this.headers,body:{email:Ue,type:ze,gotrue_meta_security:{captcha_token:qe?.captchaToken}},redirectTo:qe?.emailRedirectTo});return{data:{user:null,session:null},error:He}}else if("phone"in $e){const{phone:Ue,type:ze,options:qe}=$e,{data:He,error:We}=await _request(this.fetch,"POST",Be,{headers:this.headers,body:{phone:Ue,type:ze,gotrue_meta_security:{captcha_token:qe?.captchaToken}}});return{data:{user:null,session:null,messageId:He?.message_id},error:We}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(Be){if(isAuthError(Be))return{data:{user:null,session:null},error:Be};throw Be}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async Be=>Be))}async _acquireLock($e,Be){this._debug("#_acquireLock","begin",$e);try{if(this.lockAcquired){const Ue=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),ze=(async()=>(await Ue,await Be()))();return this.pendingInLock.push((async()=>{try{await ze}catch{}})()),ze}return await this.lock(`lock:${this.storageKey}`,$e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const Ue=Be();for(this.pendingInLock.push((async()=>{try{await Ue}catch{}})()),await Ue;this.pendingInLock.length;){const ze=[...this.pendingInLock];await Promise.all(ze),this.pendingInLock.splice(0,ze.length)}return await Ue}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession($e){this._debug("#_useSession","begin");try{const Be=await this.__loadSession();return await $e(Be)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let $e=null;const Be=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",Be),Be!==null&&(this._isValidSession(Be)?$e=Be:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!$e)return{data:{session:null},error:null};const Ue=$e.expires_at?$e.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${Ue?"":" not"} expired`,"expires_at",$e.expires_at),!Ue){if(this.userStorage){const He=await getItemAsync(this.userStorage,this.storageKey+"-user");He?.user?$e.user=He.user:$e.user=userNotAvailableProxy()}if(this.storage.isServer&&$e.user&&!$e.user.__isUserNotAvailableProxy){const He={value:this.suppressGetSessionWarning};$e.user=insecureUserWarningProxy($e.user,He),He.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:$e},error:null}}const{data:ze,error:qe}=await this._callRefreshToken($e.refresh_token);return qe?{data:{session:null},error:qe}:{data:{session:ze},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser($e){return $e?await this._getUser($e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser($e){try{return $e?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:$e,xform:_userResponse}):await this._useSession(async Be=>{var Ue,ze,qe;const{data:He,error:We}=Be;if(We)throw We;return!(!((Ue=He.session)===null||Ue===void 0)&&Ue.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(qe=(ze=He.session)===null||ze===void 0?void 0:ze.access_token)!==null&&qe!==void 0?qe:void 0,xform:_userResponse})})}catch(Be){if(isAuthError(Be))return isAuthSessionMissingError(Be)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:Be};throw Be}}async updateUser($e,Be={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser($e,Be))}async _updateUser($e,Be={}){try{return await this._useSession(async Ue=>{const{data:ze,error:qe}=Ue;if(qe)throw qe;if(!ze.session)throw new AuthSessionMissingError;const He=ze.session;let We=null,Ge=null;this.flowType==="pkce"&&$e.email!=null&&([We,Ge]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:Ye,error:Xe}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:Be?.emailRedirectTo,body:Object.assign(Object.assign({},$e),{code_challenge:We,code_challenge_method:Ge}),jwt:He.access_token,xform:_userResponse});if(Xe)throw Xe;return He.user=Ye.user,await this._saveSession(He),await this._notifyAllSubscribers("USER_UPDATED",He),{data:{user:He.user},error:null}})}catch(Ue){if(isAuthError(Ue))return{data:{user:null},error:Ue};throw Ue}}async setSession($e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession($e))}async _setSession($e){try{if(!$e.access_token||!$e.refresh_token)throw new AuthSessionMissingError;const Be=Date.now()/1e3;let Ue=Be,ze=!0,qe=null;const{payload:He}=decodeJWT($e.access_token);if(He.exp&&(Ue=He.exp,ze=Ue<=Be),ze){const{data:We,error:Ge}=await this._callRefreshToken($e.refresh_token);if(Ge)return{data:{user:null,session:null},error:Ge};if(!We)return{data:{user:null,session:null},error:null};qe=We}else{const{data:We,error:Ge}=await this._getUser($e.access_token);if(Ge)throw Ge;qe={access_token:$e.access_token,refresh_token:$e.refresh_token,user:We.user,token_type:"bearer",expires_in:Ue-Be,expires_at:Ue},await this._saveSession(qe),await this._notifyAllSubscribers("SIGNED_IN",qe)}return{data:{user:qe.user,session:qe},error:null}}catch(Be){if(isAuthError(Be))return{data:{session:null,user:null},error:Be};throw Be}}async refreshSession($e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession($e))}async _refreshSession($e){try{return await this._useSession(async Be=>{var Ue;if(!$e){const{data:He,error:We}=Be;if(We)throw We;$e=(Ue=He.session)!==null&&Ue!==void 0?Ue:void 0}if(!$e?.refresh_token)throw new AuthSessionMissingError;const{data:ze,error:qe}=await this._callRefreshToken($e.refresh_token);return qe?{data:{user:null,session:null},error:qe}:ze?{data:{user:ze.user,session:ze},error:null}:{data:{user:null,session:null},error:null}})}catch(Be){if(isAuthError(Be))return{data:{user:null,session:null},error:Be};throw Be}}async _getSessionFromURL($e,Be){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if($e.error||$e.error_description||$e.error_code)throw new AuthImplicitGrantRedirectError($e.error_description||"Error in URL with unspecified error_description",{error:$e.error||"unspecified_error",code:$e.error_code||"unspecified_code"});switch(Be){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(Be==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!$e.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:lr,error:or}=await this._exchangeCodeForSession($e.code);if(or)throw or;const cr=new URL(window.location.href);return cr.searchParams.delete("code"),window.history.replaceState(window.history.state,"",cr.toString()),{data:{session:lr.session,redirectType:null},error:null}}const{provider_token:Ue,provider_refresh_token:ze,access_token:qe,refresh_token:He,expires_in:We,expires_at:Ge,token_type:Ye}=$e;if(!qe||!We||!He||!Ye)throw new AuthImplicitGrantRedirectError("No session defined in URL");const Xe=Math.round(Date.now()/1e3),Je=parseInt(We);let er=Xe+Je;Ge&&(er=parseInt(Ge));const Ze=er-Xe;Ze*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${Ze}s, should have been closer to ${Je}s`);const rr=er-Je;Xe-rr>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",rr,er,Xe):Xe-rr<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",rr,er,Xe);const{data:nr,error:ar}=await this._getUser(qe);if(ar)throw ar;const sr={provider_token:Ue,provider_refresh_token:ze,access_token:qe,expires_in:Je,expires_at:er,refresh_token:He,token_type:Ye,user:nr.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:sr,redirectType:$e.type},error:null}}catch(Ue){if(isAuthError(Ue))return{data:{session:null,redirectType:null},error:Ue};throw Ue}}_isImplicitGrantCallback($e){return!!($e.access_token||$e.error_description)}async _isPKCECallback($e){const Be=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!($e.code&&Be)}async signOut($e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut($e))}async _signOut({scope:$e}={scope:"global"}){return await this._useSession(async Be=>{var Ue;const{data:ze,error:qe}=Be;if(qe)return{error:qe};const He=(Ue=ze.session)===null||Ue===void 0?void 0:Ue.access_token;if(He){const{error:We}=await this.admin.signOut(He,$e);if(We&&!(isAuthApiError(We)&&(We.status===404||We.status===401||We.status===403)))return{error:We}}return $e!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange($e){const Be=uuid(),Ue={id:Be,callback:$e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",Be),this.stateChangeEmitters.delete(Be)}};return this._debug("#onAuthStateChange()","registered callback with id",Be),this.stateChangeEmitters.set(Be,Ue),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(Be)})))(),{data:{subscription:Ue}}}async _emitInitialSession($e){return await this._useSession(async Be=>{var Ue,ze;try{const{data:{session:qe},error:He}=Be;if(He)throw He;await((Ue=this.stateChangeEmitters.get($e))===null||Ue===void 0?void 0:Ue.callback("INITIAL_SESSION",qe)),this._debug("INITIAL_SESSION","callback id",$e,"session",qe)}catch(qe){await((ze=this.stateChangeEmitters.get($e))===null||ze===void 0?void 0:ze.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",$e,"error",qe),console.error(qe)}})}async resetPasswordForEmail($e,Be={}){let Ue=null,ze=null;this.flowType==="pkce"&&([Ue,ze]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:$e,code_challenge:Ue,code_challenge_method:ze,gotrue_meta_security:{captcha_token:Be.captchaToken}},headers:this.headers,redirectTo:Be.redirectTo})}catch(qe){if(isAuthError(qe))return{data:null,error:qe};throw qe}}async getUserIdentities(){var $e;try{const{data:Be,error:Ue}=await this.getUser();if(Ue)throw Ue;return{data:{identities:($e=Be.user.identities)!==null&&$e!==void 0?$e:[]},error:null}}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}async linkIdentity($e){return"token"in $e?this.linkIdentityIdToken($e):this.linkIdentityOAuth($e)}async linkIdentityOAuth($e){var Be;try{const{data:Ue,error:ze}=await this._useSession(async qe=>{var He,We,Ge,Ye,Xe;const{data:Je,error:er}=qe;if(er)throw er;const Ze=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,$e.provider,{redirectTo:(He=$e.options)===null||He===void 0?void 0:He.redirectTo,scopes:(We=$e.options)===null||We===void 0?void 0:We.scopes,queryParams:(Ge=$e.options)===null||Ge===void 0?void 0:Ge.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",Ze,{headers:this.headers,jwt:(Xe=(Ye=Je.session)===null||Ye===void 0?void 0:Ye.access_token)!==null&&Xe!==void 0?Xe:void 0})});if(ze)throw ze;return isBrowser()&&!(!((Be=$e.options)===null||Be===void 0)&&Be.skipBrowserRedirect)&&window.location.assign(Ue?.url),{data:{provider:$e.provider,url:Ue?.url},error:null}}catch(Ue){if(isAuthError(Ue))return{data:{provider:$e.provider,url:null},error:Ue};throw Ue}}async linkIdentityIdToken($e){return await this._useSession(async Be=>{var Ue;try{const{error:ze,data:{session:qe}}=Be;if(ze)throw ze;const{options:He,provider:We,token:Ge,access_token:Ye,nonce:Xe}=$e,Je=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(Ue=qe?.access_token)!==null&&Ue!==void 0?Ue:void 0,body:{provider:We,id_token:Ge,access_token:Ye,nonce:Xe,link_identity:!0,gotrue_meta_security:{captcha_token:He?.captchaToken}},xform:_sessionResponse}),{data:er,error:Ze}=Je;return Ze?{data:{user:null,session:null},error:Ze}:!er||!er.session||!er.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(er.session&&(await this._saveSession(er.session),await this._notifyAllSubscribers("USER_UPDATED",er.session)),{data:er,error:Ze})}catch(ze){if(isAuthError(ze))return{data:{user:null,session:null},error:ze};throw ze}})}async unlinkIdentity($e){try{return await this._useSession(async Be=>{var Ue,ze;const{data:qe,error:He}=Be;if(He)throw He;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${$e.identity_id}`,{headers:this.headers,jwt:(ze=(Ue=qe.session)===null||Ue===void 0?void 0:Ue.access_token)!==null&&ze!==void 0?ze:void 0})})}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}async _refreshAccessToken($e){const Be=`#_refreshAccessToken(${$e.substring(0,5)}...)`;this._debug(Be,"begin");try{const Ue=Date.now();return await retryable(async ze=>(ze>0&&await sleep(200*Math.pow(2,ze-1)),this._debug(Be,"refreshing attempt",ze),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:$e},headers:this.headers,xform:_sessionResponse})),(ze,qe)=>{const He=200*Math.pow(2,ze);return qe&&isAuthRetryableFetchError(qe)&&Date.now()+He-Ue<AUTO_REFRESH_TICK_DURATION_MS})}catch(Ue){if(this._debug(Be,"error",Ue),isAuthError(Ue))return{data:{session:null,user:null},error:Ue};throw Ue}finally{this._debug(Be,"end")}}_isValidSession($e){return typeof $e=="object"&&$e!==null&&"access_token"in $e&&"refresh_token"in $e&&"expires_at"in $e}async _handleProviderSignIn($e,Be){const Ue=await this._getUrlForProvider(`${this.url}/authorize`,$e,{redirectTo:Be.redirectTo,scopes:Be.scopes,queryParams:Be.queryParams});return this._debug("#_handleProviderSignIn()","provider",$e,"options",Be,"url",Ue),isBrowser()&&!Be.skipBrowserRedirect&&window.location.assign(Ue),{data:{provider:$e,url:Ue},error:null}}async _recoverAndRefresh(){var $e,Be;const Ue="#_recoverAndRefresh()";this._debug(Ue,"begin");try{const ze=await getItemAsync(this.storage,this.storageKey);if(ze&&this.userStorage){let He=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!He&&(He={user:ze.user},await setItemAsync(this.userStorage,this.storageKey+"-user",He)),ze.user=($e=He?.user)!==null&&$e!==void 0?$e:userNotAvailableProxy()}else if(ze&&!ze.user&&!ze.user){const He=await getItemAsync(this.storage,this.storageKey+"-user");He&&He?.user?(ze.user=He.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,ze)):ze.user=userNotAvailableProxy()}if(this._debug(Ue,"session from storage",ze),!this._isValidSession(ze)){this._debug(Ue,"session is not valid"),ze!==null&&await this._removeSession();return}const qe=((Be=ze.expires_at)!==null&&Be!==void 0?Be:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(Ue,`session has${qe?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),qe){if(this.autoRefreshToken&&ze.refresh_token){const{error:He}=await this._callRefreshToken(ze.refresh_token);He&&(console.error(He),isAuthRetryableFetchError(He)||(this._debug(Ue,"refresh failed with a non-retryable error, removing the session",He),await this._removeSession()))}}else if(ze.user&&ze.user.__isUserNotAvailableProxy===!0)try{const{data:He,error:We}=await this._getUser(ze.access_token);!We&&He?.user?(ze.user=He.user,await this._saveSession(ze),await this._notifyAllSubscribers("SIGNED_IN",ze)):this._debug(Ue,"could not get user data, skipping SIGNED_IN notification")}catch(He){console.error("Error getting user data:",He),this._debug(Ue,"error getting user data, skipping SIGNED_IN notification",He)}else await this._notifyAllSubscribers("SIGNED_IN",ze)}catch(ze){this._debug(Ue,"error",ze),console.error(ze);return}finally{this._debug(Ue,"end")}}async _callRefreshToken($e){var Be,Ue;if(!$e)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const ze=`#_callRefreshToken(${$e.substring(0,5)}...)`;this._debug(ze,"begin");try{this.refreshingDeferred=new Deferred;const{data:qe,error:He}=await this._refreshAccessToken($e);if(He)throw He;if(!qe.session)throw new AuthSessionMissingError;await this._saveSession(qe.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",qe.session);const We={data:qe.session,error:null};return this.refreshingDeferred.resolve(We),We}catch(qe){if(this._debug(ze,"error",qe),isAuthError(qe)){const He={data:null,error:qe};return isAuthRetryableFetchError(qe)||await this._removeSession(),(Be=this.refreshingDeferred)===null||Be===void 0||Be.resolve(He),He}throw(Ue=this.refreshingDeferred)===null||Ue===void 0||Ue.reject(qe),qe}finally{this.refreshingDeferred=null,this._debug(ze,"end")}}async _notifyAllSubscribers($e,Be,Ue=!0){const ze=`#_notifyAllSubscribers(${$e})`;this._debug(ze,"begin",Be,`broadcast = ${Ue}`);try{this.broadcastChannel&&Ue&&this.broadcastChannel.postMessage({event:$e,session:Be});const qe=[],He=Array.from(this.stateChangeEmitters.values()).map(async We=>{try{await We.callback($e,Be)}catch(Ge){qe.push(Ge)}});if(await Promise.all(He),qe.length>0){for(let We=0;We<qe.length;We+=1)console.error(qe[We]);throw qe[0]}}finally{this._debug(ze,"end")}}async _saveSession($e){this._debug("#_saveSession()",$e),this.suppressGetSessionWarning=!0;const Be=Object.assign({},$e),Ue=Be.user&&Be.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!Ue&&Be.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:Be.user});const ze=Object.assign({},Be);delete ze.user;const qe=deepClone(ze);await setItemAsync(this.storage,this.storageKey,qe)}else{const ze=deepClone(Be);await setItemAsync(this.storage,this.storageKey,ze)}}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const $e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{$e&&isBrowser()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",$e)}catch(Be){console.error("removing visibilitychange callback failed",Be)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const $e=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=$e,$e&&typeof $e=="object"&&typeof $e.unref=="function"?$e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer($e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const $e=this.autoRefreshTicker;this.autoRefreshTicker=null,$e&&clearInterval($e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const $e=Date.now();try{return await this._useSession(async Be=>{const{data:{session:Ue}}=Be;if(!Ue||!Ue.refresh_token||!Ue.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const ze=Math.floor((Ue.expires_at*1e3-$e)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${ze} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),ze<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(Ue.refresh_token)})}catch(Be){console.error("Auto refresh tick failed with error. This is likely a transient error.",Be)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch($e){if($e.isAcquireTimeout||$e instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw $e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch($e){console.error("_handleVisibilityChange",$e)}}async _onVisibilityChanged($e){const Be=`#_onVisibilityChanged(${$e})`;this._debug(Be,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),$e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(Be,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider($e,Be,Ue){const ze=[`provider=${encodeURIComponent(Be)}`];if(Ue?.redirectTo&&ze.push(`redirect_to=${encodeURIComponent(Ue.redirectTo)}`),Ue?.scopes&&ze.push(`scopes=${encodeURIComponent(Ue.scopes)}`),this.flowType==="pkce"){const[qe,He]=await getCodeChallengeAndMethod(this.storage,this.storageKey),We=new URLSearchParams({code_challenge:`${encodeURIComponent(qe)}`,code_challenge_method:`${encodeURIComponent(He)}`});ze.push(We.toString())}if(Ue?.queryParams){const qe=new URLSearchParams(Ue.queryParams);ze.push(qe.toString())}return Ue?.skipBrowserRedirect&&ze.push(`skip_http_redirect=${Ue.skipBrowserRedirect}`),`${$e}?${ze.join("&")}`}async _unenroll($e){try{return await this._useSession(async Be=>{var Ue;const{data:ze,error:qe}=Be;return qe?{data:null,error:qe}:await _request(this.fetch,"DELETE",`${this.url}/factors/${$e.factorId}`,{headers:this.headers,jwt:(Ue=ze?.session)===null||Ue===void 0?void 0:Ue.access_token})})}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}async _enroll($e){try{return await this._useSession(async Be=>{var Ue,ze;const{data:qe,error:He}=Be;if(He)return{data:null,error:He};const We=Object.assign({friendly_name:$e.friendlyName,factor_type:$e.factorType},$e.factorType==="phone"?{phone:$e.phone}:$e.factorType==="totp"?{issuer:$e.issuer}:{}),{data:Ge,error:Ye}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:We,headers:this.headers,jwt:(Ue=qe?.session)===null||Ue===void 0?void 0:Ue.access_token});return Ye?{data:null,error:Ye}:($e.factorType==="totp"&&Ge.type==="totp"&&(!((ze=Ge?.totp)===null||ze===void 0)&&ze.qr_code)&&(Ge.totp.qr_code=`data:image/svg+xml;utf-8,${Ge.totp.qr_code}`),{data:Ge,error:null})})}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}async _verify($e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async Be=>{var Ue;const{data:ze,error:qe}=Be;if(qe)return{data:null,error:qe};const He=Object.assign({challenge_id:$e.challengeId},"webauthn"in $e?{webauthn:Object.assign(Object.assign({},$e.webauthn),{credential_response:$e.webauthn.type==="create"?serializeCredentialCreationResponse($e.webauthn.credential_response):serializeCredentialRequestResponse($e.webauthn.credential_response)})}:{code:$e.code}),{data:We,error:Ge}=await _request(this.fetch,"POST",`${this.url}/factors/${$e.factorId}/verify`,{body:He,headers:this.headers,jwt:(Ue=ze?.session)===null||Ue===void 0?void 0:Ue.access_token});return Ge?{data:null,error:Ge}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+We.expires_in},We)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",We),{data:We,error:Ge})})}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}})}async _challenge($e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async Be=>{var Ue;const{data:ze,error:qe}=Be;if(qe)return{data:null,error:qe};const He=await _request(this.fetch,"POST",`${this.url}/factors/${$e.factorId}/challenge`,{body:$e,headers:this.headers,jwt:(Ue=ze?.session)===null||Ue===void 0?void 0:Ue.access_token});if(He.error)return He;const{data:We}=He;if(We.type!=="webauthn")return{data:We,error:null};switch(We.webauthn.type){case"create":return{data:Object.assign(Object.assign({},We),{webauthn:Object.assign(Object.assign({},We.webauthn),{credential_options:Object.assign(Object.assign({},We.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(We.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},We),{webauthn:Object.assign(Object.assign({},We.webauthn),{credential_options:Object.assign(Object.assign({},We.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(We.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}})}async _challengeAndVerify($e){const{data:Be,error:Ue}=await this._challenge({factorId:$e.factorId});return Ue?{data:null,error:Ue}:await this._verify({factorId:$e.factorId,challengeId:Be.id,code:$e.code})}async _listFactors(){var $e;const{data:{user:Be},error:Ue}=await this.getUser();if(Ue)return{data:null,error:Ue};const ze={all:[],phone:[],totp:[],webauthn:[]};for(const qe of($e=Be?.factors)!==null&&$e!==void 0?$e:[])ze.all.push(qe),qe.status==="verified"&&ze[qe.factor_type].push(qe);return{data:ze,error:null}}async _getAuthenticatorAssuranceLevel(){var $e,Be;const{data:{session:Ue},error:ze}=await this.getSession();if(ze)return{data:null,error:ze};if(!Ue)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:qe}=decodeJWT(Ue.access_token);let He=null;qe.aal&&(He=qe.aal);let We=He;((Be=($e=Ue.user.factors)===null||$e===void 0?void 0:$e.filter(Xe=>Xe.status==="verified"))!==null&&Be!==void 0?Be:[]).length>0&&(We="aal2");const Ye=qe.amr||[];return{data:{currentLevel:He,nextLevel:We,currentAuthenticationMethods:Ye},error:null}}async _getAuthorizationDetails($e){try{return await this._useSession(async Be=>{const{data:{session:Ue},error:ze}=Be;return ze?{data:null,error:ze}:Ue?await _request(this.fetch,"GET",`${this.url}/oauth/authorizations/${$e}`,{headers:this.headers,jwt:Ue.access_token,xform:qe=>({data:qe,error:null})}):{data:null,error:new AuthSessionMissingError}})}catch(Be){if(isAuthError(Be))return{data:null,error:Be};throw Be}}async _approveAuthorization($e,Be){try{return await this._useSession(async Ue=>{const{data:{session:ze},error:qe}=Ue;if(qe)return{data:null,error:qe};if(!ze)return{data:null,error:new AuthSessionMissingError};const He=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${$e}/consent`,{headers:this.headers,jwt:ze.access_token,body:{action:"approve"},xform:We=>({data:We,error:null})});return He.data&&He.data.redirect_url&&isBrowser()&&!Be?.skipBrowserRedirect&&window.location.assign(He.data.redirect_url),He})}catch(Ue){if(isAuthError(Ue))return{data:null,error:Ue};throw Ue}}async _denyAuthorization($e,Be){try{return await this._useSession(async Ue=>{const{data:{session:ze},error:qe}=Ue;if(qe)return{data:null,error:qe};if(!ze)return{data:null,error:new AuthSessionMissingError};const He=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${$e}/consent`,{headers:this.headers,jwt:ze.access_token,body:{action:"deny"},xform:We=>({data:We,error:null})});return He.data&&He.data.redirect_url&&isBrowser()&&!Be?.skipBrowserRedirect&&window.location.assign(He.data.redirect_url),He})}catch(Ue){if(isAuthError(Ue))return{data:null,error:Ue};throw Ue}}async fetchJwk($e,Be={keys:[]}){let Ue=Be.keys.find(We=>We.kid===$e);if(Ue)return Ue;const ze=Date.now();if(Ue=this.jwks.keys.find(We=>We.kid===$e),Ue&&this.jwks_cached_at+JWKS_TTL>ze)return Ue;const{data:qe,error:He}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(He)throw He;return!qe.keys||qe.keys.length===0||(this.jwks=qe,this.jwks_cached_at=ze,Ue=qe.keys.find(We=>We.kid===$e),!Ue)?null:Ue}async getClaims($e,Be={}){try{let Ue=$e;if(!Ue){const{data:Ze,error:rr}=await this.getSession();if(rr||!Ze.session)return{data:null,error:rr};Ue=Ze.session.access_token}const{header:ze,payload:qe,signature:He,raw:{header:We,payload:Ge}}=decodeJWT(Ue);Be?.allowExpired||validateExp(qe.exp);const Ye=!ze.alg||ze.alg.startsWith("HS")||!ze.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(ze.kid,Be?.keys?{keys:Be.keys}:Be?.jwks);if(!Ye){const{error:Ze}=await this.getUser(Ue);if(Ze)throw Ze;return{data:{claims:qe,header:ze,signature:He},error:null}}const Xe=getAlgorithm(ze.alg),Je=await crypto.subtle.importKey("jwk",Ye,Xe,!0,["verify"]);if(!await crypto.subtle.verify(Xe,Je,He,stringToUint8Array(`${We}.${Ge}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:qe,header:ze,signature:He},error:null}}catch(Ue){if(isAuthError(Ue))return{data:null,error:Ue};throw Ue}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor($e){super($e)}}class SupabaseClient{constructor($e,Be,Ue){var ze,qe,He;this.supabaseUrl=$e,this.supabaseKey=Be;const We=validateSupabaseUrl($e);if(!Be)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",We),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",We),this.storageUrl=new URL("storage/v1",We),this.functionsUrl=new URL("functions/v1",We);const Ge=`sb-${We.hostname.split(".")[0]}-auth-token`,Ye={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:Ge}),global:DEFAULT_GLOBAL_OPTIONS},Xe=applySettingDefaults(Ue??{},Ye);this.storageKey=(ze=Xe.auth.storageKey)!==null&&ze!==void 0?ze:"",this.headers=(qe=Xe.global.headers)!==null&&qe!==void 0?qe:{},Xe.accessToken?(this.accessToken=Xe.accessToken,this.auth=new Proxy({},{get:(Je,er)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(er)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((He=Xe.auth)!==null&&He!==void 0?He:{},this.headers,Xe.global.fetch),this.fetch=fetchWithAuth(Be,this._getAccessToken.bind(this),Xe.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},Xe.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",We).href,{headers:this.headers,schema:Xe.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,Ue?.storage),Xe.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from($e){return this.rest.from($e)}schema($e){return this.rest.schema($e)}rpc($e,Be={},Ue={head:!1,get:!1,count:void 0}){return this.rest.rpc($e,Be,Ue)}channel($e,Be={config:{}}){return this.realtime.channel($e,Be)}getChannels(){return this.realtime.getChannels()}removeChannel($e){return this.realtime.removeChannel($e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var $e,Be;if(this.accessToken)return await this.accessToken();const{data:Ue}=await this.auth.getSession();return(Be=($e=Ue.session)===null||$e===void 0?void 0:$e.access_token)!==null&&Be!==void 0?Be:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:$e,persistSession:Be,detectSessionInUrl:Ue,storage:ze,userStorage:qe,storageKey:He,flowType:We,lock:Ge,debug:Ye},Xe,Je){const er={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},er),Xe),storageKey:He,autoRefreshToken:$e,persistSession:Be,detectSessionInUrl:Ue,storage:ze,userStorage:qe,flowType:We,lock:Ge,debug:Ye,fetch:Je,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Ze=>Ze.toLowerCase()==="authorization")})}_initRealtimeClient($e){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},$e),{params:Object.assign({apikey:this.supabaseKey},$e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((Be,Ue)=>{this._handleTokenChanged(Be,"CLIENT",Ue?.access_token)})}_handleTokenChanged($e,Be,Ue){($e==="TOKEN_REFRESHED"||$e==="SIGNED_IN")&&this.changedAccessToken!==Ue?(this.changedAccessToken=Ue,this.realtime.setAuth(Ue)):$e==="SIGNED_OUT"&&(this.realtime.setAuth(),Be=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(Ve,$e,Be)=>new SupabaseClient(Ve,$e,Be);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u")return!1;const Ve=process.version;if(Ve==null)return!1;const $e=Ve.match(/^v(\d+)\./);return $e?parseInt($e[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const supabaseUrl=getPublicEnv("VITE_SUPABASE_URL"),supabaseAnonKey=getPublicEnv("VITE_SUPABASE_ANON_KEY");let supabase;!supabaseUrl||!supabaseAnonKey?console.error("[supabase] Missing environment. Ensure VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY are set at build or window.__ENV__."):(supabase=createClient(supabaseUrl,supabaseAnonKey,{auth:{persistSession:!1}}),console.log("[supabase] client initialized"));const STORAGE_BUCKET="profile_photo",profilePhotoService={async uploadProfilePhoto(Ve,$e){try{if(!supabase)throw console.error("Supabase client not initialized"),new Error("Supabase client not initialized");const Be=$e.name.split(".").pop(),Ue=`${Date.now()}.${Be}`,ze=`${Ve}/${Ue}`,{data:qe,error:He}=await supabase.storage.from(STORAGE_BUCKET).upload(ze,$e,{cacheControl:"3600",upsert:!1});if(He)throw console.error("Upload error:",He),He;const{data:{publicUrl:We}}=supabase.storage.from(STORAGE_BUCKET).getPublicUrl(ze);return await this.savePhotoURLToFirestore(Ve,We),We}catch(Be){throw console.error("Error uploading profile photo:",Be),Be}},async deleteProfilePhoto(Ve,$e){try{if(!supabase)throw console.error("Supabase client not initialized"),new Error("Supabase client not initialized");if(!$e)return;const Be=$e.split(`${STORAGE_BUCKET}/`);if(Be.length<2)throw new Error("Invalid photo URL");const Ue=Be[1],{error:ze}=await supabase.storage.from(STORAGE_BUCKET).remove([Ue]);if(ze)throw console.error("Delete error:",ze),ze;return await this.savePhotoURLToFirestore(Ve,null),!0}catch(Be){throw console.error("Error deleting profile photo:",Be),Be}},async savePhotoURLToFirestore(Ve,$e){try{const Be=doc(db,"members",Ve);await updateDoc(Be,{photoURL:$e||null,updatedAt:new Date().toISOString()})}catch(Be){throw console.error("Error saving photo URL to Firestore:",Be),Be}},getPublicUrl(Ve){if(!supabase)throw console.error("Supabase client not initialized"),new Error("Supabase client not initialized");const{data:$e}=supabase.storage.from(STORAGE_BUCKET).getPublicUrl(Ve);return $e.publicUrl}},ProfilePhotoModal=({isOpen:Ve,onClose:$e,userId:Be,currentPhotoURL:Ue,onPhotoUpdate:ze})=>{const[qe,He]=reactExports.useState(!1),[We,Ge]=reactExports.useState(!1),[Ye,Xe]=reactExports.useState(null),[Je,er]=reactExports.useState(null),[Ze,rr]=reactExports.useState({x:0,y:0}),[nr,ar]=reactExports.useState(1),[sr,lr]=reactExports.useState(null),[or,cr]=reactExports.useState(!1),hr=reactExports.useCallback((fr,Sr)=>{lr(Sr)},[]),yr=async(fr,Sr)=>{const Dr=await mr(fr),Or=document.createElement("canvas"),Er=Or.getContext("2d");return Or.width=Sr.width,Or.height=Sr.height,Er.drawImage(Dr,Sr.x,Sr.y,Sr.width,Sr.height,0,0,Sr.width,Sr.height),new Promise(Nr=>{Or.toBlob(wr=>{Nr(wr)},"image/jpeg",.95)})},mr=fr=>new Promise((Sr,Dr)=>{const Or=new Image;Or.addEventListener("load",()=>Sr(Or)),Or.addEventListener("error",Er=>Dr(Er)),Or.src=fr}),vr=fr=>{const Sr=fr.target.files?.[0];if(!Sr)return;if(!Sr.type.startsWith("image/")){Xe("     ");return}if(Sr.size>5*1024*1024){Xe("   MB    ");return}Xe(null);const Dr=new FileReader;Dr.onload=()=>{er(Dr.result),cr(!0)},Dr.readAsDataURL(Sr)},_r=async()=>{if(!(!Je||!sr)){He(!0),Xe(null);try{const fr=await yr(Je,sr),Sr=new File([fr],"profile.jpg",{type:"image/jpeg"}),Dr=await profilePhotoService.uploadProfilePhoto(Be,Sr);ze(Dr),cr(!1),er(null),$e()}catch(fr){Xe("    "),console.error("Upload error:",fr)}finally{He(!1)}}},Cr=()=>{cr(!1),er(null),rr({x:0,y:0}),ar(1)},br=async()=>{if(!(!Ue||!window.confirm("         ?"))){Xe(null),Ge(!0);try{await profilePhotoService.deleteProfilePhoto(Be,Ue),ze(null),$e()}catch(Sr){Xe("   "),console.error("Delete error:",Sr)}finally{Ge(!1)}}};return Ve?jsxRuntimeExports.jsx("div",{className:"modal-overlay",onClick:or?null:$e,children:jsxRuntimeExports.jsxs("div",{className:"modal-content",onClick:fr=>fr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{children:or?"  ":" "}),jsxRuntimeExports.jsx("button",{className:"close-button",onClick:or?Cr:$e,children:jsxRuntimeExports.jsx(X$1,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"modal-body",children:[Ye&&jsxRuntimeExports.jsx("div",{className:"error-message",children:Ye}),or?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"crop-container",children:jsxRuntimeExports.jsx(Cropper,{image:Je,crop:Ze,zoom:nr,aspect:1,cropShape:"round",showGrid:!1,onCropChange:rr,onZoomChange:ar,onCropComplete:hr})}),jsxRuntimeExports.jsxs("div",{className:"crop-controls",children:[jsxRuntimeExports.jsx("label",{className:"zoom-label",children:""}),jsxRuntimeExports.jsx("input",{type:"range",min:1,max:3,step:.1,value:nr,onChange:fr=>ar(Number(fr.target.value)),className:"zoom-slider"})]}),jsxRuntimeExports.jsxs("div",{className:"modal-actions",children:[jsxRuntimeExports.jsxs("button",{className:"action-button upload-button",onClick:_r,disabled:qe,children:[jsxRuntimeExports.jsx(Check,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:qe?" ...":"  "})]}),jsxRuntimeExports.jsxs("button",{className:"action-button cancel-button",onClick:Cr,disabled:qe,children:[jsxRuntimeExports.jsx(X$1,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:" "})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"photo-preview",children:Ue?jsxRuntimeExports.jsx("img",{src:Ue,alt:""}):jsxRuntimeExports.jsxs("div",{className:"no-photo",children:[jsxRuntimeExports.jsx(Camera,{className:"h-16 w-16"}),jsxRuntimeExports.jsx("p",{children:"  "})]})}),jsxRuntimeExports.jsxs("div",{className:"modal-actions",children:[jsxRuntimeExports.jsxs("label",{className:"action-button upload-button",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:vr,disabled:qe||We,style:{display:"none"}}),jsxRuntimeExports.jsx(Upload,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:Ue?"  ":"  "})]}),Ue&&jsxRuntimeExports.jsxs("button",{className:"action-button delete-button",onClick:br,disabled:qe||We,children:[jsxRuntimeExports.jsx(Trash2,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:We?"  ...":" "})]})]}),jsxRuntimeExports.jsxs("div",{className:"modal-info",children:[jsxRuntimeExports.jsx("p",{children:"  :  MB"}),jsxRuntimeExports.jsx("p",{children:"  : JPG, PNG, GIF"})]})]})]})]})}):null},CashierDashboard=()=>{const Ve=useNavigate(),{user:$e}=useAuth(),{currentUser:Be,loading:Ue}=useUser(),{isDemo:ze}=useMode(),[qe,He]=reactExports.useState(null),[We,Ge]=reactExports.useState(!1),[Ye,Xe]=reactExports.useState(""),Je=React.useRef(null);console.log("[CashierDashboard] Contexts",{authUser:$e,currentUser:Be,userLoading:Ue}),reactExports.useEffect(()=>{if(Be){const Cn=Be.photoURL||null;He(Cn),console.log("[CashierDashboard] avatar init from currentUser",{photoURL:Cn})}},[Be]),reactExports.useEffect(()=>{(async()=>{if(Be?.uid)try{console.log("[CashierDashboard] computeSerial:start",{uid:Be?.uid});let hi=await MemberService.getActiveMembers?.();if(hi?.success||(hi=await MemberService.getAllMembers()),hi.success&&hi.data){const li=hi.data;console.log("[CashierDashboard] members:fetched",{count:li.length});const zi=li.sort((Mi,Gi)=>{const ls=Mi.joiningDate||Mi.createdAt?.toDate?.()?.toISOString()?.split("T")[0]||new Date().toISOString().split("T")[0],ra=Gi.joiningDate||Gi.createdAt?.toDate?.()?.toISOString()?.split("T")[0]||new Date().toISOString().split("T")[0],ca=new Date(ls),Ya=new Date(ra);if(ca.getTime()!==Ya.getTime())return ca-Ya;const Ra=Mi.createdAt?.toDate?.()||new Date(Mi.createdAt)||new Date(0),Ps=Gi.createdAt?.toDate?.()||new Date(Gi.createdAt)||new Date(0);return Ra.getTime()===Ps.getTime()?(Mi.id||"").localeCompare(Gi.id||""):Ra-Ps}).findIndex(Mi=>Mi.id===Be.uid),Yi=zi!==-1?String(zi+1):"";Xe(Yi),console.log("[CashierDashboard] computeSerial:done",{somitiUserId:Yi})}}catch(hi){console.error("[CashierDashboard] computeSerial:error",hi)}})()},[Be]),reactExports.useEffect(()=>{if(!Je.current)return;if(!qe){console.log("[CashierDashboard] avatar glow disabled (no photoURL)");try{Je.current.classList.remove("avatar-glow-on"),Je.current.style.removeProperty("--glow-start"),Je.current.style.removeProperty("--glow-end")}catch(hi){console.log("[CashierDashboard] avatar glow cleanup error",hi)}return}console.log("[CashierDashboard] avatar glow init for photo",{photoURL:qe});const Cn=new Image;try{const hi=/^https?:/i.test(qe),li=/^blob:|^data:/i.test(qe);hi&&!li&&new URL(qe).origin!==window.location.origin&&(Cn.crossOrigin="anonymous")}catch(hi){console.log("[CashierDashboard] avatar glow crossOrigin check error",hi)}Cn.src=qe,Cn.onload=()=>{try{const li=document.createElement("canvas");li.width=32,li.height=32;const si=li.getContext("2d");si.drawImage(Cn,0,0,32,32);const{data:zi}=si.getImageData(0,0,32,32);let Yi=0,Mi=0,Gi=0,ls=0;for(let Ps=0;Ps<zi.length;Ps+=4)Yi+=zi[Ps],Mi+=zi[Ps+1],Gi+=zi[Ps+2],ls++;Yi=Math.round(Yi/ls),Mi=Math.round(Mi/ls),Gi=Math.round(Gi/ls);const ra=Ps=>Math.min(255,Math.round(Ps*1.15)),ca=Ps=>Math.max(0,Math.round(Ps*.85)),Ya=`rgba(${ra(Yi)}, ${ra(Mi)}, ${ra(Gi)}, 0.65)`,Ra=`rgba(${ca(Yi)}, ${ca(Mi)}, ${ca(Gi)}, 0.18)`;console.log("[CashierDashboard] avatar glow colors",{r:Yi,g:Mi,b:Gi,start:Ya,end:Ra}),Je.current.style.setProperty("--glow-start",Ya),Je.current.style.setProperty("--glow-end",Ra),Je.current.classList.add("avatar-glow-on")}catch(hi){console.log("[CashierDashboard] avatar glow compute error, applying fallback gradient",hi);const li="rgba(59, 130, 246, 0.65)",si="rgba(14, 165, 233, 0.18)";Je.current.style.setProperty("--glow-start",li),Je.current.style.setProperty("--glow-end",si),Je.current.classList.add("avatar-glow-on")}},Cn.onerror=hi=>{console.log("[CashierDashboard] avatar image load error, applying fallback gradient",hi);const li="rgba(59, 130, 246, 0.65)",si="rgba(14, 165, 233, 0.18)";Je.current.style.setProperty("--glow-start",li),Je.current.style.setProperty("--glow-end",si),Je.current.classList.add("avatar-glow-on")}},[qe]);const[er,Ze]=reactExports.useState({members:!0,transactions:!0,fundData:!0,initial:!0}),[rr,nr]=reactExports.useState(!1),[ar,sr]=reactExports.useState(""),[lr,or]=reactExports.useState("overview"),[cr,hr]=reactExports.useState("6months"),[yr,mr]=reactExports.useState([]),[vr,_r]=reactExports.useState([]),[Cr,br]=reactExports.useState({totalBalance:0,availableCash:0,monthlyExpense:0,cashFlow:[]}),[fr,Sr]=reactExports.useState(""),[Dr,Or]=reactExports.useState(null),[Er,Nr]=reactExports.useState("desc"),[wr,Ar]=reactExports.useState(new Date),[Lr,Pr]=reactExports.useState(!1),[Tr,Vr]=reactExports.useState("all"),[Ur,Yr]=reactExports.useState("all"),[Qr,mn]=reactExports.useState("all"),[An,Zr]=reactExports.useState("all"),[bn,jn]=reactExports.useState(1),[gn,In]=reactExports.useState(10),[Sn,Gr]=reactExports.useState("date"),[Un,di]=reactExports.useState("desc"),[ii,Vn]=reactExports.useState(!1),[zn,Qn]=reactExports.useState({name:"",phone:"",address:"",shareCount:"",nomineeName:"",nomineePhone:"",nomineeRelation:"",joiningDate:new Date().toISOString().split("T")[0]}),[Yn,vi]=reactExports.useState(null),[xn,ei]=reactExports.useState(!1),[ni,ui]=reactExports.useState({x:0,y:0}),[oi,fi]=reactExports.useState({}),[yi,mi]=reactExports.useState(null),as=()=>{ei(!1),vi(null)},Ui=async()=>{try{if(Ze(si=>({...si,initial:!0})),mi(null),ze()){console.log("[CashierDashboard] Using demo data"),mr(demoMembers),_r(demoTransactions);const si=demoTransactions.filter(Yi=>Yi.type==="deposit").reduce((Yi,Mi)=>Yi+Mi.amount,0),zi=demoTransactions.filter(Yi=>Yi.type==="deposit"&&Yi.category==="monthly").reduce((Yi,Mi)=>Yi+Mi.amount,0);br({totalBalance:si,availableCash:si*.8,monthlyDeposits:zi,monthlyExpense:5e3,cashFlow:[]}),Ze({members:!1,transactions:!1,fundData:!1,initial:!1}),Ar(new Date);return}const[Cn,hi,li]=await Promise.all([MemberService.getAllMembers().then(si=>(si.success?mr(si.data||[]):console.error("    :",si.error),Ze(zi=>({...zi,members:!1})),si)).catch(si=>(console.error("    :",si),Ze(zi=>({...zi,members:!1})),{success:!1,error:si})),TransactionService.getAllTransactions().then(si=>(si.success?_r(si.data||[]):console.error("    :",si.error),Ze(zi=>({...zi,transactions:!1})),si)).catch(si=>(console.error("    :",si),Ze(zi=>({...zi,transactions:!1})),{success:!1,error:si})),FundService.getFundSummary().then(si=>(si.success&&si.data&&br(si.data),Ze(zi=>({...zi,fundData:!1})),si)).catch(si=>(console.error("    :",si),Ze(zi=>({...zi,fundData:!1})),{success:!1,error:si}))]);Ar(new Date)}catch(Cn){console.error("   :",Cn),mi("       ")}finally{Ze(Cn=>({...Cn,initial:!1}))}};reactExports.useEffect(()=>{Ui()},[]);const Ci=async(Cn,hi)=>{try{if(nr(!0),console.log(" handleAddMember called with:",Cn),!hi)return console.error(" Missing userId for MemberService.addMember"),{success:!1,error:"User ID is required"};const li=await MemberService.addMember(Cn,hi);return console.log(" MemberService.addMember result:",li),li.success?(console.log(" Member service returned success"),console.log(" Returning success from handleAddMember"),{success:!0}):(console.error(" Member service returned error:",li.error),{success:!1,error:li.error})}catch(li){return console.error(" Exception in handleAddMember:",li),{success:!1,error:li.message}}finally{nr(!1),console.log(" handleAddMember finally block executed")}},Di={totalMembers:yr.length,paidMembers:yr.filter(Cn=>Cn.status==="active").length,unpaidMembers:yr.filter(Cn=>Cn.status==="inactive").length,totalCollected:vr.filter(Cn=>(Cn.transactionType==="monthly_deposit"||Cn.transactionType==="share_purchase")&&new Date(Cn.createdAt?.seconds*1e3).getMonth()===new Date().getMonth()).reduce((Cn,hi)=>Cn+(hi.amount||0),0),expectedAmount:yr.length*1200},Wi=Cr,[Ai,ps]=reactExports.useState("all"),[Ni,$i]=reactExports.useState("all"),os=React.useMemo(()=>vr.filter(Cn=>["expense","loan_disbursement","withdrawal"].includes(Cn.transactionType||Cn.type)).map(Cn=>({id:Cn.id,description:Cn.description||Cn.note||"",amount:Cn.amount||0,date:Cn.createdAt?new Date(Cn.createdAt.seconds*1e3).toLocaleDateString("bn-BD"):new Date().toLocaleDateString("bn-BD"),category:Cn.category||"other",invoiceNo:Cn.invoiceNo||`INV-${Cn.id}`,approvedBy:Cn.approvedBy||"",status:Cn.status||"approved",priority:Cn.priority||"medium",submittedBy:Cn.submittedBy||"",submittedDate:Cn.submittedDate||(Cn.createdAt?new Date(Cn.createdAt.seconds*1e3).toLocaleDateString("bn-BD"):new Date().toLocaleDateString("bn-BD")),approvedDate:Cn.approvedDate||(Cn.createdAt?new Date(Cn.createdAt.seconds*1e3).toLocaleDateString("bn-BD"):new Date().toLocaleDateString("bn-BD")),paymentMethod:Cn.paymentMethod||"cash",vendor:Cn.vendor||"",notes:Cn.notes||Cn.description||" "})).sort((Cn,hi)=>{const li=new Date(Cn.date);return new Date(hi.date)-li}),[vr]),ji=Cn=>{switch(Cn){case"cash":return"";case"bank_transfer":return" ";case"mobile_banking":return" ";default:return Cn}},Ti=React.useMemo(()=>{if(!vr.length)return[];const Cn=vr.reduce((li,si)=>{const zi=si.paymentMethod||"cash",Yi=si.amount||0;return li[zi]||(li[zi]={amount:0,count:0}),li[zi].amount+=Yi,li[zi].count+=1,li},{}),hi=Object.values(Cn).reduce((li,si)=>li+si.amount,0);return Object.entries(Cn).map(([li,si])=>({method:ji(li),amount:si.amount,count:si.count,percentage:hi>0?si.amount/hi*100:0}))},[vr]),Qi=Cn=>{switch(Cn){case"subscription":return" ";case"loan":return"";case"donation":return"";case"fine":return"";case"monthly_deposit":return" ";case"share_purchase":return" ";case"loan_payment":return" ";default:return Cn}};os.filter(Cn=>{const hi=Ai==="all"||Cn.status===Ai,li=Ni==="all"||Cn.category===Ni,si=Cn.description.toLowerCase().includes(ar.toLowerCase())||Cn.vendor.toLowerCase().includes(ar.toLowerCase())||Cn.invoiceNo.toLowerCase().includes(ar.toLowerCase());return hi&&li&&si});const ga=React.useMemo(()=>vr.map(Cn=>({id:Cn.id,memberName:Cn.memberName||" ",memberId:Cn.somiti_user_id||"N/A",type:Cn.transactionType||Cn.type||"other",amount:Cn.amount||0,paymentMethod:Cn.paymentMethod||"cash",status:Cn.status||"completed",time:Cn.createdAt?new Date(Cn.createdAt.seconds*1e3).toLocaleTimeString("bn-BD",{hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A",date:Cn.createdAt?new Date(Cn.createdAt.seconds*1e3).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],description:Cn.description||Qi(Cn.transactionType||Cn.type||"other"),reference:Cn.transactionId||Cn.id||"N/A",processedBy:Cn.processedBy||""})).sort((Cn,hi)=>{const li=new Date(Cn.date+" "+Cn.time);return new Date(hi.date+" "+hi.time)-li}),[vr]);ga.filter(Cn=>Cn.memberName.toLowerCase().includes(fr.toLowerCase())||Qi(Cn.type).toLowerCase().includes(fr.toLowerCase()));const ta=[...Ti].sort((Cn,hi)=>Er==="desc"?hi.amount-Cn.amount:Cn.amount-hi.amount),ao=ga.filter(Cn=>{const hi=Cn.memberName.toLowerCase().includes(ar.toLowerCase())||Cn.memberId.toLowerCase().includes(ar.toLowerCase())||Cn.description.toLowerCase().includes(ar.toLowerCase())||Cn.reference.toLowerCase().includes(ar.toLowerCase()),li=Tr==="all"||Cn.status===Tr,si=Ur==="all"||Cn.type===Ur,zi=Qr==="all"||Cn.paymentMethod===Qr,Yi=(()=>{if(An==="all")return!0;const Mi=new Date(Cn.date),ls=Math.floor((new Date-Mi)/(1e3*60*60*24));switch(An){case"today":return ls===0;case"week":return ls<=7;case"month":return ls<=30;case"quarter":return ls<=90;default:return!0}})();return hi&&li&&si&&zi&&Yi});[...ao].sort((Cn,hi)=>{let li,si;switch(Sn){case"date":li=new Date(Cn.date+" "+Cn.time),si=new Date(hi.date+" "+hi.time);break;case"amount":li=Cn.amount,si=hi.amount;break;case"member":li=Cn.memberName.toLowerCase(),si=hi.memberName.toLowerCase();break;case"type":li=Cn.type,si=hi.type;break;default:li=Cn.id,si=hi.id}return Un==="asc"?li>si?1:-1:li<si?1:-1}),Math.ceil(ao.length/gn);const ks=(Cn,hi)=>{Qn(li=>({...li,[Cn]:hi})),oi[Cn]&&fi(li=>({...li,[Cn]:""}))},Ii=()=>{const Cn={};return zn.name.trim()||(Cn.name=" "),zn.shareCount.trim()?(isNaN(zn.shareCount)||Number(zn.shareCount)<=0)&&(Cn.shareCount="   "):Cn.shareCount="  ",zn.phone?.trim()&&!/^01[3-9]\d{8}$/.test(zn.phone)&&(Cn.phone="    (01XXXXXXXXX)"),zn.nomineePhone?.trim()&&!/^01[3-9]\d{8}$/.test(zn.nomineePhone)&&(Cn.nomineePhone="     (01XXXXXXXXX)"),Cn},To=async Cn=>{Cn.preventDefault(),console.log(" handleSubmitNewMember called");const hi=Ii();if(Object.keys(hi).length>0){console.log(" Form validation errors:",hi),fi(hi);return}try{nr(!0),console.log(" Setting saving to true");const li=generateEmailCredentials(zn.name);console.log(" Generated credentials:",li),console.log("CashierDashboard: duplicate check input",{email:li.email,phone:zn.phone,name:zn.name});const si=await MemberService.isDuplicateMember({phone:zn.phone,email:li.email,name:zn.name});if(console.log("CashierDashboard: duplicate check result",si),si?.exists){mi(`    (${si.by})`);return}const zi=await registerUser(li.email,li.password);if(!zi?.success)throw new Error(zi?.message||"Backend registration failed");const{user_id:Yi}=zi;console.log(" Backend registration successful, user_id:",Yi);const Mi={name:zn.name,phone:zn.phone,address:zn.address,shareCount:zn.shareCount,nomineeName:zn.nomineeName,nomineePhone:zn.nomineePhone,nomineeRelation:zn.nomineeRelation,joiningDate:zn.joiningDate,role:zn.role||"member",email:li.email,password:li.password,user_id:Yi,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:""};console.log("      (Firestore):",Mi);const Gi=await Ci(Mi,Yi);if(console.log(" handleAddMember result:",Gi),Gi&&Gi.success){console.log(" Member added successfully"),console.log("CashierDashboard: toast success -  "),n.success(`${zn.name}    `),Qn({name:"",phone:"",address:"",shareCount:"",nomineeName:"",nomineePhone:"",nomineeRelation:"",joiningDate:new Date().toISOString().split("T")[0],role:"member"}),fi({}),console.log(" Form reset"),Vn(!1);const ls=await MemberService.getAllMembers();console.log(" Updated members result:",ls),ls.success&&(mr(ls.data||[]),console.log(" Members list updated"))}else console.error("    :",Gi?.error||"Unknown error")}catch(li){console.error("    :",li)}finally{nr(!1),console.log(" Setting saving to false")}},Ca=()=>{Vn(!1),fi({})},Zi=({className:Cn="",height:hi="h-4"})=>jsxRuntimeExports.jsx("div",{className:`animate-pulse bg-gray-200 rounded ${hi} ${Cn}`});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"treasury-container cashier-dashboard",children:jsxRuntimeExports.jsxs("div",{className:"p-4",children:[console.log("[CashierDashboard] render profile header v3"),jsxRuntimeExports.jsxs("div",{className:"cashier-profile-header bg-white border border-gray-200 rounded-xl shadow-sm mb-3 p-4",children:[console.log("[CashierDashboard] header style upgrade applied"),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"cashier-header-avatar avatar-glow-on rounded-full shrink-0 flex items-center justify-center border-2 border-black bg-white transition",role:"button",tabIndex:0,"aria-label":"  ",onClick:()=>{console.log("[CashierDashboard] open photo modal"),Ge(!0)},onKeyDown:Cn=>{Cn.key==="Enter"&&(console.log("[CashierDashboard] open photo modal via keyboard"),Ge(!0))},ref:Je,children:qe?jsxRuntimeExports.jsx("img",{src:qe,alt:"avatar",className:"cashier-header-photo w-full h-full object-cover"}):jsxRuntimeExports.jsx(Camera,{className:"h-7 w-7 text-black"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[console.log("[CashierDashboard] responsive badge/layout enabled"),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold truncate",children:Be&&Be.name||$e&&$e.name||""}),console.log("[CashierDashboard] rich badge applied"),jsxRuntimeExports.jsxs("span",{className:"cashier-badge badge-rich",children:[jsxRuntimeExports.jsx(User,{className:"h-3.5 w-3.5"}),""]})]}),jsxRuntimeExports.jsx("div",{className:"mt-1 text-sm text-gray-600 flex gap-4 flex-wrap",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[": ",Ye||Be?.id||$e?.uid||""]})}),console.log("[CashierDashboard] render profile chips v3"),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs("span",{className:"px-2.5 py-1 text-xs rounded-full bg-gray-100 text-gray-700",children:[": ",Ye||Be?.id||$e?.uid||""]}),jsxRuntimeExports.jsx("span",{className:"px-2.5 py-1 text-xs rounded-full bg-gray-100 text-gray-700",children:Be?.status||""})]})]}),console.log("[CashierDashboard] settings icon removed from header")]})]}),jsxRuntimeExports.jsx(ProfilePhotoModal,{isOpen:We,onClose:()=>{console.log("[CashierDashboard] close photo modal"),Ge(!1)},userId:Be?.uid,currentPhotoURL:qe,onPhotoUpdate:Cn=>{console.log("[CashierDashboard] photo updated",{newPhotoURL:Cn}),He(Cn)}}),jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center gap-2 mb-3",children:jsxRuntimeExports.jsxs("button",{onClick:Ui,disabled:er.initial,className:`icon-action-btn blue flex items-center gap-2 w-48 justify-center ${er.initial?"opacity-75 cursor-not-allowed":""}`,title:er.initial?"  ...":"   ",children:[jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 ${er.initial?"animate-spin":""}`}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:er.initial?" ...":" "})]})}),yi&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx(X$1,{className:"h-5 w-5 text-red-400"})}),jsxRuntimeExports.jsx("div",{className:"ml-3",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800",children:yi})}),jsxRuntimeExports.jsx("div",{className:"ml-auto pl-3",children:jsxRuntimeExports.jsx("button",{onClick:()=>mi(null),className:"inline-flex text-red-400 hover:text-red-600",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})})]})}),jsxRuntimeExports.jsxs("div",{className:"treasury-card",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-header",children:[jsxRuntimeExports.jsx("h3",{className:"treasury-card-title",children:" "}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(DollarSign,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"treasury-summary-grid",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx("h3",{className:"treasury-card-label",children:" "}),jsxRuntimeExports.jsx("div",{className:"treasury-card-value",children:er.members?jsxRuntimeExports.jsx(Zi,{className:"w-16 h-10"}):Di.totalMembers}),jsxRuntimeExports.jsx("div",{className:"treasury-card-subtitle",children:" "})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"treasury-card",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx("h3",{className:"treasury-card-label",children:" "}),jsxRuntimeExports.jsx("div",{className:"treasury-card-value",children:er.transactions?jsxRuntimeExports.jsx(Zi,{className:"w-24 h-10"}):` ${Di.totalCollected.toLocaleString()}`}),jsxRuntimeExports.jsx("div",{className:"treasury-card-subtitle",children:" "})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"treasury-card bg-transparent! shadow-none! border-2 border-dashed border-gray-300",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx("h3",{className:"treasury-card-label",children:" "}),jsxRuntimeExports.jsx("div",{className:"treasury-card-value",children:er.fundData?jsxRuntimeExports.jsx(Zi,{className:"w-24 h-10"}):` ${Wi.totalBalance.toLocaleString()}`}),jsxRuntimeExports.jsx("div",{className:"treasury-card-subtitle",children:" "})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(Wallet,{className:"w-5 h-5"})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"treasury-card",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-header",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-title",children:[jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(Banknote,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("h3",{children:" "})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Nr(Er==="desc"?"asc":"desc"),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:"  ",children:Er==="desc"?jsxRuntimeExports.jsx(ArrowDownWideNarrow,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(ArrowUpNarrowWide,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsx("div",{className:"treasury-summary-grid",children:er.fundData?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"treasury-card",children:jsxRuntimeExports.jsxs("div",{className:"treasury-card-content",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx(Zi,{className:"w-16 h-4"}),jsxRuntimeExports.jsx(Zi,{className:"w-20 h-8"}),jsxRuntimeExports.jsx(Zi,{className:"w-12 h-3"})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(Zi,{className:"h-8 w-8 rounded-full"})})]})}),jsxRuntimeExports.jsx("div",{className:"treasury-card",children:jsxRuntimeExports.jsxs("div",{className:"treasury-card-content",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx(Zi,{className:"w-20 h-4"}),jsxRuntimeExports.jsx(Zi,{className:"w-24 h-8"}),jsxRuntimeExports.jsx(Zi,{className:"w-16 h-3"})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(Zi,{className:"h-8 w-8 rounded-full"})})]})}),jsxRuntimeExports.jsx("div",{className:"treasury-card",children:jsxRuntimeExports.jsxs("div",{className:"treasury-card-content",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx(Zi,{className:"w-18 h-4"}),jsxRuntimeExports.jsx(Zi,{className:"w-16 h-8"}),jsxRuntimeExports.jsx(Zi,{className:"w-14 h-3"})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(Zi,{className:"h-8 w-8 rounded-full"})})]})})]}):ta.slice(0,4).map((Cn,hi)=>{const li=si=>si.includes("")||si.includes("")?jsxRuntimeExports.jsx(Banknote,{className:"h-5 w-5"}):si.includes("")?jsxRuntimeExports.jsx(Phone,{className:"h-5 w-5"}):si.includes("")?jsxRuntimeExports.jsx(Calculator,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Wallet,{className:"h-5 w-5"});return jsxRuntimeExports.jsxs("div",{className:"treasury-card treasury-card-compact",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx("h3",{className:"treasury-card-label",children:Cn.method}),jsxRuntimeExports.jsxs("div",{className:"treasury-card-value",children:[" ",Cn.amount.toLocaleString()]}),jsxRuntimeExports.jsxs("div",{className:"treasury-card-subtitle",children:[Cn.count,"    ",Cn.percentage,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:li(Cn.method)})]},hi)})}),!er.fundData&&ta.length>4&&jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsxs("button",{onClick:()=>Ve("/transactions"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors duration-200",children:[" ",ta.length-4,"    "]})})]}),jsxRuntimeExports.jsxs("div",{className:"treasury-card",children:[jsxRuntimeExports.jsx("div",{className:"treasury-card-header",children:jsxRuntimeExports.jsxs("div",{className:"treasury-card-title",children:[jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(Receipt,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("h3",{children:" "})]})}),jsxRuntimeExports.jsxs("div",{className:"treasury-summary-grid",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx("h3",{className:"treasury-card-label",children:" "}),jsxRuntimeExports.jsx("div",{className:"treasury-card-value",children:er.transactions?jsxRuntimeExports.jsx(Zi,{className:"w-24 h-8"}):` ${os.reduce((Cn,hi)=>Cn+hi.amount,0).toLocaleString()}`}),jsxRuntimeExports.jsx("div",{className:"treasury-card-subtitle",children:" "})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(TrendingDown,{className:"h-5 w-5"})})]}),er.transactions?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"treasury-card",children:jsxRuntimeExports.jsxs("div",{className:"treasury-card-content",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx(Zi,{className:"w-20 h-4"}),jsxRuntimeExports.jsx(Zi,{className:"w-16 h-8"}),jsxRuntimeExports.jsx(Zi,{className:"w-24 h-3"})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(Zi,{className:"h-8 w-8 rounded-full"})})]})}),jsxRuntimeExports.jsx("div",{className:"treasury-card",children:jsxRuntimeExports.jsxs("div",{className:"treasury-card-content",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx(Zi,{className:"w-18 h-4"}),jsxRuntimeExports.jsx(Zi,{className:"w-20 h-8"}),jsxRuntimeExports.jsx(Zi,{className:"w-16 h-3"})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:jsxRuntimeExports.jsx(Zi,{className:"h-8 w-8 rounded-full"})})]})})]}):os.slice(0,2).map(Cn=>{const hi=si=>si==="expense"?jsxRuntimeExports.jsx(Receipt,{className:"h-5 w-5"}):si==="loan_disbursement"?jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-5 w-5"}):si==="withdrawal"?jsxRuntimeExports.jsx(ArrowDownRight,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(Receipt,{className:"h-5 w-5"}),li=si=>si==="expense"?"":si==="loan_disbursement"?" ":si==="withdrawal"?"":"";return jsxRuntimeExports.jsx("div",{className:"treasury-card",children:jsxRuntimeExports.jsxs("div",{className:"treasury-card-content",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-info",children:[jsxRuntimeExports.jsx("h3",{className:"treasury-card-label",children:li(Cn.type)}),jsxRuntimeExports.jsxs("div",{className:"treasury-card-value",children:[" ",Cn.amount.toLocaleString()]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-subtitle",children:Cn.description})]}),jsxRuntimeExports.jsx("div",{className:"treasury-card-icon",children:hi(Cn.type)})]})},Cn.id)})]}),!er.transactions&&os.length>3&&jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsxs("button",{onClick:()=>Ve("/transactions"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors duration-200",children:[" ",os.length-3,"   "]})})]}),ii&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal-container",children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsxs("h2",{className:"modal-title",children:[jsxRuntimeExports.jsx(UserPlus,{size:20}),"   "]}),jsxRuntimeExports.jsx("button",{type:"button",className:"modal-close-btn",onClick:Ca,children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"modal-body",children:jsxRuntimeExports.jsxs("form",{onSubmit:To,className:"modal-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("h3",{className:"form-section-title",children:[jsxRuntimeExports.jsx(User,{size:18})," "]}),jsxRuntimeExports.jsxs("div",{className:"form-row",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" *"}),jsxRuntimeExports.jsx("input",{type:"text",className:`form-input ${oi.name?"error":""}`,value:zn.name,onChange:Cn=>ks("name",Cn.target.value),placeholder:"  "}),oi.name&&jsxRuntimeExports.jsx("span",{className:"error-message",children:oi.name})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(Phone,{size:16}),"  ()"]}),jsxRuntimeExports.jsx("input",{type:"tel",className:`form-input ${oi.phone?"error":""}`,value:zn.phone,onChange:Cn=>ks("phone",Cn.target.value),placeholder:"01XXXXXXXXX"}),oi.phone&&jsxRuntimeExports.jsx("span",{className:"error-message",children:oi.phone})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(MapPin,{size:16})," ()"]}),jsxRuntimeExports.jsx("textarea",{className:`form-textarea ${oi.address?"error":""}`,value:zn.address,onChange:Cn=>ks("address",Cn.target.value),placeholder:"  ",rows:"2"}),oi.address&&jsxRuntimeExports.jsx("span",{className:"error-message",children:oi.address})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("h3",{className:"form-section-title",children:[jsxRuntimeExports.jsx(DollarSign,{size:18})," "]}),jsxRuntimeExports.jsxs("div",{className:"form-row",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(DollarSign,{size:16}),"  *"]}),jsxRuntimeExports.jsx("input",{type:"number",className:`form-input ${oi.shareCount?"error":""}`,value:zn.shareCount,onChange:Cn=>ks("shareCount",Cn.target.value),placeholder:"  ",min:"1"}),oi.shareCount&&jsxRuntimeExports.jsx("span",{className:"error-message",children:oi.shareCount})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" "}),jsxRuntimeExports.jsx("input",{type:"date",className:"form-input",value:zn.joiningDate,onChange:Cn=>ks("joiningDate",Cn.target.value)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("h3",{className:"form-section-title",children:[jsxRuntimeExports.jsx(Users,{size:18})," "]}),jsxRuntimeExports.jsxs("div",{className:"form-row",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(User,{size:16}),"  ()"]}),jsxRuntimeExports.jsx("input",{type:"text",className:`form-input ${oi.nomineeName?"error":""}`,value:zn.nomineeName,onChange:Cn=>ks("nomineeName",Cn.target.value),placeholder:"  "}),oi.nomineeName&&jsxRuntimeExports.jsx("span",{className:"error-message",children:oi.nomineeName})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsxs("label",{className:"form-label",children:[jsxRuntimeExports.jsx(Phone,{size:16}),"  ()"]}),jsxRuntimeExports.jsx("input",{type:"tel",className:`form-input ${oi.nomineePhone?"error":""}`,value:zn.nomineePhone,onChange:Cn=>ks("nomineePhone",Cn.target.value),placeholder:"01XXXXXXXXX"}),oi.nomineePhone&&jsxRuntimeExports.jsx("span",{className:"error-message",children:oi.nomineePhone})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:"   ()"}),jsxRuntimeExports.jsxs("select",{className:`form-select ${oi.nomineeRelation?"error":""}`,value:zn.nomineeRelation,onChange:Cn=>ks("nomineeRelation",Cn.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"  "}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""}),jsxRuntimeExports.jsx("option",{value:"",children:""})]}),oi.nomineeRelation&&jsxRuntimeExports.jsx("span",{className:"error-message",children:oi.nomineeRelation})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-actions",children:[jsxRuntimeExports.jsxs("button",{type:"button",className:"form-btn form-btn-cancel",onClick:Ca,children:[jsxRuntimeExports.jsx(X$1,{size:16}),""]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"form-btn form-btn-primary",disabled:rr,children:rr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{size:16,className:"animate-spin"}),"  ..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16})," "]})})]})]})})]})})]})}),jsxRuntimeExports.jsx(TransactionDetailsCard,{transaction:Yn,isVisible:xn,onClose:as,position:ni}),console.log("[CashierDashboard] render floating add button"),jsxRuntimeExports.jsx("button",{className:"cashier-fab","aria-label":" ",onClick:()=>{console.log("[CashierDashboard] FAB clicked -> navigate add transaction"),Ve("/cashier/add-transaction")},onMouseEnter:()=>{console.log("[CashierDashboard] FAB mouse enter")},onMouseLeave:()=>{console.log("[CashierDashboard] FAB mouse leave")},children:jsxRuntimeExports.jsx(Plus,{className:"h-6 w-6 text-white cashier-fab-icon"})})]})},Transactions=()=>{const Ve=useNavigate(),{isDemo:$e}=useMode(),[Be,Ue]=reactExports.useState(!0),[ze,qe]=reactExports.useState(""),[He,We]=reactExports.useState("all"),[Ge,Ye]=reactExports.useState("all"),[Xe,Je]=reactExports.useState([]),[er,Ze]=reactExports.useState(null),[rr,nr]=reactExports.useState(!1),[ar,sr]=reactExports.useState({x:0,y:0}),lr=hr=>{const yr=String(hr.getDate()).padStart(2,"0"),mr=hr.toLocaleString("en-US",{month:"long"}).toUpperCase(),vr=hr.getFullYear();return`${yr} ${mr} ${vr}`};reactExports.useEffect(()=>{console.log("Transactions page mounted"),(async()=>{Ue(!0);try{if($e()){console.log("[Transactions] Using demo data");const mr=demoTransactions.map(vr=>{const _r=new Date(vr.date);return{id:vr.id,type:vr.type==="deposit"?"income":"expense",amount:vr.amount||0,method:vr.paymentMethod||"",description:vr.description||"",member:vr.memberName||"",date:lr(_r)}});Je(mr),Ue(!1);return}const yr=await TransactionService.getAllTransactions();if(yr.success){const mr=yr.data.map(vr=>{const _r=vr.date?new Date(vr.date):vr.createdAt?new Date(vr.createdAt.seconds*1e3):new Date;return{id:vr.id,type:vr.type||"income",amount:vr.amount||0,method:vr.paymentMethod||vr.method||"",description:vr.description||vr.note||"",member:vr.memberName||vr.member||"",date:lr(_r)}});Je(mr),console.log("Loaded transactions:",mr.length)}else console.error("   :",yr.error),Je([])}catch(yr){console.error("   :",yr),Je([])}finally{Ue(!1)}})()},[$e]);const or=hr=>hr.includes("")||hr.includes("")?jsxRuntimeExports.jsx(Banknote,{className:"h-4 w-4"}):hr.includes("")?jsxRuntimeExports.jsx(Phone,{className:"h-4 w-4"}):hr.includes("")?jsxRuntimeExports.jsx(Calculator,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Wallet,{className:"h-4 w-4"}),cr=Xe.filter(hr=>{const yr=hr.description.toLowerCase().includes(ze.toLowerCase())||hr.member.toLowerCase().includes(ze.toLowerCase()),mr=He==="all"||hr.type===He,vr=Ge==="all"||Ge==="cash"&&hr.method.includes("")||Ge==="bkash"&&hr.method.includes("")||Ge==="bank"&&hr.method.includes("");return yr&&mr&&vr});return jsxRuntimeExports.jsxs("div",{className:"transactions-page",children:[jsxRuntimeExports.jsxs("div",{className:"transactions-header",children:[jsxRuntimeExports.jsxs("div",{className:"transactions-title-row",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ve(-1),className:"back-btn",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("h1",{className:"transactions-title",children:" "})]}),jsxRuntimeExports.jsx("div",{className:"transactions-filters",children:jsxRuntimeExports.jsxs("div",{className:"filters-grid",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"   ...",value:ze,onChange:hr=>qe(hr.target.value),className:"transactions-input pl-10"})]}),jsxRuntimeExports.jsxs("select",{value:He,onChange:hr=>We(hr.target.value),className:"transactions-select",children:[jsxRuntimeExports.jsx("option",{value:"all",children:" "}),jsxRuntimeExports.jsx("option",{value:"income",children:""}),jsxRuntimeExports.jsx("option",{value:"expense",children:""})]}),jsxRuntimeExports.jsxs("select",{value:Ge,onChange:hr=>Ye(hr.target.value),className:"transactions-select",children:[jsxRuntimeExports.jsx("option",{value:"all",children:" "}),jsxRuntimeExports.jsx("option",{value:"cash",children:""}),jsxRuntimeExports.jsx("option",{value:"bkash",children:""}),jsxRuntimeExports.jsx("option",{value:"bank",children:""})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{qe(""),We("all"),Ye("all")},className:"filters-clear",children:" "})]})})]}),jsxRuntimeExports.jsx("div",{className:"transactions-list",children:Be?jsxRuntimeExports.jsx("div",{className:"transactions-loading",children:jsxRuntimeExports.jsx(LoadingAnimation,{})}):cr.length===0?jsxRuntimeExports.jsx("div",{className:"transactions-empty",children:"   "}):jsxRuntimeExports.jsx("div",{children:cr.map(hr=>jsxRuntimeExports.jsx("div",{className:"transaction-item",onClick:yr=>{const mr=_r=>{const Cr=(_r||"").toLowerCase();return Cr.includes("")||Cr.includes("cash")?"cash":Cr.includes("")||Cr.includes("bkash")||Cr.includes("mobile")?"mobile_banking":Cr.includes("")||Cr.includes("bank")?"bank_transfer":Cr.includes("")||Cr.includes("card")?"card":_r||"cash"},vr={id:hr.id,memberName:hr.member,type:hr.type||"other",amount:hr.amount||0,paymentMethod:mr(hr.method),description:hr.description||"",date:hr.date,time:hr.time,reference:hr.reference||hr.id,processedBy:hr.processedBy||""};console.log("Transactions: open details",vr),sr({x:yr.clientX,y:yr.clientY}),Ze(vr),nr(!0)},children:jsxRuntimeExports.jsxs("div",{className:"item-row",children:[jsxRuntimeExports.jsxs("div",{className:"item-left",children:[jsxRuntimeExports.jsx("div",{className:`transaction-icon ${hr.type==="income"?"income":"expense"}`,children:hr.type==="income"?jsxRuntimeExports.jsx(TrendingUp,{className:`h-4 w-4 ${hr.type==="income"?"text-green-600":"text-red-600"}`}):jsxRuntimeExports.jsx(TrendingDown,{className:`h-4 w-4 ${hr.type==="income"?"text-green-600":"text-red-600"}`})}),jsxRuntimeExports.jsxs("div",{className:"transaction-text",children:[jsxRuntimeExports.jsx("h3",{children:hr.description}),jsxRuntimeExports.jsx("p",{className:"member-name",children:hr.member}),jsxRuntimeExports.jsxs("div",{className:"transaction-meta",children:[jsxRuntimeExports.jsxs("div",{className:"chip",children:[or(hr.method),jsxRuntimeExports.jsx("span",{children:hr.method})]}),jsxRuntimeExports.jsx("div",{className:"chip",children:hr.date})]})]})]}),jsxRuntimeExports.jsx("div",{className:"item-right",children:jsxRuntimeExports.jsxs("p",{className:`amount ${hr.type==="income"?"income":"expense"}`,children:[hr.type==="income"?"+":"-"," ",(hr.amount||0).toLocaleString()]})})]})},hr.id))})}),jsxRuntimeExports.jsx(TransactionDetailsCard,{transaction:er,isVisible:rr,onClose:()=>{console.log("Transactions: close details"),nr(!1),Ze(null)},position:ar})]})},Treasury=()=>{const Ve=useNavigate(),{isDemo:$e}=useMode(),[Be,Ue]=reactExports.useState({fundData:!0,transactions:!0}),[ze,qe]=reactExports.useState({totalFunds:0,monthlyDeposits:0,totalWithdrawals:0,recentTransactions:[],monthlyData:[]}),[He,We]=reactExports.useState(null),[Ge,Ye]=reactExports.useState(!1),[Xe,Je]=reactExports.useState({x:0,y:0});reactExports.useEffect(()=>{(async()=>{try{Ue(yr=>({...yr,fundData:!0,transactions:!0}));const cr=await FundService.getFundSummary();if(cr.success){const yr=cr.data;qe(mr=>({...mr,totalFunds:yr.totalAmount||0,monthlyDeposits:yr.monthlyDeposits||0,totalWithdrawals:yr.totalWithdrawals||0})),Ue(mr=>({...mr,fundData:!1}))}else console.error("Error loading fund summary:",cr.error),Ue(yr=>({...yr,fundData:!1}));const hr=await TransactionService.getRecentTransactions(10);if(hr.success){const yr=hr.data;qe(mr=>({...mr,recentTransactions:yr})),Ue(mr=>({...mr,transactions:!1}))}else console.error("Error loading transactions:",hr.error),Ue(yr=>({...yr,transactions:!1}))}catch(cr){console.error("Error loading treasury data:",cr),Ue(hr=>({...hr,fundData:!1,transactions:!1}))}})()},[$e]);const er=(or,cr)=>{if(!or){console.error("No transaction data provided");return}Je({x:cr.clientX,y:cr.clientY});const hr={id:or.id||"N/A",memberName:or.memberName||" ",transactionType:or.transactionType||or.type||"other",type:or.type||or.transactionType||"other",amount:or.amount||0,date:or.date||or.createdAt||null,createdAt:or.createdAt||null,description:or.description||"",transactionId:or.transactionId||or.id||"N/A",status:or.status||"completed",paymentMethod:or.paymentMethod||"cash",month:or.month,monthName:or.monthName||"",reference:or.reference,processedBy:or.processedBy,...or};We(hr),Ye(!0)},Ze=()=>{Ye(!1),We(null)},rr=ze.totalFunds-ze.totalWithdrawals,nr=[{title:" ",value:ze.totalFunds,change:"+%",changeType:"increase",icon:PiggyBank,color:"bg-blue-500",loading:Be.fundData},{title:" ",value:ze.monthlyDeposits,change:"+%",changeType:"increase",icon:TrendingUp,color:"bg-green-500",loading:Be.fundData},{title:" ",value:rr,change:"+%",changeType:"increase",icon:DollarSign,color:"bg-purple-500",loading:Be.fundData}],ar=or=>{if(or.monthName)return or.monthName;const cr=["","","","","","","","","","","",""],hr=new Date(or.date?.seconds*1e3||or.createdAt?.seconds*1e3||Date.now());return cr[hr.getMonth()]||" "},sr=or=>{const cr={monthly_deposit:" ",share_purchase:" ",loan_disbursement:" ",loan_repayment:" ",profit_distribution:" ",penalty:"",other:""},hr=["monthly_deposit","share_purchase","loan_repayment","penalty"];return{id:or.id,type:cr[or.transactionType]||or.transactionType,amount:or.amount,memberName:or.memberName||" ",monthName:ar(or),isIncome:hr.includes(or.transactionType)}},lr=({className:or})=>jsxRuntimeExports.jsx("div",{className:`animate-pulse bg-gray-200 rounded ${or}`});return jsxRuntimeExports.jsxs("div",{className:"treasury-container",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-header",children:[jsxRuntimeExports.jsx("h1",{className:"treasury-title",children:""}),jsxRuntimeExports.jsx("p",{className:"treasury-subtitle",children:"    "})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 py-6 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"treasury-summary-grid",children:nr.map((or,cr)=>{const hr=or.icon;return jsxRuntimeExports.jsxs("div",{className:"treasury-card",children:[jsxRuntimeExports.jsxs("div",{className:"treasury-card-header",children:[jsxRuntimeExports.jsx("h3",{className:"treasury-card-title",children:or.title}),jsxRuntimeExports.jsx("div",{className:`treasury-card-icon ${or.color==="bg-green-500"?"green":or.color==="bg-purple-500"?"purple":""}`,children:jsxRuntimeExports.jsx(hr,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{children:[or.loading?jsxRuntimeExports.jsx(lr,{className:"w-20 h-6 mt-1"}):jsxRuntimeExports.jsxs("p",{className:"treasury-card-value",children:[" ",or.value.toLocaleString("bn-BD")]}),jsxRuntimeExports.jsxs("div",{className:`treasury-card-change ${or.changeType==="increase"?"positive":"negative"}`,children:[or.changeType==="increase"?jsxRuntimeExports.jsx(ArrowUpRight,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ArrowDownRight,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:or.change})]})]})]},cr)})}),jsxRuntimeExports.jsxs("div",{className:"treasury-transactions",children:[jsxRuntimeExports.jsx("div",{className:"treasury-transactions-header",children:jsxRuntimeExports.jsxs("h2",{className:"treasury-transactions-title",children:[jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"})," "]})}),jsxRuntimeExports.jsxs("div",{children:[Be.transactions?jsxRuntimeExports.jsx(LoadingAnimation,{}):ze.recentTransactions.length>0?jsxRuntimeExports.jsx("div",{className:"treasury-transactions-list",children:ze.recentTransactions.map(or=>{const cr=sr(or);return jsxRuntimeExports.jsxs("div",{className:"treasury-transaction-item",style:{cursor:"pointer"},onClick:hr=>er(or,hr),children:[jsxRuntimeExports.jsx("div",{className:`treasury-transaction-icon ${cr.isIncome?"deposit":"withdrawal"}`,children:cr.isIncome?jsxRuntimeExports.jsx(ArrowUpRight,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(ArrowDownRight,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{className:"treasury-transaction-details",children:[jsxRuntimeExports.jsx("p",{className:"treasury-transaction-description",children:cr.type}),jsxRuntimeExports.jsxs("p",{className:"treasury-transaction-time",children:[cr.memberName," ",jsxRuntimeExports.jsx("span",{className:"month-badge",style:{backgroundColor:"#fff3e0",color:"#f57c00",padding:"2px 8px",borderRadius:"10px",fontSize:"11px",fontWeight:"600",display:"inline-block",marginLeft:"4px",border:"1px solid #ffcc02"},children:cr.monthName})]})]}),jsxRuntimeExports.jsxs("span",{className:`treasury-transaction-amount ${cr.isIncome?"positive":"negative"}`,children:[cr.isIncome?"+":"-"," ",(cr.amount||0).toLocaleString("bn-BD")]})]},cr.id)})}):jsxRuntimeExports.jsxs("div",{className:"treasury-empty",children:[jsxRuntimeExports.jsx(Clock,{className:"treasury-empty-icon"}),jsxRuntimeExports.jsx("p",{className:"treasury-empty-title",children:"   "}),jsxRuntimeExports.jsx("p",{className:"treasury-empty-description",children:"     "})]}),!Be.transactions&&ze.recentTransactions.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs("button",{onClick:()=>Ve("/transactions"),className:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 font-semibold rounded-xl border border-blue-200 hover:from-blue-100 hover:to-blue-200 hover:shadow-sm transition-all duration-300 group",children:[jsxRuntimeExports.jsx("span",{children:"  "}),jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"treasury-coming-soon",children:[jsxRuntimeExports.jsx("div",{className:"treasury-coming-soon-icon",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-8 h-8"})}),jsxRuntimeExports.jsx("h3",{className:"treasury-coming-soon-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"treasury-coming-soon-description",children:" ,          "})]}),jsxRuntimeExports.jsx(TransactionDetailsCard,{transaction:He,isVisible:Ge,onClose:Ze,position:Xe})]})]})},AddTransactionPage=()=>{const Ve=useNavigate(),[$e]=reactExports.useState(!0),Be=()=>{Ve("/cashier",{replace:!0})};return jsxRuntimeExports.jsx(AddTransaction,{isOpen:$e,onClose:Be})},CashierSettings=()=>{const[Ve,$e]=reactExports.useState("system"),[Be,Ue]=reactExports.useState("");console.log("CashierSettings render",{activeTab:Ve});const[ze,qe]=reactExports.useState({language:"bn",theme:"light",currency:"BDT",receiptPrint:"auto"}),[He,We]=reactExports.useState([]),[Ge,Ye]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{const rr=localStorage.getItem("somiti_uid"),{data:nr,error:ar}=await fetchLoginHistory(rr);ar?Ye("    "):We(nr||[])})()},[]);const Xe=(Ze,rr)=>{qe(nr=>({...nr,[Ze]:rr}))},Je=()=>{Ue("saving"),console.log("CashierSettings saveChanges",{systemPreferences:ze}),setTimeout(()=>{Ue("success"),setTimeout(()=>Ue(""),2e3)},500)},er=[{id:"system",label:"",icon:Settings},{id:"history",label:" ",icon:FileText}];return jsxRuntimeExports.jsxs("div",{className:"cashier-settings",children:[jsxRuntimeExports.jsxs("div",{className:"cashier-settings-container",children:[jsxRuntimeExports.jsxs("div",{className:"cashier-settings-header",children:[jsxRuntimeExports.jsx("h1",{className:"cashier-settings-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"cashier-settings-subtitle",children:"      "})]}),jsxRuntimeExports.jsx("div",{className:"cashier-settings-tabs",children:er.map(Ze=>jsxRuntimeExports.jsxs("button",{onClick:()=>{console.log("CashierSettings tab switch",Ze.id),$e(Ze.id)},className:`cashier-tab ${Ve===Ze.id?"active":""}`,children:[jsxRuntimeExports.jsx(Ze.icon,{className:"h-4 w-4 mr-2"}),Ze.label]},Ze.id))}),jsxRuntimeExports.jsxs("div",{className:"cashier-tab-content",children:[Ve==="system"&&jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsxs("div",{className:"settings-section-header",children:[jsxRuntimeExports.jsx("div",{className:"settings-icon",children:jsxRuntimeExports.jsx(Settings,{})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"settings-section-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"settings-section-subtitle",children:"   "})]})]}),jsxRuntimeExports.jsx("div",{className:"settings-grid",children:jsxRuntimeExports.jsxs("div",{className:"settings-group",children:[jsxRuntimeExports.jsxs("h3",{className:"settings-group-title",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4"})," "]}),jsxRuntimeExports.jsxs("div",{className:"settings-field",children:[jsxRuntimeExports.jsx("label",{className:"settings-label",children:""}),jsxRuntimeExports.jsxs("select",{value:ze.language,onChange:Ze=>Xe("language",Ze.target.value),className:"settings-dropdown",children:[jsxRuntimeExports.jsx("option",{value:"bn",children:""}),jsxRuntimeExports.jsx("option",{value:"en",children:"English"})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-field",children:[jsxRuntimeExports.jsx("label",{className:"settings-label",children:""}),jsxRuntimeExports.jsxs("select",{value:ze.theme,onChange:Ze=>Xe("theme",Ze.target.value),className:"settings-dropdown",children:[jsxRuntimeExports.jsx("option",{value:"light",children:""}),jsxRuntimeExports.jsx("option",{value:"dark",children:""})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-field",children:[jsxRuntimeExports.jsx("label",{className:"settings-label",children:""}),jsxRuntimeExports.jsxs("select",{value:ze.currency,onChange:Ze=>Xe("currency",Ze.target.value),className:"settings-dropdown",children:[jsxRuntimeExports.jsx("option",{value:"BDT",children:"  ()"}),jsxRuntimeExports.jsx("option",{value:"USD",children:"US Dollar ($)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"settings-field",children:[jsxRuntimeExports.jsx("label",{className:"settings-label",children:" "}),jsxRuntimeExports.jsxs("select",{value:ze.receiptPrint,onChange:Ze=>Xe("receiptPrint",Ze.target.value),className:"settings-dropdown",children:[jsxRuntimeExports.jsx("option",{value:"auto",children:""}),jsxRuntimeExports.jsx("option",{value:"manual",children:""}),jsxRuntimeExports.jsx("option",{value:"disabled",children:""})]})]}),jsxRuntimeExports.jsxs("button",{onClick:Je,className:"settings-button settings-button-primary",children:[jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"}),"  "]})]})}),jsxRuntimeExports.jsxs("div",{className:"settings-section",style:{marginTop:"24px"},children:[jsxRuntimeExports.jsx("h2",{className:"settings-section-title",children:" "}),Ge&&jsxRuntimeExports.jsx("div",{className:"inline-error",children:jsxRuntimeExports.jsx("span",{children:Ge})}),jsxRuntimeExports.jsx("div",{className:"settings-grid",children:jsxRuntimeExports.jsx("div",{className:"settings-group",children:He.length===0?jsxRuntimeExports.jsxs("div",{className:"settings-field",children:[jsxRuntimeExports.jsx("label",{className:"settings-label",children:""}),jsxRuntimeExports.jsx("div",{className:"settings-value",children:"      "})]}):He.map((Ze,rr)=>jsxRuntimeExports.jsxs("div",{className:"settings-field",children:[jsxRuntimeExports.jsx("label",{className:"settings-label",children:Ze.created_at?.toDate?new Date(Ze.created_at.toDate()).toLocaleString("bn-BD"):Ze.created_at?new Date(Ze.created_at).toLocaleString("bn-BD"):""}),jsxRuntimeExports.jsxs("div",{className:"settings-value",children:[": ",Ze.meta?.ua||""," | : ",Ze.ip||""," | ",Ze.meta?.country||"",Ze.meta?.city?", "+Ze.meta.city:""]})]},rr))})})]})]}),Ve==="history"&&jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsxs("div",{className:"settings-section-header",children:[jsxRuntimeExports.jsx("div",{className:"settings-icon",children:jsxRuntimeExports.jsx(FileText,{})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"settings-section-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"settings-section-subtitle",children:"  "})]})]}),Ge&&jsxRuntimeExports.jsx("div",{className:"inline-error",children:jsxRuntimeExports.jsx("span",{children:Ge})}),jsxRuntimeExports.jsx("div",{className:"history-list",children:He.length===0?jsxRuntimeExports.jsx("div",{className:"history-item",children:jsxRuntimeExports.jsx("div",{className:"history-meta-line",children:"      "})}):He.map((Ze,rr)=>jsxRuntimeExports.jsxs("div",{className:"history-item",children:[jsxRuntimeExports.jsx("div",{className:"history-date",children:Ze.created_at?.toDate?new Date(Ze.created_at.toDate()).toLocaleString("bn-BD"):Ze.created_at?new Date(Ze.created_at).toLocaleString("bn-BD"):""}),jsxRuntimeExports.jsxs("div",{className:"history-meta-line",children:[": ",Ze.meta?.ua||""]}),jsxRuntimeExports.jsxs("div",{className:"history-meta-line",children:[": ",Ze.ip||""," | ",Ze.meta?.country||"",Ze.meta?.city?", "+Ze.meta.city:""]})]},rr))})]})]})]}),Be&&jsxRuntimeExports.jsx("div",{className:`save-status ${Be==="saving"?"error":"success"}`,children:Be==="saving"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"  ..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:" !"})]})})]})};console.log("[MemberDashboard] module loaded");const MemberDashboard=()=>{console.log("[MemberDashboard] render",{time:new Date().toISOString()});const{currentUser:Ve,loading:$e}=useUser(),[Be,Ue]=reactExports.useState({initial:!0}),[ze,qe]=reactExports.useState(""),[He,We]=reactExports.useState(""),[Ge,Ye]=reactExports.useState({totalMembers:0,memberRank:0,yearsOfMembership:0,attendanceRate:0}),[Xe,Je]=reactExports.useState(null),[er,Ze]=reactExports.useState(!1),[rr,nr]=reactExports.useState([]),[ar,sr]=reactExports.useState(void 0),lr=reactExports.useMemo(()=>new Date().getFullYear(),[]),or=reactExports.useMemo(()=>new Date().getMonth(),[]);reactExports.useEffect(()=>(console.log("[MemberDashboard] mounted"),()=>{console.log("[MemberDashboard] unmounted")}),[]),reactExports.useEffect(()=>{(async()=>{if(Ve?.uid)try{console.log("[MemberDashboard] loadMemberData:start",{uid:Ve?.uid}),Ue({initial:!0});const Or=await MemberService.getActiveMembers();if(Or.success&&Or.data){const Er=Or.data;console.log("[MemberDashboard] activeMembers:fetched",{count:Er.length});const Nr=[...Er].sort((Pr,Tr)=>{const Vr=Pr.createdAt?.toDate?.()||new Date(Pr.createdAt)||new Date(0),Ur=Tr.createdAt?.toDate?.()||new Date(Tr.createdAt)||new Date(0);return Vr.getTime()!==Ur.getTime()?Vr-Ur:(Pr.id||"").localeCompare(Tr.id||"")});console.log("[MemberDashboard] somitiUserId ordered by createdAt ascending");const wr=Nr.findIndex(Pr=>Pr.id===Ve.uid),Ar=wr!==-1?wr+1:"";qe(Ar),console.log("[MemberDashboard] somitiUserId:calculated",{somitiUserId:Ar});const Lr=Nr.find(Pr=>Pr.id===Ve.uid);if(Lr){Je(Lr.photoURL||null);const Pr=Lr.joiningDate||Lr.createdAt?.toDate?.()?.toISOString()?.split("T")[0]||"";if(Pr){const Tr=new Date(Pr);We(Tr.toLocaleDateString("bn-BD"));const Vr=Math.floor((new Date-Tr)/(365.25*24*60*60*1e3));Ye({totalMembers:Er.length,memberRank:Ar,yearsOfMembership:Math.max(0,Vr),attendanceRate:Math.floor(Math.random()*30)+70}),console.log("[MemberDashboard] stats:updated",{totalMembers:Er.length,memberRank:Ar,yearsOfMembership:Math.max(0,Vr)})}}}Ue({initial:!1}),console.log("[MemberDashboard] loadMemberData:done")}catch(Or){console.error("[MemberDashboard]     :",Or),Ue({initial:!1})}})()},[Ve]),reactExports.useEffect(()=>{const Dr=Ve?.uid||Ve?.id;if(!Dr)return;console.log("[MemberDashboard] ownTransactions:subscribe",{uid:Dr});const Or=query(collection(db,"transactions"),where("memberId","==",Dr)),Er=onSnapshot(Or,Nr=>{const wr=Nr.docs.map(Ar=>({id:Ar.id,...Ar.data()}));console.log("[MemberDashboard] ownTransactions:update",{count:wr.length}),nr(wr)},Nr=>{console.error("[MemberDashboard] ownTransactions:error",Nr),nr([])});return()=>{console.log("[MemberDashboard] ownTransactions:unsub"),Er&&Er()}},[Ve]);const cr=reactExports.useMemo(()=>{const Dr=new Set;rr.forEach(Er=>{const wr=(typeof Er.date?.toDate=="function"?Er.date.toDate():Er.date?.seconds?new Date(Er.date.seconds*1e3):Er.date?new Date(Er.date):Er.createdAt?.seconds?new Date(Er.createdAt.seconds*1e3):void 0)?.getFullYear?.();typeof wr=="number"&&Dr.add(wr)});const Or=Array.from(Dr).sort((Er,Nr)=>Nr-Er);return console.log("[MemberDashboard] ownTransactions:availableYears",Or),Or},[rr]);reactExports.useEffect(()=>{if(ar)cr.length>0&&!cr.includes(ar)&&(sr(cr[0]),console.log("[MemberDashboard] ownTransactions:selectedYear:adjusted",cr[0]));else{const Dr=cr.includes(lr)?lr:cr[0];Dr&&(sr(Dr),console.log("[MemberDashboard] ownTransactions:selectedYear:default",Dr))}},[cr,ar,lr]);const hr=reactExports.useMemo(()=>{const Dr=Array(12).fill(0);let Or=0;return rr.forEach(Er=>{const Nr=typeof Er.date?.toDate=="function"?Er.date.toDate():Er.date?.seconds?new Date(Er.date.seconds*1e3):Er.date?new Date(Er.date):Er.createdAt?.seconds?new Date(Er.createdAt.seconds*1e3):void 0,wr=Nr?.getFullYear?.(),Ar=typeof Er.month=="number"?Er.month:Nr?.getMonth?.();if(typeof wr!="number"||typeof Ar!="number"||typeof ar=="number"&&wr!==ar)return;const Lr=Number(Er.amount)||0;Dr[Ar]+=Lr,Or+=Lr}),console.log("[MemberDashboard] ownAggregation built",{totalPaid:Or}),{monthlyTotals:Dr,totalPaid:Or}},[rr,ar]),mr=Number(Ve?.shareCount||0)*500,vr=Ve?.joiningDate||Ve?.joinDate||null,_r=vr?new Date(vr):void 0,Cr=_r?.getFullYear?.(),br=_r?.getMonth?.();let fr=0;return typeof ar=="number"&&typeof Cr=="number"&&(ar<lr?Cr<ar?fr=12:Cr===ar&&typeof br=="number"&&(fr=12-br):ar===lr?Cr<ar?fr=or+1:Cr===ar&&typeof br=="number"&&(fr=Math.max(0,or-br+1)):fr=0),mr*Math.max(0,fr)-(hr.totalPaid||0),$e||Be.initial?(console.log("[MemberDashboard] loading:active",{userLoading:$e,initialData:Be.initial}),jsxRuntimeExports.jsx(LoadingAnimation,{})):(console.log("[MemberDashboard] render:final",{state:{somitiUserId:ze,joiningDate:He,memberStats:Ge}}),jsxRuntimeExports.jsxs("div",{className:"member-dashboard-home",children:[jsxRuntimeExports.jsx("div",{className:"member-profile-header",children:jsxRuntimeExports.jsxs("div",{className:"profile-content",children:[jsxRuntimeExports.jsx("div",{className:"profile-avatar",onClick:()=>Ze(!0),role:"button",tabIndex:0,onKeyDown:Dr=>Dr.key==="Enter"&&Ze(!0),children:Xe?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:Xe,alt:"Profile",className:"profile-photo"}),jsxRuntimeExports.jsx("div",{className:"photo-overlay",children:jsxRuntimeExports.jsx(Camera,{className:"h-8 w-8"})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(User,{className:"h-20 w-20"}),jsxRuntimeExports.jsx("div",{className:"photo-overlay",children:jsxRuntimeExports.jsx(Camera,{className:"h-8 w-8"})})]})}),jsxRuntimeExports.jsx("div",{className:"profile-info",children:jsxRuntimeExports.jsx("div",{className:"profile-details",children:jsxRuntimeExports.jsx("h1",{children:Ve?.name||" ..."})})}),jsxRuntimeExports.jsxs("div",{className:"profile-right-info",children:[jsxRuntimeExports.jsxs("p",{children:[" : ",ze||" ..."]}),jsxRuntimeExports.jsxs("p",{children:[" : ",He||" ..."]}),jsxRuntimeExports.jsxs("div",{className:"membership-badge",children:[jsxRuntimeExports.jsx("p",{children:" "}),jsxRuntimeExports.jsx("p",{children:Ve?.membershipType||" "})]})]})]})}),jsxRuntimeExports.jsx(ProfilePhotoModal,{isOpen:er,onClose:()=>Ze(!1),userId:Ve?.uid,currentPhotoURL:Xe,onPhotoUpdate:Dr=>Je(Dr)}),jsxRuntimeExports.jsxs("div",{className:"stats-grid",children:[jsxRuntimeExports.jsx("div",{className:"stat-card blue",children:jsxRuntimeExports.jsxs("div",{className:"stat-content",children:[jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{className:"value",children:["#",Ge.memberRank]}),jsxRuntimeExports.jsxs("p",{className:"subtitle",children:[" ",Ge.totalMembers,"  "]})]}),jsxRuntimeExports.jsx("div",{className:"stat-icon",children:jsxRuntimeExports.jsx(Award,{className:"h-6 w-6"})})]})}),jsxRuntimeExports.jsx("div",{className:"stat-card green",children:jsxRuntimeExports.jsxs("div",{className:"stat-content",children:[jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{className:"value",children:Ge.yearsOfMembership}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:" "})]}),jsxRuntimeExports.jsx("div",{className:"stat-icon",children:jsxRuntimeExports.jsx(Calendar,{className:"h-6 w-6"})})]})}),jsxRuntimeExports.jsx("div",{className:"stat-card purple",children:jsxRuntimeExports.jsxs("div",{className:"stat-content",children:[jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsxs("p",{className:"value",children:[Ge.attendanceRate,"%"]}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:" "})]}),jsxRuntimeExports.jsx("div",{className:"stat-icon",children:jsxRuntimeExports.jsx(Users,{className:"h-6 w-6"})})]})}),jsxRuntimeExports.jsx("div",{className:"stat-card orange",children:jsxRuntimeExports.jsxs("div",{className:"stat-content",children:[jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{className:"value",children:""}),jsxRuntimeExports.jsx("p",{className:"subtitle",children:" "})]}),jsxRuntimeExports.jsx("div",{className:"stat-icon",children:jsxRuntimeExports.jsx(Shield,{className:"h-6 w-6"})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"info-grid",children:[jsxRuntimeExports.jsxs("div",{className:"info-card",children:[jsxRuntimeExports.jsxs("div",{className:"info-card-header",children:[jsxRuntimeExports.jsx(User,{className:"h-5 w-5 text-blue-600"}),jsxRuntimeExports.jsx("h3",{children:" "})]}),jsxRuntimeExports.jsxs("div",{className:"info-list",children:[jsxRuntimeExports.jsxs("div",{className:"info-item",children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"label",children:":"}),jsxRuntimeExports.jsx("span",{className:"value",children:Ve?.email||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"info-item",children:[jsxRuntimeExports.jsx(Phone,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"label",children:":"}),jsxRuntimeExports.jsx("span",{className:"value",children:Ve?.phone||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"info-item",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"label",children:":"}),jsxRuntimeExports.jsx("span",{className:"value",children:Ve?.address||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"info-item",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"label",children:" :"}),jsxRuntimeExports.jsx("span",{className:"value",children:Ve?.dateOfBirth||"N/A"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"info-card",children:[jsxRuntimeExports.jsxs("div",{className:"info-card-header",children:[jsxRuntimeExports.jsx(Star,{className:"h-5 w-5 text-yellow-600"}),jsxRuntimeExports.jsx("h3",{children:" "})]}),jsxRuntimeExports.jsxs("div",{className:"info-list",children:[jsxRuntimeExports.jsxs("div",{className:"benefit-item",children:[jsxRuntimeExports.jsx(Heart,{className:"h-4 w-4 text-red-500"}),jsxRuntimeExports.jsx("span",{children:"  "})]}),jsxRuntimeExports.jsxs("div",{className:"benefit-item",children:[jsxRuntimeExports.jsx(Target,{className:"h-4 w-4 text-green-500"}),jsxRuntimeExports.jsx("span",{children:" "})]}),jsxRuntimeExports.jsxs("div",{className:"benefit-item",children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-4 w-4 text-blue-500"}),jsxRuntimeExports.jsx("span",{children:"   "})]}),jsxRuntimeExports.jsxs("div",{className:"benefit-item",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-purple-500"}),jsxRuntimeExports.jsx("span",{children:" "})]}),jsxRuntimeExports.jsxs("div",{className:"benefit-item",children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4 text-indigo-500"}),jsxRuntimeExports.jsx("span",{children:"  "})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"quick-actions",children:[jsxRuntimeExports.jsxs("div",{className:"quick-actions-header",children:[jsxRuntimeExports.jsx(Clock,{className:"h-5 w-5 text-indigo-600"}),jsxRuntimeExports.jsx("h3",{children:" "})]}),jsxRuntimeExports.jsxs("div",{className:"actions-grid",children:[jsxRuntimeExports.jsxs("button",{className:"action-button blue",children:[jsxRuntimeExports.jsx("div",{className:"icon",children:jsxRuntimeExports.jsx(Bell,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("span",{children:" "})]}),jsxRuntimeExports.jsxs("button",{className:"action-button green",children:[jsxRuntimeExports.jsx("div",{className:"icon",children:jsxRuntimeExports.jsx(Users,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("span",{children:" "})]}),jsxRuntimeExports.jsxs("button",{className:"action-button purple",children:[jsxRuntimeExports.jsx("div",{className:"icon",children:jsxRuntimeExports.jsx(Calendar,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("span",{children:" "})]}),jsxRuntimeExports.jsxs("button",{className:"action-button orange",children:[jsxRuntimeExports.jsx("div",{className:"icon",children:jsxRuntimeExports.jsx(BookOpen,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("span",{children:""})]})]})]}),jsxRuntimeExports.jsx("div",{className:"welcome-message",children:jsxRuntimeExports.jsxs("div",{className:"welcome-content",children:[jsxRuntimeExports.jsx("div",{className:"welcome-icon",children:jsxRuntimeExports.jsx(Heart,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"welcome-text",children:[jsxRuntimeExports.jsxs("h3",{children:[", ",Ve?.name?.split(" ")[0]||"","!"]}),jsxRuntimeExports.jsx("p",{children:"             "})]})]})})]}))},ShareTracking=()=>{const[Ve,$e]=reactExports.useState(""),Be=[{id:1,memberName:"  ",memberId:"SM-001",amount:2e3,status:"paid"},{id:2,memberName:" ",memberId:"SM-002",amount:1500,status:"paid"},{id:3,memberName:" ",memberId:"SM-003",amount:1e3,status:"pending"},{id:4,memberName:" ",memberId:"SM-004",amount:2e3,status:"paid"},{id:5,memberName:" ",memberId:"SM-005",amount:1200,status:"pending"}],Ue=Be.filter(We=>We.status==="paid").reduce((We,Ge)=>We+Ge.amount,0),ze=Be.filter(We=>We.status==="pending").length,qe=Be.filter(We=>We.status==="paid").length,He=Be.filter(We=>We.memberName.toLowerCase().includes(Ve.toLowerCase())||We.memberId.toLowerCase().includes(Ve.toLowerCase()));return jsxRuntimeExports.jsx("div",{className:"md-dashboard",children:jsxRuntimeExports.jsx("div",{className:"md-surface-container",children:jsxRuntimeExports.jsxs("div",{className:"md-dashboard-content",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"    "})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:" "}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[" ",Ue.toLocaleString()]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-full bg-green-100",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:""}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[qe," "]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:jsxRuntimeExports.jsx(Clock,{className:"h-5 w-5 text-orange-600"})}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:""}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[ze," "]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Search,{className:"h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ve,onChange:We=>$e(We.target.value),placeholder:"    ...",className:"flex-1 border-0 focus:ring-0 focus:outline-none text-sm"})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-4 py-3 border-b bg-gray-50",children:jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"  "})}),jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200",children:He.map(We=>jsxRuntimeExports.jsx("div",{className:"p-4 hover:bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:We.memberName}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:[": ",We.memberId]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[" ",We.amount.toLocaleString()]}),jsxRuntimeExports.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${We.status==="paid"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:We.status==="paid"?"":""})]})]})})})},We.id))}),He.length===0&&jsxRuntimeExports.jsx("div",{className:"p-8 text-center",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"   "})})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"   "]})})]})})})},FinancialSummary=()=>{const{currentUser:Ve}=useUser(),[$e,Be]=reactExports.useState(!0),[Ue,ze]=reactExports.useState(!0),[qe,He]=reactExports.useState([]),[We,Ge]=reactExports.useState({totalFund:0,totalShares:0,shareValue:0,monthlyDeposit:0,totalDeposits:0,dueMonths:0,nextPaymentDue:"",loanTaken:0,loanRemaining:0,profitEarned:0});return reactExports.useEffect(()=>{const Ye=Je=>{try{return Je?typeof Je?.toDate=="function"?Je.toDate():typeof Je=="string"?new Date(Je):Je?.seconds?new Date(Je.seconds*1e3):new Date(Je):void 0}catch(er){console.warn("FinancialSummary: toDateSafe failed, returning undefined",er);return}};(async()=>{const Je=Ve?.uid||Ve?.id;if(!Je){console.log("FinancialSummary: skip loadFinancialData, no user_id");return}try{Be(!0),console.log("FinancialSummary: start loadFinancialData for user_id",Je);const er=await MemberService.getMemberById(Je),Ze=er?.success?er.data:null,rr=Number(Ze?.shareCount||0),nr=Ze?.joiningDate??Ze?.joinDate,ar=Ye(nr)||new Date(new Date().getFullYear(),0,1);console.log("FinancialSummary: member profile loaded",{shareCountFromMember:rr,joiningDate:ar?.toISOString?.()||ar});const sr=query(collection(db,"transactions"),where("memberId","==",Je)),lr=await getDocs(sr),or=[];lr.forEach(Qr=>or.push({id:Qr.id,...Qr.data()})),console.log("FinancialSummary: transactions fetched",or.length);const cr=or.filter(Qr=>Qr.transactionType==="monthly_deposit"),hr=or.filter(Qr=>Qr.transactionType==="share_purchase"),yr=or.filter(Qr=>Qr.transactionType==="loan_disbursement"),mr=or.filter(Qr=>Qr.transactionType==="loan_repayment"),vr=or.filter(Qr=>Qr.transactionType==="profit_distribution"),_r=or.reduce((Qr,mn)=>Qr+(Number(mn.amount)||0),0),Cr=cr.reduce((Qr,mn)=>Qr+(Number(mn.amount)||0),0),br=cr.length>0?Math.round(Cr/cr.length):0,fr=hr.reduce((Qr,mn)=>Qr+(parseInt(mn.shareAmount)||0),0),Sr=hr.reduce((Qr,mn)=>Qr+(Number(mn.amount)||0),0),Dr=500,Or=rr>0?rr:fr,Er=yr.reduce((Qr,mn)=>Qr+(Number(mn.amount)||0),0),Nr=mr.reduce((Qr,mn)=>Qr+(Number(mn.amount)||0),0),wr=Er-Nr,Ar=vr.reduce((Qr,mn)=>Qr+(Number(mn.amount)||0),0),Lr=new Date,Pr=[],Tr=new Date(ar.getFullYear(),ar.getMonth(),1),Vr=new Date(Lr.getFullYear(),Lr.getMonth(),1);for(let Qr=new Date(Tr);Qr<=Vr;Qr.setMonth(Qr.getMonth()+1))Pr.push(new Date(Qr));const Ur=new Set;cr.forEach(Qr=>{const mn=Ye(Qr?.date)||Ye(Qr?.createdAt),An=mn?.getFullYear?.(),Zr=typeof Qr.month=="number"?Qr.month:mn?.getMonth?.();typeof Zr=="number"&&typeof An=="number"&&Ur.add(`${An}-${Zr}`)}),console.log("FinancialSummary: paidMonthKeys built",Ur.size);const Yr=Pr.filter(Qr=>{const mn=`${Qr.getFullYear()}-${Qr.getMonth()}`;return!Ur.has(mn)&&Qr<=Vr});console.log("FinancialSummary: due months computed",Yr.length),Ge({totalFund:_r,totalShares:Or,shareValue:Sr||Or*Dr,monthlyDeposit:br,totalDeposits:Cr,dueMonths:Yr.length,nextPaymentDue:Lr.toLocaleDateString("bn-BD"),loanTaken:Er,loanRemaining:wr,profitEarned:Ar})}catch(er){console.error("    :",er)}finally{Be(!1),console.log("FinancialSummary: loadFinancialData completed")}})()},[Ve]),reactExports.useEffect(()=>{(async()=>{if(!(!Ve?.uid&&!Ve?.id))try{ze(!0);const Xe=Ve.uid||Ve.id;console.log("FinancialSummary: loading recent transactions from Firestore for memberId",Xe);const Je=query(collection(db,"transactions"),where("memberId","==",Xe),limit(25)),er=await getDocs(Je),Ze=[];er.forEach(nr=>Ze.push({id:nr.id,...nr.data()}));const rr=Ze.sort((nr,ar)=>{const sr=nr.createdAt?.seconds||0;return(ar.createdAt?.seconds||0)-sr}).slice(0,5);He(rr),console.log("FinancialSummary: recent transactions loaded",rr.length)}catch(Xe){console.error("FinancialSummary: Firestore user transactions error",Xe),He([])}finally{ze(!1)}})()},[Ve]),$e?jsxRuntimeExports.jsx("div",{className:"financial-summary",children:jsxRuntimeExports.jsx("div",{className:"financial-summary__container",children:jsxRuntimeExports.jsx("div",{className:"financial-summary__loading",children:jsxRuntimeExports.jsx(LoadingAnimation,{})})})}):jsxRuntimeExports.jsx("div",{className:"financial-summary",children:jsxRuntimeExports.jsxs("div",{className:"financial-summary__container",children:[jsxRuntimeExports.jsxs("div",{className:"financial-summary__header",children:[jsxRuntimeExports.jsx("h1",{className:"financial-summary__title",children:" "}),jsxRuntimeExports.jsx("p",{className:"financial-summary__subtitle",children:"     "})]}),jsxRuntimeExports.jsxs("div",{className:"financial-summary__main-cards",children:[jsxRuntimeExports.jsxs("div",{className:"financial-card financial-card--fund",children:[jsxRuntimeExports.jsx("div",{className:"financial-card__header",children:jsxRuntimeExports.jsx("div",{className:"financial-card__icon",children:jsxRuntimeExports.jsx(Wallet,{size:20})})}),jsxRuntimeExports.jsx("div",{className:"financial-card__label",children:" "}),jsxRuntimeExports.jsxs("div",{className:"financial-card__value",children:[" ",(We.totalFund||0).toLocaleString()]}),jsxRuntimeExports.jsxs("div",{className:"financial-card__description",children:[jsxRuntimeExports.jsx(TrendingUp,{size:16}),jsxRuntimeExports.jsx("span",{children:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:"financial-card financial-card--shares",children:[jsxRuntimeExports.jsx("div",{className:"financial-card__header",children:jsxRuntimeExports.jsx("div",{className:"financial-card__icon",children:jsxRuntimeExports.jsx(ChartPie,{size:20})})}),jsxRuntimeExports.jsx("div",{className:"financial-card__label",children:" "}),jsxRuntimeExports.jsxs("div",{className:"financial-card__value",children:[We.totalShares," "]}),jsxRuntimeExports.jsxs("div",{className:"financial-card__description",children:[jsxRuntimeExports.jsx(Target,{size:16}),jsxRuntimeExports.jsxs("span",{children:[":  ",(We.shareValue||0).toLocaleString()]})]})]}),jsxRuntimeExports.jsxs("div",{className:`financial-card financial-card--due ${We.dueMonths===0?"financial-card--success":""}`,children:[jsxRuntimeExports.jsx("div",{className:"financial-card__header",children:jsxRuntimeExports.jsx("div",{className:"financial-card__icon",children:We.dueMonths>0?jsxRuntimeExports.jsx(TriangleAlert,{size:20}):jsxRuntimeExports.jsx(CircleCheckBig,{size:20})})}),jsxRuntimeExports.jsx("div",{className:"financial-card__label",children:" "}),jsxRuntimeExports.jsxs("div",{className:"financial-card__value",children:[We.dueMonths," "]}),jsxRuntimeExports.jsx("div",{className:"financial-card__description",children:We.dueMonths>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Clock,{size:16}),jsxRuntimeExports.jsx("span",{children:" "})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Award,{size:16}),jsxRuntimeExports.jsx("span",{children:" "})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"financial-summary__detail-cards",children:[jsxRuntimeExports.jsxs("div",{className:"detail-card",children:[jsxRuntimeExports.jsxs("div",{className:"detail-card__header",children:[jsxRuntimeExports.jsxs("div",{className:"detail-card__title",children:[jsxRuntimeExports.jsx("div",{className:"detail-card__icon",children:jsxRuntimeExports.jsx(Calendar,{size:16})}),"  "]}),jsxRuntimeExports.jsx(ArrowUpRight,{size:16,style:{color:"#94a3b8"}})]}),jsxRuntimeExports.jsxs("div",{className:"detail-card__content",children:[jsxRuntimeExports.jsxs("div",{className:"detail-item",children:[jsxRuntimeExports.jsx("span",{className:"detail-item__label",children:" :"}),jsxRuntimeExports.jsxs("span",{className:"detail-item__value",children:[" ",(We.totalDeposits||0).toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{className:"detail-item",children:[jsxRuntimeExports.jsx("span",{className:"detail-item__label",children:"  :"}),jsxRuntimeExports.jsxs("span",{className:"detail-item__value",children:[" ",(We.monthlyDeposit||0).toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{className:"detail-item",children:[jsxRuntimeExports.jsx("span",{className:"detail-item__label",children:" :"}),jsxRuntimeExports.jsx("span",{className:"detail-item__value",children:We.nextPaymentDue})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"detail-card",children:[jsxRuntimeExports.jsxs("div",{className:"detail-card__header",children:[jsxRuntimeExports.jsxs("div",{className:"detail-card__title",children:[jsxRuntimeExports.jsx("div",{className:"detail-card__icon",children:jsxRuntimeExports.jsx(DollarSign,{size:16})})," "]}),jsxRuntimeExports.jsx(ArrowUpRight,{size:16,style:{color:"#94a3b8"}})]}),jsxRuntimeExports.jsx("div",{className:"detail-card__content",children:Ue?jsxRuntimeExports.jsx("div",{className:"financial-summary__loading",children:jsxRuntimeExports.jsx(LoadingAnimation,{})}):qe.length===0?jsxRuntimeExports.jsxs("div",{className:"detail-item",children:[jsxRuntimeExports.jsx("span",{className:"detail-item__label",children:" :"}),jsxRuntimeExports.jsx("span",{className:"detail-item__value",children:"   "})]}):qe.map(Ye=>{const Xe=Ye.createdAt?.seconds?new Date(Ye.createdAt.seconds*1e3):new Date,Je=Xe.toLocaleDateString("bn-BD"),er=Xe.toLocaleTimeString("bn-BD"),Ze=Ye.transactionType||Ye.type||"other",rr=Ye.amount||0;return jsxRuntimeExports.jsxs("div",{className:"detail-item",children:[jsxRuntimeExports.jsxs("span",{className:"detail-item__label",children:[Ze,"  ",jsxRuntimeExports.jsxs("span",{style:{color:"#64748b"},children:[Je," ",er]})]}),jsxRuntimeExports.jsxs("span",{className:"detail-item__value",children:[" ",rr.toLocaleString("bn-BD")]})]},Ye.id)})})]})]}),jsxRuntimeExports.jsxs("div",{className:"detail-card",children:[jsxRuntimeExports.jsx("div",{className:"detail-card__header",children:jsxRuntimeExports.jsxs("div",{className:"detail-card__title",children:[jsxRuntimeExports.jsx("div",{className:"detail-card__icon",children:jsxRuntimeExports.jsx(CircleCheckBig,{size:16})})," "]})}),jsxRuntimeExports.jsxs("div",{className:"financial-summary__status-cards",children:[jsxRuntimeExports.jsx("div",{className:"status-card status-card--success",children:jsxRuntimeExports.jsxs("div",{className:"status-card__content",children:[jsxRuntimeExports.jsx("div",{className:"status-card__icon",children:jsxRuntimeExports.jsx(CircleCheckBig,{size:16})}),jsxRuntimeExports.jsxs("div",{className:"status-card__info",children:[jsxRuntimeExports.jsx("div",{className:"status-card__title",children:" "}),jsxRuntimeExports.jsx("div",{className:"status-card__description",children:We.dueMonths===0?" ":`${We.dueMonths}  `})]})]})}),jsxRuntimeExports.jsx("div",{className:"status-card status-card--info",children:jsxRuntimeExports.jsxs("div",{className:"status-card__content",children:[jsxRuntimeExports.jsx("div",{className:"status-card__icon",children:jsxRuntimeExports.jsx(ChartPie,{size:16})}),jsxRuntimeExports.jsxs("div",{className:"status-card__info",children:[jsxRuntimeExports.jsx("div",{className:"status-card__title",children:" "}),jsxRuntimeExports.jsx("div",{className:"status-card__description",children:We.totalShares>0?`${We.totalShares}  `:"  "})]})]})})]})]})]})})},NOTICES_COLLECTION="notices";class NoticeService{static async addNotice($e){try{return{success:!0,id:(await addDoc(collection(db,NOTICES_COLLECTION),{...$e,createdAt:serverTimestamp(),updatedAt:serverTimestamp(),publishDate:new Date().toISOString().split("T")[0],views:0,status:$e.status||"active"})).id}}catch(Be){return console.error("   :",Be),{success:!1,error:Be.message}}}static async getAllNotices(){try{const $e=query(collection(db,NOTICES_COLLECTION),orderBy$1("isPinned","desc"),orderBy$1("createdAt","desc")),Be=await getDocs($e),Ue=[];return Be.forEach(ze=>{const qe=ze.data();Ue.push({id:ze.id,...qe,publishDate:qe.publishDate||new Date().toISOString().split("T")[0],createdAt:qe.createdAt?.toDate?.()||new Date,updatedAt:qe.updatedAt?.toDate?.()||new Date})}),{success:!0,data:Ue}}catch($e){return console.error("   :",$e),{success:!1,error:$e.message,data:[]}}}static async getNoticesByCategory($e){try{const Be=query(collection(db,NOTICES_COLLECTION),where("category","==",$e),orderBy$1("isPinned","desc"),orderBy$1("createdAt","desc")),Ue=await getDocs(Be),ze=[];return Ue.forEach(qe=>{const He=qe.data();ze.push({id:qe.id,...He,publishDate:He.publishDate||new Date().toISOString().split("T")[0],createdAt:He.createdAt?.toDate?.()||new Date,updatedAt:He.updatedAt?.toDate?.()||new Date})}),{success:!0,data:ze}}catch(Be){return console.error("     :",Be),{success:!1,error:Be.message,data:[]}}}static async getNoticesByPriority($e){try{const Be=query(collection(db,NOTICES_COLLECTION),where("priority","==",$e),orderBy$1("isPinned","desc"),orderBy$1("createdAt","desc")),Ue=await getDocs(Be),ze=[];return Ue.forEach(qe=>{const He=qe.data();ze.push({id:qe.id,...He,publishDate:He.publishDate||new Date().toISOString().split("T")[0],createdAt:He.createdAt?.toDate?.()||new Date,updatedAt:He.updatedAt?.toDate?.()||new Date})}),{success:!0,data:ze}}catch(Be){return console.error("     :",Be),{success:!1,error:Be.message,data:[]}}}static async getActiveNotices(){try{const $e=query(collection(db,NOTICES_COLLECTION),where("status","==","active"),orderBy$1("isPinned","desc"),orderBy$1("createdAt","desc")),Be=await getDocs($e),Ue=[];return Be.forEach(ze=>{const qe=ze.data();Ue.push({id:ze.id,...qe,publishDate:qe.publishDate||new Date().toISOString().split("T")[0],createdAt:qe.createdAt?.toDate?.()||new Date,updatedAt:qe.updatedAt?.toDate?.()||new Date})}),{success:!0,data:Ue}}catch($e){return console.error("    :",$e),{success:!1,error:$e.message,data:[]}}}static async getPinnedNotices(){try{const $e=query(collection(db,NOTICES_COLLECTION),where("isPinned","==",!0),orderBy$1("createdAt","desc")),Be=await getDocs($e),Ue=[];return Be.forEach(ze=>{const qe=ze.data();Ue.push({id:ze.id,...qe,publishDate:qe.publishDate||new Date().toISOString().split("T")[0],createdAt:qe.createdAt?.toDate?.()||new Date,updatedAt:qe.updatedAt?.toDate?.()||new Date})}),{success:!0,data:Ue}}catch($e){return console.error("     :",$e),{success:!1,error:$e.message,data:[]}}}static async getNoticeById($e){try{const Be=doc(db,NOTICES_COLLECTION,$e),Ue=await getDoc(Be);if(Ue.exists()){const ze=Ue.data();return{success:!0,data:{id:Ue.id,...ze,publishDate:ze.publishDate||new Date().toISOString().split("T")[0],createdAt:ze.createdAt?.toDate?.()||new Date,updatedAt:ze.updatedAt?.toDate?.()||new Date}}}else return{success:!1,error:"  "}}catch(Be){return console.error("   :",Be),{success:!1,error:Be.message}}}static async updateNotice($e,Be){try{const Ue=doc(db,NOTICES_COLLECTION,$e);return await updateDoc(Ue,{...Be,updatedAt:serverTimestamp()}),{success:!0}}catch(Ue){return console.error("   :",Ue),{success:!1,error:Ue.message}}}static async deleteNotice($e){try{const Be=doc(db,NOTICES_COLLECTION,$e);return await deleteDoc(Be),{success:!0}}catch(Be){return console.error("  :",Be),{success:!1,error:Be.message}}}static async incrementViews($e){try{const Be=doc(db,NOTICES_COLLECTION,$e);return await updateDoc(Be,{views:increment(1),updatedAt:serverTimestamp()}),{success:!0}}catch(Be){return console.error("    :",Be),{success:!1,error:Be.message}}}static async togglePin($e,Be){try{const Ue=doc(db,NOTICES_COLLECTION,$e);return await updateDoc(Ue,{isPinned:!Be,updatedAt:serverTimestamp()}),{success:!0}}catch(Ue){return console.error("    :",Ue),{success:!1,error:Ue.message}}}static async updateStatus($e,Be){try{const Ue=doc(db,NOTICES_COLLECTION,$e);return await updateDoc(Ue,{status:Be,updatedAt:serverTimestamp()}),{success:!0}}catch(Ue){return console.error("    :",Ue),{success:!1,error:Ue.message}}}static async searchNotices($e){try{const Be=await this.getAllNotices();return Be.success?{success:!0,data:Be.data.filter(ze=>ze.title.toLowerCase().includes($e.toLowerCase())||ze.content.toLowerCase().includes($e.toLowerCase())||ze.tags?.some(qe=>qe.toLowerCase().includes($e.toLowerCase())))}:Be}catch(Be){return console.error("  :",Be),{success:!1,error:Be.message,data:[]}}}static async getNoticesStats(){try{const $e=await this.getAllNotices();if(!$e.success)return{success:!1,error:$e.error};const Be=$e.data;return{success:!0,data:{total:Be.length,active:Be.filter(ze=>ze.status==="active").length,pinned:Be.filter(ze=>ze.isPinned).length,expiring:Be.filter(ze=>this.isExpiringSoon(ze.expiryDate)).length}}}catch($e){return console.error("    :",$e),{success:!1,error:$e.message}}}static isExpiringSoon($e){if(!$e)return!1;const Be=new Date,ze=new Date($e)-Be,qe=Math.ceil(ze/(1e3*60*60*24));return qe<=7&&qe>=0}}const NoticeBoard=()=>{const{user:Ve}=useAuth(),[$e,Be]=reactExports.useState(""),[Ue,ze]=reactExports.useState("all"),[qe,He]=reactExports.useState("all"),[We,Ge]=reactExports.useState(!1),[Ye,Xe]=reactExports.useState(!1),[Je,er]=reactExports.useState(null),[Ze,rr]=reactExports.useState([]),[nr,ar]=reactExports.useState(!0),[sr,lr]=reactExports.useState(null),[or,cr]=reactExports.useState({total:0,active:0,pinned:0,expiring:0}),[hr,yr]=reactExports.useState({title:"",content:"",category:"announcement",priority:"medium",expiryDate:"",tags:"",isPinned:!1,attachments:[]});reactExports.useEffect(()=>{console.log("NoticeBoard mounted",{role:Ve?.role}),mr(),vr()},[]);const mr=async()=>{try{ar(!0),lr(null);const Lr=await NoticeService.getAllNotices();Lr.success?rr(Lr.data):(lr(Lr.error),console.error("Failed to load notices:",Lr.error))}catch(Lr){lr("    "),console.error("Error loading notices:",Lr)}finally{ar(!1)}},vr=async()=>{try{const Lr=await NoticeService.getNoticesStats();Lr.success&&cr(Lr.data)}catch(Lr){console.error("Error loading stats:",Lr)}},_r=async()=>{try{const Lr={...hr,tags:hr.tags?hr.tags.split(",").map(Tr=>Tr.trim()):[],author:" ",authorRole:"",attachments:hr.attachments||[]},Pr=await NoticeService.addNotice(Lr);Pr.success?(Ge(!1),yr({title:"",content:"",category:"announcement",priority:"medium",expiryDate:"",tags:"",isPinned:!1,attachments:[]}),await mr(),await vr()):lr(Pr.error)}catch(Lr){lr("    "),console.error("Error creating notice:",Lr)}},Cr=async Lr=>{try{await NoticeService.incrementViews(Lr.id),er({...Lr,views:(Lr.views||0)+1}),Xe(!0)}catch(Pr){console.error("Error incrementing views:",Pr),er(Lr),Xe(!0)}},br=async Lr=>{if(window.confirm("      ?"))try{const Pr=await NoticeService.deleteNotice(Lr);Pr.success?(await mr(),await vr()):lr(Pr.error)}catch(Pr){lr("   "),console.error("Error deleting notice:",Pr)}},fr=async Lr=>{try{const Pr=await NoticeService.togglePin(Lr.id,Lr.isPinned);Pr.success?(await mr(),await vr()):lr(Pr.error)}catch(Pr){lr("     "),console.error("Error toggling pin:",Pr)}},Sr=[{value:"all",label:" "},{value:"announcement",label:"",icon:Bell},{value:"meeting",label:"",icon:Users},{value:"decision",label:"",icon:CircleCheckBig},{value:"information",label:"",icon:CircleAlert},{value:"policy",label:"",icon:FileText}],Dr=[{value:"all",label:" "},{value:"high",label:"",color:"text-red-600 bg-red-100"},{value:"medium",label:"",color:"text-yellow-600 bg-yellow-100"},{value:"low",label:"",color:"text-green-600 bg-green-100"}],Er=Ze.filter(Lr=>{const Pr=Lr.title.toLowerCase().includes($e.toLowerCase())||Lr.content.toLowerCase().includes($e.toLowerCase())||Lr.author.toLowerCase().includes($e.toLowerCase()),Tr=Ue==="all"||Lr.category===Ue,Vr=qe==="all"||Lr.priority===qe;return Pr&&Tr&&Vr}).sort((Lr,Pr)=>Lr.isPinned&&!Pr.isPinned?-1:!Lr.isPinned&&Pr.isPinned?1:new Date(Pr.publishDate||Pr.createdAt)-new Date(Lr.publishDate||Lr.createdAt)),Nr=Lr=>{const Pr=Sr.find(Tr=>Tr.value===Lr);return Pr?Pr.icon:Bell},wr=Lr=>Lr?new Date(Lr).toLocaleDateString("bn-BD"):" ",Ar=(Lr,Pr)=>{yr(Tr=>({...Tr,[Lr]:Pr}))};return nr?jsxRuntimeExports.jsx("div",{className:"notice-board",children:jsxRuntimeExports.jsx("div",{className:"notice-loading",children:jsxRuntimeExports.jsx(LoadingAnimation,{})})}):sr?jsxRuntimeExports.jsx("div",{className:"notice-board",children:jsxRuntimeExports.jsxs("div",{className:"notice-error",children:[jsxRuntimeExports.jsx(CircleAlert,{size:48}),jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("p",{children:sr}),jsxRuntimeExports.jsx("button",{onClick:mr,className:"retry-button",children:"  "})]})}):jsxRuntimeExports.jsxs("div",{className:"notice-board",children:[jsxRuntimeExports.jsxs("div",{className:"notice-board__container",children:[jsxRuntimeExports.jsxs("div",{className:"notice-board__header",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"notice-board__title",children:" "}),jsxRuntimeExports.jsx("p",{className:"notice-board__subtitle",children:"    "})]}),Ve?.role==="admin"&&jsxRuntimeExports.jsxs("button",{onClick:()=>Ge(!0),className:"notice-board__create-btn",children:[jsxRuntimeExports.jsx(Plus,{size:16})," "]})]}),jsxRuntimeExports.jsxs("div",{className:"notice-board__summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-card",children:[jsxRuntimeExports.jsx("div",{className:"summary-card__icon summary-card__icon--total",children:jsxRuntimeExports.jsx(FileText,{size:20})}),jsxRuntimeExports.jsxs("div",{className:"summary-card__content",children:[jsxRuntimeExports.jsx("h3",{children:or.total}),jsxRuntimeExports.jsx("p",{children:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:"summary-card",children:[jsxRuntimeExports.jsx("div",{className:"summary-card__icon summary-card__icon--active",children:jsxRuntimeExports.jsx(CircleCheckBig,{size:20})}),jsxRuntimeExports.jsxs("div",{className:"summary-card__content",children:[jsxRuntimeExports.jsx("h3",{children:or.active}),jsxRuntimeExports.jsx("p",{children:" "})]})]}),jsxRuntimeExports.jsxs("div",{className:"summary-card",children:[jsxRuntimeExports.jsx("div",{className:"summary-card__icon summary-card__icon--pinned",children:jsxRuntimeExports.jsx(Pin,{size:20})}),jsxRuntimeExports.jsxs("div",{className:"summary-card__content",children:[jsxRuntimeExports.jsx("h3",{children:or.pinned}),jsxRuntimeExports.jsx("p",{children:"  "})]})]}),jsxRuntimeExports.jsxs("div",{className:"summary-card",children:[jsxRuntimeExports.jsx("div",{className:"summary-card__icon summary-card__icon--expiring",children:jsxRuntimeExports.jsx(Clock,{size:20})}),jsxRuntimeExports.jsxs("div",{className:"summary-card__content",children:[jsxRuntimeExports.jsx("h3",{children:or.expiring}),jsxRuntimeExports.jsx("p",{children:"  "})]})]})]}),jsxRuntimeExports.jsx("div",{className:"notice-board__filters",children:jsxRuntimeExports.jsxs("div",{className:"filters-row",children:[jsxRuntimeExports.jsx(SearchInput,{value:$e,onChange:Be,placeholder:" ...",className:"search-input"}),jsxRuntimeExports.jsx("select",{value:Ue,onChange:Lr=>ze(Lr.target.value),className:"filter-select",children:Sr.map(Lr=>jsxRuntimeExports.jsx("option",{value:Lr.value,children:Lr.label},Lr.value))}),jsxRuntimeExports.jsx("select",{value:qe,onChange:Lr=>He(Lr.target.value),className:"filter-select",children:Dr.map(Lr=>jsxRuntimeExports.jsx("option",{value:Lr.value,children:Lr.label},Lr.value))})]})}),jsxRuntimeExports.jsx("div",{className:"notice-board__content",children:Er.length===0?jsxRuntimeExports.jsxs("div",{className:"notice-board__empty",children:[jsxRuntimeExports.jsx(FileText,{size:48}),jsxRuntimeExports.jsx("h3",{children:"   "}),jsxRuntimeExports.jsx("p",{children:"       "})]}):jsxRuntimeExports.jsx("div",{className:"notices-grid",children:Er.map(Lr=>{const Pr=Nr(Lr.category);return jsxRuntimeExports.jsxs("div",{className:"notice-card",children:[Lr.isPinned&&jsxRuntimeExports.jsx("div",{className:"notice-card__pin",children:jsxRuntimeExports.jsx(Pin,{size:14})}),jsxRuntimeExports.jsxs("div",{className:"notice-card__header",children:[jsxRuntimeExports.jsxs("div",{className:"notice-card__category",children:[jsxRuntimeExports.jsx(Pr,{size:16}),jsxRuntimeExports.jsx("span",{children:Sr.find(Tr=>Tr.value===Lr.category)?.label})]}),jsxRuntimeExports.jsxs("div",{className:"notice-card__actions",children:[jsxRuntimeExports.jsx("button",{onClick:()=>fr(Lr),className:`action-btn ${Lr.isPinned?"action-btn--pinned":""}`,title:Lr.isPinned?" ":" ",children:jsxRuntimeExports.jsx(Pin,{size:14})}),jsxRuntimeExports.jsx("button",{onClick:()=>Cr(Lr),className:"action-btn",title:" ",children:jsxRuntimeExports.jsx(Eye,{size:14})}),jsxRuntimeExports.jsx("button",{onClick:()=>br(Lr.id),className:"action-btn action-btn--danger",title:" ",children:jsxRuntimeExports.jsx(Trash2,{size:14})})]})]}),jsxRuntimeExports.jsxs("div",{className:"notice-card__content",children:[jsxRuntimeExports.jsx("h3",{className:"notice-card__title",children:Lr.title}),jsxRuntimeExports.jsx("p",{className:"notice-card__excerpt",children:Lr.content.length>120?Lr.content.substring(0,120)+"...":Lr.content})]}),jsxRuntimeExports.jsxs("div",{className:"notice-card__meta",children:[jsxRuntimeExports.jsxs("div",{className:"notice-meta",children:[jsxRuntimeExports.jsx("span",{className:"notice-meta__author",children:Lr.author}),jsxRuntimeExports.jsxs("span",{className:"notice-meta__role",children:["(",Lr.authorRole,")"]})]}),jsxRuntimeExports.jsx("div",{className:"notice-meta",children:jsxRuntimeExports.jsx("span",{className:"notice-meta__date",children:wr(Lr.publishDate||Lr.createdAt)})})]}),jsxRuntimeExports.jsxs("div",{className:"notice-card__footer",children:[jsxRuntimeExports.jsxs("div",{className:"notice-badges",children:[jsxRuntimeExports.jsx("span",{className:`priority-badge priority-badge--${Lr.priority}`,children:Dr.find(Tr=>Tr.value===Lr.priority)?.label}),jsxRuntimeExports.jsx("span",{className:`status-badge status-badge--${Lr.status}`,children:Lr.status==="active"?"":Lr.status==="draft"?"":" "})]}),jsxRuntimeExports.jsx("div",{className:"notice-stats",children:jsxRuntimeExports.jsxs("span",{className:"notice-stats__views",children:[jsxRuntimeExports.jsx(Eye,{size:12}),Lr.views||0]})})]})]},Lr.id)})})})]}),We&&jsxRuntimeExports.jsx(Modal,{onClose:()=>Ge(!1),children:jsxRuntimeExports.jsxs("div",{className:"modal__content",children:[jsxRuntimeExports.jsxs("div",{className:"modal__header",children:[jsxRuntimeExports.jsx("h2",{className:"modal__title",children:"   "}),jsxRuntimeExports.jsx("button",{onClick:()=>Ge(!1),className:"modal__close",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Lr=>{Lr.preventDefault(),_r()},className:"modal__form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:"  *"}),jsxRuntimeExports.jsx("input",{type:"text",required:!0,value:hr.title,onChange:Lr=>Ar("title",Lr.target.value),className:"form-input",placeholder:"  "})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:"  *"}),jsxRuntimeExports.jsx("textarea",{required:!0,value:hr.content,onChange:Lr=>Ar("content",Lr.target.value),className:"form-textarea",placeholder:"   ",rows:"4"})]}),jsxRuntimeExports.jsxs("div",{className:"form-grid",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" *"}),jsxRuntimeExports.jsx("select",{required:!0,value:hr.category,onChange:Lr=>Ar("category",Lr.target.value),className:"form-select",children:Sr.filter(Lr=>Lr.value!=="all").map(Lr=>jsxRuntimeExports.jsx("option",{value:Lr.value,children:Lr.label},Lr.value))})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:" *"}),jsxRuntimeExports.jsx("select",{required:!0,value:hr.priority,onChange:Lr=>Ar("priority",Lr.target.value),className:"form-select",children:Dr.filter(Lr=>Lr.value!=="all").map(Lr=>jsxRuntimeExports.jsx("option",{value:Lr.value,children:Lr.label},Lr.value))})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-grid",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:"  "}),jsxRuntimeExports.jsx("input",{type:"date",value:hr.expiryDate,onChange:Lr=>Ar("expiryDate",Lr.target.value),className:"form-input"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"form-label",children:""}),jsxRuntimeExports.jsx("input",{type:"text",value:hr.tags,onChange:Lr=>Ar("tags",Lr.target.value),className:"form-input",placeholder:"   "})]})]}),jsxRuntimeExports.jsx("div",{className:"form-group",children:jsxRuntimeExports.jsxs("label",{className:"form-checkbox",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:hr.isPinned,onChange:Lr=>Ar("isPinned",Lr.target.checked)}),jsxRuntimeExports.jsx("span",{className:"checkbox-label",children:"   "})]})}),jsxRuntimeExports.jsxs("div",{className:"modal__actions",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ge(!1),className:"btn btn--secondary",children:""}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn btn--primary",children:[jsxRuntimeExports.jsx(Send,{size:16}),"  "]})]})]})]})}),Ye&&Je&&jsxRuntimeExports.jsx(Modal,{onClose:()=>Xe(!1),children:jsxRuntimeExports.jsxs("div",{className:"modal__content modal__content--large",children:[jsxRuntimeExports.jsxs("div",{className:"modal__header",children:[jsxRuntimeExports.jsx("h2",{className:"modal__title",children:Je.title}),jsxRuntimeExports.jsx("button",{onClick:()=>Xe(!1),className:"modal__close",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"notice-details",children:[jsxRuntimeExports.jsx("div",{className:"notice-details__meta",children:jsxRuntimeExports.jsxs("div",{className:"notice-meta-grid",children:[jsxRuntimeExports.jsxs("div",{className:"meta-item",children:[jsxRuntimeExports.jsx("span",{className:"meta-label",children:":"}),jsxRuntimeExports.jsxs("span",{className:"meta-value",children:[Je.author," (",Je.authorRole,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"meta-item",children:[jsxRuntimeExports.jsx("span",{className:"meta-label",children:" :"}),jsxRuntimeExports.jsx("span",{className:"meta-value",children:wr(Je.publishDate||Je.createdAt)})]}),jsxRuntimeExports.jsxs("div",{className:"meta-item",children:[jsxRuntimeExports.jsx("span",{className:"meta-label",children:":"}),jsxRuntimeExports.jsx("span",{className:"meta-value",children:Sr.find(Lr=>Lr.value===Je.category)?.label})]}),jsxRuntimeExports.jsxs("div",{className:"meta-item",children:[jsxRuntimeExports.jsx("span",{className:"meta-label",children:":"}),jsxRuntimeExports.jsx("span",{className:`priority-badge priority-badge--${Je.priority}`,children:Dr.find(Lr=>Lr.value===Je.priority)?.label})]}),Je.expiryDate&&jsxRuntimeExports.jsxs("div",{className:"meta-item",children:[jsxRuntimeExports.jsx("span",{className:"meta-label",children:" :"}),jsxRuntimeExports.jsx("span",{className:"meta-value",children:wr(Je.expiryDate)})]}),jsxRuntimeExports.jsxs("div",{className:"meta-item",children:[jsxRuntimeExports.jsx("span",{className:"meta-label",children:" :"}),jsxRuntimeExports.jsxs("span",{className:"meta-value",children:[Je.views||0," "]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"notice-details__content",children:[jsxRuntimeExports.jsx("h3",{children:" "}),jsxRuntimeExports.jsx("div",{className:"notice-content",children:Je.content})]}),Je.tags&&Je.tags.length>0&&jsxRuntimeExports.jsxs("div",{className:"notice-details__tags",children:[jsxRuntimeExports.jsx("h4",{children:""}),jsxRuntimeExports.jsx("div",{className:"tags-list",children:Je.tags.map((Lr,Pr)=>jsxRuntimeExports.jsxs("span",{className:"tag",children:["#",Lr]},Pr))})]}),Je.attachments&&Je.attachments.length>0&&jsxRuntimeExports.jsxs("div",{className:"notice-details__attachments",children:[jsxRuntimeExports.jsx("h4",{children:""}),jsxRuntimeExports.jsx("div",{className:"attachments-list",children:Je.attachments.map((Lr,Pr)=>jsxRuntimeExports.jsxs("div",{className:"attachment-item",children:[jsxRuntimeExports.jsx(Paperclip,{size:16}),jsxRuntimeExports.jsx("span",{children:Lr})]},Pr))})]})]})]})})]})},ProfileSettings=()=>{const[Ve,$e]=reactExports.useState("profile"),[Be,Ue]=reactExports.useState(!1),[ze,qe]=reactExports.useState(!1),[He,We]=reactExports.useState(!1),[Ge,Ye]=reactExports.useState({name:"  ",memberId:"SM-001",phone:"",email:"rahim@example.com",address:", ",joinDate:"--",membershipType:" ",nidNumber:"",emergencyContact:"",occupation:""}),[Xe,Je]=reactExports.useState({emailNotifications:!0,smsNotifications:!0,pushNotifications:!0,monthlyStatements:!0,paymentReminders:!0,meetingNotifications:!0,profitDistribution:!0,systemUpdates:!1}),[er,Ze]=reactExports.useState({twoFactorAuth:!1,loginAlerts:!0,sessionTimeout:"30",passwordExpiry:"90"}),[rr,nr]=reactExports.useState({language:"bn",theme:"light",currency:"BDT",dateFormat:"dd/mm/yyyy",soundEnabled:!0,autoLogout:!0}),[ar,sr]=reactExports.useState({currentPassword:"",newPassword:"",confirmPassword:""}),lr=()=>{console.log("Profile updated:",Ge),We(!1)},or=()=>{if(ar.newPassword!==ar.confirmPassword){alert("   ");return}console.log("Password changed"),sr({currentPassword:"",newPassword:"",confirmPassword:""})},cr=_r=>{Je(Cr=>({...Cr,[_r]:!Cr[_r]}))},hr=(_r,Cr)=>{Ze(br=>({...br,[_r]:Cr}))},yr=(_r,Cr)=>{nr(br=>({...br,[_r]:Cr}))},mr=()=>{console.log("Exporting user data...")},vr=()=>{confirm("        ?")&&console.log("Account deletion requested")};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"  "}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-1",children:"      "})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-card p-4",children:jsxRuntimeExports.jsx("nav",{className:"space-y-2",children:[{id:"profile",label:" ",icon:User},{id:"security",label:"",icon:Shield},{id:"notifications",label:"",icon:Bell},{id:"preferences",label:"",icon:Settings},{id:"data",label:" ",icon:Download}].map(_r=>jsxRuntimeExports.jsxs("button",{onClick:()=>$e(_r.id),className:`w-full flex items-center px-3 py-2 text-left rounded-lg transition-colors ${Ve===_r.id?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"}`,children:[jsxRuntimeExports.jsx(_r.icon,{className:"h-4 w-4 mr-3"}),_r.label]},_r.id))})})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-3",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-card p-6",children:[Ve==="profile"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" "}),jsxRuntimeExports.jsxs("button",{onClick:()=>We(!He),className:"flex items-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-600",children:[jsxRuntimeExports.jsx(PenLine,{className:"h-4 w-4 mr-2"}),He?"":""]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"h-12 w-12 text-gray-400"})}),He&&jsxRuntimeExports.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-primary text-white rounded-full hover:bg-blue-600",children:jsxRuntimeExports.jsx(Camera,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900",children:Ge.name}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:[" : ",Ge.memberId]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:Ge.membershipType})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:Ge.name,onChange:_r=>Ye({...Ge,name:_r.target.value}),disabled:!He,className:"form-input disabled:bg-gray-50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),jsxRuntimeExports.jsx("input",{type:"tel",value:Ge.phone,onChange:_r=>Ye({...Ge,phone:_r.target.value}),disabled:!He,className:"form-input disabled:bg-gray-50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),jsxRuntimeExports.jsx("input",{type:"email",value:Ge.email,onChange:_r=>Ye({...Ge,email:_r.target.value}),disabled:!He,className:"form-input disabled:bg-gray-50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),jsxRuntimeExports.jsx("input",{type:"text",value:Ge.nidNumber,onChange:_r=>Ye({...Ge,nidNumber:_r.target.value}),disabled:!He,className:"form-input disabled:bg-gray-50"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),jsxRuntimeExports.jsx("textarea",{rows:3,value:Ge.address,onChange:_r=>Ye({...Ge,address:_r.target.value}),disabled:!He,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent disabled:bg-gray-50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),jsxRuntimeExports.jsx("input",{type:"text",value:Ge.occupation,onChange:_r=>Ye({...Ge,occupation:_r.target.value}),disabled:!He,className:"form-input disabled:bg-gray-50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),jsxRuntimeExports.jsx("input",{type:"tel",value:Ge.emergencyContact,onChange:_r=>Ye({...Ge,emergencyContact:_r.target.value}),disabled:!He,className:"form-input disabled:bg-gray-50"})]})]}),He&&jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>We(!1),className:"btn-secondary",children:""}),jsxRuntimeExports.jsxs("button",{onClick:lr,className:"flex items-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-600",children:[jsxRuntimeExports.jsx(Save,{className:"h-4 w-4 mr-2"})," "]})]})]}),Ve==="security"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" "}),jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:" "}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:Be?"text":"password",value:ar.currentPassword,onChange:_r=>sr({...ar,currentPassword:_r.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ue(!Be),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:Be?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),jsxRuntimeExports.jsx("input",{type:"password",value:ar.newPassword,onChange:_r=>sr({...ar,newPassword:_r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"   "}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:ze?"text":"password",value:ar.confirmPassword,onChange:_r=>sr({...ar,confirmPassword:_r.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>qe(!ze),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:ze?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("button",{onClick:or,className:"flex items-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-600",children:[jsxRuntimeExports.jsx(Lock,{className:"h-4 w-4 mr-2"}),"  "]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:" "}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900",children:"- "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"   SMS "})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:er.twoFactorAuth,onChange:_r=>hr("twoFactorAuth",_r.target.checked),className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"      "})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:er.loginAlerts,onChange:_r=>hr("loginAlerts",_r.target.checked),className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),jsxRuntimeExports.jsxs("select",{value:er.sessionTimeout,onChange:_r=>hr("sessionTimeout",_r.target.value),className:"form-select",children:[jsxRuntimeExports.jsx("option",{value:"15",children:" "}),jsxRuntimeExports.jsx("option",{value:"30",children:" "}),jsxRuntimeExports.jsx("option",{value:"60",children:" "}),jsxRuntimeExports.jsx("option",{value:"120",children:" "})]})]})]})]})]}),Ve==="notifications"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" "}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:" ",desc:"    "},{key:"smsNotifications",label:"SMS ",desc:"    "},{key:"pushNotifications",label:" ",desc:"  "},{key:"monthlyStatements",label:" ",desc:"    "},{key:"paymentReminders",label:" ",desc:"   "},{key:"meetingNotifications",label:" ",desc:"    "},{key:"profitDistribution",label:" ",desc:"   "},{key:"systemUpdates",label:" ",desc:"    "}].map(_r=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900",children:_r.label}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:_r.desc})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Xe[_r.key],onChange:()=>cr(_r.key),className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},_r.key))})]}),Ve==="preferences"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" "}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),jsxRuntimeExports.jsxs("select",{value:rr.language,onChange:_r=>yr("language",_r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"bn",children:""}),jsxRuntimeExports.jsx("option",{value:"en",children:"English"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),jsxRuntimeExports.jsxs("select",{value:rr.theme,onChange:_r=>yr("theme",_r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"light",children:""}),jsxRuntimeExports.jsx("option",{value:"dark",children:""}),jsxRuntimeExports.jsx("option",{value:"auto",children:""})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),jsxRuntimeExports.jsxs("select",{value:rr.currency,onChange:_r=>yr("currency",_r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"BDT",children:"  ()"}),jsxRuntimeExports.jsx("option",{value:"USD",children:"US Dollar ($)"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),jsxRuntimeExports.jsxs("select",{value:rr.dateFormat,onChange:_r=>yr("dateFormat",_r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[jsxRuntimeExports.jsx("option",{value:"dd/mm/yyyy",children:"//"}),jsxRuntimeExports.jsx("option",{value:"mm/dd/yyyy",children:"//"}),jsxRuntimeExports.jsx("option",{value:"yyyy-mm-dd",children:"--"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:rr.soundEnabled,onChange:_r=>yr("soundEnabled",_r.target.checked),className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:rr.autoLogout,onChange:_r=>yr("autoLogout",_r.target.checked),className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),Ve==="data"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" "}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),jsxRuntimeExports.jsxs("button",{onClick:mr,className:"flex items-center px-4 py-2 bg-secondary text-white rounded-lg hover:bg-teal-600",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"})," "]})]})}),jsxRuntimeExports.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:" "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"})," "]})]})}),jsxRuntimeExports.jsx("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-red-900",children:"  "}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-700 mt-1",children:"           "}),jsxRuntimeExports.jsxs("button",{onClick:vr,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 mt-3",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-2"}),"  "]})]})]})})]})]})]})})]})]})},MemberSettings=()=>{console.log("MemberSettings component module loaded.");const[Ve,$e]=reactExports.useState("profile"),[Be,Ue]=reactExports.useState(""),[ze,qe]=reactExports.useState(!0),[He,We]=reactExports.useState([]),[Ge,Ye]=reactExports.useState(""),{currentUser:Xe}=useUser();console.log("MemberSettings component rendered.");const[Je,er]=reactExports.useState({name:"",somiti_user_id:"",phone:"",email:"",address:"",role:"",status:"",shareCount:"",joiningDate:"",nomineeName:"",nomineePhone:"",nomineeRelation:"",user_id:"",createdAt:"",updatedAt:""});reactExports.useEffect(()=>((async()=>{if(Xe&&Xe.uid)try{console.log("Fetching member data for UID:",Xe.uid);const Cr=doc(db,"members",Xe.uid),br=await getDoc(Cr);if(br.exists()){const fr=br.data();console.log("Member data found:",fr);const Er=(await getDocs(collection(db,"members"))).docs.map(wr=>({id:wr.id,...wr.data()})).sort((wr,Ar)=>{const Lr=wr.joiningDate||wr.createdAt?.toDate?.()?.toISOString()?.split("T")[0]||new Date().toISOString().split("T")[0],Pr=Ar.joiningDate||Ar.createdAt?.toDate?.()?.toISOString()?.split("T")[0]||new Date().toISOString().split("T")[0],Tr=new Date(Lr),Vr=new Date(Pr);if(Tr.getTime()!==Vr.getTime())return Tr-Vr;const Ur=wr.createdAt?.toDate?.()||new Date(wr.createdAt)||new Date(0),Yr=Ar.createdAt?.toDate?.()||new Date(Ar.createdAt)||new Date(0);return Ur.getTime()===Yr.getTime()?wr.id.localeCompare(Ar.id):Ur-Yr}).findIndex(wr=>wr.id===Xe.uid),Nr=Er!==-1?Er+1:"";console.log("Calculated somiti_user_id:",Nr),er({name:fr.name||"",somiti_user_id:Nr,phone:fr.phone||"",email:fr.email||"",address:fr.address||"",role:fr.role||"member",status:fr.status||"active",shareCount:fr.shareCount||"0",joiningDate:fr.joiningDate||"",nomineeName:fr.nomineeName||"",nomineePhone:fr.nomineePhone||"",nomineeRelation:fr.nomineeRelation||"",user_id:fr.user_id||Xe.uid,createdAt:fr.createdAt||"",updatedAt:fr.updatedAt||""})}else console.log("No such document!")}catch(Cr){console.error("Error fetching member data:",Cr)}finally{qe(!1)}else qe(!1),console.log("No current user found.")})(),(async()=>{const Cr=Xe?.uid||localStorage.getItem("somiti_uid"),{data:br,error:fr}=await fetchLoginHistory(Cr);fr?Ye("    "):We(br||[])})(),()=>{console.log("MemberSettings component unmounted.")}),[Xe]);const[Ze,rr]=reactExports.useState({accountUpdates:!0,paymentReminders:!0,meetingNotifications:!0,loanAlerts:!0}),[nr,ar]=reactExports.useState({twoFactorAuth:!1,loginAlerts:!0,passwordExpiry:"90"}),[sr,lr]=reactExports.useState({language:"bn",theme:"light",currency:"BDT",dateFormat:"dd/mm/yyyy"}),or=vr=>{console.log(`Notification setting toggled: ${vr}`),rr(_r=>({..._r,[vr]:!_r[vr]}))},cr=(vr,_r)=>{console.log(`System preference changed: ${vr} = ${_r}`),lr(Cr=>({...Cr,[vr]:_r}))},hr=async()=>{if(!Xe||!Xe.uid){console.error("No user logged in or user ID is missing"),Ue("error"),setTimeout(()=>Ue(""),2e3);return}console.log("Saving changes for user:",Xe.uid),Ue("saving");try{const vr=doc(db,"members",Xe.uid);await updateDoc(vr,{...Je,notificationSettings:Ze,securitySettings:nr,systemPreferences:sr,updatedAt:new Date().toISOString()}),Ue("success"),console.log("Changes saved successfully.")}catch(vr){console.error("Error updating document: ",vr),Ue("error")}finally{setTimeout(()=>Ue(""),2e3)}},yr=[{id:"profile",label:"",icon:User},{id:"system",label:"",icon:Settings},{id:"history",label:" ",icon:FileText}],mr=[{key:"accountUpdates",title:" ",desc:"    "},{key:"paymentReminders",title:" ",desc:"      "},{key:"meetingNotifications",title:" ",desc:"    "},{key:"loanAlerts",title:" ",desc:"     "}];return ze?(console.log("Loading state is true, showing loading animation."),jsxRuntimeExports.jsx(LoadingAnimation,{})):(console.log("Final render of MemberSettings component."),jsxRuntimeExports.jsx("div",{className:"member-settings",children:jsxRuntimeExports.jsxs("div",{className:"member-settings-container",children:[jsxRuntimeExports.jsxs("div",{className:"member-settings-header",children:[jsxRuntimeExports.jsx("h1",{className:"member-settings-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"member-settings-subtitle",children:"     "})]}),jsxRuntimeExports.jsx("div",{className:"member-settings-tabs",children:yr.map(vr=>jsxRuntimeExports.jsxs("button",{onClick:()=>{console.log(`Switched to tab: ${vr.id}`),$e(vr.id)},className:`member-tab ${Ve===vr.id?"active":""}`,children:[jsxRuntimeExports.jsx(vr.icon,{className:"tab-icon"}),vr.label]},vr.id))}),jsxRuntimeExports.jsxs("div",{className:"member-tab-content",children:[Ve==="profile"&&jsxRuntimeExports.jsxs("div",{className:"profile-section",children:[jsxRuntimeExports.jsxs("div",{className:"readonly-notice",children:[jsxRuntimeExports.jsx("span",{className:"readonly-notice-icon",children:""}),jsxRuntimeExports.jsx("p",{className:"readonly-notice-text",children:"          "})]}),jsxRuntimeExports.jsxs("div",{className:"profile-section-header",children:[jsxRuntimeExports.jsx("div",{className:"profile-icon",children:jsxRuntimeExports.jsx(User,{})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"profile-section-title",children:" "}),jsxRuntimeExports.jsx("p",{className:"profile-section-subtitle",children:"     "})]})]}),jsxRuntimeExports.jsxs("div",{className:"profile-grid",children:[jsxRuntimeExports.jsxs("div",{className:"profile-group",children:[jsxRuntimeExports.jsx("h3",{className:"profile-group-title",children:" "}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:""}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.name||" "})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.somiti_user_id||" "})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.phone||" "})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:""}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.email||" "})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:""}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.role==="member"?"":Je.role||" "})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:""}),jsxRuntimeExports.jsx("span",{className:`profile-status ${Je.status==="active"?"profile-status-active":"profile-status-inactive"}`,children:Je.status==="active"?"":""})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field profile-field-full",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:""}),jsxRuntimeExports.jsx("span",{className:"profile-value profile-value-address",children:Je.address||" "})]})]}),jsxRuntimeExports.jsxs("div",{className:"profile-group",children:[jsxRuntimeExports.jsx("h3",{className:"profile-group-title",children:" "}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.shareCount||""})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.joiningDate||" "})]})]}),jsxRuntimeExports.jsxs("div",{className:"profile-group",children:[jsxRuntimeExports.jsx("h3",{className:"profile-group-title",children:" "}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.nomineeName||" "})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.nomineePhone||" "})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:"  "}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.nomineeRelation||" "})]})]}),jsxRuntimeExports.jsxs("div",{className:"profile-group",children:[jsxRuntimeExports.jsx("h3",{className:"profile-group-title",children:" "}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"profile-value profile-value-mono",children:Je.somiti_user_id||" "})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.createdAt&&Je.createdAt.toDate?new Date(Je.createdAt.toDate()).toLocaleDateString("bn-BD"):" "})]}),jsxRuntimeExports.jsxs("div",{className:"profile-field",children:[jsxRuntimeExports.jsx("label",{className:"profile-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"profile-value",children:Je.updatedAt?new Date(Je.updatedAt).toLocaleDateString("bn-BD"):" "})]})]})]})]}),Ve==="notifications"&&jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsx("h2",{className:"settings-section-title",children:" "}),jsxRuntimeExports.jsx("div",{className:"settings-list",children:mr.map(vr=>jsxRuntimeExports.jsxs("div",{className:"settings-item",children:[jsxRuntimeExports.jsxs("div",{className:"settings-item-text",children:[jsxRuntimeExports.jsx("h3",{className:"settings-item-title",children:vr.title}),jsxRuntimeExports.jsx("p",{className:"settings-item-description",children:vr.desc})]}),jsxRuntimeExports.jsx("div",{className:"settings-item-control",children:jsxRuntimeExports.jsxs("label",{className:"toggle-switch",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Ze[vr.key],onChange:()=>or(vr.key)}),jsxRuntimeExports.jsx("span",{className:"toggle-slider"})]})})]},vr.key))})]}),Ve==="system"&&jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsx("h2",{className:"settings-section-title",children:" "}),jsxRuntimeExports.jsxs("div",{className:"settings-grid",children:[jsxRuntimeExports.jsxs("div",{className:"settings-item",children:[jsxRuntimeExports.jsx("div",{className:"settings-item-text",children:jsxRuntimeExports.jsx("h3",{className:"settings-item-title",children:""})}),jsxRuntimeExports.jsx("div",{className:"settings-item-control",children:jsxRuntimeExports.jsxs("select",{className:"settings-dropdown",value:sr.language,onChange:vr=>cr("language",vr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"bn",children:""}),jsxRuntimeExports.jsx("option",{value:"en",children:"English"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"settings-item",children:[jsxRuntimeExports.jsx("div",{className:"settings-item-text",children:jsxRuntimeExports.jsx("h3",{className:"settings-item-title",children:""})}),jsxRuntimeExports.jsx("div",{className:"settings-item-control",children:jsxRuntimeExports.jsxs("select",{className:"settings-dropdown",value:sr.theme,onChange:vr=>cr("theme",vr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"light",children:""}),jsxRuntimeExports.jsx("option",{value:"dark",children:""})]})})]}),jsxRuntimeExports.jsxs("div",{className:"settings-item",children:[jsxRuntimeExports.jsx("div",{className:"settings-item-text",children:jsxRuntimeExports.jsx("h3",{className:"settings-item-title",children:""})}),jsxRuntimeExports.jsx("div",{className:"settings-item-control",children:jsxRuntimeExports.jsxs("select",{className:"settings-dropdown",value:sr.currency,onChange:vr=>cr("currency",vr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"BDT",children:"  ()"}),jsxRuntimeExports.jsx("option",{value:"USD",children:"US Dollar ($)"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"settings-item",children:[jsxRuntimeExports.jsx("div",{className:"settings-item-text",children:jsxRuntimeExports.jsx("h3",{className:"settings-item-title",children:" "})}),jsxRuntimeExports.jsx("div",{className:"settings-item-control",children:jsxRuntimeExports.jsxs("select",{className:"settings-dropdown",value:sr.dateFormat,onChange:vr=>cr("dateFormat",vr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"dd/mm/yyyy",children:"DD/MM/YYYY"}),jsxRuntimeExports.jsx("option",{value:"mm/dd/yyyy",children:"MM/DD/YYYY"}),jsxRuntimeExports.jsx("option",{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})})]})]}),jsxRuntimeExports.jsx(ModeSwitcher,{}),jsxRuntimeExports.jsx("div",{className:"settings-footer",children:jsxRuntimeExports.jsxs("button",{onClick:hr,className:"btn btn-primary",children:[jsxRuntimeExports.jsx(Save,{className:"btn-icon"}),"  "]})})]}),Ve==="history"&&jsxRuntimeExports.jsxs("div",{className:"settings-section",children:[jsxRuntimeExports.jsx("h2",{className:"settings-section-title",children:" "}),Ge&&jsxRuntimeExports.jsx("div",{className:"inline-error",children:jsxRuntimeExports.jsx("span",{children:Ge})}),jsxRuntimeExports.jsx("div",{className:"history-list",children:He.length===0?jsxRuntimeExports.jsx("div",{className:"history-item",children:jsxRuntimeExports.jsx("div",{className:"history-meta-line",children:"      "})}):He.map((vr,_r)=>jsxRuntimeExports.jsxs("div",{className:"history-item",children:[jsxRuntimeExports.jsx("div",{className:"history-date",children:vr.created_at?.toDate?new Date(vr.created_at.toDate()).toLocaleString("bn-BD"):vr.created_at?new Date(vr.created_at).toLocaleString("bn-BD"):""}),jsxRuntimeExports.jsxs("div",{className:"history-meta-line",children:[": ",vr.meta?.ua||""]}),jsxRuntimeExports.jsxs("div",{className:"history-meta-line",children:[": ",vr.ip||""," | ",vr.meta?.country||"",vr.meta?.city?", "+vr.meta.city:""]})]},_r))})]}),Be&&jsxRuntimeExports.jsx("div",{className:`save-status ${Be==="success"?"success":"error"}`,children:Be==="success"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"status-icon"}),jsxRuntimeExports.jsx("span",{children:" !"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Shield,{className:"status-icon"}),jsxRuntimeExports.jsx("span",{children:" !"})]})})]})]})}))},SecretRoleSwitcher=()=>{const{user:Ve,switchRole:$e}=useAuth(),Be=useNavigate(),[Ue,ze]=reactExports.useState([]),[qe,He]=reactExports.useState(!0);reactExports.useEffect(()=>{console.log("[SecretRoleSwitcher] subscribing to feedbacks");const Xe=query(collection(db,"feedbacks"),orderBy$1("createdAt","desc")),Je=onSnapshot(Xe,er=>{const Ze=er.docs.map(rr=>({id:rr.id,...rr.data(),createdAt:rr.data().createdAt?.toDate()}));ze(Ze),He(!1)});return()=>{console.log("[SecretRoleSwitcher] unsubscribe feedbacks"),Je()}},[]);const We=async Xe=>{if(console.log("[SecretRoleSwitcher] delete feedback",Xe),!!window.confirm("Are you sure you want to delete this feedback?"))try{await deleteDoc(doc(db,"feedbacks",Xe)),zt$1.success("Feedback deleted")}catch(Je){console.error("Error deleting feedback:",Je),zt$1.error("Failed to delete feedback")}},Ge=Xe=>{console.log("[SecretRoleSwitcher] switch role",Xe),Xe.charAt(0).toUpperCase()+Xe.slice(1),localStorage.setItem("somiti_token","debug-token"),localStorage.setItem("somiti_uid","debug-user"),localStorage.setItem("somiti_role",Xe),alert(`Debug role activated: ${Xe}`);const Je={admin:"/admin",cashier:"/cashier",member:"/member"};window.location.hash=`#${Je[Xe]||"/member"}`,window.location.reload()},Ye=()=>{console.log("[SecretRoleSwitcher] go back"),Be(-1)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col lg:flex-row items-start justify-center p-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5 text-red-500"}),"Secret Role Switcher"]}),jsxRuntimeExports.jsxs("button",{onClick:Ye,className:"text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Current Role: ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-blue-600",children:Ve?.role})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Switch to:"}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ge("admin"),className:"w-full flex items-center gap-3 p-3 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",disabled:Ve?.role==="admin",children:[jsxRuntimeExports.jsx(Settings,{className:"w-5 h-5 text-red-500"}),jsxRuntimeExports.jsx("span",{children:"Admin"}),Ve?.role==="admin"&&jsxRuntimeExports.jsx("span",{className:"ml-auto text-xs text-green-600",children:"Current"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ge("cashier"),className:"w-full flex items-center gap-3 p-3 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",disabled:Ve?.role==="cashier",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-5 h-5 text-blue-500"}),jsxRuntimeExports.jsx("span",{children:"Cashier"}),Ve?.role==="cashier"&&jsxRuntimeExports.jsx("span",{className:"ml-auto text-xs text-green-600",children:"Current"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ge("member"),className:"w-full flex items-center gap-3 p-3 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",disabled:Ve?.role==="member",children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-green-500"}),jsxRuntimeExports.jsx("span",{children:"Member"}),Ve?.role==="member"&&jsxRuntimeExports.jsx("span",{className:"ml-auto text-xs text-green-600",children:"Current"})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mt-4 p-2 bg-gray-50 rounded",children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," This is a debug tool for development testing. Role changes are temporary and will reset on page refresh."]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-xs text-gray-400 text-center",children:"Access URL: /secret3278"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-4 w-full lg:max-w-2xl h-[70vh] lg:h-[80vh] flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4 border-b pb-4",children:jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-5 h-5 text-blue-500"}),"User Feedback",jsxRuntimeExports.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:Ue.length})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-1",children:qe?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading feedback..."}):Ue.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:"No feedback received yet"}):Ue.map(Xe=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow relative group",children:[jsxRuntimeExports.jsx("button",{onClick:()=>We(Xe.id),className:"absolute top-2 right-2 p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100",title:"Delete feedback",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-800 whitespace-pre-wrap mb-3 text-sm",children:Xe.message}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 border-t border-gray-100 pt-2 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-3 h-3"}),Xe.createdAt?.toLocaleString()||"Unknown date"]}),Xe.page&&jsxRuntimeExports.jsx("div",{className:"px-2 py-0.5 bg-gray-200 rounded text-[10px] font-mono truncate max-w-[150px]",children:Xe.page})]})]},Xe.id))})]})]})};console.log("[UnifiedMembersFinanceCardPage] file loaded");const monthLabelsBn=["","","","","","","","","","","",""],toDateSafe$1=Ve=>{try{return Ve?typeof Ve?.toDate=="function"?Ve.toDate():typeof Ve=="string"?new Date(Ve):Ve?.seconds?new Date(Ve.seconds*1e3):new Date(Ve):void 0}catch($e){console.warn("[UnifiedMembersFinanceCardPage] toDateSafe failed",$e);return}},UnifiedMembersFinanceCardPage=()=>{console.log("[UnifiedMembersFinanceCardPage] render start");const{isDemo:Ve}=useMode(),[$e,Be]=reactExports.useState(!0),[Ue,ze]=reactExports.useState([]),[qe,He]=reactExports.useState([]),[We,Ge]=reactExports.useState(void 0),Ye=reactExports.useMemo(()=>new Date().getFullYear(),[]),Xe=reactExports.useMemo(()=>new Date().getMonth(),[]);reactExports.useEffect(()=>{if(console.log("[UnifiedMembersFinanceCardPage] subscribing to members and transactions"),Ve()){console.log("[UnifiedMembersFinanceCardPage] Using demo data"),ze(demoMembers),He(demoTransactions.map(lr=>({...lr,memberId:lr.memberId||lr.userId,date:new Date(lr.date),month:new Date(lr.date).getMonth()}))),Be(!1);return}const ar=onSnapshot(collection(db,"members"),lr=>{const or=lr.docs.map(cr=>({id:cr.id,...cr.data()}));console.log("[UnifiedMembersFinanceCardPage] members updated",or.length),ze(or)},lr=>{console.error("[UnifiedMembersFinanceCardPage] members snapshot error",lr)}),sr=onSnapshot(collection(db,"transactions"),lr=>{const or=lr.docs.map(cr=>({id:cr.id,...cr.data()}));console.log("[UnifiedMembersFinanceCardPage] transactions updated",or.length),He(or),Be(!1)},lr=>{console.error("[UnifiedMembersFinanceCardPage] transactions snapshot error",lr),Be(!1)});return()=>{console.log("[UnifiedMembersFinanceCardPage] unsubscribing"),ar&&ar(),sr&&sr()}},[Ve]);const Je=reactExports.useMemo(()=>{const ar=new Set;qe.forEach(lr=>{const cr=(toDateSafe$1(lr.date)||toDateSafe$1(lr.createdAt))?.getFullYear?.();typeof cr=="number"&&ar.add(cr)});const sr=Array.from(ar).sort((lr,or)=>or-lr);return console.log("[UnifiedMembersFinanceCardPage] availableYears",sr),sr},[qe]);reactExports.useEffect(()=>{const ar=new Date().getFullYear();if(We)Je.length>0&&!Je.includes(We)&&(Ge(Je[0]),console.log("[UnifiedMembersFinanceCardPage] adjusted selectedYear",Je[0]));else{const sr=Je.includes(ar)?ar:Je[0];sr&&(Ge(sr),console.log("[UnifiedMembersFinanceCardPage] default selectedYear",sr))}},[Je,We]);const er=reactExports.useMemo(()=>{const ar=new Map;return qe.forEach(sr=>{const lr=sr.memberId||sr.userId||sr.uid;if(!lr)return;const or=toDateSafe$1(sr.date)||toDateSafe$1(sr.createdAt),cr=or?.getFullYear?.();let hr=typeof sr.month=="number"?sr.month:or?.getMonth?.();if(typeof cr!="number"||typeof hr!="number"||typeof We=="number"&&cr!==We)return;const yr=Number(sr.amount)||0;ar.has(lr)||ar.set(lr,{monthlyTotals:Array(12).fill(0),totalPaid:0});const mr=ar.get(lr);mr.monthlyTotals[hr]+=yr,mr.totalPaid+=yr}),console.log("[UnifiedMembersFinanceCardPage] aggregation built",ar.size),ar},[qe,We]),Ze=reactExports.useMemo(()=>{const ar=Array(12).fill(0);let sr=0,lr=0;return qe.forEach(or=>{const cr=toDateSafe$1(or.date)||toDateSafe$1(or.createdAt),hr=cr?.getFullYear?.();let yr=typeof or.month=="number"?or.month:cr?.getMonth?.();if(typeof hr!="number"||typeof yr!="number"||typeof We=="number"&&hr!==We)return;const mr=Number(or.amount)||0;ar[yr]+=mr,sr+=mr}),Ue.forEach(or=>{const cr=or.user_id||or.id||or.membershipId||or.memberId,hr=er.get(cr)||{totalPaid:0},mr=(Number(or.shareCount)||0)*500,vr=or.joiningDate??or.joinDate??or.createdAt,_r=toDateSafe$1(vr)||new Date(We||new Date().getFullYear(),0,1),Cr=_r?.getFullYear?.(),br=_r?.getMonth?.();let fr=0;typeof We=="number"&&typeof Cr=="number"&&(We<Ye?Cr<We?fr=12:Cr===We&&typeof br=="number"&&(fr=12-br):We===Ye?Cr<We?fr=Xe+1:Cr===We&&typeof br=="number"&&(fr=Math.max(0,Xe-br+1)):fr=0);const Sr=mr*Math.max(0,fr);let Dr=0;We===Cr&&(We<Ye||We===Ye&&typeof br=="number"&&br<=Xe)&&(Dr=mr);const Or=Sr+Dr-(hr.totalPaid||0);lr+=Math.max(0,Or)}),console.log("[UnifiedMembersFinanceCardPage] overall summary",{totalMembers:Ue.length,totalPaid:sr,totalDue:lr}),{monthlyTotals:ar,totalPaid:sr,totalDue:lr,totalMembers:Ue.length}},[qe,We,Ue,er]),rr=reactExports.useMemo(()=>{const ar=[...Ue].sort((sr,lr)=>{const or=toDateSafe$1(sr.createdAt)||new Date(0),cr=toDateSafe$1(lr.createdAt)||new Date(0);return or.getTime()!==cr.getTime()?or-cr:(sr.id||"").localeCompare(lr.id||"")});return console.log("[UnifiedMembersFinanceCardPage] sortedMembers built",{count:ar.length}),ar},[Ue]),nr=reactExports.useMemo(()=>{const ar=new Map;return rr.forEach((sr,lr)=>ar.set(sr.id,lr+1)),console.log("[UnifiedMembersFinanceCardPage] serialMap built",{size:ar.size}),ar},[rr]);return $e?jsxRuntimeExports.jsx("div",{className:"unified-finance-card",children:jsxRuntimeExports.jsx("div",{className:"unified-finance-card__container",children:jsxRuntimeExports.jsx("div",{className:"unified-finance-card__loading",children:jsxRuntimeExports.jsx(LoadingAnimation,{})})})}):(console.log("[UnifiedMembersFinanceCardPage] render table",{members:Ue.length}),jsxRuntimeExports.jsx("div",{className:"unified-finance-card",children:jsxRuntimeExports.jsxs("div",{className:"unified-finance-card__container",children:[jsxRuntimeExports.jsxs("div",{className:"unified-finance-card__header",children:[jsxRuntimeExports.jsx("h1",{className:"unified-finance-card__title",children:"  "}),jsxRuntimeExports.jsx("p",{className:"unified-finance-card__subtitle",children:"   "}),jsxRuntimeExports.jsxs("div",{className:"year-switcher",children:[jsxRuntimeExports.jsx("span",{className:"year-label",children:""}),jsxRuntimeExports.jsx("select",{className:"year-select",value:We??"",onChange:ar=>{const sr=parseInt(ar.target.value,10);Ge(sr),console.log("[UnifiedMembersFinanceCardPage] year selected",sr)},children:Je.map(ar=>jsxRuntimeExports.jsx("option",{value:ar,children:ar},ar))})]}),jsxRuntimeExports.jsxs("div",{className:"overall-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:" "}),jsxRuntimeExports.jsx("span",{className:"summary-value",children:Ze.totalMembers})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:" "}),jsxRuntimeExports.jsxs("span",{className:"summary-value summary-value-paid",children:[" ",Math.max(0,Ze.totalPaid).toLocaleString("bn-BD")]})]}),jsxRuntimeExports.jsxs("div",{className:"summary-item",children:[jsxRuntimeExports.jsx("span",{className:"summary-label",children:" "}),jsxRuntimeExports.jsxs("span",{className:"summary-value summary-value-due",children:[" ",Math.max(0,Ze.totalDue).toLocaleString("bn-BD")]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"unified-finance-card__table-wrapper",children:jsxRuntimeExports.jsxs("table",{className:"unified-finance-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:" ID"}),jsxRuntimeExports.jsx("th",{children:" "}),jsxRuntimeExports.jsx("th",{children:""}),monthLabelsBn.map((ar,sr)=>jsxRuntimeExports.jsx("th",{children:ar},sr)),jsxRuntimeExports.jsx("th",{children:" "}),jsxRuntimeExports.jsx("th",{children:" "})]})}),jsxRuntimeExports.jsx("tbody",{children:rr.map(ar=>{const sr=ar.user_id||ar.id||ar.membershipId||ar.memberId,lr=ar.name||"",or=Number(ar.shareCount)||0,cr=or*500,hr=er.get(sr)||{monthlyTotals:Array(12).fill(0),totalPaid:0},yr=hr.totalPaid||0,mr=ar.joiningDate??ar.joinDate??ar.createdAt,vr=toDateSafe$1(mr)||new Date(We||new Date().getFullYear(),0,1),_r=vr?.getFullYear?.(),Cr=vr?.getMonth?.();let br=0;typeof We=="number"&&typeof _r=="number"&&(We<Ye?_r<We?br=12:_r===We&&typeof Cr=="number"&&(br=12-Cr):We===Ye?_r<We?br=Xe+1:_r===We&&typeof Cr=="number"&&(br=Math.max(0,Xe-Cr+1)):br=0);const fr=cr*Math.max(0,br);let Sr=0;We===_r&&(We<Ye||We===Ye&&typeof Cr=="number"&&Cr<=Xe)&&(Sr=cr);const Dr=fr+Sr-yr;console.log("[UnifiedMembersFinanceCardPage] row due calc",{memberUid:sr,shareCount:or,monthlyRate:cr,monthsDueCount:br,plannedDue:fr,bonusDue:Sr,totalPaid:yr,totalDue:Dr});const Or=(vr?.getFullYear?.()??(We||0))*12+(vr?.getMonth?.()??0);return console.log("[UnifiedMembersFinanceCardPage] row join info",{memberUid:sr,joinDate:vr?.toISOString?.()||vr}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"cell-id",children:nr.get(ar.id)||"-"}),jsxRuntimeExports.jsx("td",{className:"cell-name",children:lr}),jsxRuntimeExports.jsx("td",{className:"cell-share",children:or}),hr.monthlyTotals.map((Er,Nr)=>{const Ar=(We||new Date().getFullYear())*12+Nr<Or,Lr=typeof We=="number"&&(We>Ye||We===Ye&&Nr>Xe);return jsxRuntimeExports.jsx("td",{className:"cell-month",children:Ar?"":Lr?jsxRuntimeExports.jsx("span",{className:"dash-cell",children:"-"}):Er>0?jsxRuntimeExports.jsxs("span",{className:"amount-cell",children:[" ",Er.toLocaleString("bn-BD")]}):jsxRuntimeExports.jsx("span",{className:"zero-cell",children:" 0"})},Nr)}),jsxRuntimeExports.jsxs("td",{className:"cell-total-paid",children:[" ",yr.toLocaleString("bn-BD")]}),jsxRuntimeExports.jsxs("td",{className:"cell-total-due",children:[" ",Math.max(0,Dr).toLocaleString("bn-BD")]})]},sr||ar.id)})})]})})]})}))};console.log("[MemberTablePage] file loaded");const toDateSafe=Ve=>{try{return Ve?typeof Ve?.toDate=="function"?Ve.toDate():typeof Ve=="string"?new Date(Ve):Ve?.seconds?new Date(Ve.seconds*1e3):new Date(Ve):void 0}catch($e){console.warn("[MemberTablePage] toDateSafe failed",$e);return}},MemberTablePage=()=>{console.log("[MemberTablePage] render start");const{currentUser:Ve}=useUser(),[$e,Be]=reactExports.useState(!0),[Ue,ze]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{try{if(Be(!0),!Ve){console.log("[MemberTablePage] no currentUser yet, waiting"),ze([]);return}const Ye=Ve?.uid||Ve?.id;console.log("[MemberTablePage] fetching transactions for user",{effectiveId:Ye});let Xe=[];const Je=await TransactionService.getTransactionsByUserId(Ye);if(Je.success?(Xe=Je.data||[],console.log("[MemberTablePage] getTransactionsByUserId result",{count:Xe.length})):console.error("[MemberTablePage] getTransactionsByUserId error",Je.error),!Xe.length){console.log("[MemberTablePage] fallback: filtering all transactions by member id variants");const Ze=await TransactionService.getAllTransactions();Ze.success?(Xe=(Ze.data||[]).filter(nr=>(nr.userId||nr.memberId||nr.uid||nr.member_id||nr.user_id)===Ye),console.log("[MemberTablePage] fallback filtered transactions",{count:Xe.length})):console.error("[MemberTablePage] getAllTransactions error",Ze.error)}const er=[...Xe].sort((Ze,rr)=>{const nr=toDateSafe(Ze.createdAt)||toDateSafe(Ze.date)||new Date(0);return(toDateSafe(rr.createdAt)||toDateSafe(rr.date)||new Date(0))-nr}).map((Ze,rr)=>({...Ze,serial:rr+1}));console.log("[MemberTablePage] transactions loaded",er.length),ze(er)}catch(Ye){console.error("[MemberTablePage] loadTransactions error",Ye),ze([])}finally{Be(!1)}})()},[Ve]);const qe=Ge=>{const Ye=toDateSafe(Ge);return Ye?Ye.toLocaleDateString("bn-BD"):""};if($e)return jsxRuntimeExports.jsx("div",{className:"member-table",children:jsxRuntimeExports.jsx("div",{className:"member-table__container",children:jsxRuntimeExports.jsx("div",{className:"member-table__loading",children:jsxRuntimeExports.jsx(LoadingAnimation,{})})})});console.log("[MemberTablePage] render table",{count:Ue.length});const He={monthly_deposit:{label:" ",tone:"pos"},share_purchase:{label:" ",tone:"pos"},loan_repayment:{label:" ",tone:"pos"},penalty:{label:"",tone:"pos"},donation:{label:"",tone:"pos"},loan_disbursement:{label:" ",tone:"neg"},profit_distribution:{label:" ",tone:"neg"},expense:{label:"",tone:"neg"},subscription:{label:"",tone:"pos"},withdrawal:{label:"",tone:"neg"}},We=Ge=>{const Ye=(Ge||"").toLowerCase();return He[Ye]||{label:Ge||"",tone:"neu"}};return jsxRuntimeExports.jsx("div",{className:"member-table",children:jsxRuntimeExports.jsxs("div",{className:"member-table__container",children:[jsxRuntimeExports.jsxs("div",{className:"member-table__header",children:[jsxRuntimeExports.jsx("h1",{className:"member-table__title",children:"  "}),jsxRuntimeExports.jsx("p",{className:"member-table__subtitle",children:" ,    "})]}),jsxRuntimeExports.jsx("div",{className:"member-table__wrapper",children:jsxRuntimeExports.jsxs("table",{className:"member-table__table member-table__table--rich",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:""}),jsxRuntimeExports.jsx("th",{children:""}),jsxRuntimeExports.jsx("th",{children:" "}),jsxRuntimeExports.jsx("th",{children:" "}),jsxRuntimeExports.jsx("th",{children:""}),jsxRuntimeExports.jsx("th",{children:""}),jsxRuntimeExports.jsx("th",{children:""})]})}),jsxRuntimeExports.jsx("tbody",{children:Ue.map(Ge=>{const{label:Ye,tone:Xe}=We(Ge.transactionType||Ge.type),Je=Number(Ge.amount)||0,er=Ge.paymentMethod||Ge.method||"",Ze=Ge.paymentReference||Ge.reference||"",rr=Ge.createdAt||Ge.date,nr=Ge.status||"completed",ar=Xe==="pos"?"amount-positive":Xe==="neg"?"amount-negative":"amount-neutral";return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"cell-serial",children:Ge.serial}),jsxRuntimeExports.jsx("td",{className:"cell-type",children:jsxRuntimeExports.jsx("span",{className:`badge badge--type badge--${Xe}`,children:Ye})}),jsxRuntimeExports.jsx("td",{className:`cell-amount ${ar}`,children:Je.toLocaleString("bn-BD")}),jsxRuntimeExports.jsx("td",{className:"cell-method",children:jsxRuntimeExports.jsx("span",{className:"badge badge--method",children:er||""})}),jsxRuntimeExports.jsx("td",{className:"cell-ref",children:Ze||""}),jsxRuntimeExports.jsx("td",{className:"cell-date",children:qe(rr)}),jsxRuntimeExports.jsx("td",{className:"cell-status",children:jsxRuntimeExports.jsx("span",{className:`badge badge--status status--${nr}`,children:nr})})]},Ge.id)})})]})})]})})},New=()=>{const[Ve,$e]=reactExports.useState([]),Be=(qe="")=>qe.trim().split(/\s+/).filter(Boolean).slice(0,2).map(Ge=>Ge[0]||"").join("").toUpperCase()||"M",Ue=(qe,He=128)=>{const We=Be(qe),Ge="#e2e8f0",Xe=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="${He}" height="${He}" viewBox="0 0 ${He} ${He}">
  <defs>
    <clipPath id="clip">
      <circle cx="${He/2}" cy="${He/2}" r="${He/2}" />
    </clipPath>
  </defs>
  <rect width="${He}" height="${He}" fill="${Ge}"/>
  <g clip-path="url(#clip)">
    <rect width="${He}" height="${He}" fill="${Ge}"/>
  </g>
  <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="${Math.round(He*.4)}" font-weight="700" fill="#1e293b">${We}</text>
</svg>`;return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(Xe)};reactExports.useEffect(()=>{console.log("[New] page mounted"),(async()=>{try{const He=await MemberService.getActiveMembers();He.success?(console.log("[New] loaded members",{count:He.data.length}),$e(He.data)):console.error("[New] load members failed",He.error)}catch(He){console.error("[New] load members error",He)}})()},[]);const ze=Ve.map(qe=>({id:qe.id,src:qe.photoURL||qe.avatar||Ue(qe.name),alt:qe.name||qe.membershipId||"Member",title:qe.name,description:qe.membershipId?`ID: ${qe.membershipId}`:void 0}));return reactExports.useEffect(()=>{console.log("[New] images prepared",{count:ze.length})},[ze.length]),jsxRuntimeExports.jsxs("div",{className:"w-full min-h-[60vh] flex flex-col items-center justify-center gap-6 p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-primary-600",children:"New Components"}),jsxRuntimeExports.jsx(SphereImageGrid,{images:ze,containerSize:420,sphereRadius:180,autoRotate:!0})]})},ModeSelector=()=>{const{user:Ve,logout:$e}=useAuth(),{switchMode:Be}=useMode(),Ue=useNavigate(),[ze,qe]=reactExports.useState(null),He=Ge=>{if(qe(Ge),sessionStorage.setItem("hasSeenModeSelector","true"),Ge==="demo"){const Ye=["admin","cashier","member"],Xe=Ye[Math.floor(Math.random()*Ye.length)];localStorage.setItem("somiti_token","demo-token"),localStorage.setItem("somiti_uid","demo-user"),localStorage.setItem("somiti_role",Xe),Be("demo"),console.log("[ModeSelector] Demo mode selected, reloading to initialize demo user"),setTimeout(()=>{window.location.href=`/#/${Xe}`,window.location.reload()},300)}else console.log("[ModeSelector] Production mode selected, performing logout"),$e(),Be("production"),localStorage.removeItem("somiti_token"),localStorage.removeItem("somiti_uid"),localStorage.removeItem("somiti_role"),setTimeout(()=>{Ue("/login",{replace:!0})},300)},We=[{id:"production",title:" ",subtitle:"Production Mode",description:"       ",features:["   ","Firebase  ","   "],icon:Database,color:"#3b82f6",bgColor:"#eff6ff"},{id:"demo",title:" ",subtitle:"Demo Mode",description:"       ",features:["   ","   ","  "],icon:TestTube,color:"#10b981",bgColor:"#f0fdf4"}];return jsxRuntimeExports.jsxs("div",{className:"mode-selector-container",children:[jsxRuntimeExports.jsx(Meta,{title:"  -   ",description:"     "}),jsxRuntimeExports.jsxs("div",{className:"mode-selector-content",children:[jsxRuntimeExports.jsxs("div",{className:"mode-selector-header",children:[jsxRuntimeExports.jsx("h1",{className:"mode-selector-title",children:"  "}),jsxRuntimeExports.jsx("p",{className:"mode-selector-subtitle",children:"     ?"})]}),jsxRuntimeExports.jsx("div",{className:"mode-cards-container",children:We.map(Ge=>{const Ye=Ge.icon,Xe=ze===Ge.id;return jsxRuntimeExports.jsxs("div",{className:`mode-card ${Xe?"selected":""}`,onClick:()=>He(Ge.id),children:[jsxRuntimeExports.jsx("div",{className:"mode-icon-wrapper",style:{backgroundColor:Ge.bgColor},children:jsxRuntimeExports.jsx(Ye,{size:32,strokeWidth:2,style:{color:Ge.color}})}),jsxRuntimeExports.jsxs("div",{className:"mode-content",children:[jsxRuntimeExports.jsx("h2",{className:"mode-title",children:Ge.title}),jsxRuntimeExports.jsx("p",{className:"mode-subtitle-en",children:Ge.subtitle}),jsxRuntimeExports.jsx("p",{className:"mode-description",children:Ge.description}),jsxRuntimeExports.jsx("ul",{className:"mode-features",children:Ge.features.map((Je,er)=>jsxRuntimeExports.jsxs("li",{className:"mode-feature",children:[jsxRuntimeExports.jsx(Check,{size:16,style:{color:Ge.color}}),jsxRuntimeExports.jsx("span",{children:Je})]},er))})]}),jsxRuntimeExports.jsxs("button",{className:"mode-select-btn",style:{backgroundColor:Ge.color,color:"white"},children:[jsxRuntimeExports.jsx("span",{children:" "}),jsxRuntimeExports.jsx(ArrowRight,{size:20})]}),Xe&&jsxRuntimeExports.jsx("div",{className:"selection-checkmark",style:{backgroundColor:Ge.color},children:jsxRuntimeExports.jsx(Check,{size:16,color:"white",strokeWidth:3})})]},Ge.id)})}),jsxRuntimeExports.jsx("div",{className:"mode-selector-footer",children:jsxRuntimeExports.jsx("p",{children:"        "})})]})]})},App=()=>jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(AppRoutes,{})}),AppRoutes=({helmetContext:Ve={}})=>jsxRuntimeExports.jsx(HelmetProvider,{context:Ve,children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(ModeProvider,{children:jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/secret3278",element:jsxRuntimeExports.jsx(SecretRoleSwitcher,{})}),jsxRuntimeExports.jsx(Route,{path:"/new",element:jsxRuntimeExports.jsx(New,{})}),jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/mode-selector",element:jsxRuntimeExports.jsx(ModeSelector,{})}),jsxRuntimeExports.jsx(Route,{path:"/*",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(MainApp,{})})})]})})})})}),MainApp=()=>{const{user:Ve}=useAuth();return jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:Ve?`/${Ve.role}`:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/admin",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin"],children:jsxRuntimeExports.jsx(AdminDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/members",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin"],children:jsxRuntimeExports.jsx(MemberList,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/treasury",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin"],children:jsxRuntimeExports.jsx(Treasury,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/notice-board",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin"],children:jsxRuntimeExports.jsx(NoticeBoard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/settings",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin"],children:jsxRuntimeExports.jsx(AdminSettings,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/investments",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin"],children:jsxRuntimeExports.jsx(InvestmentManagement,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/profit-distribution",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin"],children:jsxRuntimeExports.jsx(ProfitDistribution,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/share-tracking",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin"],children:jsxRuntimeExports.jsx(ShareTracking,{})})}),jsxRuntimeExports.jsx(Route,{path:"/add-transaction",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin","cashier"],children:jsxRuntimeExports.jsx(AddTransactionPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/cashier",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["cashier"],children:jsxRuntimeExports.jsx(CashierDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/cashier/transactions",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["cashier"],children:jsxRuntimeExports.jsx(Transactions,{})})}),jsxRuntimeExports.jsx(Route,{path:"/cashier/treasury",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["cashier"],children:jsxRuntimeExports.jsx(Treasury,{})})}),jsxRuntimeExports.jsx(Route,{path:"/cashier/add-transaction",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["cashier"],children:jsxRuntimeExports.jsx(AddTransactionPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/cashier/members",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["cashier"],children:jsxRuntimeExports.jsx(MemberList,{})})}),jsxRuntimeExports.jsx(Route,{path:"/cashier/settings",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["cashier"],children:jsxRuntimeExports.jsx(CashierSettings,{})})}),jsxRuntimeExports.jsx(Route,{path:"/cashier/unified-finance",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["cashier"],children:jsxRuntimeExports.jsx(UnifiedMembersFinanceCardPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/member",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["member","admin","cashier"],children:jsxRuntimeExports.jsx(MemberDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/member/financial-summary",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["member","admin","cashier"],children:jsxRuntimeExports.jsx(FinancialSummary,{})})}),jsxRuntimeExports.jsx(Route,{path:"/member/table",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["member","admin","cashier"],children:jsxRuntimeExports.jsx(MemberTablePage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/member/notice-board",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["member","admin"],children:jsxRuntimeExports.jsx(NoticeBoard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/member/members",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["member","admin","cashier"],children:jsxRuntimeExports.jsx(MemberList,{})})}),jsxRuntimeExports.jsx(Route,{path:"/member/profile",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["member","admin","cashier"],children:jsxRuntimeExports.jsx(ProfileSettings,{})})}),jsxRuntimeExports.jsx(Route,{path:"/member/settings",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["member","admin","cashier"],children:jsxRuntimeExports.jsx(MemberSettings,{})})}),jsxRuntimeExports.jsx(Route,{path:"/new",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin","cashier","member"],children:jsxRuntimeExports.jsx(New,{})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})})]})})},applyResponsiveRootFont=()=>{const Ve=window.innerWidth,$e=window.devicePixelRatio||1;let Be=Ve/520;$e>=3&&Ve<=400&&(Be-=.04),$e>=3.5&&Ve<=360&&(Be-=.06),Be=Math.max(.8,Math.min(1,Be));const Ue=Math.round(Be*1e4)/100;document.documentElement.style.fontSize=Ue+"%",console.log("[ResponsiveRootFont]",{width:Ve,dpr:$e,base:Be,fontSizePercent:Ue})};window.__responsiveRootFontAttached||(window.addEventListener("resize",applyResponsiveRootFont),window.addEventListener("orientationchange",applyResponsiveRootFont),window.__responsiveRootFontAttached=!0);applyResponsiveRootFont();clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{MapPin as M,_typeof as _,commonjsGlobal$2 as c,getDefaultExportFromCjs as g,jsxRuntimeExports as j,reactExports as r};
